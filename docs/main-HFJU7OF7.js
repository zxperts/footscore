var mS=Object.defineProperty,gS=Object.defineProperties;var _S=Object.getOwnPropertyDescriptors;var by=Object.getOwnPropertySymbols;var vS=Object.prototype.hasOwnProperty,yS=Object.prototype.propertyIsEnumerable;var Ey=(t,e,n)=>e in t?mS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||={})vS.call(e,n)&&Ey(t,n,e[n]);if(by)for(var n of by(e))yS.call(e,n)&&Ey(t,n,e[n]);return t},Y=(t,e)=>gS(t,_S(e));var T=(t,e,n)=>new Promise((i,r)=>{var o=c=>{try{a(n.next(c))}catch(l){r(l)}},s=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var Iy=null;var Zh=1,Xh=Symbol("SIGNAL");function we(t){let e=Iy;return Iy=t,e}var Ty={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wS(t){if(!(nf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zh)){if(!t.producerMustRecompute(t)&&!ef(t)){t.dirty=!1,t.lastCleanEpoch=Zh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Zh}}function xy(t){return t&&(t.nextProducerIndex=0),we(t)}function Dy(t,e){if(we(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(nf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)tf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ef(t){Lc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(wS(n),i!==n.version))return!0}return!1}function Sy(t){if(Lc(t),nf(t))for(let e=0;e<t.producerNode.length;e++)tf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function tf(t,e){if(CS(t),Lc(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)tf(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Lc(r),r.producerIndexOfThis[i]=e}}function nf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Lc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function CS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bS(){throw new Error}var ES=bS;function Ay(t){ES=t}function J(t){return typeof t=="function"}function Xr(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var jc=Xr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function tr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var $e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(J(i))try{i()}catch(o){e=o instanceof jc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{My(o)}catch(s){e=e??[],s instanceof jc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new jc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)My(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&tr(n,e)}remove(e){let{_finalizers:n}=this;n&&tr(n,e),e instanceof t&&e._removeParent(this)}};$e.EMPTY=(()=>{let t=new $e;return t.closed=!0,t})();var rf=$e.EMPTY;function Uc(t){return t instanceof $e||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function My(t){J(t)?t():t.unsubscribe()}var hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var eo={setTimeout(t,e,...n){let{delegate:i}=eo;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=eo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bc(t){eo.setTimeout(()=>{let{onUnhandledError:e}=hn;if(e)e(t);else throw t})}function Ns(){}var Py=of("C",void 0,void 0);function Ry(t){return of("E",void 0,t)}function Ny(t){return of("N",t,void 0)}function of(t,e,n){return{kind:t,value:e,error:n}}var nr=null;function to(t){if(hn.useDeprecatedSynchronousErrorHandling){let e=!nr;if(e&&(nr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=nr;if(nr=null,n)throw i}}else t()}function Oy(t){hn.useDeprecatedSynchronousErrorHandling&&nr&&(nr.errorThrown=!0,nr.error=t)}var ir=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uc(e)&&e.add(this)):this.destination=xS}static create(e,n,i){return new no(e,n,i)}next(e){this.isStopped?af(Ny(e),this):this._next(e)}error(e){this.isStopped?af(Ry(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?af(Py,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IS=Function.prototype.bind;function sf(t,e){return IS.call(t,e)}var cf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){$c(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){$c(i)}else $c(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$c(n)}}},no=class extends ir{constructor(e,n,i){super();let r;if(J(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&hn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&sf(e.next,o),error:e.error&&sf(e.error,o),complete:e.complete&&sf(e.complete,o)}):r=e}this.destination=new cf(r)}};function $c(t){hn.useDeprecatedSynchronousErrorHandling?Oy(t):Bc(t)}function TS(t){throw t}function af(t,e){let{onStoppedNotification:n}=hn;n&&eo.setTimeout(()=>n(t,e))}var xS={closed:!0,next:Ns,error:TS,complete:Ns};var io=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(t){return t}function lf(...t){return uf(t)}function uf(t){return t.length===0?Lt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=SS(n)?n:new no(n,i,r);return to(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=ky(i),new i((r,o)=>{let s=new no({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[io](){return this}pipe(...n){return uf(n)(this)}toPromise(n){return n=ky(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function ky(t){var e;return(e=t??hn.Promise)!==null&&e!==void 0?e:Promise}function DS(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function SS(t){return t&&t instanceof ir||DS(t)&&Uc(t)}function df(t){return J(t?.lift)}function fe(t){return e=>{if(df(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,i,r){return new hf(t,e,n,i,r)}var hf=class extends ir{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ro(){return fe((t,e)=>{let n=null;t._refCount++;let i=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var oo=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,df(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return ro()(this)}};var Fy=Xr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ct=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new qc(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Fy}next(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?rf:(this.currentObservers=null,o.push(n),new $e(()=>{this.currentObservers=null,tr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new qc(e,n),t})(),qc=class extends Ct{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:rf}};var st=class extends Ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var ff={now(){return(ff.delegate||Date).now()},delegate:void 0};var Gc=class extends $e{constructor(e,n){super()}schedule(e,n=0){return this}};var Os={setInterval(t,e,...n){let{delegate:i}=Os;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Os;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var so=class extends Gc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Os.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Os.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,tr(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ao=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};ao.now=ff.now;var co=class extends ao{constructor(e,n=ao.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var pf=new co(so);var zc=class extends so{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Hc=class extends co{};var mf=new Hc(zc);var jt=new ae(t=>t.complete());function Vy(t){return t&&J(t.schedule)}function Ly(t){return t[t.length-1]}function Wc(t){return J(Ly(t))?t.pop():void 0}function mi(t){return Vy(Ly(t))?t.pop():void 0}function gf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Uy(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(i.next(h))}catch(p){s(p)}}function c(h){try{l(i.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):r(h.value).then(a,c)}l((i=i.apply(t,e||[])).next())})}function jy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rr(t){return this instanceof rr?(this.v=t,this):new rr(t)}function By(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){i[y]&&(r[y]=function(S){return new Promise(function(M,F){o.push([y,S,M,F])>1||c(y,S)})},D&&(r[y]=D(r[y])))}function c(y,D){try{l(i[y](D))}catch(S){v(o[0][3],S)}}function l(y){y.value instanceof rr?Promise.resolve(y.value.v).then(h,p):v(o[0][2],y)}function h(y){c("next",y)}function p(y){c("throw",y)}function v(y,D){y(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}function $y(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jy=="function"?jy(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Kc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Qc(t){return J(t?.then)}function Yc(t){return J(t[io])}function Jc(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function Zc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xc=AS();function el(t){return J(t?.[Xc])}function tl(t){return By(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield rr(n.read());if(r)return yield rr(void 0);yield yield rr(i)}}finally{n.releaseLock()}})}function nl(t){return J(t?.getReader)}function Ge(t){if(t instanceof ae)return t;if(t!=null){if(Yc(t))return MS(t);if(Kc(t))return PS(t);if(Qc(t))return RS(t);if(Jc(t))return qy(t);if(el(t))return NS(t);if(nl(t))return OS(t)}throw Zc(t)}function MS(t){return new ae(e=>{let n=t[io]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PS(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function RS(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bc)})}function NS(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function qy(t){return new ae(e=>{kS(t,e).catch(n=>e.error(n))})}function OS(t){return qy(tl(t))}function kS(t,e){var n,i,r,o;return Uy(this,void 0,void 0,function*(){try{for(n=$y(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function At(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function gi(t,e=0){return fe((n,i)=>{n.subscribe(ce(i,r=>At(i,t,()=>i.next(r),e),()=>At(i,t,()=>i.complete(),e),r=>At(i,t,()=>i.error(r),e)))})}function _i(t,e=0){return fe((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function Gy(t,e){return Ge(t).pipe(_i(e),gi(e))}function zy(t,e){return Ge(t).pipe(_i(e),gi(e))}function Hy(t,e){return new ae(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function Wy(t,e){return new ae(n=>{let i;return At(n,e,()=>{i=t[Xc](),At(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>J(i?.return)&&i.return()})}function il(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{At(n,e,()=>{let i=t[Symbol.asyncIterator]();At(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Ky(t,e){return il(tl(t),e)}function Qy(t,e){if(t!=null){if(Yc(t))return Gy(t,e);if(Kc(t))return Hy(t,e);if(Qc(t))return zy(t,e);if(Jc(t))return il(t,e);if(el(t))return Wy(t,e);if(nl(t))return Ky(t,e)}throw Zc(t)}function ke(t,e){return e?Qy(t,e):Ge(t)}function H(...t){let e=mi(t);return ke(t,e)}function lo(t,e){let n=J(t)?t:()=>t,i=r=>r.error(n());return new ae(e?r=>e.schedule(i,0,r):i)}function _f(t){return!!t&&(t instanceof ae||J(t.lift)&&J(t.subscribe))}var Qn=Xr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return fe((n,i)=>{let r=0;n.subscribe(ce(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:FS}=Array;function VS(t,e){return FS(e)?t(...e):t(e)}function rl(t){return ee(e=>VS(t,e))}var{isArray:LS}=Array,{getPrototypeOf:jS,prototype:US,keys:BS}=Object;function ol(t){if(t.length===1){let e=t[0];if(LS(e))return{args:e,keys:null};if($S(e)){let n=BS(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function $S(t){return t&&typeof t=="object"&&jS(t)===US}function sl(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function ks(...t){let e=mi(t),n=Wc(t),{args:i,keys:r}=ol(t);if(i.length===0)return ke([],e);let o=new ae(qS(i,e,r?s=>sl(r,s):Lt));return n?o.pipe(rl(n)):o}function qS(t,e,n=Lt){return i=>{Yy(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)Yy(e,()=>{let l=ke(t[c],e),h=!1;l.subscribe(ce(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Yy(t,e,n){t?At(n,t,e):e()}function Jy(t,e,n,i,r,o,s,a){let c=[],l=0,h=0,p=!1,v=()=>{p&&!c.length&&!l&&e.complete()},y=S=>l<i?D(S):c.push(S),D=S=>{o&&e.next(S),l++;let M=!1;Ge(n(S,h++)).subscribe(ce(e,F=>{r?.(F),o?y(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;c.length&&l<i;){let F=c.shift();s?At(e,s,()=>D(F)):D(F)}v()}catch(F){e.error(F)}}))};return t.subscribe(ce(e,y,()=>{p=!0,v()})),()=>{a?.()}}function ze(t,e,n=1/0){return J(e)?ze((i,r)=>ee((o,s)=>e(i,o,r,s))(Ge(t(i,r))),n):(typeof e=="number"&&(n=e),fe((i,r)=>Jy(i,r,t,n)))}function uo(t=1/0){return ze(Lt,t)}function Zy(){return uo(1)}function ho(...t){return Zy()(ke(t,mi(t)))}function al(t){return new ae(e=>{Ge(t()).subscribe(e)})}function vf(...t){let e=Wc(t),{args:n,keys:i}=ol(t),r=new ae(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;Ge(n[h]).subscribe(ce(o,v=>{p||(p=!0,l--),a[h]=v},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(i?sl(i,a):a),o.complete())}))}});return e?r.pipe(rl(e)):r}function Mt(t,e){return fe((n,i)=>{let r=0;n.subscribe(ce(i,o=>t.call(e,o,r++)&&i.next(o)))})}function vi(t){return fe((e,n)=>{let i=null,r=!1,o;i=e.subscribe(ce(n,void 0,void 0,s=>{o=Ge(t(s,vi(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function Xy(t,e,n,i,r){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ce(s,h=>{let p=l++;c=a?t(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Yn(t,e){return J(e)?ze(t,e,1):ze(t,1)}function yi(t){return fe((e,n)=>{let i=!1;e.subscribe(ce(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Jn(t){return t<=0?()=>jt:fe((e,n)=>{let i=0;e.subscribe(ce(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function yf(t){return ee(()=>t)}function cl(t=GS){return fe((e,n)=>{let i=!1;e.subscribe(ce(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function GS(){return new Qn}function or(t){return fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Dn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Mt((r,o)=>t(r,o,i)):Lt,Jn(1),n?yi(e):cl(()=>new Qn))}function fo(t){return t<=0?()=>jt:fe((e,n)=>{let i=[];e.subscribe(ce(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function wf(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Mt((r,o)=>t(r,o,i)):Lt,fo(1),n?yi(e):cl(()=>new Qn))}function Cf(t,e){return fe(Xy(t,e,arguments.length>=2,!0))}function bf(...t){let e=mi(t);return fe((n,i)=>{(e?ho(t,n,e):ho(t,n)).subscribe(i)})}function Pt(t,e){return fe((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(ce(i,c=>{r?.unsubscribe();let l=0,h=o++;Ge(t(c,h)).subscribe(r=ce(i,p=>i.next(e?e(c,p,h,l++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ef(t){return fe((e,n)=>{Ge(t).subscribe(ce(n,()=>n.complete(),Ns)),!n.closed&&e.subscribe(n)})}function He(t,e,n){let i=J(t)||e||n?{next:t,error:e,complete:n}:t;return i?fe((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(ce(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Lt}var zS="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Ll(e,n)),this.code=e}};function Ll(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ks(t){return{toString:t}.toString()}var ll="__parameters__";function HS(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function Vw(t,e,n){return Ks(()=>{let i=HS(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(ll)?c[ll]:Object.defineProperty(c,ll,{value:[]})[ll];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Zn=globalThis;function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function WS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ew(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var KS=Me({__forward_ref__:Me});function It(t){return t.__forward_ref__=It,t.toString=function(){return Et(this())},t}function bt(t){return Lw(t)?t():t}function Lw(t){return typeof t=="function"&&t.hasOwnProperty(KS)&&t.__forward_ref__===It}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nt(t){return{providers:t.providers||[],imports:t.imports||[]}}function jl(t){return tw(t,Uw)||tw(t,Bw)}function jw(t){return jl(t)!==null}function tw(t,e){return t.hasOwnProperty(e)?t[e]:null}function QS(t){let e=t&&(t[Uw]||t[Bw]);return e||null}function nw(t){return t&&(t.hasOwnProperty(iw)||t.hasOwnProperty(YS))?t[iw]:null}var Uw=Me({\u0275prov:Me}),iw=Me({\u0275inj:Me}),Bw=Me({ngInjectableDef:Me}),YS=Me({ngInjectorDef:Me}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $w(t){return t&&!!t.\u0275providers}var JS=Me({\u0275cmp:Me}),ZS=Me({\u0275dir:Me}),XS=Me({\u0275pipe:Me}),eA=Me({\u0275mod:Me}),_l=Me({\u0275fac:Me}),Fs=Me({__NG_ELEMENT_ID__:Me}),rw=Me({__NG_ENV_ID__:Me});function Vs(t){return typeof t=="string"?t:t==null?"":String(t)}function tA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Vs(t)}function nA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Dp(t,e){throw new $(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),Uf;function qw(){return Uf}function Rt(t){let e=Uf;return Uf=t,e}function Gw(t,e,n){let i=jl(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&oe.Optional)return null;if(e!==void 0)return e;Dp(t,"Injector")}var iA={},Ls=iA,Bf="__NG_DI_FLAG__",vl="ngTempTokenPath",rA="ngTokenPath",oA=/\n/gm,sA="\u0275",ow="__source",vo;function aA(){return vo}function wi(t){let e=vo;return vo=t,e}function cA(t,e=oe.Default){if(vo===void 0)throw new $(-203,!1);return vo===null?Gw(t,void 0,e):vo.get(t,e&oe.Optional?null:void 0,e)}function B(t,e=oe.Default){return(qw()||cA)(bt(t),e)}function O(t,e=oe.Default){return B(t,Ul(e))}function Ul(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $f(t){let e=[];for(let n=0;n<t.length;n++){let i=bt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new $(900,!1);let r,o=oe.Default;for(let s=0;s<i.length;s++){let a=i[s],c=lA(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(B(r,o))}else e.push(B(i))}return e}function zw(t,e){return t[Bf]=e,t.prototype[Bf]=e,t}function lA(t){return t[Bf]}function uA(t,e,n,i){let r=t[vl];throw e[ow]&&r.unshift(e[ow]),t.message=dA(`
`+t.message,r,n,i),t[rA]=r,t[vl]=null,t}function dA(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==sA?t.slice(2):t;let r=Et(e);if(Array.isArray(e))r=e.map(Et).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(oA,`
  `)}`}var Xt=zw(Vw("Optional"),8);var Sp=zw(Vw("SkipSelf"),4);function lr(t,e){let n=t.hasOwnProperty(_l);return n?t[_l]:null}function Ap(t,e){t.forEach(n=>Array.isArray(n)?Ap(n,e):e(n))}function Hw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hA(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function fA(t,e,n){let i=Qs(t,e);return i>=0?t[i|1]=n:(i=~i,hA(t,i,e,n)),i}function If(t,e){let n=Qs(t,e);if(n>=0)return t[n|1]}function Qs(t,e){return pA(t,e,1)}function pA(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var wo={},Yt=[],Co=new U(""),Ww=new U("",-1),Kw=new U(""),wl=class{get(e,n=Ls){if(n===Ls){let i=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw i.name="NullInjectorError",i}return n}},Qw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Qw||{}),Mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Mn||{}),at=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(at||{});function mA(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function qf(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];_A(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function gA(t){return t===3||t===4||t===6}function _A(t){return t.charCodeAt(0)===64}function js(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?sw(t,n,r,null,e[++i]):sw(t,n,r,null,null))}}return t}function sw(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var Yw="ng-template";function vA(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&mA(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Mp(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Mp(t){return t.type===4&&t.value!==Yw}function yA(t,e,n){let i=t.type===4&&!n?Yw:t.value;return e===i}function wA(t,e,n){let i=4,r=t.attrs,o=r!==null?EA(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!fn(i)&&!fn(c))return!1;if(s&&fn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!yA(t,c,n)||c===""&&e.length===1){if(fn(i))return!1;s=!0}}else if(i&8){if(r===null||!vA(t,r,c,n)){if(fn(i))return!1;s=!0}}else{let l=e[++a],h=CA(c,r,Mp(t),n);if(h===-1){if(fn(i))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=r[h+1].toLowerCase(),i&2&&l!==p){if(fn(i))return!1;s=!0}}}}return fn(i)||s}function fn(t){return(t&1)===0}function CA(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return IA(e,t)}function bA(t,e,n=!1){for(let i=0;i<e.length;i++)if(wA(t,e[i],n))return!0;return!1}function EA(t){for(let e=0;e<t.length;e++){let n=t[e];if(gA(n))return e}return t.length}function IA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function aw(t,e){return t?":not("+e.trim()+")":e}function TA(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!fn(s)&&(e+=aw(o,r),r=""),i=s,o=o||!fn(i);n++}return r!==""&&(e+=aw(o,r)),e}function xA(t){return t.map(TA).join(",")}function DA(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!fn(r))break;r=o}i++}return{attrs:e,classes:n}}function Di(t){return Ks(()=>{let e=tC(t),n=Y(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Qw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Mn.Emulated,styles:t.styles||Yt,_:null,schemas:t.schemas||null,tView:null,id:""});nC(n);let i=t.dependencies;return n.directiveDefs=lw(i,!1),n.pipeDefs=lw(i,!0),n.id=MA(n),n})}function SA(t){return bi(t)||Jw(t)}function AA(t){return t!==null}function Ot(t){return Ks(()=>({type:t.type,bootstrap:t.bootstrap||Yt,declarations:t.declarations||Yt,imports:t.imports||Yt,exports:t.exports||Yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cw(t,e){if(t==null)return wo;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=at.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==at.None?[i,a]:i,e[o]=s):n[o]=i}return n}function Pe(t){return Ks(()=>{let e=tC(t);return nC(e),e})}function Bl(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function bi(t){return t[JS]||null}function Jw(t){return t[ZS]||null}function Zw(t){return t[XS]||null}function Xw(t){let e=bi(t)||Jw(t)||Zw(t);return e!==null?e.standalone:!1}function eC(t,e){let n=t[eA]||null;if(!n&&e===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function tC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||wo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cw(t.inputs,e),outputs:cw(t.outputs),debugInfo:null}}function nC(t){t.features?.forEach(e=>e(t))}function lw(t,e){if(!t)return null;let n=e?Zw:SA;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(AA)}function MA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ao(t){return{\u0275providers:t}}function Pp(...t){return{\u0275providers:iC(!0,t),\u0275fromNgModule:!0}}function iC(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return Ap(e,s=>{let a=s;Gf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&rC(r,o),n}function rC(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Rp(r,o=>{e(o,i)})}}function Gf(t,e,n,i){if(t=bt(t),!t)return!1;let r=null,o=nw(t),s=!o&&bi(t);if(!o&&!s){let c=t.ngModule;if(o=nw(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Gf(l,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{Ap(o.imports,h=>{Gf(h,e,n,i)&&(l||=[],l.push(h))})}finally{}l!==void 0&&rC(l,e)}if(!a){let l=lr(r)||(()=>new r);e({provide:r,useFactory:l,deps:Yt},r),e({provide:Kw,useValue:r,multi:!0},r),e({provide:Co,useValue:()=>B(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=t;Rp(c,h=>{e(h,l)})}}else return!1;return r!==t&&t.providers!==void 0}function Rp(t,e){for(let n of t)$w(n)&&(n=n.\u0275providers),Array.isArray(n)?Rp(n,e):e(n)}var PA=Me({provide:String,useValue:Me});function oC(t){return t!==null&&typeof t=="object"&&PA in t}function RA(t){return!!(t&&t.useExisting)}function NA(t){return!!(t&&t.useFactory)}function bo(t){return typeof t=="function"}function OA(t){return!!t.useClass}var $l=new U(""),hl={},kA={},Tf;function Np(){return Tf===void 0&&(Tf=new wl),Tf}var ft=class{},Us=class extends ft{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hf(e,s=>this.processProvider(s)),this.records.set(Ww,po(void 0,this)),r.has("environment")&&this.records.set(ft,po(void 0,this));let o=this.records.get($l);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Kw,Yt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=we(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=wi(this),i=Rt(void 0),r;try{return e()}finally{wi(n),Rt(i)}}get(e,n=Ls,i=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(rw))return e[rw](this);i=Ul(i);let r,o=wi(this),s=Rt(void 0);try{if(!(i&oe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=UA(e)&&jl(e);l&&this.injectableDefInScope(l)?c=po(zf(e),hl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&oe.Self?Np():this.parent;return n=i&oe.Optional&&n===Ls?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[vl]=a[vl]||[]).unshift(Et(e)),o)throw a;return uA(a,e,"R3InjectorError",this.source)}else throw a}finally{Rt(s),wi(o)}}resolveInjectorInitializers(){let e=we(null),n=wi(this),i=Rt(void 0),r;try{let o=this.get(Co,Yt,oe.Self);for(let s of o)s()}finally{wi(n),Rt(i),we(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Et(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=bt(e);let n=bo(e)?e:bt(e&&e.provide),i=VA(e);if(!bo(e)&&e.multi===!0){let r=this.records.get(n);r||(r=po(void 0,hl,!0),r.factory=()=>$f(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=we(null);try{return n.value===hl&&(n.value=kA,n.value=n.factory()),typeof n.value=="object"&&n.value&&jA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{we(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=bt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function zf(t){let e=jl(t),n=e!==null?e.factory:lr(t);if(n!==null)return n;if(t instanceof U)throw new $(204,!1);if(t instanceof Function)return FA(t);throw new $(204,!1)}function FA(t){if(t.length>0)throw new $(204,!1);let n=QS(t);return n!==null?()=>n.factory(t):()=>new t}function VA(t){if(oC(t))return po(void 0,t.useValue);{let e=sC(t);return po(e,hl)}}function sC(t,e,n){let i;if(bo(t)){let r=bt(t);return lr(r)||zf(r)}else if(oC(t))i=()=>bt(t.useValue);else if(NA(t))i=()=>t.useFactory(...$f(t.deps||[]));else if(RA(t))i=()=>B(bt(t.useExisting));else{let r=bt(t&&(t.useClass||t.provide));if(LA(t))i=()=>new r(...$f(t.deps));else return lr(r)||zf(r)}return i}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function LA(t){return!!t.deps}function jA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function UA(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function Hf(t,e){for(let n of t)Array.isArray(n)?Hf(n,e):n&&$w(n)?Hf(n.\u0275providers,e):e(n)}function gn(t,e){t instanceof Us&&t.assertNotDestroyed();let n,i=wi(t),r=Rt(void 0);try{return e()}finally{wi(i),Rt(r)}}function aC(){return qw()!==void 0||aA()!=null}function BA(t){if(!aC())throw new $(-203,!1)}function $A(t){return typeof t=="function"}var ti=0,le=1,K=2,pt=3,pn=4,_n=5,Cl=6,Bs=7,mn=8,Eo=9,Pn=10,We=11,$s=12,uw=13,Mo=14,Rn=15,ql=16,mo=17,Io=18,Gl=19,cC=20,Ci=21,xf=22,ur=23,Zt=25,lC=1;var dr=7,bl=8,El=9,Jt=10,Op=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Op||{});function ar(t){return Array.isArray(t)&&typeof t[lC]=="object"}function ni(t){return Array.isArray(t)&&t[lC]===!0}function kp(t){return(t.flags&4)!==0}function zl(t){return t.componentOffset>-1}function Hl(t){return(t.flags&1)===1}function Ei(t){return!!t.template}function qA(t){return(t[K]&512)!==0}var Wf=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function uC(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function ii(){return dC}function dC(t){return t.type.prototype.ngOnChanges&&(t.setInput=zA),GA}ii.ngInherit=!0;function GA(){let t=fC(this),e=t?.current;if(e){let n=t.previous;if(n===wo)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function zA(t,e,n,i,r){let o=this.declaredInputs[i],s=fC(t)||HA(t,{previous:wo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Wf(l&&l.currentValue,n,c===wo),uC(t,e,r,n)}var hC="__ngSimpleChanges__";function fC(t){return t[hC]||null}function HA(t,e){return t[hC]=e}var dw=null;var Sn=function(t,e,n){dw?.(t,e,n)},WA="svg",KA="math",QA=!1;function YA(){return QA}function Nn(t){for(;Array.isArray(t);)t=t[ti];return t}function pC(t,e){return Nn(e[t])}function en(t,e){return Nn(e[t.index])}function mC(t,e){return t.data[e]}function gC(t,e){return t[e]}function Si(t,e){let n=e[t];return ar(n)?n:n[ti]}function Fp(t){return(t[K]&128)===128}function JA(t){return ni(t[pt])}function To(t,e){return e==null?null:t[e]}function _C(t){t[mo]=0}function ZA(t){t[K]&1024||(t[K]|=1024,Fp(t)&&qs(t))}function XA(t,e){for(;t>0;)e=e[Mo],t--;return e}function Vp(t){return!!(t[K]&9216||t[ur]?.dirty)}function Kf(t){t[Pn].changeDetectionScheduler?.notify(1),Vp(t)?qs(t):t[K]&64&&(YA()?(t[K]|=1024,qs(t)):t[Pn].changeDetectionScheduler?.notify())}function qs(t){t[Pn].changeDetectionScheduler?.notify();let e=Gs(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Fp(e)));)e=Gs(e)}function vC(t,e){if((t[K]&256)===256)throw new $(911,!1);t[Ci]===null&&(t[Ci]=[]),t[Ci].push(e)}function eM(t,e){if(t[Ci]===null)return;let n=t[Ci].indexOf(e);n!==-1&&t[Ci].splice(n,1)}function Gs(t){let e=t[pt];return ni(e)?e[pt]:e}var se={lFrame:xC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tM(){return se.lFrame.elementDepthCount}function nM(){se.lFrame.elementDepthCount++}function iM(){se.lFrame.elementDepthCount--}function yC(){return se.bindingsEnabled}function rM(){return se.skipHydrationRootTNode!==null}function oM(t){return se.skipHydrationRootTNode===t}function sM(){se.skipHydrationRootTNode=null}function ve(){return se.lFrame.lView}function mt(){return se.lFrame.tView}function C(t){return se.lFrame.contextLView=t,t[mn]}function b(t){return se.lFrame.contextLView=null,t}function kt(){let t=wC();for(;t!==null&&t.type===64;)t=t.parent;return t}function wC(){return se.lFrame.currentTNode}function aM(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function gr(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function Lp(){return se.lFrame.isParent}function CC(){se.lFrame.isParent=!1}function Ys(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function cM(){return se.lFrame.bindingIndex}function lM(t){return se.lFrame.bindingIndex=t}function Wl(){return se.lFrame.bindingIndex++}function bC(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function uM(){return se.lFrame.inI18n}function dM(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,Qf(e)}function hM(){return se.lFrame.currentDirectiveIndex}function Qf(t){se.lFrame.currentDirectiveIndex=t}function fM(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function EC(t){se.lFrame.currentQueryIndex=t}function pM(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[_n]:null}function IC(t,e,n){if(n&oe.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&oe.Host);)if(r=pM(o),r===null||(o=o[Mo],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=se.lFrame=TC();return i.currentTNode=e,i.lView=t,!0}function jp(t){let e=TC(),n=t[le];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function TC(){let t=se.lFrame,e=t===null?null:t.child;return e===null?xC(t):e}function xC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function DC(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var SC=DC;function Up(){let t=DC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mM(t){return(se.lFrame.contextLView=XA(t,se.lFrame.contextLView))[mn]}function _r(){return se.lFrame.selectedIndex}function hr(t){se.lFrame.selectedIndex=t}function Bp(){let t=se.lFrame;return mC(t.tView,t.selectedIndex)}function gM(){return se.lFrame.currentNamespace}var AC=!0;function Kl(){return AC}function Ql(t){AC=t}function _M(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=dC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Yl(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function fl(t,e,n){MC(t,e,3,n)}function pl(t,e,n,i){(t[K]&3)===n&&MC(t,e,n,i)}function Df(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function MC(t,e,n,i){let r=i!==void 0?t[mo]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[mo]+=65536),(a<o||o==-1)&&(vM(t,n,e,c),t[mo]=(t[mo]&4294901760)+c+2),c++}function hw(t,e){Sn(4,t,e);let n=we(null);try{e.call(t)}finally{we(n),Sn(5,t,e)}}function vM(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[K]>>14<t[mo]>>16&&(t[K]&3)===e&&(t[K]+=16384,hw(a,o)):hw(a,o)}var yo=-1,fr=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function yM(t){return t instanceof fr}function wM(t){return(t.flags&8)!==0}function CM(t){return(t.flags&16)!==0}function PC(t){return t!==yo}function Il(t){return t&32767}function bM(t){return t>>16}function Tl(t,e){let n=bM(t),i=e;for(;n>0;)i=i[Mo],n--;return i}var Yf=!0;function xl(t){let e=Yf;return Yf=t,e}var EM=256,RC=EM-1,NC=5,IM=0,An={};function TM(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Fs)&&(i=n[Fs]),i==null&&(i=n[Fs]=IM++);let r=i&RC,o=1<<r;e.data[t+(r>>NC)]|=o}function Dl(t,e){let n=OC(t,e);if(n!==-1)return n;let i=e[le];i.firstCreatePass&&(t.injectorIndex=e.length,Sf(i.data,t),Sf(e,null),Sf(i.blueprint,null));let r=$p(t,e),o=t.injectorIndex;if(PC(r)){let s=Il(r),a=Tl(r,e),c=a[le].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Sf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function OC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function $p(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=jC(r),i===null)return yo;if(n++,r=r[Mo],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return yo}function Jf(t,e,n){TM(t,e,n)}function kC(t,e,n){if(n&oe.Optional||t!==void 0)return t;Dp(e,"NodeInjector")}function FC(t,e,n,i){if(n&oe.Optional&&i===void 0&&(i=null),!(n&(oe.Self|oe.Host))){let r=t[Eo],o=Rt(void 0);try{return r?r.get(e,i,n&oe.Optional):Gw(e,i,n&oe.Optional)}finally{Rt(o)}}return kC(i,e,n)}function VC(t,e,n,i=oe.Default,r){if(t!==null){if(e[K]&2048&&!(i&oe.Self)){let s=MM(t,e,n,i,An);if(s!==An)return s}let o=LC(t,e,n,i,An);if(o!==An)return o}return FC(e,n,i,r)}function LC(t,e,n,i,r){let o=SM(n);if(typeof o=="function"){if(!IC(e,t,i))return i&oe.Host?kC(r,n,i):FC(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&oe.Optional))Dp(n);else return s}finally{SC()}}else if(typeof o=="number"){let s=null,a=OC(t,e),c=yo,l=i&oe.Host?e[Rn][_n]:null;for((a===-1||i&oe.SkipSelf)&&(c=a===-1?$p(t,e):e[a+8],c===yo||!pw(i,!1)?a=-1:(s=e[le],a=Il(c),e=Tl(c,e)));a!==-1;){let h=e[le];if(fw(o,a,h.data)){let p=xM(a,e,n,s,i,l);if(p!==An)return p}c=e[a+8],c!==yo&&pw(i,e[le].data[a+8]===l)&&fw(o,a,e)?(s=h,a=Il(c),e=Tl(c,e)):a=-1}}return r}function xM(t,e,n,i,r,o){let s=e[le],a=s.data[t+8],c=i==null?zl(a)&&Yf:i!=s&&(a.type&3)!==0,l=r&oe.Host&&o===a,h=DM(a,s,n,c,l);return h!==null?xo(e,s,h,a):An}function DM(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,h=o>>20,p=i?a:a+h,v=r?a+h:l;for(let y=p;y<v;y++){let D=s[y];if(y<c&&n===D||y>=c&&D.type===n)return y}if(r){let y=s[c];if(y&&Ei(y)&&y.type===n)return c}return null}function xo(t,e,n,i){let r=t[n],o=e.data;if(yM(r)){let s=r;s.resolving&&nA(tA(o[n]));let a=xl(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Rt(s.injectImpl):null,h=IC(t,i,oe.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&_M(n,o[n],e)}finally{l!==null&&Rt(l),xl(a),s.resolving=!1,SC()}}return r}function SM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fs)?t[Fs]:void 0;return typeof e=="number"?e>=0?e&RC:AM:e}function fw(t,e,n){let i=1<<t;return!!(n[e+(t>>NC)]&i)}function pw(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var cr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return VC(this._tNode,this._lView,e,Ul(i),n)}};function AM(){return new cr(kt(),ve())}function tn(t){return Ks(()=>{let e=t.prototype.constructor,n=e[_l]||Zf(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[_l]||Zf(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Zf(t){return Lw(t)?()=>{let e=Zf(bt(t));return e&&e()}:lr(t)}function MM(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let a=LC(o,s,n,i|oe.Self,An);if(a!==An)return a;let c=o.parent;if(!c){let l=s[cC];if(l){let h=l.get(n,An,i);if(h!==An)return h}c=jC(s),s=s[Mo]}o=c}return r}function jC(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[_n]:null}function mw(t,e=null,n=null,i){let r=UC(t,e,n,i);return r.resolveInjectorInitializers(),r}function UC(t,e=null,n=null,i,r=new Set){let o=[n||Yt,Pp(t)];return i=i||(typeof t=="object"?void 0:Et(t)),new Us(o,e||Np(),i||null,r)}var Ft=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ls}static{this.NULL=new wl}static create(n,i){if(Array.isArray(n))return mw({name:""},i,n,"");{let r=n.name??"";return mw({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=j({token:t,providedIn:"any",factory:()=>B(Ww)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var PM="ngOriginalError";function Af(t){return t[PM]}var On=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Af(e);for(;n&&Af(n);)n=Af(n);return n||null}},BC=new U("",{providedIn:"root",factory:()=>O(On).handleError.bind(void 0)}),qp=(()=>{class t{static{this.__NG_ELEMENT_ID__=RM}static{this.__NG_ENV_ID__=n=>n}}return t})(),Xf=class extends qp{constructor(e){super(),this._lView=e}onDestroy(e){return vC(this._lView,e),()=>eM(this._lView,e)}};function RM(){return new Xf(ve())}function NM(){return Jl(kt(),ve())}function Jl(t,e){return new vn(en(t,e))}var vn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=NM}}return t})();var ep=class extends Ct{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,aC()&&(this.destroyRef=O(qp,{optional:!0})??void 0)}emit(e){let n=we(null);try{super.next(e)}finally{we(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Mf(o),r&&(r=Mf(r)),s&&(s=Mf(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof $e&&e.add(a),a}};function Mf(t){return e=>{setTimeout(t,void 0,e)}}var Fe=ep;function $C(t){return(t.flags&128)===128}var qC=new Map,OM=0;function kM(){return OM++}function FM(t){qC.set(t[Gl],t)}function VM(t){qC.delete(t[Gl])}var gw="__ngContext__";function Ii(t,e){ar(e)?(t[gw]=e[Gl],FM(e)):t[gw]=e}function GC(t){return HC(t[$s])}function zC(t){return HC(t[pn])}function HC(t){for(;t!==null&&!ni(t);)t=t[pn];return t}var tp;function WC(t){tp=t}function LM(){if(tp!==void 0)return tp;if(typeof document<"u")return document;throw new $(210,!1)}var Gp=new U("",{providedIn:"root",factory:()=>jM}),jM="ng",zp=new U(""),nn=new U("",{providedIn:"platform",factory:()=>"unknown"});var Hp=new U("",{providedIn:"root",factory:()=>LM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var UM="h",BM="b";var $M=()=>null;function Wp(t,e,n=!1){return $M(t,e,n)}var KC=!1,qM=new U("",{providedIn:"root",factory:()=>KC});var np=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zS})`}};function Kp(t){return t instanceof np?t.changingThisBreaksApplicationSecurity:t}var GM=/^>|^->|<!--|-->|--!>|<!-$/g,zM=/(<|>)/g,HM="\u200B$1\u200B";function WM(t){return t.replace(GM,e=>e.replace(zM,HM))}function QC(t){return t instanceof Function?t():t}function KM(t){return(t??O(Ft)).get(nn)==="browser"}var Xn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xn||{}),QM;function Qp(t,e){return QM(t,e)}function go(t,e,n,i,r){if(i!=null){let o,s=!1;ni(i)?o=i:ar(i)&&(s=!0,i=i[ti]);let a=Nn(i);t===0&&n!==null?r==null?eb(e,n,a):Sl(e,n,a,r||null,!0):t===1&&n!==null?Sl(e,n,a,r||null,!0):t===2?fP(e,a,s):t===3&&e.destroyNode(a),o!=null&&mP(e,t,o,n,r)}}function YM(t,e){return t.createText(e)}function JM(t,e,n){t.setValue(e,n)}function ZM(t,e){return t.createComment(WM(e))}function YC(t,e,n){return t.createElement(e,n)}function XM(t,e){JC(t,e),e[ti]=null,e[_n]=null}function eP(t,e,n,i,r,o){i[ti]=r,i[_n]=e,Xl(t,i,n,1,r,o)}function JC(t,e){e[Pn].changeDetectionScheduler?.notify(1),Xl(t,e,e[We],2,null,null)}function tP(t){let e=t[$s];if(!e)return Pf(t[le],t);for(;e;){let n=null;if(ar(e))n=e[$s];else{let i=e[Jt];i&&(n=i)}if(!n){for(;e&&!e[pn]&&e!==t;)ar(e)&&Pf(e[le],e),e=e[pt];e===null&&(e=t),ar(e)&&Pf(e[le],e),n=e&&e[pn]}e=n}}function nP(t,e,n,i){let r=Jt+i,o=n.length;i>0&&(n[r-1][pn]=e),i<o-Jt?(e[pn]=n[r],Hw(n,Jt+i,e)):(n.push(e),e[pn]=null),e[pt]=n;let s=e[ql];s!==null&&n!==s&&iP(s,e);let a=e[Io];a!==null&&a.insertView(t),Kf(e),e[K]|=128}function iP(t,e){let n=t[El],r=e[pt][pt][Rn];e[Rn]!==r&&(t[K]|=Op.HasTransplantedViews),n===null?t[El]=[e]:n.push(e)}function ZC(t,e){let n=t[El],i=n.indexOf(e);n.splice(i,1)}function ip(t,e){if(t.length<=Jt)return;let n=Jt+e,i=t[n];if(i){let r=i[ql];r!==null&&r!==t&&ZC(r,i),e>0&&(t[n-1][pn]=i[pn]);let o=yl(t,Jt+e);XM(i[le],i);let s=o[Io];s!==null&&s.detachView(o[le]),i[pt]=null,i[pn]=null,i[K]&=-129}return i}function XC(t,e){if(!(e[K]&256)){let n=e[We];n.destroyNode&&Xl(t,e,n,3,null,null),tP(e)}}function Pf(t,e){if(e[K]&256)return;let n=we(null);try{e[K]&=-129,e[K]|=256,e[ur]&&Sy(e[ur]),oP(t,e),rP(t,e),e[le].type===1&&e[We].destroy();let i=e[ql];if(i!==null&&ni(e[pt])){i!==e[pt]&&ZC(i,e);let r=e[Io];r!==null&&r.detachView(t)}VM(e)}finally{we(n)}}function rP(t,e){let n=t.cleanup,i=e[Bs];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Bs]=null);let r=e[Ci];if(r!==null){e[Ci]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function oP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof fr)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Sn(4,a,c);try{c.call(a)}finally{Sn(5,a,c)}}else{Sn(4,r,o);try{o.call(r)}finally{Sn(5,r,o)}}}}}function sP(t,e,n){return aP(t,e.parent,n)}function aP(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[ti];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Mn.None||o===Mn.Emulated)return null}return en(i,n)}}function Sl(t,e,n,i,r){t.insertBefore(e,n,i,r)}function eb(t,e,n){t.appendChild(e,n)}function _w(t,e,n,i,r){i!==null?Sl(t,e,n,i,r):eb(t,e,n)}function cP(t,e,n,i){t.removeChild(e,n,i)}function Yp(t,e){return t.parentNode(e)}function lP(t,e){return t.nextSibling(e)}function uP(t,e,n){return hP(t,e,n)}function dP(t,e,n){return t.type&40?en(t,n):null}var hP=dP,vw;function Zl(t,e,n,i){let r=sP(t,i,e),o=e[We],s=i.parent||e[_n],a=uP(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)_w(o,r,n[c],a,!1);else _w(o,r,n,a,!1);vw!==void 0&&vw(o,i,e,n,r)}function ml(t,e){if(e!==null){let n=e.type;if(n&3)return en(e,t);if(n&4)return rp(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return ml(t,i);{let r=t[e.index];return ni(r)?rp(-1,r):Nn(r)}}else{if(n&32)return Qp(e,t)()||Nn(t[e.index]);{let i=tb(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Gs(t[Rn]);return ml(r,i)}else return ml(t,e.next)}}}return null}function tb(t,e){if(e!==null){let i=t[Rn][_n],r=e.projection;return i.projection[r]}return null}function rp(t,e){let n=Jt+t+1;if(n<e.length){let i=e[n],r=i[le].firstChild;if(r!==null)return ml(i,r)}return e[dr]}function fP(t,e,n){let i=Yp(t,e);i&&cP(t,i,e,n)}function Jp(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],c=n.type;if(s&&e===0&&(a&&Ii(Nn(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)Jp(t,e,n.child,i,r,o,!1),go(e,t,r,a,o);else if(c&32){let l=Qp(n,i),h;for(;h=l();)go(e,t,r,h,o);go(e,t,r,a,o)}else c&16?pP(t,e,i,n,r,o):go(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Xl(t,e,n,i,r,o){Jp(n,i,t.firstChild,e,r,o,!1)}function pP(t,e,n,i,r,o){let s=n[Rn],c=s[_n].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];go(e,t,r,h,o)}else{let l=c,h=s[pt];$C(i)&&(l.flags|=128),Jp(t,e,l,h,r,o,!0)}}function mP(t,e,n,i,r){let o=n[dr],s=Nn(n);o!==s&&go(e,t,i,o,r);for(let a=Jt;a<n.length;a++){let c=n[a];Xl(c[le],c,t,e,i,o)}}function gP(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Xn.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Xn.Important),t.setStyle(n,i,r,o))}}function _P(t,e,n){t.setAttribute(e,"style",n)}function nb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ib(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&qf(t,e,i),r!==null&&nb(t,e,r),o!==null&&_P(t,e,o)}var kn={};function u(t=1){rb(mt(),ve(),_r()+t,!1)}function rb(t,e,n,i){if(!i)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&fl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&pl(e,o,0,n)}hr(n)}function q(t,e=oe.Default){let n=ve();if(n===null)return B(t,e);let i=kt();return VC(i,n,bt(t),e)}function ob(){let t="invalid";throw new Error(t)}function sb(t,e,n,i,r,o){let s=we(null);try{let a=null;r&at.SignalBased&&(a=e[i][Xh]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&at.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):uC(e,a,i,o)}finally{we(s)}}function vP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)hr(~r);else{let o=r,s=n[++i],a=n[++i];dM(s,o);let c=e[o];a(2,c)}}}finally{hr(-1)}}function eu(t,e,n,i,r,o,s,a,c,l,h){let p=e.blueprint.slice();return p[ti]=r,p[K]=i|4|128|8|64,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),_C(p),p[pt]=p[Mo]=t,p[mn]=n,p[Pn]=s||t&&t[Pn],p[We]=a||t&&t[We],p[Eo]=c||t&&t[Eo]||null,p[_n]=o,p[Gl]=kM(),p[Cl]=h,p[cC]=l,p[Rn]=e.type==2?t[Rn]:p,p}function Js(t,e,n,i,r){let o=t.data[e];if(o===null)o=yP(t,e,n,i,r),uM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=aM();o.injectorIndex=s===null?-1:s.injectorIndex}return gr(o,!0),o}function yP(t,e,n,i,r){let o=wC(),s=Lp(),a=s?o:o&&o.parent,c=t.data[e]=IP(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function ab(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function cb(t,e,n,i,r){let o=_r(),s=i&2;try{hr(-1),s&&e.length>Zt&&rb(t,e,Zt,!1),Sn(s?2:0,r),n(i,r)}finally{hr(o),Sn(s?3:1,r)}}function Zp(t,e,n){if(kp(e)){let i=we(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{we(i)}}}function Xp(t,e,n){yC()&&(MP(t,e,n,en(n,e)),(n.flags&64)===64&&hb(t,e,n))}function em(t,e,n=en){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function lb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=tm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function tm(t,e,n,i,r,o,s,a,c,l,h){let p=Zt+i,v=p+r,y=wP(p,v),D=typeof l=="function"?l():l;return y[le]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:h}}function wP(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:kn);return n}function CP(t,e,n,i){let o=i.get(qM,KC)||n===Mn.ShadowDom,s=t.selectRootElement(e,o);return bP(s),s}function bP(t){EP(t)}var EP=()=>null;function IP(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return rM()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yw(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=at.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}t===0?ww(i,n,l,a,c):ww(i,n,l,a)}return i}function ww(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function TP(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let h=i;h<r;h++){let p=o[h],v=n?n.get(p):null,y=v?v.inputs:null,D=v?v.outputs:null;c=yw(0,p.inputs,h,c,y),l=yw(1,p.outputs,h,l,D);let S=c!==null&&s!==null&&!Mp(e)?BP(c,h,s):null;a.push(S)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function xP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ub(t,e,n,i,r,o,s,a){let c=en(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[i])?(im(t,n,h,i,r),zl(e)&&DP(n,e.index)):e.type&3?(i=xP(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function DP(t,e){let n=Si(e,t);n[K]&16||(n[K]|=64)}function nm(t,e,n,i){if(yC()){let r=i===null?null:{"":-1},o=RP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&db(t,e,n,s,r,a),r&&NP(n,i,r)}n.mergedAttrs=js(n.mergedAttrs,n.attrs)}function db(t,e,n,i,r,o){for(let l=0;l<i.length;l++)Jf(Dl(n,e),t,i[l].type);kP(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let h=i[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=ab(t,e,i.length,null);for(let l=0;l<i.length;l++){let h=i[l];n.mergedAttrs=js(n.mergedAttrs,h.hostAttrs),FP(t,n,e,c,h),OP(c,h,r),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}TP(t,n,o)}function SP(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;AP(s)!=a&&s.push(a),s.push(n,i,o)}}function AP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function MP(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;zl(n)&&VP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Dl(n,e),Ii(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],l=xo(e,t,a,n);if(Ii(l,e),s!==null&&UP(e,a-r,l,c,n,s),Ei(c)){let h=Si(n.index,e);h[mn]=xo(e,t,a,n)}}}function hb(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=hM();try{hr(o);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];Qf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&PP(c,l)}}finally{hr(-1),Qf(s)}}function PP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function RP(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(bA(e,s.selectors,!1))if(i||(i=[]),Ei(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;op(t,e,c)}else i.unshift(s),op(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function op(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function NP(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new $(-301,!1);i.push(e[r],o)}}}function OP(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ei(e)&&(n[""]=t)}}function kP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function FP(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=lr(r.type,!0)),s=new fr(o,Ei(r),q);t.blueprint[i]=s,n[i]=s,SP(t,e,i,ab(t,n,r.hostVars,kn),r)}function VP(t,e,n){let i=en(e,t),r=lb(n),o=t[Pn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=tu(t,eu(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function LP(t,e,n,i,r,o){let s=en(t,e);jP(e[We],s,o,t.value,n,i,r)}function jP(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Vs(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function UP(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],h=s[a++],p=s[a++];sb(i,n,c,l,h,p)}}function BP(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function fb(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function pb(t,e){let n=t.contentQueries;if(n!==null){let i=we(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];EC(o),a.contentQueries(2,e[s],s)}}}finally{we(i)}}}function tu(t,e){return t[$s]?t[uw][pn]=e:t[$s]=e,t[uw]=e,e}function sp(t,e,n){EC(0);let i=we(null);try{e(t,n)}finally{we(i)}}function $P(t){return t[Bs]||(t[Bs]=[])}function qP(t){return t.cleanup||(t.cleanup=[])}function mb(t,e){let n=t[Eo],i=n?n.get(On,null):null;i&&i.handleError(e)}function im(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],h=t.data[s];sb(h,l,i,a,c,r)}}function gb(t,e,n){let i=pC(e,t);JM(t[We],i,n)}function GP(t,e){let n=Si(e,t),i=n[le];zP(i,n);let r=n[ti];r!==null&&n[Cl]===null&&(n[Cl]=Wp(r,n[Eo])),rm(i,n,n[mn])}function zP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rm(t,e,n){jp(e);try{let i=t.viewQuery;i!==null&&sp(1,i,n);let r=t.template;r!==null&&cb(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Io]?.finishViewCreation(t),t.staticContentQueries&&pb(t,e),t.staticViewQueries&&sp(2,t.viewQuery,n);let o=t.components;o!==null&&HP(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[K]&=-5,Up()}}function HP(t,e){for(let n=0;n<e.length;n++)GP(t,e[n])}function WP(t,e,n,i){let r=we(null);try{let o=e.tView,a=t[K]&4096?4096:16,c=eu(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=t[e.index];c[ql]=l;let h=t[Io];return h!==null&&(c[Io]=h.createEmbeddedView(o)),rm(o,c,n),c}finally{we(r)}}function Cw(t,e){return!e||e.firstChild===null||$C(t)}function KP(t,e,n,i=!0){let r=e[le];if(nP(r,e,t,n),i){let s=rp(n,t),a=e[We],c=Yp(a,t[dr]);c!==null&&eP(r,t[_n],a,e,c,s)}let o=e[Cl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Al(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Nn(o)),ni(o)&&QP(o,i);let s=n.type;if(s&8)Al(t,e,n.child,i);else if(s&32){let a=Qp(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=tb(e,n);if(Array.isArray(a))i.push(...a);else{let c=Gs(e[Rn]);Al(c[le],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function QP(t,e){for(let n=Jt;n<t.length;n++){let i=t[n],r=i[le].firstChild;r!==null&&Al(i[le],i,r,e)}t[dr]!==t[ti]&&e.push(t[dr])}var _b=[];function YP(t){return t[ur]??JP(t)}function JP(t){let e=_b.pop()??Object.create(XP);return e.lView=t,e}function ZP(t){t.lView[ur]!==t&&(t.lView=null,_b.push(t))}var XP=Y(R({},Ty),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qs(t.lView)},consumerOnSignalRead(){this.lView[ur]=this}}),vb=100;function yb(t,e=!0,n=0){let i=t[Pn],r=i.rendererFactory,o=!1;o||r.begin?.();try{e2(t,n)}catch(s){throw e&&mb(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function e2(t,e){ap(t,e);let n=0;for(;Vp(t);){if(n===vb)throw new $(103,!1);n++,ap(t,1)}}function t2(t,e,n,i){let r=e[K];if((r&256)===256)return;let o=!1;!o&&e[Pn].inlineEffectRunner?.flush(),jp(e);let s=null,a=null;!o&&n2(t)&&(a=YP(e),s=xy(a));try{_C(e),lM(t.bindingStartIndex),n!==null&&cb(t,e,n,2,i);let c=(r&3)===3;if(!o)if(c){let p=t.preOrderCheckHooks;p!==null&&fl(e,p,null)}else{let p=t.preOrderHooks;p!==null&&pl(e,p,0,null),Df(e,0)}if(i2(e),wb(e,0),t.contentQueries!==null&&pb(t,e),!o)if(c){let p=t.contentCheckHooks;p!==null&&fl(e,p)}else{let p=t.contentHooks;p!==null&&pl(e,p,1),Df(e,1)}vP(t,e);let l=t.components;l!==null&&bb(e,l,0);let h=t.viewQuery;if(h!==null&&sp(2,h,i),!o)if(c){let p=t.viewCheckHooks;p!==null&&fl(e,p)}else{let p=t.viewHooks;p!==null&&pl(e,p,2),Df(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xf]){for(let p of e[xf])p();e[xf]=null}o||(e[K]&=-73)}catch(c){throw qs(e),c}finally{a!==null&&(Dy(a,s),ZP(a)),Up()}}function n2(t){return t.type!==2}function wb(t,e){for(let n=GC(t);n!==null;n=zC(n))for(let i=Jt;i<n.length;i++){let r=n[i];Cb(r,e)}}function i2(t){for(let e=GC(t);e!==null;e=zC(e)){if(!(e[K]&Op.HasTransplantedViews))continue;let n=e[El];for(let i=0;i<n.length;i++){let r=n[i],o=r[pt];ZA(r)}}}function r2(t,e,n){let i=Si(e,t);Cb(i,n)}function Cb(t,e){Fp(t)&&ap(t,e)}function ap(t,e){let i=t[le],r=t[K],o=t[ur],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&ef(o)),o&&(o.dirty=!1),t[K]&=-9217,s)t2(i,t,i.template,t[mn]);else if(r&8192){wb(t,1);let a=i.components;a!==null&&bb(t,a,1)}}function bb(t,e,n){for(let i=0;i<e.length;i++)r2(t,e[i],n)}function om(t){for(t[Pn].changeDetectionScheduler?.notify();t;){t[K]|=64;let e=Gs(t);if(qA(t)&&!e)return t;t=e}return null}var pr=class{get rootNodes(){let e=this._lView,n=e[le];return Al(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mn]}set context(e){this._lView[mn]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pt];if(ni(e)){let n=e[bl],i=n?n.indexOf(this):-1;i>-1&&(ip(e,i),yl(n,i))}this._attachedToViewContainer=!1}XC(this._lView[le],this._lView)}onDestroy(e){vC(this._lView,e)}markForCheck(){om(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){Kf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,yb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,JC(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e,Kf(this._lView)}},nu=(()=>{class t{static{this.__NG_ELEMENT_ID__=a2}}return t})(),o2=nu,s2=class extends o2{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=WP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new pr(r)}};function a2(){return c2(kt(),ve())}function c2(t,e){return t.type&4?new s2(e,t,Jl(t,e)):null}var HW=new RegExp(`^(\\d+)*(${BM}|${UM})*(.*)`);var l2=()=>null;function bw(t,e){return l2(t,e)}var Ml=class{},cp=class{},Pl=class{};function u2(t){let e=Error(`No component factory found for ${Et(t)}.`);return e[d2]=t,e}var d2="ngComponent";var lp=class{resolveComponentFactory(e){throw u2(e)}},iu=(()=>{class t{static{this.NULL=new lp}}return t})(),zs=class{},Fn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>h2()}}return t})();function h2(){let t=ve(),e=kt(),n=Si(e.index,t);return(ar(n)?n:t)[We]}var f2=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}}return t})(),Rf={};var Ew=new Set;function ru(t){Ew.has(t)||(Ew.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Iw(...t){}function p2(){let t=typeof Zn.requestAnimationFrame=="function",e=Zn[t?"requestAnimationFrame":"setTimeout"],n=Zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=p2().nativeRequestAnimationFrame,_2(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,m2,Iw,Iw);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},m2={};function sm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function g2(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,up(t),t.isCheckStableRunning=!0,sm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),up(t))}function _2(t){let e=()=>{g2(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(v2(a))return n.invokeTask(r,o,s,a);try{return Tw(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),xw(t)}},onInvoke:(n,i,r,o,s,a,c)=>{try{return Tw(t),n.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),xw(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,up(t),sm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function up(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Tw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xw(t){t._nesting--,sm(t)}function v2(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var _o=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(_o||{}),y2={destroy(){}};function ou(t,e){!e&&BA(ou);let n=e?.injector??O(Ft);if(!KM(n))return y2;ru("NgAfterNextRender");let i=n.get(am),r=i.handler??=new hp,o=e?.phase??_o.MixedReadWrite,s=()=>{r.unregister(c),a()},a=n.get(qp).onDestroy(s),c=gn(n,()=>new dp(o,()=>{s(),t()}));return r.register(c),{destroy:s}}var dp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=O(Te),this.errorHandler=O(On,{optional:!0}),O(Ml,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},hp=class{constructor(){this.executingCallbacks=!1,this.buckets={[_o.EarlyRead]:new Set,[_o.Write]:new Set,[_o.MixedReadWrite]:new Set,[_o.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},am=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Rl(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=ew(r,a);else if(o==2){let c=a,l=e[++s];i=ew(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Nl=class extends iu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=bi(e);return new Do(n,this.ngModule)}};function Dw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function w2(t){let e=t.toLowerCase();return e==="svg"?WA:e==="math"?KA:null}var fp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Ul(i);let r=this.injector.get(e,Rf,i);return r!==Rf||n===Rf?r:this.parentInjector.get(e,n,i)}},Do=class extends Pl{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=Dw(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Dw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=xA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=we(null);try{r=r||this.ngModule;let s=r instanceof ft?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new fp(e,s):e,c=a.get(zs,null);if(c===null)throw new $(407,!1);let l=a.get(f2,null),h=a.get(am,null),p=a.get(Ml,null),v={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=c.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",S=i?CP(y,i,this.componentDef.encapsulation,a):YC(y,D,w2(D)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let F=null;S!==null&&(F=Wp(S,a,!0));let he=tm(0,null,null,1,0,null,null,null,null,null,null),z=eu(null,he,null,M,null,null,v,y,a,null,F);jp(z);let Ie,Ze;try{let _e=this.componentDef,ht,xn=null;_e.findHostDirectiveDefs?(ht=[],xn=new Map,_e.findHostDirectiveDefs(_e,ht,xn),ht.push(_e)):ht=[_e];let er=C2(z,S),Zr=b2(er,S,_e,ht,z,v,y);Ze=mC(he,Zt),S&&T2(y,_e,S,i),n!==void 0&&x2(Ze,this.ngContentSelectors,n),Ie=I2(Zr,_e,ht,xn,z,[D2]),rm(he,z,null)}finally{Up()}return new pp(this.componentType,Ie,Jl(Ze,z),z,Ze)}finally{we(o)}}},pp=class extends cp{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pr(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;im(o[le],o,r,e,n),this.previousInputValues.set(e,n);let s=Si(this._tNode.index,o);om(s)}}get injector(){return new cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function C2(t,e){let n=t[le],i=Zt;return t[i]=e,Js(n,i,2,"#host",null)}function b2(t,e,n,i,r,o,s){let a=r[le];E2(i,t,e,s);let c=null;e!==null&&(c=Wp(e,r[Eo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=eu(r,lb(n),null,h,r[t.index],t,o,l,null,null,c);return a.firstCreatePass&&op(a,t,i.length-1),tu(r,p),r[t.index]=p}function E2(t,e,n,i){for(let r of t)e.mergedAttrs=js(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Rl(e,e.mergedAttrs,!0),n!==null&&ib(i,n,e))}function I2(t,e,n,i,r,o){let s=kt(),a=r[le],c=en(s,r);db(a,r,s,n,null,i);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,v=xo(r,a,p,s);Ii(v,r)}hb(a,r,s),c&&Ii(c,r);let l=xo(r,a,s.directiveStart+s.componentOffset,s);if(t[mn]=r[mn]=l,o!==null)for(let h of o)h(l,e);return Zp(a,s,r),l}function T2(t,e,n,i){if(i)qf(t,n,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=DA(e.selectors[0]);r&&qf(t,n,r),o&&o.length>0&&nb(t,n,o.join(" "))}}function x2(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function D2(){let t=kt();Yl(ve()[le],t)}var Po=(()=>{class t{static{this.__NG_ELEMENT_ID__=S2}}return t})();function S2(){let t=kt();return M2(t,ve())}var A2=Po,Eb=class extends A2{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Jl(this._hostTNode,this._hostLView)}get injector(){return new cr(this._hostTNode,this._hostLView)}get parentInjector(){let e=$p(this._hostTNode,this._hostLView);if(PC(e)){let n=Tl(e,this._hostLView),i=Il(e),r=n[le].data[i+8];return new cr(r,n)}else return new cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Sw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=bw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,Cw(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!$A(e),a;if(s)a=n;else{let D=n||{};a=D.index,i=D.injector,r=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let c=s?e:new Do(bi(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let S=(s?l:this.parentInjector).get(ft,null);S&&(o=S)}let h=bi(c.componentType??{}),p=bw(this._lContainer,h?.id??null),v=p?.firstChild??null,y=c.create(l,r,v,o);return this.insertImpl(y.hostView,a,Cw(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(JA(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[pt],l=new Eb(c,c[_n],c[pt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return KP(s,r,o,i),e.attachToViewContainerRef(),Hw(Nf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Sw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=ip(this._lContainer,n);i&&(yl(Nf(this._lContainer),n),XC(i[le],i))}detach(e){let n=this._adjustIndex(e,-1),i=ip(this._lContainer,n);return i&&yl(Nf(this._lContainer),n)!=null?new pr(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function Sw(t){return t[bl]}function Nf(t){return t[bl]||(t[bl]=[])}function M2(t,e){let n,i=e[t.index];return ni(i)?n=i:(n=fb(i,e,null,t),e[t.index]=n,tu(e,n)),R2(n,e,t,i),new Eb(n,t,e)}function P2(t,e){let n=t[We],i=n.createComment(""),r=en(e,t),o=Yp(n,r);return Sl(n,o,i,lP(n,r),!1),i}var R2=k2,N2=()=>!1;function O2(t,e,n){return N2(t,e,n)}function k2(t,e,n,i){if(t[dr])return;let r;n.type&8?r=Nn(i):r=P2(e,n),t[dr]=r}function F2(t){return typeof t=="function"&&t[Xh]!==void 0}function Ib(t){return F2(t)&&typeof t.set=="function"}function V2(t){return Object.getPrototypeOf(t.prototype).constructor}function ct(t){let e=V2(t.type),n=!0,i=[t];for(;e;){let r;if(Ei(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=ul(t.inputs),s.inputTransforms=ul(t.inputTransforms),s.declaredInputs=ul(t.declaredInputs),s.outputs=ul(t.outputs);let a=r.hostBindings;a&&$2(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&U2(t,c),l&&B2(t,l),L2(t,r),WS(t.outputs,r.outputs),Ei(r)&&r.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ct&&(n=!1)}}e=Object.getPrototypeOf(e)}j2(i)}function L2(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function j2(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=js(r.hostAttrs,n=js(n,r.hostAttrs))}}function ul(t){return t===wo?{}:t===Yt?[]:t}function U2(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function B2(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function $2(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var Ti=class{},Hs=class{};var mp=class extends Ti{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nl(this);let r=eC(e);this._bootstrapComponents=QC(r.bootstrap),this._r3Injector=UC(e,n,[{provide:Ti,useValue:this},{provide:iu,useValue:this.componentFactoryResolver},...i],Et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gp=class extends Hs{constructor(e){super(),this.moduleType=e}create(e){return new mp(this.moduleType,e,[])}};var Ol=class extends Ti{constructor(e){super(),this.componentFactoryResolver=new Nl(this),this.instance=null;let n=new Us([...e.providers,{provide:Ti,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],e.parent||Np(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function su(t,e,n=null){return new Ol({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ro=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new st(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Tb(t){return G2(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function q2(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function G2(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function cm(t,e,n){return t[e]=n}function z2(t,e){return t[e]}function xi(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function xb(t,e,n,i){let r=xi(t,e,n);return xi(t,e+1,i)||r}function H2(t){return(t.flags&32)===32}function W2(t,e,n,i,r,o,s,a,c){let l=e.consts,h=Js(e,t,4,s||null,To(l,a));nm(e,n,h,To(l,c)),Yl(e,h);let p=h.tView=tm(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function w(t,e,n,i,r,o,s,a){let c=ve(),l=mt(),h=t+Zt,p=l.firstCreatePass?W2(h,l,c,e,n,i,r,o,s):l.data[h];gr(p,!1);let v=K2(l,c,p,t);Kl()&&Zl(l,c,v,p),Ii(v,c);let y=fb(v,c,v,p);return c[h]=y,tu(c,y),O2(y,p,c),Hl(p)&&Xp(l,c,p),s!=null&&em(c,p,a),w}var K2=Q2;function Q2(t,e,n,i){return Ql(!0),e[We].createComment("")}function Ai(t,e,n,i){let r=ve(),o=Wl();if(xi(r,o,e)){let s=mt(),a=Bp();LP(a,r,t,e,n,i)}return Ai}function Y2(t,e,n,i){return xi(t,Wl(),n)?e+Vs(n)+i:kn}function J2(t,e,n,i,r,o){let s=cM(),a=xb(t,s,n,r);return bC(2),a?e+Vs(n)+i+Vs(r)+o:kn}function dl(t,e){return t<<17|e<<2}function mr(t){return t>>17&32767}function Z2(t){return(t&2)==2}function X2(t,e){return t&131071|e<<17}function _p(t){return t|2}function So(t){return(t&131068)>>2}function Of(t,e){return t&-131069|e<<2}function eR(t){return(t&1)===1}function vp(t){return t|1}function tR(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=mr(s),c=So(s);t[i]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Qs(p,h)>0)&&(l=!0)}else h=n;if(r)if(c!==0){let v=mr(t[a+1]);t[i+1]=dl(v,a),v!==0&&(t[v+1]=Of(t[v+1],i)),t[a+1]=X2(t[a+1],i)}else t[i+1]=dl(a,0),a!==0&&(t[a+1]=Of(t[a+1],i)),a=i;else t[i+1]=dl(c,0),a===0?a=i:t[c+1]=Of(t[c+1],i),c=i;l&&(t[i+1]=_p(t[i+1])),Aw(t,h,i,!0),Aw(t,h,i,!1),nR(e,h,t,i,o),s=dl(a,c),o?e.classBindings=s:e.styleBindings=s}function nR(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Qs(o,e)>=0&&(n[i+1]=vp(n[i+1]))}function Aw(t,e,n,i){let r=t[n+1],o=e===null,s=i?mr(r):So(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];iR(c,e)&&(a=!0,t[s+1]=i?vp(l):_p(l)),s=i?mr(l):So(l)}a&&(t[n+1]=i?_p(r):vp(r))}function iR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qs(t,e)>=0:!1}function m(t,e,n){let i=ve(),r=Wl();if(xi(i,r,e)){let o=mt(),s=Bp();ub(o,s,i,t,e,i[We],n,!1)}return m}function Mw(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";im(t,n,o[s],s,i)}function Zs(t,e,n){return Db(t,e,n,!1),Zs}function xe(t,e){return Db(t,e,null,!0),xe}function Db(t,e,n,i){let r=ve(),o=mt(),s=bC(2);if(o.firstUpdatePass&&oR(o,t,s,i),e!==kn&&xi(r,s,e)){let a=o.data[_r()];uR(o,a,r,r[We],t,r[s+1]=dR(e,n),i,s)}}function rR(t,e){return e>=t.expandoStartIndex}function oR(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[_r()],s=rR(t,n);hR(o,i)&&e===null&&!s&&(e=!1),e=sR(r,o,e,i),tR(r,o,e,n,s,i)}}function sR(t,e,n,i){let r=fM(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=kf(null,t,e,n,i),n=Ws(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=kf(r,t,e,n,i),o===null){let c=aR(t,e,i);c!==void 0&&Array.isArray(c)&&(c=kf(null,t,e,c[1],i),c=Ws(c,e.attrs,i),cR(t,e,i,c))}else o=lR(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function aR(t,e,n){let i=n?e.classBindings:e.styleBindings;if(So(i)!==0)return t[mr(i)]}function cR(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[mr(r)]=i}function lR(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Ws(i,s,n)}return Ws(i,e.attrs,n)}function kf(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Ws(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Ws(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function uR(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],h=eR(l)?Pw(c,e,n,r,So(l),s):void 0;if(!kl(h)){kl(o)||Z2(l)&&(o=Pw(c,null,n,r,a,s));let p=pC(_r(),n);gP(i,s,p,r,o)}}function Pw(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),h=l?c[1]:c,p=h===null,v=n[r+1];v===kn&&(v=p?Yt:void 0);let y=p?If(v,i):h===i?v:void 0;if(l&&!kl(y)&&(y=If(c,i)),kl(y)&&(a=y,s))return a;let D=t[r+1];r=s?mr(D):So(D)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=If(c,i))}return a}function kl(t){return t!==void 0}function dR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Et(Kp(t)))),t}function hR(t,e){return(t.flags&(e?8:16))!==0}function fR(t,e,n,i,r,o){let s=e.consts,a=To(s,r),c=Js(e,t,2,i,a);return nm(e,n,c,To(s,o)),c.attrs!==null&&Rl(c,c.attrs,!1),c.mergedAttrs!==null&&Rl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,i){let r=ve(),o=mt(),s=Zt+t,a=r[We],c=o.firstCreatePass?fR(s,o,r,e,n,i):o.data[s],l=pR(o,r,c,a,e,t);r[s]=l;let h=Hl(c);return gr(c,!0),ib(a,l,c),!H2(c)&&Kl()&&Zl(o,r,l,c),tM()===0&&Ii(l,r),nM(),h&&(Xp(o,r,c),Zp(o,c,r)),i!==null&&em(r,c),f}function d(){let t=kt();Lp()?CC():(t=t.parent,gr(t,!1));let e=t;oM(e)&&sM(),iM();let n=mt();return n.firstCreatePass&&(Yl(n,t),kp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&wM(e)&&Mw(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&CM(e)&&Mw(n,e,ve(),e.stylesWithoutHost,!1),d}function E(t,e,n,i){return f(t,e,n,i),d(),E}var pR=(t,e,n,i,r,o)=>(Ql(!0),YC(i,r,gM()));function mR(t,e,n,i,r){let o=e.consts,s=To(o,i),a=Js(e,t,8,"ng-container",s);s!==null&&Rl(a,s,!0);let c=To(o,r);return nm(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function ie(t,e,n){let i=ve(),r=mt(),o=t+Zt,s=r.firstCreatePass?mR(o,r,i,e,n):r.data[o];gr(s,!0);let a=gR(r,i,s,t);return i[o]=a,Kl()&&Zl(r,i,a,s),Ii(a,i),Hl(s)&&(Xp(r,i,s),Zp(r,s,i)),n!=null&&em(i,s),ie}function re(){let t=kt(),e=mt();return Lp()?CC():(t=t.parent,gr(t,!1)),e.firstCreatePass&&(Yl(e,t),kp(t)&&e.queries.elementEnd(t)),re}var gR=(t,e,n,i)=>(Ql(!0),ZM(e[We],""));function P(){return ve()}var sr=void 0;function _R(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var vR=["en",[["a","p"],["AM","PM"],sr],[["AM","PM"],sr,sr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sr,"{1} 'at' {0}",sr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_R],Ff={};function rn(t){let e=yR(t),n=Rw(e);if(n)return n;let i=e.split("-")[0];if(n=Rw(i),n)return n;if(i==="en")return vR;throw new $(701,!1)}function Rw(t){return t in Ff||(Ff[t]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[t]),Ff[t]}var qe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qe||{});function yR(t){return t.toLowerCase().replace(/_/g,"-")}var Fl="en-US";var wR=Fl;function CR(t){typeof t=="string"&&(wR=t.toLowerCase().replace(/_/g,"-"))}function I(t,e,n,i){let r=ve(),o=mt(),s=kt();return Sb(o,r,r[We],s,t,e,i),I}function bR(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Bs],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Sb(t,e,n,i,r,o,s){let a=Hl(i),l=t.firstCreatePass&&qP(t),h=e[mn],p=$P(e),v=!0;if(i.type&3||s){let S=en(i,e),M=s?s(S):S,F=p.length,he=s?Ie=>s(Nn(Ie[i.index])):i.index,z=null;if(!s&&a&&(z=bR(t,e,r,i.index)),z!==null){let Ie=z.__ngLastListenerFn__||z;Ie.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,v=!1}else{o=Ow(i,e,h,o,!1);let Ie=n.listen(M,r,o);p.push(o,Ie),l&&l.push(r,he,F,F+1)}}else o=Ow(i,e,h,o,!1);let y=i.outputs,D;if(v&&y!==null&&(D=y[r])){let S=D.length;if(S)for(let M=0;M<S;M+=2){let F=D[M],he=D[M+1],Ze=e[F][he].subscribe(o),_e=p.length;p.push(o,Ze),l&&l.push(r,i.index,_e,-(_e+1))}}}function Nw(t,e,n,i){let r=we(null);try{return Sn(6,e,n),n(i)!==!1}catch(o){return mb(t,o),!1}finally{Sn(7,e,n),we(r)}}function Ow(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?Si(t.index,e):e;om(a);let c=Nw(e,n,i,s),l=o.__ngNextListenerFn__;for(;l;)c=Nw(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function _(t=1){return mM(t)}function ER(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function g(t,e=""){let n=ve(),i=mt(),r=t+Zt,o=i.firstCreatePass?Js(i,r,1,e,null):i.data[r],s=IR(i,n,o,e,t);n[r]=s,Kl()&&Zl(i,n,s,o),gr(o,!1)}var IR=(t,e,n,i,r)=>(Ql(!0),YM(e[We],i));function te(t){return x("",t,""),te}function x(t,e,n){let i=ve(),r=Y2(i,t,e,n);return r!==kn&&gb(i,_r(),r),x}function Xe(t,e,n,i,r){let o=ve(),s=J2(o,t,e,n,i,r);return s!==kn&&gb(o,_r(),s),Xe}function me(t,e,n){Ib(e)&&(e=e());let i=ve(),r=Wl();if(xi(i,r,e)){let o=mt(),s=Bp();ub(o,s,i,t,e,i[We],n,!1)}return me}function ye(t,e){let n=Ib(t);return n&&t.set(e),n}function ge(t,e){let n=ve(),i=mt(),r=kt();return Sb(i,n,n[We],r,t,e),ge}function TR(t,e,n){let i=mt();if(i.firstCreatePass){let r=Ei(t);yp(n,i.data,i.blueprint,r,!0),yp(e,i.data,i.blueprint,r,!1)}}function yp(t,e,n,i,r){if(t=bt(t),Array.isArray(t))for(let o=0;o<t.length;o++)yp(t[o],e,n,i,r);else{let o=mt(),s=ve(),a=kt(),c=bo(t)?t:bt(t.provide),l=sC(t),h=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(bo(t)||!t.multi){let y=new fr(l,r,q),D=Lf(c,e,r?h:h+v,p);D===-1?(Jf(Dl(a,s),o,c),Vf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[D]=y,s[D]=y)}else{let y=Lf(c,e,h+v,p),D=Lf(c,e,h,h+v),S=y>=0&&n[y],M=D>=0&&n[D];if(r&&!M||!r&&!S){Jf(Dl(a,s),o,c);let F=SR(r?DR:xR,n.length,r,i,l);!r&&M&&(n[D].providerFactory=F),Vf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=Ab(n[r?D:y],l,!r&&i);Vf(o,t,y>-1?y:D,F)}!r&&i&&M&&n[D].componentProviders++}}}function Vf(t,e,n,i){let r=bo(e),o=OA(e);if(r||o){let c=(o?bt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[i,c]):l[h+1].push(i,c)}else l.push(n,c)}}}function Ab(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lf(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function xR(t,e,n,i){return wp(this.multi,[])}function DR(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=xo(n,n[le],this.providerFactory.index,i);o=a.slice(0,s),wp(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],wp(r,o);return o}function wp(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function SR(t,e,n,i,r){let o=new fr(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,Ab(o,r,i&&!n),o}function Ut(t,e=[]){return n=>{n.providersResolver=(i,r)=>TR(i,r?r(t):t,e)}}var AR=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=iC(!1,n.type),r=i.length>0?su([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(B(ft))})}}return t})();function Mi(t){ru("NgStandalone"),t.getStandaloneInjector=e=>e.get(AR).getOrCreateStandaloneInjector(t)}function Bt(t,e,n){let i=Ys()+t,r=ve();return r[i]===kn?cm(r,i,n?e.call(n):e()):z2(r,i)}function Mb(t,e,n,i){return Nb(ve(),Ys(),t,e,n,i)}function Pb(t,e,n,i,r){return Ob(ve(),Ys(),t,e,n,i,r)}function Rb(t,e){let n=t[e];return n===kn?void 0:n}function Nb(t,e,n,i,r,o){let s=e+n;return xi(t,s,r)?cm(t,s+1,o?i.call(o,r):i(r)):Rb(t,s+1)}function Ob(t,e,n,i,r,o,s){let a=e+n;return xb(t,a,r,o)?cm(t,a+2,s?i.call(s,r,o):i(r,o)):Rb(t,a+2)}function vr(t,e){let n=mt(),i,r=t+Zt;n.firstCreatePass?(i=MR(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=lr(i.type,!0)),s,a=Rt(q);try{let c=xl(!1),l=o();return xl(c),ER(n,ve(),r,l),l}finally{Rt(a)}}function MR(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function lm(t,e,n){let i=t+Zt,r=ve(),o=gC(r,i);return kb(r,i)?Nb(r,Ys(),e,o.transform,n,o):o.transform(n)}function Xs(t,e,n,i){let r=t+Zt,o=ve(),s=gC(o,r);return kb(o,r)?Ob(o,Ys(),e,s.transform,n,i,s):s.transform(n,i)}function kb(t,e){return t[le].data[e].pure}var ei=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Fb=new ei("17.3.12"),au=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Vb=new U("");function yr(t){return!!t&&typeof t.then=="function"}function Lb(t){return!!t&&typeof t.subscribe=="function"}var cu=new U(""),jb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=O(cu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(yr(o))n.push(o);else if(Lb(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ea=new U("");function PR(){Ay(()=>{throw new $(600,!1)})}function RR(t){return t.isBoundToModule}function NR(t,e,n){try{let i=n();return yr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var No=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(BC),this.afterRenderEffectManager=O(am),this.externalTestViews=new Set,this.beforeRender=new Ct,this.afterTick=new Ct,this.componentTypes=[],this.components=[],this.isStable=O(Ro).hasPendingTasks.pipe(ee(n=>!n)),this._injector=O(ft)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Pl;if(!this._injector.get(jb).done){let v=!r&&Xw(n),y=!1;throw new $(405,y)}let s;r?s=n:s=this._injector.get(iu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=RR(s)?void 0:this._injector.get(Ti),c=i||s.selector,l=s.create(Ft.NULL,[],c,a),h=l.location.nativeElement,p=l.injector.get(Vb,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),jf(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new $(101,!1);let i=we(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,we(i)}}detectChangesInAttachedViews(n){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===vb)throw new $(103,!1);if(n){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)OR(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Cp(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Cp(o))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;jf(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(ea,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>jf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function OR(t,e,n){!e&&!Cp(t)||kR(t,n,e)}function Cp(t){return Vp(t)}function kR(t,e,n){let i;n?(i=0,t[K]|=1024):t[K]&64?i=0:i=1,yb(t,e,i)}var bp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},lu=(()=>{class t{compileModuleSync(n){return new gp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=eC(n),o=QC(r.declarations).reduce((s,a)=>{let c=bi(a);return c&&s.push(new Do(c)),s},[]);return new bp(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var FR=(()=>{class t{constructor(){this.zone=O(Te),this.applicationRef=O(No)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function VR(t){return[{provide:Te,useFactory:t},{provide:Co,multi:!0,useFactory:()=>{let e=O(FR,{optional:!0});return()=>e.initialize()}},{provide:Co,multi:!0,useFactory:()=>{let e=O(BR);return()=>{e.initialize()}}},{provide:BC,useFactory:LR}]}function LR(){let t=O(Te),e=O(On);return n=>t.runOutsideAngular(()=>e.handleError(n))}function jR(t){let e=VR(()=>new Te(UR(t)));return Ao([[],e])}function UR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var BR=(()=>{class t{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=O(Te),this.pendingTasks=O(Ro)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $R(){return typeof $localize<"u"&&$localize.locale||Fl}var uu=new U("",{providedIn:"root",factory:()=>O(uu,oe.Optional|oe.SkipSelf)||$R()});var Ub=new U("");var gl=null;function qR(t=[],e){return Ft.create({name:e,providers:[{provide:$l,useValue:"platform"},{provide:Ub,useValue:new Set([()=>gl=null])},...t]})}function GR(t=[]){if(gl)return gl;let e=qR(t);return gl=e,PR(),zR(e),e}function zR(t){t.get(zp,null)?.forEach(n=>n())}var wr=(()=>{class t{static{this.__NG_ELEMENT_ID__=HR}}return t})();function HR(t){return WR(kt(),ve(),(t&16)===16)}function WR(t,e,n){if(zl(t)&&!n){let i=Si(t.index,e);return new pr(i,i)}else if(t.type&47){let i=e[Rn];return new pr(i,e)}return null}var Ep=class{constructor(){}supports(e){return Tb(e)}create(e){return new Ip(e)}},KR=(t,e)=>e,Ip=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||KR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<kw(i,r,o)?n:i,a=kw(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,h=c-r;if(l!=h){for(let v=0;v<l;v++){let y=v<o.length?o[v]:o[v]=0,D=y+v;h<=D&&D<l&&(o[v]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Tb(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,q2(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new Tp(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Vl),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Tp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},xp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Vl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new xp,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kw(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function Fw(){return new um([new Ep])}var um=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:Fw})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||Fw()),deps:[[t,new Sp,new Xt]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new $(901,!1)}}return t})();function Bb(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=GR(i),o=[jR(),...n||[]],a=new Ol({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Te);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(On,null),h;c.runOutsideAngular(()=>{h=c.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),v=r.get(Ub);return v.add(p),a.onDestroy(()=>{h.unsubscribe(),v.delete(p)}),NR(l,c,()=>{let y=a.get(jb);return y.runInitializers(),y.donePromise.then(()=>{let D=a.get(uu,Fl);CR(D||Fl);let S=a.get(No);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function ta(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function $b(t){let e=bi(t);if(!e)return null;let n=new Do(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Qb=null;function ai(){return Qb}function Yb(t){Qb??=t}var yu=class{};var gt=new U(""),ym=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(JR),providedIn:"platform"})}}return t})(),Jb=new U(""),JR=(()=>{class t extends ym{constructor(){super(),this._doc=O(gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ai().getBaseHref(this._doc)}onPopState(n){let i=ai().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=ai().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function wm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function qb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function oi(t){return t&&t[0]!=="?"?"?"+t:t}var Cr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(Cm),providedIn:"root"})}}return t})(),Zb=new U(""),Cm=(()=>{class t extends Cr{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return wm(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+oi(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||t)(B(ym),B(Zb,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xb=(()=>{class t extends Cr{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=wm(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||t)(B(ym),B(Zb,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),ko=(()=>{class t{constructor(n){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=eN(qb(Gb(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+oi(i))}normalize(n){return t.stripTrailingSlash(XR(this._basePath,Gb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=oi}static{this.joinWithSlash=wm}static{this.stripTrailingSlash=qb}static{this.\u0275fac=function(i){return new(i||t)(B(Cr))}}static{this.\u0275prov=j({token:t,factory:()=>ZR(),providedIn:"root"})}}return t})();function ZR(){return new ko(B(Cr))}function XR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Gb(t){return t.replace(/\/index.html$/,"")}function eN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Tt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Tt||{}),Re=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Re||{}),qt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(qt||{}),Pi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function tN(t){return rn(t)[qe.LocaleId]}function nN(t,e,n){let i=rn(t),r=[i[qe.DayPeriodsFormat],i[qe.DayPeriodsStandalone]],o=on(r,e);return on(o,n)}function iN(t,e,n){let i=rn(t),r=[i[qe.DaysFormat],i[qe.DaysStandalone]],o=on(r,e);return on(o,n)}function rN(t,e,n){let i=rn(t),r=[i[qe.MonthsFormat],i[qe.MonthsStandalone]],o=on(r,e);return on(o,n)}function oN(t,e){let i=rn(t)[qe.Eras];return on(i,e)}function du(t,e){let n=rn(t);return on(n[qe.DateFormat],e)}function hu(t,e){let n=rn(t);return on(n[qe.TimeFormat],e)}function fu(t,e){let i=rn(t)[qe.DateTimeFormat];return on(i,e)}function Cu(t,e){let n=rn(t),i=n[qe.NumberSymbols][e];if(typeof i>"u"){if(e===Pi.CurrencyDecimal)return n[qe.NumberSymbols][Pi.Decimal];if(e===Pi.CurrencyGroup)return n[qe.NumberSymbols][Pi.Group]}return i}function eE(t){if(!t[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sN(t){let e=rn(t);return eE(e),(e[qe.ExtraData][2]||[]).map(i=>typeof i=="string"?dm(i):[dm(i[0]),dm(i[1])])}function aN(t,e,n){let i=rn(t);eE(i);let r=[i[qe.ExtraData][0],i[qe.ExtraData][1]],o=on(r,e)||[];return on(o,n)||[]}function on(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function dm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var cN=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pu={},lN=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,si=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(si||{}),be=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(be||{}),Ce=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ce||{});function uN(t,e,n,i){let r=yN(t);e=ri(n,e)||e;let s=[],a;for(;e;)if(a=lN.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let c=r.getTimezoneOffset();i&&(c=nE(i,c),r=vN(r,i,!0));let l="";return s.forEach(h=>{let p=gN(h);l+=p?p(r,n,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function wu(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function ri(t,e){let n=tN(t);if(pu[n]??={},pu[n][e])return pu[n][e];let i="";switch(e){case"shortDate":i=du(t,qt.Short);break;case"mediumDate":i=du(t,qt.Medium);break;case"longDate":i=du(t,qt.Long);break;case"fullDate":i=du(t,qt.Full);break;case"shortTime":i=hu(t,qt.Short);break;case"mediumTime":i=hu(t,qt.Medium);break;case"longTime":i=hu(t,qt.Long);break;case"fullTime":i=hu(t,qt.Full);break;case"short":let r=ri(t,"shortTime"),o=ri(t,"shortDate");i=mu(fu(t,qt.Short),[r,o]);break;case"medium":let s=ri(t,"mediumTime"),a=ri(t,"mediumDate");i=mu(fu(t,qt.Medium),[s,a]);break;case"long":let c=ri(t,"longTime"),l=ri(t,"longDate");i=mu(fu(t,qt.Long),[c,l]);break;case"full":let h=ri(t,"fullTime"),p=ri(t,"fullDate");i=mu(fu(t,qt.Full),[h,p]);break}return i&&(pu[n][e]=i),i}function mu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function yn(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function dN(t,e){return yn(t,3).substring(0,e)}function Ke(t,e,n=0,i=!1,r=!1){return function(o,s){let a=hN(t,o);if((n>0||a>-n)&&(a+=n),t===be.Hours)a===0&&n===-12&&(a=12);else if(t===be.FractionalSeconds)return dN(a,e);let c=Cu(s,Pi.MinusSign);return yn(a,e,c,i,r)}}function hN(t,e){switch(t){case be.FullYear:return e.getFullYear();case be.Month:return e.getMonth();case be.Date:return e.getDate();case be.Hours:return e.getHours();case be.Minutes:return e.getMinutes();case be.Seconds:return e.getSeconds();case be.FractionalSeconds:return e.getMilliseconds();case be.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ne(t,e,n=Tt.Format,i=!1){return function(r,o){return fN(r,o,t,e,n,i)}}function fN(t,e,n,i,r,o){switch(n){case Ce.Months:return rN(e,r,i)[t.getMonth()];case Ce.Days:return iN(e,r,i)[t.getDay()];case Ce.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=sN(e),h=aN(e,r,i),p=l.findIndex(v=>{if(Array.isArray(v)){let[y,D]=v,S=s>=y.hours&&a>=y.minutes,M=s<D.hours||s===D.hours&&a<D.minutes;if(y.hours<D.hours){if(S&&M)return!0}else if(S||M)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return nN(e,r,i)[s<12?0:1];case Ce.Eras:return oN(e,i)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function gu(t){return function(e,n,i){let r=-1*i,o=Cu(n,Pi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case si.Short:return(r>=0?"+":"")+yn(s,2,o)+yn(Math.abs(r%60),2,o);case si.ShortGMT:return"GMT"+(r>=0?"+":"")+yn(s,1,o);case si.Long:return"GMT"+(r>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(r%60),2,o);case si.Extended:return i===0?"Z":(r>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var pN=0,vu=4;function mN(t){let e=wu(t,pN,1).getDay();return wu(t,0,1+(e<=vu?vu:vu+7)-e)}function tE(t){let e=t.getDay(),n=e===0?-3:vu-e;return wu(t.getFullYear(),t.getMonth(),t.getDate()+n)}function hm(t,e=!1){return function(n,i){let r;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{let o=tE(n),s=mN(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return yn(r,t,Cu(i,Pi.MinusSign))}}function _u(t,e=!1){return function(n,i){let o=tE(n).getFullYear();return yn(o,t,Cu(i,Pi.MinusSign),e)}}var fm={};function gN(t){if(fm[t])return fm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ne(Ce.Eras,Re.Abbreviated);break;case"GGGG":e=Ne(Ce.Eras,Re.Wide);break;case"GGGGG":e=Ne(Ce.Eras,Re.Narrow);break;case"y":e=Ke(be.FullYear,1,0,!1,!0);break;case"yy":e=Ke(be.FullYear,2,0,!0,!0);break;case"yyy":e=Ke(be.FullYear,3,0,!1,!0);break;case"yyyy":e=Ke(be.FullYear,4,0,!1,!0);break;case"Y":e=_u(1);break;case"YY":e=_u(2,!0);break;case"YYY":e=_u(3);break;case"YYYY":e=_u(4);break;case"M":case"L":e=Ke(be.Month,1,1);break;case"MM":case"LL":e=Ke(be.Month,2,1);break;case"MMM":e=Ne(Ce.Months,Re.Abbreviated);break;case"MMMM":e=Ne(Ce.Months,Re.Wide);break;case"MMMMM":e=Ne(Ce.Months,Re.Narrow);break;case"LLL":e=Ne(Ce.Months,Re.Abbreviated,Tt.Standalone);break;case"LLLL":e=Ne(Ce.Months,Re.Wide,Tt.Standalone);break;case"LLLLL":e=Ne(Ce.Months,Re.Narrow,Tt.Standalone);break;case"w":e=hm(1);break;case"ww":e=hm(2);break;case"W":e=hm(1,!0);break;case"d":e=Ke(be.Date,1);break;case"dd":e=Ke(be.Date,2);break;case"c":case"cc":e=Ke(be.Day,1);break;case"ccc":e=Ne(Ce.Days,Re.Abbreviated,Tt.Standalone);break;case"cccc":e=Ne(Ce.Days,Re.Wide,Tt.Standalone);break;case"ccccc":e=Ne(Ce.Days,Re.Narrow,Tt.Standalone);break;case"cccccc":e=Ne(Ce.Days,Re.Short,Tt.Standalone);break;case"E":case"EE":case"EEE":e=Ne(Ce.Days,Re.Abbreviated);break;case"EEEE":e=Ne(Ce.Days,Re.Wide);break;case"EEEEE":e=Ne(Ce.Days,Re.Narrow);break;case"EEEEEE":e=Ne(Ce.Days,Re.Short);break;case"a":case"aa":case"aaa":e=Ne(Ce.DayPeriods,Re.Abbreviated);break;case"aaaa":e=Ne(Ce.DayPeriods,Re.Wide);break;case"aaaaa":e=Ne(Ce.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=Ne(Ce.DayPeriods,Re.Abbreviated,Tt.Standalone,!0);break;case"bbbb":e=Ne(Ce.DayPeriods,Re.Wide,Tt.Standalone,!0);break;case"bbbbb":e=Ne(Ce.DayPeriods,Re.Narrow,Tt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(Ce.DayPeriods,Re.Abbreviated,Tt.Format,!0);break;case"BBBB":e=Ne(Ce.DayPeriods,Re.Wide,Tt.Format,!0);break;case"BBBBB":e=Ne(Ce.DayPeriods,Re.Narrow,Tt.Format,!0);break;case"h":e=Ke(be.Hours,1,-12);break;case"hh":e=Ke(be.Hours,2,-12);break;case"H":e=Ke(be.Hours,1);break;case"HH":e=Ke(be.Hours,2);break;case"m":e=Ke(be.Minutes,1);break;case"mm":e=Ke(be.Minutes,2);break;case"s":e=Ke(be.Seconds,1);break;case"ss":e=Ke(be.Seconds,2);break;case"S":e=Ke(be.FractionalSeconds,1);break;case"SS":e=Ke(be.FractionalSeconds,2);break;case"SSS":e=Ke(be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=gu(si.Short);break;case"ZZZZZ":e=gu(si.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=gu(si.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=gu(si.Long);break;default:return null}return fm[t]=e,e}function nE(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function _N(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function vN(t,e,n){let i=n?-1:1,r=t.getTimezoneOffset(),o=nE(e,r);return _N(t,i*(o-r))}function yN(t){if(zb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return wu(r,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(cN))return wN(i)}let e=new Date(t);if(!zb(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function wN(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function zb(t){return t instanceof Date&&!isNaN(t.valueOf())}function bu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var pm=/\s+/,Hb=[],iE=(()=>{class t{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=Hb,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(pm):Hb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(pm):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(pm).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(q(vn),q(Fn))}}static{this.\u0275dir=Pe({type:t,selectors:[["","ngClass",""]],inputs:{klass:[at.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var mm=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Fo=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new mm(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),Wb(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Wb(o,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(q(Po),q(nu),q(um))}}static{this.\u0275dir=Pe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Wb(t,e){t.context.$implicit=e.item}var Vo=(()=>{class t{constructor(n,i){this._viewContainer=n,this._context=new gm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Kb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Kb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(q(Po),q(nu))}}static{this.\u0275dir=Pe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),gm=class{constructor(){this.$implicit=null,this.ngIf=null}};function Kb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Et(e)}'.`)}function rE(t,e){return new $(2100,!1)}var CN=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,oE=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw rE(t,n);return n.replace(CN,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=Bl({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();var bN="mediumDate",EN=new U(""),IN=new U(""),Eu=(()=>{class t{constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,o){if(n==null||n===""||n!==n)return null;try{let s=i??this.defaultOptions?.dateFormat??bN,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return uN(n,s,o||this.locale,a)}catch(s){throw rE(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(q(uu,16),q(EN,24),q(IN,24))}}static{this.\u0275pipe=Bl({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var sE=(()=>{class t{transform(n){return JSON.stringify(n,null,2)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=Bl({name:"json",type:t,pure:!1,standalone:!0})}}return t})();var br=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ot({type:t})}static{this.\u0275inj=Nt({})}}return t})(),bm="browser",TN="server";function xN(t){return t===bm}function Iu(t){return t===TN}var aE=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>xN(O(nn))?new _m(O(gt),window):new vm})}}return t})(),_m=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=DN(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function DN(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var vm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Oo=class{};var ia=class{},Du=class{},Er=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Im=class{encodeKey(e){return cE(e)}encodeValue(e){return cE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function MN(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var PN=/%(\d[a-f0-9])/gi,RN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cE(t){return encodeURIComponent(t).replace(PN,(e,n)=>RN[n]??e)}function xu(t){return`${t}`}var Ri=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Im,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=MN(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(xu):[xu(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(xu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(xu(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Tm=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function NN(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function lE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function uE(t){return typeof Blob<"u"&&t instanceof Blob}function dE(t){return typeof FormData<"u"&&t instanceof FormData}function ON(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var na=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(NN(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Er,this.context??=new Tm,!this.params)this.params=new Ri,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||lE(this.body)||uE(this.body)||dE(this.body)||ON(this.body)?this.body:this.body instanceof Ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||dE(this.body)?null:uE(this.body)?this.body.type||null:lE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),h)),new t(n,i,s,{params:h,headers:l,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},Lo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Lo||{}),ra=class{constructor(e,n=Mu.Ok,i="OK"){this.headers=e.headers||new Er,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},xm=class t extends ra{constructor(e={}){super(e),this.type=Lo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Su=class t extends ra{constructor(e={}){super(e),this.type=Lo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Au=class extends ra{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Mu=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Mu||{});function Em(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Dm=(()=>{class t{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof na)o=n;else{let c;r.headers instanceof Er?c=r.headers:c=new Er(r.headers);let l;r.params&&(r.params instanceof Ri?l=r.params:l=new Ri({fromObject:r.params})),o=new na(n,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=H(o).pipe(Yn(c=>this.handler.handle(c)));if(n instanceof na||r.observe==="events")return s;let a=s.pipe(Mt(c=>c instanceof Su));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ee(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Ri().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,Em(r,i))}post(n,i,r={}){return this.request("POST",n,Em(r,i))}put(n,i,r={}){return this.request("PUT",n,Em(r,i))}static{this.\u0275fac=function(i){return new(i||t)(B(ia))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function kN(t,e){return e(t)}function FN(t,e,n){return(i,r)=>gn(n,()=>e(i,o=>t(o,r)))}var pE=new U(""),VN=new U(""),LN=new U("");var hE=(()=>{class t extends ia{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=O(Ro);let r=O(LN,{optional:!0});this.backend=r??n}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(pE),...this.injector.get(VN,[])]));this.chain=r.reduceRight((o,s)=>FN(o,s,this.injector),kN)}let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(or(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||t)(B(Du),B(ft))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var jN=/^\)\]\}',?\n/;function UN(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var fE=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new $(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ke(i.\u0275loadImpl()):H(null)).pipe(Pt(()=>new ae(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((S,M)=>s.setRequestHeader(S,M.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let S=n.detectContentTypeHeader();S!==null&&s.setRequestHeader("Content-Type",S)}if(n.responseType){let S=n.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let S=s.statusText||"OK",M=new Er(s.getAllResponseHeaders()),F=UN(s)||n.url;return c=new xm({headers:M,status:s.status,statusText:S,url:F}),c},h=()=>{let{headers:S,status:M,statusText:F,url:he}=l(),z=null;M!==Mu.NoContent&&(z=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=z?Mu.Ok:0);let Ie=M>=200&&M<300;if(n.responseType==="json"&&typeof z=="string"){let Ze=z;z=z.replace(jN,"");try{z=z!==""?JSON.parse(z):null}catch(_e){z=Ze,Ie&&(Ie=!1,z={error:_e,text:z})}}Ie?(o.next(new Su({body:z,headers:S,status:M,statusText:F,url:he||void 0})),o.complete()):o.error(new Au({error:z,headers:S,status:M,statusText:F,url:he||void 0}))},p=S=>{let{url:M}=l(),F=new Au({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(F)},v=!1,y=S=>{v||(o.next(l()),v=!0);let M={type:Lo.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(M.total=S.total),n.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},D=S=>{let M={type:Lo.UploadProgress,loaded:S.loaded};S.lengthComputable&&(M.total=S.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:Lo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(B(Oo))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),mE=new U(""),BN="XSRF-TOKEN",$N=new U("",{providedIn:"root",factory:()=>BN}),qN="X-XSRF-TOKEN",GN=new U("",{providedIn:"root",factory:()=>qN}),Pu=class{},zN=(()=>{class t{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=bu(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(B(gt),B(nn),B($N))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function HN(t,e){let n=t.url.toLowerCase();if(!O(mE)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=O(Pu).getToken(),r=O(GN);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}function gE(...t){let e=[Dm,fE,hE,{provide:ia,useExisting:hE},{provide:Du,useExisting:fE},{provide:pE,useValue:HN,multi:!0},{provide:mE,useValue:!0},{provide:Pu,useClass:zN}];for(let n of t)e.push(...n.\u0275providers);return Ao(e)}var Mm=class extends yu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pm=class t extends Mm{static makeCurrent(){Yb(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=KN();return n==null?null:QN(n)}resetBaseElement(){oa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bu(document.cookie,e)}},oa=null;function KN(){return oa=oa||document.querySelector("base"),oa?oa.getAttribute("href"):null}function QN(t){return new URL(t,document.baseURI).pathname}var YN=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Rm=new U(""),wE=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||t)(B(Rm),B(Te))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Ru=class{constructor(e){this._doc=e}},Sm="ng-app-id",CE=(()=>{class t{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Iu(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Sm}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(Sm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Sm,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(B(gt),B(Gp),B(Hp,8),B(nn))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Am={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Om=/%COMP%/g,bE="%COMP%",JN=`_nghost-${bE}`,ZN=`_ngcontent-${bE}`,XN=!0,eO=new U("",{providedIn:"root",factory:()=>XN});function tO(t){return ZN.replace(Om,t)}function nO(t){return JN.replace(Om,t)}function EE(t,e){return e.map(n=>n.replace(Om,t))}var _E=(()=>{class t{constructor(n,i,r,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Iu(a),this.defaultRenderer=new sa(n,s,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Mn.ShadowDom&&(i=Y(R({},i),{encapsulation:Mn.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Nu?r.applyToHost(n):r instanceof aa&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Mn.Emulated:o=new Nu(c,l,i,this.appId,h,s,a,p);break;case Mn.ShadowDom:return new Nm(c,l,n,i,s,a,this.nonce,p);default:o=new aa(c,l,i,h,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(B(wE),B(CE),B(Gp),B(eO),B(gt),B(nn),B(Te),B(Hp))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),sa=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Am[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vE(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(vE(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new $(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=Am[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Am[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Xn.DashCase|Xn.Important)?e.style.setProperty(n,i,r&Xn.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ai().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Nm=class extends sa{constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=EE(r.id,r.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},aa=class extends sa{constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?EE(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nu=class extends aa{constructor(e,n,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,n,i,o,s,a,c,l),this.contentAttr=tO(l),this.hostAttr=nO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},iO=(()=>{class t extends Ru{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(B(gt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),yE=["alt","control","meta","shift"],rO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},sO=(()=>{class t extends Ru{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ai().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),yE.forEach(l=>{let h=i.indexOf(l);h>-1&&(i.splice(h,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,i){let r=rO[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),yE.forEach(s=>{if(s!==r){let a=oO[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{t.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||t)(B(gt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function IE(t,e){return Bb(R({rootComponent:t},aO(e)))}function aO(t){return{appProviders:[...hO,...t?.providers??[]],platformProviders:dO}}function cO(){Pm.makeCurrent()}function lO(){return new On}function uO(){return WC(document),document}var dO=[{provide:nn,useValue:bm},{provide:zp,useValue:cO,multi:!0},{provide:gt,useFactory:uO,deps:[]}];var hO=[{provide:$l,useValue:"root"},{provide:On,useFactory:lO,deps:[]},{provide:Rm,useClass:iO,multi:!0,deps:[gt,Te,nn]},{provide:Rm,useClass:sO,multi:!0,deps:[gt]},_E,CE,wE,{provide:zs,useExisting:_E},{provide:Oo,useClass:YN,deps:[]},[]];var TE=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||t)(B(gt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var kE=(()=>{class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||t)(q(Fn),q(vn))}}static{this.\u0275dir=Pe({type:t})}}return t})(),Bo=(()=>{class t extends kE{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=tn(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,features:[ct]})}}return t})(),ki=new U(""),pO={provide:ki,useExisting:It(()=>jm),multi:!0},jm=(()=>{class t extends Bo{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=tn(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Ut([pO]),ct]})}}return t})(),mO={provide:ki,useExisting:It(()=>$o),multi:!0};function gO(){let t=ai()?ai().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var _O=new U(""),$o=(()=>{class t extends kE{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!gO())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||t)(q(Fn),q(vn),q(_O,8))}}static{this.\u0275dir=Pe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&I("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ut([mO]),ct]})}}return t})();function Ni(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function FE(t){return t!=null&&typeof t.length=="number"}var qo=new U(""),Um=new U(""),vO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,et=class{static min(e){return VE(e)}static max(e){return LE(e)}static required(e){return jE(e)}static requiredTrue(e){return yO(e)}static email(e){return wO(e)}static minLength(e){return CO(e)}static maxLength(e){return bO(e)}static pattern(e){return EO(e)}static nullValidator(e){return ku(e)}static compose(e){return zE(e)}static composeAsync(e){return WE(e)}};function VE(t){return e=>{if(Ni(e.value)||Ni(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function LE(t){return e=>{if(Ni(e.value)||Ni(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function jE(t){return Ni(t.value)?{required:!0}:null}function yO(t){return t.value===!0?null:{required:!0}}function wO(t){return Ni(t.value)||vO.test(t.value)?null:{email:!0}}function CO(t){return e=>Ni(e.value)||!FE(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function bO(t){return e=>FE(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function EO(t){if(!t)return ku;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Ni(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function ku(t){return null}function UE(t){return t!=null}function BE(t){return yr(t)?ke(t):t}function $E(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function qE(t,e){return e.map(n=>n(t))}function IO(t){return!t.validate}function GE(t){return t.map(e=>IO(e)?e:n=>e.validate(n))}function zE(t){if(!t)return null;let e=t.filter(UE);return e.length==0?null:function(n){return $E(qE(n,e))}}function HE(t){return t!=null?zE(GE(t)):null}function WE(t){if(!t)return null;let e=t.filter(UE);return e.length==0?null:function(n){let i=qE(n,e).map(BE);return vf(i).pipe(ee($E))}}function KE(t){return t!=null?WE(GE(t)):null}function xE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QE(t){return t._rawValidators}function YE(t){return t._rawAsyncValidators}function km(t){return t?Array.isArray(t)?t:[t]:[]}function Fu(t,e){return Array.isArray(t)?t.includes(e):t===e}function DE(t,e){let n=km(e);return km(t).forEach(r=>{Fu(n,r)||n.push(r)}),n}function SE(t,e){return km(e).filter(n=>!Fu(t,n))}var Vu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ir=class extends Vu{get formDirective(){return null}get path(){return null}},Oi=class extends Vu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Lu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},TO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pQ=Y(R({},TO),{"[class.ng-submitted]":"isSubmitted"}),$u=(()=>{class t extends Lu{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(q(Oi,2))}}static{this.\u0275dir=Pe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&xe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ct]})}}return t})(),JE=(()=>{class t extends Lu{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(q(Ir,10))}}static{this.\u0275dir=Pe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&xe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ct]})}}return t})();var ca="VALID",Ou="INVALID",jo="PENDING",la="DISABLED";function Bm(t){return(qu(t)?t.validators:t)||null}function xO(t){return Array.isArray(t)?HE(t):t||null}function $m(t,e){return(qu(e)?e.asyncValidators:t)||null}function DO(t){return Array.isArray(t)?KE(t):t||null}function qu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ZE(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new $(1e3,"");if(!i[n])throw new $(1001,"")}function XE(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new $(1002,"")})}var Uo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ca}get invalid(){return this.status===Ou}get pending(){return this.status==jo}get disabled(){return this.status===la}get enabled(){return this.status!==la}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SE(e,this._rawAsyncValidators))}hasValidator(e){return Fu(this._rawValidators,e)}hasAsyncValidator(e){return Fu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=jo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=la,this.errors=null,this._forEachChild(i=>{i.disable(Y(R({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ca,this._forEachChild(i=>{i.enable(Y(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Y(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ca||this.status===jo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?la:ca}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=jo,this._hasOwnPendingAsyncValidator=!0;let n=BE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?la:this.errors?Ou:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jo)?jo:this._anyControlsHaveStatus(Ou)?Ou:ca}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=xO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=DO(this._rawAsyncValidators)}},ju=class extends Uo{constructor(e,n,i){super(Bm(n),$m(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){XE(this,!0,e),Object.keys(e).forEach(i=>{ZE(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Fm=class extends ju{};var da=new U("CallSetDisabledState",{providedIn:"root",factory:()=>ha}),ha="always";function eI(t,e){return[...e.path,t]}function Vm(t,e,n=ha){qm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),AO(t,e),PO(t,e),MO(t,e),SO(t,e)}function AE(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Bu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Uu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function SO(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function qm(t,e){let n=QE(t);e.validator!==null?t.setValidators(xE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=YE(t);e.asyncValidator!==null?t.setAsyncValidators(xE(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Uu(e._rawValidators,r),Uu(e._rawAsyncValidators,r)}function Bu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=QE(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=YE(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Uu(e._rawValidators,i),Uu(e._rawAsyncValidators,i),n}function AO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&tI(t,e)})}function MO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&tI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function tI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function PO(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function RO(t,e){t==null,qm(t,e)}function NO(t,e){return Bu(t,e)}function nI(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function OO(t){return Object.getPrototypeOf(t.constructor)===Bo}function kO(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function iI(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===$o?n=o:OO(o)?i=o:r=o}),r||i||n||null}function FO(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ME(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ua=class extends Uo{constructor(e=null,n,i){super(Bm(n),$m(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(PE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ME(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ME(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var VO=t=>t instanceof ua;var LO={provide:Oi,useExisting:It(()=>fa)},RE=Promise.resolve(),fa=(()=>{class t extends Oi{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new ua,this._registered=!1,this.name="",this.update=new Fe,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=iI(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),nI(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Vm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){RE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&ta(i);RE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?eI(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||t)(q(Ir,9),q(qo,10),q(Um,10),q(ki,10),q(wr,8),q(da,8))}}static{this.\u0275dir=Pe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[at.None,"disabled","isDisabled"],model:[at.None,"ngModel","model"],options:[at.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([LO]),ct,ii]})}}return t})(),rI=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Pe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),jO={provide:ki,useExisting:It(()=>Gm),multi:!0},Gm=(()=>{class t extends Bo{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=tn(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&I("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ut([jO]),ct]})}}return t})(),UO={provide:ki,useExisting:It(()=>zm),multi:!0};var BO=(()=>{class t{constructor(){this._accessors=[]}add(n,i){this._accessors.push([n,i])}remove(n){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===n){this._accessors.splice(i,1);return}}select(n){this._accessors.forEach(i=>{this._isSameGroup(i,n)&&i[1]!==n&&i[1].fireUncheck(n.value)})}_isSameGroup(n,i){return n[0].control?n[0]._parent===i._control._parent&&n[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zm=(()=>{class t extends Bo{constructor(n,i,r,o){super(n,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=O(da,{optional:!0})??ha}ngOnInit(){this._control=this._injector.get(Oi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||t)(q(Fn),q(vn),q(BO),q(Ft))}}static{this.\u0275dir=Pe({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ut([UO]),ct]})}}return t})();var oI=new U("");var $O={provide:Ir,useExisting:It(()=>Hm)},Hm=(()=>{class t extends Ir{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return Vm(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){AE(n.control||null,n,!1),FO(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,kO(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(AE(i||null,n),VO(r)&&(Vm(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);RO(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&NO(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qm(this.form,this),this._oldForm&&Bu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||t)(q(qo,10),q(Um,10),q(da,8))}}static{this.\u0275dir=Pe({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&I("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[at.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([$O]),ct,ii]})}}return t})();var qO={provide:Oi,useExisting:It(()=>Wm)},Wm=(()=>{class t extends Oi{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=iI(this,o)}ngOnChanges(n){this._added||this._setUpControl(),nI(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return eI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(q(Ir,13),q(qo,10),q(Um,10),q(ki,10),q(oI,8))}}static{this.\u0275dir=Pe({type:t,selectors:[["","formControlName",""]],inputs:{name:[at.None,"formControlName","name"],isDisabled:[at.None,"disabled","isDisabled"],model:[at.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ut([qO]),ct,ii]})}}return t})(),GO={provide:ki,useExisting:It(()=>Go),multi:!0};function sI(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function zO(t){return t.split(":")[0]}var Go=(()=>{class t extends Bo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),r=sI(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=zO(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=tn(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([GO]),ct]})}}return t})(),Gu=(()=>{class t{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(sI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(q(vn),q(Fn),q(Go,9))}}static{this.\u0275dir=Pe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),HO={provide:ki,useExisting:It(()=>aI),multi:!0};function NE(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function WO(t){return t.split(":")[0]}var aI=(()=>{class t extends Bo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=WO(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=tn(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([HO]),ct]})}}return t})(),zu=(()=>{class t{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(NE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(NE(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(q(vn),q(Fn),q(aI,9))}}static{this.\u0275dir=Pe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function cI(t){return typeof t=="number"?t:parseFloat(t)}var Km=(()=>{class t{constructor(){this._validator=ku}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ku,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Pe({type:t,features:[ii]})}}return t})(),KO={provide:qo,useExisting:It(()=>Qm),multi:!0},Qm=(()=>{class t extends Km{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>cI(n),this.createValidator=n=>LE(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=tn(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ai("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ut([KO]),ct]})}}return t})(),QO={provide:qo,useExisting:It(()=>Ym),multi:!0},Ym=(()=>{class t extends Km{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>cI(n),this.createValidator=n=>VE(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=tn(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ai("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ut([QO]),ct]})}}return t})(),YO={provide:qo,useExisting:It(()=>Jm),multi:!0};var Jm=(()=>{class t extends Km{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ta,this.createValidator=n=>jE}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=tn(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ai("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ut([YO]),ct]})}}return t})();var lI=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ot({type:t})}static{this.\u0275inj=Nt({})}}return t})(),Lm=class extends Uo{constructor(e,n,i){super(Bm(n),$m(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){XE(this,!1,e),e.forEach((i,r)=>{ZE(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function OE(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var uI=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,i=null){let r=this._reduceControls(n),o={};return OE(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ju(r,o)}record(n,i=null){let r=this._reduceControls(n);return new Fm(r,i)}control(n,i,r){let o={};return this.useNonNullable?(OE(i)?o=i:(o.validators=i,o.asyncValidators=r),new ua(n,Y(R({},o),{nonNullable:!0}))):new ua(n,i,r)}array(n,i,r){let o=n.map(s=>this._createControl(s));return new Lm(o,i,r)}_reduceControls(n){let i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){if(n instanceof ua)return n;if(n instanceof Uo)return n;if(Array.isArray(n)){let i=n[0],r=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(i,r,o)}else return this.control(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Hu=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:da,useValue:n.callSetDisabledState??ha}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ot({type:t})}static{this.\u0275inj=Nt({imports:[lI]})}}return t})(),dI=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:oI,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:da,useValue:n.callSetDisabledState??ha}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ot({type:t})}static{this.\u0275inj=Nt({imports:[lI]})}}return t})();var Zm=[{id:1,name:"Stand. Flawinne FC",players:[{name:"Joueur non list\xE9",type:"milieu"}]},{id:2,name:"U10 Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Daniel",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:3,name:"U9 Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]},{id:4,name:"U11B Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Daniel",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:5,name:"U10A Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]}];function Xm(t){return(!t.players||t.players.length===0)&&(t.players=[{name:"Joueur non list\xE9",type:"milieu"}]),t}var ne="primary",Aa=Symbol("RouteTitle"),rg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qo(t){return new rg(t)}function JO(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function ZO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}function Vn(t,e){let n=t?og(t):void 0,i=e?og(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!CI(t[r],e[r]))return!1;return!0}function og(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function CI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function bI(t){return t.length>0?t[t.length-1]:null}function Ui(t){return _f(t)?t:yr(t)?ke(Promise.resolve(t)):H(t)}var XO={exact:II,subset:TI},EI={exact:ek,subset:tk,ignored:()=>!0};function fI(t,e,n){return XO[n.paths](t.root,e.root,n.matrixParams)&&EI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function ek(t,e){return Vn(t,e)}function II(t,e,n){if(!xr(t.segments,e.segments)||!Qu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!II(t.children[i],e.children[i],n))return!1;return!0}function tk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>CI(t[n],e[n]))}function TI(t,e,n){return xI(t,e,e.segments,n)}function xI(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!xr(r,n)||e.hasChildren()||!Qu(r,n,i))}else if(t.segments.length===n.length){if(!xr(t.segments,n)||!Qu(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!TI(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!xr(t.segments,r)||!Qu(t.segments,r,i)||!t.children[ne]?!1:xI(t.children[ne],e,o,i)}}function Qu(t,e,n){return e.every((i,r)=>EI[n](t[r].parameters,i.parameters))}var Fi=class{constructor(e=new De([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Qo(this.queryParams),this._queryParamMap}toString(){return rk.serialize(this)}},De=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yu(this)}},Tr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qo(this.parameters),this._parameterMap}toString(){return SI(this)}};function nk(t,e){return xr(t,e)&&t.every((n,i)=>Vn(n.parameters,e[i].parameters))}function xr(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function ik(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===ne&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==ne&&(n=n.concat(e(r,i)))}),n}var Ma=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>new wa,providedIn:"root"})}}return t})(),wa=class{parse(e){let n=new ag(e);return new Fi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${pa(e.root,!0)}`,i=ak(e.queryParams),r=typeof e.fragment=="string"?`#${ok(e.fragment)}`:"";return`${n}${i}${r}`}},rk=new wa;function Yu(t){return t.segments.map(e=>SI(e)).join("/")}function pa(t,e){if(!t.hasChildren())return Yu(t);if(e){let n=t.children[ne]?pa(t.children[ne],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==ne&&i.push(`${r}:${pa(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=ik(t,(i,r)=>r===ne?[pa(t.children[ne],!1)]:[`${r}:${pa(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Yu(t)}/${n[0]}`:`${Yu(t)}/(${n.join("//")})`}}function DI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wu(t){return DI(t).replace(/%3B/gi,";")}function ok(t){return encodeURI(t)}function sg(t){return DI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ju(t){return decodeURIComponent(t)}function pI(t){return Ju(t.replace(/\+/g,"%20"))}function SI(t){return`${sg(t.path)}${sk(t.parameters)}`}function sk(t){return Object.entries(t).map(([e,n])=>`;${sg(e)}=${sg(n)}`).join("")}function ak(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Wu(n)}=${Wu(r)}`).join("&"):`${Wu(n)}=${Wu(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ck=/^[^\/()?;#]+/;function eg(t){let e=t.match(ck);return e?e[0]:""}var lk=/^[^\/()?;=#]+/;function uk(t){let e=t.match(lk);return e?e[0]:""}var dk=/^[^=?&#]+/;function hk(t){let e=t.match(dk);return e?e[0]:""}var fk=/^[^&#]+/;function pk(t){let e=t.match(fk);return e?e[0]:""}var ag=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ne]=new De(e,n)),i}parseSegment(){let e=eg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Tr(Ju(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=uk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=eg(this.remaining);r&&(i=r,this.capture(i))}e[Ju(n)]=Ju(i)}parseQueryParam(e){let n=hk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=pk(this.remaining);s&&(i=s,this.capture(i))}let r=pI(n),o=pI(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=eg(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new $(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ne]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function AI(t){return t.segments.length>0?new De([],{[ne]:t}):t}function MI(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=MI(r);if(i===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new De(t.segments,e);return mk(n)}function mk(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new De(t.segments.concat(e.segments),e.children)}return t}function Yo(t){return t instanceof Fi}function gk(t,e,n=null,i=null){let r=PI(t);return RI(r,e,n,i)}function PI(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new De(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=AI(i);return e??r}function RI(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return tg(r,r,r,n,i);let o=_k(e);if(o.toRoot())return tg(r,r,new De([],{}),n,i);let s=vk(o,r,t),a=s.processChildren?_a(s.segmentGroup,s.index,o.commands):OI(s.segmentGroup,s.index,o.commands);return tg(r,s.segmentGroup,a,n,i)}function Zu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ca(t){return typeof t=="object"&&t!=null&&t.outlets}function tg(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=NI(t,e,n);let a=AI(MI(s));return new Fi(a,o,r)}function NI(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=NI(o,e,n)}),new De(t.segments,i)}var Xu=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Zu(i[0]))throw new $(4003,!1);let r=i.find(Ca);if(r&&r!==bI(i))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _k(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xu(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Xu(n,e,i)}var Wo=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function vk(t,e,n){if(t.isAbsolute)return new Wo(e,!0,0);if(!n)return new Wo(e,!1,NaN);if(n.parent===null)return new Wo(n,!0,0);let i=Zu(t.commands[0])?0:1,r=n.segments.length-1+i;return yk(n,r,t.numberOfDoubleDots)}function yk(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $(4005,!1);r=i.segments.length}return new Wo(i,!1,r-o)}function wk(t){return Ca(t[0])?t[0].outlets:{[ne]:t}}function OI(t,e,n){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return _a(t,e,n);let i=Ck(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new De(t.segments.slice(0,i.pathIndex),{});return o.children[ne]=new De(t.segments.slice(i.pathIndex),t.children),_a(o,0,r)}else return i.match&&r.length===0?new De(t.segments,{}):i.match&&!t.hasChildren()?cg(t,e,n):i.match?_a(t,0,r):cg(t,e,n)}function _a(t,e,n){if(n.length===0)return new De(t.segments,{});{let i=wk(n),r={};if(Object.keys(i).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=_a(t.children[ne],e,n);return new De(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=OI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new De(t.segments,r)}}function Ck(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(Ca(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!gI(c,l,s))return o;i+=2}else{if(!gI(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function cg(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Ca(o)){let c=bk(o.outlets);return new De(i,c)}if(r===0&&Zu(n[0])){let c=t.segments[e];i.push(new Tr(c.path,mI(n[0]))),r++;continue}let s=Ca(o)?o.outlets[ne]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Zu(a)?(i.push(new Tr(s,mI(a))),r+=2):(i.push(new Tr(s,{})),r++)}return new De(i,{})}function bk(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=cg(new De([],{}),0,i))}),e}function mI(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function gI(t,e,n){return t==n.path&&Vn(e,n.parameters)}var va="imperative",tt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(tt||{}),sn=class{constructor(e,n){this.id=e,this.url=n}},Jo=class extends sn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=tt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends sn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(zt||{}),ed=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ed||{}),Vi=class extends sn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Li=class extends sn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=tt.NavigationSkipped}},ba=class extends sn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},td=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ug=class extends sn{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dg=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pg=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mg=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gg=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_g=class{constructor(e){this.snapshot=e,this.type=tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vg=class{constructor(e){this.snapshot=e,this.type=tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nd=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=tt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ea=class{},Ia=class{constructor(e){this.url=e}};var yg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pa,this.attachRef=null}},Pa=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new yg,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),id=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=wg(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=wg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Cg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Cg(e,this._root).map(n=>n.value)}};function wg(t,e){if(t===e.value)return e;for(let n of e.children){let i=wg(t,n);if(i)return i}return null}function Cg(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Cg(t,n);if(i.length)return i.unshift(e),i}return[]}var Gt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ho(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var rd=class extends id{constructor(e,n){super(e),this.snapshot=n,Pg(this,e)}toString(){return this.snapshot.toString()}};function kI(t){let e=Ek(t),n=new st([new Tr("",{})]),i=new st({}),r=new st({}),o=new st({}),s=new st(""),a=new li(n,i,o,s,r,ne,t,e.root);return a.snapshot=e.root,new rd(new Gt(a,[]),e)}function Ek(t){let e={},n={},i={},r="",o=new Ta([],e,i,r,n,ne,t,null,{});return new od("",new Gt(o,[]))}var li=class{constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[Aa]))??H(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Qo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Qo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Mg(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),r?.data),t._resolvedData)}:i={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},r&&VI(r)&&(i.resolve[Aa]=r.title),i}var Ta=class{get title(){return this.data?.[Aa]}constructor(e,n,i,r,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},od=class extends id{constructor(e,n){super(n),this.url=e,Pg(this,n)}toString(){return FI(this._root)}};function Pg(t,e){e.value._routerState=t,e.children.forEach(n=>Pg(t,n))}function FI(t){let e=t.children.length>0?` { ${t.children.map(FI).join(", ")} } `:"";return`${t.value}${e}`}function ng(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vn(e.params,n.params)||t.paramsSubject.next(n.params),ZO(e.url,n.url)||t.urlSubject.next(n.url),Vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bg(t,e){let n=Vn(t.params,e.params)&&nk(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||bg(t.parent,e.parent))}function VI(t){return typeof t.title=="string"||t.title===null}var Rg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=O(Pa),this.location=O(Po),this.changeDetector=O(wr),this.environmentInjector=O(ft),this.inputBinder=O(ld,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Eg(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Pe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ii]})}}return t})(),Eg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===li?this.route:e===Pa?this.childContexts:this.parent.get(e,n)}},ld=new U(""),_I=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=ks([i.queryParams,i.params,i.data]).pipe(Pt(([o,s,a],c)=>(a=R(R(R({},o),s),a),c===0?H(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=$b(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function Ik(t,e,n){let i=xa(t,e._root,n?n._root:void 0);return new rd(i,e)}function xa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=Tk(t,e,n);return new Gt(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xa(t,a)),s}}let i=xk(e.value),r=e.children.map(o=>xa(t,o));return new Gt(i,r)}}function Tk(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return xa(t,i,r);return xa(t,i)})}function xk(t){return new li(new st(t.url),new st(t.params),new st(t.queryParams),new st(t.fragment),new st(t.data),t.outlet,t.component,t)}var LI="ngNavigationCancelingError";function jI(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Yo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=UI(!1,zt.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function UI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[LI]=!0,n.cancellationCode=e,n}function Dk(t){return BI(t)&&Yo(t.url)}function BI(t){return!!t&&t[LI]}var Sk=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Di({type:t,selectors:[["ng-component"]],standalone:!0,features:[Mi],decls:1,vars:0,template:function(i,r){i&1&&E(0,"router-outlet")},dependencies:[Rg],encapsulation:2})}}return t})();function Ak(t,e){return t.providers&&!t._injector&&(t._injector=su(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ng(t){let e=t.children&&t.children.map(Ng),n=e?Y(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=Sk),n}function Ln(t){return t.outlet||ne}function Mk(t,e){let n=t.filter(i=>Ln(i)===e);return n.push(...t.filter(i=>Ln(i)!==e)),n}function Ra(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Pk=(t,e,n,i)=>ee(r=>(new Ig(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Ig=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),ng(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ho(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ho(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new vg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gg(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(ng(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ng(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ra(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},sd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ko=class{constructor(e,n){this.component=e,this.route=n}};function Rk(t,e,n){let i=t._root,r=e?e._root:null;return ma(i,r,n,[i.value])}function Nk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Xo(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!jw(t)?t:e.get(t):i}function ma(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ho(e);return t.children.forEach(s=>{Ok(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ya(a,n.getContext(s),r)),r}function Ok(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=kk(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new sd(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ma(t,e,a?a.children:null,i,r):ma(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ko(a.outlet.component,s))}else s&&ya(e,a,r),r.canActivateChecks.push(new sd(i)),o.component?ma(t,null,a?a.children:null,i,r):ma(t,null,n,i,r);return r}function kk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!xr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xr(t.url,e.url)||!Vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bg(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!bg(t,e)}}function ya(t,e,n){let i=Ho(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?ya(s,e.children.getContext(o),n):ya(s,null,n):ya(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ko(e.outlet.component,r)):n.canDeactivateChecks.push(new Ko(null,r)):n.canDeactivateChecks.push(new Ko(null,r))}function Na(t){return typeof t=="function"}function Fk(t){return typeof t=="boolean"}function Vk(t){return t&&Na(t.canLoad)}function Lk(t){return t&&Na(t.canActivate)}function jk(t){return t&&Na(t.canActivateChild)}function Uk(t){return t&&Na(t.canDeactivate)}function Bk(t){return t&&Na(t.canMatch)}function $I(t){return t instanceof Qn||t?.name==="EmptyError"}var Ku=Symbol("INITIAL_VALUE");function Zo(){return Pt(t=>ks(t.map(e=>e.pipe(Jn(1),bf(Ku)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===Ku)return Ku;if(n===!1||n instanceof Fi)return n}return!0}),Mt(e=>e!==Ku),Jn(1)))}function $k(t,e){return ze(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?H(Y(R({},n),{guardsResult:!0})):qk(s,i,r,t).pipe(ze(a=>a&&Fk(a)?Gk(i,o,t,e):H(a)),ee(a=>Y(R({},n),{guardsResult:a})))})}function qk(t,e,n,i){return ke(t).pipe(ze(r=>Qk(r.component,r.route,n,e,i)),Dn(r=>r!==!0,!0))}function Gk(t,e,n,i){return ke(e).pipe(Yn(r=>ho(Hk(r.route.parent,i),zk(r.route,i),Kk(t,r.path,n),Wk(t,r.route,n))),Dn(r=>r!==!0,!0))}function zk(t,e){return t!==null&&e&&e(new _g(t)),H(!0)}function Hk(t,e){return t!==null&&e&&e(new mg(t)),H(!0)}function Wk(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return H(!0);let r=i.map(o=>al(()=>{let s=Ra(e)??n,a=Xo(o,s),c=Lk(a)?a.canActivate(e,t):gn(s,()=>a(e,t));return Ui(c).pipe(Dn())}));return H(r).pipe(Zo())}function Kk(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Nk(s)).filter(s=>s!==null).map(s=>al(()=>{let a=s.guards.map(c=>{let l=Ra(s.node)??n,h=Xo(c,l),p=jk(h)?h.canActivateChild(i,t):gn(l,()=>h(i,t));return Ui(p).pipe(Dn())});return H(a).pipe(Zo())}));return H(o).pipe(Zo())}function Qk(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let c=Ra(e)??r,l=Xo(a,c),h=Uk(l)?l.canDeactivate(t,e,n,i):gn(c,()=>l(t,e,n,i));return Ui(h).pipe(Dn())});return H(s).pipe(Zo())}function Yk(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return H(!0);let o=r.map(s=>{let a=Xo(s,t),c=Vk(a)?a.canLoad(e,n):gn(t,()=>a(e,n));return Ui(c)});return H(o).pipe(Zo(),qI(i))}function qI(t){return lf(He(e=>{if(Yo(e))throw jI(t,e)}),ee(e=>e===!0))}function Jk(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return H(!0);let o=r.map(s=>{let a=Xo(s,t),c=Bk(a)?a.canMatch(e,n):gn(t,()=>a(e,n));return Ui(c)});return H(o).pipe(Zo(),qI(i))}var Da=class{constructor(e){this.segmentGroup=e||null}},ad=class extends Error{constructor(e){super(),this.urlTree=e}};function zo(t){return lo(new Da(t))}function Zk(t){return lo(new $(4e3,!1))}function Xk(t){return lo(UI(!1,zt.GuardRejected))}var Tg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return H(i);if(r.numberOfChildren>1||!r.children[ne])return Zk(e.redirectTo);r=r.children[ne]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new ad(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Fi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new De(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new $(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},xg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eF(t,e,n,i,r){let o=Og(t,e,n);return o.matched?(i=Ak(e,i),Jk(i,e,n,r).pipe(ee(s=>s===!0?o:R({},xg)))):H(o)}function Og(t,e,n){if(e.path==="**")return tF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},xg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||JO)(n,t,e);if(!r)return R({},xg);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?R(R({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function tF(t){return{matched:!0,parameters:t.length>0?bI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function vI(t,e,n,i){return n.length>0&&rF(t,n,i)?{segmentGroup:new De(e,iF(i,new De(n,t.children))),slicedSegments:[]}:n.length===0&&oF(t,n,i)?{segmentGroup:new De(t.segments,nF(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function nF(t,e,n,i){let r={};for(let o of n)if(ud(t,e,o)&&!i[Ln(o)]){let s=new De([],{});r[Ln(o)]=s}return R(R({},i),r)}function iF(t,e){let n={};n[ne]=e;for(let i of t)if(i.path===""&&Ln(i)!==ne){let r=new De([],{});n[Ln(i)]=r}return n}function rF(t,e,n){return n.some(i=>ud(t,e,i)&&Ln(i)!==ne)}function oF(t,e,n){return n.some(i=>ud(t,e,i))}function ud(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function sF(t,e,n,i){return Ln(t)!==i&&(i===ne||!ud(e,n,t))?!1:Og(e,t,n).matched}function aF(t,e,n){return e.length===0&&!t.children[n]}var Dg=class{};function cF(t,e,n,i,r,o,s="emptyOnly"){return new Sg(t,e,n,i,r,s,o).recognize()}var lF=31,Sg=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Tg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=vI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(n=>{let i=new Ta([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),r=new Gt(i,n),o=new od("",r),s=gk(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(vi(i=>{if(i instanceof ad)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Da?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Mg(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(ee(o=>o instanceof Gt?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return ke(r).pipe(Yn(o=>{let s=i.children[o],a=Mk(n,o);return this.processSegmentGroup(e,a,s,o)}),Cf((o,s)=>(o.push(...s),o)),yi(null),wf(),ze(o=>{if(o===null)return zo(i);let s=GI(o);return uF(s),H(s)}))}processSegment(e,n,i,r,o,s){return ke(n).pipe(Yn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,o,s).pipe(vi(c=>{if(c instanceof Da)return H(null);throw c}))),Dn(a=>!!a),vi(a=>{if($I(a))return aF(i,r,o)?H(new Dg):zo(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,o,s,a){return sF(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):zo(r):zo(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:h}=Og(n,r,o);if(!a)return zo(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lF&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,p).pipe(ze(v=>this.processSegment(e,i,n,v.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=eF(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(Pt(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Pt(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:v}=a,y=new Ta(h,v,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,hF(i),Ln(i),i.component??i._loadedComponent??null,i,fF(i)),{segmentGroup:D,slicedSegments:S}=vI(n,h,p,c);if(S.length===0&&D.hasChildren())return this.processChildren(l,c,D).pipe(ee(F=>F===null?null:new Gt(y,F)));if(c.length===0&&S.length===0)return H(new Gt(y,[]));let M=Ln(i)===o;return this.processSegment(l,c,D,S,M?ne:o,!0).pipe(ee(F=>new Gt(y,F instanceof Gt?[F]:[])))}))):zo(n)))}getChildConfig(e,n,i){return n.children?H({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):Yk(e,n,i,this.urlSerializer).pipe(ze(r=>r?this.configLoader.loadChildren(e,n).pipe(He(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Xk(n))):H({routes:[],injector:e})}};function uF(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function dF(t){let e=t.value.routeConfig;return e&&e.path===""}function GI(t){let e=[],n=new Set;for(let i of t){if(!dF(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=GI(i.children);e.push(new Gt(i.value,r))}return e.filter(i=>!n.has(i))}function hF(t){return t.data||{}}function fF(t){return t.resolve||{}}function pF(t,e,n,i,r,o){return ze(s=>cF(t,e,n,i,s.extractedUrl,r,o).pipe(ee(({state:a,tree:c})=>Y(R({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function mF(t,e){return ze(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return H(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of zI(c))s.add(l);let a=0;return ke(s).pipe(Yn(c=>o.has(c)?gF(c,i,t,e):(c.data=Mg(c,c.parent,t).resolve,H(void 0))),He(()=>a++),fo(1),ze(c=>a===s.size?H(n):jt))})}function zI(t){let e=t.children.map(n=>zI(n)).flat();return[t,...e]}function gF(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!VI(r)&&(o[Aa]=r.title),_F(o,t,e,i).pipe(ee(s=>(t._resolvedData=s,t.data=Mg(t,t.parent,n).resolve,null)))}function _F(t,e,n,i){let r=og(t);if(r.length===0)return H({});let o={};return ke(r).pipe(ze(s=>vF(t[s],e,n,i).pipe(Dn(),He(a=>{o[s]=a}))),fo(1),yf(o),vi(s=>$I(s)?jt:lo(s)))}function vF(t,e,n,i){let r=Ra(e)??i,o=Xo(t,r),s=o.resolve?o.resolve(e,n):gn(r,()=>o(e,n));return Ui(s)}function ig(t){return Pt(e=>{let n=t(e);return n?ke(n).pipe(ee(()=>e)):H(e)})}var HI=(()=>{class t{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ne);return i}getResolvedTitleForRoute(n){return n.data[Aa]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(yF),providedIn:"root"})}}return t})(),yF=(()=>{class t extends HI{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(B(TE))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Oa=new U("",{providedIn:"root",factory:()=>({})}),Sa=new U(""),kg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(lu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return H(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Ui(n.loadComponent()).pipe(ee(WI),He(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),or(()=>{this.componentLoaders.delete(n)})),r=new oo(i,()=>new Ct).pipe(ro());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return H({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=wF(i,this.compiler,n,this.onLoadEndListener).pipe(or(()=>{this.childrenLoaders.delete(i)})),s=new oo(o,()=>new Ct).pipe(ro());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wF(t,e,n,i){return Ui(t.loadChildren()).pipe(ee(WI),ze(r=>r instanceof Hs||Array.isArray(r)?H(r):ke(e.compileModuleAsync(r))),ee(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Sa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ng),injector:o}}))}function CF(t){return t&&typeof t=="object"&&"default"in t}function WI(t){return CF(t)?t.default:t}var Fg=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(bF),providedIn:"root"})}}return t})(),bF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),KI=new U(""),QI=new U("");function EF(t,e,n){let i=t.get(QI),r=t.get(gt);return t.get(Te).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),IF(t))),{onViewTransitionCreated:c}=i;return c&&gn(t,()=>c({transition:a,from:e,to:n})),s})}function IF(t){return new Promise(e=>{ou(e,{injector:t})})}var Vg=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct,this.transitionAbortSubject=new Ct,this.configLoader=O(kg),this.environmentInjector=O(ft),this.urlSerializer=O(Ma),this.rootContexts=O(Pa),this.location=O(ko),this.inputBindingEnabled=O(ld,{optional:!0})!==null,this.titleStrategy=O(HI),this.options=O(Oa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Fg),this.createViewTransition=O(KI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null;let n=r=>this.events.next(new fg(r)),i=r=>this.events.next(new pg(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Y(R(R({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new st({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:va,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mt(o=>o.id!==0),ee(o=>Y(R({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Pt(o=>{let s=!1,a=!1;return H(o).pipe(Pt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",zt.SupersededByNewNavigation),jt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Y(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Li(c.id,this.urlSerializer.serialize(c.rawUrl),p,ed.IgnoredSameUrlNavigation)),c.resolve(null),jt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return H(c).pipe(Pt(p=>{let v=this.transitions?.getValue();return this.events.next(new Jo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?jt:Promise.resolve(p)}),pF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),He(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Y(R({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new td(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:v,source:y,restoredState:D,extras:S}=c,M=new Jo(p,this.urlSerializer.serialize(v),y,D);this.events.next(M);let F=kI(this.rootComponentType).snapshot;return this.currentTransition=o=Y(R({},c),{targetSnapshot:F,urlAfterRedirects:v,extras:Y(R({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,H(o)}else{let p="";return this.events.next(new Li(c.id,this.urlSerializer.serialize(c.extractedUrl),p,ed.IgnoredByUrlHandlingStrategy)),c.resolve(null),jt}}),He(c=>{let l=new lg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ee(c=>(this.currentTransition=o=Y(R({},c),{guards:Rk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),$k(this.environmentInjector,c=>this.events.next(c)),He(c=>{if(o.guardsResult=c.guardsResult,Yo(c.guardsResult))throw jI(this.urlSerializer,c.guardsResult);let l=new ug(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Mt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",zt.GuardRejected),!1)),ig(c=>{if(c.guards.canActivateChecks.length)return H(c).pipe(He(l=>{let h=new dg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Pt(l=>{let h=!1;return H(l).pipe(mF(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",zt.NoDataFromResolver)}}))}),He(l=>{let h=new hg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),ig(c=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(He(v=>{h.component=v}),ee(()=>{})));for(let v of h.children)p.push(...l(v));return p};return ks(l(c.targetSnapshot.root)).pipe(yi(null),Jn(1))}),ig(()=>this.afterPreactivation()),Pt(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return h?ke(h).pipe(ee(()=>o)):H(o)}),ee(c=>{let l=Ik(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Y(R({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),He(()=>{this.events.next(new Ea)}),Pk(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Jn(1),He({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ef(this.transitionAbortSubject.pipe(He(c=>{throw c}))),or(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",zt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),vi(c=>{if(a=!0,BI(c))this.events.next(new Vi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Dk(c)?this.events.next(new Ia(c.url)):o.resolve(!1);else{this.events.next(new ba(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return jt}))}))}cancelNavigationTransition(n,i,r){let o=new Vi(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function TF(t){return t!==va}var xF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(DF),providedIn:"root"})}}return t})(),Ag=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},DF=(()=>{class t extends Ag{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=tn(t)))(r||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YI=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>O(SF),providedIn:"root"})}}return t})(),SF=(()=>{class t extends YI{constructor(){super(...arguments),this.location=O(ko),this.urlSerializer=O(Ma),this.options=O(Oa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Fg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Jo)this.stateMemento=this.createStateMemento();else if(n instanceof Li)this.rawUrlTree=i.initialUrl;else if(n instanceof td){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else n instanceof Ea?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Vi&&(n.code===zt.GuardRejected||n.code===zt.NoDataFromResolver)?this.restoreHistory(i):n instanceof ba?this.restoreHistory(i,!0):n instanceof ci&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=R(R({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=R(R({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=tn(t)))(r||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ga=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ga||{});function JI(t,e){t.events.pipe(Mt(n=>n instanceof ci||n instanceof Vi||n instanceof ba||n instanceof Li),ee(n=>n instanceof ci||n instanceof Li?ga.COMPLETE:(n instanceof Vi?n.code===zt.Redirect||n.code===zt.SupersededByNewNavigation:!1)?ga.REDIRECTING:ga.FAILED),Mt(n=>n!==ga.REDIRECTING),Jn(1)).subscribe(()=>{e()})}function AF(t){throw t}var MF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ji=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(au),this.stateManager=O(YI),this.options=O(Oa,{optional:!0})||{},this.pendingTasks=O(Ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(Vg),this.urlSerializer=O(Ma),this.location=O(ko),this.urlHandlingStrategy=O(Fg),this._events=new Ct,this.errorHandler=this.options.errorHandler||AF,this.navigated=!1,this.routeReuseStrategy=O(xF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Sa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(ld,{optional:!0}),this.eventsSubscription=new $e,this.isNgZoneEnabled=O(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Vi&&i.code!==zt.Redirect&&i.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ci)this.navigated=!0;else if(i instanceof Ia){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||TF(r.source)};this.scheduleNavigation(s,va,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}NF(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),va,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=R({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ng),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,h=null;switch(a){case"merge":h=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let v=r?r.snapshot:this.routerState.snapshot.root;p=PI(v)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return RI(p,n,h,l??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Yo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,va,null,i)}navigate(n,i={skipLocationChange:!1}){return RF(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=R({},MF):i===!1?r=R({},PF):r=i,Yo(n))return fI(this.currentUrlTree,n,r);let o=this.parseUrl(n);return fI(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,v)=>{a=p,c=v});let h=this.pendingTasks.add();return JI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function RF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function NF(t){return!(t instanceof Ea)&&!(t instanceof Ia)}var cd=class{};var OF=(()=>{class t{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(n=>n instanceof ci),Yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=su(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ke(r).pipe(uo())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=H(null);let o=r.pipe(ze(s=>s===null?H(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ke([o,s]).pipe(uo())}else return o})}static{this.\u0275fac=function(i){return new(i||t)(B(ji),B(lu),B(ft),B(cd),B(kg))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ZI=new U(""),kF=(()=>{class t{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=O(ft),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Jo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ci?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Li&&n.code===ed.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof nd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>T(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),ou(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new nd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){ob()}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function XI(t,...e){return Ao([{provide:Sa,multi:!0,useValue:t},[],{provide:li,useFactory:e1,deps:[ji]},{provide:ea,multi:!0,useFactory:t1},e.map(n=>n.\u0275providers)])}function e1(t){return t.routerState.root}function ka(t,e){return{\u0275kind:t,\u0275providers:e}}function t1(){let t=O(Ft);return e=>{let n=t.get(No);if(e!==n.components[0])return;let i=t.get(ji),r=t.get(n1);t.get(Lg)===1&&i.initialNavigation(),t.get(i1,null,oe.Optional)?.setUpPreloading(),t.get(ZI,null,oe.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var n1=new U("",{factory:()=>new Ct}),Lg=new U("",{providedIn:"root",factory:()=>1});function FF(){return ka(2,[{provide:Lg,useValue:0},{provide:cu,multi:!0,deps:[Ft],useFactory:e=>{let n=e.get(Jb,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(ji),o=e.get(n1);JI(r,()=>{i(!0)}),e.get(Vg).afterPreactivation=()=>(i(!0),o.closed?H(void 0):o),r.initialNavigation()}))}}])}function VF(){return ka(3,[{provide:cu,multi:!0,useFactory:()=>{let e=O(ji);return()=>{e.setUpLocationChangeListener()}}},{provide:Lg,useValue:2}])}var i1=new U("");function LF(t){return ka(0,[{provide:i1,useExisting:OF},{provide:cd,useExisting:t}])}function jF(){return ka(8,[_I,{provide:ld,useExisting:_I}])}function UF(t){let e=[{provide:KI,useValue:EF},{provide:QI,useValue:R({skipNextTransition:!!t?.skipInitialTransition},t)}];return ka(9,e)}var yI=new U("ROUTER_FORROOT_GUARD"),BF=[ko,{provide:Ma,useClass:wa},ji,Pa,{provide:li,useFactory:e1,deps:[ji]},kg,[]],r1=(()=>{class t{constructor(n){}static forRoot(n,i){return{ngModule:t,providers:[BF,[],{provide:Sa,multi:!0,useValue:n},{provide:yI,useFactory:zF,deps:[[ji,new Xt,new Sp]]},{provide:Oa,useValue:i||{}},i?.useHash?qF():GF(),$F(),i?.preloadingStrategy?LF(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?HF(i):[],i?.bindToComponentInputs?jF().\u0275providers:[],i?.enableViewTransitions?UF().\u0275providers:[],WF()]}}static forChild(n){return{ngModule:t,providers:[{provide:Sa,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||t)(B(yI,8))}}static{this.\u0275mod=Ot({type:t})}static{this.\u0275inj=Nt({})}}return t})();function $F(){return{provide:ZI,useFactory:()=>{let t=O(aE),e=O(Te),n=O(Oa),i=O(Vg),r=O(Ma);return n.scrollOffset&&t.setOffset(n.scrollOffset),new kF(r,i,t,e,n)}}}function qF(){return{provide:Cr,useClass:Xb}}function GF(){return{provide:Cr,useClass:Cm}}function zF(t){return"guarded"}function HF(t){return[t.initialNavigation==="disabled"?VF().\u0275providers:[],t.initialNavigation==="enabledBlocking"?FF().\u0275providers:[]]}var wI=new U("");function WF(){return[{provide:wI,useFactory:t1},{provide:ea,multi:!0,useExisting:wI}]}function KF(t,e){if(t&1&&(f(0,"option",12),g(1),d()),t&2){let n=e.$implicit;m("value",n),u(),x(" ",n," ")}}function QF(t,e){if(t&1&&(f(0,"option",12),g(1),d()),t&2){let n=e.$implicit;m("value",n),u(),x(" ",n," ")}}function YF(t,e){if(t&1){let n=P();f(0,"div",19)(1,"div",20)(2,"div",21)(3,"h6",22),E(4,"i",23),g(5,"Nouvelle Comp\xE9tition "),d()(),f(6,"div",24)(7,"div",25)(8,"div",26)(9,"label",27),g(10,"Nom de la comp\xE9tition *"),d(),f(11,"input",28),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.competitionForm.name,r)||(o.competitionForm.name=r),b(r)}),d()(),f(12,"div",26)(13,"label",29),g(14,"Type"),d(),f(15,"select",30),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.competitionForm.type,r)||(o.competitionForm.type=r),b(r)}),w(16,QF,2,2,"option",13),d()(),f(17,"div",26)(18,"label",31),g(19,"Saison (lecture seule)"),d(),f(20,"input",32),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.competitionForm.season,r)||(o.competitionForm.season=r),b(r)}),d()()(),f(21,"div",33)(22,"label",34),g(23,"Description"),d(),f(24,"textarea",35),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.competitionForm.description,r)||(o.competitionForm.description=r),b(r)}),d()(),f(25,"div",36)(26,"button",37),I("click",function(){C(n);let r=_();return b(r.submitForm())}),E(27,"i",38),g(28,"Cr\xE9er "),d(),f(29,"button",17),I("click",function(){C(n);let r=_();return b(r.cancelForm())}),E(30,"i",18),g(31,"Annuler "),d()()()()()}if(t&2){let n=_();u(11),me("ngModel",n.competitionForm.name),u(4),me("ngModel",n.competitionForm.type),u(),m("ngForOf",n.competitionTypes),u(4),me("ngModel",n.competitionForm.season),u(4),me("ngModel",n.competitionForm.description)}}function JF(t,e){if(t&1&&(f(0,"option",12),g(1),d()),t&2){let n=e.$implicit;m("value",n),u(),x(" ",n," ")}}function ZF(t,e){if(t&1){let n=P();f(0,"div",19)(1,"div",20)(2,"div",39)(3,"h6",22),E(4,"i",40),g(5,"Modifier la Comp\xE9tition "),d()(),f(6,"div",24)(7,"div",25)(8,"div",26)(9,"label",41),g(10,"Nom de la comp\xE9tition *"),d(),f(11,"input",42),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.competitionForm.name,r)||(o.competitionForm.name=r),b(r)}),d()(),f(12,"div",26)(13,"label",43),g(14,"Type"),d(),f(15,"select",44),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.competitionForm.type,r)||(o.competitionForm.type=r),b(r)}),w(16,JF,2,2,"option",13),d()(),f(17,"div",26)(18,"label",45),g(19,"Saison (lecture seule)"),d(),f(20,"input",46),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.competitionForm.season,r)||(o.competitionForm.season=r),b(r)}),d()()(),f(21,"div",33)(22,"label",47),g(23,"Description"),d(),f(24,"textarea",48),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.competitionForm.description,r)||(o.competitionForm.description=r),b(r)}),d()(),f(25,"div",36)(26,"button",49),I("click",function(){C(n);let r=_();return b(r.submitForm())}),E(27,"i",38),g(28,"Mettre \xE0 jour "),d(),f(29,"button",17),I("click",function(){C(n);let r=_();return b(r.cancelForm())}),E(30,"i",18),g(31,"Annuler "),d()()()()()}if(t&2){let n=_();u(11),me("ngModel",n.competitionForm.name),u(4),me("ngModel",n.competitionForm.type),u(),m("ngForOf",n.competitionTypes),u(4),me("ngModel",n.competitionForm.season),u(4),me("ngModel",n.competitionForm.description)}}function XF(t,e){if(t&1&&(f(0,"span",74),E(1,"i",75),g(2),d()),t&2){let n=_(2).$implicit,i=_(2);u(2),x("",i.getSuggestedSeason(n)," ")}}function eV(t,e){if(t&1&&(f(0,"span",71),E(1,"i",72),g(2,"Sans saison "),w(3,XF,3,1,"span",73),d()),t&2){let n=_().$implicit,i=_(2);u(3),m("ngIf",i.getSuggestedSeason(n))}}function tV(t,e){if(t&1){let n=P();f(0,"button",76),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.openSeasonAssignment(r))}),E(1,"i",77),d()}}function nV(t,e){if(t&1){let n=P();f(0,"button",78),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.deleteCompetition(r))}),E(1,"i",79),d()}}function iV(t,e){if(t&1){let n=P();f(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54)(4,"input",63),I("change",function(){let r=C(n).$implicit,o=_(2);return b(o.selectCompetition(r))}),d(),f(5,"label",64)(6,"span",65),g(7),d(),w(8,eV,4,1,"span",66),d()()(),f(9,"div",58),w(10,tV,2,0,"button",67),f(11,"button",68),I("click",function(){let r=C(n).$implicit,o=_(2);return b(o.openEditForm(r))}),E(12,"i",69),d(),w(13,nV,2,0,"button",70),d()()()}if(t&2){let n=e.$implicit,i=_(2);u(4),m("value",n)("checked",i.selectedCompetition===n)("id","comp-"+n),u(3),te(n),u(),m("ngIf",i.isCompetitionWithoutSeason(n)),u(2),m("ngIf",i.isCompetitionWithoutSeason(n)),u(3),m("ngIf",i.showDeleteButtons)}}function rV(t,e){t&1&&(f(0,"div",80)(1,"div",81),E(2,"i",82),f(3,"p"),g(4,"Aucune comp\xE9tition trouv\xE9e pour cette saison."),d(),f(5,"p"),g(6,"Cr\xE9ez votre premi\xE8re comp\xE9tition !"),d()()())}function oV(t,e){if(t&1){let n=P();f(0,"button",83),I("click",function(){C(n);let r=_(2);return b(r.openAddForm())}),E(1,"i",23),g(2," Ajouter une nouvelle comp\xE9tition "),d()}}function sV(t,e){if(t&1){let n=P();f(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53)(4,"div",54)(5,"input",55),I("change",function(){C(n);let r=_();return b(r.selectCompetition(""))}),d(),f(6,"label",56)(7,"span",57),g(8),d()()()(),E(9,"div",58),d()(),w(10,iV,14,7,"div",59)(11,rV,7,0,"div",60),f(12,"div",61),w(13,oV,3,0,"button",62),d()()}if(t&2){let n=_();u(5),m("value","")("checked",n.selectedCompetition===""||n.selectedCompetition===n.selectedSeason),u(3),x("Toutes les comp\xE9titions de ",n.selectedSeason||"toutes les saisons",""),u(2),m("ngForOf",n.competitions),u(),m("ngIf",n.competitions.length===0),u(2),m("ngIf",!n.showAddForm&&!n.showEditForm)}}var s1=(()=>{class t{constructor(){this.competitions=[],this.selectedSeason="",this.selectedCompetition="",this.isCompetitionWithoutSeason=()=>!1,this.getSuggestedSeason=()=>null,this.showDeleteButtons=!1,this.availableSeasons=[],this.competitionSelected=new Fe,this.competitionAdded=new Fe,this.competitionUpdated=new Fe,this.competitionDeleted=new Fe,this.assignSeason=new Fe,this.closeModal=new Fe,this.seasonChanged=new Fe,this.showAddForm=!1,this.showEditForm=!1,this.editingCompetition=null,this.competitionForm={name:"",description:"",season:"",type:""},this.competitionTypes=["Championnat","Coupe","Tournoi","Match amical","Playoff","Autre"]}ngOnInit(){(!this.availableSeasons||this.availableSeasons.length===0)&&(this.availableSeasons=this.generateSeasons()),this.competitionForm.season=this.selectedSeason}generateSeasons(){let n=new Date().getFullYear(),i=[];for(let r=-5;r<=2;r++){let o=n+r;o>=2020&&i.push(`${o}-${o+1}`)}return i}selectCompetition(n){this.selectedCompetition=n,n===""?this.competitionSelected.emit(this.selectedSeason):this.competitionSelected.emit(n),this.closeModal.emit()}openAddForm(){this.showAddForm=!0,this.showEditForm=!1,this.resetForm()}openEditForm(n){this.editingCompetition={name:n,season:this.selectedSeason},this.competitionForm=R({},this.editingCompetition),this.showEditForm=!0,this.showAddForm=!1}cancelForm(){this.showAddForm=!1,this.showEditForm=!1,this.resetForm()}submitForm(){this.competitionForm.name.trim()&&(this.showAddForm?this.competitionAdded.emit(Y(R({},this.competitionForm),{createdAt:new Date,updatedAt:new Date})):this.showEditForm&&this.editingCompetition&&this.competitionUpdated.emit({oldName:this.editingCompetition.name,newCompetition:Y(R({},this.competitionForm),{id:this.editingCompetition.id,updatedAt:new Date})}),this.cancelForm())}deleteCompetition(n){confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la comp\xE9tition "${n}" ?

Attention : Cette action supprimera \xE9galement tous les matchs associ\xE9s.`)&&this.competitionDeleted.emit(n)}assignSeasonToCompetition(n,i){this.assignSeason.emit({competition:n,season:i})}openSeasonAssignment(n){let i=this.getSuggestedSeason(n),r=`Attribuer une saison \xE0 la comp\xE9tition "${n}"

`;i&&(r+=`Saison sugg\xE9r\xE9e (bas\xE9e sur le premier match) : ${i}

`),r+=`Saisons disponibles :
${this.availableSeasons.join(`
`)}

Entrez la saison souhait\xE9e :`;let o=prompt(r);o&&this.availableSeasons.includes(o)?this.assignSeasonToCompetition(n,o):o&&alert("Saison invalide. Veuillez choisir une saison de la liste.")}resetForm(){this.competitionForm={name:"",description:"",season:this.selectedSeason,type:"Championnat"},this.editingCompetition=null}close(){this.closeModal.emit()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Di({type:t,selectors:[["app-competition-filter-modal"]],inputs:{competitions:"competitions",selectedSeason:"selectedSeason",selectedCompetition:"selectedCompetition",isCompetitionWithoutSeason:"isCompetitionWithoutSeason",getSuggestedSeason:"getSuggestedSeason",showDeleteButtons:"showDeleteButtons",availableSeasons:"availableSeasons"},outputs:{competitionSelected:"competitionSelected",competitionAdded:"competitionAdded",competitionUpdated:"competitionUpdated",competitionDeleted:"competitionDeleted",assignSeason:"assignSeason",closeModal:"closeModal",seasonChanged:"seasonChanged"},standalone:!0,features:[Mi],decls:25,vars:6,consts:[[1,"modal-overlay"],[1,"competition-modal"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-trophy","me-2"],["type","button","aria-label","Fermer",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"season-selector","mb-4","d-flex","align-items-center"],["for","seasonSelect",1,"form-label","fw-bold","mb-0","me-3"],[1,"fas","fa-calendar-alt","me-2"],["id","seasonSelect",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","competition-form mb-4",4,"ngIf"],["class","competitions-list",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],[1,"competition-form","mb-4"],[1,"card"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"fas","fa-plus","me-2"],[1,"card-body"],[1,"row"],[1,"col-md-6","mb-3"],["for","compName",1,"form-label"],["type","text","id","compName","placeholder","Ex: Ligue 1, Coupe de France...",1,"form-control",3,"ngModelChange","ngModel"],["for","compType",1,"form-label"],["id","compType",1,"form-select",3,"ngModelChange","ngModel"],["for","compSeason",1,"form-label"],["type","text","id","compSeason","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],["for","compDescription",1,"form-label"],["id","compDescription","rows","2","placeholder","Description optionnelle de la comp\xE9tition...",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-save","me-2"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-edit","me-2"],["for","editCompName",1,"form-label"],["type","text","id","editCompName","placeholder","Ex: Ligue 1, Coupe de France...",1,"form-control",3,"ngModelChange","ngModel"],["for","editCompType",1,"form-label"],["id","editCompType",1,"form-select",3,"ngModelChange","ngModel"],["for","editCompSeason",1,"form-label"],["type","text","id","editCompSeason","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","editCompDescription",1,"form-label"],["id","editCompDescription","rows","2","placeholder","Description optionnelle de la comp\xE9tition...",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"competitions-list"],[1,"competition-item","mb-2"],[1,"competition-card"],[1,"competition-info"],[1,"form-check"],["type","radio","id","allCompetitions",1,"form-check-input",3,"change","value","checked"],["for","allCompetitions",1,"form-check-label"],[1,"badge","bg-secondary"],[1,"competition-actions"],["class","competition-item mb-2",4,"ngFor","ngForOf"],["class","no-competitions",4,"ngIf"],[1,"add-competition-section","mt-4"],["type","button","class","btn btn-success w-100",3,"click",4,"ngIf"],["type","radio",1,"form-check-input",3,"change","value","checked","id"],["for","'comp-' + competition",1,"form-check-label"],[1,"badge","competition-badge"],["class","badge bg-warning ms-2",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-warning","title","Attribuer une saison",3,"click",4,"ngIf"],["type","button","title","Modifier la comp\xE9tition",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["type","button","class","btn btn-sm btn-outline-danger","title","Supprimer la comp\xE9tition",3,"click",4,"ngIf"],[1,"badge","bg-warning","ms-2"],[1,"fas","fa-exclamation-triangle","me-1"],["class","badge bg-info ms-1",4,"ngIf"],[1,"badge","bg-info","ms-1"],[1,"fas","fa-lightbulb","me-1"],["type","button","title","Attribuer une saison",1,"btn","btn-sm","btn-outline-warning",3,"click"],[1,"fas","fa-calendar-plus"],["type","button","title","Supprimer la comp\xE9tition",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[1,"no-competitions"],[1,"text-center","text-muted","py-4"],[1,"fas","fa-trophy","fa-3x","mb-3"],["type","button",1,"btn","btn-success","w-100",3,"click"]],template:function(i,r){i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),E(4,"i",4),g(5," Gestion des Comp\xE9titions "),d(),f(6,"button",5),I("click",function(){return r.close()}),f(7,"span",6),g(8,"\xD7"),d()()(),f(9,"div",7)(10,"div",8)(11,"label",9),E(12,"i",10),g(13,"Saison : "),d(),f(14,"select",11),ge("ngModelChange",function(s){return ye(r.selectedSeason,s)||(r.selectedSeason=s),s}),I("ngModelChange",function(s){return r.seasonChanged.emit(s)}),f(15,"option",12),g(16,"Toutes les saisons"),d(),w(17,KF,2,2,"option",13),d()(),w(18,YF,32,5,"div",14)(19,ZF,32,5,"div",14)(20,sV,14,6,"div",15),d(),f(21,"div",16)(22,"button",17),I("click",function(){return r.close()}),E(23,"i",18),g(24,"Fermer "),d()()()()),i&2&&(u(14),me("ngModel",r.selectedSeason),u(),m("value",""),u(2),m("ngForOf",r.availableSeasons),u(),m("ngIf",r.showAddForm),u(),m("ngIf",r.showEditForm),u(),m("ngIf",!r.showAddForm&&!r.showEditForm))},dependencies:[br,Fo,Vo,Hu,Gu,zu,$o,Go,$u,fa],styles:[".competition-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:800px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.5rem;border-bottom:none}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.season-selector[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}.season-selector[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#495057}.season-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #dee2e6;border-radius:8px;padding:.5rem;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.season-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.add-competition-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:1rem;font-size:1.1rem;font-weight:600;border-radius:10px;transition:all .3s ease;box-shadow:0 4px 15px #28a7454d}.add-competition-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #28a74566}.competition-form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 4px 20px #0000001a;overflow:hidden}.competition-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:none}.competition-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-weight:600}.competition-form[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.competition-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin-bottom:.5rem}.competition-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .competition-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:8px;padding:.75rem;transition:border-color .3s ease,box-shadow .3s ease}.competition-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .competition-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.competition-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;border-radius:8px;transition:all .3s ease}.competition-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.competitions-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.competition-item[_ngcontent-%COMP%]{transition:all .3s ease}.competition-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.competition-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.competition-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0}.competition-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.competition-badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem;border-radius:20px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}.badge.bg-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#495057)!important}.form-check[_ngcontent-%COMP%]{margin-bottom:0}.form-check-input[_ngcontent-%COMP%]{width:1.2em;height:1.2em;margin-top:.1em;cursor:pointer}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#667eea;border-color:#667eea}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem;font-weight:500}.no-competitions[_ngcontent-%COMP%]{padding:2rem}.no-competitions[_ngcontent-%COMP%]   .fa-trophy[_ngcontent-%COMP%]{color:#dee2e6}.no-competitions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1.1rem}@media (max-width: 768px){.competition-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.modal-body[_ngcontent-%COMP%], .competition-form[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.competition-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;text-align:left;min-height:55px}.competition-actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-end;gap:.5rem;flex-shrink:0}.competition-info[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.competition-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}@media (max-width: 480px){.competition-card[_ngcontent-%COMP%]{flex-direction:row;text-align:left;min-height:50px;padding:.75rem}.competition-actions[_ngcontent-%COMP%]{justify-content:flex-end;width:auto;gap:.4rem}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.competition-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.competition-form[_ngcontent-%COMP%], .competitions-list[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1040;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]})}}return t})();var c1=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},aV=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],a=t[n++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,a=s?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,h=o>>2,p=(o&3)<<4|a>>4,v=(a&15)<<2|l>>6,y=l&63;c||(y=64,s||(v=64)),i.push(n[h],n[p],n[v],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let p=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||a==null||l==null||p==null)throw new Ug;let v=o<<2|a>>4;if(i.push(v),l!==64){let y=a<<4&240|l>>2;if(i.push(y),p!==64){let D=l<<6&192|p;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ug=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cV=function(t){let e=c1(t);return l1.encodeByteArray(e,!0)},Fa=function(t){return cV(t).replace(/\./g,"")},$g=function(t){try{return l1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uV=()=>lV().__FIREBASE_DEFAULTS__,dV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$g(t[1]);return e&&JSON.parse(e)},qg=()=>{try{return uV()||dV()||hV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u1=t=>{var e,n;return(n=(e=qg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},d1=t=>{let e=u1(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Gg=()=>{var t;return(t=qg())===null||t===void 0?void 0:t.config},h1=t=>{var e;return(e=qg())===null||e===void 0?void 0:e[`_${t}`]};var dd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function f1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fa(JSON.stringify(n)),Fa(JSON.stringify(s)),""].join(".")}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function m1(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zg(){try{return typeof indexedDB=="object"}catch{return!1}}function _1(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var fV="FirebaseError",an=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=fV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ui.prototype.create)}},ui=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?pV(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new an(r,a,i)}};function pV(t,e){return t.replace(mV,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var mV=/\{\$([^}]+)}/g;function es(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if(a1(o)&&a1(s)){if(!es(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function a1(t){return t!==null&&typeof t=="object"}function Hg(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function v1(t,e){let n=new Bg(t,e);return n.subscribe.bind(n)}var Bg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");gV(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=jg),r.error===void 0&&(r.error=jg),r.complete===void 0&&(r.complete=jg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jg(){}var QQ=4*60*60*1e3;function xt(t){return t&&t._delegate?t._delegate:t}var ln=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Dr="[DEFAULT]";var Wg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new dd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vV(e))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Dr){return this.instances.has(e)}getOptions(e=Dr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_V(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Dr){return this.component?this.component.multipleInstances?e:Dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _V(t){return t===Dr?void 0:t}function vV(t){return t.instantiationMode==="EAGER"}var hd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Wg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var yV=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),wV={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},CV=ue.INFO,bV={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},EV=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=bV[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Bi=class{constructor(e){this.name=e,this._logLevel=CV,this._logHandler=EV,this._userLogHandler=null,yV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var IV=(t,e)=>e.some(n=>t instanceof n),y1,w1;function TV(){return y1||(y1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xV(){return w1||(w1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var C1=new WeakMap,Qg=new WeakMap,b1=new WeakMap,Kg=new WeakMap,Jg=new WeakMap;function DV(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(jn(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&C1.set(n,t)}).catch(()=>{}),Jg.set(e,t),e}function SV(t){if(Qg.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Qg.set(t,e)}var Yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||b1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E1(t){Yg=t(Yg)}function AV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(fd(this),e,...n);return b1.set(i,e.sort?e.sort():[e]),jn(i)}:xV().includes(t)?function(...e){return t.apply(fd(this),e),jn(C1.get(this))}:function(...e){return jn(t.apply(fd(this),e))}}function MV(t){return typeof t=="function"?AV(t):(t instanceof IDBTransaction&&SV(t),IV(t,TV())?new Proxy(t,Yg):t)}function jn(t){if(t instanceof IDBRequest)return DV(t);if(Kg.has(t))return Kg.get(t);let e=MV(t);return e!==t&&(Kg.set(t,e),Jg.set(e,t)),e}var fd=t=>Jg.get(t);function T1(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),a=jn(s);return i&&s.addEventListener("upgradeneeded",c=>{i(jn(s.result),c.oldVersion,c.newVersion,jn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var PV=["get","getKey","getAll","getAllKeys","count"],RV=["put","add","delete","clear"],Zg=new Map;function I1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=RV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||PV.includes(n)))return;let o=function(s,...a){return T(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return Zg.set(e,o),o}E1(t=>Y(R({},t),{get:(e,n,i)=>I1(e,n)||t.get(e,n,i),has:(e,n)=>!!I1(e,n)||t.has(e,n)}));var e_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NV(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function NV(t){let e=t.getComponent();return e?.type==="VERSION"}var t_="@firebase/app",x1="0.9.24";var Sr=new Bi("@firebase/app"),OV="@firebase/app-compat",kV="@firebase/analytics-compat",FV="@firebase/analytics",VV="@firebase/app-check-compat",LV="@firebase/app-check",jV="@firebase/auth",UV="@firebase/auth-compat",BV="@firebase/database",$V="@firebase/database-compat",qV="@firebase/functions",GV="@firebase/functions-compat",zV="@firebase/installations",HV="@firebase/installations-compat",WV="@firebase/messaging",KV="@firebase/messaging-compat",QV="@firebase/performance",YV="@firebase/performance-compat",JV="@firebase/remote-config",ZV="@firebase/remote-config-compat",XV="@firebase/storage",eL="@firebase/storage-compat",tL="@firebase/firestore",nL="@firebase/firestore-compat",iL="firebase",rL="10.7.0";var n_="[DEFAULT]",oL={[t_]:"fire-core",[OV]:"fire-core-compat",[FV]:"fire-analytics",[kV]:"fire-analytics-compat",[LV]:"fire-app-check",[VV]:"fire-app-check-compat",[jV]:"fire-auth",[UV]:"fire-auth-compat",[BV]:"fire-rtdb",[$V]:"fire-rtdb-compat",[qV]:"fire-fn",[GV]:"fire-fn-compat",[zV]:"fire-iid",[HV]:"fire-iid-compat",[WV]:"fire-fcm",[KV]:"fire-fcm-compat",[QV]:"fire-perf",[YV]:"fire-perf-compat",[JV]:"fire-rc",[ZV]:"fire-rc-compat",[XV]:"fire-gcs",[eL]:"fire-gcs-compat",[tL]:"fire-fst",[nL]:"fire-fst-compat","fire-js":"fire-js",[iL]:"fire-js-all"};var Va=new Map,i_=new Map;function sL(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qi(t){let e=t.name;if(i_.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,t);for(let n of Va.values())sL(n,t);return!0}function a_(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var aL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$i=new ui("app","Firebase",aL);var r_=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}};var ts=rL;function c_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:n_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw $i.create("bad-app-name",{appName:String(r)});if(n||(n=Gg()),!n)throw $i.create("no-options");let o=Va.get(r);if(o){if(es(n,o.options)&&es(i,o.config))return o;throw $i.create("duplicate-app",{appName:r})}let s=new hd(r);for(let c of i_.values())s.addComponent(c);let a=new r_(n,i,s);return Va.set(r,a),a}function ja(t=n_){let e=Va.get(t);if(!e&&t===n_&&Gg())return c_();if(!e)throw $i.create("no-app",{appName:t});return e}function pd(){return Array.from(Va.values())}function nt(t,e,n){var i;let r=(i=oL[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}qi(new ln(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var cL="firebase-heartbeat-database",lL=1,La="firebase-heartbeat-store",Xg=null;function M1(){return Xg||(Xg=T1(cL,lL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(La)}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),Xg}function uL(t){return T(this,null,function*(){try{return yield(yield M1()).transaction(La).objectStore(La).get(P1(t))}catch(e){if(e instanceof an)Sr.warn(e.message);else{let n=$i.create("idb-get",{originalErrorMessage:e?.message});Sr.warn(n.message)}}})}function D1(t,e){return T(this,null,function*(){try{let i=(yield M1()).transaction(La,"readwrite");yield i.objectStore(La).put(e,P1(t)),yield i.done}catch(n){if(n instanceof an)Sr.warn(n.message);else{let i=$i.create("idb-set",{originalErrorMessage:n?.message});Sr.warn(i.message)}}})}function P1(t){return`${t.name}!${t.options.appId}`}var dL=1024,hL=30*24*60*60*1e3,o_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new s_(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return T(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=S1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=hL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return T(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=S1(),{heartbeatsToSend:i,unsentEntries:r}=fL(this._heartbeatsCache.heartbeats),o=Fa(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function S1(){return new Date().toISOString().substring(0,10)}function fL(t,e=dL){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),A1(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),A1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var s_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return zg()?_1().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield uL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return D1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return D1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function A1(t){return Fa(JSON.stringify({version:2,heartbeats:t})).length}function pL(t){qi(new ln("platform-logger",e=>new e_(e),"PRIVATE")),qi(new ln("heartbeat",e=>new o_(e),"PRIVATE")),nt(t_,x1,t),nt(t_,x1,"esm2017"),nt("fire-js","")}pL("");var mL="firebase",gL="10.7.0";nt(mL,gL,"app");var is=new ei("ANGULARFIRE2_VERSION");function u_(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ba=(t,e)=>{let n=e?[e]:pd(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Ua=class{constructor(){return Ba(_L)}},_L="app-check";function ns(){}var md=class{zone;delegate;constructor(e,n=mf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},l_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ns,{},ns,ns)),n.pipe(He({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},$a=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new md(Zone.current)),this.insideAngular=n.run(()=>new md(Zone.current,pf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(B(Te))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function vL(t){return gd().ngZone.runOutsideAngular(()=>t())}function Ar(t){return gd().ngZone.run(()=>t())}function yL(t){return wL(gd())(t)}function wL(t){return function(n){return n=n.lift(new l_(t.ngZone)),n.pipe(_i(t.outsideAngular),gi(t.insideAngular))}}var CL=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ar(()=>t.apply(void 0,i))},Ht=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Ar(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ns,{},ns,ns))),i[o]=CL(i[o],n));let r=vL(()=>t.apply(this,i));if(!e)if(r instanceof ae){let o=gd();return r.pipe(_i(o.outsideAngular),gi(o.insideAngular))}else return Ar(()=>r);return r instanceof ae?r.pipe(yL):r instanceof Promise?Ar(()=>new Promise((o,s)=>r.then(a=>Ar(()=>o(a)),a=>Ar(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Ar(()=>r)};var Mr=class{constructor(e){return e}},qa=class{constructor(){return pd()}};function bL(t){return t&&t.length===1?t[0]:new Mr(ja())}var d_=new U("angularfire2._apps"),EL={provide:Mr,useFactory:bL,deps:[[new Xt,d_]]},IL={provide:qa,deps:[[new Xt,d_]]};function TL(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Mr(i)}}var xL=(()=>{class t{constructor(n){nt("angularfire",is.full,"core"),nt("angularfire",is.full,"app"),nt("angular",Fb.full,n.toString())}static \u0275fac=function(i){return new(i||t)(B(nn))};static \u0275mod=Ot({type:t});static \u0275inj=Nt({providers:[EL,IL]})}return t})();function R1(t,...e){return{ngModule:xL,providers:[{provide:d_,useFactory:TL(t),multi:!0,deps:[Te,Ft,$a,...e]}]}}var N1=Ht(c_,!0);function U1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var B1=U1,$1=new ui("auth","Firebase",U1());var yd=new Bi("@firebase/auth");function SL(t,...e){yd.logLevel<=ue.WARN&&yd.warn(`Auth (${ts}): ${t}`,...e)}function vd(t,...e){yd.logLevel<=ue.ERROR&&yd.error(`Auth (${ts}): ${t}`,...e)}function O1(t,...e){throw b_(t,...e)}function q1(t,...e){return b_(t,...e)}function AL(t,e,n){let i=Object.assign(Object.assign({},B1()),{[e]:n});return new ui("auth","Firebase",i).create(e,{appName:t.name})}function b_(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return $1.create(t,...e)}function Se(t,e,...n){if(!t)throw b_(e,...n)}function Ga(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function wd(t,e){t||Ga(e)}function ML(){return k1()==="http:"||k1()==="https:"}function k1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function PL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ML()||m1()||"connection"in navigator)?navigator.onLine:!0}function RL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Rr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,wd(n>e,"Short delay should be less than long delay!"),this.isMobile=p1()||g1()}get(){return PL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function NL(t,e){wd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Cd=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ga("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ga("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ga("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var OL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var kL=new Rr(3e4,6e4);function G1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Sd(o,s,a,c){return T(this,arguments,function*(t,e,n,i,r={}){return z1(t,r,()=>T(this,null,function*(){let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});let p=Hg(Object.assign({key:t.config.apiKey},h)).slice(1),v=yield t._getAdditionalHeaders();return v["Content-Type"]="application/json",t.languageCode&&(v["X-Firebase-Locale"]=t.languageCode),Cd.fetch()(H1(t,t.config.apiHost,n,p),Object.assign({method:e,headers:v,referrerPolicy:"no-referrer"},l))}))})}function z1(t,e,n){return T(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},OL),e);try{let r=new p_(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw _d(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw _d(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw _d(t,"user-disabled",s);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw AL(t,h,l);O1(t,h)}}catch(r){if(r instanceof an)throw r;O1(t,"network-request-failed",{message:String(r)})}})}function H1(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?NL(t.config,r):`${t.config.apiScheme}://${r}`}var p_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(q1(this.auth,"network-request-failed")),kL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _d(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=q1(t,e,i);return r.customData._tokenResponse=n,r}function FL(t,e){return T(this,null,function*(){return Sd(t,"POST","/v1/accounts:delete",e)})}function VL(t,e){return T(this,null,function*(){return Sd(t,"POST","/v1/accounts:lookup",e)})}function za(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function E_(t,e=!1){return T(this,null,function*(){let n=xt(t),i=yield n.getIdToken(e),r=W1(i);Se(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:za(h_(r.auth_time)),issuedAtTime:za(h_(r.iat)),expirationTime:za(h_(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function h_(t){return Number(t)*1e3}function W1(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{let r=$g(n);return r?JSON.parse(r):(vd("Failed to decode base64 JWT payload"),null)}catch(r){return vd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function LL(t){let e=W1(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function m_(t,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof an&&jL(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function jL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var g_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ed(t){return T(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield m_(t,VL(n,{idToken:i}));Se(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?BL(o.providerUserInfo):[],a=UL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bd(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function I_(t){return T(this,null,function*(){let e=xt(t);yield Ed(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function UL(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function BL(t){return t.map(e=>{var{providerId:n}=e,i=gf(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function $L(t,e){return T(this,null,function*(){let n=yield z1(t,{},()=>T(this,null,function*(){let i=Hg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=H1(t,r,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cd.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function qL(t,e){return T(this,null,function*(){return Sd(t,"POST","/v2/accounts:revokeToken",G1(t,e))})}var Id=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return T(this,null,function*(){return Se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield $L(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new t;return i&&(Se(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(Se(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(Se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ga("not implemented")}};function Gi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Td=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=gf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield m_(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return E_(this,e)}reload(){return I_(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ed(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){let e=yield this.getIdToken();return yield m_(this,FL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,a,c,l,h;let p=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,he=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:Ie,isAnonymous:Ze,providerData:_e,stsTokenManager:ht}=n;Se(z&&ht,e,"internal-error");let xn=Id.fromJSON(this.name,ht);Se(typeof z=="string",e,"internal-error"),Gi(p,e.name),Gi(v,e.name),Se(typeof Ie=="boolean",e,"internal-error"),Se(typeof Ze=="boolean",e,"internal-error"),Gi(y,e.name),Gi(D,e.name),Gi(S,e.name),Gi(M,e.name),Gi(F,e.name),Gi(he,e.name);let er=new t({uid:z,auth:e,email:v,emailVerified:Ie,displayName:p,isAnonymous:Ze,photoURL:D,phoneNumber:y,tenantId:S,stsTokenManager:xn,createdAt:F,lastLoginAt:he});return _e&&Array.isArray(_e)&&(er.providerData=_e.map(Zr=>Object.assign({},Zr))),M&&(er._redirectEventId=M),er}static _fromIdTokenResponse(e,n,i=!1){return T(this,null,function*(){let r=new Id;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Ed(o),o})}};var F1=new Map;function Pr(t){wd(t instanceof Function,"Expected a class definition");let e=F1.get(t);return e?(wd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F1.set(t,e),e)}var GL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,i){return T(this,null,function*(){this.storage[n]=i})}_get(n){return T(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),__=GL;function f_(t,e,n){return`firebase:${t}:${e}:${n}`}var xd=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=f_(this.userKey,r.apiKey,o),this.fullPersistenceKey=f_("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Td._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return T(this,null,function*(){if(!n.length)return new t(Pr(__),e,i);let r=(yield Promise.all(n.map(l=>T(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Pr(__),s=f_(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Td._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>T(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,i))})}};function V1(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YL(e))return"Blackberry";if(JL(e))return"Webos";if(HL(e))return"Safari";if((e.includes("chrome/")||WL(e))&&!e.includes("edge/"))return"Chrome";if(QL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function zL(t=cn()){return/firefox\//i.test(t)}function HL(t=cn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WL(t=cn()){return/crios\//i.test(t)}function KL(t=cn()){return/iemobile/i.test(t)}function QL(t=cn()){return/android/i.test(t)}function YL(t=cn()){return/blackberry/i.test(t)}function JL(t=cn()){return/webos/i.test(t)}function K1(t,e=[]){let n;switch(t){case"Browser":n=V1(cn());break;case"Worker":n=`${V1(cn())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ts}/${i}`}var v_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function ZL(n){return T(this,arguments,function*(t,e={}){return Sd(t,"GET","/v2/passwordPolicy",G1(t,e))})}var XL=6,y_=class{constructor(e){var n,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:XL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var w_=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dd(this),this.idTokenSubscription=new Dd(this),this.beforeStateQueue=new v_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield xd.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Ed(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=RL()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){let n=e?xt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Pr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield ZL(this),n=new y_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ui("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield qL(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Pr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=yield xd.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return T(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&SL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function e3(t){return xt(t)}var Dd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=v1(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function t3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function n3(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Pr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}var qY=t3("rcb"),GY=new Rr(3e4,6e4);var zY=new Rr(2e3,1e4);var HY=10*60*1e3;var WY=new Rr(3e4,6e4);var KY=new Rr(5e3,15e3);var QY=encodeURIComponent("fac");var L1="@firebase/auth",j1="1.5.0";var C_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function i3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function r3(t){qi(new ln("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;Se(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K1(t)},l=new w_(i,r,o,c);return n3(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qi(new ln("auth-internal",e=>{let n=e3(e.getProvider("auth").getImmediate());return(i=>new C_(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nt(L1,j1,i3(t)),nt(L1,j1,"esm2017")}var o3=5*60,YY=h1("authIdTokenMaxAge")||o3;r3("Browser");var rj="auth";var Ad=class{constructor(){return Ba(rj)}};var oj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cn={},k,H_=H_||{},Q=oj||self;function qd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function oc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function sj(t){return Object.prototype.hasOwnProperty.call(t,T_)&&t[T_]||(t[T_]=++aj)}var T_="closure_uid_"+(1e9*Math.random()>>>0),aj=0;function cj(t,e,n){return t.call.apply(t.bind,arguments)}function lj(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function _t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=cj:_t=lj,_t.apply(null,arguments)}function Md(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function zi(){this.s=this.s,this.o=this.o}var uj=0;zi.prototype.s=!1;zi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),uj!=0)&&sj(this)};zi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var aT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function W_(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Q1(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(qd(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=i[s]}else t.push(i)}}function vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var dj=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function Ja(t){return/^[\s\xa0]*$/.test(t)}function Gd(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Un(t){return Gd().indexOf(t)!=-1}function K_(t){return K_[" "](t),t}K_[" "]=function(){};function hj(t,e){var n=e4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var fj=Un("Opera"),as=Un("Trident")||Un("MSIE"),cT=Un("Edge"),M_=cT||as,lT=Un("Gecko")&&!(Gd().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge"))&&!(Un("Trident")||Un("MSIE"))&&!Un("Edge"),pj=Gd().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge");function uT(){var t=Q.document;return t?t.documentMode:void 0}var P_;e:{if(Pd="",Rd=function(){var t=Gd();if(lT)return/rv:([^\);]+)(\)|;)/.exec(t);if(cT)return/Edge\/([\d\.]+)/.exec(t);if(as)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(pj)return/WebKit\/(\S+)/.exec(t);if(fj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Rd&&(Pd=Rd?Rd[1]:""),as&&(Nd=uT(),Nd!=null&&Nd>parseFloat(Pd))){P_=String(Nd);break e}P_=Pd}var Pd,Rd,Nd,R_;Q.document&&as?(x_=uT(),R_=x_||parseInt(P_,10)||void 0):R_=void 0;var x_,mj=R_;function Za(t,e){if(vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(lT){e:{try{K_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:gj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Za.$.h.call(this)}}rt(Za,vt);var gj={2:"touch",3:"pen",4:"mouse"};Za.prototype.h=function(){Za.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sc="closure_listenable_"+(1e6*Math.random()|0),_j=0;function vj(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++_j,this.fa=this.ia=!1}function zd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Q_(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function yj(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function dT(t){let e={};for(let n in t)e[n]=t[n];return e}var Y1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hT(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<Y1.length;o++)n=Y1[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Hd(t){this.src=t,this.g={},this.h=0}Hd.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=O_(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new vj(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function N_(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=aT(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(zd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function O_(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Y_="closure_lm_"+(1e6*Math.random()|0),D_={};function fT(t,e,n,i,r){if(i&&i.once)return mT(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fT(t,e[o],n,i,r);return null}return n=X_(n),t&&t[sc]?t.O(e,n,oc(i)?!!i.capture:!!i,r):pT(t,e,n,!1,i,r)}function pT(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=oc(r)?!!r.capture:!!r,a=Z_(t);if(a||(t[Y_]=a=new Hd(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=wj(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)dj||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(_T(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function wj(){function t(n){return e.call(t.src,t.listener,n)}let e=Cj;return t}function mT(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)mT(t,e[o],n,i,r);return null}return n=X_(n),t&&t[sc]?t.P(e,n,oc(i)?!!i.capture:!!i,r):pT(t,e,n,!0,i,r)}function gT(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)gT(t,e[o],n,i,r);else i=oc(i)?!!i.capture:!!i,n=X_(n),t&&t[sc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=O_(o,n,i,r),-1<n&&(zd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Z_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=O_(e,n,i,r)),(n=-1<t?e[t]:null)&&J_(n))}function J_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[sc])N_(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(_T(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Z_(e))?(N_(n,t),n.h==0&&(n.src=null,e[Y_]=null)):zd(t)}}}function _T(t){return t in D_?D_[t]:D_[t]="on"+t}function Cj(t,e){if(t.fa)t=!0;else{e=new Za(e,this);var n=t.listener,i=t.la||t.src;t.ia&&J_(t),t=n.call(i,e)}return t}function Z_(t){return t=t[Y_],t instanceof Hd?t:null}var S_="__closure_events_fn_"+(1e9*Math.random()>>>0);function X_(t){return typeof t=="function"?t:(t[S_]||(t[S_]=function(e){return t.handleEvent(e)}),t[S_])}function it(){zi.call(this),this.i=new Hd(this),this.S=this,this.J=null}rt(it,zi);it.prototype[sc]=!0;it.prototype.removeEventListener=function(t,e,n,i){gT(this,t,e,n,i)};function ut(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new vt(e,t);else if(e instanceof vt)e.target=e.target||t;else{var r=e;e=new vt(i,t),hT(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=Od(s,i,!0,e)&&r}if(s=e.g=t,r=Od(s,i,!0,e)&&r,r=Od(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=Od(s,i,!1,e)&&r}it.prototype.N=function(){if(it.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)zd(n[i]);delete t.g[e],t.h--}}this.J=null};it.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};it.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Od(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&N_(t.i,s),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var e0=Q.JSON.stringify,k_=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function bj(){var t=t0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var F_=class{constructor(){this.h=this.g=null}add(e,n){let i=vT.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},vT=new k_(()=>new V_,t=>t.reset()),V_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Ej(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ij(t){Q.setTimeout(()=>{throw t},0)}var Xa,ec=!1,t0=new F_,yT=()=>{let t=Q.Promise.resolve(void 0);Xa=()=>{t.then(Tj)}},Tj=()=>{for(var t;t=bj();){try{t.h.call(t.g)}catch(n){Ij(n)}var e=vT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ec=!1};function Wd(t,e){it.call(this),this.h=t||1,this.g=e||Q,this.j=_t(this.qb,this),this.l=Date.now()}rt(Wd,it);k=Wd.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(n0(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function n0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}k.N=function(){Wd.$.N.call(this),n0(this),delete this.g};function i0(t,e,n){if(typeof t=="function")n&&(t=_t(t,n));else if(t&&typeof t.handleEvent=="function")t=_t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function wT(t){t.g=i0(()=>{t.g=null,t.i&&(t.i=!1,wT(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var L_=class extends zi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wT(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function tc(t){zi.call(this),this.h=t,this.g={}}rt(tc,zi);var J1=[];function CT(t,e,n,i){Array.isArray(n)||(n&&(J1[0]=n.toString()),n=J1);for(var r=0;r<n.length;r++){var o=fT(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function bT(t){Q_(t.g,function(e,n){this.g.hasOwnProperty(n)&&J_(e)},t),t.g={}}tc.prototype.N=function(){tc.$.N.call(this),bT(this)};tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kd(){this.g=!0}Kd.prototype.Ea=function(){this.g=!1};function xj(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var p=h.split("_");s=2<=p.length&&p[1]=="type"?s+(h+"="+l+"&"):s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+s})}function Dj(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+s})}function os(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Aj(t,n)+(i?" "+i:"")})}function Sj(t,e){t.info(function(){return"TIMEOUT: "+e})}Kd.prototype.info=function(){};function Aj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return e0(n)}catch{return e}}var Fr={},Z1=null;function Qd(){return Z1=Z1||new it}Fr.Ta="serverreachability";function ET(t){vt.call(this,Fr.Ta,t)}rt(ET,vt);function nc(t){let e=Qd();ut(e,new ET(e))}Fr.STAT_EVENT="statevent";function IT(t,e){vt.call(this,Fr.STAT_EVENT,t),this.stat=e}rt(IT,vt);function Dt(t){let e=Qd();ut(e,new IT(e,t))}Fr.Ua="timingevent";function TT(t,e){vt.call(this,Fr.Ua,t),this.size=e}rt(TT,vt);function ac(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var Yd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function r0(){}r0.prototype.h=null;function X1(t){return t.h||(t.h=t.i())}function DT(){}var cc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function o0(){vt.call(this,"d")}rt(o0,vt);function s0(){vt.call(this,"c")}rt(s0,vt);var j_;function Jd(){}rt(Jd,r0);Jd.prototype.g=function(){return new XMLHttpRequest};Jd.prototype.i=function(){return{}};j_=new Jd;function lc(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new tc(this),this.P=Mj,t=M_?125:void 0,this.V=new Wd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ST}function ST(){this.i=null,this.g="",this.h=!1}var Mj=45e3,AT={},U_={};k=lc.prototype;k.setTimeout=function(t){this.P=t};function B_(t,e,n){t.L=1,t.A=Xd(hi(e)),t.u=n,t.S=!0,MT(t,null)}function MT(t,e){t.G=Date.now(),uc(t),t.B=hi(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),LT(n.i,"t",i),t.o=0,n=t.l.J,t.h=new ST,t.g=ox(t.l,n?e:null,!t.u),0<t.O&&(t.M=new L_(_t(t.Pa,t,t.g),t.O)),CT(t.U,t.g,"readystatechange",t.nb),e=t.I?dT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),nc(),xj(t.j,t.v,t.B,t.m,t.W,t.u)}k.nb=function(t){t=t.target;let e=this.M;e&&Bn(t)==3?e.l():this.Pa(t)};k.Pa=function(t){try{if(t==this.g)e:{let h=Bn(this.g);var e=this.g.Ia();let p=this.g.da();if(!(3>h)&&(h!=3||M_||this.g&&(this.h.h||this.g.ja()||iT(this.g)))){this.J||h!=4||e==7||(e==8||0>=p?nc(3):nc(2)),Zd(this);var n=this.g.da();this.ca=n;t:if(PT(this)){var i=iT(this.g);t="";var r=i.length,o=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),Ya(this);var s="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,Dj(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ja(a)){var l=a;break t}}l=null}if(n=l)os(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$_(this,n);else{this.i=!1,this.s=3,Dt(12),Nr(this),Ya(this);break e}}this.S?(RT(this,h,s),M_&&this.i&&h==3&&(CT(this.U,this.V,"tick",this.mb),this.V.start())):(os(this.j,this.m,s,null),$_(this,s)),h==4&&Nr(this),this.i&&!this.J&&(h==4?tx(this.l,this):(this.i=!1,uc(this)))}else Jj(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Nr(this),Ya(this)}}}catch{}finally{}};function PT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function RT(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=Pj(t,n),r==U_){e==4&&(t.s=4,Dt(14),i=!1),os(t.j,t.m,null,"[Incomplete Response]");break}else if(r==AT){t.s=4,Dt(15),os(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else os(t.j,t.m,r,null),$_(t,r);PT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Dt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),h0(e),e.M=!0,Dt(11))):(os(t.j,t.m,n,"[Invalid Chunked Response]"),Nr(t),Ya(t))}k.mb=function(){if(this.g){var t=Bn(this.g),e=this.g.ja();this.o<e.length&&(Zd(this),RT(this,t,e),this.i&&t!=4&&uc(this))}};function Pj(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?U_:(n=Number(e.substring(n,i)),isNaN(n)?AT:(i+=1,i+n>e.length?U_:(e=e.slice(i,i+n),t.o=i+n,e)))}k.cancel=function(){this.J=!0,Nr(this)};function uc(t){t.Y=Date.now()+t.P,NT(t,t.P)}function NT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ac(_t(t.lb,t),e)}function Zd(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}k.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Sj(this.j,this.B),this.L!=2&&(nc(),Dt(17)),Nr(this),this.s=2,Ya(this)):NT(this,this.Y-t)};function Ya(t){t.l.H==0||t.J||tx(t.l,t)}function Nr(t){Zd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,n0(t.V),bT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||q_(n.i,t))){if(!t.K&&q_(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)jd(n),nh(n);else break e;d0(n),Dt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=ac(_t(n.ib,n),6e3));if(1>=BT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Or(n,11)}else if((t.K||n.g==t)&&jd(n),!Ja(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let h=l[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));let p=l[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));let v=l[5];v!=null&&typeof v=="number"&&0<v&&(i=1.5*v,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let y=t.g;if(y){let D=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var o=i.i;o.g||D.indexOf("spdy")==-1&&D.indexOf("quic")==-1&&D.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(a0(o,o.h),o.h=null))}if(i.F){let S=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.Da=S,Ve(i.I,i.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=rx(i,i.J?i.pa:null,i.Y),s.K){$T(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.C&&(Zd(a),uc(a)),i.g=s}else XT(i);0<n.j.length&&ih(n)}else l[0]!="stop"&&l[0]!="close"||Or(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Or(n,7):u0(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}nc(4)}catch{}}function Rj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(qd(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Nj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(qd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function OT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(qd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Nj(t),i=Rj(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var kT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function kr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof kr){this.h=t.h,Vd(this,t.j),this.s=t.s,this.g=t.g,Ld(this,t.m),this.l=t.l;var e=t.i,n=new ic;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),eT(this,n),this.o=t.o}else t&&(e=String(t).match(kT))?(this.h=!1,Vd(this,e[1]||"",!0),this.s=Ka(e[2]||""),this.g=Ka(e[3]||"",!0),Ld(this,e[4]),this.l=Ka(e[5]||"",!0),eT(this,e[6]||"",!0),this.o=Ka(e[7]||"")):(this.h=!1,this.i=new ic(null,this.h))}kr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qa(e,tT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Qa(e,tT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Qa(n,n.charAt(0)=="/"?Vj:Fj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qa(n,jj)),t.join("")};function hi(t){return new kr(t)}function Vd(t,e,n){t.j=n?Ka(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ld(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function eT(t,e,n){e instanceof ic?(t.i=e,Uj(t.i,t.h)):(n||(e=Qa(e,Lj)),t.i=new ic(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function Xd(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ka(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,kj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var tT=/[#\/\?@]/g,Fj=/[#\?:]/g,Vj=/[#\?]/g,Lj=/[#\?@]/g,jj=/#/g;function ic(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hi(t){t.g||(t.g=new Map,t.h=0,t.i&&Oj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}k=ic.prototype;k.add=function(t,e){Hi(this),this.i=null,t=cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FT(t,e){Hi(t),e=cs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function VT(t,e){return Hi(t),e=cs(t,e),t.g.has(e)}k.forEach=function(t,e){Hi(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};k.ta=function(){Hi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};k.Z=function(t){Hi(this);let e=[];if(typeof t=="string")VT(this,t)&&(e=e.concat(this.g.get(cs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};k.set=function(t,e){return Hi(this),this.i=null,t=cs(this,t),VT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};k.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function LT(t,e,n){FT(t,e),0<n.length&&(t.i=null,t.g.set(cs(t,e),W_(n)),t.h+=n.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};function cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Uj(t,e){e&&!t.j&&(Hi(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(FT(this,i),LT(this,r,n))},t)),t.j=e}var Bj=class{constructor(t,e){this.g=t,this.map=e}};function jT(t){this.l=t||$j,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $j=10;function UT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BT(t){return t.h?1:t.g?t.g.size:0}function q_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function a0(t,e){t.g?t.g.add(e):t.h=e}function $T(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}jT.prototype.cancel=function(){if(this.i=qT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function qT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return W_(t.i)}var qj=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function Gj(){this.g=new qj}function zj(t,e,n){let i=n||"";try{OT(t,function(r,o){let s=r;oc(r)&&(s=e0(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Hj(t,e){let n=new Kd;if(Q.Image){let i=new Image;i.onload=Md(kd,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Md(kd,n,i,"TestLoadImage: error",!1,e),i.onabort=Md(kd,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Md(kd,n,i,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function kd(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function dc(t){this.l=t.ec||null,this.j=t.ob||!1}rt(dc,r0);dc.prototype.g=function(){return new eh(this.l,this.j)};dc.prototype.i=function(t){return function(){return t}}({});function eh(t,e){it.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=c0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(eh,it);var c0=0;k=eh.prototype;k.open=function(t,e){if(this.readyState!=c0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rc(this)};k.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hc(this)),this.readyState=c0};k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rc(this)),this.g&&(this.readyState=3,rc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function GT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hc(this):rc(this),this.readyState==3&&GT(this)}};k.Za=function(t){this.g&&(this.response=this.responseText=t,hc(this))};k.Ya=function(t){this.g&&(this.response=t,hc(this))};k.ka=function(){this.g&&hc(this)};function hc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rc(t)}k.setRequestHeader=function(t,e){this.v.append(t,e)};k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function rc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Wj=Q.JSON.parse;function je(t){it.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zT,this.L=this.M=!1}rt(je,it);var zT="",Kj=/^https?$/i,Qj=["POST","PUT"];k=je.prototype;k.Oa=function(t){this.M=t};k.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():j_.g(),this.C=this.u?X1(this.u):X1(j_),this.g.onreadystatechange=_t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){nT(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Q.FormData&&t instanceof Q.FormData,!(0<=aT(Qj,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KT(this),0<this.B&&((this.L=Yj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.ua,this)):this.A=i0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){nT(this,o)}};function Yj(t){return as&&typeof t.timeout=="number"&&t.ontimeout!==void 0}k.ua=function(){typeof H_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function nT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HT(t),th(t)}function HT(t){t.F||(t.F=!0,ut(t,"complete"),ut(t,"error"))}k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),th(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),th(this,!0)),je.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?WT(this):this.kb())};k.kb=function(){WT(this)};function WT(t){if(t.h&&typeof H_<"u"&&(!t.C[1]||Bn(t)!=4||t.da()!=2)){if(t.v&&Bn(t)==4)i0(t.La,0,t);else if(ut(t,"readystatechange"),Bn(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=s===0){var r=String(t.I).match(kT)[1]||null;!r&&Q.self&&Q.self.location&&(r=Q.self.location.protocol.slice(0,-1)),i=!Kj.test(r?r.toLowerCase():"")}n=i}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var o=2<Bn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",HT(t)}}finally{th(t)}}}}function th(t,e){if(t.g){KT(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=i}catch{}}}function KT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}k.isActive=function(){return!!this.g};function Bn(t){return t.g?t.g.readyState:0}k.da=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Wj(e)}};function iT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Jj(t){let e={};t=(t.g&&2<=Bn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Ja(t[i]))continue;var n=Ej(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}yj(e,function(i){return i.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function QT(t){let e="";return Q_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function l0(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=QT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function Ha(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YT(t){this.Ga=0,this.j=[],this.l=new Kd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ha("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ha("baseRetryDelayMs",5e3,t),this.hb=Ha("retryDelaySeedMs",1e4,t),this.eb=Ha("forwardChannelMaxRetries",2,t),this.xa=Ha("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new jT(t&&t.concurrentRequestLimit),this.Ja=new Gj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=YT.prototype;k.ra=8;k.H=1;function u0(t){if(JT(t),t.H==3){var e=t.W++,n=hi(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),fc(t,n),e=new lc(t,t.l,e),e.L=2,e.A=Xd(hi(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=ox(e.l,null),e.g.ha(e.A)),e.G=Date.now(),uc(e)}ix(t)}function nh(t){t.g&&(h0(t),t.g.cancel(),t.g=null)}function JT(t){nh(t),t.u&&(Q.clearTimeout(t.u),t.u=null),jd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function ih(t){if(!UT(t.i)&&!t.m){t.m=!0;var e=t.Na;Xa||yT(),ec||(Xa(),ec=!0),t0.add(e,t),t.C=0}}function Zj(t,e){return BT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ac(_t(t.Na,t,e),nx(t,t.C)),t.C++,!0)}k.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new lc(this,this.l,t),o=this.s;if(this.U&&(o?(o=dT(o),hT(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZT(this,r,e),n=hi(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),fc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(QT(o)))+"&"+e:this.o&&l0(n,this.o,o)),a0(this.i,r),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),r.aa=!0,B_(r,n,null)):B_(r,n,e),this.H=2}}else this.H==3&&(t?rT(this,t):this.j.length==0||UT(this.i)||rT(this))};function rT(t,e){var n;e?n=e.m:n=t.W++;let i=hi(t.I);Ve(i,"SID",t.K),Ve(i,"RID",n),Ve(i,"AID",t.V),fc(t,i),t.o&&t.s&&l0(i,t.o,t.s),n=new lc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ZT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),a0(t.i,n),B_(n,i,e)}function fc(t,e){t.na&&Q_(t.na,function(n,i){Ve(e,i,n)}),t.h&&OT({},function(n,i){Ve(e,i,n)})}function ZT(t,e,n){n=Math.min(t.j.length,n);var i=t.h?_t(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,h=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{zj(h,s,"req"+l+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function XT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xa||yT(),ec||(Xa(),ec=!0),t0.add(e,t),t.A=0}}function d0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ac(_t(t.Ma,t),nx(t,t.A)),t.A++,!0)}k.Ma=function(){if(this.u=null,ex(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ac(_t(this.jb,this),t)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dt(10),nh(this),ex(this))};function h0(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function ex(t){t.g=new lc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=hi(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),fc(t,e),t.o&&t.s&&l0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Xd(hi(e)),n.u=null,n.S=!0,MT(n,t)}k.ib=function(){this.v!=null&&(this.v=null,nh(this),d0(this),Dt(19))};function jd(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function tx(t,e){var n=null;if(t.g==e){jd(t),h0(t),t.g=null;var i=2}else if(q_(t.i,e))n=e.F,$T(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Qd(),ut(i,new TT(i,n)),ih(t)}else XT(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&Zj(t,e)||i==2&&d0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Or(t,5);break;case 4:Or(t,10);break;case 3:Or(t,6);break;default:Or(t,2)}}}function nx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Or(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=_t(t.pb,t);n||(n=new kr("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Vd(n,"https"),Xd(n)),Hj(n.toString(),i)}else Dt(2);t.H=0,t.h&&t.h.za(e),ix(t),JT(t)}k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dt(2)):(this.l.info("Failed to ping google.com"),Dt(1))};function ix(t){if(t.H=0,t.ma=[],t.h){let e=qT(t.i);(e.length!=0||t.j.length!=0)&&(Q1(t.ma,e),Q1(t.ma,t.j),t.i.i.length=0,W_(t.j),t.j.length=0),t.h.ya()}}function rx(t,e,n){var i=n instanceof kr?hi(n):new kr(n);if(i.g!="")e&&(i.g=e+"."+i.g),Ld(i,i.m);else{var r=Q.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new kr(null);i&&Vd(o,i),e&&(o.g=e),r&&Ld(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Ve(i,n,e),Ve(i,"VER",t.ra),fc(t,i),i}function ox(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new je(new dc({ob:n})):new je(t.va),e.Oa(t.J),e}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function sx(){}k=sx.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function Ud(){if(as&&!(10<=Number(mj)))throw Error("Environmental error: no available transport.")}Ud.prototype.g=function(t,e){return new Wt(t,e)};function Wt(t,e){it.call(this),this.g=new YT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ja(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ja(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ls(this)}rt(Wt,it);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rx(t,null,t.Y),ih(t)};Wt.prototype.close=function(){u0(this.g)};Wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=e0(t),t=n);e.j.push(new Bj(e.fb++,t)),e.H==3&&ih(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,u0(this.g),delete this.g,Wt.$.N.call(this)};function ax(t){o0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}rt(ax,o0);function cx(){s0.call(this),this.status=1}rt(cx,s0);function ls(t){this.g=t}rt(ls,sx);ls.prototype.Ba=function(){ut(this.g,"a")};ls.prototype.Aa=function(t){ut(this.g,new ax(t))};ls.prototype.za=function(t){ut(this.g,new cx)};ls.prototype.ya=function(){ut(this.g,"b")};function Xj(){this.blockSize=-1}function wn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}rt(wn,Xj);wn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function A_(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}wn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)A_(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){A_(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){A_(this,i),r=0;break}}this.h=r,this.i+=e};wn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Ae(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var e4={};function f0(t){return-128<=t&&128>t?hj(t,function(e){return new Ae([e|0],0>e?-1:0)}):new Ae([t|0],0>t?-1:0)}function $n(t){if(isNaN(t)||!isFinite(t))return ss;if(0>t)return lt($n(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=G_;return new Ae(e,0)}function lx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return lt(lx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=$n(Math.pow(e,8)),i=ss,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=$n(Math.pow(e,o)),i=i.R(o).add($n(s))):(i=i.R(n),i=i.add($n(s)))}return i}var G_=4294967296,ss=f0(0),z_=f0(1),oT=f0(16777216);k=Ae.prototype;k.ea=function(){if(un(this))return-lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:G_+i)*e,e*=G_}return t};k.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(di(this))return"0";if(un(this))return"-"+lt(this).toString(t);for(var e=$n(Math.pow(t,6)),n=this,i="";;){var r=$d(n,e).g;n=Bd(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,di(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function di(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function un(t){return t.h==-1}k.X=function(t){return t=Bd(this,t),un(t)?-1:di(t)?0:1};function lt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Ae(n,~t.h).add(z_)}k.abs=function(){return un(this)?lt(this):this};k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new Ae(n,n[n.length-1]&-2147483648?-1:0)};function Bd(t,e){return t.add(lt(e))}k.R=function(t){if(di(this)||di(t))return ss;if(un(this))return un(t)?lt(this).R(lt(t)):lt(lt(this).R(t));if(un(t))return lt(this.R(lt(t)));if(0>this.X(oT)&&0>t.X(oT))return $n(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=s*c,Fd(n,2*i+2*r),n[2*i+2*r+1]+=o*c,Fd(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,Fd(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,Fd(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Ae(n,0)};function Fd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Wa(t,e){this.g=t,this.h=e}function $d(t,e){if(di(e))throw Error("division by zero");if(di(t))return new Wa(ss,ss);if(un(t))return e=$d(lt(t),e),new Wa(lt(e.g),lt(e.h));if(un(e))return e=$d(t,lt(e)),new Wa(lt(e.g),e.h);if(30<t.g.length){if(un(t)||un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=z_,i=e;0>=i.X(t);)n=sT(n),i=sT(i);var r=rs(n,1),o=rs(i,1);for(i=rs(i,2),n=rs(n,2);!di(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=rs(i,1),n=rs(n,1)}return e=Bd(t,r.R(e)),new Wa(r,e)}for(r=ss;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=$n(n),s=o.R(e);un(s)||0<s.X(t);)n-=i,o=$n(n),s=o.R(e);di(o)&&(o=z_),r=r.add(o),t=Bd(t,s)}return new Wa(r,t)}k.gb=function(t){return $d(this,t).h};k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Ae(n,this.h&t.h)};k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Ae(n,this.h|t.h)};k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Ae(n,this.h^t.h)};function sT(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Ae(n,t.h)}function rs(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ae(r,t.h)}Ud.prototype.createWebChannel=Ud.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;Yd.NO_ERROR=0;Yd.TIMEOUT=8;Yd.HTTP_ERROR=6;xT.COMPLETE="complete";DT.EventType=cc;cc.OPEN="a";cc.CLOSE="b";cc.ERROR="c";cc.MESSAGE="d";it.prototype.listen=it.prototype.O;je.prototype.listenOnce=je.prototype.P;je.prototype.getLastError=je.prototype.Sa;je.prototype.getLastErrorCode=je.prototype.Ia;je.prototype.getStatus=je.prototype.da;je.prototype.getResponseJson=je.prototype.Wa;je.prototype.getResponseText=je.prototype.ja;je.prototype.send=je.prototype.ha;je.prototype.setWithCredentials=je.prototype.Oa;wn.prototype.digest=wn.prototype.l;wn.prototype.reset=wn.prototype.reset;wn.prototype.update=wn.prototype.j;Ae.prototype.add=Ae.prototype.add;Ae.prototype.multiply=Ae.prototype.R;Ae.prototype.modulo=Ae.prototype.gb;Ae.prototype.compare=Ae.prototype.X;Ae.prototype.toNumber=Ae.prototype.ea;Ae.prototype.toString=Ae.prototype.toString;Ae.prototype.getBits=Ae.prototype.D;Ae.fromNumber=$n;Ae.fromString=lx;var ux=Cn.createWebChannelTransport=function(){return new Ud},dx=Cn.getStatEventTarget=function(){return Qd()},rh=Cn.ErrorCode=Yd,hx=Cn.EventType=xT,fx=Cn.Event=Fr,p0=Cn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},UJ=Cn.FetchXmlHttpFactory=dc,pc=Cn.WebChannel=DT,px=Cn.XhrIo=je,mx=Cn.Md5=wn,Vr=Cn.Integer=Ae;var gx="@firebase/firestore";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var Ms="10.7.0";var Br=new Bi("@firebase/firestore");function mc(){return Br.logLevel}function L(t,...e){if(Br.logLevel<=ue.DEBUG){let n=e.map(Jv);Br.debug(`Firestore (${Ms}): ${t}`,...n)}}function fi(t,...e){if(Br.logLevel<=ue.ERROR){let n=e.map(Jv);Br.error(`Firestore (${Ms}): ${t}`,...n)}}function gs(t,...e){if(Br.logLevel<=ue.WARN){let n=e.map(Jv);Br.warn(`Firestore (${Ms}): ${t}`,...n)}}function Jv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: `+t;throw fi(e),new Error(e)}function Oe(t,e){t||W()}function X(t,e){return t}var A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends an{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var bn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var lh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},y0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},w0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},C0=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new bn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bn,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>T(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Oe(typeof i.accessToken=="string"),new lh(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new ot(e)}},b0=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},E0=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new b0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},I0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},T0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new I0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function t4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var uh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=t4(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function Ee(t,e){return t<e?-1:t>e?1:0}function _s(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var dt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Z=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new dt(0,0))}static max(){return new t(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var dh=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&W(),i===void 0?i=e.length-n:i>e.length-n&&W(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Le=class t extends dh{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new V(A.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},n4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class t extends dh{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return n4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new V(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new V(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new V(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new V(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Le.fromString(e))}static fromName(e){return new t(Le.fromString(e).popFirst(5))}static empty(){return new t(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Le(e.slice()))}};var x0=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};x0.UNKNOWN_ID=-1;function i4(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Z.fromTimestamp(i===1e9?new dt(n+1,0):new dt(n,i));return new $r(r,G.empty(),e)}function r4(t){return new $r(t.readTime,t.key,-1)}var $r=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(Z.min(),G.empty(),-1)}static max(){return new t(Z.max(),G.empty(),-1)}};function o4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var s4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",D0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Rc(t){return T(this,null,function*(){if(t.code!==A.FAILED_PRECONDITION||t.message!==s4)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},c=>i(c))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};function Nc(t){return t.name==="IndexedDbTransactionError"}var Hx=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function qh(t){return t==null}function Cc(t){return t===0&&1/t==-1/0}function a4(t){return typeof t=="number"&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var c4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JJ=[...c4,"documentOverlays"],l4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],u4=l4,ZJ=[...u4,"indexConfiguration","indexState","indexEntries"];function _x(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Be=class t{constructor(e,n){this.comparator=e,this.root=n||Gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}},fs=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gn=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var wt=class t{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hh(this.data.getIterator())}getIteratorFrom(e){return new hh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},hh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class t{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new t([])}unionWith(e){let n=new wt(Qt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var fh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var St=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};St.EMPTY_BYTE_STRING=new St("");var d4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(Oe(!!t),typeof t=="string"){let e=0,n=d4.exec(t);if(Oe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yi(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}function Zv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xv(t){let e=t.mapValue.fields.__previous_value__;return Zv(e)?Xv(e):e}function bc(t){let e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}var S0=class{constructor(e,n,i,r,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},ph=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var oh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zv(t)?4:Kx(t)?9007199254740991:10:W()}function Wn(t,e){if(t===e)return!0;let n=qr(t);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bc(t).isEqual(bc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Qi(r.timestampValue),a=Qi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Yi(r.bytesValue).isEqual(Yi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Ue(r.geoPointValue.latitude)===Ue(o.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ue(r.integerValue)===Ue(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Ue(r.doubleValue),a=Ue(o.doubleValue);return s===a?Cc(s)===Cc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return _s(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(_x(s)!==_x(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Wn(s[c],a[c])))return!1;return!0}(t,e);default:return W()}}function Ec(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function vs(t,e){if(t===e)return 0;let n=qr(t),i=qr(e);if(n!==i)return Ee(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ue(o.integerValue||o.doubleValue),c=Ue(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return vx(t.timestampValue,e.timestampValue);case 4:return vx(bc(t),bc(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Yi(o),c=Yi(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=Ee(a[l],c[l]);if(h!==0)return h}return Ee(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ee(Ue(o.latitude),Ue(s.latitude));return a!==0?a:Ee(Ue(o.longitude),Ue(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let h=vs(a[l],c[l]);if(h)return h}return Ee(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===oh.mapValue&&s===oh.mapValue)return 0;if(o===oh.mapValue)return 1;if(s===oh.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let v=Ee(c[p],h[p]);if(v!==0)return v;let y=vs(a[c[p]],l[h[p]]);if(y!==0)return y}return Ee(c.length,h.length)}(t.mapValue,e.mapValue);default:throw W()}}function vx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=Qi(t),i=Qi(e),r=Ee(n.seconds,i.seconds);return r!==0?r:Ee(n.nanos,i.nanos)}function ys(t){return A0(t)}function A0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Qi(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=A0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${A0(n.fields[s])}`;return r+"}"}(t.mapValue):W()}function yx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M0(t){return!!t&&"integerValue"in t}function ey(t){return!!t&&"arrayValue"in t}function wx(t){return!!t&&"nullValue"in t}function Cx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ah(t){return!!t&&"mapValue"in t}function _c(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Qr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=_c(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Kx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Kt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=Qt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=_c(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];ah(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Qr(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(_c(this.value))}};function Qx(t){let e=[];return Qr(t.fields,(n,i)=>{let r=new Qt([n]);if(ah(i)){let o=Qx(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new dn(e)}var En=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Z.min(),Z.min(),Z.min(),Kt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,Z.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,Z.min(),Z.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Z.min(),Z.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ws=class{constructor(e,n){this.position=e,this.inclusive=n}};function bx(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=G.comparator(G.fromName(s.referenceValue),n.key):i=vs(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ex(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}var Cs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function h4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var mh=class{},Je=class t extends mh{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new R0(e,n,i):n==="array-contains"?new k0(e,i):n==="in"?new F0(e,i):n==="not-in"?new V0(e,i):n==="array-contains-any"?new L0(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new N0(e,i):new O0(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vs(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},In=class t extends mh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return Yx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function Yx(t){return t.op==="and"}function Jx(t){return f4(t)&&Yx(t)}function f4(t){for(let e of t.filters)if(e instanceof In)return!1;return!0}function P0(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+ys(t.value);if(Jx(t))return t.filters.map(e=>P0(e)).join(",");{let e=t.filters.map(n=>P0(n)).join(",");return`${t.op}(${e})`}}function Zx(t,e){return t instanceof Je?function(i,r){return r instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&Wn(i.value,r.value)}(t,e):t instanceof In?function(i,r){return r instanceof In&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&Zx(s,r.filters[a]),!0):!1}(t,e):void W()}function Xx(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${ys(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(Xx).join(" ,")+"}"}(t):"Filter"}var R0=class extends Je{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},N0=class extends Je{constructor(e,n){super(e,"in",n),this.keys=eD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},O0=class extends Je{constructor(e,n){super(e,"not-in",n),this.keys=eD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function eD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}var k0=class extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ey(n)&&Ec(n.arrayValue,this.value)}},F0=class extends Je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}},V0=class extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ec(this.value.arrayValue,n)}},L0=class extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ec(this.value.arrayValue,i))}};var j0=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function Ix(t,e=null,n=[],i=[],r=null,o=null,s=null){return new j0(t,e,n,i,r,o,s)}function ty(t){let e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>P0(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ys(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ys(i)).join(",")),e.ce=n}return e.ce}function ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ex(t.startAt,e.startAt)&&Ex(t.endAt,e.endAt)}function U0(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Gr=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function p4(t,e,n,i,r,o,s,a){return new Gr(t,e,n,i,r,o,s,a)}function iy(t){return new Gr(t)}function Tx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tD(t){return t.collectionGroup!==null}function vc(t){let e=X(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wt(Qt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Cs(o,i))}),n.has(Qt.keyField().canonicalString())||e.le.push(new Cs(Qt.keyField(),i))}return e.le}function zn(t){let e=X(t);return e.he||(e.he=m4(e,vc(t))),e.he}function m4(t,e){if(t.limitType==="F")return Ix(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Cs(r.field,o)});let n=t.endAt?new ws(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ws(t.startAt.position,t.startAt.inclusive):null;return Ix(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function B0(t,e){let n=t.filters.concat([e]);return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $0(t,e,n){return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gh(t,e){return ny(zn(t),zn(e))&&t.limitType===e.limitType}function nD(t){return`${ty(zn(t))}|lt:${t.limitType}`}function us(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Xx(r)).join(", ")}]`),qh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ys(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ys(r)).join(",")),`Target(${i})`}(zn(t))}; limitType=${t.limitType})`}function zh(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):G.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of vc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=bx(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,vc(i),r)||i.endAt&&!function(s,a,c){let l=bx(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,vc(i),r))}(t,e)}function g4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iD(t){return(e,n)=>{let i=!1;for(let r of vc(t)){let o=_4(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function _4(t,e,n){let i=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?vs(c,l):W()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return W()}}var Ji=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return Wx(this.inner)}size(){return this.innerSize}};var v4=new Be(G.comparator);function pi(){return v4}var rD=new Be(G.comparator);function gc(...t){let e=rD;for(let n of t)e=e.insert(n.key,n);return e}function oD(t){let e=rD;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Lr(){return yc()}function sD(){return yc()}function yc(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}var y4=new Be(G.comparator),w4=new wt(G.comparator);function de(...t){let e=w4;for(let n of t)e=e.add(n);return e}var C4=new wt(Ee);function b4(){return C4}function aD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function cD(t){return{integerValue:""+t}}function E4(t,e){return a4(e)?cD(e):aD(t,e)}var bs=class{constructor(){this._=void 0}};function I4(t,e,n){return t instanceof Es?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Zv(o)&&(o=Xv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof zr?uD(t,e):t instanceof Hr?dD(t,e):function(r,o){let s=lD(r,o),a=xx(s)+xx(r.Ie);return M0(s)&&M0(r.Ie)?cD(a):aD(r.serializer,a)}(t,e)}function T4(t,e,n){return t instanceof zr?uD(t,e):t instanceof Hr?dD(t,e):n}function lD(t,e){return t instanceof Is?function(i){return M0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Es=class extends bs{},zr=class extends bs{constructor(e){super(),this.elements=e}};function uD(t,e){let n=hD(e);for(let i of t.elements)n.some(r=>Wn(r,i))||n.push(i);return{arrayValue:{values:n}}}var Hr=class extends bs{constructor(e){super(),this.elements=e}};function dD(t,e){let n=hD(e);for(let i of t.elements)n=n.filter(r=>!Wn(r,i));return{arrayValue:{values:n}}}var Is=class extends bs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function xx(t){return Ue(t.integerValue||t.doubleValue)}function hD(t){return ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function x4(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof zr&&r instanceof zr||i instanceof Hr&&r instanceof Hr?_s(i.elements,r.elements,Wn):i instanceof Is&&r instanceof Is?Wn(i.Ie,r.Ie):i instanceof Es&&r instanceof Es}(t.transform,e.transform)}var q0=class{constructor(e,n){this.version=e,this.transformResults=n}},Wi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ts=class{};function fD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gh(t.key,Wi.none()):new Wr(t.key,t.data,Wi.none());{let n=t.data,i=Kt.empty(),r=new wt(Qt.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Kn(t.key,i,new dn(r.toArray()),Wi.none())}}function D4(t,e,n){t instanceof Wr?function(r,o,s){let a=r.value.clone(),c=Sx(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Kn?function(r,o,s){if(!ch(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Sx(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(pD(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function wc(t,e,n,i){return t instanceof Wr?function(o,s,a,c){if(!ch(o.precondition,s))return a;let l=o.value.clone(),h=Ax(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Kn?function(o,s,a,c){if(!ch(o.precondition,s))return a;let l=Ax(o.fieldTransforms,c,s),h=s.data;return h.setAll(pD(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(o,s,a){return ch(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function S4(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=lD(i.transform,r||null);o!=null&&(n===null&&(n=Kt.empty()),n.set(i.field,o))}return n||null}function Dx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&_s(i,r,(o,s)=>x4(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Wr=class extends Ts{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Kn=class extends Ts{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function pD(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function Sx(t,e,n){let i=new Map;Oe(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,T4(s,a,n[r]))}return i}function Ax(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,I4(o,s,e))}return i}var gh=class extends Ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},G0=class extends Ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var z0=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&D4(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=wc(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=wc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=sD();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let c=fD(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(n,i)=>Dx(n,i))&&_s(this.baseMutations,e.baseMutations,(n,i)=>Dx(n,i))}},H0=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Oe(e.mutations.length===i.length);let r=function(){return y4}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var W0=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var K0=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Qe,pe;function A4(t){switch(t){default:return W();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function mD(t){if(t===void 0)return fi("GRPC error has no .code"),A.UNKNOWN;switch(t){case Qe.OK:return A.OK;case Qe.CANCELLED:return A.CANCELLED;case Qe.UNKNOWN:return A.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return A.INTERNAL;case Qe.UNAVAILABLE:return A.UNAVAILABLE;case Qe.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Qe.NOT_FOUND:return A.NOT_FOUND;case Qe.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Qe.ABORTED:return A.ABORTED;case Qe.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Qe.DATA_LOSS:return A.DATA_LOSS;default:return W()}}(pe=Qe||(Qe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var Mx=null;function M4(){return new TextEncoder}var P4=new Vr([4294967295,4294967295],0);function Px(t){let e=M4().encode(t),n=new mx;return n.update(e),new Uint8Array(n.digest())}function Rx(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Vr([n,i],0),new Vr([r,o],0)]}var Q0=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new jr(`Invalid padding: ${n}`);if(i<0)throw new jr(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new jr(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new jr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Vr.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Vr.fromNumber(i)));return r.compare(P4)===1&&(r=new Vr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=Px(e),[i,r]=Rx(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=Px(e),[i,r]=Rx(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},jr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _h=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(Z.min(),r,new Be(Ee),pi(),de())}},Ic=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,de(),de(),de())}};var ps=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},vh=class{constructor(e,n){this.targetId=e,this.fe=n}},yh=class{constructor(e,n,i=St.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},wh=class{constructor(){this.ge=0,this.pe=Ox(),this.ye=St.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=de(),n=de(),i=de();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:W()}}),new Ic(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=Ox()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Oe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Y0=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=pi(),this.Qe=Nx(),this.Ke=new Be(Ee)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(U0(o))if(i===0){let s=new G(o.path);this.We(n,s,En.newNoDocument(s,Z.min()))}else Oe(i===1);else{let s=this.Ze(n);if(s!==i){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}Mx?.tt(function(h,p,v,y,D){var S,M,F,he,z,Ie;let Ze={localCacheCount:h,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},_e=p.unchangedNames;return _e&&(Ze.bloomFilter={applied:D===0,hashCount:(S=_e?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(he=(F=(M=_e?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&he!==void 0?he:0,padding:(Ie=(z=_e?.bits)===null||z===void 0?void 0:z.padding)!==null&&Ie!==void 0?Ie:0,mightContain:ht=>{var xn;return(xn=y?.mightContain(ht))!==null&&xn!==void 0&&xn}}),Ze}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=Yi(i).toUint8Array()}catch(c){if(c instanceof fh)return gs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Q0(s,r,o)}catch(c){return gs(c instanceof jr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&U0(a.target)){let c=new G(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,En.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let i=de();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new _h(e,n,this.Ke,this.qe,i);return this.qe=pi(),this.Qe=Nx(),this.Ke=new Be(Ee),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new wh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new wt(Ee),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new wh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Nx(){return new Be(G.comparator)}function Ox(){return new Be(G.comparator)}var R4={asc:"ASCENDING",desc:"DESCENDING"},N4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O4={and:"AND",or:"OR"},J0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Z0(t,e){return t.useProto3Json||qh(e)?e:{value:e}}function Ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k4(t,e){return Ch(t,e.toTimestamp())}function Hn(t){return Oe(!!t),Z.fromTimestamp(function(n){let i=Qi(n);return new dt(i.seconds,i.nanos)}(t))}function ry(t,e){return function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function _D(t){let e=Le.fromString(t);return Oe(CD(e)),e}function X0(t,e){return ry(t.databaseId,e.path)}function m0(t,e){let n=_D(e);if(n.get(1)!==t.databaseId.projectId)throw new V(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(vD(n))}function ev(t,e){return ry(t.databaseId,e)}function F4(t){let e=_D(t);return e.length===4?Le.emptyPath():vD(e)}function tv(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vD(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kx(t,e,n){return{name:X0(t,e),fields:n.value.mapValue.fields}}function V4(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Oe(h===void 0||typeof h=="string"),St.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Uint8Array),St.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?A.UNKNOWN:mD(l.code);return new V(h,l.message||"")}(s);n=new yh(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=m0(t,i.document.name),o=Hn(i.document.updateTime),s=i.document.createTime?Hn(i.document.createTime):Z.min(),a=new Kt({mapValue:{fields:i.document.fields}}),c=En.newFoundDocument(r,o,s,a),l=i.targetIds||[],h=i.removedTargetIds||[];n=new ps(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=m0(t,i.document),o=i.readTime?Hn(i.readTime):Z.min(),s=En.newNoDocument(r,o),a=i.removedTargetIds||[];n=new ps([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=m0(t,i.document),o=i.removedTargetIds||[];n=new ps([],o,r,null)}else{if(!("filter"in e))return W();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new K0(r,o),a=i.targetId;n=new vh(a,s)}}return n}function L4(t,e){let n;if(e instanceof Wr)n={update:kx(t,e.key,e.value)};else if(e instanceof gh)n={delete:X0(t,e.key)};else if(e instanceof Kn)n={update:kx(t,e.key,e.data),updateMask:W4(e.fieldMask)};else{if(!(e instanceof G0))return W();n={verify:X0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Es)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Is)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw W()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:k4(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(t,e.precondition)),n}function j4(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?Hn(r.updateTime):Hn(o);return s.isEqual(Z.min())&&(s=Hn(o)),new q0(s,r.transformResults||[])}(n,e))):[]}function U4(t,e){return{documents:[ev(t,e.path)]}}function B4(t,e){let n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=ev(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ev(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);let r=function(c){if(c.length!==0)return wD(In.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);let o=function(c){if(c.length!==0)return c.map(l=>function(p){return{field:ds(p.field),direction:G4(p.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Z0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function $4(t){let e=F4(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Oe(i===1);let h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let v=yD(p);return v instanceof In&&Jx(v)?v.getFilters():[v]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(v=>function(D){return new Cs(hs(D.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,qh(v)?null:v}(n.limit));let c=null;n.startAt&&(c=function(p){let v=!!p.before,y=p.values||[];return new ws(y,v)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let v=!p.before,y=p.values||[];return new ws(y,v)}(n.endAt)),p4(e,r,s,o,a,"F",c,l)}function q4(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=hs(n.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=hs(n.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=hs(n.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=hs(n.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(hs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(i=>yD(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function G4(t){return R4[t]}function z4(t){return N4[t]}function H4(t){return O4[t]}function ds(t){return{fieldPath:t.canonicalString()}}function hs(t){return Qt.fromServerFormat(t.fieldPath)}function wD(t){return t instanceof Je?function(n){if(n.op==="=="){if(Cx(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NAN"}};if(wx(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cx(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NAN"}};if(wx(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(n.field),op:z4(n.op),value:n.value}}}(t):t instanceof In?function(n){let i=n.getFilters().map(r=>wD(r));return i.length===1?i[0]:{compositeFilter:{op:H4(n.op),filters:i}}}(t):W()}function W4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Tc=class t{constructor(e,n,i,r,o=Z.min(),s=Z.min(),a=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var nv=class{constructor(e){this.ut=e}};function K4(t){let e=$4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$0(e,e.limit,"L"):e}var bh=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ue(e.integerValue));else if("doubleValue"in e){let i=Ue(e.doubleValue);isNaN(i)?this.Tt(n,13):(this.Tt(n,15),Cc(i)?n.Et(0):n.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(n,20),typeof i=="string"?n.dt(i):(n.dt(`${i.seconds||""}`),n.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Yi(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Tt(n,45),n.Et(i.latitude||0),n.Et(i.longitude||0)}else"mapValue"in e?Kx(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):W()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let i=e.fields||{};this.Tt(n,55);for(let r of Object.keys(i))this.At(r,n),this.Pt(i[r],n)}yt(e,n){let i=e.values||[];this.Tt(n,50);for(let r of i)this.Pt(r,n)}ft(e,n){this.Tt(n,37),G.fromName(e).path.forEach(i=>{this.Tt(n,60),this.wt(i,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};bh.St=new bh;var iv=class{constructor(){this.on=new rv}addToCollectionParentIndex(e,n){return this.on.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve($r.min())}updateCollectionGroup(e,n,i){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},rv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new wt(Le.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new wt(Le.comparator)).toArray()}};var eZ=new Uint8Array(0);var qn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);var xc=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var ov=class{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?N.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var av=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&wc(i.mutation,r,dn.empty(),dt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,de()).next(()=>i))}getLocalViewOfDocuments(e,n,i=de()){let r=Lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=gc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=Lr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,de()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=pi(),s=yc(),a=function(){return yc()}();return n.forEach((c,l)=>{let h=i.get(l.key);r.has(l.key)&&(h===void 0||h.mutation instanceof Kn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),wc(h.mutation,l,h.mutation.getFieldMask(),dt.now())):s.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new sv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let i=yc(),r=new Be((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let h=i.get(c)||dn.empty();h=a.applyToLocalView(l,h),i.set(c,h);let p=(r.get(a.batchId)||de()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=sD();h.forEach(v=>{if(!o.has(v)){let y=fD(n.get(v),i.get(v));y!==null&&p.set(v,y),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):N.resolve(Lr()),a=-1,c=o;return s.next(l=>N.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,de())).next(h=>({batchId:a,changes:oD(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=gc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=gc();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,c=>{let l=function(p,v){return new Gr(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(h=>{h.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,En.newInvalidDocument(h)))});let a=gc();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&wc(h.mutation,l,dn.empty(),dt.now()),zh(n,l)&&(a=a.insert(c,l))}),a})}};var cv=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return N.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Hn(r.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:K4(r.bundledQuery),readTime:Hn(r.readTime)}}(n)),N.resolve()}};var lv=class{constructor(){this.overlays=new Be(G.comparator),this.lr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Lr();return N.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.lt(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.lr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),N.resolve()}getOverlaysForCollection(e,n,i){let r=Lr(),o=n.length+1,s=new G(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return N.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Be((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let h=o.get(l.largestBatchId);h===null&&(h=Lr(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Lr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=r)););return N.resolve(a)}lt(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new W0(n,i));let o=this.lr.get(n);o===void 0&&(o=de(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}};var Dc=class{constructor(){this.hr=new wt(Ye.Pr),this.Ir=new wt(Ye.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let i=new Ye(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new Ye(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){let n=new G(new Le([])),i=new Ye(n,e),r=new Ye(n,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new G(new Le([])),i=new Ye(n,e),r=new Ye(n,e+1),o=de();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ye(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Ye=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return G.comparator(e.key,n.key)||Ee(e.gr,n.gr)}static Tr(e,n){return Ee(e.gr,n.gr)||G.comparator(e.key,n.key)}};var uv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new wt(Ye.Pr)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new z0(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.yr=this.yr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.Sr(i),o=r<0?0:r;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Ye(n,0),r=new Ye(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{let a=this.wr(s.gr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new wt(Ee);return n.forEach(r=>{let o=new Ye(r,0),s=new Ye(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),N.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;G.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new G(o),0),a=new wt(Ee);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gr)),!0)},s),N.resolve(this.br(a))}br(e){let n=[];return e.forEach(i=>{let r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Oe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return N.forEach(n.mutations,r=>{let o=new Ye(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){let i=new Ye(n,0),r=this.yr.firstAfterOrEqual(i);return N.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var dv=class{constructor(e){this.Cr=e,this.docs=function(){return new Be(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return N.resolve(i?i.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let i=pi();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():En.newInvalidDocument(r))}),N.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=pi(),s=n.path,a=new G(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||o4(r4(h),i)<=0||(r.has(h.key)||zh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,i,r){W()}vr(e,n){return N.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new hv(this)}getSize(e){return N.resolve(this.size)}},hv=class extends ov{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),N.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var fv=class{constructor(e){this.persistence=e,this.Fr=new Ji(n=>ty(n),ny),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Dc,this.targetCount=0,this.Nr=xc.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),N.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new xc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.kn(n),N.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),N.waitFor(o).next(()=>r)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let i=this.Fr.get(n)||null;return N.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),N.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Or.mr(n);return N.resolve(i)}containsKey(e,n){return N.resolve(this.Or.containsKey(n))}};var pv=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Hx(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new fv(this),this.indexManager=new iv,this.remoteDocumentCache=function(r){return new dv(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new nv(n),this.Kr=new cv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new uv(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){L("MemoryPersistence","Starting transaction:",e);let r=new mv(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,n){return N.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},mv=class extends D0{constructor(e){super(),this.currentSequenceNumber=e}},gv=class t{constructor(e){this.persistence=e,this.Gr=new Dc,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),N.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Hr,i=>{let r=G.fromPath(i);return this.Jr(e,r).next(o=>{o||n.removeEntry(r,Z.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return N.or([()=>N.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var _v=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=de(),r=de();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var vv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var yv=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new vv;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?(mc()<=ue.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),N.resolve()):(mc()<=ue.DEBUG&&L("QueryEngine","Query:",us(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(mc()<=ue.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):N.resolve())}zi(e,n){if(Tx(n))return N.resolve(null);let i=zn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=$0(n,null,"F"),i=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=de(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,$0(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,i,r){return Tx(n)||r.isEqual(Z.min())?N.resolve(null):this.Gi.getDocuments(e,i).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,i,r)?N.resolve(null):(mc()<=ue.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),us(n)),this.Xi(e,s,n,i4(r,-1)).next(a=>a))})}Yi(e,n){let i=new wt(iD(e));return n.forEach((r,o)=>{zh(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,n,i){return mc()<=ue.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",us(n)),this.Gi.getDocumentsMatchingQuery(e,n,$r.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var wv=class{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new Be(Ee),this.ns=new Ji(o=>ty(o),ny),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new av(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function Q4(t,e,n,i){return new wv(t,e,n,i)}function bD(t,e){return T(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=de();for(let l of r){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(i,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Y4(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let p=l.batch,v=p.keys(),y=N.resolve();return v.forEach(D=>{y=y.next(()=>h.getEntry(c,D)).next(S=>{let M=l.docVersions.get(D);Oe(M!==null),S.version.compareTo(M)<0&&(p.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),h.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function ED(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function J4(t,e){let n=X(t),i=e.snapshotVersion,r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;let a=[];e.targetChanges.forEach((h,p)=>{let v=r.get(p);if(!v)return;a.push(n.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.qr.addMatchingKeys(o,h.addedDocuments,p)));let y=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(St.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,i)),r=r.insert(p,y),function(S,M,F){return S.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(v,y,h)&&a.push(n.qr.updateTargetData(o,y))});let c=pi(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Z4(o,s,e.documentUpdates).next(h=>{c=h.us,l=h.cs})),!i.isEqual(Z.min())){let h=n.qr.getLastRemoteSnapshotVersion(o).next(p=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=r,o))}function Z4(t,e,n){let i=de(),r=de();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=pi();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Z.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:r}})}function X4(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function e5(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,e).next(o=>o?(r=o,N.resolve(r)):n.qr.allocateTargetId(i).next(s=>(r=new Tc(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}function Cv(t,e,n){return T(this,null,function*(){let i=X(t),r=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Nc(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)})}function Fx(t,e,n){let i=X(t),r=Z.min(),o=de();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=X(c),v=p.ns.get(h);return v!==void 0?N.resolve(p.ts.get(v)):p.qr.getTargetData(l,h)}(i,s,zn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,n?r:Z.min(),n?o:de())).next(a=>(t5(i,g4(e),a),{documents:a,ls:o})))}function t5(t,e,n){let i=t.rs.get(e)||Z.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}var Eh=class{constructor(){this.activeTargetIds=b4()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var bv=class{constructor(){this.eo=new Eh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Eh,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ev=class{ro(e){}shutdown(){}};var Ih=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var sh=null;function g0(){return sh===null?sh=function(){return 268435456+Math.round(2147483648*Math.random())}():sh++,"0x"+sh.toString(16)}var n5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Iv=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var yt="WebChannelConnection",Tv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${r}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(n,i,r,o,s){let a=g0(),c=this.So(n,i);L("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,r).then(h=>(L("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw gs("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Co(n,i,r,o,s,a){return this.wo(n,i,r,o,s)}bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}So(n,i){let r=n5[n];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,r){let o=g0();return new Promise((s,a)=>{let c=new px;c.setWithCredentials(!0),c.listenOnce(hx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case rh.NO_ERROR:let h=c.getResponseJson();L(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case rh.TIMEOUT:L(yt,`RPC '${e}' ${o} timed out`),a(new V(A.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:let p=c.getStatus();if(L(yt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);let y=v?.error;if(y&&y.status&&y.message){let D=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(F)>=0?F:A.UNKNOWN}(y.status);a(new V(D,y.message))}else a(new V(A.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(A.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{L(yt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);L(yt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",l,i,15)})}vo(e,n,i){let r=g0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ux(),a=dx(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let h=o.join("");L(yt,`Creating RPC '${e}' stream ${r}: ${h}`,c);let p=s.createWebChannel(h,c),v=!1,y=!1,D=new Iv({co:M=>{y?L(yt,`Not sending because RPC '${e}' stream ${r} is closed:`,M):(v||(L(yt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),v=!0),L(yt,`RPC '${e}' stream ${r} sending:`,M),p.send(M))},lo:()=>p.close()}),S=(M,F,he)=>{M.listen(F,z=>{try{he(z)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return S(p,pc.EventType.OPEN,()=>{y||L(yt,`RPC '${e}' stream ${r} transport opened.`)}),S(p,pc.EventType.CLOSE,()=>{y||(y=!0,L(yt,`RPC '${e}' stream ${r} transport closed`),D.Ro())}),S(p,pc.EventType.ERROR,M=>{y||(y=!0,gs(yt,`RPC '${e}' stream ${r} transport errored:`,M),D.Ro(new V(A.UNAVAILABLE,"The operation could not be completed")))}),S(p,pc.EventType.MESSAGE,M=>{var F;if(!y){let he=M.data[0];Oe(!!he);let z=he,Ie=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(Ie){L(yt,`RPC '${e}' stream ${r} received error:`,Ie);let Ze=Ie.status,_e=function(er){let Zr=Qe[er];if(Zr!==void 0)return mD(Zr)}(Ze),ht=Ie.message;_e===void 0&&(_e=A.INTERNAL,ht="Unknown error status: "+Ze+" with message "+Ie.message),y=!0,D.Ro(new V(_e,ht)),p.close()}else L(yt,`RPC '${e}' stream ${r} received:`,he),D.Vo(he)}}),S(a,fx.STAT_EVENT,M=>{M.stat===p0.PROXY?L(yt,`RPC '${e}' stream ${r} detected buffering proxy`):M.stat===p0.NOPROXY&&L(yt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.Ao()},0),D}};function _0(){return typeof document<"u"?document:null}function Hh(t){return new J0(t,!0)}var Th=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var xh=class{constructor(e,n,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Th(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return T(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return T(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return T(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===n&&this.s_(i,r)},i=>{e(()=>{let r=new V(A.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,n){let i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(()=>T(this,null,function*(){this.state=0,this.start()}))}o_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},xv=class extends xh{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=V4(this.serializer,e),i=function(o){if(!("targetChange"in o))return Z.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?Hn(s.readTime):Z.min()}(e);return this.listener.a_(n,i)}u_(e){let n={};n.database=tv(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=U0(c)?{documents:U4(o,c)}:{query:B4(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gD(o,s.resumeToken);let l=Z0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=Ch(o,s.snapshotVersion.toTimestamp());let l=Z0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=q4(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){let n={};n.database=tv(this.serializer),n.removeTarget=e,this.e_(n)}},Dv=class extends xh{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=j4(e.writeResults,e.commitTime),i=Hn(e.commitTime);return this.listener.I_(i,n)}return Oe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=tv(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>L4(this.serializer,i))};this.e_(n)}};var Sv=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new V(A.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,n,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new V(A.UNKNOWN,r.toString())})}Co(e,n,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,i,o,s,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(A.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var Av=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(fi(n),this.f_=!1):L("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var Mv=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{i.enqueueAndForget(()=>T(this,null,function*(){Yr(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(c){return T(this,null,function*(){let l=X(c);l.C_.add(4),yield Oc(l),l.M_.set("Unknown"),l.C_.delete(4),yield Wh(l)})}(this))}))}),this.M_=new Av(i,r)}};function Wh(t){return T(this,null,function*(){if(Yr(t))for(let e of t.v_)yield e(!0)})}function Oc(t){return T(this,null,function*(){for(let e of t.v_)yield e(!1)})}function ID(t,e){let n=X(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),ay(n)?sy(n):Ps(n).Ho()&&oy(n,e))}function TD(t,e){let n=X(t),i=Ps(n);n.D_.delete(e),i.Ho()&&xD(n,e),n.D_.size===0&&(i.Ho()?i.Zo():Yr(n)&&n.M_.set("Unknown"))}function oy(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ps(t).u_(e)}function xD(t,e){t.x_.Oe(e),Ps(t).c_(e)}function sy(t){t.x_=new Y0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ps(t).start(),t.M_.g_()}function ay(t){return Yr(t)&&!Ps(t).jo()&&t.D_.size>0}function Yr(t){return X(t).C_.size===0}function DD(t){t.x_=void 0}function i5(t){return T(this,null,function*(){t.D_.forEach((e,n)=>{oy(t,e)})})}function r5(t,e){return T(this,null,function*(){DD(t),ay(t)?(t.M_.w_(e),sy(t)):t.M_.set("Unknown")})}function o5(t,e,n){return T(this,null,function*(){if(t.M_.set("Online"),e instanceof yh&&e.state===2&&e.cause)try{yield function(r,o){return T(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.D_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.D_.delete(a),r.x_.removeTarget(a))})}(t,e)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Dh(t,i)}else if(e instanceof ps?t.x_.$e(e):e instanceof vh?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Z.min()))try{let i=yield ED(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.D_.get(l);h&&o.D_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(St.EMPTY_BYTE_STRING,h.snapshotVersion)),xD(o,c);let p=new Tc(h.target,c,l,h.sequenceNumber);oy(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){L("RemoteStore","Failed to raise snapshot:",i),yield Dh(t,i)}})}function Dh(t,e,n){return T(this,null,function*(){if(!Nc(e))throw e;t.C_.add(1),yield Oc(t),t.M_.set("Offline"),n||(n=()=>ED(t.localStore)),t.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Wh(t)}))})}function SD(t,e){return e().catch(n=>Dh(t,n,e))}function Kh(t){return T(this,null,function*(){let e=X(t),n=Zi(e),i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;s5(e);)try{let r=yield X4(e.localStore,i);if(r===null){e.b_.length===0&&n.Zo();break}i=r.batchId,a5(e,r)}catch(r){yield Dh(e,r)}AD(e)&&MD(e)})}function s5(t){return Yr(t)&&t.b_.length<10}function a5(t,e){t.b_.push(e);let n=Zi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function AD(t){return Yr(t)&&!Zi(t).jo()&&t.b_.length>0}function MD(t){Zi(t).start()}function c5(t){return T(this,null,function*(){Zi(t).E_()})}function l5(t){return T(this,null,function*(){let e=Zi(t);for(let n of t.b_)e.P_(n.mutations)})}function u5(t,e,n){return T(this,null,function*(){let i=t.b_.shift(),r=H0.from(i,e,n);yield SD(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Kh(t)})}function d5(t,e){return T(this,null,function*(){e&&Zi(t).h_&&(yield function(i,r){return T(this,null,function*(){if(function(s){return A4(s)&&s!==A.ABORTED}(r.code)){let o=i.b_.shift();Zi(i).Yo(),yield SD(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Kh(i)}})}(t,e)),AD(t)&&MD(t)})}function Vx(t,e){return T(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let i=Yr(n);n.C_.add(3),yield Oc(n),i&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Wh(n)})}function h5(t,e){return T(this,null,function*(){let n=X(t);e?(n.C_.delete(2),yield Wh(n)):e||(n.C_.add(2),yield Oc(n),n.M_.set("Unknown"))})}function Ps(t){return t.O_||(t.O_=function(n,i,r){let o=X(n);return o.A_(),new xv(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:i5.bind(null,t),Io:r5.bind(null,t),a_:o5.bind(null,t)}),t.v_.push(e=>T(this,null,function*(){e?(t.O_.Yo(),ay(t)?sy(t):t.M_.set("Unknown")):(yield t.O_.stop(),DD(t))}))),t.O_}function Zi(t){return t.N_||(t.N_=function(n,i,r){let o=X(n);return o.A_(),new Dv(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:c5.bind(null,t),Io:d5.bind(null,t),T_:l5.bind(null,t),I_:u5.bind(null,t)}),t.v_.push(e=>T(this,null,function*(){e?(t.N_.Yo(),yield Kh(t)):(yield t.N_.stop(),t.b_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var Pv=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function cy(t,e){if(fi("AsyncQueue",`${e}: ${t}`),Nc(t))return new V(A.UNAVAILABLE,`${e}: ${t}`);throw t}var Sh=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=gc(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Ah=class{constructor(){this.B_=new Be(G.comparator)}track(e){let n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):W():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}},xs=class t{constructor(e,n,i,r,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Sh.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var Rv=class{constructor(){this.k_=void 0,this.listeners=[]}},Nv=class{constructor(){this.queries=new Ji(e=>nD(e),Gh),this.onlineState="Unknown",this.q_=new Set}};function PD(t,e){return T(this,null,function*(){let n=X(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new Rv),r)try{o.k_=yield n.onListen(i)}catch(s){let a=cy(s,`Initialization of query '${us(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&ly(n)})}function RD(t,e){return T(this,null,function*(){let n=X(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=o.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function f5(t,e){let n=X(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&ly(n)}function p5(t,e,n){let i=X(t),r=i.queries.get(e);if(r)for(let o of r.listeners)o.onError(n);i.queries.delete(e)}function ly(t){t.q_.forEach(e=>{e.next()})}var Mh=class{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new xs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Ph=class{constructor(e){this.key=e}},Rh=class{constructor(e){this.key=e}},Ov=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=de(),this.mutatedKeys=de(),this._a=iD(e),this.aa=new Sh(this._a)}get ua(){return this.ia}ca(e,n){let i=n?n.la:new Ah,r=n?n.aa:this.aa,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{let v=r.get(h),y=zh(this.query,p)?p:null,D=!!v&&this.mutatedKeys.has(v.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;v&&y?v.data.isEqual(y.data)?D!==S&&(i.track({type:3,doc:y}),M=!0):this.ha(v,y)||(i.track({type:2,doc:y}),M=!0,(c&&this._a(y,c)>0||l&&this._a(y,l)<0)&&(a=!0)):!v&&y?(i.track({type:0,doc:y}),M=!0):v&&!y&&(i.track({type:1,doc:v}),M=!0,(c||l)&&(a=!0)),M&&(y?(s=s.add(y),o=S?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((h,p)=>function(y,D){let S=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return S(y)-S(D)}(h.type,p.type)||this._a(h.doc,p.doc)),this.Pa(i),r=r!=null&&r;let a=n&&!r?this.Ia():[],c=this.oa.size===0&&this.current&&!r?1:0,l=c!==this.sa;return this.sa=c,s.length!==0||l?{snapshot:new xs(this.query,e.aa,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Ah,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=de(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});let n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new Rh(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new Ph(i))}),n}da(e){this.ia=e.ls,this.oa=de();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return xs.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},kv=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},Fv=class{constructor(e){this.key=e,this.Ra=!1}},Vv=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Ji(a=>nD(a),Gh),this.fa=new Map,this.ga=new Set,this.pa=new Be(G.comparator),this.ya=new Map,this.wa=new Dc,this.Sa={},this.ba=new Map,this.Da=xc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function m5(t,e){return T(this,null,function*(){let n=T5(t),i,r,o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{let s=yield e5(n.localStore,zn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield g5(n,e,i,a==="current",s.resumeToken),n.isPrimaryClient&&ID(n.remoteStore,s)}return r})}function g5(t,e,n,i,r){return T(this,null,function*(){t.va=(p,v,y)=>function(S,M,F,he){return T(this,null,function*(){let z=M.view.ca(F);z.Zi&&(z=yield Fx(S.localStore,M.query,!1).then(({documents:ht})=>M.view.ca(ht,z)));let Ie=he&&he.targetChanges.get(M.targetId),Ze=he&&he.targetMismatches.get(M.targetId)!=null,_e=M.view.applyChanges(z,S.isPrimaryClient,Ie,Ze);return jx(S,M.targetId,_e.Ta),_e.snapshot})}(t,p,v,y);let o=yield Fx(t.localStore,e,!0),s=new Ov(e,o.ls),a=s.ca(o.documents),c=Ic.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=s.applyChanges(a,t.isPrimaryClient,c);jx(t,n,l.Ta);let h=new kv(e,n,s);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot})}function _5(t,e){return T(this,null,function*(){let n=X(t),i=n.ma.get(e),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter(o=>!Gh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Cv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),TD(n.remoteStore,i.targetId),Lv(n,i.targetId)}).catch(Rc))):(Lv(n,i.targetId),yield Cv(n.localStore,i.targetId,!0))})}function v5(t,e,n){return T(this,null,function*(){let i=x5(t);try{let r=yield function(s,a){let c=X(s),l=dt.now(),h=a.reduce((y,D)=>y.add(D.key),de()),p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=pi(),S=de();return c.ss.getEntries(y,h).next(M=>{D=M,D.forEach((F,he)=>{he.isValidDocument()||(S=S.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,D)).next(M=>{p=M;let F=[];for(let he of a){let z=S4(he,p.get(he.key).overlayedDocument);z!=null&&F.push(new Kn(he.key,z,Qx(z.value.mapValue),Wi.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,F,a)}).next(M=>{v=M;let F=M.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(y,M.batchId,F)})}).then(()=>({batchId:v.batchId,changes:oD(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Be(Ee)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(i,r.batchId,n),yield kc(i,r.changes),yield Kh(i.remoteStore)}catch(r){let o=cy(r,"Failed to persist write");n.reject(o)}})}function ND(t,e){return T(this,null,function*(){let n=X(t);try{let i=yield J4(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.ya.get(o);s&&(Oe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Oe(s.Ra):r.removedDocuments.size>0&&(Oe(s.Ra),s.Ra=!1))}),yield kc(n,i,e)}catch(i){yield Rc(i)}})}function Lx(t,e,n){let i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=X(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let v of p.listeners)v.Q_(a)&&(l=!0)}),l&&ly(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function y5(t,e,n){return T(this,null,function*(){let i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.ya.get(e),o=r&&r.key;if(o){let s=new Be(G.comparator);s=s.insert(o,En.newNoDocument(o,Z.min()));let a=de().add(o),c=new _h(Z.min(),new Map,new Be(Ee),s,a);yield ND(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),uy(i)}else yield Cv(i.localStore,e,!1).then(()=>Lv(i,e,n)).catch(Rc)})}function w5(t,e){return T(this,null,function*(){let n=X(t),i=e.batch.batchId;try{let r=yield Y4(n.localStore,e);kD(n,i,null),OD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield kc(n,r)}catch(r){yield Rc(r)}})}function C5(t,e,n){return T(this,null,function*(){let i=X(t);try{let r=yield function(s,a){let c=X(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Oe(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(i.localStore,e);kD(i,e,n),OD(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield kc(i,r)}catch(r){yield Rc(r)}})}function OD(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function kD(t,e,n){let i=X(t),r=i.Sa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||FD(t,i)})}function FD(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(TD(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),uy(t))}function jx(t,e,n){for(let i of n)i instanceof Ph?(t.wa.addReference(i.key,e),b5(t,i)):i instanceof Rh?(L("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||FD(t,i.key)):W()}function b5(t,e){let n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(L("SyncEngine","New document in limbo: "+n),t.ga.add(i),uy(t))}function uy(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new G(Le.fromString(e)),i=t.Da.next();t.ya.set(i,new Fv(n)),t.pa=t.pa.insert(n,i),ID(t.remoteStore,new Tc(zn(iy(n.path)),i,"TargetPurposeLimboResolution",Hx._e))}}function kc(t,e,n){return T(this,null,function*(){let i=X(t),r=[],o=[],s=[];i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let h=_v.Qi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield function(c,l){return T(this,null,function*(){let h=X(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,v=>N.forEach(v.ki,y=>h.persistence.referenceDelegate.addReference(p,v.targetId,y)).next(()=>N.forEach(v.qi,y=>h.persistence.referenceDelegate.removeReference(p,v.targetId,y)))))}catch(p){if(!Nc(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let v=p.targetId;if(!p.fromCache){let y=h.ts.get(v),D=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(D);h.ts=h.ts.insert(v,S)}}})}(i.localStore,o))})}function E5(t,e){return T(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let i=yield bD(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new V(A.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield kc(n,i._s)}})}function I5(t,e){let n=X(t),i=n.ya.get(e);if(i&&i.Ra)return de().add(i.key);{let r=de(),o=n.fa.get(e);if(!o)return r;for(let s of o){let a=n.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function T5(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ND.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y5.bind(null,e),e.Va.a_=f5.bind(null,e.eventManager),e.Va.Fa=p5.bind(null,e.eventManager),e}function x5(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C5.bind(null,e),e}var Nh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return T(this,null,function*(){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Q4(this.persistence,new yv,e.initialUser,this.serializer)}createPersistence(e){return new pv(gv.jr,this.serializer)}createSharedClientState(e){return new bv}terminate(){return T(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var jv=class{initialize(e,n){return T(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E5.bind(null,this.syncEngine),yield h5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Nv}()}createDatastore(e){let n=Hh(e.databaseInfo.databaseId),i=function(o){return new Tv(o)}(e.databaseInfo);return function(o,s,a,c){return new Sv(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new Mv(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Lx(this.syncEngine,n,0),function(){return Ih.D()?new Ih:new Ev}())}createSyncEngine(e,n){return function(r,o,s,a,c,l,h){let p=new Vv(r,o,s,a,c,l);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return T(this,null,function*(){let i=X(n);L("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Oc(i),i.F_.shutdown(),i.M_.set("Unknown")})}(this.remoteStore)}};var Oh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Uv=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ot.UNAUTHENTICATED,this.clientId=uh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>T(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return T(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=cy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function v0(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>T(this,null,function*(){i.isEqual(r)||(yield bD(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Ux(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield S5(t);L("FirestoreClient","Initializing OnlineComponentProvider");let i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(r=>Vx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>Vx(e.remoteStore,o)),t._onlineComponents=e})}function D5(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function S5(t){return T(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield v0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!D5(n))throw n;gs("Error using user provided cache. Falling back to memory cache: "+n),yield v0(t,new Nh)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield v0(t,new Nh);return t._offlineComponents})}function VD(t){return T(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ux(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield Ux(t,new jv))),t._onlineComponents})}function A5(t){return VD(t).then(e=>e.syncEngine)}function LD(t){return T(this,null,function*(){let e=yield VD(t),n=e.eventManager;return n.onListen=m5.bind(null,e.syncEngine),n.onUnlisten=_5.bind(null,e.syncEngine),n})}function M5(t,e,n={}){let i=new bn;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,a,c,l){let h=new Oh({next:v=>{s.enqueueAndForget(()=>RD(o,p));let y=v.docs.has(a);!y&&v.fromCache?l.reject(new V(A.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?l.reject(new V(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(v)},error:v=>l.reject(v)}),p=new Mh(iy(a.path),h,{includeMetadataChanges:!0,J_:!0});return PD(o,p)}(yield LD(t),t.asyncQueue,e,n,i)})),i.promise}function P5(t,e,n={}){let i=new bn;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,a,c,l){let h=new Oh({next:v=>{s.enqueueAndForget(()=>RD(o,p)),v.fromCache&&c.source==="server"?l.reject(new V(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(v)},error:v=>l.reject(v)}),p=new Mh(a,h,{includeMetadataChanges:!0,J_:!0});return PD(o,p)}(yield LD(t),t.asyncQueue,e,n,i)})),i.promise}function jD(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Bx=new Map;function UD(t,e,n){if(!n)throw new V(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R5(t,e,n,i){if(e===!0&&i===!0)throw new V(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $x(t){if(!G.isDocumentKey(t))throw new V(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qx(t){if(G.isDocumentKey(t))throw new V(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Qh(t);throw new V(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var kh=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new V(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jD((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ds=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kh(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new y0;switch(i.type){case"firstParty":return new E0(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new V(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=Bx.get(n);i&&(L("ComponentProvider","Removing Datastore"),Bx.delete(n),i.terminate())}(this),Promise.resolve()}};function BD(t,e,n,i={}){var r;let o=(t=Xi(t,Ds))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=ot.MOCK_USER;else{a=f1(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new V(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ot(l)}t._authCredentials=new w0(new lh(a,c))}}var Ss=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Vt=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ki=class t extends Ss{constructor(e,n,i){super(e,n,iy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function $D(t,e,...n){if(t=xt(t),UD("collection","path",e),t instanceof Ds){let i=Le.fromString(e,...n);return qx(i),new Ki(t,null,i)}{if(!(t instanceof Vt||t instanceof Ki))throw new V(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Le.fromString(e,...n));return qx(i),new Ki(t.firestore,null,i)}}function dy(t,e,...n){if(t=xt(t),arguments.length===1&&(e=uh.newId()),UD("doc","path",e),t instanceof Ds){let i=Le.fromString(e,...n);return $x(i),new Vt(t,null,new G(i))}{if(!(t instanceof Vt||t instanceof Ki))throw new V(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Le.fromString(e,...n));return $x(i),new Vt(t.firestore,t instanceof Ki?t.converter:null,new G(i))}}var Bv=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Th(this,"async_queue_retry"),this.iu=()=>{let n=_0();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=_0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=_0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new bn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return T(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Nc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw fi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);let r=Pv.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&W()}verifyOperationInProgress(){}uu(){return T(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};var Kr=class extends Ds{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Bv}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GD(this),this._firestoreClient.terminate()}};function qD(t,e){let n=typeof t=="object"?t:ja(),i=typeof t=="string"?t:e||"(default)",r=a_(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=d1("firestore");o&&BD(r,...o)}return r}function hy(t){return t._firestoreClient||GD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GD(t){var e,n,i;let r=t._freezeSettings(),o=function(a,c,l,h){return new S0(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jD(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Uv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Sc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(St.fromBase64String(e))}catch(n){throw new V(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var As=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ac=class{constructor(e){this._methodName=e}};var Mc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var N5=/^__.*__$/,$v=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wr(e,this.data,n,this.fieldTransforms)}},Fh=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function zD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var qv=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Lh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(zD(this.Iu)&&N5.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},Gv=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Hh(e)}pu(e,n,i,r=!1){return new qv({Iu:e,methodName:n,gu:i,path:Qt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function fy(t){let e=t._freezeSettings(),n=Hh(t._databaseId);return new Gv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function O5(t,e,n,i,r,o={}){let s=t.pu(o.merge||o.mergeFields?2:0,e,n,r);py("Data must be an object, but it was:",s,i);let a=HD(i,s),c,l;if(o.merge)c=new dn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let v=zv(e,p,n);if(!s.contains(v))throw new V(A.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);KD(h,v)||h.push(v)}c=new dn(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new $v(new Kt(a),c,l)}var Vh=class t extends Ac{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function k5(t,e,n,i){let r=t.pu(1,e,n);py("Data must be an object, but it was:",r,i);let o=[],s=Kt.empty();Qr(i,(c,l)=>{let h=my(e,c,n);l=xt(l);let p=r.Ru(h);if(l instanceof Vh)o.push(h);else{let v=Fc(l,p);v!=null&&(o.push(h),s.set(h,v))}});let a=new dn(o);return new Fh(s,a,r.fieldTransforms)}function F5(t,e,n,i,r,o){let s=t.pu(1,e,n),a=[zv(e,i,n)],c=[r];if(o.length%2!=0)throw new V(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(zv(e,o[v])),c.push(o[v+1]);let l=[],h=Kt.empty();for(let v=a.length-1;v>=0;--v)if(!KD(l,a[v])){let y=a[v],D=c[v];D=xt(D);let S=s.Ru(y);if(D instanceof Vh)l.push(y);else{let M=Fc(D,S);M!=null&&(l.push(y),h.set(y,M))}}let p=new dn(l);return new Fh(h,p,s.fieldTransforms)}function V5(t,e,n,i=!1){return Fc(n,t.pu(i?4:3,e))}function Fc(t,e){if(WD(t=xt(t)))return py("Unsupported field value:",e,t),HD(t,e);if(t instanceof Ac)return function(i,r){if(!zD(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=Fc(a,r.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return E4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=dt.fromDate(i);return{timestampValue:Ch(r.serializer,o)}}if(i instanceof dt){let o=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ch(r.serializer,o)}}if(i instanceof Mc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sc)return{bytesValue:gD(r.serializer,i._byteString)};if(i instanceof Vt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ry(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Qh(i)}`)}(t,e)}function HD(t,e){let n={};return Wx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(t,(i,r)=>{let o=Fc(r,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function WD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof Mc||t instanceof Sc||t instanceof Vt||t instanceof Ac)}function py(t,e,n){if(!WD(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Qh(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function zv(t,e,n){if((e=xt(e))instanceof As)return e._internalPath;if(typeof e=="string")return my(t,e);throw Lh("Field path arguments must be of type string or ",t,!1,void 0,n)}var L5=new RegExp("[~\\*/\\[\\]]");function my(t,e,n){if(e.search(L5)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new As(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lh(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new V(A.INVALID_ARGUMENT,a+t+c)}function KD(t,e){return t.some(n=>n.isEqual(e))}var jh=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Hv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(gy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Hv=class extends jh{data(){return super.data()}};function gy(t,e){return typeof e=="string"?my(t,e):e instanceof As?e._internalPath:e._delegate._internalPath}function j5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pc=class{},Wv=class extends Pc{};function QD(t,e,...n){let i=[];e instanceof Pc&&i.push(e),i=i.concat(n),function(o){let s=o.filter(c=>c instanceof Kv).length,a=o.filter(c=>c instanceof Uh).length;if(s>1||s>0&&a>0)throw new V(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Uh=class t extends Wv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return JD(e._query,n),new Ss(e.firestore,e.converter,B0(e._query,n))}_parse(e){let n=fy(e.firestore);return function(o,s,a,c,l,h,p){let v;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){zx(p,h);let y=[];for(let D of p)y.push(Gx(c,o,D));v={arrayValue:{values:y}}}else v=Gx(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||zx(p,h),v=V5(a,s,p,h==="in"||h==="not-in");return Je.create(l,h,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function YD(t,e,n){let i=e,r=gy("where",t);return Uh._create(r,i,n)}var Kv=class t extends Pc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)JD(s,c),s=B0(s,c)}(e._query,n),new Ss(e.firestore,e.converter,B0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Gx(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new V(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tD(e)&&n.indexOf("/")!==-1)throw new V(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Le.fromString(n));if(!G.isDocumentKey(i))throw new V(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yx(t,new G(i))}if(n instanceof Vt)return yx(t,n._key);throw new V(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function zx(t,e){if(!Array.isArray(t)||t.length===0)throw new V(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JD(t,e){let n=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Qv=class{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Qr(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Mc(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=Xv(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bc(e));default:return null}}convertTimestamp(e){let n=Qi(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Le.fromString(e);Oe(CD(i));let r=new ph(i.get(1),i.get(3)),o=new G(i.popFirst(5));return r.isEqual(n)||fi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function U5(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Ur=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Bh=class extends jh{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(gy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},ms=class extends Bh{data(e={}){return super.data(e)}},Yv=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ur(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ms(this._firestore,this._userDataWriter,i.key,i,new Ur(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new ms(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ur(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ms(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ur(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:B5(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function B5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function ZD(t){t=Xi(t,Vt);let e=Xi(t.firestore,Kr);return M5(hy(e),t._key).then(n=>$5(e,t,n))}var $h=class extends Qv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}};function XD(t){t=Xi(t,Ss);let e=Xi(t.firestore,Kr),n=hy(e),i=new $h(e);return j5(t._query),P5(n,t._query).then(r=>new Yv(e,i,t,r))}function eS(t,e,n,...i){t=Xi(t,Vt);let r=Xi(t.firestore,Kr),o=fy(r),s;return s=typeof(e=xt(e))=="string"||e instanceof As?F5(o,"updateDoc",t._key,e,n,i):k5(o,"updateDoc",t._key,e),nS(r,[s.toMutation(t._key,Wi.exists(!0))])}function tS(t,e){let n=Xi(t.firestore,Kr),i=dy(t),r=U5(t.converter,e);return nS(n,[O5(fy(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Wi.exists(!1))]).then(()=>i)}function nS(t,e){return function(i,r){let o=new bn;return i.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return v5(yield A5(i),r,o)})),o.promise}(hy(t),e)}function $5(t,e,n){let i=n.docs.get(e._key),r=new $h(t);return new Bh(t,r,e._key,i,new Ur(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Ms=r})(ts),qi(new ln("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Kr(new C0(i.getProvider("auth-internal")),new T0(i.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ph(l.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),nt(gx,"4.4.0",e),nt(gx,"4.4.0","esm2017")})();var Jr=class{constructor(e){return e}},iS="firestore",_y=class{constructor(){return Ba(iS)}};var vy=new U("angularfire2.firestore-instances");function q5(t,e){let n=u_(iS,t,e);return n&&new Jr(n)}function G5(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Jr(i)}}var z5={provide:_y,deps:[[new Xt,vy]]},H5={provide:Jr,useFactory:q5,deps:[[new Xt,vy],Mr]},W5=(()=>{class t{constructor(){nt("angularfire",is.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ot({type:t});static \u0275inj=Nt({providers:[H5,z5]})}return t})();function rS(t,...e){return{ngModule:W5,providers:[{provide:vy,useFactory:G5(t),multi:!0,deps:[Te,Ft,$a,qa,[new Xt,Ad],[new Xt,Ua],...e]}]}}var yy=Ht(tS,!0);var Vc=Ht($D,!0);var Yh=Ht(dy,!0);var wy=Ht(ZD,!0);var Cy=Ht(XD,!0);var oS=Ht(qD,!0);var sS=Ht(QD,!0);var aS=Ht(eS,!0);var cS=Ht(YD,!0);var Rs=(()=>{class t{constructor(n){this.firestore=n}saveMatch(n){return T(this,null,function*(){let i=yield yy(Vc(this.firestore,"matches"),Y(R({},n),{heureDebut:n.heureDebut.toISOString(),updatedAt:new Date}));return console.log("Match saved:",i.id),i.id})}getAllMatches(){return T(this,null,function*(){let n=Vc(this.firestore,"matches");return(yield Cy(n)).docs.map(r=>{let o=r.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date,duelsGagnes:o.duelsGagnes||[],dribbles:o.dribbles||[],interceptions:o.interceptions||[],frappes:o.frappes||[],fautes:o.fautes||[],contreAttaques:o.contreAttaques||[],tikiTakas:o.tikiTakas||[],competition:o.competition||void 0}})})}getMatchById(n){return T(this,null,function*(){let i=yield wy(Yh(this.firestore,"matches",n));if(i.exists()){let r=i.data();return{equipe1:r.equipe1||"",equipe2:r.equipe2||"",score1:r.score1||0,score2:r.score2||0,buteurs:r.buteurs||[],heureDebut:new Date(r.heureDebut),lieu:r.lieu||"",positions:r.positions||{},showElements:r.showElements!==void 0?r.showElements:!0,competition:r.competition||void 0,updatedAt:r.updatedAt?new Date(r.updatedAt):new Date,duelsGagnes:r.duelsGagnes||[],dribbles:r.dribbles||[],interceptions:r.interceptions||[],frappes:r.frappes||[],fautes:r.fautes||[],contreAttaques:r.contreAttaques||[],tikiTakas:r.tikiTakas||[]}}return null})}saveCompetition(n){return T(this,null,function*(){let i=yield yy(Vc(this.firestore,"competitions"),Y(R({},n),{createdAt:new Date,updatedAt:new Date}));return console.log("Competition saved:",i.id),i.id})}getCompetitionById(n){return T(this,null,function*(){let i=yield wy(Yh(this.firestore,"competitions",n));return i.exists()?Y(R({},i.data()),{id:i.id}):null})}getCompetitionByName(n){return T(this,null,function*(){let i=Vc(this.firestore,"competitions"),r=sS(i,cS("name","==",n)),o=yield Cy(r);if(!o.empty){let s=o.docs[0];return Y(R({},s.data()),{id:s.id})}return null})}addMatchToCompetition(n,i){return T(this,null,function*(){let r=Yh(this.firestore,"competitions",n),o=yield this.getCompetitionById(n);if(o){let s=[...o.matchIds,i];yield aS(r,{matchIds:s,updatedAt:new Date})}})}getMatchesByCompetition(n){return T(this,null,function*(){let i=yield this.getCompetitionById(n);if(!i)return[];let r=[];for(let o of i.matchIds){let s=yield this.getMatchById(o);s&&r.push(s)}return r})}shareCompetition(n,i,r){return T(this,null,function*(){let o={name:n,matchIds:[],createdAt:new Date,updatedAt:new Date},s=yield this.saveCompetition(o);return r?.("Comp\xE9tition cr\xE9\xE9e"),s})}static{this.\u0275fac=function(i){return new(i||t)(B(Jr))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Tn=()=>({standalone:!0}),Q5=t=>({"disabled-goal":t}),Y5=()=>[],J5=(t,e)=>({"text-success":t,"text-danger":e});function Z5(t,e){if(t&1){let n=P();f(0,"button",36),I("click",function(){C(n);let r=_();return b(r.showMatchForm=!0)}),E(1,"i",37),f(2,"span",38),g(3," Match"),d()()}if(t&2){let n=_();u(2),m("hidden",!n.selectedCompetitionFilter.includes("-"))}}function X5(t,e){if(t&1){let n=P();f(0,"button",36),I("click",function(){C(n);let r=_();return b(r.showTeamFilterModal=!0)}),E(1,"i",39),f(2,"span",38),g(3," Teams"),d()()}if(t&2){let n=_();u(2),m("hidden",!n.selectedCompetitionFilter.includes("-"))}}function eU(t,e){if(t&1){let n=P();f(0,"button",40),I("click",function(){C(n);let r=_();return b(r.openCompetitionFilterModal())}),E(1,"i",41),f(2,"span",42),g(3),d()()}if(t&2){let n=_();m("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info"),u(3),x(" ",n.selectedCompetitionFilter||n.getCurrentSeason(),"")}}function tU(t,e){if(t&1){let n=P();f(0,"button",43),I("click",function(){C(n);let r=_();return b(r.showRanking())}),E(1,"i",44)(2,"span"),d()}if(t&2){let n=_();m("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter),u(),xe("text-white",n.selectedCompetitionFilter),u(),xe("text-white",n.selectedCompetitionFilter)}}function nU(t,e){if(t&1){let n=P();f(0,"button",45),I("click",function(){C(n);let r=_();return b(r.shareCompetition())}),E(1,"i",46)(2,"span"),d()}if(t&2){let n=_();m("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter)("disabled",n.isSharingCompetition),u(),xe("text-white",n.selectedCompetitionFilter),m("ngClass",n.isSharingCompetition?"fa-spinner fa-spin":"fa-share-alt"),u(),xe("text-white",n.selectedCompetitionFilter)}}function iU(t,e){if(t&1&&(ie(0),g(1),re()),t&2){let n=_(2);u(),x(" de ",n.selectedCompetitionFilter," ")}}function rU(t,e){if(t&1){let n=P();f(0,"button",73),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.deleteTeam(r.name))}),E(1,"i",74),d()}}function oU(t,e){if(t&1){let n=P();f(0,"div",52)(1,"div",53)(2,"div",54)(3,"div",55)(4,"input",66),ge("ngModelChange",function(r){C(n);let o=_(2);return ye(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),b(r)}),d(),f(5,"label",67)(6,"span",68),g(7),d(),f(8,"small",69),g(9),d()()()(),f(10,"div",60)(11,"button",70),I("click",function(){let r=C(n).$implicit,o=_(2);return b(o.openEditPlayersModal(r.name))}),E(12,"i",71),d(),w(13,rU,2,0,"button",72),d()()()}if(t&2){let n=e.$implicit,i=_(2);u(4),m("value",n.name),me("ngModel",i.selectedTeamFilter),m("id","team-"+n.name),u(3),te(n.name),u(2),x("(",i.getMatchesPlayedByTeam(n.name)," matchs)"),u(4),m("ngIf",i.showDeleteButtons)}}function sU(t,e){if(t&1){let n=P();f(0,"div",47)(1,"div",48)(2,"div",26)(3,"h5",27),E(4,"i",49),g(5," S\xE9lectionner une \xC9quipe "),d(),f(6,"button",50),I("click",function(){C(n);let r=_();return b(r.closeTeamFilterModal())}),f(7,"span",51),g(8,"\xD7"),d()()(),f(9,"div",29)(10,"div",52)(11,"div",53)(12,"div",54)(13,"div",55)(14,"input",56),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),b(r)}),d(),f(15,"label",57)(16,"span",58),g(17," Toutes les \xE9quipes "),w(18,iU,2,1,"ng-container",59),d()()()(),E(19,"div",60),d()(),w(20,oU,14,6,"div",61),d(),f(21,"div",34)(22,"button",62),I("click",function(){C(n);let r=_();return b(r.openNewTeamModal())}),E(23,"i",63),g(24," Nouvelle \xC9quipe "),d(),f(25,"button",64),I("click",function(){C(n);let r=_();return b(r.closeTeamFilterModal())}),E(26,"i",65),g(27,"Fermer "),d()()()()}if(t&2){let n=_();u(14),m("value",""),me("ngModel",n.selectedTeamFilter),u(4),m("ngIf",n.selectedCompetitionFilter),u(2),m("ngForOf",n.filteredTeamsForModal)}}function aU(t,e){if(t&1){let n=P();f(0,"app-competition-filter-modal",75),I("seasonChanged",function(r){C(n);let o=_();return b(o.onSeasonChanged(r))})("competitionSelected",function(r){C(n);let o=_();return b(o.onCompetitionSelected(r))})("competitionAdded",function(r){C(n);let o=_();return b(o.onCompetitionAdded(r))})("competitionUpdated",function(r){C(n);let o=_();return b(o.onCompetitionUpdated(r))})("competitionDeleted",function(r){C(n);let o=_();return b(o.onCompetitionDeleted(r))})("assignSeason",function(r){C(n);let o=_();return b(o.onAssignSeason(r))})("closeModal",function(){C(n);let r=_();return b(r.closeCompetitionFilterModal())}),d()}if(t&2){let n=_();m("competitions",n.uniqueCompetitions)("selectedSeason",n.selectedSeason)("availableSeasons",n.filteredSeasonsForModal)("selectedCompetition",n.selectedCompetitionFilter)("isCompetitionWithoutSeason",n.isCompetitionWithoutSeason.bind(n))("getSuggestedSeason",n.getSuggestedSeasonForCompetition.bind(n))("showDeleteButtons",n.showDeleteButtons)}}function cU(t,e){if(t&1){let n=P();f(0,"button",106),I("click",function(){let r=C(n).$implicit,o=_(3);return b(o.selectTeam1(r))}),g(1),d()}if(t&2){let n=e.$implicit;u(),te(n)}}function lU(t,e){if(t&1&&(f(0,"div",104),w(1,cU,2,1,"button",105),d()),t&2){let n=_(2);u(),m("ngForOf",n.filteredTeams1)}}function uU(t,e){if(t&1){let n=P();f(0,"div",107)(1,"button",108),I("click",function(){C(n);let r=_(2);return b(r.openNewTeamModalFor("equipe1"))}),g(2),d()()}if(t&2){let n=_(2);u(2),x(' Cr\xE9er "',n.team1Search,'" ')}}function dU(t,e){if(t&1){let n=P();f(0,"button",106),I("click",function(){let r=C(n).$implicit,o=_(3);return b(o.selectTeam2(r))}),g(1),d()}if(t&2){let n=e.$implicit;u(),te(n)}}function hU(t,e){if(t&1&&(f(0,"div",104),w(1,dU,2,1,"button",105),d()),t&2){let n=_(2);u(),m("ngForOf",n.filteredTeams2)}}function fU(t,e){if(t&1){let n=P();f(0,"div",107)(1,"button",108),I("click",function(){C(n);let r=_(2);return b(r.openNewTeamModalFor("equipe2"))}),g(2),d()()}if(t&2){let n=_(2);u(2),x(' Cr\xE9er "',n.team2Search,'" ')}}function pU(t,e){if(t&1){let n=P();f(0,"button",106),I("click",function(){let r=C(n).$implicit,o=_(3);return b(o.selectCompetition(r))}),g(1),d()}if(t&2){let n=e.$implicit;u(),te(n)}}function mU(t,e){if(t&1&&(f(0,"div",104),w(1,pU,2,1,"button",105),d()),t&2){let n=_(2);u(),m("ngForOf",n.filteredCompetitions)}}function gU(t,e){if(t&1){let n=P();f(0,"div",107)(1,"button",108),I("click",function(){C(n);let r=_(2);return b(r.selectCompetition(r.competitionSearch))}),g(2),d()()}if(t&2){let n=_(2);u(2),x(' Cr\xE9er "',n.competitionSearch,'" ')}}function _U(t,e){if(t&1){let n=P();f(0,"div",47)(1,"div",76)(2,"div",26)(3,"h4",27),E(4,"i",77),g(5,"Ajouter un Match! "),d(),f(6,"button",50),I("click",function(){C(n);let r=_();return b(r.showMatchForm=!1)}),f(7,"span",51),g(8,"\xD7"),d()()(),f(9,"div",29)(10,"form",78),I("ngSubmit",function(){C(n);let r=_();return b(r.onSubmit())}),f(11,"div",79)(12,"div",80)(13,"div",81)(14,"label",82),g(15,"\xC9quipe 1"),d(),f(16,"input",83),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.team1Search,r)||(o.team1Search=r),b(r)}),I("input",function(){C(n);let r=_();return b(r.updateFilteredTeams1())})("focus",function(){C(n);let r=_();return b(r.updateFilteredTeams1())}),d(),E(17,"input",84),w(18,lU,2,1,"div",85)(19,uU,3,1,"div",86),d(),f(20,"div",81)(21,"label",87),g(22,"\xC9quipe 2"),d(),f(23,"input",88),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.team2Search,r)||(o.team2Search=r),b(r)}),I("input",function(){C(n);let r=_();return b(r.updateFilteredTeams2())})("focus",function(){C(n);let r=_();return b(r.updateFilteredTeams2())}),d(),E(24,"input",89),w(25,hU,2,1,"div",85)(26,fU,3,1,"div",86),d()(),f(27,"div",80)(28,"div",90)(29,"label",91),g(30,"Heure de d\xE9but"),d(),E(31,"input",92),d(),f(32,"div",90)(33,"label",93),g(34,"Lieu du match (optionnel)"),d(),E(35,"input",94),d(),f(36,"div",81)(37,"label",95),g(38,"Comp\xE9tition (optionnel)"),d(),f(39,"input",96),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.competitionSearch,r)||(o.competitionSearch=r),b(r)}),I("input",function(){C(n);let r=_();return b(r.updateFilteredCompetitions())})("focus",function(){C(n);let r=_();return b(r.updateFilteredCompetitions())}),d(),E(40,"input",97),w(41,mU,2,1,"div",85)(42,gU,3,1,"div",86),d()()(),f(43,"div",98)(44,"button",99),g(45," Cr\xE9er le match "),d(),f(46,"button",100),g(47," \u{1F9F0} "),d(),f(48,"button",101),I("click",function(){C(n);let r=_();return b(r.showMatchForm=!1)}),g(49," Annuler "),d(),f(50,"ul",102)(51,"li")(52,"a",103),I("click",function(){C(n);let r=_();return b(r.exportMatches())}),g(53,"Exporter les matchs"),d()(),f(54,"li")(55,"a",103),I("click",function(){C(n);let r=_();return b(r.importMatches())}),g(56,"Importer des matchs"),d()()()()()(),f(57,"div",34)(58,"button",64),I("click",function(){C(n);let r=_();return b(r.showMatchForm=!1)}),E(59,"i",65),g(60,"Annuler "),d()()()()}if(t&2){let n=_();u(10),m("formGroup",n.matchForm),u(6),me("ngModel",n.team1Search),m("ngModelOptions",Bt(13,Tn)),u(2),m("ngIf",n.filteredTeams1.length>0&&n.team1Search),u(),m("ngIf",n.shouldShowCreateTeam1()),u(4),me("ngModel",n.team2Search),m("ngModelOptions",Bt(14,Tn)),u(2),m("ngIf",n.filteredTeams2.length>0&&n.team2Search),u(),m("ngIf",n.shouldShowCreateTeam2()),u(13),me("ngModel",n.competitionSearch),m("ngModelOptions",Bt(15,Tn)),u(2),m("ngIf",n.filteredCompetitions.length>0&&n.competitionSearch),u(),m("ngIf",n.shouldShowCreateCompetition())}}function vU(t,e){t&1&&(f(0,"span",122),g(1,"\u2022"),d())}function yU(t,e){if(t&1&&(f(0,"span"),g(1),d()),t&2){let n=_().$implicit;u(),te(n.lieu)}}function wU(t,e){t&1&&(f(0,"span",122),g(1,"\u2022"),d())}function CU(t,e){if(t&1&&(f(0,"span")(1,"span",123),g(2),d()()),t&2){let n=_().$implicit,i=_(2);u(),m("ngClass",i.getCompetitionBadgeColor(n.competition)),u(),te(n.competition)}}function bU(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function EU(t,e){t&1&&(f(0,"span"),g(1,","),d())}function IU(t,e){if(t&1&&(f(0,"span",131),g(1),d()),t&2){let n=_(2).$implicit;u(),x("(Assist: ",n.assist,")")}}function TU(t,e){if(t&1&&(ie(0),w(1,bU,2,0,"span",59),g(2),w(3,EU,2,0,"span",59)(4,IU,2,1,"span",130),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1),u(),m("ngIf",r.assist)}}function xU(t,e){if(t&1&&(f(0,"div")(1,"div",128)(2,"span"),g(3),d(),f(4,"span",129),w(5,TU,5,4,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u26BD ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function DU(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function SU(t,e){t&1&&(f(0,"span"),g(1,","),d())}function AU(t,e){if(t&1&&(f(0,"span",131),g(1),d()),t&2){let n=_(2).$implicit;u(),x("(Assist: ",n.assist,")")}}function MU(t,e){if(t&1&&(ie(0),w(1,DU,2,0,"span",59),g(2),w(3,SU,2,0,"span",59)(4,AU,2,1,"span",130),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1),u(),m("ngIf",r.assist)}}function PU(t,e){if(t&1&&(f(0,"div")(1,"div",132)(2,"span"),g(3),d(),f(4,"span",129),w(5,MU,5,4,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u26BD ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function RU(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function NU(t,e){t&1&&(f(0,"span"),g(1,","),d())}function OU(t,e){if(t&1&&(f(0,"span",131),g(1),d()),t&2){let n=_(2).$implicit;u(),x("(Assist: ",n.assist,")")}}function kU(t,e){if(t&1&&(ie(0),w(1,RU,2,0,"span",59),g(2),w(3,NU,2,0,"span",59)(4,OU,2,1,"span",130),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1),u(),m("ngIf",r.assist)}}function FU(t,e){if(t&1&&(f(0,"div")(1,"div",128)(2,"span"),g(3),d(),f(4,"span",133),w(5,kU,5,4,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u26BD ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function VU(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function LU(t,e){t&1&&(f(0,"span"),g(1,","),d())}function jU(t,e){if(t&1&&(f(0,"span",131),g(1),d()),t&2){let n=_(2).$implicit;u(),x("(Assist: ",n.assist,")")}}function UU(t,e){if(t&1&&(ie(0),w(1,VU,2,0,"span",59),g(2),w(3,LU,2,0,"span",59)(4,jU,2,1,"span",130),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1),u(),m("ngIf",r.assist)}}function BU(t,e){if(t&1&&(f(0,"div")(1,"div",132)(2,"span"),g(3),d(),f(4,"span",133),w(5,UU,5,4,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u26BD ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function $U(t,e){if(t&1&&(f(0,"div",124)(1,"div",125)(2,"div",126),w(3,xU,6,2,"div",111)(4,PU,6,2,"div",111),d(),f(5,"div",127),w(6,FU,6,2,"div",111)(7,BU,6,2,"div",111),d()()()),t&2){let n=_().$implicit,i=_(2);u(3),m("ngForOf",i.getActiveGroupedScorers(n,1)),u(),m("ngForOf",i.getDisabledGroupedScorers(n,1)),u(2),m("ngForOf",i.getActiveGroupedScorers(n,2)),u(),m("ngForOf",i.getDisabledGroupedScorers(n,2))}}function qU(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function GU(t,e){t&1&&(f(0,"span"),g(1,","),d())}function zU(t,e){if(t&1&&(ie(0),w(1,qU,2,0,"span",59),g(2),w(3,GU,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function HU(t,e){if(t&1&&(f(0,"div")(1,"div",134)(2,"span"),g(3),d(),f(4,"span",129),w(5,zU,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u{1F6E1}\uFE0F ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function WU(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function KU(t,e){t&1&&(f(0,"span"),g(1,","),d())}function QU(t,e){if(t&1&&(ie(0),w(1,WU,2,0,"span",59),g(2),w(3,KU,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function YU(t,e){if(t&1&&(f(0,"div")(1,"div",134)(2,"span"),g(3),d(),f(4,"span",133),w(5,QU,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u{1F6E1}\uFE0F ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function JU(t,e){if(t&1&&(f(0,"div",124)(1,"div",125)(2,"div",126),w(3,HU,6,2,"div",111),d(),f(4,"div",127),w(5,YU,6,2,"div",111),d()()()),t&2){let n=_().$implicit,i=_(2);u(3),m("ngForOf",i.getGroupedDuels(n,1)),u(2),m("ngForOf",i.getGroupedDuels(n,2))}}function ZU(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function XU(t,e){t&1&&(f(0,"span"),g(1,","),d())}function eB(t,e){if(t&1&&(ie(0),w(1,ZU,2,0,"span",59),g(2),w(3,XU,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function tB(t,e){if(t&1&&(f(0,"div")(1,"div",135)(2,"span"),g(3),d(),f(4,"span",129),w(5,eB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u{1F3C3} ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function nB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function iB(t,e){t&1&&(f(0,"span"),g(1,","),d())}function rB(t,e){if(t&1&&(ie(0),w(1,nB,2,0,"span",59),g(2),w(3,iB,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function oB(t,e){if(t&1&&(f(0,"div")(1,"div",135)(2,"span"),g(3),d(),f(4,"span",133),w(5,rB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u{1F3C3} ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function sB(t,e){if(t&1&&(f(0,"div",124)(1,"div",125)(2,"div",126),w(3,tB,6,2,"div",111),d(),f(4,"div",127),w(5,oB,6,2,"div",111),d()()()),t&2){let n=_().$implicit,i=_(2);u(3),m("ngForOf",i.getGroupedDribbles(n,1)),u(2),m("ngForOf",i.getGroupedDribbles(n,2))}}function aB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function cB(t,e){t&1&&(f(0,"span"),g(1,","),d())}function lB(t,e){if(t&1&&(ie(0),w(1,aB,2,0,"span",59),g(2),w(3,cB,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function uB(t,e){if(t&1&&(f(0,"div")(1,"div",136)(2,"span"),g(3),d(),f(4,"span",129),w(5,lB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u270B ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function dB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function hB(t,e){t&1&&(f(0,"span"),g(1,","),d())}function fB(t,e){if(t&1&&(ie(0),w(1,dB,2,0,"span",59),g(2),w(3,hB,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function pB(t,e){if(t&1&&(f(0,"div")(1,"div",136)(2,"span"),g(3),d(),f(4,"span",133),w(5,fB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u270B ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function mB(t,e){if(t&1&&(f(0,"div",124)(1,"div",125)(2,"div",126),w(3,uB,6,2,"div",111),d(),f(4,"div",127),w(5,pB,6,2,"div",111),d()()()),t&2){let n=_().$implicit,i=_(2);u(3),m("ngForOf",i.getGroupedInterceptions(n,1)),u(2),m("ngForOf",i.getGroupedInterceptions(n,2))}}function gB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function _B(t,e){t&1&&(f(0,"span"),g(1,","),d())}function vB(t,e){if(t&1&&(ie(0),w(1,gB,2,0,"span",59),g(2),w(3,_B,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function yB(t,e){if(t&1&&(f(0,"div")(1,"div",137)(2,"span"),g(3),d(),f(4,"span",129),w(5,vB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u{1F3AF} ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function wB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function CB(t,e){t&1&&(f(0,"span"),g(1,","),d())}function bB(t,e){if(t&1&&(ie(0),w(1,wB,2,0,"span",59),g(2),w(3,CB,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function EB(t,e){if(t&1&&(f(0,"div")(1,"div",137)(2,"span"),g(3),d(),f(4,"span",133),w(5,bB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u{1F3AF} ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function IB(t,e){if(t&1&&(f(0,"div",124)(1,"div",125)(2,"div",126),w(3,yB,6,2,"div",111),d(),f(4,"div",127),w(5,EB,6,2,"div",111),d()()()),t&2){let n=_().$implicit,i=_(2);u(3),m("ngForOf",i.getGroupedFrappes(n,1)),u(2),m("ngForOf",i.getGroupedFrappes(n,2))}}function TB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function xB(t,e){t&1&&(f(0,"span"),g(1,","),d())}function DB(t,e){if(t&1&&(ie(0),w(1,TB,2,0,"span",59),g(2),w(3,xB,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function SB(t,e){if(t&1&&(f(0,"div")(1,"div",138)(2,"span"),g(3),d(),f(4,"span",129),w(5,DB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u26A0\uFE0F ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function AB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function MB(t,e){t&1&&(f(0,"span"),g(1,","),d())}function PB(t,e){if(t&1&&(ie(0),w(1,AB,2,0,"span",59),g(2),w(3,MB,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function RB(t,e){if(t&1&&(f(0,"div")(1,"div",138)(2,"span"),g(3),d(),f(4,"span",133),w(5,PB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u26A0\uFE0F ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function NB(t,e){if(t&1&&(f(0,"div",124)(1,"div",125)(2,"div",126),w(3,SB,6,2,"div",111),d(),f(4,"div",127),w(5,RB,6,2,"div",111),d()()()),t&2){let n=_().$implicit,i=_(2);u(3),m("ngForOf",i.getGroupedFautes(n,1)),u(2),m("ngForOf",i.getGroupedFautes(n,2))}}function OB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function kB(t,e){t&1&&(f(0,"span"),g(1,","),d())}function FB(t,e){if(t&1&&(ie(0),w(1,OB,2,0,"span",59),g(2),w(3,kB,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function VB(t,e){if(t&1&&(f(0,"div")(1,"div",139)(2,"span"),g(3),d(),f(4,"span",129),w(5,FB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u26A1 ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function LB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function jB(t,e){t&1&&(f(0,"span"),g(1,","),d())}function UB(t,e){if(t&1&&(ie(0),w(1,LB,2,0,"span",59),g(2),w(3,jB,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function BB(t,e){if(t&1&&(f(0,"div")(1,"div",139)(2,"span"),g(3),d(),f(4,"span",133),w(5,UB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u26A1 ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function $B(t,e){if(t&1&&(f(0,"div",124)(1,"div",125)(2,"div",126),w(3,VB,6,2,"div",111),d(),f(4,"div",127),w(5,BB,6,2,"div",111),d()()()),t&2){let n=_().$implicit,i=_(2);u(3),m("ngForOf",i.getGroupedContreAttaques(n,1)),u(2),m("ngForOf",i.getGroupedContreAttaques(n,2))}}function qB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function GB(t,e){t&1&&(f(0,"span"),g(1,","),d())}function zB(t,e){if(t&1&&(ie(0),w(1,qB,2,0,"span",59),g(2),w(3,GB,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function HB(t,e){if(t&1&&(f(0,"div")(1,"div",140)(2,"span"),g(3),d(),f(4,"span",129),w(5,zB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u{1F504} ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function WB(t,e){t&1&&(f(0,"span"),E(1,"br"),d())}function KB(t,e){t&1&&(f(0,"span"),g(1,","),d())}function QB(t,e){if(t&1&&(ie(0),w(1,WB,2,0,"span",59),g(2),w(3,KB,2,0,"span",59),re()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;u(),m("ngIf",i>0&&i%5===0),u(),x(" ",n,"'"),u(),m("ngIf",i<r.minutes.length-1)}}function YB(t,e){if(t&1&&(f(0,"div")(1,"div",140)(2,"span"),g(3),d(),f(4,"span",133),w(5,QB,4,3,"ng-container",111),d()()()),t&2){let n=e.$implicit;u(3),x("\u{1F504} ",n.nom,":"),u(2),m("ngForOf",n.minutes)}}function JB(t,e){if(t&1&&(f(0,"div",124)(1,"div",125)(2,"div",126),w(3,HB,6,2,"div",111),d(),f(4,"div",127),w(5,YB,6,2,"div",111),d()()()),t&2){let n=_().$implicit,i=_(2);u(3),m("ngForOf",i.getGroupedTikiTakas(n,1)),u(2),m("ngForOf",i.getGroupedTikiTakas(n,2))}}function ZB(t,e){if(t&1){let n=P();f(0,"div",141)(1,"button",142),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.selectMatch(r))}),E(2,"i",143),d(),f(3,"button",144),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.openDispositionModal(r))}),E(4,"i",145),d(),f(5,"button",146),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.toggleMatchEditForm(r))}),E(6,"i",46),d(),f(7,"button",147),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.shareMatch(r))}),E(8,"i",46),f(9,"span",148),g(10,"Partager"),d()()()}if(t&2){let n=_(3);u(6),m("ngClass",n.showMatchEditForm?"fa-pen-fancy":"fa-edit"),u(),m("disabled",n.isSharingMatch),u(),m("ngClass",n.isSharingMatch?"fa-spinner fa-spin":"fa-share-alt")}}function XB(t,e){if(t&1){let n=P();f(0,"div")(1,"div",112)(2,"div",113)(3,"span"),g(4),vr(5,"date"),d(),w(6,vU,2,0,"span",114)(7,yU,2,1,"span",59)(8,wU,2,0,"span",114)(9,CU,3,2,"span",59),f(10,"button",115),I("click",function(){let r=C(n).$implicit,o=_(2);return b(o.toggleVisibility(r))}),E(11,"i",116),d()(),f(12,"div",117)(13,"div",118),g(14),d(),f(15,"button",119),I("click",function(){let r=C(n).$implicit,o=_(2);return b(o.selectMatch(r))}),g(16),d(),f(17,"div",118),g(18),d()(),w(19,$U,8,4,"div",120)(20,JU,6,2,"div",120)(21,sB,6,2,"div",120)(22,mB,6,2,"div",120)(23,IB,6,2,"div",120)(24,NB,6,2,"div",120)(25,$B,6,2,"div",120)(26,JB,6,2,"div",120)(27,ZB,11,3,"div",121),d()()}if(t&2){let n=e.$implicit,i=_(2);Ai("data-match-id",n.id),u(4),te(Xs(5,21,n.heureDebut,"EEEE dd/MM/yy HH:mm")),u(2),m("ngIf",n.lieu),u(),m("ngIf",n.lieu),u(),m("ngIf",n.competition),u(),m("ngIf",n.competition),u(2),m("ngClass",n.showElements?"fa-eye-slash":"fa-circle-info"),u(3),te(n.equipe1),u(),m("ngClass",i.getScoreColor(n)),u(),Xe(" ",n.score1," - ",n.score2," "),u(2),te(n.equipe2),u(),m("ngIf",n.showElements&&n.buteurs.length>0),u(),m("ngIf",n.showElements&&n.duelsGagnes&&n.duelsGagnes.length>0),u(),m("ngIf",n.showElements&&n.dribbles&&n.dribbles.length>0),u(),m("ngIf",n.showElements&&n.interceptions&&n.interceptions.length>0),u(),m("ngIf",n.showElements&&n.frappes&&n.frappes.length>0),u(),m("ngIf",n.showElements&&n.fautes&&n.fautes.length>0),u(),m("ngIf",n.showElements&&n.contreAttaques&&n.contreAttaques.length>0),u(),m("ngIf",n.showElements&&n.tikiTakas&&n.tikiTakas.length>0),u(),m("ngIf",n.showElements)}}function e$(t,e){if(t&1&&(f(0,"div",109),E(1,"h2"),f(2,"div",110),w(3,XB,28,24,"div",111),d()()),t&2){let n=_();u(3),m("ngForOf",n.getSortedMatches())}}function t$(t,e){if(t&1&&(ie(0),g(1),f(2,"div",173),g(3),d(),re()),t&2){let n=_(2);u(),Xe(" ",n.selectedMatch.score1," - ",n.selectedMatch.score2," "),u(2),Xe(" (",n.getActiveGoalsCount(1)," - ",n.getActiveGoalsCount(2)," buts actifs) ")}}function n$(t,e){if(t&1){let n=P();ie(0),f(1,"div",174)(2,"input",175),ge("ngModelChange",function(r){C(n);let o=_(2);return ye(o.selectedMatch.score1,r)||(o.selectedMatch.score1=r),b(r)}),I("input",function(){C(n);let r=_(2);return r.selectedMatch.score1=r.validateScore(r.selectedMatch.score1),b(r.onScoreChange())}),d(),f(3,"span"),g(4,"-"),d(),f(5,"input",175),ge("ngModelChange",function(r){C(n);let o=_(2);return ye(o.selectedMatch.score2,r)||(o.selectedMatch.score2=r),b(r)}),I("input",function(){C(n);let r=_(2);return r.selectedMatch.score2=r.validateScore(r.selectedMatch.score2),b(r.onScoreChange())}),d()(),re()}if(t&2){let n=_(2);u(2),me("ngModel",n.selectedMatch.score1),u(3),me("ngModel",n.selectedMatch.score2)}}function i$(t,e){if(t&1){let n=P();f(0,"button",106),I("click",function(){let r=C(n).$implicit,o=_(4);return b(o.selectButeurName(r))}),g(1),d()}if(t&2){let n=e.$implicit;u(),te(n)}}function r$(t,e){if(t&1&&(f(0,"div",104),w(1,i$,2,1,"button",105),d()),t&2){let n=_(3);u(),m("ngForOf",n.filteredButeurNames)}}function o$(t,e){if(t&1){let n=P();f(0,"div",107)(1,"button",108),I("click",function(){C(n);let r=_(3);return b(r.selectButeurName(r.buteurNameSearch))}),g(2),d()()}if(t&2){let n=_(3);u(2),x(' Cr\xE9er "',n.buteurNameSearch,'" ')}}function s$(t,e){if(t&1){let n=P();f(0,"button",106),I("click",function(){let r=C(n).$implicit,o=_(4);return b(o.selectAssistName(r))}),g(1),d()}if(t&2){let n=e.$implicit;u(),te(n)}}function a$(t,e){if(t&1&&(f(0,"div",104),w(1,s$,2,1,"button",105),d()),t&2){let n=_(3);u(),m("ngForOf",n.filteredAssistNames)}}function c$(t,e){if(t&1){let n=P();f(0,"div",107)(1,"button",108),I("click",function(){C(n);let r=_(3);return b(r.selectAssistName(r.assistSearch))}),g(2),d()()}if(t&2){let n=_(3);u(2),x(' Cr\xE9er "',n.assistSearch,'" ')}}function l$(t,e){if(t&1){let n=P();f(0,"div",176)(1,"div",177)(2,"div",25)(3,"div",26)(4,"h5",27),g(5),d(),f(6,"button",178),I("click",function(){C(n);let r=_(2);return b(r.showButeurForm=!1)}),d()(),f(7,"div",29)(8,"form",78),I("ngSubmit",function(){C(n);let r=_(2);return b(r.ajouterButeur())}),f(9,"div",179)(10,"div",180)(11,"label",181),g(12,"Nom du buteur"),d(),f(13,"input",182),ge("ngModelChange",function(r){C(n);let o=_(2);return ye(o.buteurNameSearch,r)||(o.buteurNameSearch=r),b(r)}),I("input",function(){C(n);let r=_(2);return b(r.updateFilteredButeurNames())})("focus",function(){C(n);let r=_(2);return b(r.updateFilteredButeurNames())}),d(),E(14,"input",183),w(15,r$,2,1,"div",85)(16,o$,3,1,"div",86),d(),f(17,"div",184)(18,"label",181),g(19,"Minute"),d(),E(20,"input",185),d(),f(21,"div",186)(22,"label",181),g(23,"\xC9quipe"),d(),f(24,"select",187),I("change",function(){C(n);let r=_(2);return b(r.onButeurEquipeChange())}),f(25,"option",188),g(26),d(),f(27,"option",188),g(28),d()()(),f(29,"div",189)(30,"label",181),g(31,"Assist (optionnel)"),d(),f(32,"input",190),ge("ngModelChange",function(r){C(n);let o=_(2);return ye(o.assistSearch,r)||(o.assistSearch=r),b(r)}),I("input",function(){C(n);let r=_(2);return b(r.updateFilteredAssistNames())})("focus",function(){C(n);let r=_(2);return b(r.updateFilteredAssistNames())}),d(),E(33,"input",191),w(34,a$,2,1,"div",85)(35,c$,3,1,"div",86),d()(),f(36,"div",192)(37,"button",193),I("click",function(){let r;C(n);let o=_(2);return b(o.addNewPlayer((r=o.buteurForm.get("nom"))==null?null:r.value))}),g(38),d(),f(39,"button",64),I("click",function(){C(n);let r=_(2);return b(r.annulerEditionButeur())}),g(40," Annuler "),d()()()()()()()}if(t&2){let n=_(2);u(5),te(n.editingButeur?"Modifier le buteur":"Nouveau buteur"),u(3),m("formGroup",n.buteurForm),u(5),me("ngModel",n.buteurNameSearch),m("ngModelOptions",Bt(16,Tn)),u(2),m("ngIf",n.filteredButeurNames.length>0&&n.buteurNameSearch),u(),m("ngIf",n.shouldShowCreateButeur()),u(9),m("value",1),u(),te(n.selectedMatch.equipe1),u(),m("value",2),u(),te(n.selectedMatch.equipe2),u(4),me("ngModel",n.assistSearch),m("ngModelOptions",Bt(17,Tn)),u(2),m("ngIf",n.filteredAssistNames.length>0&&n.assistSearch),u(),m("ngIf",n.shouldShowCreateAssist()),u(2),m("disabled",!n.buteurForm.valid),u(),x(" ",n.editingButeur?"Enregistrer":"Ajouter"," ")}}function u$(t,e){t&1&&E(0,"i",198)}function d$(t,e){t&1&&E(0,"i",199)}function h$(t,e){t&1&&E(0,"i",200)}function f$(t,e){if(t&1){let n=P();f(0,"button",194),I("click",function(){let r=C(n).$implicit,o=_(2);return b(o.quickAddAction(r.name,1))}),w(1,u$,1,0,"i",195)(2,d$,1,0,"i",196)(3,h$,1,0,"i",197),g(4),d()}if(t&2){let n=e.$implicit;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function p$(t,e){if(t&1){let n=P();f(0,"button",194),I("click",function(){C(n);let r=_(2);return b(r.showButeurForm=!0)}),g(1," + "),d()}}function m$(t,e){t&1&&E(0,"i",198)}function g$(t,e){t&1&&E(0,"i",199)}function _$(t,e){t&1&&E(0,"i",200)}function v$(t,e){if(t&1){let n=P();f(0,"button",201),I("click",function(){let r=C(n).$implicit,o=_(2);return b(o.quickAddAction(r.name,2))}),w(1,m$,1,0,"i",195)(2,g$,1,0,"i",196)(3,_$,1,0,"i",197),g(4),d()}if(t&2){let n=e.$implicit;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function y$(t,e){if(t&1){let n=P();f(0,"button",201),I("click",function(){C(n);let r=_(2);return b(r.showButeurForm=!0)}),g(1," + "),d()}}function w$(t,e){if(t&1){let n=P();f(0,"div",203)(1,"div",204)(2,"span",205)(3,"strong",206),g(4),d()(),f(5,"div")(6,"button",207),I("click",function(){let r=C(n).index,o=_(3);return b(o.modifierButeur(o.matches.indexOf(o.selectedMatch),r))}),E(7,"i",71),d(),f(8,"button",208),I("click",function(){let r=C(n).index,o=_(3);return b(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),r))}),E(9,"i",209),d()()()()}if(t&2){let n=e.$implicit,i=e.index,r=_(3);u(),m("ngClass",Mb(3,Q5,r.isGoalDisabled(i))),u(2),m("ngClass",n.equipe===1?"buteur-team1":"buteur-team2"),u(),te(r.getButeurDisplay(n))}}function C$(t,e){if(t&1&&(f(0,"div"),w(1,w$,10,5,"div",202),d()),t&2){let n=_(2);u(),m("ngForOf",n.selectedMatch.buteurs)}}function b$(t,e){if(t&1){let n=P();f(0,"button",208),I("click",function(){C(n);let r=_().index,o=_(3);return b(o.supprimerDuel(o.matches.indexOf(o.selectedMatch),r))}),E(1,"i",209),d()}}function E$(t,e){if(t&1&&(f(0,"div",213)(1,"div",214)(2,"span",205)(3,"strong",215),g(4),d(),f(5,"em",215),g(6),d()(),f(7,"div"),w(8,b$,2,0,"button",216),d()()()),t&2){let n=e.$implicit,i=_(3);u(4),Xe("\u{1F6E1}\uFE0F ",n.nom," - ",n.minute,"'"),u(2),x("(",n.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")"),u(2),m("ngIf",i.showDeleteButtons)}}function I$(t,e){if(t&1&&(f(0,"div",210)(1,"div",211)(2,"h4")(3,"span",169),g(4,"\u{1F6E1}\uFE0F"),d(),g(5),d()(),f(6,"div"),w(7,E$,9,4,"div",212),d()()),t&2){let n=_(2);u(5),x(" Duels gagn\xE9s (",n.selectedMatch.duelsGagnes.length,") "),u(2),m("ngForOf",n.selectedMatch.duelsGagnes)}}function T$(t,e){if(t&1){let n=P();f(0,"button",208),I("click",function(){C(n);let r=_().index,o=_(3);return b(o.supprimerDribble(o.matches.indexOf(o.selectedMatch),r))}),E(1,"i",209),d()}}function x$(t,e){if(t&1&&(f(0,"div",213)(1,"div",217)(2,"span",205)(3,"strong",218),g(4),d(),f(5,"em",218),g(6),d()(),f(7,"div"),w(8,T$,2,0,"button",216),d()()()),t&2){let n=e.$implicit,i=_(3);u(4),Xe("\u{1F3C3} ",n.nom," - ",n.minute,"'"),u(2),x("(",n.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")"),u(2),m("ngIf",i.showDeleteButtons)}}function D$(t,e){if(t&1&&(f(0,"div",210)(1,"div",211)(2,"h4")(3,"span",169),g(4,"\u{1F3C3}"),d(),g(5),d()(),f(6,"div"),w(7,x$,9,4,"div",212),d()()),t&2){let n=_(2);u(5),x(" Dribbles (",n.selectedMatch.dribbles.length,") "),u(2),m("ngForOf",n.selectedMatch.dribbles)}}function S$(t,e){if(t&1){let n=P();f(0,"button",208),I("click",function(){C(n);let r=_().index,o=_(3);return b(o.supprimerInterception(o.matches.indexOf(o.selectedMatch),r))}),E(1,"i",209),d()}}function A$(t,e){if(t&1&&(f(0,"div",213)(1,"div",219)(2,"span",205)(3,"strong",220),g(4),d(),f(5,"em",220),g(6),d()(),f(7,"div"),w(8,S$,2,0,"button",216),d()()()),t&2){let n=e.$implicit,i=_(3);u(4),Xe("\u270B ",n.nom," - ",n.minute,"'"),u(2),x("(",n.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")"),u(2),m("ngIf",i.showDeleteButtons)}}function M$(t,e){if(t&1&&(f(0,"div",210)(1,"div",211)(2,"h4")(3,"span",169),g(4,"\u270B"),d(),g(5),d()(),f(6,"div"),w(7,A$,9,4,"div",212),d()()),t&2){let n=_(2);u(5),x(" Interceptions (",n.selectedMatch.interceptions.length,") "),u(2),m("ngForOf",n.selectedMatch.interceptions)}}function P$(t,e){if(t&1){let n=P();f(0,"button",208),I("click",function(){C(n);let r=_().index,o=_(3);return b(o.supprimerFrappe(o.matches.indexOf(o.selectedMatch),r))}),E(1,"i",209),d()}}function R$(t,e){if(t&1&&(f(0,"div",213)(1,"div",221)(2,"span",205)(3,"strong",222),g(4),d(),f(5,"em",222),g(6),d()(),f(7,"div"),w(8,P$,2,0,"button",216),d()()()),t&2){let n=e.$implicit,i=_(3);u(4),Xe("\u{1F3AF} ",n.nom," - ",n.minute,"'"),u(2),x("(",n.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")"),u(2),m("ngIf",i.showDeleteButtons)}}function N$(t,e){if(t&1&&(f(0,"div",210)(1,"div",211)(2,"h4")(3,"span",169),g(4,"\u{1F3AF}"),d(),g(5),d()(),f(6,"div"),w(7,R$,9,4,"div",212),d()()),t&2){let n=_(2);u(5),x(" Frappes (",n.selectedMatch.frappes.length,") "),u(2),m("ngForOf",n.selectedMatch.frappes)}}function O$(t,e){if(t&1){let n=P();f(0,"button",208),I("click",function(){C(n);let r=_().index,o=_(3);return b(o.supprimerFaute(o.matches.indexOf(o.selectedMatch),r))}),E(1,"i",209),d()}}function k$(t,e){if(t&1&&(f(0,"div",213)(1,"div",223)(2,"span",205)(3,"strong",224),g(4),d(),f(5,"em",224),g(6),d()(),f(7,"div"),w(8,O$,2,0,"button",216),d()()()),t&2){let n=e.$implicit,i=_(3);u(4),Xe("\u26A0\uFE0F ",n.nom," - ",n.minute,"'"),u(2),x("(",n.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")"),u(2),m("ngIf",i.showDeleteButtons)}}function F$(t,e){if(t&1&&(f(0,"div",210)(1,"div",211)(2,"h4")(3,"span",169),g(4,"\u26A0\uFE0F"),d(),g(5),d()(),f(6,"div"),w(7,k$,9,4,"div",212),d()()),t&2){let n=_(2);u(5),x(" Fautes (",n.selectedMatch.fautes.length,") "),u(2),m("ngForOf",n.selectedMatch.fautes)}}function V$(t,e){if(t&1){let n=P();f(0,"button",208),I("click",function(){C(n);let r=_().index,o=_(3);return b(o.supprimerContreAttaque(o.matches.indexOf(o.selectedMatch),r))}),E(1,"i",209),d()}}function L$(t,e){if(t&1&&(f(0,"div",213)(1,"div",225)(2,"span",205)(3,"strong",226),g(4),d(),f(5,"em",226),g(6),d()(),f(7,"div"),w(8,V$,2,0,"button",216),d()()()),t&2){let n=e.$implicit,i=_(3);u(4),Xe("\u26A1 ",n.nom," - ",n.minute,"'"),u(2),x("(",n.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")"),u(2),m("ngIf",i.showDeleteButtons)}}function j$(t,e){if(t&1&&(f(0,"div",210)(1,"div",211)(2,"h4")(3,"span",169),g(4,"\u26A1"),d(),g(5),d()(),f(6,"div"),w(7,L$,9,4,"div",212),d()()),t&2){let n=_(2);u(5),x(" Contre-attaques (",n.selectedMatch.contreAttaques.length,") "),u(2),m("ngForOf",n.selectedMatch.contreAttaques)}}function U$(t,e){if(t&1){let n=P();f(0,"button",208),I("click",function(){C(n);let r=_().index,o=_(3);return b(o.supprimerTikiTaka(o.matches.indexOf(o.selectedMatch),r))}),E(1,"i",209),d()}}function B$(t,e){if(t&1&&(f(0,"div",213)(1,"div",227)(2,"span",205)(3,"strong",228),g(4),d(),f(5,"em",228),g(6),d()(),f(7,"div"),w(8,U$,2,0,"button",216),d()()()),t&2){let n=e.$implicit,i=_(3);u(4),Xe("\u{1F504} ",n.nom," - ",n.minute,"'"),u(2),x("(",n.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")"),u(2),m("ngIf",i.showDeleteButtons)}}function $$(t,e){if(t&1&&(f(0,"div",210)(1,"div",211)(2,"h4")(3,"span",169),g(4,"\u{1F504}"),d(),g(5),d()(),f(6,"div"),w(7,B$,9,4,"div",212),d()()),t&2){let n=_(2);u(5),x(" Tiki-taka (",n.selectedMatch.tikiTakas.length,") "),u(2),m("ngForOf",n.selectedMatch.tikiTakas)}}function q$(t,e){t&1&&E(0,"i",198)}function G$(t,e){t&1&&E(0,"i",199)}function z$(t,e){t&1&&E(0,"i",200)}function H$(t,e){if(t&1){let n=P();f(0,"button",234),I("click",function(){let r=C(n).$implicit,o=_(3);return b(o.assignPlayerToPosition(r.name))}),w(1,q$,1,0,"i",195)(2,G$,1,0,"i",196)(3,z$,1,0,"i",197),g(4),d()}if(t&2){let n=e.$implicit;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function W$(t,e){if(t&1){let n=P();f(0,"div",229)(1,"div",230)(2,"h6"),g(3),d(),f(4,"div",231),w(5,H$,5,4,"button",232),d(),f(6,"button",233),I("click",function(){C(n);let r=_(2);return b(r.selectedPosition=null)}),g(7," Annuler "),d()()()}if(t&2){let n=_(2);u(3),x("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),u(2),m("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function K$(t,e){if(t&1){let n=P();f(0,"div",149)(1,"div",150)(2,"button",151),I("click",function(){C(n);let r=_();return b(r.closeScoreModal())}),g(3,"\xD7"),d(),f(4,"h3",152),E(5,"i",153),g(6,"Modifier le score "),d(),E(7,"br"),f(8,"div",154)(9,"div",117)(10,"div",118),g(11),d(),f(12,"div",155),I("click",function(){C(n);let r=_();return b(r.showScoreForm=!0)}),w(13,t$,4,4,"ng-container",59)(14,n$,6,2,"ng-container",59),d(),f(15,"div",118),g(16),d()()(),w(17,l$,41,18,"div",156),f(18,"div",109)(19,"div",157)(20,"div",158)(21,"h5",159),g(22),d(),f(23,"div",160),w(24,f$,5,4,"button",161)(25,p$,2,0,"button",162),d()(),f(26,"div",158)(27,"h5",163),g(28),d(),f(29,"div",164),w(30,v$,5,4,"button",165)(31,y$,2,0,"button",166),d()()()(),f(32,"div",167)(33,"div",168),I("click",function(){C(n);let r=_();return b(r.toggleButeursList())}),f(34,"h4")(35,"span",169),g(36),d(),g(37),d()(),w(38,C$,2,1,"div",59),d(),w(39,I$,8,2,"div",170)(40,D$,8,2,"div",170)(41,M$,8,2,"div",170)(42,N$,8,2,"div",170)(43,F$,8,2,"div",170)(44,j$,8,2,"div",170)(45,$$,8,2,"div",170)(46,W$,8,2,"div",171),f(47,"div",172)(48,"button",64),I("click",function(){C(n);let r=_();return b(r.selectedMatch=null)}),g(49," Fermer "),d()()()()}if(t&2){let n=_();u(11),te(n.selectedMatch.equipe1),u(),m("ngClass",n.getScoreColor(n.selectedMatch)),u(),m("ngIf",!n.showScoreForm),u(),m("ngIf",n.showScoreForm),u(2),te(n.selectedMatch.equipe2),u(),m("ngIf",n.showButeurForm),u(5),te(n.selectedMatch.equipe1),u(2),m("ngForOf",n.getTeamPlayers(1)),u(),m("ngIf",!n.showButeurForm),u(3),te(n.selectedMatch.equipe2),u(2),m("ngForOf",n.getTeamPlayers(2)),u(),m("ngIf",!n.showButeurForm),u(5),te(n.showButeursList?"\u25BC":"\u25B6"),u(),x(" Buteurs (",n.selectedMatch.buteurs.length,") "),u(),m("ngIf",n.showButeursList),u(),m("ngIf",n.selectedMatch.duelsGagnes&&n.selectedMatch.duelsGagnes.length>0),u(),m("ngIf",n.selectedMatch.dribbles&&n.selectedMatch.dribbles.length>0),u(),m("ngIf",n.selectedMatch.interceptions&&n.selectedMatch.interceptions.length>0),u(),m("ngIf",n.selectedMatch.frappes&&n.selectedMatch.frappes.length>0),u(),m("ngIf",n.selectedMatch.fautes&&n.selectedMatch.fautes.length>0),u(),m("ngIf",n.selectedMatch.contreAttaques&&n.selectedMatch.contreAttaques.length>0),u(),m("ngIf",n.selectedMatch.tikiTakas&&n.selectedMatch.tikiTakas.length>0),u(),m("ngIf",n.selectedPosition&&n.selectedMatch)}}function Q$(t,e){if(t&1){let n=P();f(0,"button",106),I("click",function(){let r=C(n).$implicit,o=_(3);return b(o.selectEditTeam1(r))}),g(1),d()}if(t&2){let n=e.$implicit;u(),te(n)}}function Y$(t,e){if(t&1&&(f(0,"div",104),w(1,Q$,2,1,"button",105),d()),t&2){let n=_(2);u(),m("ngForOf",n.editFilteredTeams1)}}function J$(t,e){if(t&1){let n=P();f(0,"div",107)(1,"button",108),I("click",function(){C(n);let r=_(2);return b(r.selectEditTeam1(r.editTeam1Search))}),g(2),d()()}if(t&2){let n=_(2);u(2),x(' Cr\xE9er "',n.editTeam1Search,'" ')}}function Z$(t,e){if(t&1){let n=P();f(0,"button",106),I("click",function(){let r=C(n).$implicit,o=_(3);return b(o.selectEditTeam2(r))}),g(1),d()}if(t&2){let n=e.$implicit;u(),te(n)}}function X$(t,e){if(t&1&&(f(0,"div",104),w(1,Z$,2,1,"button",105),d()),t&2){let n=_(2);u(),m("ngForOf",n.editFilteredTeams2)}}function e9(t,e){if(t&1){let n=P();f(0,"div",107)(1,"button",108),I("click",function(){C(n);let r=_(2);return b(r.selectEditTeam2(r.editTeam2Search))}),g(2),d()()}if(t&2){let n=_(2);u(2),x(' Cr\xE9er "',n.editTeam2Search,'" ')}}function t9(t,e){if(t&1){let n=P();f(0,"button",106),I("click",function(){let r=C(n).$implicit,o=_(3);return b(o.selectEditCompetition(r))}),g(1),d()}if(t&2){let n=e.$implicit;u(),te(n)}}function n9(t,e){if(t&1&&(f(0,"div",104),w(1,t9,2,1,"button",105),d()),t&2){let n=_(2);u(),m("ngForOf",n.editFilteredCompetitions)}}function i9(t,e){if(t&1){let n=P();f(0,"div",107)(1,"button",108),I("click",function(){C(n);let r=_(2);return b(r.selectEditCompetition(r.editCompetitionSearch))}),g(2),d()()}if(t&2){let n=_(2);u(2),x(' Cr\xE9er "',n.editCompetitionSearch,'" ')}}function r9(t,e){if(t&1){let n=P();f(0,"button",253),I("click",function(){C(n);let r=_(2);return b(r.supprimerMatch(r.selectedMatch))}),E(1,"i",209),g(2," Supprimer le match "),d()}}function o9(t,e){if(t&1){let n=P();f(0,"div",235)(1,"div",25)(2,"span",236),I("click",function(){C(n);let r=_();return b(r.showMatchEditForm=!1)}),g(3,"\xD7"),d(),f(4,"h3",152),E(5,"i",237),g(6,"Modifier le match "),d(),f(7,"form",78),I("ngSubmit",function(){C(n);let r=_();return b(r.onSubmitMatchEdit())}),f(8,"div",238)(9,"label",239),g(10,"\xC9quipe 1:"),d(),f(11,"div",240)(12,"input",241),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.editTeam1Search,r)||(o.editTeam1Search=r),b(r)}),I("input",function(){C(n);let r=_();return b(r.updateEditFilteredTeams1())})("focus",function(){C(n);let r=_();return b(r.updateEditFilteredTeams1())}),d(),E(13,"input",84),w(14,Y$,2,1,"div",85)(15,J$,3,1,"div",86),d()(),f(16,"div",238)(17,"label",242),g(18,"\xC9quipe 2:"),d(),f(19,"div",240)(20,"input",243),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.editTeam2Search,r)||(o.editTeam2Search=r),b(r)}),I("input",function(){C(n);let r=_();return b(r.updateEditFilteredTeams2())})("focus",function(){C(n);let r=_();return b(r.updateEditFilteredTeams2())}),d(),E(21,"input",89),w(22,X$,2,1,"div",85)(23,e9,3,1,"div",86),d()(),f(24,"div",238)(25,"label",244),g(26,"Heure de d\xE9but:"),d(),E(27,"input",245),d(),f(28,"div",238)(29,"label",246),g(30,"Lieu:"),d(),E(31,"input",247),d(),f(32,"div",238)(33,"label",248),g(34,"Comp\xE9tition:"),d(),f(35,"div",240)(36,"input",249),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.editCompetitionSearch,r)||(o.editCompetitionSearch=r),b(r)}),I("input",function(){C(n);let r=_();return b(r.updateEditFilteredCompetitions())})("focus",function(){C(n);let r=_();return b(r.updateEditFilteredCompetitions())}),d(),E(37,"input",97),w(38,n9,2,1,"div",85)(39,i9,3,1,"div",86),d()(),f(40,"div",250)(41,"button",251),I("click",function(){C(n);let r=_();return b(r.onSubmitMatchEdit())}),g(42,"Enregistrer"),d(),w(43,r9,3,0,"button",252),d()()()()}if(t&2){let n=_();u(7),m("formGroup",n.matchEditForm),u(5),me("ngModel",n.editTeam1Search),m("ngModelOptions",Bt(14,Tn)),u(2),m("ngIf",n.editFilteredTeams1.length>0&&n.editTeam1Search),u(),m("ngIf",n.editTeam1Search&&n.editFilteredTeams1.length===0&&!n.getTeamNames().includes(n.editTeam1Search)),u(5),me("ngModel",n.editTeam2Search),m("ngModelOptions",Bt(15,Tn)),u(2),m("ngIf",n.editFilteredTeams2.length>0&&n.editTeam2Search),u(),m("ngIf",n.editTeam2Search&&n.editFilteredTeams2.length===0&&!n.getTeamNames().includes(n.editTeam2Search)),u(13),me("ngModel",n.editCompetitionSearch),m("ngModelOptions",Bt(16,Tn)),u(2),m("ngIf",n.editFilteredCompetitions.length>0&&n.editCompetitionSearch),u(),m("ngIf",n.editCompetitionSearch&&n.editFilteredCompetitions.length===0&&!n.getCompetitionNames().includes(n.editCompetitionSearch)),u(4),m("ngIf",n.showDeleteButtons)}}function s9(t,e){if(t&1&&(f(0,"span",264),g(1," \u2022 "),d()),t&2){let n=e.index,i=_(2);xe("fade",n>=i.remainingDots)}}function a9(t,e){if(t&1&&(f(0,"option",272),g(1),d()),t&2){let n=e.$implicit,i=_(3);m("value",n.name)("disabled",n.name===i.celebrationPlayer),u(),x(" ",n.name," ")}}function c9(t,e){if(t&1){let n=P();f(0,"button",273),I("click",function(){C(n);let r=_(3);return b(r.cancelCelebration())}),g(1," Annuler "),d()}}function l9(t,e){if(t&1){let n=P();f(0,"div",265)(1,"select",266),ge("ngModelChange",function(r){C(n);let o=_(2);return ye(o.celebrationAssist,r)||(o.celebrationAssist=r),b(r)}),f(2,"option",267),g(3,"Aucun assist"),d(),w(4,a9,2,3,"option",268),d(),f(5,"div",269)(6,"button",270),I("click",function(){C(n);let r=_(2);return b(r.saveCelebrationWithAssist())}),g(7," Enregistrer "),d(),w(8,c9,2,0,"button",271),d()()}if(t&2){let n=_(2);u(),me("ngModel",n.celebrationAssist),u(3),m("ngForOf",n.getTeamPlayers(n.celebrationTeam===(n.selectedMatch==null?null:n.selectedMatch.equipe1)?1:2)),u(4),m("ngIf",n.celebrationConfig.showCancel)}}function u9(t,e){if(t&1){let n=P();f(0,"button",275),I("click",function(){C(n);let r=_(3);return b(r.saveDuel())}),g(1," Enregistrer "),d()}}function d9(t,e){if(t&1){let n=P();f(0,"button",273),I("click",function(){C(n);let r=_(3);return b(r.cancelCelebration())}),g(1," Annuler "),d()}}function h9(t,e){if(t&1&&(f(0,"div",269),w(1,u9,2,0,"button",274)(2,d9,2,0,"button",271),d()),t&2){let n=_(2);u(),m("ngIf",n.celebrationConfig.type==="duel"),u(),m("ngIf",n.celebrationConfig.showCancel)}}function f9(t,e){if(t&1&&(f(0,"div",254)(1,"div",255)(2,"div",256),g(3),d(),f(4,"div",257),g(5),d(),f(6,"div",258),g(7),d(),f(8,"div",259),g(9),d(),f(10,"div",260),w(11,s9,2,2,"span",261),d(),w(12,l9,9,3,"div",262)(13,h9,3,2,"div",263),d()()),t&2){let n=_();u(2),Zs("color",n.celebrationConfig.color),u(),Xe("",n.celebrationConfig.emoji,"",n.celebrationConfig.text,""),u(2),x(" ",n.celebrationPlayer," "),u(2),x(" ",n.celebrationTeam," "),u(2),te(n.celebrationConfig.emoji),u(2),m("ngForOf",Bt(10,Y5).constructor(5)),u(),m("ngIf",n.celebrationConfig.showAssist),u(),m("ngIf",!n.celebrationConfig.showAssist)}}function p9(t,e){t&1&&(f(0,"span",301),g(1,"-"),d())}function m9(t,e){t&1&&E(0,"i",198)}function g9(t,e){t&1&&E(0,"i",199)}function _9(t,e){t&1&&E(0,"i",200)}function v9(t,e){if(t&1&&(ie(0),w(1,m9,1,0,"i",195)(2,g9,1,0,"i",196)(3,_9,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function y9(t,e){t&1&&E(0,"i",198)}function w9(t,e){t&1&&E(0,"i",199)}function C9(t,e){t&1&&E(0,"i",200)}function b9(t,e){if(t&1&&(ie(0),w(1,y9,1,0,"i",195)(2,w9,1,0,"i",196)(3,C9,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function E9(t,e){if(t&1){let n=P();f(0,"div")(1,"div",302),I("click",function(){C(n);let r=_(2);return b(r.selectPosition(1,"milieu-offensif"))}),f(2,"div",290)(3,"span",291),g(4,"MO"),d(),f(5,"span",293),w(6,b9,5,4,"ng-container",59),d()()()()}if(t&2){let n=_(2);u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),u(4),m("ngIf",n.getPlayerForPosition(1,"milieu-offensif"))}}function I9(t,e){t&1&&E(0,"i",198)}function T9(t,e){t&1&&E(0,"i",199)}function x9(t,e){t&1&&E(0,"i",200)}function D9(t,e){if(t&1&&(ie(0),w(1,I9,1,0,"i",195)(2,T9,1,0,"i",196)(3,x9,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function S9(t,e){t&1&&E(0,"i",198)}function A9(t,e){t&1&&E(0,"i",199)}function M9(t,e){t&1&&E(0,"i",200)}function P9(t,e){if(t&1&&(ie(0),w(1,S9,1,0,"i",195)(2,A9,1,0,"i",196)(3,M9,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function R9(t,e){t&1&&E(0,"i",198)}function N9(t,e){t&1&&E(0,"i",199)}function O9(t,e){t&1&&E(0,"i",200)}function k9(t,e){if(t&1&&(ie(0),w(1,R9,1,0,"i",195)(2,N9,1,0,"i",196)(3,O9,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function F9(t,e){t&1&&E(0,"i",198)}function V9(t,e){t&1&&E(0,"i",199)}function L9(t,e){t&1&&E(0,"i",200)}function j9(t,e){if(t&1&&(ie(0),w(1,F9,1,0,"i",195)(2,V9,1,0,"i",196)(3,L9,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function U9(t,e){if(t&1){let n=P();f(0,"div")(1,"div",303),I("click",function(){C(n);let r=_(2);return b(r.selectPosition(1,"defenseur-gauche"))}),f(2,"div",290)(3,"span",291),g(4,"DG"),d(),f(5,"span",293),w(6,j9,5,4,"ng-container",59),d()()()()}if(t&2){let n=_(2);u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),u(4),m("ngIf",n.getPlayerForPosition(1,"defenseur-gauche"))}}function B9(t,e){t&1&&E(0,"i",198)}function $9(t,e){t&1&&E(0,"i",199)}function q9(t,e){t&1&&E(0,"i",200)}function G9(t,e){if(t&1&&(ie(0),w(1,B9,1,0,"i",195)(2,$9,1,0,"i",196)(3,q9,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function z9(t,e){if(t&1){let n=P();f(0,"div")(1,"div",304),I("click",function(){C(n);let r=_(2);return b(r.selectPosition(1,"defenseur-droit"))}),f(2,"div",290)(3,"span",291),g(4,"DD"),d(),f(5,"span",293),w(6,G9,5,4,"ng-container",59),d()()()()}if(t&2){let n=_(2);u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),u(4),m("ngIf",n.getPlayerForPosition(1,"defenseur-droit"))}}function H9(t,e){t&1&&E(0,"i",198)}function W9(t,e){t&1&&E(0,"i",199)}function K9(t,e){t&1&&E(0,"i",200)}function Q9(t,e){if(t&1&&(ie(0),w(1,H9,1,0,"i",195)(2,W9,1,0,"i",196)(3,K9,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function Y9(t,e){t&1&&(f(0,"span",301),g(1,"-"),d())}function J9(t,e){t&1&&E(0,"i",198)}function Z9(t,e){t&1&&E(0,"i",199)}function X9(t,e){t&1&&E(0,"i",200)}function eq(t,e){if(t&1&&(ie(0),w(1,J9,1,0,"i",195)(2,Z9,1,0,"i",196)(3,X9,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function tq(t,e){t&1&&E(0,"i",198)}function nq(t,e){t&1&&E(0,"i",199)}function iq(t,e){t&1&&E(0,"i",200)}function rq(t,e){if(t&1&&(ie(0),w(1,tq,1,0,"i",195)(2,nq,1,0,"i",196)(3,iq,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function oq(t,e){if(t&1){let n=P();f(0,"div")(1,"div",302),I("click",function(){C(n);let r=_(2);return b(r.selectPosition(2,"milieu-offensif"))}),f(2,"div",290)(3,"span",291),g(4,"MO"),d(),f(5,"span",293),w(6,rq,5,4,"ng-container",59),d()()()()}if(t&2){let n=_(2);u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),u(4),m("ngIf",n.getPlayerForPosition(2,"milieu-offensif"))}}function sq(t,e){t&1&&E(0,"i",198)}function aq(t,e){t&1&&E(0,"i",199)}function cq(t,e){t&1&&E(0,"i",200)}function lq(t,e){if(t&1&&(ie(0),w(1,sq,1,0,"i",195)(2,aq,1,0,"i",196)(3,cq,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function uq(t,e){t&1&&E(0,"i",198)}function dq(t,e){t&1&&E(0,"i",199)}function hq(t,e){t&1&&E(0,"i",200)}function fq(t,e){if(t&1&&(ie(0),w(1,uq,1,0,"i",195)(2,dq,1,0,"i",196)(3,hq,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function pq(t,e){t&1&&E(0,"i",198)}function mq(t,e){t&1&&E(0,"i",199)}function gq(t,e){t&1&&E(0,"i",200)}function _q(t,e){if(t&1&&(ie(0),w(1,pq,1,0,"i",195)(2,mq,1,0,"i",196)(3,gq,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function vq(t,e){t&1&&E(0,"i",198)}function yq(t,e){t&1&&E(0,"i",199)}function wq(t,e){t&1&&E(0,"i",200)}function Cq(t,e){if(t&1&&(ie(0),w(1,vq,1,0,"i",195)(2,yq,1,0,"i",196)(3,wq,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function bq(t,e){if(t&1){let n=P();f(0,"div")(1,"div",303),I("click",function(){C(n);let r=_(2);return b(r.selectPosition(2,"defenseur-gauche"))}),f(2,"div",290)(3,"span",291),g(4,"DG"),d(),f(5,"span",293),w(6,Cq,5,4,"ng-container",59),d()()()()}if(t&2){let n=_(2);u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),u(4),m("ngIf",n.getPlayerForPosition(2,"defenseur-gauche"))}}function Eq(t,e){t&1&&E(0,"i",198)}function Iq(t,e){t&1&&E(0,"i",199)}function Tq(t,e){t&1&&E(0,"i",200)}function xq(t,e){if(t&1&&(ie(0),w(1,Eq,1,0,"i",195)(2,Iq,1,0,"i",196)(3,Tq,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function Dq(t,e){if(t&1){let n=P();f(0,"div")(1,"div",304),I("click",function(){C(n);let r=_(2);return b(r.selectPosition(2,"defenseur-droit"))}),f(2,"div",290)(3,"span",291),g(4,"DD"),d(),f(5,"span",293),w(6,xq,5,4,"ng-container",59),d()()()()}if(t&2){let n=_(2);u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),u(4),m("ngIf",n.getPlayerForPosition(2,"defenseur-droit"))}}function Sq(t,e){t&1&&E(0,"i",198)}function Aq(t,e){t&1&&E(0,"i",199)}function Mq(t,e){t&1&&E(0,"i",200)}function Pq(t,e){if(t&1&&(ie(0),w(1,Sq,1,0,"i",195)(2,Aq,1,0,"i",196)(3,Mq,1,0,"i",197),g(4),re()),t&2){let n=e.ngIf;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function Rq(t,e){t&1&&E(0,"div")}function Nq(t,e){t&1&&E(0,"i",198)}function Oq(t,e){t&1&&E(0,"i",199)}function kq(t,e){t&1&&E(0,"i",200)}function Fq(t,e){if(t&1){let n=P();f(0,"button",234),I("click",function(){let r=C(n).$implicit,o=_(3);return b(o.assignPlayerToPosition(r.name))}),w(1,Nq,1,0,"i",195)(2,Oq,1,0,"i",196)(3,kq,1,0,"i",197),g(4),d()}if(t&2){let n=e.$implicit;u(),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="defenseur"),u(),m("ngIf",n.type==="milieu"),u(),x(" ",n.name," ")}}function Vq(t,e){if(t&1){let n=P();f(0,"div",229)(1,"div",230)(2,"h6"),g(3),d(),f(4,"div",231),w(5,Fq,5,4,"button",232),d(),f(6,"button",233),I("click",function(){C(n);let r=_(2);return b(r.selectedPosition=null)}),g(7," Annuler "),d()()()}if(t&2){let n=_(2);u(3),x("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),u(2),m("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function Lq(t,e){if(t&1){let n=P();f(0,"div",276)(1,"div",277)(2,"button",236),I("click",function(){C(n);let r=_();return b(r.closeDispositionModal())}),g(3,"\xD7"),d(),f(4,"h3",152),E(5,"i",278),g(6,"Disposition tactique "),d(),f(7,"div",279)(8,"button",280),I("click",function(){C(n);let r=_();return b(r.toggleDefendersAndMidfielders())}),g(9),d(),f(10,"div",281)(11,"div",282)(12,"button",283),I("click",function(){C(n);let r=_();return b(r.encodingGoalsEnabled=!r.encodingGoalsEnabled)}),E(13,"i",198),g(14),d(),f(15,"button",284),I("click",function(){C(n);let r=_();return b(r.encodingDuelsEnabled=!r.encodingDuelsEnabled)}),E(16,"i",199),g(17),d()()()(),f(18,"div",285)(19,"div",286)(20,"div",287)(21,"h5",159),g(22),d(),f(23,"div",288)(24,"div",289),I("click",function(){C(n);let r=_();return b(r.selectPosition(1,"attaquant"))}),f(25,"div",290)(26,"span",291),g(27,"AT"),d(),w(28,p9,2,0,"span",292),f(29,"span",293),w(30,v9,5,4,"ng-container",59),d()()(),w(31,E9,7,3,"div",59),f(32,"div",294),I("click",function(){C(n);let r=_();return b(r.selectPosition(1,"milieu-gauche"))}),f(33,"div",290)(34,"span",291),g(35,"MG"),d(),f(36,"span",293),w(37,D9,5,4,"ng-container",59),d()()(),f(38,"div",295),I("click",function(){C(n);let r=_();return b(r.selectPosition(1,"milieu-droit"))}),f(39,"div",290)(40,"span",291),g(41,"MD"),d(),f(42,"span",293),w(43,P9,5,4,"ng-container",59),d()()(),f(44,"div",296),I("click",function(){C(n);let r=_();return b(r.selectPosition(1,"defenseur-central"))}),f(45,"div",290)(46,"span",291),g(47,"DC"),d(),f(48,"span",293),w(49,k9,5,4,"ng-container",59),d()()(),w(50,U9,7,3,"div",59)(51,z9,7,3,"div",59),f(52,"div",297),I("click",function(){C(n);let r=_();return b(r.selectPosition(1,"gardien"))}),f(53,"div",290)(54,"span",291),g(55,"G"),d(),f(56,"span",293),w(57,Q9,5,4,"ng-container",59),d()()()()(),f(58,"div",298)(59,"h5",163),g(60),d(),f(61,"div",288)(62,"div",289),I("click",function(){C(n);let r=_();return b(r.selectPosition(2,"attaquant"))}),f(63,"div",290)(64,"span",291),g(65,"AT"),d(),w(66,Y9,2,0,"span",292),f(67,"span",293),w(68,eq,5,4,"ng-container",59),d()()(),w(69,oq,7,3,"div",59),f(70,"div",294),I("click",function(){C(n);let r=_();return b(r.selectPosition(2,"milieu-gauche"))}),f(71,"div",290)(72,"span",291),g(73,"MG"),d(),f(74,"span",293),w(75,lq,5,4,"ng-container",59),d()()(),f(76,"div",295),I("click",function(){C(n);let r=_();return b(r.selectPosition(2,"milieu-droit"))}),f(77,"div",290)(78,"span",291),g(79,"MD"),d(),f(80,"span",293),w(81,fq,5,4,"ng-container",59),d()()(),f(82,"div",296),I("click",function(){C(n);let r=_();return b(r.selectPosition(2,"defenseur-central"))}),f(83,"div",290)(84,"span",291),g(85,"DC"),d(),f(86,"span",293),w(87,_q,5,4,"ng-container",59),d()()(),w(88,bq,7,3,"div",59)(89,Dq,7,3,"div",59),f(90,"div",297),I("click",function(){C(n);let r=_();return b(r.selectPosition(2,"gardien"))}),f(91,"div",290)(92,"span",291),g(93,"G"),d(),f(94,"span",293),w(95,Pq,5,4,"ng-container",59),d()()(),w(96,Rq,1,0,"div",59),d()()(),f(97,"div",299)(98,"p",300),g(99," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),d()()(),w(100,Vq,8,2,"div",171),d()()}if(t&2){let n=_();u(9),x(" ",n.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),u(3),xe("btn-success",n.encodingGoalsEnabled)("btn-outline-success",!n.encodingGoalsEnabled),u(2),x(" Buts ",n.encodingGoalsEnabled?"ON":"OFF"," "),u(),xe("btn-success",n.encodingDuelsEnabled)("btn-outline-success",!n.encodingDuelsEnabled),u(2),x(" Duels ",n.encodingDuelsEnabled?"ON":"OFF"," "),u(5),te(n.selectedMatch.equipe1),u(3),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),u(3),m("ngIf",n.getPlayerForPosition(1,"attaquant")),u(2),m("ngIf",n.getPlayerForPosition(1,"attaquant")),u(),m("ngIf",n.showDefendersAndMidfielders),u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),u(4),m("ngIf",n.getPlayerForPosition(1,"milieu-gauche")),u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),u(4),m("ngIf",n.getPlayerForPosition(1,"milieu-droit")),u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),u(4),m("ngIf",n.getPlayerForPosition(1,"defenseur-central")),u(),m("ngIf",n.showDefendersAndMidfielders),u(),m("ngIf",n.showDefendersAndMidfielders),u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),u(4),m("ngIf",n.getPlayerForPosition(1,"gardien")),u(3),te(n.selectedMatch.equipe2),u(3),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),u(3),m("ngIf",n.getPlayerForPosition(2,"attaquant")),u(2),m("ngIf",n.getPlayerForPosition(2,"attaquant")),u(),m("ngIf",n.showDefendersAndMidfielders),u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),u(4),m("ngIf",n.getPlayerForPosition(2,"milieu-gauche")),u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),u(4),m("ngIf",n.getPlayerForPosition(2,"milieu-droit")),u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),u(4),m("ngIf",n.getPlayerForPosition(2,"defenseur-central")),u(),m("ngIf",n.showDefendersAndMidfielders),u(),m("ngIf",n.showDefendersAndMidfielders),u(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),u(4),m("ngIf",n.getPlayerForPosition(2,"gardien")),u(),m("ngIf",n.showDefendersAndMidfielders),u(4),m("ngIf",n.selectedPosition&&n.selectedMatch)}}function jq(t,e){if(t&1){let n=P();f(0,"div",149)(1,"div",177)(2,"div",25)(3,"div",26)(4,"h5",27),g(5,"Choisir le format d'export"),d(),f(6,"button",178),I("click",function(){C(n);let r=_();return b(r.closeExportModal())}),d()(),f(7,"div",29)(8,"div",305)(9,"input",306),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.exportFormats.txt,r)||(o.exportFormats.txt=r),b(r)}),d(),f(10,"label",307),g(11," Format TXT "),d()(),f(12,"div",305)(13,"input",308),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.exportFormats.csv,r)||(o.exportFormats.csv=r),b(r)}),d(),f(14,"label",309),g(15," Format CSV "),d()(),f(16,"div",305)(17,"input",310),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.exportFormats.json,r)||(o.exportFormats.json=r),b(r)}),d(),f(18,"label",311),g(19," Format JSON "),d()()(),f(20,"div",34)(21,"button",64),I("click",function(){C(n);let r=_();return b(r.closeExportModal())}),g(22,"Annuler"),d(),f(23,"button",312),I("click",function(){C(n);let r=_();return b(r.confirmExport())}),g(24,"Exporter"),d()()()()()}if(t&2){let n=_();u(9),me("ngModel",n.exportFormats.txt),u(4),me("ngModel",n.exportFormats.csv),u(4),me("ngModel",n.exportFormats.json),u(6),m("disabled",!n.isExportFormatSelected())}}function Uq(t,e){if(t&1){let n=P();f(0,"button",324),I("click",function(){C(n);let r=_(2);return b(r.showLocalStorageData())}),g(1,"Afficher les donn\xE9es sauvegard\xE9es"),d()}}function Bq(t,e){if(t&1){let n=P();f(0,"button",325),I("click",function(){C(n);let r=_(2);return b(r.hideLocalStorageData())}),g(1,"Cacher les donn\xE9es sauvegard\xE9es"),d()}}function $q(t,e){if(t&1&&(f(0,"div",326)(1,"pre"),g(2),vr(3,"json"),d()()),t&2){let n=_(2);u(2),te(lm(3,1,n.localStorageData))}}function qq(t,e){if(t&1){let n=P();f(0,"div",149)(1,"div",177)(2,"div",25)(3,"div",26)(4,"h5",27),g(5,"BUUUT et c'est gratuit!"),d(),f(6,"button",178),I("click",function(){C(n);let r=_();return b(r.showHelpModal=!1)}),d()(),f(7,"div",29)(8,"h6"),g(9,"Fonctionnalit\xE9s principales :"),d(),f(10,"ul",313)(11,"li",30),E(12,"i",314),f(13,"strong"),g(14,"Cr\xE9er un match :"),d(),g(15,' Cliquez sur "Nouveau Match" pour enregistrer un nouveau match. '),d(),f(16,"li",30),E(17,"i",315),f(18,"strong"),g(19,"Enregistrer les buts :"),d(),g(20," Cliquez sur le score pour ajouter les buteurs et leurs minutes. "),d(),f(21,"li",30),E(22,"i",316),f(23,"strong"),g(24,"G\xE9rer les \xE9quipes :"),d(),g(25," Ajoutez des joueurs \xE0 vos \xE9quipes lors de l'enregistrement des buts. "),d(),f(26,"li",30),E(27,"i",317),f(28,"strong"),g(29,"Partager :"),d(),g(30," Partagez vos matchs via le bouton de partage. "),d(),f(31,"li",30),E(32,"i",318),f(33,"strong"),g(34,"Exporter :"),d(),g(35," Exportez vos matchs en TXT, CSV ou JSON. "),d(),f(36,"li",30),E(37,"i",319),f(38,"strong"),g(39,"Importer :"),d(),g(40," Importez des matchs depuis diff\xE9rents formats. "),d()()(),f(41,"div",34),w(42,Uq,2,0,"button",320)(43,Bq,2,0,"button",321),f(44,"button",322),I("click",function(){C(n);let r=_();return b(r.toggleDeleteButtons())}),E(45,"i",46),g(46),d(),f(47,"button",64),I("click",function(){C(n);let r=_();return b(r.showHelpModal=!1)}),g(48,"Fermer"),d()(),w(49,$q,4,3,"div",323),d()()()}if(t&2){let n=_();u(42),m("ngIf",!n.showingLocalStorageData),u(),m("ngIf",n.showingLocalStorageData),u(),m("ngClass",n.showDeleteButtons?"btn-danger":"btn-outline-danger"),u(),m("ngClass",n.showDeleteButtons?"fa-shield-alt":"fa-unlock"),u(),x(" ",n.showDeleteButtons?"Prot\xE9ger":"Activer suppression"," "),u(3),m("ngIf",n.showingLocalStorageData)}}function Gq(t,e){if(t&1&&(f(0,"tr")(1,"td",331),g(2),d(),f(3,"td",331),g(4),d(),f(5,"td",331)(6,"strong"),g(7),d()(),f(8,"td",331),g(9),d(),f(10,"td",331),g(11),d(),f(12,"td",331),g(13),d(),f(14,"td",331),g(15),d(),f(16,"td",331),g(17),d(),f(18,"td",331),g(19),d(),f(20,"td",332),g(21),d()()),t&2){let n=e.$implicit,i=e.index;u(2),te(i+1),u(2),te(n.name),u(3),te(n.points),u(2),te(n.matches),u(2),te(n.wins),u(2),te(n.draws),u(2),te(n.losses),u(2),te(n.goalsFor),u(2),te(n.goalsAgainst),u(),m("ngClass",Pb(12,J5,n.goalDifference>0,n.goalDifference<0)),u(),Xe(" ",n.goalDifference>0?"+":"","",n.goalDifference," ")}}function zq(t,e){if(t&1){let n=P();f(0,"div",47)(1,"div",327)(2,"div",26)(3,"h5",27),E(4,"i",328),g(5),d(),f(6,"button",50),I("click",function(){C(n);let r=_();return b(r.closeRankingModal())}),f(7,"span",51),g(8,"\xD7"),d()()(),f(9,"div",29)(10,"div",329)(11,"table",330)(12,"thead")(13,"tr")(14,"th",331),g(15,"Pos"),d(),f(16,"th",331),g(17,"\xC9quipe"),d(),f(18,"th",331),g(19,"Pts"),d(),f(20,"th",331),g(21,"J"),d(),f(22,"th",331),g(23,"G"),d(),f(24,"th",331),g(25,"N"),d(),f(26,"th",331),g(27,"P"),d(),f(28,"th",331),g(29,"BP"),d(),f(30,"th",331),g(31,"BC"),d(),f(32,"th",331),g(33,"Diff"),d()()(),f(34,"tbody"),w(35,Gq,22,15,"tr",111),d()()()(),f(36,"div",34)(37,"button",64),I("click",function(){C(n);let r=_();return b(r.closeRankingModal())}),E(38,"i",65),g(39,"Fermer "),d()()()()}if(t&2){let n=_();u(5),x(" Classement - ",n.selectedCompetitionFilter," "),u(30),m("ngForOf",n.currentRanking)}}function Hq(t,e){if(t&1){let n=P();f(0,"i",358),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.cyclePlayerType(r))}),d()}}function Wq(t,e){if(t&1){let n=P();f(0,"i",359),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.cyclePlayerType(r))}),d()}}function Kq(t,e){if(t&1){let n=P();f(0,"i",360),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.cyclePlayerType(r))}),d()}}function Qq(t,e){if(t&1){let n=P();f(0,"span",361),I("click",function(){C(n);let r=_().$implicit,o=_(2);return b(o.openPlayerGoalsModal(r))}),g(1),d()}if(t&2){let n=_().$implicit,i=_(2);u(),x(" ",i.getGoalsForPlayer(n.name)," \u26BD ")}}function Yq(t,e){if(t&1){let n=P();f(0,"button",362),I("click",function(){C(n);let r=_().index,o=_(2);return b(o.removePlayer(r))}),E(1,"i",74),d()}}function Jq(t,e){if(t&1){let n=P();f(0,"div",350)(1,"div",351)(2,"div",352)(3,"div",353),w(4,Hq,1,0,"i",344)(5,Wq,1,0,"i",345)(6,Kq,1,0,"i",346),d(),f(7,"input",354),ge("ngModelChange",function(r){let o=C(n).$implicit;return ye(o.name,r)||(o.name=r),b(r)}),d(),w(8,Qq,2,1,"span",355),d(),f(9,"div",356),w(10,Yq,2,0,"button",357),d()()()}if(t&2){let n=e.$implicit,i=_(2);u(4),m("ngIf",n.type==="attaquant"),u(),m("ngIf",n.type==="milieu"),u(),m("ngIf",n.type==="defenseur"),u(),me("ngModel",n.name),u(),m("ngIf",i.getGoalsForPlayer(n.name)>0),u(2),m("ngIf",i.showDeleteButtons)}}function Zq(t,e){if(t&1){let n=P();f(0,"i",358),I("click",function(){C(n);let r=_(2);return b(r.cycleNewPlayerType())}),d()}}function Xq(t,e){if(t&1){let n=P();f(0,"i",359),I("click",function(){C(n);let r=_(2);return b(r.cycleNewPlayerType())}),d()}}function e6(t,e){if(t&1){let n=P();f(0,"i",360),I("click",function(){C(n);let r=_(2);return b(r.cycleNewPlayerType())}),d()}}function t6(t,e){if(t&1){let n=P();f(0,"div",333)(1,"div",334)(2,"div",26)(3,"h5",27),E(4,"i",335),g(5),d(),f(6,"button",50),I("click",function(){C(n);let r=_();return b(r.closeEditPlayersModal())}),f(7,"span",51),g(8,"\xD7"),d()()(),f(9,"div",29)(10,"div",336)(11,"h6",30),E(12,"i",337),g(13," Joueurs actuels "),d(),w(14,Jq,11,6,"div",338),d(),f(15,"div",339)(16,"h6",30),E(17,"i",63),g(18," Ajouter un nouveau joueur "),d(),f(19,"div",340)(20,"div",341)(21,"input",342),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.newPlayerName,r)||(o.newPlayerName=r),b(r)}),I("keyup.enter",function(){C(n);let r=_();return b(r.addPlayer())}),d(),f(22,"div",343),w(23,Zq,1,0,"i",344)(24,Xq,1,0,"i",345)(25,e6,1,0,"i",346),d(),f(26,"button",275),I("click",function(){C(n);let r=_();return b(r.addPlayer())}),E(27,"i",347),g(28,"Ajouter "),d()()()()(),f(29,"div",34)(30,"button",64),I("click",function(){C(n);let r=_();return b(r.closeEditPlayersModal())}),E(31,"i",65),g(32,"Fermer "),d(),f(33,"button",348),I("click",function(){C(n);let r=_();return b(r.savePlayersEdit())}),E(34,"i",349),g(35,"Enregistrer "),d()()()()}if(t&2){let n=_();u(5),x(" \xC9diter les joueurs de ",n.teamToEdit.name," "),u(9),m("ngForOf",n.teamToEdit.players),u(7),me("ngModel",n.newPlayerName),u(2),m("ngIf",n.newPlayerType==="attaquant"),u(),m("ngIf",n.newPlayerType==="milieu"),u(),m("ngIf",n.newPlayerType==="defenseur")}}function n6(t,e){if(t&1&&(f(0,"div",90),E(1,"i",367),g(2),vr(3,"date"),f(4,"span",368),E(5,"i",369),g(6),d(),f(7,"span",368),g(8),d(),f(9,"span",368),g(10),d()()),t&2){let n=e.$implicit,i=_(3);u(2),x(" ",Xs(3,5,n.match.heureDebut,"dd/MM/yyyy HH:mm")," "),u(4),x(" ",n.minute,"'"),u(2),x("vs ",n.match.equipe1===(i.teamToEdit==null?null:i.teamToEdit.name)?n.match.equipe2:n.match.equipe1,""),u(2),Xe("(score: ",n.match.score1," - ",n.match.score2,")")}}function i6(t,e){t&1&&(f(0,"div",370),g(1,"Aucun but trouv\xE9."),d())}function r6(t,e){if(t&1){let n=P();ie(0),f(1,"div",29),w(2,n6,11,8,"div",365)(3,i6,2,0,"div",366),d(),f(4,"div",34)(5,"button",35),I("click",function(){C(n);let r=_(2);return b(r.closePlayerGoalsModal())}),g(6,"Fermer"),d()(),re()}if(t&2){let n=_(2);u(2),m("ngForOf",n.getPlayerGoalsDetails(n.selectedPlayerGoalsModal)),u(),m("ngIf",n.getPlayerGoalsDetails(n.selectedPlayerGoalsModal).length===0)}}function o6(t,e){if(t&1){let n=P();f(0,"div",363)(1,"div",177)(2,"div",25)(3,"div",26)(4,"h5",27),g(5),d(),f(6,"button",364),I("click",function(){C(n);let r=_();return b(r.closePlayerGoalsModal())}),d()(),w(7,r6,7,2,"ng-container",59),d()()()}if(t&2){let n=_();u(5),x("Buts de ",n.selectedPlayerGoalsModal.name,""),u(2),m("ngIf",n.selectedPlayerGoalsModal)}}function s6(t,e){if(t&1){let n=P();f(0,"button",384),I("click",function(){C(n);let r=_().index,o=_(2);return b(o.removeNewTeamPlayer(r))}),E(1,"i",74),d()}if(t&2){let n=_(3);m("disabled",n.newTeamPlayers.length===1)}}function a6(t,e){if(t&1){let n=P();f(0,"div",377)(1,"input",378),ge("ngModelChange",function(r){let o=C(n).$implicit;return ye(o.name,r)||(o.name=r),b(r)}),d(),f(2,"select",379),ge("ngModelChange",function(r){let o=C(n).$implicit;return ye(o.type,r)||(o.type=r),b(r)}),f(3,"option",380),g(4,"Attaquant"),d(),f(5,"option",381),g(6,"Milieu"),d(),f(7,"option",382),g(8,"D\xE9fenseur"),d()(),w(9,s6,2,1,"button",383),d()}if(t&2){let n=e.$implicit,i=_(2);u(),me("ngModel",n.name),m("ngModelOptions",Bt(5,Tn)),u(),me("ngModel",n.type),m("ngModelOptions",Bt(6,Tn)),u(7),m("ngIf",i.showDeleteButtons)}}function c6(t,e){if(t&1){let n=P();f(0,"div",363)(1,"div",177)(2,"div",25)(3,"div",26)(4,"h5",27),g(5,"Cr\xE9er une nouvelle \xE9quipe"),d(),f(6,"button",364),I("click",function(){C(n);let r=_();return b(r.closeNewTeamModal())}),d()(),f(7,"div",29)(8,"div",30)(9,"label",371),g(10,"Nom de l'\xE9quipe"),d(),f(11,"input",372),ge("ngModelChange",function(r){C(n);let o=_();return ye(o.newTeamName,r)||(o.newTeamName=r),b(r)}),d()(),f(12,"div",373),g(13,"Joueurs"),d(),w(14,a6,10,7,"div",374),f(15,"button",375),I("click",function(){C(n);let r=_();return b(r.addNewTeamPlayer())}),g(16,"+ Ajouter un joueur"),d()(),f(17,"div",34)(18,"button",35),I("click",function(){C(n);let r=_();return b(r.closeNewTeamModal())}),g(19,"Annuler"),d(),f(20,"button",376),I("click",function(){C(n);let r=_();return b(r.createNewTeam())}),g(21,"Cr\xE9er l'\xE9quipe"),d()()()()()}if(t&2){let n=_();u(11),me("ngModel",n.newTeamName),m("ngModelOptions",Bt(4,Tn)),u(3),m("ngForOf",n.newTeamPlayers),u(6),m("disabled",n.canCreateNewTeam())}}function l6(t,e){t&1&&E(0,"i",77)}function u6(t,e){t&1&&E(0,"i",395)}function d6(t,e){t&1&&E(0,"i",396)}function h6(t,e){t&1&&E(0,"i",397)}function f6(t,e){t&1&&E(0,"i",398)}function p6(t,e){t&1&&E(0,"i",399)}function m6(t,e){t&1&&E(0,"i",400)}function g6(t,e){t&1&&E(0,"i",401)}function _6(t,e){if(t&1){let n=P();f(0,"div",385)(1,"button",386),I("click",function(){let r=C(n).$implicit,o=_();return b(o.executeSelectedAction(r))}),w(2,l6,1,0,"i",387)(3,u6,1,0,"i",388)(4,d6,1,0,"i",389)(5,h6,1,0,"i",390)(6,f6,1,0,"i",391)(7,p6,1,0,"i",392)(8,m6,1,0,"i",393)(9,g6,1,0,"i",394),g(10),vr(11,"titlecase"),d()()}if(t&2){let n=e.$implicit;u(),xe("btn-primary",!1),u(),m("ngIf",n==="but"),u(),m("ngIf",n==="duel"),u(),m("ngIf",n==="dribble"),u(),m("ngIf",n==="interception"),u(),m("ngIf",n==="frappe"),u(),m("ngIf",n==="faute"),u(),m("ngIf",n==="contre-attaque"),u(),m("ngIf",n==="tiki-taka"),u(),x(" ",lm(11,11,n)," ")}}var Jh=class t{static{this.competitionColors=new Map}constructor(e,n){this.fb=e,this.firestoreService=n,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.editingButeur=null,this.teams=Zm,this.selectedTeam=null,this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!0,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.selectedCompetitionFilter="",this.showCompetitionFilterModal=!1,this.remainingDots=5,this.usedColors=[],this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1},this.showHelpModal=!1,this.showRankingModal=!1,this.currentRanking=[],this.isSharingCompetition=!1,this.isSharingMatch=!1,this.sharingLogs=[],this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerType="milieu",this.selectedPlayerGoalsIndex=null,this.selectedPlayerGoalsModal=null,this.team1Search="",this.team2Search="",this.filteredTeams1=[],this.filteredTeams2=[],this.showNewTeamModal=!1,this.editingCompetitionName="",this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}],this.competitionSearch="",this.filteredCompetitions=[],this.disabledGoals=[],this.showingLocalStorageData=!1,this.localStorageData=null,this.showDeleteButtons=!1,this.editTeam1Search="",this.editTeam2Search="",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editCompetitionSearch="",this.editFilteredCompetitions=[],this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.showCelebration=!1,this.celebrationConfig=null,this.celebrationPlayer="",this.celebrationTeam="",this.celebrationAssist="",this.showActionSelectionModal=!1,this.pendingActionPlayer="",this.pendingActionTeam=1,this.availableActions=[],this.encodingGoalsEnabled=!1,this.encodingDuelsEnabled=!1,this.newTeamTargetField=null,this.selectedSeason="",this.matchForm=this.fb.group({equipe1:[this.teams[0].name,et.required],equipe2:["",et.required],heureDebut:[this.getCurrentDateTime(),et.required],lieu:[""],competition:[""]}),this.scoreForm=this.fb.group({score1:[0,[et.required,et.min(0)]],score2:[0,[et.required,et.min(0)]]}),this.buteurForm=this.fb.group({nom:["",et.required],minute:["",[et.required,et.min(1),et.max(90)]],equipe:["",et.required],assist:[""]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(i=>{let r=this.buteurForm.get("assist");r&&r.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",et.required],equipe2:["",et.required],heureDebut:["",et.required],lieu:[""],competition:[""]})}ngOnInit(){return T(this,null,function*(){this.loadSavedData(),this.ensureAllTeamsPresent(),this.ensureMatchProperties(),this.startAutoSave(),yield this.loadMatchFromUrl(),this.updateFilteredTeams1(),this.updateFilteredTeams2(),this.selectedSeason=this.getCurrentSeason(),this.selectedCompetitionFilter=this.getCurrentSeason(),this.createU10U11CompetitionsIfNeeded()})}getCelebrationConfig(e){return{but:{type:"but",emoji:"\u26BD",text:"BUUUT !",color:"#ffc107",showAssist:!0,showCancel:!0},duel:{type:"duel",emoji:"\u{1F6E1}\uFE0F",text:"DUEL GAGN\xC9",color:"#28a745",showAssist:!1,showCancel:!0},dribble:{type:"dribble",emoji:"\u{1F3C3}",text:"DRIBBLE",color:"#17a2b8",showAssist:!1,showCancel:!1},interception:{type:"interception",emoji:"\u270B",text:"INTERCEPTION",color:"#6f42c1",showAssist:!1,showCancel:!1},frappe:{type:"frappe",emoji:"\u{1F3AF}",text:"FRAPPE",color:"#fd7e14",showAssist:!1,showCancel:!1},faute:{type:"faute",emoji:"\u26A0\uFE0F",text:"FAUTE",color:"#dc3545",showAssist:!1,showCancel:!1},"contre-attaque":{type:"contre-attaque",emoji:"\u26A1",text:"CONTRE-ATTAQUE",color:"#20c997",showAssist:!1,showCancel:!1},"tiki-taka":{type:"tiki-taka",emoji:"\u{1F504}",text:"TIKI-TAKA",color:"#6c757d",showAssist:!1,showCancel:!1}}[e]}startGenericCelebration(e,n,i){console.log(`D\xE9marrage de la c\xE9l\xE9bration ${e} pour ${n}`),this.celebrationConfig=this.getCelebrationConfig(e),this.celebrationPlayer=n,this.celebrationTeam=i===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.celebrationAssist="",this.showCelebration=!0,this.remainingDots=5,this.startCelebrationTimer()}ensureMatchProperties(){console.log("V\xE9rification des propri\xE9t\xE9s des matches...");let e=!1;this.matches.forEach(n=>{n.dribbles||(n.dribbles=[],e=!0),n.interceptions||(n.interceptions=[],e=!0),n.frappes||(n.frappes=[],e=!0),n.fautes||(n.fautes=[],e=!0),n.contreAttaques||(n.contreAttaques=[],e=!0),n.tikiTakas||(n.tikiTakas=[],e=!0)}),e&&(console.log("Propri\xE9t\xE9s des matches mises \xE0 jour, sauvegarde..."),this.saveData())}createU10U11CompetitionsIfNeeded(){let e=this.matches.map(r=>r.competition).filter(r=>r!==void 0&&r!==""),n=e.includes("Championnat U10"),i=e.includes("Championnat U11")}getCurrentDateTime(){let e=new Date,n=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-n).toISOString().slice(0,16)}onSubmit(){if(this.matchForm.valid){let n=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,i=Y(R({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[],showElements:!0,updatedAt:new Date});console.log("Nouveau match cr\xE9\xE9:",i),this.matches.push(i),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1}else console.log("MatchForm invalide - soumission annul\xE9e")}calculateElapsedMinutes(e){let n=new Date,i=new Date(e),r=new Date(i.getTime()),o=Math.floor((n.getTime()-r.getTime())/(1e3*60));return o>90?this.getLastScoredMinute()+1:Math.max(1,o)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(e=>e.minute))}selectMatch(e){this.selectedMatch=e,this.scoreForm.patchValue({score1:e.score1,score2:e.score2});let n=this.calculateElapsedMinutes(e.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.buteurForm.patchValue({nom:"",minute:n,equipe:1});let i=this.teams.find(o=>o.name===e.equipe1),r=this.teams.find(o=>o.name===e.equipe2);if(i?Xm(i):this.teams.push({id:this.teams.length+1,name:e.equipe1,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),r?Xm(r):this.teams.push({id:this.teams.length+1,name:e.equipe2,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),e.equipe1==="U10 Stand. Flawinne FC"){let o=this.teams.find(s=>s.name==="U10 Stand. Flawinne FC");this.selectedTeam=o||null}this.ensureAllTeamsPresent(),this.ensureScorersInTeams(e),this.maintainScoreConsistency()}updateScore(){if(!this.selectedMatch){console.log("selectedMatch null - mise \xE0 jour annul\xE9e");return}this.selectedMatch.score1=0,this.selectedMatch.score2=0,this.selectedMatch.buteurs=[],console.log("Score apr\xE8s mise \xE0 jour:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2,buteurs:this.selectedMatch.buteurs}),this.saveData()}modifierButeur(e,n){if(e<0||e>=this.matches.length){console.error("Index de match invalide:",e);return}let i=this.matches[e];if(!i){console.error("Match non trouv\xE9 \xE0 l'index:",e);return}if(!i.buteurs||!Array.isArray(i.buteurs)){console.error("Propri\xE9t\xE9 buteurs manquante ou invalide pour le match:",i);return}if(n<0||n>=i.buteurs.length){console.error("Index de buteur invalide:",n,"pour le match:",i);return}let r=i.buteurs[n];if(!r){console.error("Buteur non trouv\xE9 \xE0 l'index:",n);return}console.log("Match trouv\xE9:",i),console.log("Buteur \xE0 modifier:",r),this.isGoalDisabled(n)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===n)),console.log("But r\xE9activ\xE9 pour \xE9dition")),this.editingButeur={index:n,buteur:R({},r)},this.buteurForm.patchValue({nom:r.nom,minute:r.minute,equipe:r.equipe,assist:r.assist||""}),this.gererOuvertureFermetureButeurForm(!0),this.showButeurForm=!0}ajouterButeur(){if(this.buteurForm.valid&&this.selectedMatch){let e=this.buteurForm.value;console.log("Donn\xE9es du buteur:",e);let n={nom:e.nom,minute:e.minute,equipe:e.equipe,assist:e.assist||void 0};if(console.log("Nouveau buteur cr\xE9\xE9:",n),this.editingButeur){let i=this.matches.indexOf(this.selectedMatch);if(i<0||i>=this.matches.length){console.error("Index de match invalide pour modification:",i);return}let r=this.matches[i];if(!r||!r.buteurs||!Array.isArray(r.buteurs)){console.error("Match ou propri\xE9t\xE9 buteurs invalide pour modification:",r);return}if(this.editingButeur.index<0||this.editingButeur.index>=r.buteurs.length){console.error("Index de buteur invalide pour modification:",this.editingButeur.index);return}r.buteurs[this.editingButeur.index]=n,console.log("Buteur modifi\xE9 dans le match")}else this.selectedMatch.buteurs.push(n),console.log("Buteur ajout\xE9 au match"),n.equipe===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2));console.log("Match apr\xE8s ajout/modification:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1)}else console.log("ButeurForm invalide ou selectedMatch null - ajout annul\xE9")}annulerEditionButeur(){this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1),console.log("\xC9dition de buteur annul\xE9e")}supprimerButeur(e,n){if(e<0||e>=this.matches.length){console.error("Index de match invalide:",e);return}let i=this.matches[e];if(!i){console.error("Match non trouv\xE9 \xE0 l'index:",e);return}if(!i.buteurs||!Array.isArray(i.buteurs)){console.error("Propri\xE9t\xE9 buteurs manquante ou invalide pour le match:",i);return}if(n<0||n>=i.buteurs.length){console.error("Index de buteur invalide:",n,"pour le match:",i);return}let r=i.buteurs[n];if(!r){console.error("Buteur non trouv\xE9 \xE0 l'index:",n);return}confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le but de ${r.nom} \xE0 la minute ${r.minute} ?`)&&(console.log("Match:",i),console.log("Buteur \xE0 supprimer:",r),this.isGoalDisabled(n)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===n)),console.log("But d\xE9sactiv\xE9 retir\xE9 de la liste")),r.equipe===1?(i.score1=Math.max(0,i.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",i.score1)):(i.score2=Math.max(0,i.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",i.score2)),i.buteurs.splice(n,1),console.log("Buteur supprim\xE9 du match"),console.log("Match apr\xE8s suppression:",i),this.maintainScoreConsistency(),this.saveData())}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(r=>r.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let i={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(r)?.setValue(i.name)}}editNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let i={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(r)?.setValue(i.name)}}addNewPlayer(e){if(e&&e.trim()){let n=this.teams.find(i=>i.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));n&&(n.players.some(i=>i.name===e.trim())||n.players.push({name:e.trim(),type:"milieu"}),this.buteurForm.get("nom")?.setValue(e.trim()))}}getTeamPlayers(e){if(!this.selectedMatch)return[];let n=e===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(r=>r.name===n)?.players||[]}quickAddGoal(e,n){if(console.log("quickAddGoal() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}let r={nom:e,minute:i,equipe:n};console.log("Nouveau buteur rapide cr\xE9\xE9:",r),this.selectedMatch.buteurs.push(r),console.log("Buteur ajout\xE9 au match"),n===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2)),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.startGenericCelebration("but",e,n),console.log("But ajout\xE9 rapidement avec succ\xE8s")}quickAddDuel(e,n){if(console.log("quickAddDuel() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.duelsGagnes||(this.selectedMatch.duelsGagnes=[]);let r={nom:e,minute:i,equipe:n};console.log("Nouveau duel gagn\xE9 cr\xE9\xE9:",r),this.selectedMatch.duelsGagnes.push(r),console.log("Duel gagn\xE9 ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("duel",e,n),console.log("Duel gagn\xE9 ajout\xE9 rapidement avec succ\xE8s")}quickAddDribble(e,n){if(console.log("quickAddDribble() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.dribbles||(this.selectedMatch.dribbles=[]);let r={nom:e,minute:i,equipe:n};console.log("Nouveau dribble cr\xE9\xE9:",r),this.selectedMatch.dribbles.push(r),console.log("Dribble ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("dribble",e,n),console.log("Dribble ajout\xE9 rapidement avec succ\xE8s")}quickAddInterception(e,n){if(console.log("quickAddInterception() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.interceptions||(this.selectedMatch.interceptions=[]);let r={nom:e,minute:i,equipe:n};console.log("Nouvelle interception cr\xE9\xE9e:",r),this.selectedMatch.interceptions.push(r),console.log("Interception ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("interception",e,n),console.log("Interception ajout\xE9e rapidement avec succ\xE8s")}quickAddFrappe(e,n){if(console.log("quickAddFrappe() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.frappes||(this.selectedMatch.frappes=[]);let r={nom:e,minute:i,equipe:n};console.log("Nouvelle frappe cr\xE9\xE9e:",r),this.selectedMatch.frappes.push(r),console.log("Frappe ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("frappe",e,n),console.log("Frappe ajout\xE9e rapidement avec succ\xE8s")}quickAddFaute(e,n){if(console.log("quickAddFaute() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.fautes||(this.selectedMatch.fautes=[]);let r={nom:e,minute:i,equipe:n};console.log("Nouvelle faute cr\xE9\xE9e:",r),this.selectedMatch.fautes.push(r),console.log("Faute ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("faute",e,n),console.log("Faute ajout\xE9e rapidement avec succ\xE8s")}quickAddContreAttaque(e,n){if(console.log("quickAddContreAttaque() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.contreAttaques||(this.selectedMatch.contreAttaques=[]);let r={nom:e,minute:i,equipe:n};console.log("Nouvelle contre-attaque cr\xE9\xE9e:",r),this.selectedMatch.contreAttaques.push(r),console.log("Contre-attaque ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("contre-attaque",e,n),console.log("Contre-attaque ajout\xE9e rapidement avec succ\xE8s")}quickAddTikiTaka(e,n){if(console.log("quickAddTikiTaka() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.tikiTakas||(this.selectedMatch.tikiTakas=[]);let r={nom:e,minute:i,equipe:n};console.log("Nouveau tiki-taka cr\xE9\xE9:",r),this.selectedMatch.tikiTakas.push(r),console.log("Tiki-taka ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("tiki-taka",e,n),console.log("Tiki-taka ajout\xE9 rapidement avec succ\xE8s")}quickAddAction(e,n){if(console.log("quickAddAction() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - action rapide annul\xE9e");return}let i=this.getPlayerByName(n,e);if(!i){console.log("Joueur non trouv\xE9 - action rapide annul\xE9e");return}console.log("Type du joueur:",i.type);let r=[];switch(i.type){case"defenseur":r=["interception","duel","faute"];break;case"milieu":r=["tiki-taka","dribble","contre-attaque","interception"];break;case"attaquant":r=["frappe","dribble","but","contre-attaque"];break;default:r=["but","duel","dribble","interception","frappe","faute","contre-attaque","tiki-taka"];break}this.pendingActionPlayer=e,this.pendingActionTeam=n,this.availableActions=r,this.showActionSelectionModal=!0,console.log("Modal de s\xE9lection d'action affich\xE9 pour:",{player:e,team:n,type:i.type,actions:r})}executeSelectedAction(e){switch(console.log("Ex\xE9cution de l'action s\xE9lectionn\xE9e:",e),this.showActionSelectionModal=!1,e){case"but":this.quickAddGoal(this.pendingActionPlayer,this.pendingActionTeam);break;case"duel":this.quickAddDuel(this.pendingActionPlayer,this.pendingActionTeam);break;case"dribble":this.quickAddDribble(this.pendingActionPlayer,this.pendingActionTeam);break;case"interception":this.quickAddInterception(this.pendingActionPlayer,this.pendingActionTeam);break;case"frappe":this.quickAddFrappe(this.pendingActionPlayer,this.pendingActionTeam);break;case"faute":this.quickAddFaute(this.pendingActionPlayer,this.pendingActionTeam);break;case"contre-attaque":this.quickAddContreAttaque(this.pendingActionPlayer,this.pendingActionTeam);break;case"tiki-taka":this.quickAddTikiTaka(this.pendingActionPlayer,this.pendingActionTeam);break;default:console.log("Action non reconnue:",e);break}this.pendingActionPlayer="",this.pendingActionTeam=1,this.availableActions=[]}cancelActionSelection(){console.log("S\xE9lection d'action annul\xE9e"),this.showActionSelectionModal=!1,this.pendingActionPlayer="",this.pendingActionTeam=1,this.availableActions=[]}saveGoalWithAssist(){if(console.log("saveGoalWithAssist() appel\xE9e"),!this.selectedMatch||!this.lastGoalScorer){console.log("selectedMatch ou lastGoalScorer null - sauvegarde annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)||this.selectedMatch.buteurs.length===0){console.error("Propri\xE9t\xE9 buteurs invalide ou vide:",this.selectedMatch.buteurs);return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.lastGoalScorer&&(e.assist=this.lastGoalAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showGoalCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelGoal(){if(console.log("cancelGoal() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)){console.error("Propri\xE9t\xE9 buteurs invalide:",this.selectedMatch.buteurs);return}if(this.selectedMatch.buteurs.length>0){let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];if(!e){console.error("Dernier buteur non trouv\xE9");return}console.log("Dernier buteur \xE0 supprimer:",e),e.equipe===1?(this.selectedMatch.score1=Math.max(0,this.selectedMatch.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2=Math.max(0,this.selectedMatch.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score2)),this.selectedMatch.buteurs.pop(),console.log("Dernier buteur supprim\xE9")}this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist=""}saveDuel(){console.log("saveDuel() appel\xE9e"),this.saveData(),this.showCelebration=!1,console.log("Duel gagn\xE9 sauvegard\xE9 avec succ\xE8s")}cancelDuel(){if(console.log("cancelDuel() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(this.selectedMatch.duelsGagnes&&this.selectedMatch.duelsGagnes.length>0){let e=this.selectedMatch.duelsGagnes[this.selectedMatch.duelsGagnes.length-1];console.log("Dernier duel \xE0 supprimer:",e),this.selectedMatch.duelsGagnes.pop(),console.log("Dernier duel supprim\xE9")}this.showCelebration=!1}supprimerDuel(e,n){if(console.log("supprimerDuel() appel\xE9e avec matchIndex:",e,"duelIndex:",n),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.duelsGagnes||n<0||n>=i.duelsGagnes.length){console.log("Index de duel invalide - suppression annul\xE9e");return}console.log("Match:",i),console.log("Duel \xE0 supprimer:",i.duelsGagnes[n]),i.duelsGagnes.splice(n,1),console.log("Duel supprim\xE9"),this.saveData(),console.log("Duel supprim\xE9 avec succ\xE8s")}supprimerDribble(e,n){if(console.log("supprimerDribble() appel\xE9e avec matchIndex:",e,"dribbleIndex:",n),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.dribbles||n<0||n>=i.dribbles.length){console.log("Index de dribble invalide - suppression annul\xE9e");return}i.dribbles.splice(n,1),this.saveData(),console.log("Dribble supprim\xE9 avec succ\xE8s")}supprimerInterception(e,n){if(console.log("supprimerInterception() appel\xE9e avec matchIndex:",e,"interceptionIndex:",n),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.interceptions||n<0||n>=i.interceptions.length){console.log("Index d'interception invalide - suppression annul\xE9e");return}i.interceptions.splice(n,1),this.saveData(),console.log("Interception supprim\xE9e avec succ\xE8s")}supprimerFrappe(e,n){if(console.log("supprimerFrappe() appel\xE9e avec matchIndex:",e,"frappeIndex:",n),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.frappes||n<0||n>=i.frappes.length){console.log("Index de frappe invalide - suppression annul\xE9e");return}i.frappes.splice(n,1),this.saveData(),console.log("Frappe supprim\xE9e avec succ\xE8s")}supprimerFaute(e,n){if(console.log("supprimerFaute() appel\xE9e avec matchIndex:",e,"fauteIndex:",n),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.fautes||n<0||n>=i.fautes.length){console.log("Index de faute invalide - suppression annul\xE9e");return}i.fautes.splice(n,1),this.saveData(),console.log("Faute supprim\xE9e avec succ\xE8s")}supprimerContreAttaque(e,n){if(console.log("supprimerContreAttaque() appel\xE9e avec matchIndex:",e,"contreAttaqueIndex:",n),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.contreAttaques||n<0||n>=i.contreAttaques.length){console.log("Index de contre-attaque invalide - suppression annul\xE9e");return}i.contreAttaques.splice(n,1),this.saveData(),console.log("Contre-attaque supprim\xE9e avec succ\xE8s")}supprimerTikiTaka(e,n){if(console.log("supprimerTikiTaka() appel\xE9e avec matchIndex:",e,"tikiTakaIndex:",n),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.tikiTakas||n<0||n>=i.tikiTakas.length){console.log("Index de tiki-taka invalide - suppression annul\xE9e");return}i.tikiTakas.splice(n,1),this.saveData(),console.log("Tiki-taka supprim\xE9 avec succ\xE8s")}supprimerMatch(e){if(!confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?"))return;let n=this.matches.findIndex(i=>i.id===e.id);n!==-1&&(this.matches.splice(n,1),this.saveData())}loadSavedData(){let e=localStorage.getItem("footballMatches");if(e){let n=JSON.parse(e);new Date(n.expirationDate)>new Date?(this.matches=n.matches.map(r=>Y(R({},r),{heureDebut:new Date(r.heureDebut),duelsGagnes:r.duelsGagnes||[]})),n.teams&&(this.teams=n.teams,this.ensureAllTeamsPresent(),this.saveData())):localStorage.removeItem("footballMatches")}}ensureAllTeamsPresent(){Zm.forEach(e=>{let n=this.teams.find(i=>i.name===e.name);if(!n)this.teams.push(R({},e)),console.log(`\xC9quipe ajout\xE9e: ${e.name}`);else if(e.players.length>0){let i=e.players.filter(r=>!n.players.some(o=>o.name===r.name));i.length>0&&(n.players.push(...i),console.log(`Joueurs ajout\xE9s \xE0 ${e.name}:`,i.map(r=>r.name)))}})}saveData(){let e=new Date;e.setMonth(e.getMonth()+3);let n={matches:this.matches,teams:this.teams,expirationDate:e.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(n))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(e,n){return e.buteurs.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c),o.assist&&(s.assist=o.assist)):r.push({nom:o.nom,minutes:[o.minute],assist:o.assist}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom))}getGroupedDuels(e,n){return e.duelsGagnes?e.duelsGagnes.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedDribbles(e,n){return e.dribbles?e.dribbles.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedInterceptions(e,n){return e.interceptions?e.interceptions.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedFrappes(e,n){return e.frappes?e.frappes.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedFautes(e,n){return e.fautes?e.fautes.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedContreAttaques(e,n){return e.contreAttaques?e.contreAttaques.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedTikiTakas(e,n){return e.tikiTakas?e.tikiTakas.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getActiveGroupedScorers(e,n){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===n&&!this.isGoalDisabledForMatch(e,r.index)).reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}getDisabledGroupedScorers(e,n){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===n&&this.isGoalDisabledForMatch(e,r.index)&&r.buteur.nom!=="Joueur non list\xE9").reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(e,n){this.selectedPosition={team:e,position:n};let i=this.getPlayerForPosition(e,n);if(i&&this.selectedMatch){let r=n.includes("defenseur")||n==="gardien";console.log("isDefensivePosition"+r),r?this.encodingDuelsEnabled&&this.quickAddDuel(i.name,e):this.encodingGoalsEnabled&&this.quickAddGoal(i.name,e)}}assignPlayerToPosition(e){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let n=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[n]=e,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(e,n){if(this.selectedMatch?.positions){let i=`${e}_${n}`,r=this.selectedMatch.positions[i];if(r)return this.getPlayerByName(e,r)}return null}getPlayerByName(e,n){let i=this.teams.find(r=>r.name===(e===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));return i&&i.players.find(r=>r.name===n)||null}openDispositionModal(e){this.selectedMatch=e,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(e){e.showElements=!e.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(e){this.selectedMatch=e,this.matchEditForm.patchValue({equipe1:e.equipe1,equipe2:e.equipe2,heureDebut:this.getNearestValidTime(e.heureDebut),lieu:e.lieu,competition:e.competition}),this.editTeam1Search=e.equipe1,this.editTeam2Search=e.equipe2,this.editCompetitionSearch=e.competition||"",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editFilteredCompetitions=[],this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(e){let n=new Date(e);return n.getMinutes()<30?n.setMinutes(0):n.setMinutes(30),n.toISOString().slice(0,16)}onSubmitMatchEdit(){if(this.matchEditForm.valid&&this.selectedMatch){let e=this.matchEditForm.value;this.selectedMatch.equipe1=e.equipe1,this.selectedMatch.equipe2=e.equipe2,this.selectedMatch.heureDebut=new Date(e.heureDebut),this.selectedMatch.lieu=e.lieu,this.selectedMatch.competition=e.competition,this.saveData(),this.showMatchEditForm=!1}}get filteredMatches(){return this.matches.filter(e=>{let n=!this.selectedTeamFilter||e.equipe1===this.selectedTeamFilter||e.equipe2===this.selectedTeamFilter,i=this.selectedCompetitionFilter&&this.selectedCompetitionFilter.includes("-"),r=!0;return this.selectedCompetitionFilter&&(i?r=this.getSeasonFromDate(e.heureDebut)===this.selectedCompetitionFilter:r=e.competition===this.selectedCompetitionFilter),n&&r})}closeTeamFilterModal(){this.showTeamFilterModal=!1}getMatchesPlayedByTeam(e){return this.matches.filter(n=>n.equipe1===e||n.equipe2===e).length}get filteredTeamsForModal(){let e;if(!this.selectedCompetitionFilter)e=this.teams;else if(this.selectedCompetitionFilter.includes("-")){let i=new Set;this.matches.forEach(r=>{this.getSeasonFromDate(r.heureDebut)===this.selectedCompetitionFilter&&(i.add(r.equipe1),i.add(r.equipe2))}),e=this.teams.filter(r=>i.has(r.name))}else{let i=new Set;this.matches.forEach(r=>{r.competition===this.selectedCompetitionFilter&&(i.add(r.equipe1),i.add(r.equipe2))}),e=this.teams.filter(r=>i.has(r.name))}return e.sort((n,i)=>{let r=this.getMatchesPlayedByTeam(n.name);return this.getMatchesPlayedByTeam(i.name)-r})}shareMatch(e){return T(this,null,function*(){this.isSharingMatch=!0;try{let n=yield this.firestoreService.saveMatch(e),i=`${window.location.origin}?matchId=${n}`,r=`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${this.getGroupedScorers(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${e.equipe2}:
${this.getGroupedScorers(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

Duels gagn\xE9s :
${e.equipe1}:
${this.getGroupedDuels(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

${e.equipe2}:
${this.getGroupedDuels(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

Lien direct vers le match : ${i}
      `.trim();if(navigator.share)yield navigator.share({title:`${e.equipe1} vs ${e.equipe2}`,text:r,url:i});else{let o=document.createElement("textarea");o.value=r,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}catch(n){console.error("Erreur lors de la sauvegarde ou du partage du match:",n),alert("Une erreur est survenue lors de la sauvegarde ou du partage du match.")}finally{this.isSharingMatch=!1}})}loadMatchFromUrl(){return T(this,null,function*(){let e=new URLSearchParams(window.location.search),n=e.get("competitionId"),i=e.get("matchId");if(n)try{let r=yield this.firestoreService.getCompetitionById(n);if(r){let o=yield this.firestoreService.getMatchesByCompetition(n);o.length>0&&(this.matches=o,this.selectedCompetitionFilter=r.name,this.saveData())}}catch(r){console.error("Erreur lors du chargement de la comp\xE9tition:",r)}else if(i)try{let r=yield this.firestoreService.getMatchById(i);if(r){r.heureDebut=new Date(r.heureDebut);let o=this.matches.findIndex(a=>this.isSameMatch(a,r)),s;o===-1?(console.log("Ajout du nouveau match \xE0 la liste"),this.matches.push(r),this.saveData(),s=r):s=this.matches[o],this.selectMatch(s),this.selectedMatch=s,setTimeout(()=>{let a=document.querySelector(`[data-match-id="${s.id}"]`);a&&a.scrollIntoView({behavior:"smooth"})},100)}else console.error("Match non trouv\xE9 dans Firestore")}catch(r){console.error("Erreur lors du chargement du match depuis Firestore:",r)}})}isSameMatch(e,n){return e.id===n.id&&e.equipe1===n.equipe1&&e.equipe2===n.equipe2&&e.score1===n.score1&&e.score2===n.score2}getButeurDisplay(e){let n=`\u26BD ${e.nom} (${e.minute}')`;return e.assist&&(n+=` (Assist: ${e.assist})`),n}saveMatchToFirestore(e){return T(this,null,function*(){try{let n=yield this.firestoreService.saveMatch(e);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",n),window.location.href=`/match/${n}`}catch(n){console.error("Erreur lors de l'enregistrement du match dans Firestore:",n)}})}closeCompetitionFilterModal(){this.showCompetitionFilterModal=!1}openCompetitionFilterModal(){this.selectedSeason=this.getCurrentSeason(),this.showCompetitionFilterModal=!0}onSeasonChanged(e){this.selectedSeason=e,this.selectedCompetitionFilter=e}onCompetitionSelected(e){this.selectedCompetitionFilter=e,this.showCompetitionFilterModal=!1}onCompetitionAdded(e){return T(this,null,function*(){try{console.log("Ajout de la comp\xE9tition:",e);let n={equipe1:"\xC9quipe temporaire",equipe2:"\xC9quipe temporaire",score1:0,score2:0,buteurs:[],heureDebut:new Date,lieu:"",positions:{},showElements:!0,competition:e.name,updatedAt:new Date,duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[]};this.matches.push(n),this.saveData(),this.showCompetitionFilterModal=!1,alert(`Comp\xE9tition "${e.name}" ajout\xE9e avec succ\xE8s !`)}catch(n){console.error("Erreur lors de l'ajout de la comp\xE9tition:",n),alert("Erreur lors de l'ajout de la comp\xE9tition.")}})}onCompetitionUpdated(e){return T(this,null,function*(){try{console.log("Mise \xE0 jour de la comp\xE9tition:",e);let{oldName:n,newCompetition:i}=e;n!==i.name&&(this.matches.forEach(r=>{r.competition===n&&(r.competition=i.name,r.updatedAt=new Date)}),this.selectedCompetitionFilter===n&&(this.selectedCompetitionFilter=i.name),this.saveData(),alert(`Comp\xE9tition "${n}" mise \xE0 jour vers "${i.name}" avec succ\xE8s !`)),this.showCompetitionFilterModal=!1}catch(n){console.error("Erreur lors de la mise \xE0 jour de la comp\xE9tition:",n),alert("Erreur lors de la mise \xE0 jour de la comp\xE9tition.")}})}onCompetitionDeleted(e){return T(this,null,function*(){try{if(console.log("Suppression de la comp\xE9tition:",e),!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la comp\xE9tition "${e}" ?

Cette action supprimera \xE9galement tous les matchs associ\xE9s.`))return;this.matches=this.matches.filter(n=>n.competition!==e),this.selectedCompetitionFilter===e&&(this.selectedCompetitionFilter=""),this.saveData(),this.showCompetitionFilterModal=!1,alert(`Comp\xE9tition "${e}" supprim\xE9e avec succ\xE8s !`)}catch(n){console.error("Erreur lors de la suppression de la comp\xE9tition:",n),alert("Erreur lors de la suppression de la comp\xE9tition.")}})}assignSeasonToCompetition(e,n){return T(this,null,function*(){try{console.log(`Attribution de la saison ${n} \xE0 la comp\xE9tition ${e}`);let i=this.matches.filter(r=>r.competition===e);if(i.length===0){alert(`Aucun match trouv\xE9 pour la comp\xE9tition "${e}"`);return}i.forEach(r=>{let[o]=n.split("-"),s=new Date(parseInt(o),7,1);r.heureDebut=s,r.updatedAt=new Date}),this.saveData(),alert(`Saison "${n}" attribu\xE9e \xE0 la comp\xE9tition "${e}" avec succ\xE8s !`)}catch(i){console.error("Erreur lors de l'attribution de la saison:",i),alert("Une erreur est survenue lors de l'attribution de la saison.")}})}assignSeasonAutomatically(e,n){try{console.log(`Attribution automatique de la saison ${n} \xE0 la comp\xE9tition ${e}`);let i=this.matches.filter(r=>r.competition===e);if(i.length===0)return;i.forEach(r=>{r.updatedAt=new Date}),this.saveData()}catch(i){console.error("Erreur lors de l'attribution automatique de la saison:",i)}}isCompetitionWithoutSeason(e){let n=this.matches.filter(r=>r.competition===e);return n.length===0?!1:!n.some(r=>{if(!r.heureDebut)return!1;try{let o=this.getSeasonFromDate(r.heureDebut);return o&&o!==""}catch{return!1}})}getSuggestedSeasonForCompetition(e){let n=this.matches.filter(o=>o.competition===e);if(n.length===0)return null;let r=n.sort((o,s)=>!o.heureDebut||!s.heureDebut?0:o.heureDebut.getTime()-s.heureDebut.getTime())[0];if(!r.heureDebut)return null;try{return this.getSeasonFromDate(r.heureDebut)}catch{return null}}onAssignSeason(e){this.assignSeasonToCompetition(e.competition,e.season)}getCurrentSeason(){let e=new Date,n=e.getFullYear();return e.getMonth()+1>=8?`${n}-${n+1}`:`${n-1}-${n}`}getSeasonFromDate(e){let n;!e||isNaN(new Date(e).getTime())?n=new Date:n=new Date(e);let i=n.getFullYear();return n.getMonth()+1>=8?`${i}-${i+1}`:`${i-1}-${i}`}getCompetitionsBySeason(e){(!e||e==="")&&(e=this.getCurrentSeason());let n=this.matches.filter(o=>this.getSeasonFromDate(o.heureDebut)===e).map(o=>o.competition).filter(o=>o!==void 0&&o!==""),i=this.matches.filter(o=>{if(!o.competition||o.competition==="")return!1;let a=this.matches.filter(c=>c.competition===o.competition).reduce((c,l)=>l.heureDebut<c.heureDebut?l:c);return o.id===a.id&&this.getSeasonFromDate(o.heureDebut)===e?(this.assignSeasonAutomatically(o.competition,e),!0):!1}).map(o=>o.competition).filter(o=>o!==void 0&&o!==""),r=[...n,...i];return[...new Set(r)]}getAvailableSeasons(){return this.matches.map(n=>this.getSeasonFromDate(n.heureDebut)).filter((n,i,r)=>r.indexOf(n)===i).sort((n,i)=>{let r=parseInt(n.split("-")[0]);return parseInt(i.split("-")[0])-r})}get uniqueCompetitions(){return this.getCompetitionsBySeason(this.selectedSeason)}getCompetitionBadgeColor(e){let n=["badge-pastel-primary","badge-pastel-secondary","badge-pastel-success","badge-pastel-danger","badge-pastel-warning","badge-pastel-info","badge-pastel-dark","badge-pastel-purple","badge-pastel-pink","badge-pastel-teal"];if(t.competitionColors.has(e))return t.competitionColors.get(e);let i=e.split("").reduce((s,a)=>a.charCodeAt(0)+((s<<5)-s),0),r=Math.abs(i)%n.length,o=n[r];return t.competitionColors.set(e,o),o}getScoreColor(e){if(![e.equipe1,e.equipe2].some(s=>s.toLowerCase().includes("flawinne")))return"btn-light";let i=e.equipe1.toLowerCase().includes("flawinne")?e.equipe1:e.equipe2,r=e.equipe1.toLowerCase().includes("flawinne")?e.score1:e.score2,o=e.equipe1.toLowerCase().includes("flawinne")?e.score2:e.score1;return r>o?"btn-score-success":r<o?"btn-score-danger":"btn-score-light"}exportMatches(){this.showExportModal=!0}closeExportModal(){this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1}}isExportFormatSelected(){return this.exportFormats.txt||this.exportFormats.csv||this.exportFormats.json}confirmExport(){return T(this,null,function*(){if(this.exportFormats.txt){let e=this.exportToTxt();this.downloadFile(e,"matches.txt")}if(this.exportFormats.csv){let e=this.exportToCsv();this.downloadFile(e,"matches.csv")}if(this.exportFormats.json){let e=this.exportToJson();this.downloadFile(e,"matches.json")}this.closeExportModal()})}exportToTxt(){let e=`FOOTBALL MATCHES EXPORT
`;e+=`========================

`;for(let n of this.getSortedMatches()){if(e+=`Match: ${n.equipe1} vs ${n.equipe2}
`,e+=`Score: ${n.score1} - ${n.score2}
`,e+=`Date: ${n.heureDebut.toLocaleString("fr-FR")}
`,n.lieu&&(e+=`Lieu: ${n.lieu}
`),n.competition&&(e+=`Comp\xE9tition: ${n.competition}
`),n.buteurs.length>0){e+=`
Buteurs:
`;let i=this.getGroupedScorers(n,1),r=this.getGroupedScorers(n,2);if(i.length>0){e+=`${n.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}if(r.length>0){e+=`${n.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}}if(n.duelsGagnes&&n.duelsGagnes.length>0){e+=`
Duels gagn\xE9s:
`;let i=this.getGroupedDuels(n,1),r=this.getGroupedDuels(n,2);if(i.length>0){e+=`${n.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}if(r.length>0){e+=`${n.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}}e+=`
`+"=".repeat(50)+`

`}return e}exportToCsv(){let e=`\xC9quipe 1,\xC9quipe 2,Score 1,Score 2,Date,Lieu,Comp\xE9tition,Buteurs \xC9quipe 1,Buteurs \xC9quipe 2,Duels \xC9quipe 1,Duels \xC9quipe 2
`;for(let n of this.getSortedMatches()){let i=this.getGroupedScorers(n,1),r=this.getGroupedScorers(n,2),o=this.getGroupedDuels(n,1),s=this.getGroupedDuels(n,2),a=i.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),c=r.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),l=o.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),h=s.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; ");e+=`"${n.equipe1}","${n.equipe2}",${n.score1},${n.score2},"${n.heureDebut.toLocaleString("fr-FR")}","${n.lieu||""}","${n.competition||""}","${a}","${c}","${l}","${h}"
`}return e}exportToJson(){let e=this.getSortedMatches().map(n=>({equipe1:n.equipe1,equipe2:n.equipe2,score1:n.score1,score2:n.score2,heureDebut:n.heureDebut.toISOString(),lieu:n.lieu,competition:n.competition,buteurs:n.buteurs,duelsGagnes:n.duelsGagnes||[]}));return JSON.stringify(e,null,2)}downloadFile(e,n){let i=new Blob([e],{type:"text/plain"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=n,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(r),document.body.removeChild(o)}importMatches(){let e=document.createElement("input");e.type="file",e.accept=".txt,.csv,.json",e.onchange=n=>{let i=n.target.files?.[0];if(i){let r=new FileReader;r.onload=o=>{let s=o.target?.result,a=i.name.split(".").pop()?.toLowerCase();try{let c=[];switch(a){case"txt":c=this.parseTxtImport(s);break;case"csv":c=this.parseCsvImport(s);break;case"json":c=this.parseJsonImport(s);break;default:throw new Error("Format de fichier non support\xE9")}c.length>0?confirm(`Voulez-vous importer ${c.length} match(s) ?`)&&(this.matches.push(...c),this.saveData(),alert("Import r\xE9ussi !")):alert("Aucun match trouv\xE9 dans le fichier.")}catch(c){console.error("Erreur lors de l'import:",c),alert("Erreur lors de l'import du fichier. V\xE9rifiez le format.")}},r.readAsText(i)}},e.click()}parseTxtImport(e){let n=[],i=e.split("----------------------------------------");for(let r of i){if(!r.trim())continue;let o=r.trim().split(`
`),s={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};for(let a of o)if(a.startsWith("Match : ")){let c=a.replace("Match : ","").split(" vs ");s.equipe1=c[0].trim(),s.equipe2=c[1].trim()}else if(a.startsWith("Score : ")){let c=a.replace("Score : ","").split(" - ");s.score1=parseInt(c[0]),s.score2=parseInt(c[1])}else if(a.startsWith("Date : "))s.heureDebut=new Date(a.replace("Date : ",""));else if(a.startsWith("Lieu : "))s.lieu=a.replace("Lieu : ","").trim();else if(a.startsWith("Comp\xE9tition : "))s.competition=a.replace("Comp\xE9tition : ","").trim();else if(a.includes(":")){let[c,l]=a.split(":"),h=c.replace("-","").trim(),p=l.match(/\d+/g),v=l.match(/\(Assist: (.*?)\)/);p&&p.forEach(y=>{s.buteurs?.push({nom:h,minute:parseInt(y),equipe:a.includes(s.equipe1)?1:2,assist:v?v[1]:void 0})})}s.equipe1&&s.equipe2&&n.push(s)}return n}parseCsvImport(e){let n=e.trim().split(`
`);if(n.length<2)throw new Error("Fichier CSV vide ou invalide");let i=n[0].split(",").map(o=>o.replace(/"/g,"").trim()),r=[];for(let o=1;o<n.length;o++){let s=n[o],a=this.parseCsvLine(s);if(a.length<8)continue;let c={id:this.matches.length+o,equipe1:a[0]?.replace(/"/g,"")||"",equipe2:a[1]?.replace(/"/g,"")||"",score1:parseInt(a[2])||0,score2:parseInt(a[3])||0,heureDebut:new Date(a[4]||new Date),lieu:a[5]?.replace(/"/g,"")||"",competition:a[6]?.replace(/"/g,"")||"",buteurs:[],duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[],updatedAt:new Date};if(a[7]){let l=a[7].replace(/"/g,"");if(l){let h=this.parseScorersString(l,1);c.buteurs.push(...h)}}if(a[8]){let l=a[8].replace(/"/g,"");if(l){let h=this.parseScorersString(l,2);c.buteurs.push(...h)}}if(a[9]){let l=a[9].replace(/"/g,"");if(l){let h=this.parseDuelsString(l,1);c.duelsGagnes.push(...h)}}if(a[10]){let l=a[10].replace(/"/g,"");if(l){let h=this.parseDuelsString(l,2);c.duelsGagnes.push(...h)}}r.push(c)}return r}parseJsonImport(e){try{return JSON.parse(e).map(i=>Y(R({},i),{heureDebut:new Date(i.heureDebut),duelsGagnes:i.duelsGagnes||[]}))}catch{throw new Error("Format JSON invalide")}}parseCsvLine(e){let n=[],i="",r=!1;for(let o=0;o<e.length;o++){let s=e[o];s==='"'?r=!r:s===","&&!r?(n.push(i.trim()),i=""):i+=s}return n.push(i.trim()),n}parseScorersString(e,n){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(h=>parseInt(h.trim())).filter(h=>!isNaN(h));for(let h of l)i.push({nom:a,minute:h,equipe:n})}}return i}parseDuelsString(e,n){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(h=>parseInt(h.trim())).filter(h=>!isNaN(h));for(let h of l)i.push({nom:a,minute:h,equipe:n})}}return i}getSortedMatches(){return this.filteredMatches.slice().sort((e,n)=>new Date(n.heureDebut).getTime()-new Date(e.heureDebut).getTime())}calculateRanking(e){let n=new Map;return this.matches.filter(r=>r.competition===e).forEach(r=>{[r.equipe1,r.equipe2].forEach(a=>{n.has(a)||n.set(a,{name:a,points:0,matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0})});let o=n.get(r.equipe1),s=n.get(r.equipe2);o.matches++,s.matches++,o.goalsFor+=r.score1,o.goalsAgainst+=r.score2,s.goalsFor+=r.score2,s.goalsAgainst+=r.score1,r.score1>r.score2?(o.wins++,o.points+=3,s.losses++):r.score1<r.score2?(s.wins++,s.points+=3,o.losses++):(o.draws++,s.draws++,o.points+=1,s.points+=1)}),n.forEach(r=>{r.goalDifference=r.goalsFor-r.goalsAgainst}),Array.from(n.values()).sort((r,o)=>o.points!==r.points?o.points-r.points:o.goalDifference!==r.goalDifference?o.goalDifference-r.goalDifference:o.goalsFor-r.goalsFor)}showRanking(){this.selectedCompetitionFilter?(this.currentRanking=this.calculateRanking(this.selectedCompetitionFilter),this.showRankingModal=!0):alert("Veuillez s\xE9lectionner une comp\xE9tition pour voir le classement")}closeRankingModal(){this.showRankingModal=!1}shareCompetition(){return T(this,null,function*(){if(!this.selectedCompetitionFilter){alert("Veuillez s\xE9lectionner une comp\xE9tition");return}this.isSharingCompetition=!0,this.sharingLogs=["Comp\xE9tition en cours de sauvegarde..."];try{let e=this.matches.filter(r=>r.competition===this.selectedCompetitionFilter);if(e.length===0){alert("Aucun match trouv\xE9 pour cette comp\xE9tition");return}let n=yield this.firestoreService.shareCompetition(this.selectedCompetitionFilter,e,r=>{this.sharingLogs.push(r)}),i=`
          Comp\xE9tition : ${this.selectedCompetitionFilter}
          Nombre de matchs : ${e.length}

          Matchs :
          ${e.map(r=>`
          ${r.equipe1} vs ${r.equipe2}
          Score : ${r.score1} - ${r.score2}
          Date : ${r.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          Lieu : ${r.lieu||"Non sp\xE9cifi\xE9"}
          ----------------------------------------`).join(`
`)}

          Lien vers la comp\xE9tition : ${window.location.origin}?competitionId=${n}
                `.trim();if(navigator.share)yield navigator.share({title:`Comp\xE9tition ${this.selectedCompetitionFilter}`,text:i,url:`${window.location.origin}?competitionId=${n}`});else{let r=document.createElement("textarea");r.value=i,document.body.appendChild(r),r.select();try{document.execCommand("copy"),alert("Informations de la comp\xE9tition copi\xE9es dans le presse-papiers !")}catch(o){console.error("Erreur lors de la copie:",o)}document.body.removeChild(r)}this.sharingLogs.push("Association des matchs en cours...");for(let r of e){let o=yield this.firestoreService.saveMatch(r);this.sharingLogs.push(`Match ${r.equipe1} vs ${r.equipe2} sauvegard\xE9`),yield this.firestoreService.addMatchToCompetition(n,o)}this.sharingLogs.push("Comp\xE9tition sauvegard\xE9e avec succ\xE8s !")}catch(e){console.error("Erreur lors de la sauvegarde ou du partage de la comp\xE9tition:",e),this.sharingLogs.push("Erreur lors de la sauvegarde de la comp\xE9tition"),alert("Une erreur est survenue lors de la sauvegarde ou du partage de la comp\xE9tition.")}finally{this.isSharingCompetition=!1}})}validateScore(e){let n=Math.max(0,e);return console.log("validateScore() appel\xE9e avec:",e,"retourne:",n),n}openEditPlayersModal(e){let n=this.teams.find(i=>i.name===e);n&&(this.teamToEdit=Y(R({},n),{players:[...n.players]}),this.showEditPlayersModal=!0)}closeEditPlayersModal(){this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerName=""}addPlayer(){this.teamToEdit&&this.newPlayerName.trim()&&(this.teamToEdit.players.push({name:this.newPlayerName.trim(),type:this.newPlayerType}),this.newPlayerName="",this.newPlayerType="milieu",this.saveData())}removePlayer(e){if(this.teamToEdit){let n=this.teamToEdit.players[e];if(!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le joueur ${n.name} ?`))return;this.teamToEdit.players.splice(e,1),this.saveData()}}savePlayersEdit(){if(this.teamToEdit){let e=this.teams.findIndex(n=>n.name===this.teamToEdit.name);e!==-1&&(this.teams[e]=Y(R({},this.teamToEdit),{players:[...this.teamToEdit.players]}))}this.saveData(),this.closeEditPlayersModal()}getPlayersSortedByGoals(){if(!this.teamToEdit)return[];let e={};for(let n of this.teamToEdit.players){e[n.name]=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===n.name){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&e[n.name]++}}}return[...this.teamToEdit.players].sort((n,i)=>e[i.name]-e[n.name])}getGoalsForPlayer(e){if(!this.teamToEdit)return 0;let n=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===e){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&n++}}return n}cyclePlayerType(e){e.type==="attaquant"?e.type="milieu":e.type==="milieu"?e.type="defenseur":e.type="attaquant"}cycleNewPlayerType(){this.newPlayerType==="attaquant"?this.newPlayerType="milieu":this.newPlayerType==="milieu"?this.newPlayerType="defenseur":this.newPlayerType="attaquant"}getPlayerGoalsDetails(e){let n=[];for(let i of this.matches)if(i.equipe1===this.teamToEdit?.name||i.equipe2===this.teamToEdit?.name)for(let r of i.buteurs)r.nom===e.name&&n.push({match:i,minute:r.minute});return n}openPlayerGoalsModal(e){this.selectedPlayerGoalsModal=e}closePlayerGoalsModal(){this.selectedPlayerGoalsModal=null}updateFilteredTeams1(){let e=this.team1Search;if(this.matchForm.patchValue({equipe1:e}),e.length<3){this.filteredTeams1=[];return}this.filteredTeams1=this.teams.map(n=>n.name).filter(n=>n.toLowerCase().includes(e.toLowerCase())).filter(n=>n!==this.matchForm.value.equipe2)}updateFilteredTeams2(){let e=this.team2Search;if(this.matchForm.patchValue({equipe2:e}),e.length<3){this.filteredTeams2=[];return}this.filteredTeams2=this.teams.map(n=>n.name).filter(n=>n.toLowerCase().includes(e.toLowerCase())).filter(n=>n!==this.matchForm.value.equipe1)}selectTeam1(e){this.matchForm.patchValue({equipe1:e}),this.team1Search=e,this.filteredTeams1=[]}selectTeam2(e){this.matchForm.patchValue({equipe2:e}),this.team2Search=e,this.filteredTeams2=[]}openNewTeamModal(){this.showNewTeamModal=!0,this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}]}closeNewTeamModal(){this.showNewTeamModal=!1}addNewTeamPlayer(){this.newTeamPlayers.push({name:"",type:"milieu"})}removeNewTeamPlayer(e){this.newTeamPlayers.length>1&&this.newTeamPlayers.splice(e,1)}openNewTeamModalFor(e){this.newTeamTargetField=e,this.showNewTeamModal=!0,this.newTeamName=e==="equipe1"?this.team1Search:this.team2Search,this.newTeamPlayers=[{name:"",type:"milieu"}]}createNewTeam(){if(!this.newTeamName.trim()||this.newTeamPlayers.every(n=>!n.name.trim()))return;let e={id:Date.now(),name:this.newTeamName.trim(),players:this.newTeamPlayers.filter(n=>n.name.trim())};this.teams.push(e),this.saveData(),this.newTeamTargetField==="equipe1"?(this.matchForm.patchValue({equipe1:e.name}),this.team1Search=e.name):this.newTeamTargetField==="equipe2"&&(this.matchForm.patchValue({equipe2:e.name}),this.team2Search=e.name),this.closeNewTeamModal(),this.newTeamTargetField=null}canCreateNewTeam(){return!this.newTeamName.trim()||this.newTeamPlayers.every(e=>!e.name.trim())}updateFilteredCompetitions(){let e=this.competitionSearch.toLowerCase();if(e.length<3){this.filteredCompetitions=[];return}let n=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.filteredCompetitions=n.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectCompetition(e){this.matchForm.patchValue({competition:e}),this.competitionSearch=e,this.filteredCompetitions=[]}startCelebrationTimer(){console.log("startCelebrationTimer() appel\xE9e"),this.celebrationTimer=setInterval(()=>{this.remainingDots--,console.log("Dots restants:",this.remainingDots),this.remainingDots<=0&&(this.showCelebration&&this.celebrationConfig&&(this.showCelebration=!1,this.celebrationConfig.type==="but"?this.saveCelebrationWithAssist():this.celebrationConfig.type==="duel"&&this.saveDuel()),clearInterval(this.celebrationTimer))},1e3)}saveCelebrationWithAssist(){if(console.log("saveCelebrationWithAssist() appel\xE9e"),!this.selectedMatch||!this.celebrationPlayer||!this.celebrationConfig){console.log("Donn\xE9es de c\xE9l\xE9bration manquantes - sauvegarde annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)||this.selectedMatch.buteurs.length===0){console.error("Propri\xE9t\xE9 buteurs invalide ou vide:",this.selectedMatch.buteurs);return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.celebrationPlayer&&(e.assist=this.celebrationAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelCelebration(){if(console.log("cancelCelebration() appel\xE9e"),!this.selectedMatch||!this.celebrationConfig){console.log("Donn\xE9es de c\xE9l\xE9bration manquantes - annulation annul\xE9e");return}this.celebrationConfig.type==="but"?this.cancelGoal():this.celebrationConfig.type==="duel"&&this.cancelDuel(),this.showCelebration=!1,this.celebrationConfig=null,this.celebrationPlayer="",this.celebrationTeam="",this.celebrationAssist=""}ensureScorersInTeams(e){if(!e||!e.buteurs||e.buteurs.length===0)return;console.log("V\xE9rification des joueurs ayant marqu\xE9 des buts pour le match:",e.id);let n=this.teams.find(r=>r.name===e.equipe1),i=this.teams.find(r=>r.name===e.equipe2);if(!n||!i){console.log("\xC9quipes non trouv\xE9es pour le match");return}e.buteurs.forEach(r=>{if(!r||!r.nom)return;let o=r.equipe===1?n:i;o.players.some(a=>a.name.toLowerCase()===r.nom.toLowerCase())||(console.log(`Ajout du joueur ${r.nom} \xE0 l'\xE9quipe ${o.name}`),o.players.push({name:r.nom,type:"milieu"}))}),this.saveData()}closeScoreModal(){this.selectedMatch&&this.ensureScorersInTeams(this.selectedMatch),this.showScoreForm=!1}onScoreChange(){if(console.log("onScoreChange() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - modification annul\xE9e");return}let e=this.selectedMatch.score1,n=this.selectedMatch.score2;console.log("Scores actuels:",{score1:e,score2:n});let i=this.getActiveGoalsCount(1),r=this.getActiveGoalsCount(2);console.log("Buts actifs:",{team1:i,team2:r}),this.handleTeamScoreChange(1,e,i),this.handleTeamScoreChange(2,n,r),console.log("Match apr\xE8s modification:",this.selectedMatch),this.saveData()}handleTeamScoreChange(e,n,i){console.log(`handleTeamScoreChange() pour \xE9quipe ${e}:`,{newScore:n,currentGoals:i});let r=this.selectedMatch.id;if(n>i){let o=this.disabledGoals.filter(c=>{if(!this.selectedMatch||!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs))return console.error("selectedMatch ou buteurs invalide dans handleTeamScoreChange"),!1;if(c.buteurIndex<0||c.buteurIndex>=this.selectedMatch.buteurs.length)return console.error("Index de buteur invalide dans disabledGoals:",c.buteurIndex),!1;let l=this.selectedMatch.buteurs[c.buteurIndex];return l?c.matchId===r&&l.equipe===e:(console.error("Buteur non trouv\xE9 \xE0 l'index:",c.buteurIndex),!1)});console.log(`Buts d\xE9sactiv\xE9s pour \xE9quipe ${e}:`,o.length);let s=Math.min(n-i,o.length);console.log(`R\xE9activation de ${s} buts d\xE9sactiv\xE9s`);for(let c=0;c<s;c++){let l=o[c];this.disabledGoals=this.disabledGoals.filter(h=>!(h.matchId===l.matchId&&h.buteurIndex===l.buteurIndex)),console.log("But r\xE9activ\xE9 \xE0 l'index:",l.buteurIndex)}let a=n-i-s;if(a>0){console.log(`Ajout de ${a} buts "Joueur non list\xE9"`);for(let c=0;c<a;c++){let l={nom:"Joueur non list\xE9",minute:1,equipe:e};this.selectedMatch.buteurs.push(l),console.log("But ajout\xE9:",l)}}}else if(n<i){let o=i-n;console.log(`D\xE9sactivation de ${o} buts de l'\xE9quipe ${e}`),this.selectedMatch.buteurs.map((a,c)=>({buteur:a,index:c})).filter(a=>a.buteur.equipe===e&&!this.isGoalDisabled(a.index)).slice(-o).forEach(a=>{r!==void 0&&(a.buteur.nom==="Joueur non list\xE9"?(this.selectedMatch.buteurs.splice(a.index,1),console.log('"Joueur non list\xE9" supprim\xE9:',a.buteur)):(this.disabledGoals.push({matchId:r,buteurIndex:a.index}),console.log("But d\xE9sactiv\xE9:",a.buteur)))})}}isGoalDisabled(e){return this.selectedMatch?this.disabledGoals.some(n=>n.matchId===this.selectedMatch.id&&n.buteurIndex===e):!1}isGoalDisabledForMatch(e,n){return this.disabledGoals.some(r=>r.matchId===e.id&&r.buteurIndex===n)}maintainScoreConsistency(){if(!this.selectedMatch)return;console.log("maintainScoreConsistency() appel\xE9e");let e=this.getActiveGoalsCount(1),n=this.getActiveGoalsCount(2);console.log("Buts actifs actuels:",{team1:e,team2:n}),console.log("Scores actuels:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2}),this.selectedMatch.score1!==e&&(console.log(`Incoh\xE9rence \xE9quipe 1: score=${this.selectedMatch.score1}, buts actifs=${e}`),this.handleTeamScoreChange(1,this.selectedMatch.score1,e)),this.selectedMatch.score2!==n&&(console.log(`Incoh\xE9rence \xE9quipe 2: score=${this.selectedMatch.score2}, buts actifs=${n}`),this.handleTeamScoreChange(2,this.selectedMatch.score2,n))}getActiveGoalsCount(e){return this.selectedMatch?this.selectedMatch.buteurs.filter((n,i)=>n.equipe===e&&!this.isGoalDisabled(i)).length:0}getActiveGoalsCountForMatch(e,n){return e.buteurs.filter((i,r)=>i.equipe===n&&!this.isGoalDisabledForMatch(e,r)).length}showLocalStorageData(){let e=localStorage.getItem("footballMatches");this.localStorageData=e?JSON.parse(e):"Aucune donn\xE9e trouv\xE9e.",this.showingLocalStorageData=!0}hideLocalStorageData(){this.showingLocalStorageData=!1}toggleDeleteButtons(){this.showDeleteButtons=!this.showDeleteButtons}updateEditFilteredTeams1(){let e=this.editTeam1Search.toLowerCase();if(e.length<3){this.editFilteredTeams1=[];return}this.editFilteredTeams1=this.teams.map(n=>n.name).filter(n=>n.toLowerCase().includes(e)).filter(n=>n!==this.matchEditForm.value.equipe2)}updateEditFilteredTeams2(){let e=this.editTeam2Search.toLowerCase();if(e.length<3){this.editFilteredTeams2=[];return}this.editFilteredTeams2=this.teams.map(n=>n.name).filter(n=>n.toLowerCase().includes(e)).filter(n=>n!==this.matchEditForm.value.equipe1)}selectEditTeam1(e){this.matchEditForm.patchValue({equipe1:e}),this.editTeam1Search=e,this.editFilteredTeams1=[]}selectEditTeam2(e){this.matchEditForm.patchValue({equipe2:e}),this.editTeam2Search=e,this.editFilteredTeams2=[]}updateEditFilteredCompetitions(){let e=this.editCompetitionSearch.toLowerCase();if(e.length<3){this.editFilteredCompetitions=[];return}let n=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.editFilteredCompetitions=n.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectEditCompetition(e){this.matchEditForm.patchValue({competition:e}),this.editCompetitionSearch=e,this.editFilteredCompetitions=[]}getTeamNames(){return this.teams.map(e=>e.name)}getCompetitionNames(){return Array.from(new Set(this.matches.map(e=>e.competition).filter(e=>!!e)))}updateFilteredButeurNames(){let e=this.buteurForm.get("equipe")?.value,n=(this.buteurNameSearch||"").toLowerCase();if(!e||n.length<3){this.filteredButeurNames=[];return}this.filteredButeurNames=this.getTeamPlayers(e).map(i=>i.name).filter(i=>i.toLowerCase().includes(n))}selectButeurName(e){this.buteurNameSearch=e,this.buteurForm.get("nom")?.setValue(e),this.filteredButeurNames=[]}updateFilteredAssistNames(){let e=this.buteurForm.get("equipe")?.value,n=this.buteurForm.get("nom")?.value,i=(this.assistSearch||"").toLowerCase();if(!e||i.length<3){this.filteredAssistNames=[];return}this.filteredAssistNames=this.getTeamPlayers(e).map(r=>r.name).filter(r=>r!==n).filter(r=>r.toLowerCase().includes(i))}selectAssistName(e){this.assistSearch=e,this.buteurForm.get("assist")?.setValue(e),this.filteredAssistNames=[]}onButeurEquipeChange(){this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.buteurForm.get("nom")?.setValue(""),this.buteurForm.get("assist")?.setValue("")}gererOuvertureFermetureButeurForm(e){e?(this.buteurNameSearch=this.buteurForm.get("nom")?.value||"",this.assistSearch=this.buteurForm.get("assist")?.value||""):(this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[])}shouldShowCreateButeur(){let e=this.buteurForm.get("equipe")?.value,n=this.buteurNameSearch;if(!e||!n||n.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredButeurNames.length===0&&!i.includes(n)}shouldShowCreateAssist(){let e=this.buteurForm.get("equipe")?.value,n=this.assistSearch;if(!e||!n||n.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredAssistNames.length===0&&!i.includes(n)}shouldShowCreateTeam1(){let e=this.team1Search;if(!e||e.length<3)return!1;let n=this.getTeamNames();return this.filteredTeams1.length===0&&!n.includes(e)}shouldShowCreateTeam2(){let e=this.team2Search;if(!e||e.length<3)return!1;let n=this.getTeamNames();return this.filteredTeams2.length===0&&!n.includes(e)}shouldShowCreateCompetition(){let e=this.competitionSearch;if(!e||e.length<3)return!1;let n=this.getCompetitionNames();return this.filteredCompetitions.length===0&&!n.includes(e)}deleteTeam(e){let n=this.matches.filter(i=>i.equipe1===e||i.equipe2===e);if(n.length>0){if(!confirm(`L'\xE9quipe "${e}" est impliqu\xE9e dans ${n.length} match(s).
Supprimer aussi ces matchs ?`))return;this.matches=this.matches.filter(r=>r.equipe1!==e&&r.equipe2!==e)}else if(!confirm(`Supprimer d\xE9finitivement l'\xE9quipe "${e}" ?`))return;this.teams=this.teams.filter(i=>i.name!==e),this.saveData(),this.selectedTeamFilter===e&&(this.selectedTeamFilter="")}get filteredSeasonsForModal(){let e=new Set;for(let i of this.matches)if(i.competition&&i.competition.trim()!==""){let r=this.getSeasonFromDate(i.heureDebut);r&&e.add(r)}let n=this.getCurrentSeason();return e.add(n),Array.from(e).sort((i,r)=>{let o=parseInt(i.split("-")[0]);return parseInt(r.split("-")[0])-o})}static{this.\u0275fac=function(n){return new(n||t)(q(uI),q(Rs))}}static{this.\u0275cmp=Di({type:t,selectors:[["app-root"]],standalone:!0,features:[Mi],decls:52,vars:26,consts:[[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lead","text-muted","mb-0"],[1,"btn","btn-link","ms-2",3,"click"],[1,"fas","fa-question-circle","text-warning"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","btn mt-2",3,"ngClass","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","disabled","click",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[3,"competitions","selectedSeason","availableSeasons","selectedCompetition","isCompetitionWithoutSeason","getSuggestedSeason","showDeleteButtons","seasonChanged","competitionSelected","competitionAdded","competitionUpdated","competitionDeleted","assignSeason","closeModal",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration","style","margin-top: -100px;",4,"ngIf"],["class","disposition-modal",4,"ngIf"],["class","modal-overlay edit-players-overlay",4,"ngIf"],["class","modal fade show","tabindex","-1","style","display:block; background:rgba(0,0,0,0.5);",4,"ngIf"],["tabindex","-1","role","dialog",1,"modal","fade","action-selection-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"text-muted","mb-3"],[1,"row","g-2"],["class","col-6",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-plus-circle","text-white"],[3,"hidden"],[1,"fas","fa-users","text-white"],[1,"btn","mt-2",3,"click","ngClass"],[1,"fas","fa-trophy","text-white"],[1,"text-white"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden"],[1,"fas","fa-list-ol"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden","disabled"],[1,"fas",3,"ngClass"],[1,"modal-overlay"],[1,"team-modal"],[1,"fas","fa-users","me-2"],["type","button","aria-label","Fermer",1,"close-button",3,"click"],["aria-hidden","true"],[1,"team-item","mb-2"],[1,"team-card"],[1,"team-info"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"badge","bg-secondary"],[4,"ngIf"],[1,"team-actions"],["class","team-item mb-2",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","me-auto",3,"click"],[1,"fas","fa-plus-circle","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],["for","'team-' + team.name",1,"form-check-label"],[1,"badge","team-badge"],[1,"text-muted","ms-2"],["title","Modifier l'\xE9quipe",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["class","btn btn-sm btn-outline-danger","title","Supprimer l'\xE9quipe",3,"click",4,"ngIf"],["title","Supprimer l'\xE9quipe",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[3,"seasonChanged","competitionSelected","competitionAdded","competitionUpdated","competitionDeleted","assignSeason","closeModal","competitions","selectedSeason","availableSeasons","selectedCompetition","isCompetitionWithoutSeason","getSuggestedSeason","showDeleteButtons"],[1,"match-modal"],[1,"fas","fa-futbol","me-2"],[3,"ngSubmit","formGroup"],[1,"row",2,"width","100%","margin","0 auto","padding","5px","border-radius","8px","background","linear-gradient(to top, rgba(0,0,0,0.05) 0%, transparent 70%)"],[1,"col-md-6"],[1,"mb-2","position-relative"],["for","equipe1",1,"form-label"],["id","equipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe1"],["class","list-group position-absolute w-100",4,"ngIf"],["class","mt-1",4,"ngIf"],["for","equipe2",1,"form-label"],["id","equipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe2"],[1,"mb-2"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["for","competition",1,"form-label","text-muted"],["id","competition","type","text","placeholder","Rechercher ou cr\xE9er une comp\xE9tition...","name","competitionSearch","autocomplete","off",1,"form-control","form-control-sm",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","competition"],[1,"d-flex","gap-2","ms-2","mt-2"],["type","submit",1,"btn","btn-primary","px-4"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-auto"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"list-group","position-absolute","w-100"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"mt-1"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"mt-4"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"match-details"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],["title","Afficher/Masquer les d\xE9tails",1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"fas","text-secondary",3,"ngClass"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn",3,"click","ngClass"],["class","match-scorers",4,"ngIf"],["class","match-actions d-flex gap-2 justify-content-center mt-3",4,"ngIf"],[1,"mx-2"],[1,"badge",3,"ngClass"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"buteur-equipe","disabled-scorer"],[1,"minutes-list","right-team"],[1,"buteur-equipe","duel-equipe"],[1,"buteur-equipe","dribble-equipe"],[1,"buteur-equipe","interception-equipe"],[1,"buteur-equipe","frappe-equipe"],[1,"buteur-equipe","faute-equipe"],[1,"buteur-equipe","contre-attaque-equipe"],[1,"buteur-equipe","tiki-taka-equipe"],[1,"match-actions","d-flex","gap-2","justify-content-center","mt-3"],["title","Ajouter un but",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-futbol"],["title","Disposition tactique",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-tshirt"],["title","Modifier le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],["title","Partager le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click","disabled"],[1,"ms-1"],[1,"score-modal"],[1,"score-modal-content"],[1,"close-button",2,"position","absolute","right","0","top","O","transform","translateY(-45%)",3,"click"],[2,"text-align","center"],[1,"fas","fa-futbol","me-2",2,"color","#27ae60"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center",3,"click","ngClass"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"row"],[1,"col-sm-6"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],["class","duels-list mb-3",4,"ngIf"],["class","player-selector",4,"ngIf"],[1,"mt-3"],[1,"score-info",2,"font-size","0.7em","opacity","0.8"],[1,"d-flex","align-items-center","justify-content-center","gap-1"],["type","number","min","0","onkeypress","return event.charCode >= 48",1,"form-control","form-control-sm",2,"width","42px","text-align","center","padding","2px 4px",3,"ngModelChange","input","ngModel"],["tabindex","-1",1,"score-modal"],[1,"modal-dialog"],["type","button",1,"btn-close",3,"click"],[1,"row","g-3"],[1,"col-md-5","position-relative"],[1,"form-label","small"],["type","text","placeholder","Nom du buteur","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","nom"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control"],[1,"col-md-4"],["formControlName","equipe",1,"form-select",3,"change"],[3,"value"],[1,"col-md-12","position-relative"],["type","text","placeholder","Nom du passeur (optionnel)","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","assist"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],["class","fas fa-futbol me-1",4,"ngIf"],["class","fas fa-shield me-1",4,"ngIf"],["class","fas fa-arrows-alt-h me-1",4,"ngIf"],[1,"fas","fa-futbol","me-1"],[1,"fas","fa-shield","me-1"],[1,"fas","fa-arrows-alt-h","me-1"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",3,"ngClass"],[1,"flex-grow-1"],[3,"ngClass"],[1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"duels-list","mb-3"],[1,"section-header"],["class","duel-item",4,"ngFor","ngForOf"],[1,"duel-item"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",2,"border-color","#28a745 !important"],[2,"color","#28a745"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",2,"border-color","#17a2b8 !important"],[2,"color","#17a2b8"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",2,"border-color","#6f42c1 !important"],[2,"color","#6f42c1"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",2,"border-color","#fd7e14 !important"],[2,"color","#fd7e14"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",2,"border-color","#dc3545 !important"],[2,"color","#dc3545"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",2,"border-color","#20c997 !important"],[2,"color","#20c997"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",2,"border-color","#6c757d !important"],[2,"color","#6c757d"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],[1,"match-edit-modal"],[1,"close-button",3,"click"],[1,"fas","fa-calendar-days","me-2",2,"color","#27ae60"],[1,"form-group"],["for","equipe1"],[1,"position-relative"],["id","editEquipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","equipe2"],["id","editEquipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["for","competition",1,"form-label"],["id","editCompetition","type","text","placeholder","Championnat, tournoi, amical...","name","editCompetitionSearch","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],[1,"button-group","mt-3"],["type","submit",1,"btn","btn-primary",3,"click"],["class","btn btn-danger float-end","style","float: right;",3,"click",4,"ngIf"],[1,"btn","btn-danger","float-end",2,"float","right",3,"click"],[1,"goal-celebration",2,"margin-top","-100px"],[1,"celebration-content",2,"width","300px"],[1,"goal-text",2,"transform","scale(1.5)"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],["class","assist-section mt-3",4,"ngIf"],["class","button-group mt-2",4,"ngIf"],[1,"dot"],[1,"assist-section","mt-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"button-group","mt-2"],[1,"btn","btn-primary",3,"click"],["class","btn btn-outline-danger ms-2",3,"click",4,"ngIf"],[3,"value","disabled"],[1,"btn","btn-outline-danger","ms-2",3,"click"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"fas","fa-tshirt","me-2",2,"color","#27ae60"],[1,"disposition-controls","mb-3"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"encoding-controls","mt-2"],["role","group",1,"btn-group"],["title","Activer/d\xE9sactiver l'encodage des buts",1,"btn","btn-sm",3,"click"],["title","Activer/d\xE9sactiver l'encodage des duels gagn\xE9s",1,"btn","btn-sm",3,"click"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"],[1,"form-check","mb-2"],["type","checkbox","id","txtFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","txtFormat",1,"form-check-label"],["type","checkbox","id","csvFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","csvFormat",1,"form-check-label"],["type","checkbox","id","jsonFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","jsonFormat",1,"form-check-label"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-unstyled"],[1,"fas","fa-plus-circle","text-primary"],[1,"fas","fa-futbol","text-primary"],[1,"fas","fa-users","text-primary"],[1,"fas","fa-share-alt","text-primary"],[1,"fas","fa-download","text-primary"],[1,"fas","fa-upload","text-primary"],["type","button","class","btn btn-info me-auto",3,"click",4,"ngIf"],["type","button","class","btn btn-warning me-auto",3,"click",4,"ngIf"],["type","button",1,"btn",3,"click","ngClass"],["class","p-3 bg-light border mt-2","style","max-height: 300px; overflow: auto; font-size: 0.95em;",4,"ngIf"],["type","button",1,"btn","btn-info","me-auto",3,"click"],["type","button",1,"btn","btn-warning","me-auto",3,"click"],[1,"p-3","bg-light","border","mt-2",2,"max-height","300px","overflow","auto","font-size","0.95em"],[1,"ranking-modal"],[1,"fas","fa-list-ol","me-2"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[1,"px-1"],[1,"px-1",3,"ngClass"],[1,"modal-overlay","edit-players-overlay"],[1,"edit-players-modal"],[1,"fas","fa-users-cog","me-2"],[1,"players-list","mb-4"],[1,"fas","fa-list","me-2"],["class","player-item mb-2",4,"ngFor","ngForOf"],[1,"add-player-section"],[1,"add-player-form"],[1,"input-group"],["placeholder","Nom du nouveau joueur...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"type-selector"],["class","fas fa-futbol type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],[1,"fas","fa-plus","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-save","me-2"],[1,"player-item","mb-2"],[1,"player-card"],[1,"player-info"],[1,"player-type-icon"],["placeholder","Nom du joueur",1,"form-control","player-name-input",3,"ngModelChange","ngModel"],["class","badge bg-primary ms-2 goals-badge",3,"click",4,"ngIf"],[1,"player-actions"],["class","btn btn-sm btn-outline-danger","title","Supprimer le joueur",3,"click",4,"ngIf"],["title","Changer le type (Attaquant)",1,"fas","fa-futbol","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield","type-icon","type-icon-clickable",3,"click"],[1,"badge","bg-primary","ms-2","goals-badge",3,"click"],["title","Supprimer le joueur",1,"btn","btn-sm","btn-outline-danger",3,"click"],["tabindex","-1",1,"modal","fade","show",2,"display","block","background","rgba(0,0,0,0.5)"],["type","button","aria-label","Fermer",1,"btn-close",3,"click"],["class","mb-2",4,"ngFor","ngForOf"],["class","small text-muted",4,"ngIf"],[1,"fas","fa-calendar-alt","me-1"],[1,"ms-2"],[1,"fas","fa-stopwatch"],[1,"small","text-muted"],[1,"form-label"],["placeholder","Nom de l'\xE9quipe",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"mb-2","fw-bold"],["class","d-flex align-items-center mb-2 gap-2",4,"ngFor","ngForOf"],[1,"btn","btn-link","p-0","mt-1",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"d-flex","align-items-center","mb-2","gap-2"],["placeholder","Nom du joueur",1,"form-control","form-control-sm",2,"min-width","150px","flex","1",3,"ngModelChange","ngModel","ngModelOptions"],[1,"form-select","form-select-sm",2,"max-width","120px",3,"ngModelChange","ngModel","ngModelOptions"],["value","attaquant"],["value","milieu"],["value","defenseur"],["class","btn btn-outline-danger btn-sm",3,"disabled","click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"col-6"],[1,"btn","btn-outline-primary","w-100","mb-2",3,"click"],["class","fas fa-futbol me-2",4,"ngIf"],["class","fas fa-shield-alt me-2",4,"ngIf"],["class","fas fa-running me-2",4,"ngIf"],["class","fas fa-hand-paper me-2",4,"ngIf"],["class","fas fa-bullseye me-2",4,"ngIf"],["class","fas fa-exclamation-triangle me-2",4,"ngIf"],["class","fas fa-bolt me-2",4,"ngIf"],["class","fas fa-exchange-alt me-2",4,"ngIf"],[1,"fas","fa-shield-alt","me-2"],[1,"fas","fa-running","me-2"],[1,"fas","fa-hand-paper","me-2"],[1,"fas","fa-bullseye","me-2"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"fas","fa-bolt","me-2"],[1,"fas","fa-exchange-alt","me-2"]],template:function(n,i){n&1&&(f(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span",3),g(4,"BUUUT"),d(),f(5,"span",4),g(6,".be"),d()(),f(7,"div",5)(8,"p",6),g(9,"Immortalisez vos matchs!"),d(),f(10,"button",7),I("click",function(){return i.showHelpModal=!0}),E(11,"i",8),d()()(),f(12,"div",9),w(13,Z5,4,1,"button",10)(14,X5,4,1,"button",10)(15,eU,4,2,"button",11)(16,tU,3,6,"button",12)(17,nU,3,8,"button",13)(18,sU,28,4,"div",14)(19,aU,1,7,"app-competition-filter-modal",15),d(),w(20,_U,61,16,"div",14)(21,e$,4,1,"div",16)(22,K$,50,23,"div",17)(23,o9,44,17,"div",18)(24,f9,14,11,"div",19)(25,Lq,101,53,"div",20)(26,jq,25,4,"div",17)(27,qq,50,6,"div",17)(28,zq,40,2,"div",14),d(),E(29,"router-outlet"),w(30,t6,36,6,"div",21)(31,o6,8,2,"div",22)(32,c6,22,5,"div",22),f(33,"div",23)(34,"div",24)(35,"div",25)(36,"div",26)(37,"h5",27),g(38,"S\xE9lectionner une action"),d(),f(39,"button",28),I("click",function(){return i.cancelActionSelection()}),d()(),f(40,"div",29)(41,"p",30)(42,"strong"),g(43),d(),g(44),d(),f(45,"p",31),g(46,"Choisissez l'action \xE0 enregistrer :"),d(),f(47,"div",32),w(48,_6,12,13,"div",33),d()(),f(49,"div",34)(50,"button",35),I("click",function(){return i.cancelActionSelection()}),g(51,"Annuler"),d()()()()()),n&2&&(u(13),m("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),u(),m("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),u(),m("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm),u(),m("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm&&i.selectedCompetitionFilter&&!i.selectedCompetitionFilter.includes("-")),u(),m("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm&&!i.selectedCompetitionFilter.includes("-")),u(),m("ngIf",i.showTeamFilterModal),u(),m("ngIf",i.showCompetitionFilterModal),u(),m("ngIf",i.showMatchForm),u(),m("ngIf",i.filteredMatches.length>0),u(),m("ngIf",i.selectedMatch&&i.showScoreForm),u(),m("ngIf",i.selectedMatch&&i.showMatchEditForm),u(),m("ngIf",i.showCelebration&&i.celebrationConfig),u(),m("ngIf",i.showDispositionModal&&i.selectedMatch),u(),m("ngIf",i.showExportModal),u(),m("ngIf",i.showHelpModal),u(),m("ngIf",i.showRankingModal),u(2),m("ngIf",i.showEditPlayersModal&&i.teamToEdit&&i.teamToEdit.players),u(),m("ngIf",i.selectedPlayerGoalsModal),u(),m("ngIf",i.showNewTeamModal),u(),Zs("display",i.showActionSelectionModal?"block":"none"),xe("show",i.showActionSelectionModal),u(10),te(i.pendingActionPlayer),u(),x(" - ",i.pendingActionTeam===1?i.selectedMatch==null?null:i.selectedMatch.equipe1:i.selectedMatch==null?null:i.selectedMatch.equipe2," "),u(4),m("ngForOf",i.availableActions))},dependencies:[br,iE,Fo,Vo,sE,oE,Eu,dI,rI,Gu,zu,$o,Gm,jm,Go,zm,$u,JE,Jm,Ym,Qm,Hm,Wm,Hu,fa,r1,Rg,s1],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:scale(1.1)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:.5rem;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #4b29b967}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{position:fixed;top:10px;left:0;width:100%;height:calc(100% - 10px);display:flex;justify-content:center;align-items:flex-start;z-index:1070;padding:0;overflow-y:auto}.score-modal-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1000px;margin:1.75rem auto;background:#fff;border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026;padding:.2rem;outline:0;overflow-y:auto;animation:_ngcontent-%COMP%_fadeIn .3s}.modal-body[_ngcontent-%COMP%]{overflow-y:auto}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.match-duels[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.5rem;margin-top:.5rem}.team-duels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.duels-column[_ngcontent-%COMP%]{flex:1;max-width:50%}.duels-column.left[_ngcontent-%COMP%]{text-align:left}.duels-column.right[_ngcontent-%COMP%]{text-align:right}.duel-equipe[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.duel-equipe[_ngcontent-%COMP%]   .minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4b29b900}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.team-scorers[_ngcontent-%COMP%]{gap:1rem}.scorers-column[_ngcontent-%COMP%]{padding:0 .5rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:solid #3498db;width:99%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.buteur-team1[_ngcontent-%COMP%]{color:#3498db}.buteur-team2[_ngcontent-%COMP%]{color:#27ae60}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:90%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:0 1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%], .duel-equipe[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#191137e6,#40327bcc);padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-controls[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.encoding-controls[_ngcontent-%COMP%]{margin-top:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;font-size:.8rem;padding:.375rem .75rem}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:8px;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:.5rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:1000px;width:98%;overflow-y:auto}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}.share-icon[_ngcontent-%COMP%]{color:#3498db;font-size:1.2em;margin-right:.5rem;transition:transform .3s ease;display:inline-block;transform:scaleX(-1)}.share-icon[_ngcontent-%COMP%]:hover{transform:scaleX(-1) scale(1.2);color:#2980b9}.badge-pastel-primary[_ngcontent-%COMP%]{background-color:#b3d1ff;color:#2c3e50}.badge-pastel-secondary[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#2c3e50}.badge-pastel-success[_ngcontent-%COMP%]{background-color:#b3ffb3;color:#2c3e50}.badge-pastel-danger[_ngcontent-%COMP%]{background-color:#ffb3b3;color:#2c3e50}.badge-pastel-warning[_ngcontent-%COMP%]{background-color:#ffe6b3;color:#2c3e50}.badge-pastel-info[_ngcontent-%COMP%]{background-color:#b3e6ff;color:#2c3e50}.badge-pastel-dark[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#2c3e50}.badge-pastel-purple[_ngcontent-%COMP%]{background-color:#e6b3ff;color:#2c3e50}.badge-pastel-pink[_ngcontent-%COMP%]{background-color:#ffb3e6;color:#2c3e50}.badge-pastel-teal[_ngcontent-%COMP%]{background-color:#b3ffe6;color:#2c3e50}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{font-size:1.3em;margin:0 .2em;cursor:pointer;color:#bbb;transition:color .2s,background .2s,border .2s;border-radius:50%;padding:.2em .3em}.type-icons[_ngcontent-%COMP%]   .type-icon.active-type[_ngcontent-%COMP%]{color:#fff;background:#3498db;border:2px solid #3498db}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]:hover{color:#3498db;background:#eaf6ff}.type-icon.type-icon-clickable[_ngcontent-%COMP%]{font-size:1em;color:#fff;background:#3498db;border:2px solid #3498db;border-radius:25%;padding:.25em .35em;margin-right:.5em;box-shadow:0 2px 8px #3498db40;cursor:pointer;transition:transform .1s,box-shadow .2s,background .2s;outline:2px solid #fff;outline-offset:2px}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:hover{background:#217dbb;color:#fff;box-shadow:0 4px 16px #3498db59;transform:scale(1.12) rotate(-8deg)}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:active{background:#176093;transform:scale(.95) rotate(4deg);box-shadow:0 2px 8px #3498db26}.list-group.position-absolute[_ngcontent-%COMP%]{z-index:1050;background:#fff;border:1px solid #ddd;box-shadow:0 2px 8px #00000014;max-height:220px;overflow-y:auto}.disabled-goal[_ngcontent-%COMP%]{opacity:.5;background-color:#f8f9fa;border-color:#dee2e6!important}.disabled-goal[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-decoration:line-through;color:#6c757d!important}.disabled-goal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{opacity:.8}.disabled-scorer[_ngcontent-%COMP%]{opacity:.5;text-decoration:line-through;color:#6c757d!important}.disabled-scorer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through}.score-modal[_ngcontent-%COMP%], .match-edit-modal[_ngcontent-%COMP%], .disposition-modal[_ngcontent-%COMP%], .modal.fade.show[_ngcontent-%COMP%], .modal[style*="display:block"][_ngcontent-%COMP%]{background:#00000080!important}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1040;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.edit-players-overlay[_ngcontent-%COMP%]{z-index:1055!important}.team-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:600px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.match-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:800px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.ranking-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:1000px;width:95%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.team-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.team-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .match-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .ranking-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.team-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.team-item[_ngcontent-%COMP%]{transition:all .3s ease}.team-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.team-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.team-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0}.team-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.team-badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem;border-radius:20px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}@media (max-width: 768px){.team-modal[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.team-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;text-align:left;min-height:55px}.team-actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-end;gap:.5rem;flex-shrink:0}.team-info[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.team-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}@media (max-width: 480px){.team-card[_ngcontent-%COMP%]{flex-direction:row;text-align:left;min-height:50px;padding:.75rem}.team-actions[_ngcontent-%COMP%]{justify-content:flex-end;width:auto;gap:.4rem}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.team-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.team-modal[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.edit-players-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:700px;width:90%;max-height:90vh;overflow:hidden;z-index:1060;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.edit-players-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.edit-players-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.edit-players-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.edit-players-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.edit-players-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.players-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .add-player-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.player-item[_ngcontent-%COMP%]{transition:all .3s ease}.player-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.player-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.player-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0;gap:.75rem}.player-type-icon[_ngcontent-%COMP%]{flex-shrink:0}.player-name-input[_ngcontent-%COMP%]{flex:1;min-width:0;max-width:200px}.goals-badge[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer;transition:all .3s ease}.goals-badge[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.player-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.add-player-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:1.5rem;border-radius:10px;border:1px solid #dee2e6}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;min-width:0}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1;min-width:0;border:2px solid #e9ecef;border-radius:8px;padding:.75rem;transition:border-color .3s ease,box-shadow .3s ease;width:auto}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.type-selector[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;border-radius:8px;transition:all .3s ease;flex-shrink:0}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.action-selection-modal[_ngcontent-%COMP%]{z-index:9999!important}.action-selection-modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{z-index:10000!important}.action-selection-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{z-index:10001!important}@media (max-width: 768px){.edit-players-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.player-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;min-height:55px}.player-actions[_ngcontent-%COMP%]{gap:.5rem}.player-name-input[_ngcontent-%COMP%]{max-width:150px}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:200px}}@media (max-width: 480px){.player-card[_ngcontent-%COMP%]{min-height:50px;padding:.75rem}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.player-name-input[_ngcontent-%COMP%]{max-width:120px}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:100%}.type-selector[_ngcontent-%COMP%]{justify-content:center}}.btn-score-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 14px #10b98163;transition:all .3s ease}.btn-score-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-2px);box-shadow:0 6px 20px #10b98180}.btn-score-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 14px #ef444463;transition:all .3s ease}.btn-score-danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c);transform:translateY(-2px);box-shadow:0 6px 20px #ef444480}.btn-score-light[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border:2px solid #d1d5db;box-shadow:0 2px 8px #0000001a;transition:all .3s ease}.btn-score-light[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e5e7eb,#d1d5db);transform:translateY(-1px);box-shadow:0 4px 12px #00000026}']})}};var uS=(()=>{class t{constructor(n){this.http=n,this.apiUrl="http://localhost:3000/api/matches"}createMatch(n){return this.http.post(this.apiUrl,n)}getAllMatches(){return this.http.get(this.apiUrl)}getMatchById(n){return this.http.get(`${this.apiUrl}/${n}`)}updateMatch(n,i){return this.http.put(`${this.apiUrl}/${n}`,i)}deleteMatch(n){return this.http.delete(`${this.apiUrl}/${n}`)}static{this.\u0275fac=function(i){return new(i||t)(B(Dm))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function v6(t,e){if(t&1&&(f(0,"span"),g(1),d()),t&2){let n=_().$implicit;u(),x("(Assist: ",n.assist,")")}}function y6(t,e){if(t&1&&(f(0,"div",5)(1,"p"),g(2),w(3,v6,2,1,"span",6),d()()),t&2){let n=e.$implicit;u(2),Xe(" ",n.nom," (",n.minute,"') "),u(),m("ngIf",n.assist)}}function w6(t,e){if(t&1&&(f(0,"div",1)(1,"h2"),g(2),d(),f(3,"div",2)(4,"p"),g(5),vr(6,"date"),d(),f(7,"p"),g(8),d(),f(9,"p"),g(10),d()(),f(11,"div",3)(12,"h3"),g(13,"Buteurs"),d(),w(14,y6,4,3,"div",4),d()()),t&2){let n=_();u(2),Xe("",n.match.equipe1," vs ",n.match.equipe2,""),u(3),x("Date: ",Xs(6,7,n.match.heureDebut,"medium"),""),u(3),x("Lieu: ",n.match.lieu,""),u(2),Xe("Score: ",n.match.score1," - ",n.match.score2,""),u(4),m("ngForOf",n.match.buteurs)}}var dS=(()=>{class t{constructor(n,i){this.route=n,this.firestoreService=i,this.match=null}ngOnInit(){this.route.params.subscribe(n=>{let i=n.id;i&&this.loadMatch(i)})}loadMatch(n){return T(this,null,function*(){try{this.match=yield this.firestoreService.getMatchById(n)}catch(i){console.error("Erreur lors du chargement du match:",i)}})}static{this.\u0275fac=function(i){return new(i||t)(q(li),q(Rs))}}static{this.\u0275cmp=Di({type:t,selectors:[["app-match-detail"]],standalone:!0,features:[Mi],decls:1,vars:1,consts:[["class","match-detail",4,"ngIf"],[1,"match-detail"],[1,"match-info"],[1,"buteurs"],["class","buteur",4,"ngFor","ngForOf"],[1,"buteur"],[4,"ngIf"]],template:function(i,r){i&1&&w(0,w6,15,10,"div",0),i&2&&m("ngIf",r.match)},dependencies:[br,Fo,Vo,Eu],styles:[".match-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.match-info[_ngcontent-%COMP%]{margin:20px 0}.buteurs[_ngcontent-%COMP%]{margin-top:20px}.buteur[_ngcontent-%COMP%]{margin:10px 0}"]})}}return t})();var hS=[{path:"match/:id",component:dS}];var fS={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var pS={providers:[XI(hS),Rs,Pp(R1(()=>N1(fS.firebaseConfig)),rS(()=>oS()))]};IE(Jh,{providers:[...pS.providers,gE(),uS]}).catch(t=>console.error(t));
