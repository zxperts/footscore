var TS=Object.defineProperty,xS=Object.defineProperties;var DS=Object.getOwnPropertyDescriptors;var Fy=Object.getOwnPropertySymbols;var SS=Object.prototype.hasOwnProperty,AS=Object.prototype.propertyIsEnumerable;var Vy=(n,e,t)=>e in n?TS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,P=(n,e)=>{for(var t in e||={})SS.call(e,t)&&Vy(n,t,e[t]);if(Fy)for(var t of Fy(e))AS.call(e,t)&&Vy(n,t,e[t]);return n},H=(n,e)=>xS(n,DS(e));var I=(n,e,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(l){r(l)}},s=c=>{try{a(t.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Ly=null;var af=1,cf=Symbol("SIGNAL");function ve(n){let e=Ly;return Ly=n,e}var jy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function MS(n){if(!(df(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===af)){if(!n.producerMustRecompute(n)&&!lf(n)){n.dirty=!1,n.lastCleanEpoch=af;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=af}}function Uy(n){return n&&(n.nextProducerIndex=0),ve(n)}function By(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(df(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)uf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function lf(n){Bc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(MS(t),i!==t.version))return!0}return!1}function $y(n){if(Bc(n),df(n))for(let e=0;e<n.producerNode.length;e++)uf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function uf(n,e){if(PS(n),Bc(n),n.liveConsumerNode.length===1)for(let i=0;i<n.producerNode.length;i++)uf(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Bc(r),r.producerIndexOfThis[i]=e}}function df(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Bc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function PS(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function OS(){throw new Error}var RS=OS;function qy(n){RS=n}function Z(n){return typeof n=="function"}function no(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $c=no(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function or(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Z(i))try{i()}catch(o){e=o instanceof $c?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{zy(o)}catch(s){e=e??[],s instanceof $c?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $c(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zy(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&or(t,e)}remove(e){let{_finalizers:t}=this;t&&or(t,e),e instanceof n&&e._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();var hf=$e.EMPTY;function qc(n){return n instanceof $e||n&&"closed"in n&&Z(n.remove)&&Z(n.add)&&Z(n.unsubscribe)}function zy(n){Z(n)?n():n.unsubscribe()}var gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var io={setTimeout(n,e,...t){let{delegate:i}=io;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=io;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zc(n){io.setTimeout(()=>{let{onUnhandledError:e}=gn;if(e)e(n);else throw n})}function Vs(){}var Gy=ff("C",void 0,void 0);function Hy(n){return ff("E",void 0,n)}function Wy(n){return ff("N",n,void 0)}function ff(n,e,t){return{kind:n,value:e,error:t}}var sr=null;function ro(n){if(gn.useDeprecatedSynchronousErrorHandling){let e=!sr;if(e&&(sr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=sr;if(sr=null,t)throw i}}else n()}function Ky(n){gn.useDeprecatedSynchronousErrorHandling&&sr&&(sr.errorThrown=!0,sr.error=n)}var ar=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qc(e)&&e.add(this)):this.destination=FS}static create(e,t,i){return new oo(e,t,i)}next(e){this.isStopped?mf(Wy(e),this):this._next(e)}error(e){this.isStopped?mf(Hy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mf(Gy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},NS=Function.prototype.bind;function pf(n,e){return NS.call(n,e)}var gf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Gc(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Gc(i)}else Gc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Gc(t)}}},oo=class extends ar{constructor(e,t,i){super();let r;if(Z(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&gn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&pf(e.next,o),error:e.error&&pf(e.error,o),complete:e.complete&&pf(e.complete,o)}):r=e}this.destination=new gf(r)}};function Gc(n){gn.useDeprecatedSynchronousErrorHandling?Ky(n):zc(n)}function kS(n){throw n}function mf(n,e){let{onStoppedNotification:t}=gn;t&&io.setTimeout(()=>t(n,e))}var FS={closed:!0,next:Vs,error:kS,complete:Vs};var so=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ut(n){return n}function _f(...n){return vf(n)}function vf(n){return n.length===0?Ut:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=LS(t)?t:new oo(t,i,r);return ro(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Qy(i),new i((r,o)=>{let s=new oo({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[so](){return this}pipe(...t){return vf(t)(this)}toPromise(t){return t=Qy(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Qy(n){var e;return(e=n??gn.Promise)!==null&&e!==void 0?e:Promise}function VS(n){return n&&Z(n.next)&&Z(n.error)&&Z(n.complete)}function LS(n){return n&&n instanceof ar||VS(n)&&qc(n)}function yf(n){return Z(n?.lift)}function pe(n){return e=>{if(yf(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(n,e,t,i,r){return new wf(n,e,t,i,r)}var wf=class extends ar{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ao(){return pe((n,e)=>{let t=null;n._refCount++;let i=le(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var co=class extends ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,yf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let t=this.getSubject();e.add(this.source.subscribe(le(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return ao()(this)}};var Yy=no(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ct=(()=>{class n extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Hc(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Yy}next(t){ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?hf:(this.currentObservers=null,o.push(t),new $e(()=>{this.currentObservers=null,or(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new ce;return t.source=this,t}}return n.create=(e,t)=>new Hc(e,t),n})(),Hc=class extends Ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:hf}};var st=class extends Ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Cf={now(){return(Cf.delegate||Date).now()},delegate:void 0};var Wc=class extends $e{constructor(e,t){super()}schedule(e,t=0){return this}};var Ls={setInterval(n,e,...t){let{delegate:i}=Ls;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ls;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var lo=class extends Wc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Ls.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Ls.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,or(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var uo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};uo.now=Cf.now;var ho=class extends uo{constructor(e,t=uo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var bf=new ho(lo);var Kc=class extends lo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Qc=class extends ho{};var Ef=new Qc(Kc);var Bt=new ce(n=>n.complete());function Jy(n){return n&&Z(n.schedule)}function Zy(n){return n[n.length-1]}function Yc(n){return Z(Zy(n))?n.pop():void 0}function wi(n){return Jy(Zy(n))?n.pop():void 0}function If(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function ew(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(p){s(p)}}function c(u){try{l(i.throw(u))}catch(p){s(p)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}function Xy(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cr(n){return this instanceof cr?(this.v=n,this):new cr(n)}function tw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(C){return function(x){return Promise.resolve(x).then(C,p)}}function a(C,x){i[C]&&(r[C]=function(D){return new Promise(function(A,F){o.push([C,D,A,F])>1||c(C,D)})},x&&(r[C]=x(r[C])))}function c(C,x){try{l(i[C](x))}catch(D){w(o[0][3],D)}}function l(C){C.value instanceof cr?Promise.resolve(C.value.v).then(u,p):w(o[0][2],C)}function u(C){c("next",C)}function p(C){c("throw",C)}function w(C,x){C(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function nw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Xy=="function"?Xy(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Jc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Zc(n){return Z(n?.then)}function Xc(n){return Z(n[so])}function el(n){return Symbol.asyncIterator&&Z(n?.[Symbol.asyncIterator])}function tl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nl=jS();function il(n){return Z(n?.[nl])}function rl(n){return tw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield cr(t.read());if(r)return yield cr(void 0);yield yield cr(i)}}finally{t.releaseLock()}})}function ol(n){return Z(n?.getReader)}function ze(n){if(n instanceof ce)return n;if(n!=null){if(Xc(n))return US(n);if(Jc(n))return BS(n);if(Zc(n))return $S(n);if(el(n))return iw(n);if(il(n))return qS(n);if(ol(n))return zS(n)}throw tl(n)}function US(n){return new ce(e=>{let t=n[so]();if(Z(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BS(n){return new ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function $S(n){return new ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zc)})}function qS(n){return new ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function iw(n){return new ce(e=>{GS(n,e).catch(t=>e.error(t))})}function zS(n){return iw(rl(n))}function GS(n,e){var t,i,r,o;return ew(this,void 0,void 0,function*(){try{for(t=nw(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function At(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Ci(n,e=0){return pe((t,i)=>{t.subscribe(le(i,r=>At(i,n,()=>i.next(r),e),()=>At(i,n,()=>i.complete(),e),r=>At(i,n,()=>i.error(r),e)))})}function bi(n,e=0){return pe((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function rw(n,e){return ze(n).pipe(bi(e),Ci(e))}function ow(n,e){return ze(n).pipe(bi(e),Ci(e))}function sw(n,e){return new ce(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function aw(n,e){return new ce(t=>{let i;return At(t,e,()=>{i=n[nl](),At(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>Z(i?.return)&&i.return()})}function sl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ce(t=>{At(t,e,()=>{let i=n[Symbol.asyncIterator]();At(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function cw(n,e){return sl(rl(n),e)}function lw(n,e){if(n!=null){if(Xc(n))return rw(n,e);if(Jc(n))return sw(n,e);if(Zc(n))return ow(n,e);if(el(n))return sl(n,e);if(il(n))return aw(n,e);if(ol(n))return cw(n,e)}throw tl(n)}function ke(n,e){return e?lw(n,e):ze(n)}function W(...n){let e=wi(n);return ke(n,e)}function fo(n,e){let t=Z(n)?n:()=>n,i=r=>r.error(t());return new ce(e?r=>e.schedule(i,0,r):i)}function Tf(n){return!!n&&(n instanceof ce||Z(n.lift)&&Z(n.subscribe))}var Zn=no(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(n,e){return pe((t,i)=>{let r=0;t.subscribe(le(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:HS}=Array;function WS(n,e){return HS(e)?n(...e):n(e)}function al(n){return ie(e=>WS(n,e))}var{isArray:KS}=Array,{getPrototypeOf:QS,prototype:YS,keys:JS}=Object;function cl(n){if(n.length===1){let e=n[0];if(KS(e))return{args:e,keys:null};if(ZS(e)){let t=JS(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function ZS(n){return n&&typeof n=="object"&&QS(n)===YS}function ll(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function js(...n){let e=wi(n),t=Yc(n),{args:i,keys:r}=cl(n);if(i.length===0)return ke([],e);let o=new ce(XS(i,e,r?s=>ll(r,s):Ut));return t?o.pipe(al(t)):o}function XS(n,e,t=Ut){return i=>{uw(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)uw(e,()=>{let l=ke(n[c],e),u=!1;l.subscribe(le(i,p=>{o[c]=p,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function uw(n,e,t){n?At(t,n,e):e()}function dw(n,e,t,i,r,o,s,a){let c=[],l=0,u=0,p=!1,w=()=>{p&&!c.length&&!l&&e.complete()},C=D=>l<i?x(D):c.push(D),x=D=>{o&&e.next(D),l++;let A=!1;ze(t(D,u++)).subscribe(le(e,F=>{r?.(F),o?C(F):e.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<i;){let F=c.shift();s?At(e,s,()=>x(F)):x(F)}w()}catch(F){e.error(F)}}))};return n.subscribe(le(e,C,()=>{p=!0,w()})),()=>{a?.()}}function Ge(n,e,t=1/0){return Z(e)?Ge((i,r)=>ie((o,s)=>e(i,o,r,s))(ze(n(i,r))),t):(typeof e=="number"&&(t=e),pe((i,r)=>dw(i,r,n,t)))}function po(n=1/0){return Ge(Ut,n)}function hw(){return po(1)}function mo(...n){return hw()(ke(n,wi(n)))}function ul(n){return new ce(e=>{ze(n()).subscribe(e)})}function xf(...n){let e=Yc(n),{args:t,keys:i}=cl(n),r=new ce(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let p=!1;ze(t[u]).subscribe(le(o,w=>{p||(p=!0,l--),a[u]=w},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(i?ll(i,a):a),o.complete())}))}});return e?r.pipe(al(e)):r}function Mt(n,e){return pe((t,i)=>{let r=0;t.subscribe(le(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Ei(n){return pe((e,t)=>{let i=null,r=!1,o;i=e.subscribe(le(t,void 0,void 0,s=>{o=ze(n(s,Ei(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function fw(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(le(s,u=>{let p=l++;c=a?n(c,u,p):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Xn(n,e){return Z(e)?Ge(n,e,1):Ge(n,1)}function Ii(n){return pe((e,t)=>{let i=!1;e.subscribe(le(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ei(n){return n<=0?()=>Bt:pe((e,t)=>{let i=0;e.subscribe(le(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Df(n){return ie(()=>n)}function dl(n=eA){return pe((e,t)=>{let i=!1;e.subscribe(le(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function eA(){return new Zn}function lr(n){return pe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Mn(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Mt((r,o)=>n(r,o,i)):Ut,ei(1),t?Ii(e):dl(()=>new Zn))}function go(n){return n<=0?()=>Bt:pe((e,t)=>{let i=[];e.subscribe(le(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Sf(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Mt((r,o)=>n(r,o,i)):Ut,go(1),t?Ii(e):dl(()=>new Zn))}function Af(n,e){return pe(fw(n,e,arguments.length>=2,!0))}function Mf(...n){let e=wi(n);return pe((t,i)=>{(e?mo(n,t,e):mo(n,t)).subscribe(i)})}function Pt(n,e){return pe((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(le(i,c=>{r?.unsubscribe();let l=0,u=o++;ze(n(c,u)).subscribe(r=le(i,p=>i.next(e?e(c,p,u,l++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Pf(n){return pe((e,t)=>{ze(n).subscribe(le(t,()=>t.complete(),Vs)),!t.closed&&e.subscribe(t)})}function He(n,e,t){let i=Z(n)||e||t?{next:n,error:e,complete:t}:n;return i?pe((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(le(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Ut}var tA="https://g.co/ng/security#xss",U=class extends Error{constructor(e,t){super(Bl(e,t)),this.code=e}};function Bl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Zs(n){return{toString:n}.toString()}var hl="__parameters__";function nA(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function Zw(n,e,t){return Zs(()=>{let i=nA(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let p=c.hasOwnProperty(hl)?c[hl]:Object.defineProperty(c,hl,{value:[]})[hl];for(;p.length<=u;)p.push(null);return(p[u]=p[u]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var ti=globalThis;function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function iA(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Et(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Et).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function pw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var rA=Pe({__forward_ref__:Pe});function pt(n){return n.__forward_ref__=pt,n.toString=function(){return Et(this())},n}function bt(n){return Xw(n)?n():n}function Xw(n){return typeof n=="function"&&n.hasOwnProperty(rA)&&n.__forward_ref__===pt}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rt(n){return{providers:n.providers||[],imports:n.imports||[]}}function $l(n){return mw(n,tC)||mw(n,nC)}function eC(n){return $l(n)!==null}function mw(n,e){return n.hasOwnProperty(e)?n[e]:null}function oA(n){let e=n&&(n[tC]||n[nC]);return e||null}function gw(n){return n&&(n.hasOwnProperty(_w)||n.hasOwnProperty(sA))?n[_w]:null}var tC=Pe({\u0275prov:Pe}),_w=Pe({\u0275inj:Pe}),nC=Pe({ngInjectableDef:Pe}),sA=Pe({ngInjectorDef:Pe}),B=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=L({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function iC(n){return n&&!!n.\u0275providers}var aA=Pe({\u0275cmp:Pe}),cA=Pe({\u0275dir:Pe}),lA=Pe({\u0275pipe:Pe}),uA=Pe({\u0275mod:Pe}),wl=Pe({\u0275fac:Pe}),Us=Pe({__NG_ELEMENT_ID__:Pe}),vw=Pe({__NG_ENV_ID__:Pe});function Xt(n){return typeof n=="string"?n:n==null?"":String(n)}function dA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Xt(n)}function hA(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new U(-200,n)}function Lp(n,e){throw new U(-201,!1)}var se=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(se||{}),Kf;function rC(){return Kf}function Ot(n){let e=Kf;return Kf=n,e}function oC(n,e,t){let i=$l(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&se.Optional)return null;if(e!==void 0)return e;Lp(n,"Injector")}var fA={},Bs=fA,Qf="__NG_DI_FLAG__",Cl="ngTempTokenPath",pA="ngTokenPath",mA=/\n/gm,gA="\u0275",yw="__source",Co;function _A(){return Co}function Ti(n){let e=Co;return Co=n,e}function vA(n,e=se.Default){if(Co===void 0)throw new U(-203,!1);return Co===null?oC(n,void 0,e):Co.get(n,e&se.Optional?null:void 0,e)}function $(n,e=se.Default){return(rC()||vA)(bt(n),e)}function N(n,e=se.Default){return $(n,ql(e))}function ql(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Yf(n){let e=[];for(let t=0;t<n.length;t++){let i=bt(n[t]);if(Array.isArray(i)){if(i.length===0)throw new U(900,!1);let r,o=se.Default;for(let s=0;s<i.length;s++){let a=i[s],c=yA(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push($(r,o))}else e.push($(i))}return e}function sC(n,e){return n[Qf]=e,n.prototype[Qf]=e,n}function yA(n){return n[Qf]}function wA(n,e,t,i){let r=n[Cl];throw e[yw]&&r.unshift(e[yw]),n.message=CA(`
`+n.message,r,t,i),n[pA]=r,n[Cl]=null,n}function CA(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==gA?n.slice(2):n;let r=Et(e);if(Array.isArray(e))r=e.map(Et).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(mA,`
  `)}`}var $t=sC(Zw("Optional"),8);var zl=sC(Zw("SkipSelf"),4);function fr(n,e){let t=n.hasOwnProperty(wl);return t?n[wl]:null}function jp(n,e){n.forEach(t=>Array.isArray(t)?jp(t,e):e(t))}function aC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function bl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function bA(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function EA(n,e,t){let i=Xs(n,e);return i>=0?n[i|1]=t:(i=~i,bA(n,i,e,t)),i}function Of(n,e){let t=Xs(n,e);if(t>=0)return n[t|1]}function Xs(n,e){return IA(n,e,1)}function IA(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var Eo={},en=[],Io=new B(""),cC=new B("",-1),lC=new B(""),El=class{get(e,t=Bs){if(t===Bs){let i=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw i.name="NullInjectorError",i}return t}},uC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(uC||{}),Rn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Rn||{}),at=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(at||{});function TA(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Jf(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];DA(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function xA(n){return n===3||n===4||n===6}function DA(n){return n.charCodeAt(0)===64}function $s(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?ww(n,t,r,null,e[++i]):ww(n,t,r,null,null))}}return n}function ww(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var dC="ng-template";function SA(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&TA(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Up(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Up(n){return n.type===4&&n.value!==dC}function AA(n,e,t){let i=n.type===4&&!t?dC:n.value;return e===i}function MA(n,e,t){let i=4,r=n.attrs,o=r!==null?RA(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!_n(i)&&!_n(c))return!1;if(s&&_n(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!AA(n,c,t)||c===""&&e.length===1){if(_n(i))return!1;s=!0}}else if(i&8){if(r===null||!SA(n,r,c,t)){if(_n(i))return!1;s=!0}}else{let l=e[++a],u=PA(c,r,Up(n),t);if(u===-1){if(_n(i))return!1;s=!0;continue}if(l!==""){let p;if(u>o?p="":p=r[u+1].toLowerCase(),i&2&&l!==p){if(_n(i))return!1;s=!0}}}}return _n(i)||s}function _n(n){return(n&1)===0}function PA(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return NA(e,n)}function OA(n,e,t=!1){for(let i=0;i<e.length;i++)if(MA(n,e[i],t))return!0;return!1}function RA(n){for(let e=0;e<n.length;e++){let t=n[e];if(xA(t))return e}return n.length}function NA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function Cw(n,e){return n?":not("+e.trim()+")":e}function kA(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!_n(s)&&(e+=Cw(o,r),r=""),i=s,o=o||!_n(i);t++}return r!==""&&(e+=Cw(o,r)),e}function FA(n){return n.map(kA).join(",")}function VA(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!_n(r))break;r=o}i++}return{attrs:e,classes:t}}function Pi(n){return Zs(()=>{let e=gC(n),t=H(P({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===uC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Rn.Emulated,styles:n.styles||en,_:null,schemas:n.schemas||null,tView:null,id:""});_C(t);let i=n.dependencies;return t.directiveDefs=Ew(i,!1),t.pipeDefs=Ew(i,!0),t.id=UA(t),t})}function LA(n){return Di(n)||hC(n)}function jA(n){return n!==null}function Nt(n){return Zs(()=>({type:n.type,bootstrap:n.bootstrap||en,declarations:n.declarations||en,imports:n.imports||en,exports:n.exports||en,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function bw(n,e){if(n==null)return Eo;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=at.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==at.None?[i,a]:i,e[o]=s):t[o]=i}return t}function Te(n){return Zs(()=>{let e=gC(n);return _C(e),e})}function Bp(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Di(n){return n[aA]||null}function hC(n){return n[cA]||null}function fC(n){return n[lA]||null}function pC(n){let e=Di(n)||hC(n)||fC(n);return e!==null?e.standalone:!1}function mC(n,e){let t=n[uA]||null;if(!t&&e===!0)throw new Error(`Type ${Et(n)} does not have '\u0275mod' property.`);return t}function gC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Eo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||en,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bw(n.inputs,e),outputs:bw(n.outputs),debugInfo:null}}function _C(n){n.features?.forEach(e=>e(n))}function Ew(n,e){if(!n)return null;let t=e?fC:LA;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(jA)}function UA(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Oo(n){return{\u0275providers:n}}function $p(...n){return{\u0275providers:vC(!0,n),\u0275fromNgModule:!0}}function vC(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return jp(e,s=>{let a=s;Zf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&yC(r,o),t}function yC(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];qp(r,o=>{e(o,i)})}}function Zf(n,e,t,i){if(n=bt(n),!n)return!1;let r=null,o=gw(n),s=!o&&Di(n);if(!o&&!s){let c=n.ngModule;if(o=gw(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Zf(l,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{jp(o.imports,u=>{Zf(u,e,t,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&yC(l,e)}if(!a){let l=fr(r)||(()=>new r);e({provide:r,useFactory:l,deps:en},r),e({provide:lC,useValue:r,multi:!0},r),e({provide:Io,useValue:()=>$(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=n;qp(c,u=>{e(u,l)})}}else return!1;return r!==n&&n.providers!==void 0}function qp(n,e){for(let t of n)iC(t)&&(t=t.\u0275providers),Array.isArray(t)?qp(t,e):e(t)}var BA=Pe({provide:String,useValue:Pe});function wC(n){return n!==null&&typeof n=="object"&&BA in n}function $A(n){return!!(n&&n.useExisting)}function qA(n){return!!(n&&n.useFactory)}function To(n){return typeof n=="function"}function zA(n){return!!n.useClass}var Gl=new B(""),ml={},GA={},Rf;function zp(){return Rf===void 0&&(Rf=new El),Rf}var ht=class{},qs=class extends ht{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ep(e,s=>this.processProvider(s)),this.records.set(cC,_o(void 0,this)),r.has("environment")&&this.records.set(ht,_o(void 0,this));let o=this.records.get(Gl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lC,en,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Ti(this),i=Ot(void 0),r;try{return e()}finally{Ti(t),Ot(i)}}get(e,t=Bs,i=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vw))return e[vw](this);i=ql(i);let r,o=Ti(this),s=Ot(void 0);try{if(!(i&se.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=YA(e)&&$l(e);l&&this.injectableDefInScope(l)?c=_o(Xf(e),ml):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&se.Self?zp():this.parent;return t=i&se.Optional&&t===Bs?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Cl]=a[Cl]||[]).unshift(Et(e)),o)throw a;return wA(a,e,"R3InjectorError",this.source)}else throw a}finally{Ot(s),Ti(o)}}resolveInjectorInitializers(){let e=ve(null),t=Ti(this),i=Ot(void 0),r;try{let o=this.get(Io,en,se.Self);for(let s of o)s()}finally{Ti(t),Ot(i),ve(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Et(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=bt(e);let t=To(e)?e:bt(e&&e.provide),i=WA(e);if(!To(e)&&e.multi===!0){let r=this.records.get(t);r||(r=_o(void 0,ml,!0),r.factory=()=>Yf(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=ve(null);try{return t.value===ml&&(t.value=GA,t.value=t.factory()),typeof t.value=="object"&&t.value&&QA(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=bt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Xf(n){let e=$l(n),t=e!==null?e.factory:fr(n);if(t!==null)return t;if(n instanceof B)throw new U(204,!1);if(n instanceof Function)return HA(n);throw new U(204,!1)}function HA(n){if(n.length>0)throw new U(204,!1);let t=oA(n);return t!==null?()=>t.factory(n):()=>new n}function WA(n){if(wC(n))return _o(void 0,n.useValue);{let e=CC(n);return _o(e,ml)}}function CC(n,e,t){let i;if(To(n)){let r=bt(n);return fr(r)||Xf(r)}else if(wC(n))i=()=>bt(n.useValue);else if(qA(n))i=()=>n.useFactory(...Yf(n.deps||[]));else if($A(n))i=()=>$(bt(n.useExisting));else{let r=bt(n&&(n.useClass||n.provide));if(KA(n))i=()=>new r(...Yf(n.deps));else return fr(r)||Xf(r)}return i}function _o(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function KA(n){return!!n.deps}function QA(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function YA(n){return typeof n=="function"||typeof n=="object"&&n instanceof B}function ep(n,e){for(let t of n)Array.isArray(t)?ep(t,e):t&&iC(t)?ep(t.\u0275providers,e):e(t)}function wn(n,e){n instanceof qs&&n.assertNotDestroyed();let t,i=Ti(n),r=Ot(void 0);try{return e()}finally{Ti(i),Ot(r)}}function bC(){return rC()!==void 0||_A()!=null}function JA(n){if(!bC())throw new U(-203,!1)}function ZA(n){return typeof n=="function"}var ri=0,ue=1,Y=2,ft=3,vn=4,Cn=5,Il=6,zs=7,yn=8,xo=9,Nn=10,We=11,Gs=12,Iw=13,Ro=14,kn=15,Hl=16,vo=17,Do=18,Wl=19,EC=20,xi=21,Nf=22,pr=23,nn=25,IC=1;var mr=7,Tl=8,xl=9,tn=10,Gp=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Gp||{});function dr(n){return Array.isArray(n)&&typeof n[IC]=="object"}function oi(n){return Array.isArray(n)&&n[IC]===!0}function Hp(n){return(n.flags&4)!==0}function Kl(n){return n.componentOffset>-1}function Ql(n){return(n.flags&1)===1}function Si(n){return!!n.template}function XA(n){return(n[Y]&512)!==0}var tp=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function TC(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function si(){return xC}function xC(n){return n.type.prototype.ngOnChanges&&(n.setInput=tM),eM}si.ngInherit=!0;function eM(){let n=SC(this),e=n?.current;if(e){let t=n.previous;if(t===Eo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function tM(n,e,t,i,r){let o=this.declaredInputs[i],s=SC(n)||nM(n,{previous:Eo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new tp(l&&l.currentValue,t,c===Eo),TC(n,e,r,t)}var DC="__ngSimpleChanges__";function SC(n){return n[DC]||null}function nM(n,e){return n[DC]=e}var Tw=null;var Pn=function(n,e,t){Tw?.(n,e,t)},iM="svg",rM="math",oM=!1;function sM(){return oM}function Fn(n){for(;Array.isArray(n);)n=n[ri];return n}function AC(n,e){return Fn(e[n])}function rn(n,e){return Fn(e[n.index])}function MC(n,e){return n.data[e]}function PC(n,e){return n[e]}function Oi(n,e){let t=e[n];return dr(t)?t:t[ri]}function Wp(n){return(n[Y]&128)===128}function aM(n){return oi(n[ft])}function So(n,e){return e==null?null:n[e]}function OC(n){n[vo]=0}function cM(n){n[Y]&1024||(n[Y]|=1024,Wp(n)&&Hs(n))}function lM(n,e){for(;n>0;)e=e[Ro],n--;return e}function Kp(n){return!!(n[Y]&9216||n[pr]?.dirty)}function np(n){n[Nn].changeDetectionScheduler?.notify(1),Kp(n)?Hs(n):n[Y]&64&&(sM()?(n[Y]|=1024,Hs(n)):n[Nn].changeDetectionScheduler?.notify())}function Hs(n){n[Nn].changeDetectionScheduler?.notify();let e=Ws(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Wp(e)));)e=Ws(e)}function RC(n,e){if((n[Y]&256)===256)throw new U(911,!1);n[xi]===null&&(n[xi]=[]),n[xi].push(e)}function uM(n,e){if(n[xi]===null)return;let t=n[xi].indexOf(e);t!==-1&&n[xi].splice(t,1)}function Ws(n){let e=n[ft];return oi(e)?e[ft]:e}var ae={lFrame:UC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dM(){return ae.lFrame.elementDepthCount}function hM(){ae.lFrame.elementDepthCount++}function fM(){ae.lFrame.elementDepthCount--}function NC(){return ae.bindingsEnabled}function pM(){return ae.skipHydrationRootTNode!==null}function mM(n){return ae.skipHydrationRootTNode===n}function gM(){ae.skipHydrationRootTNode=null}function me(){return ae.lFrame.lView}function mt(){return ae.lFrame.tView}function v(n){return ae.lFrame.contextLView=n,n[yn]}function y(n){return ae.lFrame.contextLView=null,n}function kt(){let n=kC();for(;n!==null&&n.type===64;)n=n.parent;return n}function kC(){return ae.lFrame.currentTNode}function _M(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function wr(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function Qp(){return ae.lFrame.isParent}function FC(){ae.lFrame.isParent=!1}function ea(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Yp(){return ae.lFrame.bindingIndex}function vM(n){return ae.lFrame.bindingIndex=n}function Yl(){return ae.lFrame.bindingIndex++}function Jl(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function yM(){return ae.lFrame.inI18n}function wM(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,ip(e)}function CM(){return ae.lFrame.currentDirectiveIndex}function ip(n){ae.lFrame.currentDirectiveIndex=n}function bM(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function VC(n){ae.lFrame.currentQueryIndex=n}function EM(n){let e=n[ue];return e.type===2?e.declTNode:e.type===1?n[Cn]:null}function LC(n,e,t){if(t&se.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&se.Host);)if(r=EM(o),r===null||(o=o[Ro],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=ae.lFrame=jC();return i.currentTNode=e,i.lView=n,!0}function Jp(n){let e=jC(),t=n[ue];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jC(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?UC(n):e}function UC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function BC(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var $C=BC;function Zp(){let n=BC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IM(n){return(ae.lFrame.contextLView=lM(n,ae.lFrame.contextLView))[yn]}function ai(){return ae.lFrame.selectedIndex}function gr(n){ae.lFrame.selectedIndex=n}function Xp(){let n=ae.lFrame;return MC(n.tView,n.selectedIndex)}function TM(){return ae.lFrame.currentNamespace}var qC=!0;function Zl(){return qC}function Xl(n){qC=n}function xM(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=xC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function eu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function gl(n,e,t){zC(n,e,3,t)}function _l(n,e,t,i){(n[Y]&3)===t&&zC(n,e,t,i)}function kf(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function zC(n,e,t,i){let r=i!==void 0?n[vo]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[vo]+=65536),(a<o||o==-1)&&(DM(n,t,e,c),n[vo]=(n[vo]&4294901760)+c+2),c++}function xw(n,e){Pn(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),Pn(5,n,e)}}function DM(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[Y]>>14<n[vo]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,xw(a,o)):xw(a,o)}var bo=-1,_r=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function SM(n){return n instanceof _r}function AM(n){return(n.flags&8)!==0}function MM(n){return(n.flags&16)!==0}function GC(n){return n!==bo}function Dl(n){return n&32767}function PM(n){return n>>16}function Sl(n,e){let t=PM(n),i=e;for(;t>0;)i=i[Ro],t--;return i}var rp=!0;function Al(n){let e=rp;return rp=n,e}var OM=256,HC=OM-1,WC=5,RM=0,On={};function NM(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Us)&&(i=t[Us]),i==null&&(i=t[Us]=RM++);let r=i&HC,o=1<<r;e.data[n+(r>>WC)]|=o}function Ml(n,e){let t=KC(n,e);if(t!==-1)return t;let i=e[ue];i.firstCreatePass&&(n.injectorIndex=e.length,Ff(i.data,n),Ff(e,null),Ff(i.blueprint,null));let r=em(n,e),o=n.injectorIndex;if(GC(r)){let s=Dl(r),a=Sl(r,e),c=a[ue].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Ff(n,e){n.push(0,0,0,0,0,0,0,0,e)}function KC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function em(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=XC(r),i===null)return bo;if(t++,r=r[Ro],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return bo}function op(n,e,t){NM(n,e,t)}function QC(n,e,t){if(t&se.Optional||n!==void 0)return n;Lp(e,"NodeInjector")}function YC(n,e,t,i){if(t&se.Optional&&i===void 0&&(i=null),!(t&(se.Self|se.Host))){let r=n[xo],o=Ot(void 0);try{return r?r.get(e,i,t&se.Optional):oC(e,i,t&se.Optional)}finally{Ot(o)}}return QC(i,e,t)}function JC(n,e,t,i=se.Default,r){if(n!==null){if(e[Y]&2048&&!(i&se.Self)){let s=jM(n,e,t,i,On);if(s!==On)return s}let o=ZC(n,e,t,i,On);if(o!==On)return o}return YC(e,t,i,r)}function ZC(n,e,t,i,r){let o=VM(t);if(typeof o=="function"){if(!LC(e,n,i))return i&se.Host?QC(r,t,i):YC(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&se.Optional))Lp(t);else return s}finally{$C()}}else if(typeof o=="number"){let s=null,a=KC(n,e),c=bo,l=i&se.Host?e[kn][Cn]:null;for((a===-1||i&se.SkipSelf)&&(c=a===-1?em(n,e):e[a+8],c===bo||!Sw(i,!1)?a=-1:(s=e[ue],a=Dl(c),e=Sl(c,e)));a!==-1;){let u=e[ue];if(Dw(o,a,u.data)){let p=kM(a,e,t,s,i,l);if(p!==On)return p}c=e[a+8],c!==bo&&Sw(i,e[ue].data[a+8]===l)&&Dw(o,a,e)?(s=u,a=Dl(c),e=Sl(c,e)):a=-1}}return r}function kM(n,e,t,i,r,o){let s=e[ue],a=s.data[n+8],c=i==null?Kl(a)&&rp:i!=s&&(a.type&3)!==0,l=r&se.Host&&o===a,u=FM(a,s,t,c,l);return u!==null?Ao(e,s,u,a):On}function FM(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,p=i?a:a+u,w=r?a+u:l;for(let C=p;C<w;C++){let x=s[C];if(C<c&&t===x||C>=c&&x.type===t)return C}if(r){let C=s[c];if(C&&Si(C)&&C.type===t)return c}return null}function Ao(n,e,t,i){let r=n[t],o=e.data;if(SM(r)){let s=r;s.resolving&&hA(dA(o[t]));let a=Al(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ot(s.injectImpl):null,u=LC(n,i,se.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&xM(t,o[t],e)}finally{l!==null&&Ot(l),Al(a),s.resolving=!1,$C()}}return r}function VM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Us)?n[Us]:void 0;return typeof e=="number"?e>=0?e&HC:LM:e}function Dw(n,e,t){let i=1<<n;return!!(t[e+(n>>WC)]&i)}function Sw(n,e){return!(n&se.Self)&&!(n&se.Host&&e)}var hr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return JC(this._tNode,this._lView,e,ql(i),t)}};function LM(){return new hr(kt(),me())}function qt(n){return Zs(()=>{let e=n.prototype.constructor,t=e[wl]||sp(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[wl]||sp(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function sp(n){return Xw(n)?()=>{let e=sp(bt(n));return e&&e()}:fr(n)}function jM(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!(s[Y]&512);){let a=ZC(o,s,t,i|se.Self,On);if(a!==On)return a;let c=o.parent;if(!c){let l=s[EC];if(l){let u=l.get(t,On,i);if(u!==On)return u}c=XC(s),s=s[Ro]}o=c}return r}function XC(n){let e=n[ue],t=e.type;return t===2?e.declTNode:t===1?n[Cn]:null}function Aw(n,e=null,t=null,i){let r=eb(n,e,t,i);return r.resolveInjectorInitializers(),r}function eb(n,e=null,t=null,i,r=new Set){let o=[t||en,$p(n)];return i=i||(typeof n=="object"?void 0:Et(n)),new qs(o,e||zp(),i||null,r)}var Ft=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Bs}static{this.NULL=new El}static create(t,i){if(Array.isArray(t))return Aw({name:""},i,t,"");{let r=t.name??"";return Aw({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=L({token:n,providedIn:"any",factory:()=>$(cC)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var UM="ngOriginalError";function Vf(n){return n[UM]}var Vn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Vf(e);for(;t&&Vf(t);)t=Vf(t);return t||null}},tb=new B("",{providedIn:"root",factory:()=>N(Vn).handleError.bind(void 0)}),tm=(()=>{class n{static{this.__NG_ELEMENT_ID__=BM}static{this.__NG_ENV_ID__=t=>t}}return n})(),ap=class extends tm{constructor(e){super(),this._lView=e}onDestroy(e){return RC(this._lView,e),()=>uM(this._lView,e)}};function BM(){return new ap(me())}function $M(){return tu(kt(),me())}function tu(n,e){return new on(rn(n,e))}var on=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=$M}}return n})();var cp=class extends Ct{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,bC()&&(this.destroyRef=N(tm,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Lf(o),r&&(r=Lf(r)),s&&(s=Lf(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof $e&&e.add(a),a}};function Lf(n){return e=>{setTimeout(n,void 0,e)}}var Fe=cp;function nb(n){return(n.flags&128)===128}var ib=new Map,qM=0;function zM(){return qM++}function GM(n){ib.set(n[Wl],n)}function HM(n){ib.delete(n[Wl])}var Mw="__ngContext__";function Ai(n,e){dr(e)?(n[Mw]=e[Wl],GM(e)):n[Mw]=e}function rb(n){return sb(n[Gs])}function ob(n){return sb(n[vn])}function sb(n){for(;n!==null&&!oi(n);)n=n[vn];return n}var lp;function ab(n){lp=n}function WM(){if(lp!==void 0)return lp;if(typeof document<"u")return document;throw new U(210,!1)}var nm=new B("",{providedIn:"root",factory:()=>KM}),KM="ng",im=new B(""),sn=new B("",{providedIn:"platform",factory:()=>"unknown"});var rm=new B("",{providedIn:"root",factory:()=>WM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QM="h",YM="b";var JM=()=>null;function om(n,e,t=!1){return JM(n,e,t)}var cb=!1,ZM=new B("",{providedIn:"root",factory:()=>cb});var up=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tA})`}};function sm(n){return n instanceof up?n.changingThisBreaksApplicationSecurity:n}var XM=/^>|^->|<!--|-->|--!>|<!-$/g,eP=/(<|>)/g,tP="\u200B$1\u200B";function nP(n){return n.replace(XM,e=>e.replace(eP,tP))}function lb(n){return n instanceof Function?n():n}function iP(n){return(n??N(Ft)).get(sn)==="browser"}var Ln=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ln||{}),rP;function am(n,e){return rP(n,e)}function yo(n,e,t,i,r){if(i!=null){let o,s=!1;oi(i)?o=i:dr(i)&&(s=!0,i=i[ri]);let a=Fn(i);n===0&&t!==null?r==null?pb(e,t,a):Pl(e,t,a,r||null,!0):n===1&&t!==null?Pl(e,t,a,r||null,!0):n===2?bP(e,a,s):n===3&&e.destroyNode(a),o!=null&&IP(e,n,o,t,r)}}function oP(n,e){return n.createText(e)}function sP(n,e,t){n.setValue(e,t)}function aP(n,e){return n.createComment(nP(e))}function ub(n,e,t){return n.createElement(e,t)}function cP(n,e){db(n,e),e[ri]=null,e[Cn]=null}function lP(n,e,t,i,r,o){i[ri]=r,i[Cn]=e,iu(n,i,t,1,r,o)}function db(n,e){e[Nn].changeDetectionScheduler?.notify(1),iu(n,e,e[We],2,null,null)}function uP(n){let e=n[Gs];if(!e)return jf(n[ue],n);for(;e;){let t=null;if(dr(e))t=e[Gs];else{let i=e[tn];i&&(t=i)}if(!t){for(;e&&!e[vn]&&e!==n;)dr(e)&&jf(e[ue],e),e=e[ft];e===null&&(e=n),dr(e)&&jf(e[ue],e),t=e&&e[vn]}e=t}}function dP(n,e,t,i){let r=tn+i,o=t.length;i>0&&(t[r-1][vn]=e),i<o-tn?(e[vn]=t[r],aC(t,tn+i,e)):(t.push(e),e[vn]=null),e[ft]=t;let s=e[Hl];s!==null&&t!==s&&hP(s,e);let a=e[Do];a!==null&&a.insertView(n),np(e),e[Y]|=128}function hP(n,e){let t=n[xl],r=e[ft][ft][kn];e[kn]!==r&&(n[Y]|=Gp.HasTransplantedViews),t===null?n[xl]=[e]:t.push(e)}function hb(n,e){let t=n[xl],i=t.indexOf(e);t.splice(i,1)}function dp(n,e){if(n.length<=tn)return;let t=tn+e,i=n[t];if(i){let r=i[Hl];r!==null&&r!==n&&hb(r,i),e>0&&(n[t-1][vn]=i[vn]);let o=bl(n,tn+e);cP(i[ue],i);let s=o[Do];s!==null&&s.detachView(o[ue]),i[ft]=null,i[vn]=null,i[Y]&=-129}return i}function fb(n,e){if(!(e[Y]&256)){let t=e[We];t.destroyNode&&iu(n,e,t,3,null,null),uP(e)}}function jf(n,e){if(e[Y]&256)return;let t=ve(null);try{e[Y]&=-129,e[Y]|=256,e[pr]&&$y(e[pr]),pP(n,e),fP(n,e),e[ue].type===1&&e[We].destroy();let i=e[Hl];if(i!==null&&oi(e[ft])){i!==e[ft]&&hb(i,e);let r=e[Do];r!==null&&r.detachView(n)}HM(e)}finally{ve(t)}}function fP(n,e){let t=n.cleanup,i=e[zs];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[zs]=null);let r=e[xi];if(r!==null){e[xi]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function pP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof _r)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Pn(4,a,c);try{c.call(a)}finally{Pn(5,a,c)}}else{Pn(4,r,o);try{o.call(r)}finally{Pn(5,r,o)}}}}}function mP(n,e,t){return gP(n,e.parent,t)}function gP(n,e,t){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return t[ri];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Rn.None||o===Rn.Emulated)return null}return rn(i,t)}}function Pl(n,e,t,i,r){n.insertBefore(e,t,i,r)}function pb(n,e,t){n.appendChild(e,t)}function Pw(n,e,t,i,r){i!==null?Pl(n,e,t,i,r):pb(n,e,t)}function _P(n,e,t,i){n.removeChild(e,t,i)}function cm(n,e){return n.parentNode(e)}function vP(n,e){return n.nextSibling(e)}function yP(n,e,t){return CP(n,e,t)}function wP(n,e,t){return n.type&40?rn(n,t):null}var CP=wP,Ow;function nu(n,e,t,i){let r=mP(n,i,e),o=e[We],s=i.parent||e[Cn],a=yP(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Pw(o,r,t[c],a,!1);else Pw(o,r,t,a,!1);Ow!==void 0&&Ow(o,i,e,t,r)}function vl(n,e){if(e!==null){let t=e.type;if(t&3)return rn(e,n);if(t&4)return hp(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return vl(n,i);{let r=n[e.index];return oi(r)?hp(-1,r):Fn(r)}}else{if(t&32)return am(e,n)()||Fn(n[e.index]);{let i=mb(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ws(n[kn]);return vl(r,i)}else return vl(n,e.next)}}}return null}function mb(n,e){if(e!==null){let i=n[kn][Cn],r=e.projection;return i.projection[r]}return null}function hp(n,e){let t=tn+n+1;if(t<e.length){let i=e[t],r=i[ue].firstChild;if(r!==null)return vl(i,r)}return e[mr]}function bP(n,e,t){let i=cm(n,e);i&&_P(n,i,e,t)}function lm(n,e,t,i,r,o,s){for(;t!=null;){let a=i[t.index],c=t.type;if(s&&e===0&&(a&&Ai(Fn(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)lm(n,e,t.child,i,r,o,!1),yo(e,n,r,a,o);else if(c&32){let l=am(t,i),u;for(;u=l();)yo(e,n,r,u,o);yo(e,n,r,a,o)}else c&16?EP(n,e,i,t,r,o):yo(e,n,r,a,o);t=s?t.projectionNext:t.next}}function iu(n,e,t,i,r,o){lm(t,i,n.firstChild,e,r,o,!1)}function EP(n,e,t,i,r,o){let s=t[kn],c=s[Cn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];yo(e,n,r,u,o)}else{let l=c,u=s[ft];nb(i)&&(l.flags|=128),lm(n,e,l,u,r,o,!0)}}function IP(n,e,t,i,r){let o=t[mr],s=Fn(t);o!==s&&yo(e,n,i,o,r);for(let a=tn;a<t.length;a++){let c=t[a];iu(c[ue],c,n,e,i,o)}}function TP(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Ln.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ln.Important),n.setStyle(t,i,r,o))}}function xP(n,e,t){n.setAttribute(e,"style",t)}function gb(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function _b(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Jf(n,e,i),r!==null&&gb(n,e,r),o!==null&&xP(n,e,o)}var Vt={};function f(n=1){vb(mt(),me(),ai()+n,!1)}function vb(n,e,t,i){if(!i)if((e[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&gl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&_l(e,o,0,t)}gr(t)}function q(n,e=se.Default){let t=me();if(t===null)return $(n,e);let i=kt();return JC(i,t,bt(n),e)}function yb(){let n="invalid";throw new Error(n)}function wb(n,e,t,i,r,o){let s=ve(null);try{let a=null;r&at.SignalBased&&(a=e[i][cf]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&at.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):TC(e,a,i,o)}finally{ve(s)}}function DP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)gr(~r);else{let o=r,s=t[++i],a=t[++i];wM(s,o);let c=e[o];a(2,c)}}}finally{gr(-1)}}function ru(n,e,t,i,r,o,s,a,c,l,u){let p=e.blueprint.slice();return p[ri]=r,p[Y]=i|4|128|8|64,(l!==null||n&&n[Y]&2048)&&(p[Y]|=2048),OC(p),p[ft]=p[Ro]=n,p[yn]=t,p[Nn]=s||n&&n[Nn],p[We]=a||n&&n[We],p[xo]=c||n&&n[xo]||null,p[Cn]=o,p[Wl]=zM(),p[Il]=u,p[EC]=l,p[kn]=e.type==2?n[kn]:p,p}function ta(n,e,t,i,r){let o=n.data[e];if(o===null)o=SP(n,e,t,i,r),yM()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=_M();o.injectorIndex=s===null?-1:s.injectorIndex}return wr(o,!0),o}function SP(n,e,t,i,r){let o=kC(),s=Qp(),a=s?o:o&&o.parent,c=n.data[e]=RP(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Cb(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function bb(n,e,t,i,r){let o=ai(),s=i&2;try{gr(-1),s&&e.length>nn&&vb(n,e,nn,!1),Pn(s?2:0,r),t(i,r)}finally{gr(o),Pn(s?3:1,r)}}function um(n,e,t){if(Hp(e)){let i=ve(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ve(i)}}}function dm(n,e,t){NC()&&(jP(n,e,t,rn(t,e)),(t.flags&64)===64&&xb(n,e,t))}function hm(n,e,t=rn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function Eb(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=fm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function fm(n,e,t,i,r,o,s,a,c,l,u){let p=nn+i,w=p+r,C=AP(p,w),x=typeof l=="function"?l():l;return C[ue]={type:n,blueprint:C,template:t,queries:null,viewQuery:a,declTNode:e,data:C.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:x,incompleteFirstPass:!1,ssrId:u}}function AP(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Vt);return t}function MP(n,e,t,i){let o=i.get(ZM,cb)||t===Rn.ShadowDom,s=n.selectRootElement(e,o);return PP(s),s}function PP(n){OP(n)}var OP=()=>null;function RP(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return pM()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Rw(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=at.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}n===0?Nw(i,t,l,a,c):Nw(i,t,l,a)}return i}function Nw(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function NP(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let p=o[u],w=t?t.get(p):null,C=w?w.inputs:null,x=w?w.outputs:null;c=Rw(0,p.inputs,u,c,C),l=Rw(1,p.outputs,u,l,x);let D=c!==null&&s!==null&&!Up(e)?YP(c,u,s):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function kP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Ib(n,e,t,i,r,o,s,a){let c=rn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(mm(n,t,u,i,r),Kl(e)&&FP(t,e.index)):e.type&3?(i=kP(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function FP(n,e){let t=Oi(e,n);t[Y]&16||(t[Y]|=64)}function pm(n,e,t,i){if(NC()){let r=i===null?null:{"":-1},o=BP(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Tb(n,e,t,s,r,a),r&&$P(t,i,r)}t.mergedAttrs=$s(t.mergedAttrs,t.attrs)}function Tb(n,e,t,i,r,o){for(let l=0;l<i.length;l++)op(Ml(t,e),n,i[l].type);zP(t,n.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Cb(n,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];t.mergedAttrs=$s(t.mergedAttrs,u.hostAttrs),GP(n,t,e,c,u),qP(c,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let p=u.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}NP(n,t,o)}function VP(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;LP(s)!=a&&s.push(a),s.push(t,i,o)}}function LP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function jP(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;Kl(t)&&HP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ml(t,e),Ai(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let c=n.data[a],l=Ao(e,n,a,t);if(Ai(l,e),s!==null&&QP(e,a-r,l,c,t,s),Si(c)){let u=Oi(t.index,e);u[yn]=Ao(e,n,a,t)}}}function xb(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=CM();try{gr(o);for(let a=i;a<r;a++){let c=n.data[a],l=e[a];ip(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&UP(c,l)}}finally{gr(-1),ip(s)}}function UP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function BP(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(OA(e,s.selectors,!1))if(i||(i=[]),Si(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;fp(n,e,c)}else i.unshift(s),fp(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function fp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function $P(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new U(-301,!1);i.push(e[r],o)}}}function qP(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Si(e)&&(t[""]=n)}}function zP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function GP(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=fr(r.type,!0)),s=new _r(o,Si(r),q);n.blueprint[i]=s,t[i]=s,VP(n,e,i,Cb(n,t,r.hostVars,Vt),r)}function HP(n,e,t){let i=rn(e,n),r=Eb(t),o=n[Nn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=ou(n,ru(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function WP(n,e,t,i,r,o){let s=rn(n,e);KP(e[We],s,o,n.value,t,i,r)}function KP(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Xt(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function QP(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],p=s[a++];wb(i,t,c,l,u,p)}}function YP(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function Db(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Sb(n,e){let t=n.contentQueries;if(t!==null){let i=ve(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];VC(o),a.contentQueries(2,e[s],s)}}}finally{ve(i)}}}function ou(n,e){return n[Gs]?n[Iw][vn]=e:n[Gs]=e,n[Iw]=e,e}function pp(n,e,t){VC(0);let i=ve(null);try{e(n,t)}finally{ve(i)}}function JP(n){return n[zs]||(n[zs]=[])}function ZP(n){return n.cleanup||(n.cleanup=[])}function Ab(n,e){let t=n[xo],i=t?t.get(Vn,null):null;i&&i.handleError(e)}function mm(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];wb(u,l,i,a,c,r)}}function su(n,e,t){let i=AC(e,n);sP(n[We],i,t)}function XP(n,e){let t=Oi(e,n),i=t[ue];e2(i,t);let r=t[ri];r!==null&&t[Il]===null&&(t[Il]=om(r,t[xo])),gm(i,t,t[yn])}function e2(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function gm(n,e,t){Jp(e);try{let i=n.viewQuery;i!==null&&pp(1,i,t);let r=n.template;r!==null&&bb(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Do]?.finishViewCreation(n),n.staticContentQueries&&Sb(n,e),n.staticViewQueries&&pp(2,n.viewQuery,t);let o=n.components;o!==null&&t2(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Y]&=-5,Zp()}}function t2(n,e){for(let t=0;t<e.length;t++)XP(n,e[t])}function n2(n,e,t,i){let r=ve(null);try{let o=e.tView,a=n[Y]&4096?4096:16,c=ru(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];c[Hl]=l;let u=n[Do];return u!==null&&(c[Do]=u.createEmbeddedView(o)),gm(o,c,t),c}finally{ve(r)}}function kw(n,e){return!e||e.firstChild===null||nb(n)}function i2(n,e,t,i=!0){let r=e[ue];if(dP(r,e,n,t),i){let s=hp(t,n),a=e[We],c=cm(a,n[mr]);c!==null&&lP(r,n[Cn],a,e,c,s)}let o=e[Il];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ol(n,e,t,i,r=!1){for(;t!==null;){let o=e[t.index];o!==null&&i.push(Fn(o)),oi(o)&&r2(o,i);let s=t.type;if(s&8)Ol(n,e,t.child,i);else if(s&32){let a=am(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=mb(e,t);if(Array.isArray(a))i.push(...a);else{let c=Ws(e[kn]);Ol(c[ue],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function r2(n,e){for(let t=tn;t<n.length;t++){let i=n[t],r=i[ue].firstChild;r!==null&&Ol(i[ue],i,r,e)}n[mr]!==n[ri]&&e.push(n[mr])}var Mb=[];function o2(n){return n[pr]??s2(n)}function s2(n){let e=Mb.pop()??Object.create(c2);return e.lView=n,e}function a2(n){n.lView[pr]!==n&&(n.lView=null,Mb.push(n))}var c2=H(P({},jy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Hs(n.lView)},consumerOnSignalRead(){this.lView[pr]=this}}),Pb=100;function Ob(n,e=!0,t=0){let i=n[Nn],r=i.rendererFactory,o=!1;o||r.begin?.();try{l2(n,t)}catch(s){throw e&&Ab(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function l2(n,e){mp(n,e);let t=0;for(;Kp(n);){if(t===Pb)throw new U(103,!1);t++,mp(n,1)}}function u2(n,e,t,i){let r=e[Y];if((r&256)===256)return;let o=!1;!o&&e[Nn].inlineEffectRunner?.flush(),Jp(e);let s=null,a=null;!o&&d2(n)&&(a=o2(e),s=Uy(a));try{OC(e),vM(n.bindingStartIndex),t!==null&&bb(n,e,t,2,i);let c=(r&3)===3;if(!o)if(c){let p=n.preOrderCheckHooks;p!==null&&gl(e,p,null)}else{let p=n.preOrderHooks;p!==null&&_l(e,p,0,null),kf(e,0)}if(h2(e),Rb(e,0),n.contentQueries!==null&&Sb(n,e),!o)if(c){let p=n.contentCheckHooks;p!==null&&gl(e,p)}else{let p=n.contentHooks;p!==null&&_l(e,p,1),kf(e,1)}DP(n,e);let l=n.components;l!==null&&kb(e,l,0);let u=n.viewQuery;if(u!==null&&pp(2,u,i),!o)if(c){let p=n.viewCheckHooks;p!==null&&gl(e,p)}else{let p=n.viewHooks;p!==null&&_l(e,p,2),kf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Nf]){for(let p of e[Nf])p();e[Nf]=null}o||(e[Y]&=-73)}catch(c){throw Hs(e),c}finally{a!==null&&(By(a,s),a2(a)),Zp()}}function d2(n){return n.type!==2}function Rb(n,e){for(let t=rb(n);t!==null;t=ob(t))for(let i=tn;i<t.length;i++){let r=t[i];Nb(r,e)}}function h2(n){for(let e=rb(n);e!==null;e=ob(e)){if(!(e[Y]&Gp.HasTransplantedViews))continue;let t=e[xl];for(let i=0;i<t.length;i++){let r=t[i],o=r[ft];cM(r)}}}function f2(n,e,t){let i=Oi(e,n);Nb(i,t)}function Nb(n,e){Wp(n)&&mp(n,e)}function mp(n,e){let i=n[ue],r=n[Y],o=n[pr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&lf(o)),o&&(o.dirty=!1),n[Y]&=-9217,s)u2(i,n,i.template,n[yn]);else if(r&8192){Rb(n,1);let a=i.components;a!==null&&kb(n,a,1)}}function kb(n,e,t){for(let i=0;i<e.length;i++)f2(n,e[i],t)}function _m(n){for(n[Nn].changeDetectionScheduler?.notify();n;){n[Y]|=64;let e=Ws(n);if(XA(n)&&!e)return n;n=e}return null}var vr=class{get rootNodes(){let e=this._lView,t=e[ue];return Ol(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yn]}set context(e){this._lView[yn]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ft];if(oi(e)){let t=e[Tl],i=t?t.indexOf(this):-1;i>-1&&(dp(e,i),bl(t,i))}this._attachedToViewContainer=!1}fb(this._lView[ue],this._lView)}onDestroy(e){RC(this._lView,e)}markForCheck(){_m(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){np(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,Ob(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,db(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e,np(this._lView)}},au=(()=>{class n{static{this.__NG_ELEMENT_ID__=g2}}return n})(),p2=au,m2=class extends p2{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=n2(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new vr(r)}};function g2(){return _2(kt(),me())}function _2(n,e){return n.type&4?new m2(e,n,tu(n,e)):null}var cW=new RegExp(`^(\\d+)*(${YM}|${QM})*(.*)`);var v2=()=>null;function Fw(n,e){return v2(n,e)}var Rl=class{},gp=class{},Nl=class{};function y2(n){let e=Error(`No component factory found for ${Et(n)}.`);return e[w2]=n,e}var w2="ngComponent";var _p=class{resolveComponentFactory(e){throw y2(e)}},cu=(()=>{class n{static{this.NULL=new _p}}return n})(),Ks=class{},bn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>C2()}}return n})();function C2(){let n=me(),e=kt(),t=Oi(e.index,n);return(dr(t)?t:n)[We]}var b2=(()=>{class n{static{this.\u0275prov=L({token:n,providedIn:"root",factory:()=>null})}}return n})(),Uf={};var Vw=new Set;function lu(n){Vw.has(n)||(Vw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Lw(...n){}function E2(){let n=typeof ti.requestAnimationFrame=="function",e=ti[n?"requestAnimationFrame":"setTimeout"],t=ti[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Ee=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=E2().nativeRequestAnimationFrame,x2(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,I2,Lw,Lw);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},I2={};function vm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function T2(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ti,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vp(n),n.isCheckStableRunning=!0,vm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vp(n))}function x2(n){let e=()=>{T2(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(D2(a))return t.invokeTask(r,o,s,a);try{return jw(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Uw(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return jw(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),Uw(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,vp(n),vm(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function vp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function jw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Uw(n){n._nesting--,vm(n)}function D2(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var wo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(wo||{}),S2={destroy(){}};function uu(n,e){!e&&JA(uu);let t=e?.injector??N(Ft);if(!iP(t))return S2;lu("NgAfterNextRender");let i=t.get(ym),r=i.handler??=new wp,o=e?.phase??wo.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(tm).onDestroy(s),c=wn(t,()=>new yp(o,()=>{s(),n()}));return r.register(c),{destroy:s}}var yp=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=N(Ee),this.errorHandler=N(Vn,{optional:!0}),N(Rl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},wp=class{constructor(){this.executingCallbacks=!1,this.buckets={[wo.EarlyRead]:new Set,[wo.Write]:new Set,[wo.MixedReadWrite]:new Set,[wo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},ym=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}}return n})();function kl(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=pw(r,a);else if(o==2){let c=a,l=e[++s];i=pw(i,c+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Fl=class extends cu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Di(e);return new Mo(t,this.ngModule)}};function Bw(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}function A2(n){let e=n.toLowerCase();return e==="svg"?iM:e==="math"?rM:null}var Cp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ql(i);let r=this.injector.get(e,Uf,i);return r!==Uf||t===Uf?r:this.parentInjector.get(e,t,i)}},Mo=class extends Nl{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=Bw(e.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Bw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=FA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=ve(null);try{r=r||this.ngModule;let s=r instanceof ht?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Cp(e,s):e,c=a.get(Ks,null);if(c===null)throw new U(407,!1);let l=a.get(b2,null),u=a.get(ym,null),p=a.get(Rl,null),w={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:p},C=c.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",D=i?MP(C,i,this.componentDef.encapsulation,a):ub(C,x,A2(x)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let F=null;D!==null&&(F=om(D,a,!0));let fe=fm(0,null,null,1,0,null,null,null,null,null,null),G=ru(null,fe,null,A,null,null,w,C,a,null,F);Jp(G);let be,Ze;try{let _e=this.componentDef,dt,An=null;_e.findHostDirectiveDefs?(dt=[],An=new Map,_e.findHostDirectiveDefs(_e,dt,An),dt.push(_e)):dt=[_e];let rr=M2(G,D),to=P2(rr,D,_e,dt,G,w,C);Ze=MC(fe,nn),D&&N2(C,_e,D,i),t!==void 0&&k2(Ze,this.ngContentSelectors,t),be=R2(to,_e,dt,An,G,[F2]),gm(fe,G,null)}finally{Zp()}return new bp(this.componentType,be,tu(Ze,G),G,Ze)}finally{ve(o)}}},bp=class extends gp{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new vr(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;mm(o[ue],o,r,e,t),this.previousInputValues.set(e,t);let s=Oi(this._tNode.index,o);_m(s)}}get injector(){return new hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function M2(n,e){let t=n[ue],i=nn;return n[i]=e,ta(t,i,2,"#host",null)}function P2(n,e,t,i,r,o,s){let a=r[ue];O2(i,n,e,s);let c=null;e!==null&&(c=om(e,r[xo]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let p=ru(r,Eb(t),null,u,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&fp(a,n,i.length-1),ou(r,p),r[n.index]=p}function O2(n,e,t,i){for(let r of n)e.mergedAttrs=$s(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(kl(e,e.mergedAttrs,!0),t!==null&&_b(i,t,e))}function R2(n,e,t,i,r,o){let s=kt(),a=r[ue],c=rn(s,r);Tb(a,r,s,t,null,i);for(let u=0;u<t.length;u++){let p=s.directiveStart+u,w=Ao(r,a,p,s);Ai(w,r)}xb(a,r,s),c&&Ai(c,r);let l=Ao(r,a,s.directiveStart+s.componentOffset,s);if(n[yn]=r[yn]=l,o!==null)for(let u of o)u(l,e);return um(a,s,r),l}function N2(n,e,t,i){if(i)Jf(n,t,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=VA(e.selectors[0]);r&&Jf(n,t,r),o&&o.length>0&&gb(n,t,o.join(" "))}}function k2(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function F2(){let n=kt();eu(me()[ue],n)}var No=(()=>{class n{static{this.__NG_ELEMENT_ID__=V2}}return n})();function V2(){let n=kt();return j2(n,me())}var L2=No,Fb=class extends L2{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return tu(this._hostTNode,this._hostLView)}get injector(){return new hr(this._hostTNode,this._hostLView)}get parentInjector(){let e=em(this._hostTNode,this._hostLView);if(GC(e)){let t=Sl(e,this._hostLView),i=Dl(e),r=t[ue].data[i+8];return new hr(r,t)}else return new hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=$w(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Fw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,kw(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!ZA(e),a;if(s)a=t;else{let x=t||{};a=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let c=s?e:new Mo(Di(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let D=(s?l:this.parentInjector).get(ht,null);D&&(o=D)}let u=Di(c.componentType??{}),p=Fw(this._lContainer,u?.id??null),w=p?.firstChild??null,C=c.create(l,r,w,o);return this.insertImpl(C.hostView,a,kw(this._hostTNode,p)),C}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(aM(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[ft],l=new Fb(c,c[Cn],c[ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return i2(s,r,o,i),e.attachToViewContainerRef(),aC(Bf(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=$w(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=dp(this._lContainer,t);i&&(bl(Bf(this._lContainer),t),fb(i[ue],i))}detach(e){let t=this._adjustIndex(e,-1),i=dp(this._lContainer,t);return i&&bl(Bf(this._lContainer),t)!=null?new vr(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function $w(n){return n[Tl]}function Bf(n){return n[Tl]||(n[Tl]=[])}function j2(n,e){let t,i=e[n.index];return oi(i)?t=i:(t=Db(i,e,null,n),e[n.index]=t,ou(e,t)),B2(t,e,n,i),new Fb(t,n,e)}function U2(n,e){let t=n[We],i=t.createComment(""),r=rn(e,n),o=cm(t,r);return Pl(t,o,i,vP(t,r),!1),i}var B2=z2,$2=()=>!1;function q2(n,e,t){return $2(n,e,t)}function z2(n,e,t,i){if(n[mr])return;let r;t.type&8?r=Fn(i):r=U2(e,t),n[mr]=r}function G2(n){return typeof n=="function"&&n[cf]!==void 0}function Vb(n){return G2(n)&&typeof n.set=="function"}function H2(n){return Object.getPrototypeOf(n.prototype).constructor}function Xe(n){let e=H2(n.type),t=!0,i=[n];for(;e;){let r;if(Si(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=fl(n.inputs),s.inputTransforms=fl(n.inputTransforms),s.declaredInputs=fl(n.declaredInputs),s.outputs=fl(n.outputs);let a=r.hostBindings;a&&J2(n,a);let c=r.viewQuery,l=r.contentQueries;if(c&&Q2(n,c),l&&Y2(n,l),W2(n,r),iA(n.outputs,r.outputs),Si(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Xe&&(t=!1)}}e=Object.getPrototypeOf(e)}K2(i)}function W2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function K2(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=$s(r.hostAttrs,t=$s(t,r.hostAttrs))}}function fl(n){return n===Eo?{}:n===en?[]:n}function Q2(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function Y2(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function J2(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}var Mi=class{},Qs=class{};var Ep=class extends Mi{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fl(this);let r=mC(e);this._bootstrapComponents=lb(r.bootstrap),this._r3Injector=eb(e,t,[{provide:Mi,useValue:this},{provide:cu,useValue:this.componentFactoryResolver},...i],Et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ip=class extends Qs{constructor(e){super(),this.moduleType=e}create(e){return new Ep(this.moduleType,e,[])}};var Vl=class extends Mi{constructor(e){super(),this.componentFactoryResolver=new Fl(this),this.instance=null;let t=new qs([...e.providers,{provide:Mi,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],e.parent||zp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function du(n,e,t=null){return new Vl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ko=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new st(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Lb(n){return wm(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Z2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function wm(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Cm(n,e,t){return n[e]=t}function X2(n,e){return n[e]}function ni(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function Ys(n,e,t,i){let r=ni(n,e,t);return ni(n,e+1,i)||r}function eO(n,e,t,i,r){let o=Ys(n,e,t,i);return ni(n,e+2,r)||o}function tO(n,e,t,i,r,o){let s=Ys(n,e,t,i);return Ys(n,e+2,r,o)||s}function nO(n){return(n.flags&32)===32}function iO(n,e,t,i,r,o,s,a,c){let l=e.consts,u=ta(e,n,4,s||null,So(l,a));pm(e,t,u,So(l,c)),eu(e,u);let p=u.tView=fm(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),p.queries=e.queries.embeddedTView(u)),u}function T(n,e,t,i,r,o,s,a){let c=me(),l=mt(),u=n+nn,p=l.firstCreatePass?iO(u,l,c,e,t,i,r,o,s):l.data[u];wr(p,!1);let w=rO(l,c,p,n);Zl()&&nu(l,c,w,p),Ai(w,c);let C=Db(w,c,w,p);return c[u]=C,ou(c,C),q2(C,p,c),Ql(p)&&dm(l,c,p),s!=null&&hm(c,p,a),T}var rO=oO;function oO(n,e,t,i){return Xl(!0),e[We].createComment("")}function ci(n,e,t,i){let r=me(),o=Yl();if(ni(r,o,e)){let s=mt(),a=Xp();WP(a,r,n,e,t,i)}return ci}function sO(n,e,t,i){return ni(n,Yl(),t)?e+Xt(t)+i:Vt}function aO(n,e,t,i,r,o){let s=Yp(),a=Ys(n,s,t,r);return Jl(2),a?e+Xt(t)+i+Xt(r)+o:Vt}function cO(n,e,t,i,r,o,s,a){let c=Yp(),l=eO(n,c,t,r,s);return Jl(3),l?e+Xt(t)+i+Xt(r)+o+Xt(s)+a:Vt}function lO(n,e,t,i,r,o,s,a,c,l){let u=Yp(),p=tO(n,u,t,r,s,c);return Jl(4),p?e+Xt(t)+i+Xt(r)+o+Xt(s)+a+Xt(c)+l:Vt}function pl(n,e){return n<<17|e<<2}function yr(n){return n>>17&32767}function uO(n){return(n&2)==2}function dO(n,e){return n&131071|e<<17}function Tp(n){return n|2}function Po(n){return(n&131068)>>2}function $f(n,e){return n&-131069|e<<2}function hO(n){return(n&1)===1}function xp(n){return n|1}function fO(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=yr(s),c=Po(s);n[i]=t;let l=!1,u;if(Array.isArray(t)){let p=t;u=p[1],(u===null||Xs(p,u)>0)&&(l=!0)}else u=t;if(r)if(c!==0){let w=yr(n[a+1]);n[i+1]=pl(w,a),w!==0&&(n[w+1]=$f(n[w+1],i)),n[a+1]=dO(n[a+1],i)}else n[i+1]=pl(a,0),a!==0&&(n[a+1]=$f(n[a+1],i)),a=i;else n[i+1]=pl(c,0),a===0?a=i:n[c+1]=$f(n[c+1],i),c=i;l&&(n[i+1]=Tp(n[i+1])),qw(n,u,i,!0),qw(n,u,i,!1),pO(e,u,n,i,o),s=pl(a,c),o?e.classBindings=s:e.styleBindings=s}function pO(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Xs(o,e)>=0&&(t[i+1]=xp(t[i+1]))}function qw(n,e,t,i){let r=n[t+1],o=e===null,s=i?yr(r):Po(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];mO(c,e)&&(a=!0,n[s+1]=i?xp(l):Tp(l)),s=i?yr(l):Po(l)}a&&(n[t+1]=i?Tp(r):xp(r))}function mO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xs(n,e)>=0:!1}function _(n,e,t){let i=me(),r=Yl();if(ni(i,r,e)){let o=mt(),s=Xp();Ib(o,s,i,n,e,i[We],t,!1)}return _}function zw(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";mm(n,t,o[s],s,i)}function jn(n,e,t){return jb(n,e,t,!1),jn}function Se(n,e){return jb(n,e,null,!0),Se}function jb(n,e,t,i){let r=me(),o=mt(),s=Jl(2);if(o.firstUpdatePass&&_O(o,n,s,i),e!==Vt&&ni(r,s,e)){let a=o.data[ai()];bO(o,a,r,r[We],n,r[s+1]=EO(e,t),i,s)}}function gO(n,e){return e>=n.expandoStartIndex}function _O(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[ai()],s=gO(n,t);IO(o,i)&&e===null&&!s&&(e=!1),e=vO(r,o,e,i),fO(r,o,e,t,s,i)}}function vO(n,e,t,i){let r=bM(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=qf(null,n,e,t,i),t=Js(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=qf(r,n,e,t,i),o===null){let c=yO(n,e,i);c!==void 0&&Array.isArray(c)&&(c=qf(null,n,e,c[1],i),c=Js(c,e.attrs,i),wO(n,e,i,c))}else o=CO(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function yO(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Po(i)!==0)return n[yr(i)]}function wO(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[yr(r)]=i}function CO(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Js(i,s,t)}return Js(i,e.attrs,t)}function qf(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Js(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Js(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),EA(n,s,t?!0:e[++o]))}return n===void 0?null:n}function bO(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=hO(l)?Gw(c,e,t,r,Po(l),s):void 0;if(!Ll(u)){Ll(o)||uO(l)&&(o=Gw(c,null,t,r,a,s));let p=AC(ai(),t);TP(i,s,p,r,o)}}function Gw(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],l=Array.isArray(c),u=l?c[1]:c,p=u===null,w=t[r+1];w===Vt&&(w=p?en:void 0);let C=p?Of(w,i):u===i?w:void 0;if(l&&!Ll(C)&&(C=Of(c,i)),Ll(C)&&(a=C,s))return a;let x=n[r+1];r=s?yr(x):Po(x)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Of(c,i))}return a}function Ll(n){return n!==void 0}function EO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Et(sm(n)))),n}function IO(n,e){return(n.flags&(e?8:16))!==0}function TO(n,e,t,i,r,o){let s=e.consts,a=So(s,r),c=ta(e,n,2,i,a);return pm(e,t,c,So(s,o)),c.attrs!==null&&kl(c,c.attrs,!1),c.mergedAttrs!==null&&kl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function d(n,e,t,i){let r=me(),o=mt(),s=nn+n,a=r[We],c=o.firstCreatePass?TO(s,o,r,e,t,i):o.data[s],l=xO(o,r,c,a,e,n);r[s]=l;let u=Ql(c);return wr(c,!0),_b(a,l,c),!nO(c)&&Zl()&&nu(o,r,l,c),dM()===0&&Ai(l,r),hM(),u&&(dm(o,r,c),um(o,c,r)),i!==null&&hm(r,c),d}function h(){let n=kt();Qp()?FC():(n=n.parent,wr(n,!1));let e=n;mM(e)&&gM(),fM();let t=mt();return t.firstCreatePass&&(eu(t,n),Hp(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&AM(e)&&zw(t,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&MM(e)&&zw(t,e,me(),e.stylesWithoutHost,!1),h}function b(n,e,t,i){return d(n,e,t,i),h(),b}var xO=(n,e,t,i,r,o)=>(Xl(!0),ub(i,r,TM()));function DO(n,e,t,i,r){let o=e.consts,s=So(o,i),a=ta(e,n,8,"ng-container",s);s!==null&&kl(a,s,!0);let c=So(o,r);return pm(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Ae(n,e,t){let i=me(),r=mt(),o=n+nn,s=r.firstCreatePass?DO(o,r,i,e,t):r.data[o];wr(s,!0);let a=SO(r,i,s,n);return i[o]=a,Zl()&&nu(r,i,a,s),Ai(a,i),Ql(s)&&(dm(r,i,s),um(r,s,i)),t!=null&&hm(i,s),Ae}function Me(){let n=kt(),e=mt();return Qp()?FC():(n=n.parent,wr(n,!1)),e.firstCreatePass&&(eu(e,n),Hp(n)&&e.queries.elementEnd(n)),Me}var SO=(n,e,t,i)=>(Xl(!0),aP(e[We],""));function M(){return me()}var ur=void 0;function AO(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var MO=["en",[["a","p"],["AM","PM"],ur],[["AM","PM"],ur,ur],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ur,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ur,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ur,"{1} 'at' {0}",ur],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",AO],zf={};function an(n){let e=PO(n),t=Hw(e);if(t)return t;let i=e.split("-")[0];if(t=Hw(i),t)return t;if(i==="en")return MO;throw new U(701,!1)}function Hw(n){return n in zf||(zf[n]=ti.ng&&ti.ng.common&&ti.ng.common.locales&&ti.ng.common.locales[n]),zf[n]}var qe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(qe||{});function PO(n){return n.toLowerCase().replace(/_/g,"-")}var jl="en-US";var OO=jl;function RO(n){typeof n=="string"&&(OO=n.toLowerCase().replace(/_/g,"-"))}function E(n,e,t,i){let r=me(),o=mt(),s=kt();return Ub(o,r,r[We],s,n,e,i),E}function NO(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[zs],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Ub(n,e,t,i,r,o,s){let a=Ql(i),l=n.firstCreatePass&&ZP(n),u=e[yn],p=JP(e),w=!0;if(i.type&3||s){let D=rn(i,e),A=s?s(D):D,F=p.length,fe=s?be=>s(Fn(be[i.index])):i.index,G=null;if(!s&&a&&(G=NO(n,e,r,i.index)),G!==null){let be=G.__ngLastListenerFn__||G;be.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,w=!1}else{o=Kw(i,e,u,o,!1);let be=t.listen(A,r,o);p.push(o,be),l&&l.push(r,fe,F,F+1)}}else o=Kw(i,e,u,o,!1);let C=i.outputs,x;if(w&&C!==null&&(x=C[r])){let D=x.length;if(D)for(let A=0;A<D;A+=2){let F=x[A],fe=x[A+1],Ze=e[F][fe].subscribe(o),_e=p.length;p.push(o,Ze),l&&l.push(r,i.index,_e,-(_e+1))}}}function Ww(n,e,t,i){let r=ve(null);try{return Pn(6,e,t),t(i)!==!1}catch(o){return Ab(n,o),!1}finally{Pn(7,e,t),ve(r)}}function Kw(n,e,t,i,r){return function o(s){if(s===Function)return i;let a=n.componentOffset>-1?Oi(n.index,e):e;_m(a);let c=Ww(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=Ww(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function g(n=1){return IM(n)}function kO(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function m(n,e=""){let t=me(),i=mt(),r=n+nn,o=i.firstCreatePass?ta(i,r,1,e,null):i.data[r],s=FO(i,t,o,e,n);t[r]=s,Zl()&&nu(i,t,s,o),wr(o,!1)}var FO=(n,e,t,i,r)=>(Xl(!0),oP(e[We],i));function K(n){return O("",n,""),K}function O(n,e,t){let i=me(),r=sO(i,n,e,t);return r!==Vt&&su(i,ai(),r),O}function cn(n,e,t,i,r){let o=me(),s=aO(o,n,e,t,i,r);return s!==Vt&&su(o,ai(),s),cn}function hu(n,e,t,i,r,o,s){let a=me(),c=cO(a,n,e,t,i,r,o,s);return c!==Vt&&su(a,ai(),c),hu}function bm(n,e,t,i,r,o,s,a,c){let l=me(),u=lO(l,n,e,t,i,r,o,s,a,c);return u!==Vt&&su(l,ai(),u),bm}function X(n,e,t){Vb(e)&&(e=e());let i=me(),r=Yl();if(ni(i,r,e)){let o=mt(),s=Xp();Ib(o,s,i,n,e,i[We],t,!1)}return X}function re(n,e){let t=Vb(n);return t&&n.set(e),t}function ee(n,e){let t=me(),i=mt(),r=kt();return Ub(i,t,t[We],r,n,e),ee}function VO(n,e,t){let i=mt();if(i.firstCreatePass){let r=Si(n);Dp(t,i.data,i.blueprint,r,!0),Dp(e,i.data,i.blueprint,r,!1)}}function Dp(n,e,t,i,r){if(n=bt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Dp(n[o],e,t,i,r);else{let o=mt(),s=me(),a=kt(),c=To(n)?n:bt(n.provide),l=CC(n),u=a.providerIndexes&1048575,p=a.directiveStart,w=a.providerIndexes>>20;if(To(n)||!n.multi){let C=new _r(l,r,q),x=Hf(c,e,r?u:u+w,p);x===-1?(op(Ml(a,s),o,c),Gf(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(C),s.push(C)):(t[x]=C,s[x]=C)}else{let C=Hf(c,e,u+w,p),x=Hf(c,e,u,u+w),D=C>=0&&t[C],A=x>=0&&t[x];if(r&&!A||!r&&!D){op(Ml(a,s),o,c);let F=UO(r?jO:LO,t.length,r,i,l);!r&&A&&(t[x].providerFactory=F),Gf(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=Bb(t[r?x:C],l,!r&&i);Gf(o,n,C>-1?C:x,F)}!r&&i&&A&&t[x].componentProviders++}}}function Gf(n,e,t,i){let r=To(e),o=zA(e);if(r||o){let c=(o?bt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function Bb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Hf(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function LO(n,e,t,i){return Sp(this.multi,[])}function jO(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ao(t,t[ue],this.providerFactory.index,i);o=a.slice(0,s),Sp(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Sp(r,o);return o}function Sp(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function UO(n,e,t,i,r){let o=new _r(n,t,q);return o.multi=[],o.index=e,o.componentProviders=0,Bb(o,r,i&&!t),o}function Lt(n,e=[]){return t=>{t.providersResolver=(i,r)=>VO(i,r?r(n):n,e)}}var BO=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=vC(!1,t.type),r=i.length>0?du([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=L({token:n,providedIn:"environment",factory:()=>new n($(ht))})}}return n})();function Ri(n){lu("NgStandalone"),n.getStandaloneInjector=e=>e.get(BO).getOrCreateStandaloneInjector(n)}function It(n,e,t){let i=ea()+n,r=me();return r[i]===Vt?Cm(r,i,t?e.call(t):e()):X2(r,i)}function $b(n,e,t,i){return Gb(me(),ea(),n,e,t,i)}function qb(n,e,t,i,r){return Hb(me(),ea(),n,e,t,i,r)}function zb(n,e){let t=n[e];return t===Vt?void 0:t}function Gb(n,e,t,i,r,o){let s=e+t;return ni(n,s,r)?Cm(n,s+1,o?i.call(o,r):i(r)):zb(n,s+1)}function Hb(n,e,t,i,r,o,s){let a=e+t;return Ys(n,a,r,o)?Cm(n,a+2,s?i.call(s,r,o):i(r,o)):zb(n,a+2)}function Fo(n,e){let t=mt(),i,r=n+nn;t.firstCreatePass?(i=$O(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=fr(i.type,!0)),s,a=Ot(q);try{let c=Al(!1),l=o();return Al(c),kO(t,me(),r,l),l}finally{Ot(a)}}function $O(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function Wb(n,e,t){let i=n+nn,r=me(),o=PC(r,i);return Kb(r,i)?Gb(r,ea(),e,o.transform,t,o):o.transform(t)}function na(n,e,t,i){let r=n+nn,o=me(),s=PC(o,r);return Kb(o,r)?Hb(o,ea(),e,s.transform,t,i,s):s.transform(t,i)}function Kb(n,e){return n[ue].data[e].pure}var ii=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Qb=new ii("17.3.12"),fu=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Yb=new B("");function Cr(n){return!!n&&typeof n.then=="function"}function Jb(n){return!!n&&typeof n.subscribe=="function"}var pu=new B(""),Zb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=N(pu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(Cr(o))t.push(o);else if(Jb(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ia=new B("");function qO(){qy(()=>{throw new U(600,!1)})}function zO(n){return n.isBoundToModule}function GO(n,e,t){try{let i=t();return Cr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Vo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(tb),this.afterRenderEffectManager=N(ym),this.externalTestViews=new Set,this.beforeRender=new Ct,this.afterTick=new Ct,this.componentTypes=[],this.components=[],this.isStable=N(ko).hasPendingTasks.pipe(ie(t=>!t)),this._injector=N(ht)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Nl;if(!this._injector.get(Zb).done){let w=!r&&pC(t),C=!1;throw new U(405,C)}let s;r?s=t:s=this._injector.get(cu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=zO(s)?void 0:this._injector.get(Mi),c=i||s.selector,l=s.create(Ft.NULL,[],c,a),u=l.location.nativeElement,p=l.injector.get(Yb,null);return p?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Wf(this.components,l),p?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new U(101,!1);let i=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,ve(i)}}detectChangesInAttachedViews(t){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===Pb)throw new U(103,!1);if(t){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)HO(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ap(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ap(o))))break}}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Wf(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(ia,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Wf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function HO(n,e,t){!e&&!Ap(n)||WO(n,t,e)}function Ap(n){return Kp(n)}function WO(n,e,t){let i;t?(i=0,n[Y]|=1024):n[Y]&64?i=0:i=1,Ob(n,e,i)}var Mp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},mu=(()=>{class n{compileModuleSync(t){return new Ip(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=mC(t),o=lb(r.declarations).reduce((s,a)=>{let c=Di(a);return c&&s.push(new Mo(c)),s},[]);return new Mp(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var KO=(()=>{class n{constructor(){this.zone=N(Ee),this.applicationRef=N(Vo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QO(n){return[{provide:Ee,useFactory:n},{provide:Io,multi:!0,useFactory:()=>{let e=N(KO,{optional:!0});return()=>e.initialize()}},{provide:Io,multi:!0,useFactory:()=>{let e=N(XO);return()=>{e.initialize()}}},{provide:tb,useFactory:YO}]}function YO(){let n=N(Ee),e=N(Vn);return t=>n.runOutsideAngular(()=>e.handleError(t))}function JO(n){let e=QO(()=>new Ee(ZO(n)));return Oo([[],e])}function ZO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var XO=(()=>{class n{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=N(Ee),this.pendingTasks=N(ko)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function eR(){return typeof $localize<"u"&&$localize.locale||jl}var gu=new B("",{providedIn:"root",factory:()=>N(gu,se.Optional|se.SkipSelf)||eR()});var Xb=new B("");var yl=null;function tR(n=[],e){return Ft.create({name:e,providers:[{provide:Gl,useValue:"platform"},{provide:Xb,useValue:new Set([()=>yl=null])},...n]})}function nR(n=[]){if(yl)return yl;let e=tR(n);return yl=e,qO(),iR(e),e}function iR(n){n.get(im,null)?.forEach(t=>t())}var br=(()=>{class n{static{this.__NG_ELEMENT_ID__=rR}}return n})();function rR(n){return oR(kt(),me(),(n&16)===16)}function oR(n,e,t){if(Kl(n)&&!t){let i=Oi(n.index,e);return new vr(i,i)}else if(n.type&47){let i=e[kn];return new vr(i,e)}return null}var Pp=class{constructor(){}supports(e){return Lb(e)}create(e){return new Op(e)}},sR=(n,e)=>e,Op=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sR}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<Qw(i,r,o)?t:i,a=Qw(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let w=0;w<l;w++){let C=w<o.length?o[w]:o[w]=0,x=C+w;u<=x&&x<l&&(o[w]=C+1)}let p=s.previousIndex;o[p]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Lb(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,Z2(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Rp(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ul),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ul),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Rp=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Np=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Ul=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Np,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Qw(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var kp=class{constructor(){}supports(e){return e instanceof Map||wm(e)}create(){return new Fp}},Fp=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||wm(e)))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new Vp(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},Vp=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Yw(){return new Em([new Pp])}var Em=(()=>{class n{static{this.\u0275prov=L({token:n,providedIn:"root",factory:Yw})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Yw()),deps:[[n,new zl,new $t]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new U(901,!1)}}return n})();function Jw(){return new Im([new kp])}var Im=(()=>{class n{static{this.\u0275prov=L({token:n,providedIn:"root",factory:Jw})}constructor(t){this.factories=t}static create(t,i){if(i){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Jw()),deps:[[n,new zl,new $t]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i)return i;throw new U(901,!1)}}return n})();function eE(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=nR(i),o=[JO(),...t||[]],a=new Vl({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ee);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Vn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:C=>{l.handleError(C)}})});let p=()=>a.destroy(),w=r.get(Xb);return w.add(p),a.onDestroy(()=>{u.unsubscribe(),w.delete(p)}),GO(l,c,()=>{let C=a.get(Zb);return C.runInitializers(),C.donePromise.then(()=>{let x=a.get(gu,jl);RO(x||jl);let D=a.get(Vo);return e!==void 0&&D.bootstrap(e),D})})})}catch(e){return Promise.reject(e)}}function ra(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function tE(n){let e=Di(n);if(!e)return null;let t=new Mo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var cE=null;function hi(){return cE}function lE(n){cE??=n}var Tu=class{};var gt=new B(""),Rm=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:()=>N(lR),providedIn:"platform"})}}return n})(),uE=new B(""),lR=(()=>{class n extends Rm{constructor(){super(),this._doc=N(gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hi().getBaseHref(this._doc)}onPopState(t){let i=hi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=hi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Nm(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function nE(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function ui(n){return n&&n[0]!=="?"?"?"+n:n}var Er=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:()=>N(km),providedIn:"root"})}}return n})(),dE=new B(""),km=(()=>{class n extends Er{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Nm(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+ui(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ui(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ui(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)($(Rm),$(dE,8))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hE=(()=>{class n extends Er{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=Nm(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ui(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ui(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)($(Rm),$(dE,8))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})(),jo=(()=>{class n{constructor(t){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=hR(nE(iE(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ui(i))}normalize(t){return n.stripTrailingSlash(dR(this._basePath,iE(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ui(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ui(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=ui}static{this.joinWithSlash=Nm}static{this.stripTrailingSlash=nE}static{this.\u0275fac=function(i){return new(i||n)($(Er))}}static{this.\u0275prov=L({token:n,factory:()=>uR(),providedIn:"root"})}}return n})();function uR(){return new jo($(Er))}function dR(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function iE(n){return n.replace(/\/index.html$/,"")}function hR(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Tt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Tt||{}),Oe=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Oe||{}),Gt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Gt||{}),Ni={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function fR(n){return an(n)[qe.LocaleId]}function pR(n,e,t){let i=an(n),r=[i[qe.DayPeriodsFormat],i[qe.DayPeriodsStandalone]],o=ln(r,e);return ln(o,t)}function mR(n,e,t){let i=an(n),r=[i[qe.DaysFormat],i[qe.DaysStandalone]],o=ln(r,e);return ln(o,t)}function gR(n,e,t){let i=an(n),r=[i[qe.MonthsFormat],i[qe.MonthsStandalone]],o=ln(r,e);return ln(o,t)}function _R(n,e){let i=an(n)[qe.Eras];return ln(i,e)}function _u(n,e){let t=an(n);return ln(t[qe.DateFormat],e)}function vu(n,e){let t=an(n);return ln(t[qe.TimeFormat],e)}function yu(n,e){let i=an(n)[qe.DateTimeFormat];return ln(i,e)}function Du(n,e){let t=an(n),i=t[qe.NumberSymbols][e];if(typeof i>"u"){if(e===Ni.CurrencyDecimal)return t[qe.NumberSymbols][Ni.Decimal];if(e===Ni.CurrencyGroup)return t[qe.NumberSymbols][Ni.Group]}return i}function fE(n){if(!n[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vR(n){let e=an(n);return fE(e),(e[qe.ExtraData][2]||[]).map(i=>typeof i=="string"?Tm(i):[Tm(i[0]),Tm(i[1])])}function yR(n,e,t){let i=an(n);fE(i);let r=[i[qe.ExtraData][0],i[qe.ExtraData][1]],o=ln(r,e)||[];return ln(o,t)||[]}function ln(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Tm(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var wR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wu={},CR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,di=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(di||{}),we=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(we||{}),ye=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(ye||{});function bR(n,e,t,i){let r=PR(n);e=li(t,e)||e;let s=[],a;for(;e;)if(a=CR.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=r.getTimezoneOffset();i&&(c=mE(i,c),r=MR(r,i,!0));let l="";return s.forEach(u=>{let p=SR(u);l+=p?p(r,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function xu(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function li(n,e){let t=fR(n);if(wu[t]??={},wu[t][e])return wu[t][e];let i="";switch(e){case"shortDate":i=_u(n,Gt.Short);break;case"mediumDate":i=_u(n,Gt.Medium);break;case"longDate":i=_u(n,Gt.Long);break;case"fullDate":i=_u(n,Gt.Full);break;case"shortTime":i=vu(n,Gt.Short);break;case"mediumTime":i=vu(n,Gt.Medium);break;case"longTime":i=vu(n,Gt.Long);break;case"fullTime":i=vu(n,Gt.Full);break;case"short":let r=li(n,"shortTime"),o=li(n,"shortDate");i=Cu(yu(n,Gt.Short),[r,o]);break;case"medium":let s=li(n,"mediumTime"),a=li(n,"mediumDate");i=Cu(yu(n,Gt.Medium),[s,a]);break;case"long":let c=li(n,"longTime"),l=li(n,"longDate");i=Cu(yu(n,Gt.Long),[c,l]);break;case"full":let u=li(n,"fullTime"),p=li(n,"fullDate");i=Cu(yu(n,Gt.Full),[u,p]);break}return i&&(wu[t][e]=i),i}function Cu(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function En(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function ER(n,e){return En(n,3).substring(0,e)}function Ke(n,e,t=0,i=!1,r=!1){return function(o,s){let a=IR(n,o);if((t>0||a>-t)&&(a+=t),n===we.Hours)a===0&&t===-12&&(a=12);else if(n===we.FractionalSeconds)return ER(a,e);let c=Du(s,Ni.MinusSign);return En(a,e,c,i,r)}}function IR(n,e){switch(n){case we.FullYear:return e.getFullYear();case we.Month:return e.getMonth();case we.Date:return e.getDate();case we.Hours:return e.getHours();case we.Minutes:return e.getMinutes();case we.Seconds:return e.getSeconds();case we.FractionalSeconds:return e.getMilliseconds();case we.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Re(n,e,t=Tt.Format,i=!1){return function(r,o){return TR(r,o,n,e,t,i)}}function TR(n,e,t,i,r,o){switch(t){case ye.Months:return gR(e,r,i)[n.getMonth()];case ye.Days:return mR(e,r,i)[n.getDay()];case ye.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=vR(e),u=yR(e,r,i),p=l.findIndex(w=>{if(Array.isArray(w)){let[C,x]=w,D=s>=C.hours&&a>=C.minutes,A=s<x.hours||s===x.hours&&a<x.minutes;if(C.hours<x.hours){if(D&&A)return!0}else if(D||A)return!0}else if(w.hours===s&&w.minutes===a)return!0;return!1});if(p!==-1)return u[p]}return pR(e,r,i)[s<12?0:1];case ye.Eras:return _R(e,i)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function bu(n){return function(e,t,i){let r=-1*i,o=Du(t,Ni.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case di.Short:return(r>=0?"+":"")+En(s,2,o)+En(Math.abs(r%60),2,o);case di.ShortGMT:return"GMT"+(r>=0?"+":"")+En(s,1,o);case di.Long:return"GMT"+(r>=0?"+":"")+En(s,2,o)+":"+En(Math.abs(r%60),2,o);case di.Extended:return i===0?"Z":(r>=0?"+":"")+En(s,2,o)+":"+En(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var xR=0,Iu=4;function DR(n){let e=xu(n,xR,1).getDay();return xu(n,0,1+(e<=Iu?Iu:Iu+7)-e)}function pE(n){let e=n.getDay(),t=e===0?-3:Iu-e;return xu(n.getFullYear(),n.getMonth(),n.getDate()+t)}function xm(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=pE(t),s=DR(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return En(r,n,Du(i,Ni.MinusSign))}}function Eu(n,e=!1){return function(t,i){let o=pE(t).getFullYear();return En(o,n,Du(i,Ni.MinusSign),e)}}var Dm={};function SR(n){if(Dm[n])return Dm[n];let e;switch(n){case"G":case"GG":case"GGG":e=Re(ye.Eras,Oe.Abbreviated);break;case"GGGG":e=Re(ye.Eras,Oe.Wide);break;case"GGGGG":e=Re(ye.Eras,Oe.Narrow);break;case"y":e=Ke(we.FullYear,1,0,!1,!0);break;case"yy":e=Ke(we.FullYear,2,0,!0,!0);break;case"yyy":e=Ke(we.FullYear,3,0,!1,!0);break;case"yyyy":e=Ke(we.FullYear,4,0,!1,!0);break;case"Y":e=Eu(1);break;case"YY":e=Eu(2,!0);break;case"YYY":e=Eu(3);break;case"YYYY":e=Eu(4);break;case"M":case"L":e=Ke(we.Month,1,1);break;case"MM":case"LL":e=Ke(we.Month,2,1);break;case"MMM":e=Re(ye.Months,Oe.Abbreviated);break;case"MMMM":e=Re(ye.Months,Oe.Wide);break;case"MMMMM":e=Re(ye.Months,Oe.Narrow);break;case"LLL":e=Re(ye.Months,Oe.Abbreviated,Tt.Standalone);break;case"LLLL":e=Re(ye.Months,Oe.Wide,Tt.Standalone);break;case"LLLLL":e=Re(ye.Months,Oe.Narrow,Tt.Standalone);break;case"w":e=xm(1);break;case"ww":e=xm(2);break;case"W":e=xm(1,!0);break;case"d":e=Ke(we.Date,1);break;case"dd":e=Ke(we.Date,2);break;case"c":case"cc":e=Ke(we.Day,1);break;case"ccc":e=Re(ye.Days,Oe.Abbreviated,Tt.Standalone);break;case"cccc":e=Re(ye.Days,Oe.Wide,Tt.Standalone);break;case"ccccc":e=Re(ye.Days,Oe.Narrow,Tt.Standalone);break;case"cccccc":e=Re(ye.Days,Oe.Short,Tt.Standalone);break;case"E":case"EE":case"EEE":e=Re(ye.Days,Oe.Abbreviated);break;case"EEEE":e=Re(ye.Days,Oe.Wide);break;case"EEEEE":e=Re(ye.Days,Oe.Narrow);break;case"EEEEEE":e=Re(ye.Days,Oe.Short);break;case"a":case"aa":case"aaa":e=Re(ye.DayPeriods,Oe.Abbreviated);break;case"aaaa":e=Re(ye.DayPeriods,Oe.Wide);break;case"aaaaa":e=Re(ye.DayPeriods,Oe.Narrow);break;case"b":case"bb":case"bbb":e=Re(ye.DayPeriods,Oe.Abbreviated,Tt.Standalone,!0);break;case"bbbb":e=Re(ye.DayPeriods,Oe.Wide,Tt.Standalone,!0);break;case"bbbbb":e=Re(ye.DayPeriods,Oe.Narrow,Tt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(ye.DayPeriods,Oe.Abbreviated,Tt.Format,!0);break;case"BBBB":e=Re(ye.DayPeriods,Oe.Wide,Tt.Format,!0);break;case"BBBBB":e=Re(ye.DayPeriods,Oe.Narrow,Tt.Format,!0);break;case"h":e=Ke(we.Hours,1,-12);break;case"hh":e=Ke(we.Hours,2,-12);break;case"H":e=Ke(we.Hours,1);break;case"HH":e=Ke(we.Hours,2);break;case"m":e=Ke(we.Minutes,1);break;case"mm":e=Ke(we.Minutes,2);break;case"s":e=Ke(we.Seconds,1);break;case"ss":e=Ke(we.Seconds,2);break;case"S":e=Ke(we.FractionalSeconds,1);break;case"SS":e=Ke(we.FractionalSeconds,2);break;case"SSS":e=Ke(we.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=bu(di.Short);break;case"ZZZZZ":e=bu(di.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=bu(di.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=bu(di.Long);break;default:return null}return Dm[n]=e,e}function mE(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function AR(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function MR(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),o=mE(e,r);return AR(n,i*(o-r))}function PR(n){if(rE(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return xu(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(wR))return OR(i)}let e=new Date(n);if(!rE(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function OR(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function rE(n){return n instanceof Date&&!isNaN(n.valueOf())}function Su(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Sm=/\s+/,oE=[],gE=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=oE,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Sm):oE}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Sm):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Sm).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(q(on),q(bn))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngClass",""]],inputs:{klass:[at.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Am=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Uo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Am(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),sE(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);sE(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(q(No),q(au),q(Em))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function sE(n,e){n.context.$implicit=e.item}var Bo=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Mm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){aE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){aE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(q(No),q(au))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Mm=class{constructor(){this.$implicit=null,this.ngIf=null}};function aE(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Et(e)}'.`)}var _E=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[r,o]=t.split("."),s=r.indexOf("-")===-1?void 0:Ln.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(q(on),q(Im),q(bn))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();function RR(n,e){return new U(2100,!1)}var NR="mediumDate",kR=new B(""),FR=new B(""),Au=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??NR,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return bR(t,s,o||this.locale,a)}catch(s){throw RR(n,s.message)}}static{this.\u0275fac=function(i){return new(i||n)(q(gu,16),q(kR,24),q(FR,24))}}static{this.\u0275pipe=Bp({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var vE=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=Bp({name:"json",type:n,pure:!1,standalone:!0})}}return n})();var Ir=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({})}}return n})(),Fm="browser",VR="server";function LR(n){return n===Fm}function Mu(n){return n===VR}var yE=(()=>{class n{static{this.\u0275prov=L({token:n,providedIn:"root",factory:()=>LR(N(sn))?new Pm(N(gt),window):new Om})}}return n})(),Pm=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=jR(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function jR(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var Om=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Lo=class{};var sa=class{},Ru=class{},Tr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Lm=class{encodeKey(e){return wE(e)}encodeValue(e){return wE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function $R(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var qR=/%(\d[a-f0-9])/gi,zR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wE(n){return encodeURIComponent(n).replace(qR,(e,t)=>zR[t]??e)}function Ou(n){return`${n}`}var ki=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Lm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=$R(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Ou):[Ou(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ou(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Ou(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var jm=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function GR(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function CE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bE(n){return typeof Blob<"u"&&n instanceof Blob}function EE(n){return typeof FormData<"u"&&n instanceof FormData}function HR(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var oa=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(GR(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Tr,this.context??=new jm,!this.params)this.params=new ki,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||CE(this.body)||bE(this.body)||EE(this.body)||HR(this.body)?this.body:this.body instanceof ki?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||EE(this.body)?null:bE(this.body)?this.body.type||null:CE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ki?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((w,C)=>w.set(C,e.setHeaders[C]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((w,C)=>w.set(C,e.setParams[C]),u)),new n(t,i,s,{params:u,headers:l,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},$o=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}($o||{}),aa=class{constructor(e,t=Fu.Ok,i="OK"){this.headers=e.headers||new Tr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Um=class n extends aa{constructor(e={}){super(e),this.type=$o.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Nu=class n extends aa{constructor(e={}){super(e),this.type=$o.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ku=class extends aa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Fu=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Fu||{});function Vm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Bm=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof oa)o=t;else{let c;r.headers instanceof Tr?c=r.headers:c=new Tr(r.headers);let l;r.params&&(r.params instanceof ki?l=r.params:l=new ki({fromObject:r.params})),o=new oa(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=W(o).pipe(Xn(c=>this.handler.handle(c)));if(t instanceof oa||r.observe==="events")return s;let a=s.pipe(Mt(c=>c instanceof Nu));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ie(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ie(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ie(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new ki().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Vm(r,i))}post(t,i,r={}){return this.request("POST",t,Vm(r,i))}put(t,i,r={}){return this.request("PUT",t,Vm(r,i))}static{this.\u0275fac=function(i){return new(i||n)($(sa))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})();function WR(n,e){return e(n)}function KR(n,e,t){return(i,r)=>wn(t,()=>e(i,o=>n(o,r)))}var xE=new B(""),QR=new B(""),YR=new B("");var IE=(()=>{class n extends sa{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=N(ko);let r=N(YR,{optional:!0});this.backend=r??t}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(xE),...this.injector.get(QR,[])]));this.chain=r.reduceRight((o,s)=>KR(o,s,this.injector),WR)}let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(lr(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)($(Ru),$(ht))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})();var JR=/^\)\]\}',?\n/;function ZR(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var TE=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new U(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ke(i.\u0275loadImpl()):W(null)).pipe(Pt(()=>new ce(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,A)=>s.setRequestHeader(D,A.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader("Content-Type",D)}if(t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let D=s.statusText||"OK",A=new Tr(s.getAllResponseHeaders()),F=ZR(s)||t.url;return c=new Um({headers:A,status:s.status,statusText:D,url:F}),c},u=()=>{let{headers:D,status:A,statusText:F,url:fe}=l(),G=null;A!==Fu.NoContent&&(G=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=G?Fu.Ok:0);let be=A>=200&&A<300;if(t.responseType==="json"&&typeof G=="string"){let Ze=G;G=G.replace(JR,"");try{G=G!==""?JSON.parse(G):null}catch(_e){G=Ze,be&&(be=!1,G={error:_e,text:G})}}be?(o.next(new Nu({body:G,headers:D,status:A,statusText:F,url:fe||void 0})),o.complete()):o.error(new ku({error:G,headers:D,status:A,statusText:F,url:fe||void 0}))},p=D=>{let{url:A}=l(),F=new ku({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(F)},w=!1,C=D=>{w||(o.next(l()),w=!0);let A={type:$o.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(A.total=D.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},x=D=>{let A={type:$o.UploadProgress,loaded:D.loaded};D.lengthComputable&&(A.total=D.total),o.next(A)};return s.addEventListener("load",u),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",C),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:$o.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",u),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",C),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)($(Lo))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})(),DE=new B(""),XR="XSRF-TOKEN",eN=new B("",{providedIn:"root",factory:()=>XR}),tN="X-XSRF-TOKEN",nN=new B("",{providedIn:"root",factory:()=>tN}),Vu=class{},iN=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Su(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)($(gt),$(sn),$(eN))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})();function rN(n,e){let t=n.url.toLowerCase();if(!N(DE)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=N(Vu).getToken(),r=N(nN);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function SE(...n){let e=[Bm,TE,IE,{provide:sa,useExisting:IE},{provide:Ru,useExisting:TE},{provide:xE,useValue:rN,multi:!0},{provide:DE,useValue:!0},{provide:Vu,useClass:iN}];for(let t of n)e.push(...t.\u0275providers);return Oo(e)}var zm=class extends Tu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gm=class n extends zm{static makeCurrent(){lE(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=sN();return t==null?null:aN(t)}resetBaseElement(){ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Su(document.cookie,e)}},ca=null;function sN(){return ca=ca||document.querySelector("base"),ca?ca.getAttribute("href"):null}function aN(n){return new URL(n,document.baseURI).pathname}var cN=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})(),Hm=new B(""),OE=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)($(Hm),$(Ee))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})(),Lu=class{constructor(e){this._doc=e}},$m="ng-app-id",RE=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Mu(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${$m}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute($m),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute($m,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)($(gt),$(nm),$(rm,8),$(sn))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})(),qm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Km=/%COMP%/g,NE="%COMP%",lN=`_nghost-${NE}`,uN=`_ngcontent-${NE}`,dN=!0,hN=new B("",{providedIn:"root",factory:()=>dN});function fN(n){return uN.replace(Km,n)}function pN(n){return lN.replace(Km,n)}function kE(n,e){return e.map(t=>t.replace(Km,n))}var AE=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Mu(a),this.defaultRenderer=new la(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Rn.ShadowDom&&(i=H(P({},i),{encapsulation:Rn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof ju?r.applyToHost(t):r instanceof ua&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Rn.Emulated:o=new ju(c,l,i,this.appId,u,s,a,p);break;case Rn.ShadowDom:return new Wm(c,l,t,i,s,a,this.nonce,p);default:o=new ua(c,l,i,u,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)($(OE),$(RE),$(nm),$(hN),$(gt),$(sn),$(Ee),$(rm))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})(),la=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(qm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ME(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(ME(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new U(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=qm[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=qm[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ln.DashCase|Ln.Important)?e.style.setProperty(t,i,r&Ln.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ln.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=hi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function ME(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Wm=class extends la{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=kE(r.id,r.styles);for(let u of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=u,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ua=class extends la{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?kE(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ju=class extends ua{constructor(e,t,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=fN(l),this.hostAttr=pN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},mN=(()=>{class n extends Lu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)($(gt))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})(),PE=["alt","control","meta","shift"],gN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_N={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},vN=(()=>{class n extends Lu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),PE.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=gN[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),PE.forEach(s=>{if(s!==r){let a=_N[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)($(gt))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})();function FE(n,e){return eE(P({rootComponent:n},yN(e)))}function yN(n){return{appProviders:[...IN,...n?.providers??[]],platformProviders:EN}}function wN(){Gm.makeCurrent()}function CN(){return new Vn}function bN(){return ab(document),document}var EN=[{provide:sn,useValue:Fm},{provide:im,useValue:wN,multi:!0},{provide:gt,useFactory:bN,deps:[]}];var IN=[{provide:Gl,useValue:"root"},{provide:Vn,useFactory:CN,deps:[]},{provide:Hm,useClass:mN,multi:!0,deps:[gt,Ee,sn]},{provide:Hm,useClass:vN,multi:!0,deps:[gt]},AE,RE,OE,{provide:Ks,useExisting:AE},{provide:Lo,useClass:cN,deps:[]},[]];var VE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)($(gt))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var WE=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(q(bn),q(on))}}static{this.\u0275dir=Te({type:n})}}return n})(),Go=(()=>{class n extends WE{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275dir=Te({type:n,features:[Xe]})}}return n})(),Li=new B(""),xN={provide:Li,useExisting:pt(()=>Xm),multi:!0},Xm=(()=>{class n extends Go{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275dir=Te({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&E("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Lt([xN]),Xe]})}}return n})(),DN={provide:Li,useExisting:pt(()=>Ho),multi:!0};function SN(){let n=hi()?hi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var AN=new B(""),Ho=(()=>{class n extends WE{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!SN())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(q(bn),q(on),q(AN,8))}}static{this.\u0275dir=Te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&E("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Lt([DN]),Xe]})}}return n})();function Fi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function KE(n){return n!=null&&typeof n.length=="number"}var Dr=new B(""),eg=new B(""),MN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,et=class{static min(e){return QE(e)}static max(e){return YE(e)}static required(e){return JE(e)}static requiredTrue(e){return PN(e)}static email(e){return ON(e)}static minLength(e){return RN(e)}static maxLength(e){return ZE(e)}static pattern(e){return NN(e)}static nullValidator(e){return Bu(e)}static compose(e){return rI(e)}static composeAsync(e){return sI(e)}};function QE(n){return e=>{if(Fi(e.value)||Fi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function YE(n){return e=>{if(Fi(e.value)||Fi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function JE(n){return Fi(n.value)?{required:!0}:null}function PN(n){return n.value===!0?null:{required:!0}}function ON(n){return Fi(n.value)||MN.test(n.value)?null:{email:!0}}function RN(n){return e=>Fi(e.value)||!KE(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function ZE(n){return e=>KE(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function NN(n){if(!n)return Bu;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Fi(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Bu(n){return null}function XE(n){return n!=null}function eI(n){return Cr(n)?ke(n):n}function tI(n){let e={};return n.forEach(t=>{e=t!=null?P(P({},e),t):e}),Object.keys(e).length===0?null:e}function nI(n,e){return e.map(t=>t(n))}function kN(n){return!n.validate}function iI(n){return n.map(e=>kN(e)?e:t=>e.validate(t))}function rI(n){if(!n)return null;let e=n.filter(XE);return e.length==0?null:function(t){return tI(nI(t,e))}}function oI(n){return n!=null?rI(iI(n)):null}function sI(n){if(!n)return null;let e=n.filter(XE);return e.length==0?null:function(t){let i=nI(t,e).map(eI);return xf(i).pipe(ie(tI))}}function aI(n){return n!=null?sI(iI(n)):null}function LE(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cI(n){return n._rawValidators}function lI(n){return n._rawAsyncValidators}function Qm(n){return n?Array.isArray(n)?n:[n]:[]}function $u(n,e){return Array.isArray(n)?n.includes(e):n===e}function jE(n,e){let t=Qm(e);return Qm(n).forEach(r=>{$u(t,r)||t.push(r)}),t}function UE(n,e){return Qm(e).filter(t=>!$u(n,t))}var qu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},xr=class extends qu{get formDirective(){return null}get path(){return null}},Vi=class extends qu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},FN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},AK=H(P({},FN),{"[class.ng-submitted]":"isSubmitted"}),Ku=(()=>{class n extends zu{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(q(Vi,2))}}static{this.\u0275dir=Te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Se("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Xe]})}}return n})(),uI=(()=>{class n extends zu{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(q(xr,10))}}static{this.\u0275dir=Te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Se("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Xe]})}}return n})();var da="VALID",Uu="INVALID",qo="PENDING",ha="DISABLED";function tg(n){return(Qu(n)?n.validators:n)||null}function VN(n){return Array.isArray(n)?oI(n):n||null}function ng(n,e){return(Qu(e)?e.asyncValidators:n)||null}function LN(n){return Array.isArray(n)?aI(n):n||null}function Qu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function dI(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new U(1e3,"");if(!i[t])throw new U(1001,"")}function hI(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new U(1002,"")})}var zo=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===da}get invalid(){return this.status===Uu}get pending(){return this.status==qo}get disabled(){return this.status===ha}get enabled(){return this.status!==ha}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UE(e,this._rawAsyncValidators))}hasValidator(e){return $u(this._rawValidators,e)}hasAsyncValidator(e){return $u(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ha,this.errors=null,this._forEachChild(i=>{i.disable(H(P({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(P({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=da,this._forEachChild(i=>{i.enable(H(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(H(P({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===da||this.status===qo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ha:da}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qo,this._hasOwnPendingAsyncValidator=!0;let t=eI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?ha:this.errors?Uu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qo)?qo:this._anyControlsHaveStatus(Uu)?Uu:da}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=VN(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=LN(this._rawAsyncValidators)}},Gu=class extends zo{constructor(e,t,i){super(tg(t),ng(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hI(this,!0,e),Object.keys(e).forEach(i=>{dI(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ym=class extends Gu{};var pa=new B("CallSetDisabledState",{providedIn:"root",factory:()=>ma}),ma="always";function fI(n,e){return[...e.path,n]}function Jm(n,e,t=ma){ig(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),UN(n,e),$N(n,e),BN(n,e),jN(n,e)}function BE(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Wu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Hu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function jN(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function ig(n,e){let t=cI(n);e.validator!==null?n.setValidators(LE(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=lI(n);e.asyncValidator!==null?n.setAsyncValidators(LE(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Hu(e._rawValidators,r),Hu(e._rawAsyncValidators,r)}function Wu(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=cI(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=lI(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Hu(e._rawValidators,i),Hu(e._rawAsyncValidators,i),t}function UN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&pI(n,e)})}function BN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&pI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function pI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $N(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function qN(n,e){n==null,ig(n,e)}function zN(n,e){return Wu(n,e)}function mI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function GN(n){return Object.getPrototypeOf(n.constructor)===Go}function HN(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function gI(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Ho?t=o:GN(o)?i=o:r=o}),r||i||t||null}function WN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function $E(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qE(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var fa=class extends zo{constructor(e=null,t,i){super(tg(t),ng(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(qE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$E(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$E(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var KN=n=>n instanceof fa;var QN={provide:Vi,useExisting:pt(()=>ga)},zE=Promise.resolve(),ga=(()=>{class n extends Vi{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new fa,this._registered=!1,this.name="",this.update=new Fe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=gI(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),mI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Jm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){zE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&ra(i);zE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?fI(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(q(xr,9),q(Dr,10),q(eg,10),q(Li,10),q(br,8),q(pa,8))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[at.None,"disabled","isDisabled"],model:[at.None,"ngModel","model"],options:[at.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Lt([QN]),Xe,si]})}}return n})(),_I=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),YN={provide:Li,useExisting:pt(()=>rg),multi:!0},rg=(()=>{class n extends Go{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275dir=Te({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&E("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Lt([YN]),Xe]})}}return n})(),JN={provide:Li,useExisting:pt(()=>og),multi:!0};var ZN=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),og=(()=>{class n extends Go{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=N(pa,{optional:!0})??ma}ngOnInit(){this._control=this._injector.get(Vi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(q(bn),q(on),q(ZN),q(Ft))}}static{this.\u0275dir=Te({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&E("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Lt([JN]),Xe]})}}return n})();var vI=new B("");var XN={provide:xr,useExisting:pt(()=>sg)},sg=(()=>{class n extends xr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Jm(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){BE(t.control||null,t,!1),WN(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,HN(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(BE(i||null,t),KN(r)&&(Jm(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);qN(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&zN(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ig(this.form,this),this._oldForm&&Wu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(q(Dr,10),q(eg,10),q(pa,8))}}static{this.\u0275dir=Te({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&E("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[at.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Lt([XN]),Xe,si]})}}return n})();var ek={provide:Vi,useExisting:pt(()=>ag)},ag=(()=>{class n extends Vi{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=gI(this,o)}ngOnChanges(t){this._added||this._setUpControl(),mI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return fI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(q(xr,13),q(Dr,10),q(eg,10),q(Li,10),q(vI,8))}}static{this.\u0275dir=Te({type:n,selectors:[["","formControlName",""]],inputs:{name:[at.None,"formControlName","name"],isDisabled:[at.None,"disabled","isDisabled"],model:[at.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Lt([ek]),Xe,si]})}}return n})(),tk={provide:Li,useExisting:pt(()=>Wo),multi:!0};function yI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function nk(n){return n.split(":")[0]}var Wo=(()=>{class n extends Go{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=yI(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=nk(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275dir=Te({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&E("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Lt([tk]),Xe]})}}return n})(),Yu=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(yI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(q(on),q(bn),q(Wo,9))}}static{this.\u0275dir=Te({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),ik={provide:Li,useExisting:pt(()=>wI),multi:!0};function GE(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function rk(n){return n.split(":")[0]}var wI=(()=>{class n extends Go{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=rk(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275dir=Te({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&E("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Lt([ik]),Xe]})}}return n})(),Ju=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(GE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(GE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(q(on),q(bn),q(wI,9))}}static{this.\u0275dir=Te({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function ok(n){return typeof n=="number"?n:parseInt(n,10)}function CI(n){return typeof n=="number"?n:parseFloat(n)}var Zu=(()=>{class n{constructor(){this._validator=Bu}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Bu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,features:[si]})}}return n})(),sk={provide:Dr,useExisting:pt(()=>cg),multi:!0},cg=(()=>{class n extends Zu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>CI(t),this.createValidator=t=>YE(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275dir=Te({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&ci("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Lt([sk]),Xe]})}}return n})(),ak={provide:Dr,useExisting:pt(()=>lg),multi:!0},lg=(()=>{class n extends Zu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>CI(t),this.createValidator=t=>QE(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275dir=Te({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&ci("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Lt([ak]),Xe]})}}return n})(),ck={provide:Dr,useExisting:pt(()=>ug),multi:!0};var ug=(()=>{class n extends Zu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ra,this.createValidator=t=>JE}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275dir=Te({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&ci("required",r._enabled?"":null)},inputs:{required:"required"},features:[Lt([ck]),Xe]})}}return n})();var lk={provide:Dr,useExisting:pt(()=>dg),multi:!0},dg=(()=>{class n extends Zu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>ok(t),this.createValidator=t=>ZE(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275dir=Te({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&ci("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Lt([lk]),Xe]})}}return n})();var bI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({})}}return n})(),Zm=class extends zo{constructor(e,t,i){super(tg(t),ng(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hI(this,!1,e),e.forEach((i,r)=>{dI(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function HE(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var EI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return HE(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Gu(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Ym(r,i)}control(t,i,r){let o={};return this.useNonNullable?(HE(i)?o=i:(o.validators=i,o.asyncValidators=r),new fa(t,H(P({},o),{nonNullable:!0}))):new fa(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new Zm(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof fa)return t;if(t instanceof zo)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Xu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pa,useValue:t.callSetDisabledState??ma}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({imports:[bI]})}}return n})(),II=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:pa,useValue:t.callSetDisabledState??ma}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({imports:[bI]})}}return n})();var hg=[{id:1,name:"Stand. Flawinne FC",players:[{name:"Joueur non list\xE9",type:"milieu"}],primaryColor:"#3498db",secondaryColor:"#74b816"},{id:2,name:"U10 Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Daniel",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:3,name:"U9 Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]},{id:4,name:"U11B Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Daniel",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:5,name:"U10A Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}],primaryColor:"#1e90ff",secondaryColor:"#27ae60"}];function fg(n){return(!n.players||n.players.length===0)&&(n.players=[{name:"Joueur non list\xE9",type:"milieu"}]),n}var oe="primary",Oa=Symbol("RouteTitle"),vg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Zo(n){return new vg(n)}function uk(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function dk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Un(n[t],e[t]))return!1;return!0}function Un(n,e){let t=n?yg(n):void 0,i=e?yg(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!NI(n[r],e[r]))return!1;return!0}function yg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function NI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function kI(n){return n.length>0?n[n.length-1]:null}function qi(n){return Tf(n)?n:Cr(n)?ke(Promise.resolve(n)):W(n)}var hk={exact:VI,subset:LI},FI={exact:fk,subset:pk,ignored:()=>!0};function xI(n,e,t){return hk[t.paths](n.root,e.root,t.matrixParams)&&FI[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function fk(n,e){return Un(n,e)}function VI(n,e,t){if(!Ar(n.segments,e.segments)||!nd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!VI(n.children[i],e.children[i],t))return!1;return!0}function pk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>NI(n[t],e[t]))}function LI(n,e,t){return jI(n,e,e.segments,t)}function jI(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Ar(r,t)||e.hasChildren()||!nd(r,t,i))}else if(n.segments.length===t.length){if(!Ar(n.segments,t)||!nd(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!LI(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ar(n.segments,r)||!nd(n.segments,r,i)||!n.children[oe]?!1:jI(n.children[oe],e,o,i)}}function nd(n,e,t){return e.every((i,r)=>FI[t](n[r].parameters,i.parameters))}var ji=class{constructor(e=new Ie([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){return _k.serialize(this)}},Ie=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return id(this)}},Sr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Zo(this.parameters),this._parameterMap}toString(){return BI(this)}};function mk(n,e){return Ar(n,e)&&n.every((t,i)=>Un(t.parameters,e[i].parameters))}function Ar(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function gk(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===oe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==oe&&(t=t.concat(e(r,i)))}),t}var Ra=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:()=>new Ea,providedIn:"root"})}}return n})(),Ea=class{parse(e){let t=new Cg(e);return new ji(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${_a(e.root,!0)}`,i=wk(e.queryParams),r=typeof e.fragment=="string"?`#${vk(e.fragment)}`:"";return`${t}${i}${r}`}},_k=new Ea;function id(n){return n.segments.map(e=>BI(e)).join("/")}function _a(n,e){if(!n.hasChildren())return id(n);if(e){let t=n.children[oe]?_a(n.children[oe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==oe&&i.push(`${r}:${_a(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=gk(n,(i,r)=>r===oe?[_a(n.children[oe],!1)]:[`${r}:${_a(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${id(n)}/${t[0]}`:`${id(n)}/(${t.join("//")})`}}function UI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ed(n){return UI(n).replace(/%3B/gi,";")}function vk(n){return encodeURI(n)}function wg(n){return UI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rd(n){return decodeURIComponent(n)}function DI(n){return rd(n.replace(/\+/g,"%20"))}function BI(n){return`${wg(n.path)}${yk(n.parameters)}`}function yk(n){return Object.entries(n).map(([e,t])=>`;${wg(e)}=${wg(t)}`).join("")}function wk(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${ed(t)}=${ed(r)}`).join("&"):`${ed(t)}=${ed(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Ck=/^[^\/()?;#]+/;function pg(n){let e=n.match(Ck);return e?e[0]:""}var bk=/^[^\/()?;=#]+/;function Ek(n){let e=n.match(bk);return e?e[0]:""}var Ik=/^[^=?&#]+/;function Tk(n){let e=n.match(Ik);return e?e[0]:""}var xk=/^[^&#]+/;function Dk(n){let e=n.match(xk);return e?e[0]:""}var Cg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[oe]=new Ie(e,t)),i}parseSegment(){let e=pg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Sr(rd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Ek(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=pg(this.remaining);r&&(i=r,this.capture(i))}e[rd(t)]=rd(i)}parseQueryParam(e){let t=Tk(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=Dk(this.remaining);s&&(i=s,this.capture(i))}let r=DI(t),o=DI(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=pg(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new U(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[oe]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function $I(n){return n.segments.length>0?new Ie([],{[oe]:n}):n}function qI(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=qI(r);if(i===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Ie(n.segments,e);return Sk(t)}function Sk(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Ie(n.segments.concat(e.segments),e.children)}return n}function Xo(n){return n instanceof ji}function Ak(n,e,t=null,i=null){let r=zI(n);return GI(r,e,t,i)}function zI(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ie(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=$I(i);return e??r}function GI(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return mg(r,r,r,t,i);let o=Mk(e);if(o.toRoot())return mg(r,r,new Ie([],{}),t,i);let s=Pk(o,r,n),a=s.processChildren?wa(s.segmentGroup,s.index,o.commands):WI(s.segmentGroup,s.index,o.commands);return mg(r,s.segmentGroup,a,t,i)}function od(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ia(n){return typeof n=="object"&&n!=null&&n.outlets}function mg(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=HI(n,e,t);let a=$I(qI(s));return new ji(a,o,r)}function HI(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=HI(o,e,t)}),new Ie(n.segments,i)}var sd=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&od(i[0]))throw new U(4003,!1);let r=i.find(Ia);if(r&&r!==kI(i))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Mk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new sd(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new sd(t,e,i)}var Yo=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function Pk(n,e,t){if(n.isAbsolute)return new Yo(e,!0,0);if(!t)return new Yo(e,!1,NaN);if(t.parent===null)return new Yo(t,!0,0);let i=od(n.commands[0])?0:1,r=t.segments.length-1+i;return Ok(t,r,n.numberOfDoubleDots)}function Ok(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new U(4005,!1);r=i.segments.length}return new Yo(i,!1,r-o)}function Rk(n){return Ia(n[0])?n[0].outlets:{[oe]:n}}function WI(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return wa(n,e,t);let i=Nk(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,i.pathIndex),{});return o.children[oe]=new Ie(n.segments.slice(i.pathIndex),n.children),wa(o,0,r)}else return i.match&&r.length===0?new Ie(n.segments,{}):i.match&&!n.hasChildren()?bg(n,e,t):i.match?wa(n,0,r):bg(n,e,t)}function wa(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let i=Rk(t),r={};if(Object.keys(i).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=wa(n.children[oe],e,t);return new Ie(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=WI(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ie(n.segments,r)}}function Nk(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(Ia(a))break;let c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!AI(c,l,s))return o;i+=2}else{if(!AI(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function bg(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Ia(o)){let c=kk(o.outlets);return new Ie(i,c)}if(r===0&&od(t[0])){let c=n.segments[e];i.push(new Sr(c.path,SI(t[0]))),r++;continue}let s=Ia(o)?o.outlets[oe]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&od(a)?(i.push(new Sr(s,SI(a))),r+=2):(i.push(new Sr(s,{})),r++)}return new Ie(i,{})}function kk(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=bg(new Ie([],{}),0,i))}),e}function SI(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function AI(n,e,t){return n==t.path&&Un(e,t.parameters)}var Ca="imperative",tt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(tt||{}),un=class{constructor(e,t){this.id=e,this.url=t}},es=class extends un{constructor(e,t,i="imperative",r=null){super(e,t),this.type=tt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fi=class extends un{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Wt||{}),ad=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ad||{}),Ui=class extends un{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bi=class extends un{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=tt.NavigationSkipped}},Ta=class extends un{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cd=class extends un{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eg=class extends un{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ig=class extends un{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tg=class extends un{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xg=class extends un{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dg=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sg=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ag=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mg=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pg=class{constructor(e){this.snapshot=e,this.type=tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Og=class{constructor(e){this.snapshot=e,this.type=tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ld=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=tt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xa=class{},Da=class{constructor(e){this.url=e}};var Rg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Na,this.attachRef=null}},Na=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Rg,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ud=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ng(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Ng(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=kg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return kg(e,this._root).map(t=>t.value)}};function Ng(n,e){if(n===e.value)return e;for(let t of e.children){let i=Ng(n,t);if(i)return i}return null}function kg(n,e){if(n===e.value)return[e];for(let t of e.children){let i=kg(n,t);if(i.length)return i.unshift(e),i}return[]}var Ht=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var dd=class extends ud{constructor(e,t){super(e),this.snapshot=t,Gg(this,e)}toString(){return this.snapshot.toString()}};function KI(n){let e=Fk(n),t=new st([new Sr("",{})]),i=new st({}),r=new st({}),o=new st({}),s=new st(""),a=new pi(t,i,o,s,r,oe,n,e.root);return a.snapshot=e.root,new dd(new Ht(a,[]),e)}function Fk(n){let e={},t={},i={},r="",o=new Sa([],e,i,r,t,oe,n,null,{});return new hd("",new Ht(o,[]))}var pi=class{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[Oa]))??W(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Zo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Zo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zg(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:P(P({},e.params),n.params),data:P(P({},e.data),n.data),resolve:P(P(P(P({},n.data),e.data),r?.data),n._resolvedData)}:i={params:P({},n.params),data:P({},n.data),resolve:P(P({},n.data),n._resolvedData??{})},r&&YI(r)&&(i.resolve[Oa]=r.title),i}var Sa=class{get title(){return this.data?.[Oa]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},hd=class extends ud{constructor(e,t){super(t),this.url=e,Gg(this,t)}toString(){return QI(this._root)}};function Gg(n,e){e.value._routerState=n,e.children.forEach(t=>Gg(n,t))}function QI(n){let e=n.children.length>0?` { ${n.children.map(QI).join(", ")} } `:"";return`${n.value}${e}`}function gg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Un(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Un(e.params,t.params)||n.paramsSubject.next(t.params),dk(e.url,t.url)||n.urlSubject.next(t.url),Un(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fg(n,e){let t=Un(n.params,e.params)&&mk(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Fg(n.parent,e.parent))}function YI(n){return typeof n.title=="string"||n.title===null}var Hg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=N(Na),this.location=N(No),this.changeDetector=N(br),this.environmentInjector=N(ht),this.inputBinder=N(gd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Vg(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[si]})}}return n})(),Vg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===pi?this.route:e===Na?this.childContexts:this.parent.get(e,t)}},gd=new B(""),MI=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=js([i.queryParams,i.params,i.data]).pipe(Pt(([o,s,a],c)=>(a=P(P(P({},o),s),a),c===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=tE(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})();function Vk(n,e,t){let i=Aa(n,e._root,t?t._root:void 0);return new dd(i,e)}function Aa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=Lk(n,e,t);return new Ht(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Aa(n,a)),s}}let i=jk(e.value),r=e.children.map(o=>Aa(n,o));return new Ht(i,r)}}function Lk(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Aa(n,i,r);return Aa(n,i)})}function jk(n){return new pi(new st(n.url),new st(n.params),new st(n.queryParams),new st(n.fragment),new st(n.data),n.outlet,n.component,n)}var JI="ngNavigationCancelingError";function ZI(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Xo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=XI(!1,Wt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function XI(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[JI]=!0,t.cancellationCode=e,t}function Uk(n){return e1(n)&&Xo(n.url)}function e1(n){return!!n&&n[JI]}var Bk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Pi({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ri],decls:1,vars:0,template:function(i,r){i&1&&b(0,"router-outlet")},dependencies:[Hg],encapsulation:2})}}return n})();function $k(n,e){return n.providers&&!n._injector&&(n._injector=du(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wg(n){let e=n.children&&n.children.map(Wg),t=e?H(P({},n),{children:e}):P({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=Bk),t}function Bn(n){return n.outlet||oe}function qk(n,e){let t=n.filter(i=>Bn(i)===e);return t.push(...n.filter(i=>Bn(i)!==e)),t}function ka(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var zk=(n,e,t,i)=>ie(r=>(new Lg(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Lg=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),gg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Qo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Qo(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Og(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mg(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(gg(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),gg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=ka(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},fd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Jo=class{constructor(e,t){this.component=e,this.route=t}};function Gk(n,e,t){let i=n._root,r=e?e._root:null;return va(i,r,t,[i.value])}function Hk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ns(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!eC(n)?n:e.get(n):i}function va(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qo(e);return n.children.forEach(s=>{Wk(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ba(a,t.getContext(s),r)),r}function Wk(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Kk(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new fd(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?va(n,e,a?a.children:null,i,r):va(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Jo(a.outlet.component,s))}else s&&ba(e,a,r),r.canActivateChecks.push(new fd(i)),o.component?va(n,null,a?a.children:null,i,r):va(n,null,t,i,r);return r}function Kk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ar(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ar(n.url,e.url)||!Un(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fg(n,e)||!Un(n.queryParams,e.queryParams);case"paramsChange":default:return!Fg(n,e)}}function ba(n,e,t){let i=Qo(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?ba(s,e.children.getContext(o),t):ba(s,null,t):ba(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Jo(e.outlet.component,r)):t.canDeactivateChecks.push(new Jo(null,r)):t.canDeactivateChecks.push(new Jo(null,r))}function Fa(n){return typeof n=="function"}function Qk(n){return typeof n=="boolean"}function Yk(n){return n&&Fa(n.canLoad)}function Jk(n){return n&&Fa(n.canActivate)}function Zk(n){return n&&Fa(n.canActivateChild)}function Xk(n){return n&&Fa(n.canDeactivate)}function eF(n){return n&&Fa(n.canMatch)}function t1(n){return n instanceof Zn||n?.name==="EmptyError"}var td=Symbol("INITIAL_VALUE");function ts(){return Pt(n=>js(n.map(e=>e.pipe(ei(1),Mf(td)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===td)return td;if(t===!1||t instanceof ji)return t}return!0}),Mt(e=>e!==td),ei(1)))}function tF(n,e){return Ge(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(H(P({},t),{guardsResult:!0})):nF(s,i,r,n).pipe(Ge(a=>a&&Qk(a)?iF(i,o,n,e):W(a)),ie(a=>H(P({},t),{guardsResult:a})))})}function nF(n,e,t,i){return ke(n).pipe(Ge(r=>cF(r.component,r.route,t,e,i)),Mn(r=>r!==!0,!0))}function iF(n,e,t,i){return ke(e).pipe(Xn(r=>mo(oF(r.route.parent,i),rF(r.route,i),aF(n,r.path,t),sF(n,r.route,t))),Mn(r=>r!==!0,!0))}function rF(n,e){return n!==null&&e&&e(new Pg(n)),W(!0)}function oF(n,e){return n!==null&&e&&e(new Ag(n)),W(!0)}function sF(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return W(!0);let r=i.map(o=>ul(()=>{let s=ka(e)??t,a=ns(o,s),c=Jk(a)?a.canActivate(e,n):wn(s,()=>a(e,n));return qi(c).pipe(Mn())}));return W(r).pipe(ts())}function aF(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Hk(s)).filter(s=>s!==null).map(s=>ul(()=>{let a=s.guards.map(c=>{let l=ka(s.node)??t,u=ns(c,l),p=Zk(u)?u.canActivateChild(i,n):wn(l,()=>u(i,n));return qi(p).pipe(Mn())});return W(a).pipe(ts())}));return W(o).pipe(ts())}function cF(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let c=ka(e)??r,l=ns(a,c),u=Xk(l)?l.canDeactivate(n,e,t,i):wn(c,()=>l(n,e,t,i));return qi(u).pipe(Mn())});return W(s).pipe(ts())}function lF(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return W(!0);let o=r.map(s=>{let a=ns(s,n),c=Yk(a)?a.canLoad(e,t):wn(n,()=>a(e,t));return qi(c)});return W(o).pipe(ts(),n1(i))}function n1(n){return _f(He(e=>{if(Xo(e))throw ZI(n,e)}),ie(e=>e===!0))}function uF(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return W(!0);let o=r.map(s=>{let a=ns(s,n),c=eF(a)?a.canMatch(e,t):wn(n,()=>a(e,t));return qi(c)});return W(o).pipe(ts(),n1(i))}var Ma=class{constructor(e){this.segmentGroup=e||null}},pd=class extends Error{constructor(e){super(),this.urlTree=e}};function Ko(n){return fo(new Ma(n))}function dF(n){return fo(new U(4e3,!1))}function hF(n){return fo(XI(!1,Wt.GuardRejected))}var jg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return W(i);if(r.numberOfChildren>1||!r.children[oe])return dF(e.redirectTo);r=r.children[oe]}}applyRedirectCommands(e,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new pd(r);return r}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new ji(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Ie(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new U(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fF(n,e,t,i,r){let o=Kg(n,e,t);return o.matched?(i=$k(e,i),uF(i,e,t,r).pipe(ie(s=>s===!0?o:P({},Ug)))):W(o)}function Kg(n,e,t){if(e.path==="**")return pF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?P({},Ug):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||uk)(t,n,e);if(!r)return P({},Ug);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?P(P({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function pF(n){return{matched:!0,parameters:n.length>0?kI(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function PI(n,e,t,i){return t.length>0&&_F(n,t,i)?{segmentGroup:new Ie(e,gF(i,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&vF(n,t,i)?{segmentGroup:new Ie(n.segments,mF(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function mF(n,e,t,i){let r={};for(let o of t)if(_d(n,e,o)&&!i[Bn(o)]){let s=new Ie([],{});r[Bn(o)]=s}return P(P({},i),r)}function gF(n,e){let t={};t[oe]=e;for(let i of n)if(i.path===""&&Bn(i)!==oe){let r=new Ie([],{});t[Bn(i)]=r}return t}function _F(n,e,t){return t.some(i=>_d(n,e,i)&&Bn(i)!==oe)}function vF(n,e,t){return t.some(i=>_d(n,e,i))}function _d(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function yF(n,e,t,i){return Bn(n)!==i&&(i===oe||!_d(e,t,n))?!1:Kg(e,n,t).matched}function wF(n,e,t){return e.length===0&&!n.children[t]}var Bg=class{};function CF(n,e,t,i,r,o,s="emptyOnly"){return new $g(n,e,t,i,r,s,o).recognize()}var bF=31,$g=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new jg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=PI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(t=>{let i=new Sa([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,{}),r=new Ht(i,t),o=new hd("",r),s=Ak(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,oe).pipe(Ei(i=>{if(i instanceof pd)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ma?this.noMatchError(i):i}))}inheritParamsAndData(e,t){let i=e.value,r=zg(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ie(o=>o instanceof Ht?[o]:[]))}processChildren(e,t,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return ke(r).pipe(Xn(o=>{let s=i.children[o],a=qk(t,o);return this.processSegmentGroup(e,a,s,o)}),Af((o,s)=>(o.push(...s),o)),Ii(null),Sf(),Ge(o=>{if(o===null)return Ko(i);let s=i1(o);return EF(s),W(s)}))}processSegment(e,t,i,r,o,s){return ke(t).pipe(Xn(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(Ei(c=>{if(c instanceof Ma)return W(null);throw c}))),Mn(a=>!!a),Ei(a=>{if(t1(a))return wF(i,r,o)?W(new Bg):Ko(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return yF(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Ko(r):Ko(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Kg(t,r,o);if(!a)return Ko(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bF&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,p).pipe(Ge(w=>this.processSegment(e,i,t,w.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s=fF(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),s.pipe(Pt(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Pt(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:p,parameters:w}=a,C=new Sa(u,w,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,TF(i),Bn(i),i.component??i._loadedComponent??null,i,xF(i)),{segmentGroup:x,slicedSegments:D}=PI(t,u,p,c);if(D.length===0&&x.hasChildren())return this.processChildren(l,c,x).pipe(ie(F=>F===null?null:new Ht(C,F)));if(c.length===0&&D.length===0)return W(new Ht(C,[]));let A=Bn(i)===o;return this.processSegment(l,c,x,D,A?oe:o,!0).pipe(ie(F=>new Ht(C,F instanceof Ht?[F]:[])))}))):Ko(t)))}getChildConfig(e,t,i){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):lF(e,t,i,this.urlSerializer).pipe(Ge(r=>r?this.configLoader.loadChildren(e,t).pipe(He(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):hF(t))):W({routes:[],injector:e})}};function EF(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function IF(n){let e=n.value.routeConfig;return e&&e.path===""}function i1(n){let e=[],t=new Set;for(let i of n){if(!IF(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=i1(i.children);e.push(new Ht(i.value,r))}return e.filter(i=>!t.has(i))}function TF(n){return n.data||{}}function xF(n){return n.resolve||{}}function DF(n,e,t,i,r,o){return Ge(s=>CF(n,e,t,i,s.extractedUrl,r,o).pipe(ie(({state:a,tree:c})=>H(P({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function SF(n,e){return Ge(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return W(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of r1(c))s.add(l);let a=0;return ke(s).pipe(Xn(c=>o.has(c)?AF(c,i,n,e):(c.data=zg(c,c.parent,n).resolve,W(void 0))),He(()=>a++),go(1),Ge(c=>a===s.size?W(t):Bt))})}function r1(n){let e=n.children.map(t=>r1(t)).flat();return[n,...e]}function AF(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!YI(r)&&(o[Oa]=r.title),MF(o,n,e,i).pipe(ie(s=>(n._resolvedData=s,n.data=zg(n,n.parent,t).resolve,null)))}function MF(n,e,t,i){let r=yg(n);if(r.length===0)return W({});let o={};return ke(r).pipe(Ge(s=>PF(n[s],e,t,i).pipe(Mn(),He(a=>{o[s]=a}))),go(1),Df(o),Ei(s=>t1(s)?Bt:fo(s)))}function PF(n,e,t,i){let r=ka(e)??i,o=ns(n,r),s=o.resolve?o.resolve(e,t):wn(r,()=>o(e,t));return qi(s)}function _g(n){return Pt(e=>{let t=n(e);return t?ke(t).pipe(ie(()=>e)):W(e)})}var o1=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===oe);return i}getResolvedTitleForRoute(t){return t.data[Oa]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:()=>N(OF),providedIn:"root"})}}return n})(),OF=(()=>{class n extends o1{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)($(VE))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Va=new B("",{providedIn:"root",factory:()=>({})}),Pa=new B(""),Qg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(mu)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=qi(t.loadComponent()).pipe(ie(s1),He(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),lr(()=>{this.componentLoaders.delete(t)})),r=new co(i,()=>new Ct).pipe(ao());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=RF(i,this.compiler,t,this.onLoadEndListener).pipe(lr(()=>{this.childrenLoaders.delete(i)})),s=new co(o,()=>new Ct).pipe(ao());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function RF(n,e,t,i){return qi(n.loadChildren()).pipe(ie(s1),Ge(r=>r instanceof Qs||Array.isArray(r)?W(r):ke(e.compileModuleAsync(r))),ie(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Pa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wg),injector:o}}))}function NF(n){return n&&typeof n=="object"&&"default"in n}function s1(n){return NF(n)?n.default:n}var Yg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:()=>N(kF),providedIn:"root"})}}return n})(),kF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),a1=new B(""),c1=new B("");function FF(n,e,t){let i=n.get(c1),r=n.get(gt);return n.get(Ee).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),VF(n))),{onViewTransitionCreated:c}=i;return c&&wn(n,()=>c({transition:a,from:e,to:t})),s})}function VF(n){return new Promise(e=>{uu(e,{injector:n})})}var Jg=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct,this.transitionAbortSubject=new Ct,this.configLoader=N(Qg),this.environmentInjector=N(ht),this.urlSerializer=N(Ra),this.rootContexts=N(Na),this.location=N(jo),this.inputBindingEnabled=N(gd,{optional:!0})!==null,this.titleStrategy=N(o1),this.options=N(Va,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Yg),this.createViewTransition=N(a1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let t=r=>this.events.next(new Dg(r)),i=r=>this.events.next(new Sg(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(H(P(P({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new st({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ca,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mt(o=>o.id!==0),ie(o=>H(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Pt(o=>{let s=!1,a=!1;return W(o).pipe(Pt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),Bt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?H(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let p="";return this.events.next(new Bi(c.id,this.urlSerializer.serialize(c.rawUrl),p,ad.IgnoredSameUrlNavigation)),c.resolve(null),Bt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return W(c).pipe(Pt(p=>{let w=this.transitions?.getValue();return this.events.next(new es(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),w!==this.transitions?.getValue()?Bt:Promise.resolve(p)}),DF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),He(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=H(P({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let w=new cd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(w)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:w,source:C,restoredState:x,extras:D}=c,A=new es(p,this.urlSerializer.serialize(w),C,x);this.events.next(A);let F=KI(this.rootComponentType).snapshot;return this.currentTransition=o=H(P({},c),{targetSnapshot:F,urlAfterRedirects:w,extras:H(P({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,W(o)}else{let p="";return this.events.next(new Bi(c.id,this.urlSerializer.serialize(c.extractedUrl),p,ad.IgnoredByUrlHandlingStrategy)),c.resolve(null),Bt}}),He(c=>{let l=new Eg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ie(c=>(this.currentTransition=o=H(P({},c),{guards:Gk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),tF(this.environmentInjector,c=>this.events.next(c)),He(c=>{if(o.guardsResult=c.guardsResult,Xo(c.guardsResult))throw ZI(this.urlSerializer,c.guardsResult);let l=new Ig(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Mt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Wt.GuardRejected),!1)),_g(c=>{if(c.guards.canActivateChecks.length)return W(c).pipe(He(l=>{let u=new Tg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Pt(l=>{let u=!1;return W(l).pipe(SF(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Wt.NoDataFromResolver)}}))}),He(l=>{let u=new xg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),_g(c=>{let l=u=>{let p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(He(w=>{u.component=w}),ie(()=>{})));for(let w of u.children)p.push(...l(w));return p};return js(l(c.targetSnapshot.root)).pipe(Ii(null),ei(1))}),_g(()=>this.afterPreactivation()),Pt(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?ke(u).pipe(ie(()=>o)):W(o)}),ie(c=>{let l=Vk(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=H(P({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),He(()=>{this.events.next(new xa)}),zk(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ei(1),He({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Pf(this.transitionAbortSubject.pipe(He(c=>{throw c}))),lr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ei(c=>{if(a=!0,e1(c))this.events.next(new Ui(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Uk(c)?this.events.next(new Da(c.url)):o.resolve(!1);else{this.events.next(new Ta(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Bt}))}))}cancelNavigationTransition(t,i,r){let o=new Ui(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function LF(n){return n!==Ca}var jF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:()=>N(UF),providedIn:"root"})}}return n})(),qg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},UF=(()=>{class n extends qg{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),l1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:()=>N(BF),providedIn:"root"})}}return n})(),BF=(()=>{class n extends l1{constructor(){super(...arguments),this.location=N(jo),this.urlSerializer=N(Ra),this.options=N(Va,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Yg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ji,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof es)this.stateMemento=this.createStateMemento();else if(t instanceof Bi)this.rawUrlTree=i.initialUrl;else if(t instanceof cd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof xa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Ui&&(t.code===Wt.GuardRejected||t.code===Wt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Ta?this.restoreHistory(i,!0):t instanceof fi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=P(P({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=P(P({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qt(n)))(r||n)}})()}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ya=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ya||{});function u1(n,e){n.events.pipe(Mt(t=>t instanceof fi||t instanceof Ui||t instanceof Ta||t instanceof Bi),ie(t=>t instanceof fi||t instanceof Bi?ya.COMPLETE:(t instanceof Ui?t.code===Wt.Redirect||t.code===Wt.SupersededByNewNavigation:!1)?ya.REDIRECTING:ya.FAILED),Mt(t=>t!==ya.REDIRECTING),ei(1)).subscribe(()=>{e()})}function $F(n){throw n}var qF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$i=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(fu),this.stateManager=N(l1),this.options=N(Va,{optional:!0})||{},this.pendingTasks=N(ko),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(Jg),this.urlSerializer=N(Ra),this.location=N(jo),this.urlHandlingStrategy=N(Yg),this._events=new Ct,this.errorHandler=this.options.errorHandler||$F,this.navigated=!1,this.routeReuseStrategy=N(jF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Pa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(gd,{optional:!0}),this.eventsSubscription=new $e,this.isNgZoneEnabled=N(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ui&&i.code!==Wt.Redirect&&i.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof fi)this.navigated=!0;else if(i instanceof Da){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||LF(r.source)};this.scheduleNavigation(s,Ca,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}HF(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ca,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=P({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Wg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,u=null;switch(a){case"merge":u=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let w=r?r.snapshot:this.routerState.snapshot.root;p=zI(w)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return GI(p,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Xo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Ca,null,i)}navigate(t,i={skipLocationChange:!1}){return GF(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=P({},qF):i===!1?r=P({},zF):r=i,Xo(t))return xI(this.currentUrlTree,t,r);let o=this.parseUrl(t);return xI(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,w)=>{a=p,c=w});let u=this.pendingTasks.add();return u1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function GF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}function HF(n){return!(n instanceof xa)&&!(n instanceof Da)}var md=class{};var WF=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(t=>t instanceof fi),Xn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=du(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ke(r).pipe(po())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=W(null);let o=r.pipe(Ge(s=>s===null?W(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ke([o,s]).pipe(po())}else return o})}static{this.\u0275fac=function(i){return new(i||n)($($i),$(mu),$(ht),$(md),$(Qg))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),d1=new B(""),KF=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=N(ht),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof es?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bi&&t.code===ad.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ld&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>I(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),uu(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new ld(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){yb()}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})();function h1(n,...e){return Oo([{provide:Pa,multi:!0,useValue:n},[],{provide:pi,useFactory:f1,deps:[$i]},{provide:ia,multi:!0,useFactory:p1},e.map(t=>t.\u0275providers)])}function f1(n){return n.routerState.root}function La(n,e){return{\u0275kind:n,\u0275providers:e}}function p1(){let n=N(Ft);return e=>{let t=n.get(Vo);if(e!==t.components[0])return;let i=n.get($i),r=n.get(m1);n.get(Zg)===1&&i.initialNavigation(),n.get(g1,null,se.Optional)?.setUpPreloading(),n.get(d1,null,se.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var m1=new B("",{factory:()=>new Ct}),Zg=new B("",{providedIn:"root",factory:()=>1});function QF(){return La(2,[{provide:Zg,useValue:0},{provide:pu,multi:!0,deps:[Ft],useFactory:e=>{let t=e.get(uE,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get($i),o=e.get(m1);u1(r,()=>{i(!0)}),e.get(Jg).afterPreactivation=()=>(i(!0),o.closed?W(void 0):o),r.initialNavigation()}))}}])}function YF(){return La(3,[{provide:pu,multi:!0,useFactory:()=>{let e=N($i);return()=>{e.setUpLocationChangeListener()}}},{provide:Zg,useValue:2}])}var g1=new B("");function JF(n){return La(0,[{provide:g1,useExisting:WF},{provide:md,useExisting:n}])}function ZF(){return La(8,[MI,{provide:gd,useExisting:MI}])}function XF(n){let e=[{provide:a1,useValue:FF},{provide:c1,useValue:P({skipNextTransition:!!n?.skipInitialTransition},n)}];return La(9,e)}var OI=new B("ROUTER_FORROOT_GUARD"),eV=[jo,{provide:Ra,useClass:Ea},$i,Na,{provide:pi,useFactory:f1,deps:[$i]},Qg,[]],_1=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[eV,[],{provide:Pa,multi:!0,useValue:t},{provide:OI,useFactory:rV,deps:[[$i,new $t,new zl]]},{provide:Va,useValue:i||{}},i?.useHash?nV():iV(),tV(),i?.preloadingStrategy?JF(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?oV(i):[],i?.bindToComponentInputs?ZF().\u0275providers:[],i?.enableViewTransitions?XF().\u0275providers:[],sV()]}}static forChild(t){return{ngModule:n,providers:[{provide:Pa,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)($(OI,8))}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({})}}return n})();function tV(){return{provide:d1,useFactory:()=>{let n=N(yE),e=N(Ee),t=N(Va),i=N(Jg),r=N(Ra);return t.scrollOffset&&n.setOffset(t.scrollOffset),new KF(r,i,n,e,t)}}}function nV(){return{provide:Er,useClass:hE}}function iV(){return{provide:Er,useClass:km}}function rV(n){return"guarded"}function oV(n){return[n.initialNavigation==="disabled"?YF().\u0275providers:[],n.initialNavigation==="enabledBlocking"?QF().\u0275providers:[]]}var RI=new B("");function sV(){return[{provide:RI,useFactory:p1},{provide:ia,multi:!0,useExisting:RI}]}function aV(n,e){if(n&1&&(d(0,"option",12),m(1),h()),n&2){let t=e.$implicit;_("value",t),f(),O(" ",t," ")}}function cV(n,e){if(n&1&&(d(0,"option",12),m(1),h()),n&2){let t=e.$implicit;_("value",t),f(),O(" ",t," ")}}function lV(n,e){if(n&1){let t=M();d(0,"div",20)(1,"div",21)(2,"div",22)(3,"h6",23),b(4,"i",24),m(5,"Nouvelle Comp\xE9tition "),h()(),d(6,"div",25)(7,"div",26)(8,"div",27)(9,"label",28),m(10,"Nom de la comp\xE9tition *"),h(),d(11,"input",29),ee("ngModelChange",function(r){v(t);let o=g();return re(o.competitionForm.name,r)||(o.competitionForm.name=r),y(r)}),h()(),d(12,"div",27)(13,"label",30),m(14,"Type"),h(),d(15,"select",31),ee("ngModelChange",function(r){v(t);let o=g();return re(o.competitionForm.type,r)||(o.competitionForm.type=r),y(r)}),T(16,cV,2,2,"option",13),h()(),d(17,"div",27)(18,"label",32),m(19,"Saison (lecture seule)"),h(),d(20,"input",33),ee("ngModelChange",function(r){v(t);let o=g();return re(o.competitionForm.season,r)||(o.competitionForm.season=r),y(r)}),h()()(),d(21,"div",34)(22,"label",35),m(23,"Description"),h(),d(24,"textarea",36),ee("ngModelChange",function(r){v(t);let o=g();return re(o.competitionForm.description,r)||(o.competitionForm.description=r),y(r)}),h()(),d(25,"div",37)(26,"button",38),E("click",function(){v(t);let r=g();return y(r.submitForm())}),b(27,"i",39),m(28,"Cr\xE9er "),h(),d(29,"button",18),E("click",function(){v(t);let r=g();return y(r.cancelForm())}),b(30,"i",19),m(31,"Annuler "),h()()()()()}if(n&2){let t=g();f(11),X("ngModel",t.competitionForm.name),f(4),X("ngModel",t.competitionForm.type),f(),_("ngForOf",t.competitionTypes),f(4),X("ngModel",t.competitionForm.season),f(4),X("ngModel",t.competitionForm.description)}}function uV(n,e){if(n&1&&(d(0,"option",12),m(1),h()),n&2){let t=e.$implicit;_("value",t),f(),O(" ",t," ")}}function dV(n,e){if(n&1){let t=M();d(0,"div",20)(1,"div",21)(2,"div",40)(3,"h6",23),b(4,"i",41),m(5,"Modifier la Comp\xE9tition "),h()(),d(6,"div",25)(7,"div",26)(8,"div",27)(9,"label",42),m(10,"Nom de la comp\xE9tition *"),h(),d(11,"input",43),ee("ngModelChange",function(r){v(t);let o=g();return re(o.competitionForm.name,r)||(o.competitionForm.name=r),y(r)}),h()(),d(12,"div",27)(13,"label",44),m(14,"Type"),h(),d(15,"select",45),ee("ngModelChange",function(r){v(t);let o=g();return re(o.competitionForm.type,r)||(o.competitionForm.type=r),y(r)}),T(16,uV,2,2,"option",13),h()(),d(17,"div",27)(18,"label",46),m(19,"Saison (lecture seule)"),h(),d(20,"input",47),ee("ngModelChange",function(r){v(t);let o=g();return re(o.competitionForm.season,r)||(o.competitionForm.season=r),y(r)}),h()()(),d(21,"div",34)(22,"label",48),m(23,"Description"),h(),d(24,"textarea",49),ee("ngModelChange",function(r){v(t);let o=g();return re(o.competitionForm.description,r)||(o.competitionForm.description=r),y(r)}),h()(),d(25,"div",37)(26,"button",50),E("click",function(){v(t);let r=g();return y(r.submitForm())}),b(27,"i",39),m(28,"Mettre \xE0 jour "),h(),d(29,"button",18),E("click",function(){v(t);let r=g();return y(r.cancelForm())}),b(30,"i",19),m(31,"Annuler "),h()()()()()}if(n&2){let t=g();f(11),X("ngModel",t.competitionForm.name),f(4),X("ngModel",t.competitionForm.type),f(),_("ngForOf",t.competitionTypes),f(4),X("ngModel",t.competitionForm.season),f(4),X("ngModel",t.competitionForm.description)}}function hV(n,e){if(n&1&&(d(0,"span",73),b(1,"i",74),m(2),h()),n&2){let t=g(2).$implicit,i=g(2);f(2),O("",i.getSuggestedSeason(t)," ")}}function fV(n,e){if(n&1&&(d(0,"span",70),b(1,"i",71),m(2,"Sans saison "),T(3,hV,3,1,"span",72),h()),n&2){let t=g().$implicit,i=g(2);f(3),_("ngIf",i.getSuggestedSeason(t))}}function pV(n,e){if(n&1){let t=M();d(0,"button",75),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.openSeasonAssignment(r))}),b(1,"i",76),h()}}function mV(n,e){if(n&1){let t=M();d(0,"button",77),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.deleteCompetition(r))}),b(1,"i",78),h()}}function gV(n,e){if(n&1){let t=M();d(0,"div",52)(1,"div",53)(2,"div",54)(3,"div",55)(4,"input",62),E("change",function(){let r=v(t).$implicit,o=g(2);return y(o.selectCompetition(r))}),h(),d(5,"label",63)(6,"span",64),m(7),h(),T(8,fV,4,1,"span",65),h()()(),d(9,"div",59),T(10,pV,2,0,"button",66),d(11,"button",67),E("click",function(){let r=v(t).$implicit,o=g(2);return y(o.openEditForm(r))}),b(12,"i",68),h(),T(13,mV,2,0,"button",69),h()()()}if(n&2){let t=e.$implicit,i=g(2);f(4),_("value",t)("checked",i.selectedCompetition===t)("id","comp-"+t),f(3),K(t),f(),_("ngIf",i.isCompetitionWithoutSeason(t)),f(2),_("ngIf",i.isCompetitionWithoutSeason(t)),f(3),_("ngIf",i.showDeleteButtons)}}function _V(n,e){n&1&&(d(0,"div",79)(1,"div",80),b(2,"i",81),d(3,"p"),m(4,"Aucune comp\xE9tition trouv\xE9e pour cette saison."),h(),d(5,"p"),m(6,"Cr\xE9ez votre premi\xE8re comp\xE9tition !"),h()()())}function vV(n,e){if(n&1){let t=M();d(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54)(4,"div",55)(5,"input",56),E("change",function(){v(t);let r=g();return y(r.selectCompetition(""))}),h(),d(6,"label",57)(7,"span",58),m(8),h()()()(),b(9,"div",59),h()(),T(10,gV,14,7,"div",60)(11,_V,7,0,"div",61),h()}if(n&2){let t=g();f(5),_("value","")("checked",t.selectedCompetition===""||t.selectedCompetition===t.selectedSeason),f(3),O("Toutes les comp\xE9titions de ",t.selectedSeason||"toutes les saisons",""),f(2),_("ngForOf",t.competitions),f(),_("ngIf",t.competitions.length===0)}}function yV(n,e){if(n&1){let t=M();d(0,"button",82),E("click",function(){v(t);let r=g();return y(r.openAddForm())}),b(1,"i",83),m(2," Comp\xE9tition "),h()}}var y1=(()=>{class n{constructor(){this.competitions=[],this.selectedSeason="",this.selectedCompetition="",this.isCompetitionWithoutSeason=()=>!1,this.getSuggestedSeason=()=>null,this.showDeleteButtons=!1,this.availableSeasons=[],this.competitionSelected=new Fe,this.competitionAdded=new Fe,this.competitionUpdated=new Fe,this.competitionDeleted=new Fe,this.assignSeason=new Fe,this.closeModal=new Fe,this.seasonChanged=new Fe,this.showAddForm=!1,this.showEditForm=!1,this.editingCompetition=null,this.competitionForm={name:"",description:"",season:"",type:""},this.competitionTypes=["Championnat","Coupe","Tournoi","Match amical","Playoff","Autre"]}ngOnInit(){(!this.availableSeasons||this.availableSeasons.length===0)&&(this.availableSeasons=this.generateSeasons()),this.competitionForm.season=this.selectedSeason}generateSeasons(){let t=new Date().getFullYear(),i=[];for(let r=-5;r<=2;r++){let o=t+r;o>=2020&&i.push(`${o}-${o+1}`)}return i}selectCompetition(t){this.selectedCompetition=t,t===""?this.competitionSelected.emit(this.selectedSeason):this.competitionSelected.emit(t),this.closeModal.emit()}openAddForm(){this.showAddForm=!0,this.showEditForm=!1,this.resetForm()}openEditForm(t){this.editingCompetition={name:t,season:this.selectedSeason},this.competitionForm=P({},this.editingCompetition),this.showEditForm=!0,this.showAddForm=!1}cancelForm(){this.showAddForm=!1,this.showEditForm=!1,this.resetForm()}submitForm(){this.competitionForm.name.trim()&&(this.showAddForm?this.competitionAdded.emit(H(P({},this.competitionForm),{createdAt:new Date,updatedAt:new Date})):this.showEditForm&&this.editingCompetition&&this.competitionUpdated.emit({oldName:this.editingCompetition.name,newCompetition:H(P({},this.competitionForm),{id:this.editingCompetition.id,updatedAt:new Date})}),this.cancelForm())}deleteCompetition(t){confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la comp\xE9tition "${t}" ?

Attention : Cette action supprimera \xE9galement tous les matchs associ\xE9s.`)&&this.competitionDeleted.emit(t)}assignSeasonToCompetition(t,i){this.assignSeason.emit({competition:t,season:i})}openSeasonAssignment(t){let i=this.getSuggestedSeason(t),r=`Attribuer une saison \xE0 la comp\xE9tition "${t}"

`;i&&(r+=`Saison sugg\xE9r\xE9e (bas\xE9e sur le premier match) : ${i}

`),r+=`Saisons disponibles :
${this.availableSeasons.join(`
`)}

Entrez la saison souhait\xE9e :`;let o=prompt(r);o&&this.availableSeasons.includes(o)?this.assignSeasonToCompetition(t,o):o&&alert("Saison invalide. Veuillez choisir une saison de la liste.")}resetForm(){this.competitionForm={name:"",description:"",season:this.selectedSeason,type:"Championnat"},this.editingCompetition=null}close(){this.closeModal.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Pi({type:n,selectors:[["app-competition-filter-modal"]],inputs:{competitions:"competitions",selectedSeason:"selectedSeason",selectedCompetition:"selectedCompetition",isCompetitionWithoutSeason:"isCompetitionWithoutSeason",getSuggestedSeason:"getSuggestedSeason",showDeleteButtons:"showDeleteButtons",availableSeasons:"availableSeasons"},outputs:{competitionSelected:"competitionSelected",competitionAdded:"competitionAdded",competitionUpdated:"competitionUpdated",competitionDeleted:"competitionDeleted",assignSeason:"assignSeason",closeModal:"closeModal",seasonChanged:"seasonChanged"},standalone:!0,features:[Ri],decls:26,vars:7,consts:[[1,"modal-overlay"],[1,"competition-modal"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-trophy","me-2"],["type","button","aria-label","Fermer",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"season-selector","mb-4","d-flex","align-items-center"],["for","seasonSelect",1,"form-label","fw-bold","mb-0","me-3"],[1,"fas","fa-calendar-alt","me-2"],["id","seasonSelect",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","competition-form mb-4",4,"ngIf"],["class","competitions-list",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-success me-auto",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],[1,"competition-form","mb-4"],[1,"card"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"fas","fa-plus","me-2"],[1,"card-body"],[1,"row"],[1,"col-md-6","mb-3"],["for","compName",1,"form-label"],["type","text","id","compName","placeholder","Ex: Ligue 1, Coupe de France...",1,"form-control",3,"ngModelChange","ngModel"],["for","compType",1,"form-label"],["id","compType",1,"form-select",3,"ngModelChange","ngModel"],["for","compSeason",1,"form-label"],["type","text","id","compSeason","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],["for","compDescription",1,"form-label"],["id","compDescription","rows","2","placeholder","Description optionnelle de la comp\xE9tition...",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-save","me-2"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-edit","me-2"],["for","editCompName",1,"form-label"],["type","text","id","editCompName","placeholder","Ex: Ligue 1, Coupe de France...",1,"form-control",3,"ngModelChange","ngModel"],["for","editCompType",1,"form-label"],["id","editCompType",1,"form-select",3,"ngModelChange","ngModel"],["for","editCompSeason",1,"form-label"],["type","text","id","editCompSeason","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","editCompDescription",1,"form-label"],["id","editCompDescription","rows","2","placeholder","Description optionnelle de la comp\xE9tition...",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"competitions-list"],[1,"competition-item","mb-2"],[1,"competition-card"],[1,"competition-info"],[1,"form-check"],["type","radio","id","allCompetitions",1,"form-check-input",3,"change","value","checked"],["for","allCompetitions",1,"form-check-label"],[1,"badge","bg-secondary"],[1,"competition-actions"],["class","competition-item mb-2",4,"ngFor","ngForOf"],["class","no-competitions",4,"ngIf"],["type","radio",1,"form-check-input",3,"change","value","checked","id"],["for","'comp-' + competition",1,"form-check-label"],[1,"badge","competition-badge"],["class","badge bg-warning ms-2",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-warning","title","Attribuer une saison",3,"click",4,"ngIf"],["type","button","title","Modifier la comp\xE9tition",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["type","button","class","btn btn-sm btn-outline-danger","title","Supprimer la comp\xE9tition",3,"click",4,"ngIf"],[1,"badge","bg-warning","ms-2"],[1,"fas","fa-exclamation-triangle","me-1"],["class","badge bg-info ms-1",4,"ngIf"],[1,"badge","bg-info","ms-1"],[1,"fas","fa-lightbulb","me-1"],["type","button","title","Attribuer une saison",1,"btn","btn-sm","btn-outline-warning",3,"click"],[1,"fas","fa-calendar-plus"],["type","button","title","Supprimer la comp\xE9tition",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[1,"no-competitions"],[1,"text-center","text-muted","py-4"],[1,"fas","fa-trophy","fa-3x","mb-3"],["type","button",1,"btn","btn-success","me-auto",3,"click"],[1,"fas","fa-plus-circle","me-2"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),b(4,"i",4),m(5," Gestion Comp\xE9tition "),h(),d(6,"button",5),E("click",function(){return r.close()}),d(7,"span",6),m(8,"\xD7"),h()()(),d(9,"div",7)(10,"div",8)(11,"label",9),b(12,"i",10),m(13,"Saison : "),h(),d(14,"select",11),ee("ngModelChange",function(s){return re(r.selectedSeason,s)||(r.selectedSeason=s),s}),E("ngModelChange",function(s){return r.seasonChanged.emit(s)}),d(15,"option",12),m(16,"Toutes les saisons"),h(),T(17,aV,2,2,"option",13),h()(),T(18,lV,32,5,"div",14)(19,dV,32,5,"div",14)(20,vV,12,5,"div",15),h(),d(21,"div",16),T(22,yV,3,0,"button",17),d(23,"button",18),E("click",function(){return r.close()}),b(24,"i",19),m(25,"Fermer "),h()()()()),i&2&&(f(14),X("ngModel",r.selectedSeason),f(),_("value",""),f(2),_("ngForOf",r.availableSeasons),f(),_("ngIf",r.showAddForm),f(),_("ngIf",r.showEditForm),f(),_("ngIf",!r.showAddForm&&!r.showEditForm),f(2),_("ngIf",!r.showAddForm&&!r.showEditForm))},dependencies:[Ir,Uo,Bo,Xu,Yu,Ju,Ho,Wo,Ku,ga],styles:[".competition-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:800px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.5rem;border-bottom:none}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.season-selector[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}.season-selector[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#495057}.season-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #dee2e6;border-radius:8px;padding:.5rem;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.season-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.add-competition-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:1rem;font-size:1.1rem;font-weight:600;border-radius:10px;transition:all .3s ease;box-shadow:0 4px 15px #28a7454d}.add-competition-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #28a74566}.competition-form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 4px 20px #0000001a;overflow:hidden}.competition-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:none}.competition-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-weight:600}.competition-form[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.competition-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin-bottom:.5rem}.competition-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .competition-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:8px;padding:.75rem;transition:border-color .3s ease,box-shadow .3s ease}.competition-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .competition-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.competition-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;border-radius:8px;transition:all .3s ease}.competition-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.competitions-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.competition-item[_ngcontent-%COMP%]{transition:all .3s ease}.competition-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.competition-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.competition-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0}.competition-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.competition-badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem;border-radius:20px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}.badge.bg-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#495057)!important}.form-check[_ngcontent-%COMP%]{margin-bottom:0}.form-check-input[_ngcontent-%COMP%]{width:1.2em;height:1.2em;margin-top:.1em;cursor:pointer}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#667eea;border-color:#667eea}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem;font-weight:500}.no-competitions[_ngcontent-%COMP%]{padding:2rem}.no-competitions[_ngcontent-%COMP%]   .fa-trophy[_ngcontent-%COMP%]{color:#dee2e6}.no-competitions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1.1rem}@media (max-width: 768px){.competition-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.modal-body[_ngcontent-%COMP%], .competition-form[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.competition-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;text-align:left;min-height:55px}.competition-actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-end;gap:.5rem;flex-shrink:0}.competition-info[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.competition-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}@media (max-width: 480px){.competition-card[_ngcontent-%COMP%]{flex-direction:row;text-align:left;min-height:50px;padding:.75rem}.competition-actions[_ngcontent-%COMP%]{justify-content:flex-end;width:auto;gap:.4rem}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.competition-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.competition-form[_ngcontent-%COMP%], .competitions-list[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1040;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]})}}return n})();var C1=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},wV=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},b1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0,u=o>>2,p=(o&3)<<4|a>>4,w=(a&15)<<2|l>>6,C=l&63;c||(C=64,s||(w=64)),i.push(t[u],t[p],t[w],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(C1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let l=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||l==null||p==null)throw new e_;let w=o<<2|a>>4;if(i.push(w),l!==64){let C=a<<4&240|l>>2;if(i.push(C),p!==64){let x=l<<6&192|p;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},e_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},CV=function(n){let e=C1(n);return b1.encodeByteArray(e,!0)},ja=function(n){return CV(n).replace(/\./g,"")},n_=function(n){try{return b1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var EV=()=>bV().__FIREBASE_DEFAULTS__,IV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},TV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&n_(n[1]);return e&&JSON.parse(e)},i_=()=>{try{return EV()||IV()||TV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},E1=n=>{var e,t;return(t=(e=i_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},I1=n=>{let e=E1(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},r_=()=>{var n;return(n=i_())===null||n===void 0?void 0:n.config},T1=n=>{var e;return(e=i_())===null||e===void 0?void 0:e[`_${n}`]};var vd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function x1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ja(JSON.stringify(t)),ja(JSON.stringify(s)),""].join(".")}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function S1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function A1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o_(){try{return typeof indexedDB=="object"}catch{return!1}}function M1(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var xV="FirebaseError",dn=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=xV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mi.prototype.create)}},mi=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?DV(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new dn(r,a,i)}};function DV(n,e){return n.replace(SV,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var SV=/\{\$([^}]+)}/g;function is(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(w1(o)&&w1(s)){if(!is(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function w1(n){return n!==null&&typeof n=="object"}function s_(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function P1(n,e){let t=new t_(n,e);return t.subscribe.bind(t)}var t_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");AV(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Xg),r.error===void 0&&(r.error=Xg),r.complete===void 0&&(r.complete=Xg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function AV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xg(){}var uQ=4*60*60*1e3;function xt(n){return n&&n._delegate?n._delegate:n}var fn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Mr="[DEFAULT]";var a_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new vd;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PV(e))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Mr){return this.instances.has(e)}getOptions(e=Mr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MV(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Mr){return this.component?this.component.multipleInstances?e:Mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function MV(n){return n===Mr?void 0:n}function PV(n){return n.instantiationMode==="EAGER"}var yd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new a_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var OV=[],de=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(de||{}),RV={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},NV=de.INFO,kV={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},FV=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=kV[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zi=class{constructor(e){this.name=e,this._logLevel=NV,this._logHandler=FV,this._userLogHandler=null,OV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var VV=(n,e)=>e.some(t=>n instanceof t),O1,R1;function LV(){return O1||(O1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jV(){return R1||(R1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var N1=new WeakMap,l_=new WeakMap,k1=new WeakMap,c_=new WeakMap,d_=new WeakMap;function UV(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t($n(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&N1.set(t,n)}).catch(()=>{}),d_.set(e,n),e}function BV(n){if(l_.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});l_.set(n,e)}var u_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return l_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||k1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $n(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function F1(n){u_=n(u_)}function $V(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(wd(this),e,...t);return k1.set(i,e.sort?e.sort():[e]),$n(i)}:jV().includes(n)?function(...e){return n.apply(wd(this),e),$n(N1.get(this))}:function(...e){return $n(n.apply(wd(this),e))}}function qV(n){return typeof n=="function"?$V(n):(n instanceof IDBTransaction&&BV(n),VV(n,LV())?new Proxy(n,u_):n)}function $n(n){if(n instanceof IDBRequest)return UV(n);if(c_.has(n))return c_.get(n);let e=qV(n);return e!==n&&(c_.set(n,e),d_.set(e,n)),e}var wd=n=>d_.get(n);function L1(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=$n(s);return i&&s.addEventListener("upgradeneeded",c=>{i($n(s.result),c.oldVersion,c.newVersion,$n(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var zV=["get","getKey","getAll","getAllKeys","count"],GV=["put","add","delete","clear"],h_=new Map;function V1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(h_.get(e))return h_.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=GV.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||zV.includes(t)))return;let o=function(s,...a){return I(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),r&&c.done]))[0]})};return h_.set(e,o),o}F1(n=>H(P({},n),{get:(e,t,i)=>V1(e,t)||n.get(e,t,i),has:(e,t)=>!!V1(e,t)||n.has(e,t)}));var p_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HV(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function HV(n){let e=n.getComponent();return e?.type==="VERSION"}var m_="@firebase/app",j1="0.9.24";var Pr=new zi("@firebase/app"),WV="@firebase/app-compat",KV="@firebase/analytics-compat",QV="@firebase/analytics",YV="@firebase/app-check-compat",JV="@firebase/app-check",ZV="@firebase/auth",XV="@firebase/auth-compat",eL="@firebase/database",tL="@firebase/database-compat",nL="@firebase/functions",iL="@firebase/functions-compat",rL="@firebase/installations",oL="@firebase/installations-compat",sL="@firebase/messaging",aL="@firebase/messaging-compat",cL="@firebase/performance",lL="@firebase/performance-compat",uL="@firebase/remote-config",dL="@firebase/remote-config-compat",hL="@firebase/storage",fL="@firebase/storage-compat",pL="@firebase/firestore",mL="@firebase/firestore-compat",gL="firebase",_L="10.7.0";var g_="[DEFAULT]",vL={[m_]:"fire-core",[WV]:"fire-core-compat",[QV]:"fire-analytics",[KV]:"fire-analytics-compat",[JV]:"fire-app-check",[YV]:"fire-app-check-compat",[ZV]:"fire-auth",[XV]:"fire-auth-compat",[eL]:"fire-rtdb",[tL]:"fire-rtdb-compat",[nL]:"fire-fn",[iL]:"fire-fn-compat",[rL]:"fire-iid",[oL]:"fire-iid-compat",[sL]:"fire-fcm",[aL]:"fire-fcm-compat",[cL]:"fire-perf",[lL]:"fire-perf-compat",[uL]:"fire-rc",[dL]:"fire-rc-compat",[hL]:"fire-gcs",[fL]:"fire-gcs-compat",[pL]:"fire-fst",[mL]:"fire-fst-compat","fire-js":"fire-js",[gL]:"fire-js-all"};var Ua=new Map,__=new Map;function yL(n,e){try{n.container.addComponent(e)}catch(t){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hi(n){let e=n.name;if(__.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;__.set(e,n);for(let t of Ua.values())yL(t,n);return!0}function C_(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}var wL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gi=new mi("app","Firebase",wL);var v_=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}};var rs=_L;function b_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:g_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Gi.create("bad-app-name",{appName:String(r)});if(t||(t=r_()),!t)throw Gi.create("no-options");let o=Ua.get(r);if(o){if(is(t,o.options)&&is(i,o.config))return o;throw Gi.create("duplicate-app",{appName:r})}let s=new yd(r);for(let c of __.values())s.addComponent(c);let a=new v_(t,i,s);return Ua.set(r,a),a}function $a(n=g_){let e=Ua.get(n);if(!e&&n===g_&&r_())return b_();if(!e)throw Gi.create("no-app",{appName:n});return e}function Cd(){return Array.from(Ua.values())}function nt(n,e,t){var i;let r=(i=vL[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}Hi(new fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var CL="firebase-heartbeat-database",bL=1,Ba="firebase-heartbeat-store",f_=null;function q1(){return f_||(f_=L1(CL,bL,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ba)}}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),f_}function EL(n){return I(this,null,function*(){try{return yield(yield q1()).transaction(Ba).objectStore(Ba).get(z1(n))}catch(e){if(e instanceof dn)Pr.warn(e.message);else{let t=Gi.create("idb-get",{originalErrorMessage:e?.message});Pr.warn(t.message)}}})}function U1(n,e){return I(this,null,function*(){try{let i=(yield q1()).transaction(Ba,"readwrite");yield i.objectStore(Ba).put(e,z1(n)),yield i.done}catch(t){if(t instanceof dn)Pr.warn(t.message);else{let i=Gi.create("idb-set",{originalErrorMessage:t?.message});Pr.warn(i.message)}}})}function z1(n){return`${n.name}!${n.options.appId}`}var IL=1024,TL=30*24*60*60*1e3,y_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new w_(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return I(this,null,function*(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=B1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=TL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return I(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=B1(),{heartbeatsToSend:i,unsentEntries:r}=xL(this._heartbeatsCache.heartbeats),o=ja(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function B1(){return new Date().toISOString().substring(0,10)}function xL(n,e=IL){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),$1(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),$1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var w_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return o_()?M1().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield EL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return U1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return U1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function $1(n){return ja(JSON.stringify({version:2,heartbeats:n})).length}function DL(n){Hi(new fn("platform-logger",e=>new p_(e),"PRIVATE")),Hi(new fn("heartbeat",e=>new y_(e),"PRIVATE")),nt(m_,j1,n),nt(m_,j1,"esm2017"),nt("fire-js","")}DL("");var SL="firebase",AL="10.7.0";nt(SL,AL,"app");var ss=new ii("ANGULARFIRE2_VERSION");function I_(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var za=(n,e)=>{let t=e?[e]:Cd(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},qa=class{constructor(){return za(ML)}},ML="app-check";function os(){}var bd=class{zone;delegate;constructor(e,t=Ef){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},E_=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os)),t.pipe(He({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ga=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new bd(Zone.current)),this.insideAngular=t.run(()=>new bd(Zone.current,bf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)($(Ee))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ed(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function PL(n){return Ed().ngZone.runOutsideAngular(()=>n())}function Or(n){return Ed().ngZone.run(()=>n())}function OL(n){return RL(Ed())(n)}function RL(n){return function(t){return t=t.lift(new E_(n.ngZone)),t.pipe(bi(n.outsideAngular),Ci(n.insideAngular))}}var NL=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Or(()=>n.apply(void 0,i))},Kt=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=Or(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os))),i[o]=NL(i[o],t));let r=PL(()=>n.apply(this,i));if(!e)if(r instanceof ce){let o=Ed();return r.pipe(bi(o.outsideAngular),Ci(o.insideAngular))}else return Or(()=>r);return r instanceof ce?r.pipe(OL):r instanceof Promise?Or(()=>new Promise((o,s)=>r.then(a=>Or(()=>o(a)),a=>Or(()=>s(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Or(()=>r)};var Rr=class{constructor(e){return e}},Ha=class{constructor(){return Cd()}};function kL(n){return n&&n.length===1?n[0]:new Rr($a())}var T_=new B("angularfire2._apps"),FL={provide:Rr,useFactory:kL,deps:[[new $t,T_]]},VL={provide:Ha,deps:[[new $t,T_]]};function LL(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Rr(i)}}var jL=(()=>{class n{constructor(t){nt("angularfire",ss.full,"core"),nt("angularfire",ss.full,"app"),nt("angular",Qb.full,t.toString())}static \u0275fac=function(i){return new(i||n)($(sn))};static \u0275mod=Nt({type:n});static \u0275inj=Rt({providers:[FL,VL]})}return n})();function G1(n,...e){return{ngModule:jL,providers:[{provide:T_,useFactory:LL(n),multi:!0,deps:[Ee,Ft,Ga,...e]}]}}var H1=Kt(b_,!0);function X1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eT=X1,tT=new mi("auth","Firebase",X1());var xd=new zi("@firebase/auth");function BL(n,...e){xd.logLevel<=de.WARN&&xd.warn(`Auth (${rs}): ${n}`,...e)}function Td(n,...e){xd.logLevel<=de.ERROR&&xd.error(`Auth (${rs}): ${n}`,...e)}function W1(n,...e){throw F_(n,...e)}function nT(n,...e){return F_(n,...e)}function $L(n,e,t){let i=Object.assign(Object.assign({},eT()),{[e]:t});return new mi("auth","Firebase",i).create(e,{appName:n.name})}function F_(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return tT.create(n,...e)}function xe(n,e,...t){if(!n)throw F_(e,...t)}function Wa(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Td(e),new Error(e)}function Dd(n,e){n||Wa(e)}function qL(){return K1()==="http:"||K1()==="https:"}function K1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function zL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qL()||S1()||"connection"in navigator)?navigator.onLine:!0}function GL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var kr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dd(t>e,"Short delay should be less than long delay!"),this.isMobile=D1()||A1()}get(){return zL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function HL(n,e){Dd(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Sd=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var WL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var KL=new kr(3e4,6e4);function iT(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function kd(o,s,a,c){return I(this,arguments,function*(n,e,t,i,r={}){return rT(n,r,()=>I(this,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let p=s_(Object.assign({key:n.config.apiKey},u)).slice(1),w=yield n._getAdditionalHeaders();return w["Content-Type"]="application/json",n.languageCode&&(w["X-Firebase-Locale"]=n.languageCode),Sd.fetch()(oT(n,n.config.apiHost,t,p),Object.assign({method:e,headers:w,referrerPolicy:"no-referrer"},l))}))})}function rT(n,e,t){return I(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},WL),e);try{let r=new S_(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Id(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Id(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Id(n,"user-disabled",s);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $L(n,u,l);W1(n,u)}}catch(r){if(r instanceof dn)throw r;W1(n,"network-request-failed",{message:String(r)})}})}function oT(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?HL(n.config,r):`${n.config.apiScheme}://${r}`}var S_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(nT(this.auth,"network-request-failed")),KL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Id(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=nT(n,e,i);return r.customData._tokenResponse=t,r}function QL(n,e){return I(this,null,function*(){return kd(n,"POST","/v1/accounts:delete",e)})}function YL(n,e){return I(this,null,function*(){return kd(n,"POST","/v1/accounts:lookup",e)})}function Ka(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function V_(n,e=!1){return I(this,null,function*(){let t=xt(n),i=yield t.getIdToken(e),r=sT(i);xe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Ka(x_(r.auth_time)),issuedAtTime:Ka(x_(r.iat)),expirationTime:Ka(x_(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function x_(n){return Number(n)*1e3}function sT(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{let r=n_(t);return r?JSON.parse(r):(Td("Failed to decode base64 JWT payload"),null)}catch(r){return Td("Caught error parsing JWT payload as JSON",r?.toString()),null}}function JL(n){let e=sT(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function A_(n,e,t=!1){return I(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof dn&&ZL(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function ZL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var M_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),t)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ad=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Md(n){return I(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield A_(n,YL(t,{idToken:i}));xe(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?e3(o.providerUserInfo):[],a=XL(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,u=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ad(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,p)})}function L_(n){return I(this,null,function*(){let e=xt(n);yield Md(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function XL(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function e3(n){return n.map(e=>{var{providerId:t}=e,i=If(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function t3(n,e){return I(this,null,function*(){let t=yield rT(n,{},()=>I(this,null,function*(){let i=s_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=oT(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sd.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function n3(n,e){return I(this,null,function*(){return kd(n,"POST","/v2/accounts:revokeToken",iT(n,e))})}var Pd=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){return I(this,null,function*(){return xe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return I(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield t3(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(xe(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(xe(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(xe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Wa("not implemented")}};function Wi(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Od=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=If(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new M_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ad(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let t=yield A_(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return V_(this,e)}reload(){return L_(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return I(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Md(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){let e=yield this.getIdToken();return yield A_(this,QL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,u;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(r=t.email)!==null&&r!==void 0?r:void 0,C=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=t.photoURL)!==null&&s!==void 0?s:void 0,D=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,fe=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:G,emailVerified:be,isAnonymous:Ze,providerData:_e,stsTokenManager:dt}=t;xe(G&&dt,e,"internal-error");let An=Pd.fromJSON(this.name,dt);xe(typeof G=="string",e,"internal-error"),Wi(p,e.name),Wi(w,e.name),xe(typeof be=="boolean",e,"internal-error"),xe(typeof Ze=="boolean",e,"internal-error"),Wi(C,e.name),Wi(x,e.name),Wi(D,e.name),Wi(A,e.name),Wi(F,e.name),Wi(fe,e.name);let rr=new n({uid:G,auth:e,email:w,emailVerified:be,displayName:p,isAnonymous:Ze,photoURL:x,phoneNumber:C,tenantId:D,stsTokenManager:An,createdAt:F,lastLoginAt:fe});return _e&&Array.isArray(_e)&&(rr.providerData=_e.map(to=>Object.assign({},to))),A&&(rr._redirectEventId=A),rr}static _fromIdTokenResponse(e,t,i=!1){return I(this,null,function*(){let r=new Pd;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Md(o),o})}};var Q1=new Map;function Nr(n){Dd(n instanceof Function,"Expected a class definition");let e=Q1.get(n);return e?(Dd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Q1.set(n,e),e)}var i3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(t,i){return I(this,null,function*(){this.storage[t]=i})}_get(t){return I(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return I(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),P_=i3;function D_(n,e,t){return`firebase:${n}:${e}:${t}`}var Rd=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=D_(this.userKey,r.apiKey,o),this.fullPersistenceKey=D_("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Od._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return I(this,null,function*(){if(!t.length)return new n(Nr(P_),e,i);let r=(yield Promise.all(t.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Nr(P_),s=D_(i,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(s);if(u){let p=Od._fromJSON(e,u);l!==o&&(a=p),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>I(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,i))})}};function Y1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l3(e))return"Blackberry";if(u3(e))return"Webos";if(o3(e))return"Safari";if((e.includes("chrome/")||s3(e))&&!e.includes("edge/"))return"Chrome";if(c3(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function r3(n=hn()){return/firefox\//i.test(n)}function o3(n=hn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s3(n=hn()){return/crios\//i.test(n)}function a3(n=hn()){return/iemobile/i.test(n)}function c3(n=hn()){return/android/i.test(n)}function l3(n=hn()){return/blackberry/i.test(n)}function u3(n=hn()){return/webos/i.test(n)}function aT(n,e=[]){let t;switch(n){case"Browser":t=Y1(hn());break;case"Worker":t=`${Y1(hn())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rs}/${i}`}var O_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function d3(t){return I(this,arguments,function*(n,e={}){return kd(n,"GET","/v2/passwordPolicy",iT(n,e))})}var h3=6,R_=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:h3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var N_=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nd(this),this.idTokenSubscription=new Nd(this),this.beforeStateQueue=new O_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Rd.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return I(this,null,function*(){var t;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return I(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Md(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=GL()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){let t=e?xt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return I(this,null,function*(){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Nr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield d3(this),t=new R_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield n3(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return I(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Nr(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=yield Rd.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return I(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&BL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function f3(n){return xt(n)}var Nd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=P1(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function p3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function m3(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Nr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}var rY=p3("rcb"),oY=new kr(3e4,6e4);var sY=new kr(2e3,1e4);var aY=10*60*1e3;var cY=new kr(3e4,6e4);var lY=new kr(5e3,15e3);var uY=encodeURIComponent("fac");var J1="@firebase/auth",Z1="1.5.0";var k_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function g3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function _3(n){Hi(new fn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;xe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(n)},l=new N_(i,r,o,c);return m3(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Hi(new fn("auth-internal",e=>{let t=f3(e.getProvider("auth").getImmediate());return(i=>new k_(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nt(J1,Z1,g3(n)),nt(J1,Z1,"esm2017")}var v3=5*60,dY=T1("authIdTokenMaxAge")||v3;_3("Browser");var _4="auth";var Fd=class{constructor(){return za(_4)}};var v4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tn={},k,s0=s0||{},J=v4||self;function Yd(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function cc(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function y4(n){return Object.prototype.hasOwnProperty.call(n,j_)&&n[j_]||(n[j_]=++w4)}var j_="closure_uid_"+(1e9*Math.random()>>>0),w4=0;function C4(n,e,t){return n.call.apply(n.bind,arguments)}function b4(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function _t(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=C4:_t=b4,_t.apply(null,arguments)}function Vd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function rt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Ki(){this.s=this.s,this.o=this.o}var E4=0;Ki.prototype.s=!1;Ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),E4!=0)&&y4(this)};Ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function a0(n){let e=n.length;if(0<e){let t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function cT(n,e){for(let t=1;t<arguments.length;t++){let i=arguments[t];if(Yd(i)){let r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function vt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var I4=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{let t=()=>{};J.addEventListener("test",t,e),J.removeEventListener("test",t,e)}catch{}return n}();function ec(n){return/^[\s\xa0]*$/.test(n)}function Jd(){var n=J.navigator;return n&&(n=n.userAgent)?n:""}function qn(n){return Jd().indexOf(n)!=-1}function c0(n){return c0[" "](n),n}c0[" "]=function(){};function T4(n,e){var t=fj;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}var x4=qn("Opera"),us=qn("Trident")||qn("MSIE"),CT=qn("Edge"),z_=CT||us,bT=qn("Gecko")&&!(Jd().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge"))&&!(qn("Trident")||qn("MSIE"))&&!qn("Edge"),D4=Jd().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge");function ET(){var n=J.document;return n?n.documentMode:void 0}var G_;e:{if(Ld="",jd=function(){var n=Jd();if(bT)return/rv:([^\);]+)(\)|;)/.exec(n);if(CT)return/Edge\/([\d\.]+)/.exec(n);if(us)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(D4)return/WebKit\/(\S+)/.exec(n);if(x4)return/(?:Version)[ \/]?(\S+)/.exec(n)}(),jd&&(Ld=jd?jd[1]:""),us&&(Ud=ET(),Ud!=null&&Ud>parseFloat(Ld))){G_=String(Ud);break e}G_=Ld}var Ld,jd,Ud,H_;J.document&&us?(U_=ET(),H_=U_||parseInt(G_,10)||void 0):H_=void 0;var U_,S4=H_;function tc(n,e){if(vt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(bT){e:{try{c0(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:A4[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tc.$.h.call(this)}}rt(tc,vt);var A4={2:"touch",3:"pen",4:"mouse"};tc.prototype.h=function(){tc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var lc="closure_listenable_"+(1e6*Math.random()|0),M4=0;function P4(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++M4,this.fa=this.ia=!1}function Zd(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function l0(n,e,t){for(let i in n)e.call(t,n[i],i,n)}function O4(n,e){for(let t in n)e.call(void 0,n[t],t,n)}function IT(n){let e={};for(let t in n)e[t]=n[t];return e}var lT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TT(n,e){let t,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(t in i)n[t]=i[t];for(let o=0;o<lT.length;o++)t=lT[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Xd(n){this.src=n,this.g={},this.h=0}Xd.prototype.add=function(n,e,t,i,r){var o=n.toString();n=this.g[o],n||(n=this.g[o]=[],this.h++);var s=K_(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):(e=new P4(e,this.src,o,!!i,r),e.ia=t,n.push(e)),e};function W_(n,e){var t=e.type;if(t in n.g){var i=n.g[t],r=wT(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Zd(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function K_(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}var u0="closure_lm_"+(1e6*Math.random()|0),B_={};function xT(n,e,t,i,r){if(i&&i.once)return ST(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)xT(n,e[o],t,i,r);return null}return t=f0(t),n&&n[lc]?n.O(e,t,cc(i)?!!i.capture:!!i,r):DT(n,e,t,!1,i,r)}function DT(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=cc(r)?!!r.capture:!!r,a=h0(n);if(a||(n[u0]=a=new Xd(n)),t=a.add(e,t,i,s,o),t.proxy)return t;if(i=R4(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)I4||(r=s),r===void 0&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(MT(e.toString()),i);else if(n.addListener&&n.removeListener)n.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return t}function R4(){function n(t){return e.call(n.src,n.listener,t)}let e=N4;return n}function ST(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ST(n,e[o],t,i,r);return null}return t=f0(t),n&&n[lc]?n.P(e,t,cc(i)?!!i.capture:!!i,r):DT(n,e,t,!0,i,r)}function AT(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)AT(n,e[o],t,i,r);else i=cc(i)?!!i.capture:!!i,t=f0(t),n&&n[lc]?(n=n.i,e=String(e).toString(),e in n.g&&(o=n.g[e],t=K_(o,t,i,r),-1<t&&(Zd(o[t]),Array.prototype.splice.call(o,t,1),o.length==0&&(delete n.g[e],n.h--)))):n&&(n=h0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=K_(e,t,i,r)),(t=-1<n?e[n]:null)&&d0(t))}function d0(n){if(typeof n!="number"&&n&&!n.fa){var e=n.src;if(e&&e[lc])W_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(MT(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=h0(e))?(W_(t,n),t.h==0&&(t.src=null,e[u0]=null)):Zd(n)}}}function MT(n){return n in B_?B_[n]:B_[n]="on"+n}function N4(n,e){if(n.fa)n=!0;else{e=new tc(e,this);var t=n.listener,i=n.la||n.src;n.ia&&d0(n),n=t.call(i,e)}return n}function h0(n){return n=n[u0],n instanceof Xd?n:null}var $_="__closure_events_fn_"+(1e9*Math.random()>>>0);function f0(n){return typeof n=="function"?n:(n[$_]||(n[$_]=function(e){return n.handleEvent(e)}),n[$_])}function it(){Ki.call(this),this.i=new Xd(this),this.S=this,this.J=null}rt(it,Ki);it.prototype[lc]=!0;it.prototype.removeEventListener=function(n,e,t,i){AT(this,n,e,t,i)};function lt(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,typeof e=="string")e=new vt(e,n);else if(e instanceof vt)e.target=e.target||n;else{var r=e;e=new vt(i,n),TT(e,r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Bd(s,i,!0,e)&&r}if(s=e.g=n,r=Bd(s,i,!0,e)&&r,r=Bd(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)s=e.g=t[o],r=Bd(s,i,!1,e)&&r}it.prototype.N=function(){if(it.$.N.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Zd(t[i]);delete n.g[e],n.h--}}this.J=null};it.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)};it.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};function Bd(n,e,t,i){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&W_(n.i,s),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var p0=J.JSON.stringify,Q_=class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function k4(){var n=m0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Y_=class{constructor(){this.h=this.g=null}add(e,t){let i=PT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},PT=new Q_(()=>new J_,n=>n.reset()),J_=class{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}};function F4(n){var e=1;n=n.split(":");let t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function V4(n){J.setTimeout(()=>{throw n},0)}var nc,ic=!1,m0=new Y_,OT=()=>{let n=J.Promise.resolve(void 0);nc=()=>{n.then(L4)}},L4=()=>{for(var n;n=k4();){try{n.h.call(n.g)}catch(t){V4(t)}var e=PT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ic=!1};function eh(n,e){it.call(this),this.h=n||1,this.g=e||J,this.j=_t(this.qb,this),this.l=Date.now()}rt(eh,it);k=eh.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lt(this,"tick"),this.ga&&(g0(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function g0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}k.N=function(){eh.$.N.call(this),g0(this),delete this.g};function _0(n,e,t){if(typeof n=="function")t&&(n=_t(n,t));else if(n&&typeof n.handleEvent=="function")n=_t(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(n,e||0)}function RT(n){n.g=_0(()=>{n.g=null,n.i&&(n.i=!1,RT(n))},n.j);let e=n.h;n.h=null,n.m.apply(null,e)}var Z_=class extends Ki{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RT(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function rc(n){Ki.call(this),this.h=n,this.g={}}rt(rc,Ki);var uT=[];function NT(n,e,t,i){Array.isArray(t)||(t&&(uT[0]=t.toString()),t=uT);for(var r=0;r<t.length;r++){var o=xT(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function kT(n){l0(n.g,function(e,t){this.g.hasOwnProperty(t)&&d0(e)},n),n.g={}}rc.prototype.N=function(){rc.$.N.call(this),kT(this)};rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function th(){this.g=!0}th.prototype.Ea=function(){this.g=!1};function j4(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var p=u.split("_");s=2<=p.length&&p[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+t+`
`+s})}function U4(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+t+`
`+o+" "+s})}function cs(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+$4(n,t)+(i?" "+i:"")})}function B4(n,e){n.info(function(){return"TIMEOUT: "+e})}th.prototype.info=function(){};function $4(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return p0(t)}catch{return e}}var jr={},dT=null;function nh(){return dT=dT||new it}jr.Ta="serverreachability";function FT(n){vt.call(this,jr.Ta,n)}rt(FT,vt);function oc(n){let e=nh();lt(e,new FT(e))}jr.STAT_EVENT="statevent";function VT(n,e){vt.call(this,jr.STAT_EVENT,n),this.stat=e}rt(VT,vt);function Dt(n){let e=nh();lt(e,new VT(e,n))}jr.Ua="timingevent";function LT(n,e){vt.call(this,jr.Ua,n),this.size=e}rt(LT,vt);function uc(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){n()},e)}var ih={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function v0(){}v0.prototype.h=null;function hT(n){return n.h||(n.h=n.i())}function UT(){}var dc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function y0(){vt.call(this,"d")}rt(y0,vt);function w0(){vt.call(this,"c")}rt(w0,vt);var X_;function rh(){}rt(rh,v0);rh.prototype.g=function(){return new XMLHttpRequest};rh.prototype.i=function(){return{}};X_=new rh;function hc(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new rc(this),this.P=q4,n=z_?125:void 0,this.V=new eh(n),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new BT}function BT(){this.i=null,this.g="",this.h=!1}var q4=45e3,$T={},e0={};k=hc.prototype;k.setTimeout=function(n){this.P=n};function t0(n,e,t){n.L=1,n.A=sh(_i(e)),n.u=t,n.S=!0,qT(n,null)}function qT(n,e){n.G=Date.now(),fc(n),n.B=_i(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),JT(t.i,"t",i),n.o=0,t=n.l.J,n.h=new BT,n.g=vx(n.l,t?e:null,!n.u),0<n.O&&(n.M=new Z_(_t(n.Pa,n,n.g),n.O)),NT(n.U,n.g,"readystatechange",n.nb),e=n.I?IT(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),oc(),j4(n.j,n.v,n.B,n.m,n.W,n.u)}k.nb=function(n){n=n.target;let e=this.M;e&&zn(n)==3?e.l():this.Pa(n)};k.Pa=function(n){try{if(n==this.g)e:{let u=zn(this.g);var e=this.g.Ia();let p=this.g.da();if(!(3>u)&&(u!=3||z_||this.g&&(this.h.h||this.g.ja()||gT(this.g)))){this.J||u!=4||e==7||(e==8||0>=p?oc(3):oc(2)),oh(this);var t=this.g.da();this.ca=t;t:if(zT(this)){var i=gT(this.g);n="";var r=i.length,o=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),Xa(this);var s="";break t}this.h.i=new J.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=t==200,U4(this.j,this.v,this.B,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ec(a)){var l=a;break t}}l=null}if(t=l)cs(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,n0(this,t);else{this.i=!1,this.s=3,Dt(12),Fr(this),Xa(this);break e}}this.S?(GT(this,u,s),z_&&this.i&&u==3&&(NT(this.U,this.V,"tick",this.mb),this.V.start())):(cs(this.j,this.m,s,null),n0(this,s)),u==4&&Fr(this),this.i&&!this.J&&(u==4?px(this.l,this):(this.i=!1,fc(this)))}else uj(this.g),t==400&&0<s.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Fr(this),Xa(this)}}}catch{}finally{}};function zT(n){return n.g?n.v=="GET"&&n.L!=2&&n.l.Ha:!1}function GT(n,e,t){let i=!0,r;for(;!n.J&&n.o<t.length;)if(r=z4(n,t),r==e0){e==4&&(n.s=4,Dt(14),i=!1),cs(n.j,n.m,null,"[Incomplete Response]");break}else if(r==$T){n.s=4,Dt(15),cs(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}else cs(n.j,n.m,r,null),n0(n,r);zT(n)&&n.o!=0&&(n.h.g=n.h.g.slice(n.o),n.o=0),e!=4||t.length!=0||n.h.h||(n.s=1,Dt(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,e=n.l,e.g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),x0(e),e.M=!0,Dt(11))):(cs(n.j,n.m,t,"[Invalid Chunked Response]"),Fr(n),Xa(n))}k.mb=function(){if(this.g){var n=zn(this.g),e=this.g.ja();this.o<e.length&&(oh(this),GT(this,n,e),this.i&&n!=4&&fc(this))}};function z4(n,e){var t=n.o,i=e.indexOf(`
`,t);return i==-1?e0:(t=Number(e.substring(t,i)),isNaN(t)?$T:(i+=1,i+t>e.length?e0:(e=e.slice(i,i+t),n.o=i+t,e)))}k.cancel=function(){this.J=!0,Fr(this)};function fc(n){n.Y=Date.now()+n.P,HT(n,n.P)}function HT(n,e){if(n.C!=null)throw Error("WatchDog timer not null");n.C=uc(_t(n.lb,n),e)}function oh(n){n.C&&(J.clearTimeout(n.C),n.C=null)}k.lb=function(){this.C=null;let n=Date.now();0<=n-this.Y?(B4(this.j,this.B),this.L!=2&&(oc(),Dt(17)),Fr(this),this.s=2,Xa(this)):HT(this,this.Y-n)};function Xa(n){n.l.H==0||n.J||px(n.l,n)}function Fr(n){oh(n);var e=n.M;e&&typeof e.sa=="function"&&e.sa(),n.M=null,g0(n.V),kT(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function n0(n,e){try{var t=n.l;if(t.H!=0&&(t.g==n||i0(t.i,n))){if(!n.K&&i0(t.i,n)&&t.H==3){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!t.u){if(t.g)if(t.g.G+3e3<n.G)Hd(t),lh(t);else break e;T0(t),Dt(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&t.A==0&&!t.v&&(t.v=uc(_t(t.ib,t),6e3));if(1>=ex(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Vr(t,11)}else if((n.K||t.g==n)&&Hd(t),!ec(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],t.H==2)if(l[0]=="c"){t.K=l[1],t.pa=l[2];let u=l[3];u!=null&&(t.ra=u,t.l.info("VER="+t.ra));let p=l[4];p!=null&&(t.Ga=p,t.l.info("SVER="+t.Ga));let w=l[5];w!=null&&typeof w=="number"&&0<w&&(i=1.5*w,t.L=i,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;let C=n.g;if(C){let x=C.g?C.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var o=i.i;o.g||x.indexOf("spdy")==-1&&x.indexOf("quic")==-1&&x.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(C0(o,o.h),o.h=null))}if(i.F){let D=C.g?C.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(i.Da=D,Ve(i.I,i.F,D))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms")),i=t;var s=n;if(i.wa=_x(i,i.J?i.pa:null,i.Y),s.K){tx(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.C&&(oh(a),fc(a)),i.g=s}else hx(i);0<t.j.length&&uh(t)}else l[0]!="stop"&&l[0]!="close"||Vr(t,7);else t.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Vr(t,7):I0(t):l[0]!="noop"&&t.h&&t.h.Aa(l),t.A=0)}}oc(4)}catch{}}function G4(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(Yd(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}e=[],t=0;for(i in n)e[t++]=n[i];return e}function H4(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Yd(n)||typeof n=="string"){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(let i in n)e[t++]=i;return e}}}function WT(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(Yd(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var t=H4(n),i=G4(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}var KT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W4(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Lr(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Lr){this.h=n.h,zd(this,n.j),this.s=n.s,this.g=n.g,Gd(this,n.m),this.l=n.l;var e=n.i,t=new sc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),fT(this,t),this.o=n.o}else n&&(e=String(n).match(KT))?(this.h=!1,zd(this,e[1]||"",!0),this.s=Ja(e[2]||""),this.g=Ja(e[3]||"",!0),Gd(this,e[4]),this.l=Ja(e[5]||"",!0),fT(this,e[6]||"",!0),this.o=Ja(e[7]||"")):(this.h=!1,this.i=new sc(null,this.h))}Lr.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Za(e,pT,!0),":");var t=this.g;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(Za(e,pT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&n.push("/"),n.push(Za(t,t.charAt(0)=="/"?Y4:Q4,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Za(t,Z4)),n.join("")};function _i(n){return new Lr(n)}function zd(n,e,t){n.j=t?Ja(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Gd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function fT(n,e,t){e instanceof sc?(n.i=e,X4(n.i,n.h)):(t||(e=Za(e,J4)),n.i=new sc(e,n.h))}function Ve(n,e,t){n.i.set(e,t)}function sh(n){return Ve(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ja(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Za(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,K4),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function K4(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var pT=/[#\/\?@]/g,Q4=/[#\?:]/g,Y4=/[#\?]/g,J4=/[#\?@]/g,Z4=/#/g;function sc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qi(n){n.g||(n.g=new Map,n.h=0,n.i&&W4(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}k=sc.prototype;k.add=function(n,e){Qi(this),this.i=null,n=ds(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function QT(n,e){Qi(n),e=ds(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function YT(n,e){return Qi(n),e=ds(n,e),n.g.has(e)}k.forEach=function(n,e){Qi(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)};k.ta=function(){Qi(this);let n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){let r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t};k.Z=function(n){Qi(this);let e=[];if(typeof n=="string")YT(this,n)&&(e=e.concat(this.g.get(ds(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e};k.set=function(n,e){return Qi(this),this.i=null,n=ds(this,n),YT(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};k.get=function(n,e){return n?(n=this.Z(n),0<n.length?String(n[0]):e):e};function JT(n,e,t){QT(n,e),0<t.length&&(n.i=null,n.g.set(ds(n,e),a0(t)),n.h+=t.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";let n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];let o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};function ds(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function X4(n,e){e&&!n.j&&(Qi(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(QT(this,i),JT(this,r,t))},n)),n.j=e}var ej=class{constructor(n,e){this.g=n,this.map=e}};function ZT(n){this.l=n||tj,J.PerformanceNavigationTiming?(n=J.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tj=10;function XT(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function ex(n){return n.h?1:n.g?n.g.size:0}function i0(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function C0(n,e){n.g?n.g.add(e):n.h=e}function tx(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}ZT.prototype.cancel=function(){if(this.i=nx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let n of this.g.values())n.cancel();this.g.clear()}};function nx(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let e=n.i;for(let t of n.g.values())e=e.concat(t.F);return e}return a0(n.i)}var nj=class{stringify(n){return J.JSON.stringify(n,void 0)}parse(n){return J.JSON.parse(n,void 0)}};function ij(){this.g=new nj}function rj(n,e,t){let i=t||"";try{WT(n,function(r,o){let s=r;cc(r)&&(s=p0(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function oj(n,e){let t=new th;if(J.Image){let i=new Image;i.onload=Vd($d,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Vd($d,t,i,"TestLoadImage: error",!1,e),i.onabort=Vd($d,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Vd($d,t,i,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}function $d(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function pc(n){this.l=n.ec||null,this.j=n.ob||!1}rt(pc,v0);pc.prototype.g=function(){return new ah(this.l,this.j)};pc.prototype.i=function(n){return function(){return n}}({});function ah(n,e){it.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=b0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(ah,it);var b0=0;k=ah.prototype;k.open=function(n,e){if(this.readyState!=b0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ac(this)};k.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mc(this)),this.readyState=b0};k.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ac(this)),this.g&&(this.readyState=3,ac(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ix(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function ix(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}k.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mc(this):ac(this),this.readyState==3&&ix(this)}};k.Za=function(n){this.g&&(this.response=this.responseText=n,mc(this))};k.Ya=function(n){this.g&&(this.response=n,mc(this))};k.ka=function(){this.g&&mc(this)};function mc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ac(n)}k.setRequestHeader=function(n,e){this.v.append(n,e)};k.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";let n=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function ac(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var sj=J.JSON.parse;function je(n){it.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rx,this.L=this.M=!1}rt(je,it);var rx="",aj=/^https?$/i,cj=["POST","PUT"];k=je.prototype;k.Oa=function(n){this.M=n};k.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():X_.g(),this.C=this.u?hT(this.u):hT(X_),this.g.onreadystatechange=_t(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){mT(this,o);return}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())t.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(t.keys()).find(o=>o.toLowerCase()=="content-type"),r=J.FormData&&n instanceof J.FormData,!(0<=wT(cj,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ax(this),0<this.B&&((this.L=lj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.ua,this)):this.A=_0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){mT(this,o)}};function lj(n){return us&&typeof n.timeout=="number"&&n.ontimeout!==void 0}k.ua=function(){typeof s0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function mT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ox(n),ch(n)}function ox(n){n.F||(n.F=!0,lt(n,"complete"),lt(n,"error"))}k.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,lt(this,"complete"),lt(this,"abort"),ch(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ch(this,!0)),je.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?sx(this):this.kb())};k.kb=function(){sx(this)};function sx(n){if(n.h&&typeof s0<"u"&&(!n.C[1]||zn(n)!=4||n.da()!=2)){if(n.v&&zn(n)==4)_0(n.La,0,n);else if(lt(n,"readystatechange"),zn(n)==4){n.h=!1;try{let s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=s===0){var r=String(n.I).match(KT)[1]||null;!r&&J.self&&J.self.location&&(r=J.self.location.protocol.slice(0,-1)),i=!aj.test(r?r.toLowerCase():"")}t=i}if(t)lt(n,"complete"),lt(n,"success");else{n.m=6;try{var o=2<zn(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",ox(n)}}finally{ch(n)}}}}function ch(n,e){if(n.g){ax(n);let t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||lt(n,"ready");try{t.onreadystatechange=i}catch{}}}function ax(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(J.clearTimeout(n.A),n.A=null)}k.isActive=function(){return!!this.g};function zn(n){return n.g?n.g.readyState:0}k.da=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),sj(e)}};function gT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case rx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function uj(n){let e={};n=(n.g&&2<=zn(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<n.length;i++){if(ec(n[i]))continue;var t=F4(n[i]);let r=t[0];if(t=t[1],typeof t!="string")continue;t=t.trim();let o=e[r]||[];e[r]=o,o.push(t)}O4(e,function(i){return i.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function cx(n){let e="";return l0(n,function(t,i){e+=i,e+=":",e+=t,e+=`\r
`}),e}function E0(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=cx(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):Ve(n,e,t))}function Qa(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function lx(n){this.Ga=0,this.j=[],this.l=new th,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qa("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qa("baseRetryDelayMs",5e3,n),this.hb=Qa("retryDelaySeedMs",1e4,n),this.eb=Qa("forwardChannelMaxRetries",2,n),this.xa=Qa("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ZT(n&&n.concurrentRequestLimit),this.Ja=new ij,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=lx.prototype;k.ra=8;k.H=1;function I0(n){if(ux(n),n.H==3){var e=n.W++,t=_i(n.I);if(Ve(t,"SID",n.K),Ve(t,"RID",e),Ve(t,"TYPE","terminate"),gc(n,t),e=new hc(n,n.l,e),e.L=2,e.A=sh(_i(t)),t=!1,J.navigator&&J.navigator.sendBeacon)try{t=J.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&J.Image&&(new Image().src=e.A,t=!0),t||(e.g=vx(e.l,null),e.g.ha(e.A)),e.G=Date.now(),fc(e)}gx(n)}function lh(n){n.g&&(x0(n),n.g.cancel(),n.g=null)}function ux(n){lh(n),n.u&&(J.clearTimeout(n.u),n.u=null),Hd(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&J.clearTimeout(n.m),n.m=null)}function uh(n){if(!XT(n.i)&&!n.m){n.m=!0;var e=n.Na;nc||OT(),ic||(nc(),ic=!0),m0.add(e,n),n.C=0}}function dj(n,e){return ex(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=e.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=uc(_t(n.Na,n,e),mx(n,n.C)),n.C++,!0)}k.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;let r=new hc(this,this.l,n),o=this.s;if(this.U&&(o?(o=IT(o),TT(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){t:{var i=this.j[t];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=t;break e}if(e===4096||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=dx(this,r,e),t=_i(this.I),Ve(t,"RID",n),Ve(t,"CVER",22),this.F&&Ve(t,"X-HTTP-Session-Id",this.F),gc(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(cx(o)))+"&"+e:this.o&&E0(t,this.o,o)),C0(this.i,r),this.bb&&Ve(t,"TYPE","init"),this.P?(Ve(t,"$req",e),Ve(t,"SID","null"),r.aa=!0,t0(r,t,null)):t0(r,t,e),this.H=2}}else this.H==3&&(n?_T(this,n):this.j.length==0||XT(this.i)||_T(this))};function _T(n,e){var t;e?t=e.m:t=n.W++;let i=_i(n.I);Ve(i,"SID",n.K),Ve(i,"RID",t),Ve(i,"AID",n.V),gc(n,i),n.o&&n.s&&E0(i,n.o,n.s),t=new hc(n,n.l,t,n.C+1),n.o===null&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=dx(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),C0(n.i,t),t0(t,i,e)}function gc(n,e){n.na&&l0(n.na,function(t,i){Ve(e,i,t)}),n.h&&WT({},function(t,i){Ve(e,i,t)})}function dx(n,e,t){t=Math.min(n.j.length,t);var i=n.h?_t(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){let s=["count="+t];o==-1?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g,u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{rj(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function hx(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;nc||OT(),ic||(nc(),ic=!0),m0.add(e,n),n.A=0}}function T0(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=uc(_t(n.Ma,n),mx(n,n.A)),n.A++,!0)}k.Ma=function(){if(this.u=null,fx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=uc(_t(this.jb,this),n)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dt(10),lh(this),fx(this))};function x0(n){n.B!=null&&(J.clearTimeout(n.B),n.B=null)}function fx(n){n.g=new hc(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var e=_i(n.wa);Ve(e,"RID","rpc"),Ve(e,"SID",n.K),Ve(e,"AID",n.V),Ve(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ve(e,"TO",n.qa),Ve(e,"TYPE","xmlhttp"),gc(n,e),n.o&&n.s&&E0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=sh(_i(e)),t.u=null,t.S=!0,qT(t,n)}k.ib=function(){this.v!=null&&(this.v=null,lh(this),T0(this),Dt(19))};function Hd(n){n.v!=null&&(J.clearTimeout(n.v),n.v=null)}function px(n,e){var t=null;if(n.g==e){Hd(n),x0(n),n.g=null;var i=2}else if(i0(n.i,e))t=e.F,tx(n.i,e),i=1;else return;if(n.H!=0){if(e.i)if(i==1){t=e.u?e.u.length:0,e=Date.now()-e.G;var r=n.C;i=nh(),lt(i,new LT(i,t)),uh(n)}else hx(n);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&dj(n,e)||i==2&&T0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Vr(n,5);break;case 4:Vr(n,10);break;case 3:Vr(n,6);break;default:Vr(n,2)}}}function mx(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Vr(n,e){if(n.l.info("Error code "+e),e==2){var t=null;n.h&&(t=null);var i=_t(n.pb,n);t||(t=new Lr("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||zd(t,"https"),sh(t)),oj(t.toString(),i)}else Dt(2);n.H=0,n.h&&n.h.za(e),gx(n),ux(n)}k.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Dt(2)):(this.l.info("Failed to ping google.com"),Dt(1))};function gx(n){if(n.H=0,n.ma=[],n.h){let e=nx(n.i);(e.length!=0||n.j.length!=0)&&(cT(n.ma,e),cT(n.ma,n.j),n.i.i.length=0,a0(n.j),n.j.length=0),n.h.ya()}}function _x(n,e,t){var i=t instanceof Lr?_i(t):new Lr(t);if(i.g!="")e&&(i.g=e+"."+i.g),Gd(i,i.m);else{var r=J.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Lr(null);i&&zd(o,i),e&&(o.g=e),r&&Gd(o,r),t&&(o.l=t),i=o}return t=n.F,e=n.Da,t&&e&&Ve(i,t,e),Ve(i,"VER",n.ra),gc(n,i),i}function vx(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n.Ha&&!n.va?new je(new pc({ob:t})):new je(n.va),e.Oa(n.J),e}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function yx(){}k=yx.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function Wd(){if(us&&!(10<=Number(S4)))throw Error("Environmental error: no available transport.")}Wd.prototype.g=function(n,e){return new Qt(n,e)};function Qt(n,e){it.call(this),this.g=new lx(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!ec(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ec(e)&&(this.g.F=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new hs(this)}rt(Qt,it);Qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Dt(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=_x(n,null,n.Y),uh(n)};Qt.prototype.close=function(){I0(this.g)};Qt.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var t={};t.__data__=n,n=t}else this.v&&(t={},t.__data__=p0(n),n=t);e.j.push(new ej(e.fb++,n)),e.H==3&&uh(e)};Qt.prototype.N=function(){this.g.h=null,delete this.j,I0(this.g),delete this.g,Qt.$.N.call(this)};function wx(n){y0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(let t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}rt(wx,y0);function Cx(){w0.call(this),this.status=1}rt(Cx,w0);function hs(n){this.g=n}rt(hs,yx);hs.prototype.Ba=function(){lt(this.g,"a")};hs.prototype.Aa=function(n){lt(this.g,new wx(n))};hs.prototype.za=function(n){lt(this.g,new Cx)};hs.prototype.ya=function(){lt(this.g,"b")};function hj(){this.blockSize=-1}function In(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}rt(In,hj);In.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function q_(n,e,t){t||(t=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;e=n.g[0],t=n.g[1],r=n.g[2];var o=n.g[3],s=e+(o^t&(r^o))+i[0]+3614090360&4294967295;e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[3]+3250441966&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(o^t&(r^o))+i[4]+4118548399&4294967295,e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[7]+4249261313&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(o^t&(r^o))+i[8]+1770035416&4294967295,e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[11]+2304563134&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(o^t&(r^o))+i[12]+1804603682&4294967295,e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[15]+1236535329&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(t^r))+i[1]+4129170786&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[0]+3921069994&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(t^r))+i[5]+3593408605&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[4]+3889429448&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(t^r))+i[9]+568446438&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[8]+1163531501&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(t^r))+i[13]+2850285829&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[12]+2368359562&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(t^r^o)+i[5]+4294588738&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[14]+4259657740&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(t^r^o)+i[1]+2763975236&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[10]+3200236656&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(t^r^o)+i[13]+681279174&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[6]+76029189&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(t^r^o)+i[9]+3654602809&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[2]+3299628645&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(r^(t|~o))+i[0]+4096336452&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[5]+4237533241&4294967295,t=r+(s<<21&4294967295|s>>>11),s=e+(r^(t|~o))+i[12]+1700485571&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[1]+2240044497&4294967295,t=r+(s<<21&4294967295|s>>>11),s=e+(r^(t|~o))+i[8]+1873313359&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[13]+1309151649&4294967295,t=r+(s<<21&4294967295|s>>>11),s=e+(r^(t|~o))+i[4]+4149444226&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}In.prototype.j=function(n,e){e===void 0&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=t;)q_(this,n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){q_(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){q_(this,i),r=0;break}}this.h=r,this.i+=e};In.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=t&255,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};function De(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=n[r]|0;i&&o==e||(t[r]=o,i=!1)}this.g=t}var fj={};function D0(n){return-128<=n&&128>n?T4(n,function(e){return new De([e|0],0>e?-1:0)}):new De([n|0],0>n?-1:0)}function Gn(n){if(isNaN(n)||!isFinite(n))return ls;if(0>n)return ct(Gn(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=r0;return new De(e,0)}function bx(n,e){if(n.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(n.charAt(0)=="-")return ct(bx(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Gn(Math.pow(e,8)),i=ls,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Gn(Math.pow(e,o)),i=i.R(o).add(Gn(s))):(i=i.R(t),i=i.add(Gn(s)))}return i}var r0=4294967296,ls=D0(0),o0=D0(1),vT=D0(16777216);k=De.prototype;k.ea=function(){if(pn(this))return-ct(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:r0+i)*e,e*=r0}return n};k.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(gi(this))return"0";if(pn(this))return"-"+ct(this).toString(n);for(var e=Gn(Math.pow(n,6)),t=this,i="";;){var r=Qd(t,e).g;t=Kd(t,r.R(e));var o=((0<t.g.length?t.g[0]:t.h)>>>0).toString(n);if(t=r,gi(t))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};k.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function gi(n){if(n.h!=0)return!1;for(var e=0;e<n.g.length;e++)if(n.g[e]!=0)return!1;return!0}function pn(n){return n.h==-1}k.X=function(n){return n=Kd(this,n),pn(n)?-1:gi(n)?0:1};function ct(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new De(t,~n.h).add(o0)}k.abs=function(){return pn(this)?ct(this):this};k.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(n.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,t[r]=s<<16|o}return new De(t,t[t.length-1]&-2147483648?-1:0)};function Kd(n,e){return n.add(ct(e))}k.R=function(n){if(gi(this)||gi(n))return ls;if(pn(this))return pn(n)?ct(this).R(ct(n)):ct(ct(this).R(n));if(pn(n))return ct(this.R(ct(n)));if(0>this.X(vT)&&0>n.X(vT))return Gn(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=n.D(r)>>>16,c=n.D(r)&65535;t[2*i+2*r]+=s*c,qd(t,2*i+2*r),t[2*i+2*r+1]+=o*c,qd(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,qd(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,qd(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new De(t,0)};function qd(n,e){for(;(n[e]&65535)!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ya(n,e){this.g=n,this.h=e}function Qd(n,e){if(gi(e))throw Error("division by zero");if(gi(n))return new Ya(ls,ls);if(pn(n))return e=Qd(ct(n),e),new Ya(ct(e.g),ct(e.h));if(pn(e))return e=Qd(n,ct(e)),new Ya(ct(e.g),e.h);if(30<n.g.length){if(pn(n)||pn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=o0,i=e;0>=i.X(n);)t=yT(t),i=yT(i);var r=as(t,1),o=as(i,1);for(i=as(i,2),t=as(t,2);!gi(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=as(i,1),t=as(t,1)}return e=Kd(n,r.R(e)),new Ya(r,e)}for(r=ls;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=Math.ceil(Math.log(t)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Gn(t),s=o.R(e);pn(s)||0<s.X(n);)t-=i,o=Gn(t),s=o.R(e);gi(o)&&(o=o0),r=r.add(o),n=Kd(n,s)}return new Ya(r,n)}k.gb=function(n){return Qd(this,n).h};k.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new De(t,this.h&n.h)};k.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new De(t,this.h|n.h)};k.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new De(t,this.h^n.h)};function yT(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new De(t,n.h)}function as(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new De(r,n.h)}Wd.prototype.createWebChannel=Wd.prototype.g;Qt.prototype.send=Qt.prototype.u;Qt.prototype.open=Qt.prototype.m;Qt.prototype.close=Qt.prototype.close;ih.NO_ERROR=0;ih.TIMEOUT=8;ih.HTTP_ERROR=6;jT.COMPLETE="complete";UT.EventType=dc;dc.OPEN="a";dc.CLOSE="b";dc.ERROR="c";dc.MESSAGE="d";it.prototype.listen=it.prototype.O;je.prototype.listenOnce=je.prototype.P;je.prototype.getLastError=je.prototype.Sa;je.prototype.getLastErrorCode=je.prototype.Ia;je.prototype.getStatus=je.prototype.da;je.prototype.getResponseJson=je.prototype.Wa;je.prototype.getResponseText=je.prototype.ja;je.prototype.send=je.prototype.ha;je.prototype.setWithCredentials=je.prototype.Oa;In.prototype.digest=In.prototype.l;In.prototype.reset=In.prototype.reset;In.prototype.update=In.prototype.j;De.prototype.add=De.prototype.add;De.prototype.multiply=De.prototype.R;De.prototype.modulo=De.prototype.gb;De.prototype.compare=De.prototype.X;De.prototype.toNumber=De.prototype.ea;De.prototype.toString=De.prototype.toString;De.prototype.getBits=De.prototype.D;De.fromNumber=Gn;De.fromString=bx;var Ex=Tn.createWebChannelTransport=function(){return new Wd},Ix=Tn.getStatEventTarget=function(){return nh()},dh=Tn.ErrorCode=ih,Tx=Tn.EventType=jT,xx=Tn.Event=jr,S0=Tn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tJ=Tn.FetchXmlHttpFactory=pc,_c=Tn.WebChannel=UT,Dx=Tn.XhrIo=je,Sx=Tn.Md5=In,Ur=Tn.Integer=De;var Ax="@firebase/firestore";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var Rs="10.7.0";var zr=new zi("@firebase/firestore");function vc(){return zr.logLevel}function j(n,...e){if(zr.logLevel<=de.DEBUG){let t=e.map(dy);zr.debug(`Firestore (${Rs}): ${n}`,...t)}}function vi(n,...e){if(zr.logLevel<=de.ERROR){let t=e.map(dy);zr.error(`Firestore (${Rs}): ${n}`,...t)}}function ys(n,...e){if(zr.logLevel<=de.WARN){let t=e.map(dy);zr.warn(`Firestore (${Rs}): ${n}`,...t)}}function dy(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n="Unexpected state"){let e=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: `+n;throw vi(e),new Error(e)}function Ne(n,e){n||Q()}function ne(n,e){return n}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends dn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var xn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var gh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},R0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ot.UNAUTHENTICATED))}shutdown(){}},N0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},k0=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),o=new xn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xn,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>I(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ne(typeof i.accessToken=="string"),new gh(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new ot(e)}},F0=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},V0=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new F0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},L0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},j0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne(typeof t.token=="string"),this.R=t.token,new L0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function pj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var _h=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=pj(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function Ce(n,e){return n<e?-1:n>e?1:0}function ws(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var ut=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ut(0,0))}static max(){return new n(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vh=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&Q(),i===void 0?i=e.length-t:i>e.length-t&&Q(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Le=class n extends vh{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new V(S.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},mj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jt=class n extends vh{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return mj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new V(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new V(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new V(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var z=class n{constructor(e){this.path=e}static fromPath(e){return new n(Le.fromString(e))}static fromName(e){return new n(Le.fromString(e).popFirst(5))}static empty(){return new n(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Le(e.slice()))}};var U0=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};U0.UNKNOWN_ID=-1;function gj(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=te.fromTimestamp(i===1e9?new ut(t+1,0):new ut(t,i));return new Gr(r,z.empty(),e)}function _j(n){return new Gr(n.readTime,n.key,-1)}var Gr=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(te.min(),z.empty(),-1)}static max(){return new n(te.max(),z.empty(),-1)}};function vj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=z.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}var yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",B0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function kc(n){return I(this,null,function*(){if(n.code!==S.FAILED_PRECONDITION||n.message!==yj)throw n;j("LocalStore","Unexpectedly lost primary lease")})}var R=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function Fc(n){return n.name==="IndexedDbTransactionError"}var oD=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Yh(n){return n==null}function Ic(n){return n===0&&1/n==-1/0}function wj(n){return typeof n=="number"&&Number.isInteger(n)&&!Ic(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Cj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hJ=[...Cj,"documentOverlays"],bj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ej=bj,fJ=[...Ej,"indexConfiguration","indexState","indexEntries"];function Mx(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zr(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sD(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Be=class n{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gs(this.root,e,this.comparator,!1)}getReverseIterator(){return new gs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gs(this.root,e,this.comparator,!0)}},gs=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wn=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var wt=class n{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yh(this.data.getIterator())}getIteratorFrom(e){return new yh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},yh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mn=class n{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new n([])}unionWith(e){let t=new wt(Jt.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ws(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var wh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var St=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};St.EMPTY_BYTE_STRING=new St("");var Ij=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(n){if(Ne(!!n),typeof n=="string"){let e=0,t=Ij.exec(n);if(Ne(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ue(n.seconds),nanos:Ue(n.nanos)}}function Ue(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xi(n){return typeof n=="string"?St.fromBase64String(n):St.fromUint8Array(n)}function hy(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function fy(n){let e=n.mapValue.fields.__previous_value__;return hy(e)?fy(e):e}function Tc(n){let e=Zi(n.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}var $0=class{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Ch=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var hh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hy(n)?4:aD(n)?9007199254740991:10:Q()}function Yn(n,e){if(n===e)return!0;let t=Hr(n);if(t!==Hr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tc(n).isEqual(Tc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Zi(r.timestampValue),a=Zi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Xi(r.bytesValue).isEqual(Xi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ue(r.geoPointValue.latitude)===Ue(o.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ue(r.integerValue)===Ue(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Ue(r.doubleValue),a=Ue(o.doubleValue);return s===a?Ic(s)===Ic(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ws(n.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(Mx(s)!==Mx(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Yn(s[c],a[c])))return!1;return!0}(n,e);default:return Q()}}function xc(n,e){return(n.values||[]).find(t=>Yn(t,e))!==void 0}function Cs(n,e){if(n===e)return 0;let t=Hr(n),i=Hr(e);if(t!==i)return Ce(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ue(o.integerValue||o.doubleValue),c=Ue(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Px(n.timestampValue,e.timestampValue);case 4:return Px(Tc(n),Tc(e));case 5:return Ce(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Xi(o),c=Xi(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Ce(a[l],c[l]);if(u!==0)return u}return Ce(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ce(Ue(o.latitude),Ue(s.latitude));return a!==0?a:Ce(Ue(o.longitude),Ue(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=Cs(a[l],c[l]);if(u)return u}return Ce(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===hh.mapValue&&s===hh.mapValue)return 0;if(o===hh.mapValue)return 1;if(s===hh.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let p=0;p<c.length&&p<u.length;++p){let w=Ce(c[p],u[p]);if(w!==0)return w;let C=Cs(a[c[p]],l[u[p]]);if(C!==0)return C}return Ce(c.length,u.length)}(n.mapValue,e.mapValue);default:throw Q()}}function Px(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);let t=Zi(n),i=Zi(e),r=Ce(t.seconds,i.seconds);return r!==0?r:Ce(t.nanos,i.nanos)}function bs(n){return q0(n)}function q0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Zi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return z.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=q0(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${q0(t.fields[s])}`;return r+"}"}(n.mapValue):Q()}function Ox(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function z0(n){return!!n&&"integerValue"in n}function py(n){return!!n&&"arrayValue"in n}function Rx(n){return!!n&&"nullValue"in n}function Nx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ph(n){return!!n&&"mapValue"in n}function wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Zr(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=wc(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Yt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(t)}setAll(e){let t=Jt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=wc(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ph(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Zr(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(wc(this.value))}};function cD(n){let e=[];return Zr(n.fields,(t,i)=>{let r=new Jt([t]);if(ph(i)){let o=cD(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new mn(e)}var Dn=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,te.min(),te.min(),te.min(),Yt.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,te.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,te.min(),te.min(),Yt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,te.min(),te.min(),Yt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Es=class{constructor(e,t){this.position=e,this.inclusive=t}};function kx(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=z.comparator(z.fromName(s.referenceValue),t.key):i=Cs(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yn(n.position[t],e.position[t]))return!1;return!0}var Is=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Tj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var bh=class{},Je=class n extends bh{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new H0(e,t,i):t==="array-contains"?new Q0(e,i):t==="in"?new Y0(e,i):t==="not-in"?new J0(e,i):t==="array-contains-any"?new Z0(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new W0(e,i):new K0(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Cs(t,this.value)):t!==null&&Hr(this.value)===Hr(t)&&this.matchesComparison(Cs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Sn=class n extends bh{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new n(e,t)}matches(e){return lD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function lD(n){return n.op==="and"}function uD(n){return xj(n)&&lD(n)}function xj(n){for(let e of n.filters)if(e instanceof Sn)return!1;return!0}function G0(n){if(n instanceof Je)return n.field.canonicalString()+n.op.toString()+bs(n.value);if(uD(n))return n.filters.map(e=>G0(e)).join(",");{let e=n.filters.map(t=>G0(t)).join(",");return`${n.op}(${e})`}}function dD(n,e){return n instanceof Je?function(i,r){return r instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&Yn(i.value,r.value)}(n,e):n instanceof Sn?function(i,r){return r instanceof Sn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&dD(s,r.filters[a]),!0):!1}(n,e):void Q()}function hD(n){return n instanceof Je?function(t){return`${t.field.canonicalString()} ${t.op} ${bs(t.value)}`}(n):n instanceof Sn?function(t){return t.op.toString()+" {"+t.getFilters().map(hD).join(" ,")+"}"}(n):"Filter"}var H0=class extends Je{constructor(e,t,i){super(e,t,i),this.key=z.fromName(i.referenceValue)}matches(e){let t=z.comparator(e.key,this.key);return this.matchesComparison(t)}},W0=class extends Je{constructor(e,t){super(e,"in",t),this.keys=fD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},K0=class extends Je{constructor(e,t){super(e,"not-in",t),this.keys=fD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function fD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>z.fromName(i.referenceValue))}var Q0=class extends Je{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return py(t)&&xc(t.arrayValue,this.value)}},Y0=class extends Je{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&xc(this.value.arrayValue,t)}},J0=class extends Je{constructor(e,t){super(e,"not-in",t)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!xc(this.value.arrayValue,t)}},Z0=class extends Je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!py(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xc(this.value.arrayValue,i))}};var X0=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function Vx(n,e=null,t=[],i=[],r=null,o=null,s=null){return new X0(n,e,t,i,r,o,s)}function my(n){let e=ne(n);if(e.ce===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>G0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>bs(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>bs(i)).join(",")),e.ce=t}return e.ce}function gy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Tj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fx(n.startAt,e.startAt)&&Fx(n.endAt,e.endAt)}function ev(n){return z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Wr=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Dj(n,e,t,i,r,o,s,a){return new Wr(n,e,t,i,r,o,s,a)}function _y(n){return new Wr(n)}function Lx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pD(n){return n.collectionGroup!==null}function Cc(n){let e=ne(n);if(e.le===null){e.le=[];let t=new Set;for(let o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wt(Jt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new Is(o,i))}),t.has(Jt.keyField().canonicalString())||e.le.push(new Is(Jt.keyField(),i))}return e.le}function Kn(n){let e=ne(n);return e.he||(e.he=Sj(e,Cc(n))),e.he}function Sj(n,e){if(n.limitType==="F")return Vx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Is(r.field,o)});let t=n.endAt?new Es(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Es(n.startAt.position,n.startAt.inclusive):null;return Vx(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function tv(n,e){let t=n.filters.concat([e]);return new Wr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nv(n,e,t){return new Wr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jh(n,e){return gy(Kn(n),Kn(e))&&n.limitType===e.limitType}function mD(n){return`${my(Kn(n))}|lt:${n.limitType}`}function fs(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>hD(r)).join(", ")}]`),Yh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>bs(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>bs(r)).join(",")),`Target(${i})`}(Kn(n))}; limitType=${n.limitType})`}function Zh(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):z.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of Cc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=kx(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,Cc(i),r)||i.endAt&&!function(s,a,c){let l=kx(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,Cc(i),r))}(n,e)}function Aj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gD(n){return(e,t)=>{let i=!1;for(let r of Cc(n)){let o=Mj(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Mj(n,e,t){let i=n.field.isKeyField()?z.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Cs(c,l):Q()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Q()}}var er=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return sD(this.inner)}size(){return this.innerSize}};var Pj=new Be(z.comparator);function yi(){return Pj}var _D=new Be(z.comparator);function yc(...n){let e=_D;for(let t of n)e=e.insert(t.key,t);return e}function vD(n){let e=_D;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Br(){return bc()}function yD(){return bc()}function bc(){return new er(n=>n.toString(),(n,e)=>n.isEqual(e))}var Oj=new Be(z.comparator),Rj=new wt(z.comparator);function he(...n){let e=Rj;for(let t of n)e=e.add(t);return e}var Nj=new wt(Ce);function kj(){return Nj}function wD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function CD(n){return{integerValue:""+n}}function Fj(n,e){return wj(e)?CD(e):wD(n,e)}var Ts=class{constructor(){this._=void 0}};function Vj(n,e,t){return n instanceof xs?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&hy(o)&&(o=fy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Kr?ED(n,e):n instanceof Qr?ID(n,e):function(r,o){let s=bD(r,o),a=jx(s)+jx(r.Ie);return z0(s)&&z0(r.Ie)?CD(a):wD(r.serializer,a)}(n,e)}function Lj(n,e,t){return n instanceof Kr?ED(n,e):n instanceof Qr?ID(n,e):t}function bD(n,e){return n instanceof Ds?function(i){return z0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var xs=class extends Ts{},Kr=class extends Ts{constructor(e){super(),this.elements=e}};function ED(n,e){let t=TD(e);for(let i of n.elements)t.some(r=>Yn(r,i))||t.push(i);return{arrayValue:{values:t}}}var Qr=class extends Ts{constructor(e){super(),this.elements=e}};function ID(n,e){let t=TD(e);for(let i of n.elements)t=t.filter(r=>!Yn(r,i));return{arrayValue:{values:t}}}var Ds=class extends Ts{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function jx(n){return Ue(n.integerValue||n.doubleValue)}function TD(n){return py(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function jj(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Kr&&r instanceof Kr||i instanceof Qr&&r instanceof Qr?ws(i.elements,r.elements,Yn):i instanceof Ds&&r instanceof Ds?Yn(i.Ie,r.Ie):i instanceof xs&&r instanceof xs}(n.transform,e.transform)}var iv=class{constructor(e,t){this.version=e,this.transformResults=t}},Yi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function mh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ss=class{};function xD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Eh(n.key,Yi.none()):new Yr(n.key,n.data,Yi.none());{let t=n.data,i=Yt.empty(),r=new wt(Jt.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Jn(n.key,i,new mn(r.toArray()),Yi.none())}}function Uj(n,e,t){n instanceof Yr?function(r,o,s){let a=r.value.clone(),c=Bx(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Jn?function(r,o,s){if(!mh(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Bx(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(DD(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ec(n,e,t,i){return n instanceof Yr?function(o,s,a,c){if(!mh(o.precondition,s))return a;let l=o.value.clone(),u=$x(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof Jn?function(o,s,a,c){if(!mh(o.precondition,s))return a;let l=$x(o.fieldTransforms,c,s),u=s.data;return u.setAll(DD(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(o,s,a){return mh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Bj(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=bD(i.transform,r||null);o!=null&&(t===null&&(t=Yt.empty()),t.set(i.field,o))}return t||null}function Ux(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ws(i,r,(o,s)=>jj(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Yr=class extends Ss{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Jn=class extends Ss{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function DD(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function Bx(n,e,t){let i=new Map;Ne(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Lj(s,a,t[r]))}return i}function $x(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,Vj(o,s,e))}return i}var Eh=class extends Ss{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},rv=class extends Ss{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ov=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&Uj(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ec(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Ec(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=yD();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let c=xD(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(te.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,(t,i)=>Ux(t,i))&&ws(this.baseMutations,e.baseMutations,(t,i)=>Ux(t,i))}},sv=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ne(e.mutations.length===i.length);let r=function(){return Oj}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var av=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var cv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Qe,ge;function $j(n){switch(n){default:return Q();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function SD(n){if(n===void 0)return vi("GRPC error has no .code"),S.UNKNOWN;switch(n){case Qe.OK:return S.OK;case Qe.CANCELLED:return S.CANCELLED;case Qe.UNKNOWN:return S.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return S.INTERNAL;case Qe.UNAVAILABLE:return S.UNAVAILABLE;case Qe.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Qe.NOT_FOUND:return S.NOT_FOUND;case Qe.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Qe.ABORTED:return S.ABORTED;case Qe.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Qe.DATA_LOSS:return S.DATA_LOSS;default:return Q()}}(ge=Qe||(Qe={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var qx=null;function qj(){return new TextEncoder}var zj=new Ur([4294967295,4294967295],0);function zx(n){let e=qj().encode(n),t=new Sx;return t.update(e),new Uint8Array(t.digest())}function Gx(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ur([t,i],0),new Ur([r,o],0)]}var lv=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new $r(`Invalid padding: ${t}`);if(i<0)throw new $r(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $r(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new $r(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ur.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(Ur.fromNumber(i)));return r.compare(zj)===1&&(r=new Ur([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let t=zx(e),[i,r]=Gx(t);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let t=zx(e),[i,r]=Gx(t);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Re(s)}}Re(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},$r=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ih=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(te.min(),r,new Be(Ce),yi(),he())}},Dc=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,he(),he(),he())}};var _s=class{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}},Th=class{constructor(e,t){this.targetId=e,this.fe=t}},xh=class{constructor(e,t,i=St.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Dh=class{constructor(){this.ge=0,this.pe=Wx(),this.ye=St.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=he(),t=he(),i=he();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Q()}}),new Dc(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=Wx()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ne(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},uv=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=yi(),this.Qe=Hx(),this.Ke=new Be(Ce)}$e(e){for(let t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(let t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{let i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){let t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){let o=r.target;if(ev(o))if(i===0){let s=new z(o.path);this.We(t,s,Dn.newNoDocument(s,te.min()))}else Ne(i===1);else{let s=this.Ze(t);if(s!==i){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}qx?.tt(function(u,p,w,C,x){var D,A,F,fe,G,be;let Ze={localCacheCount:u,existenceFilterCount:p.count,databaseId:w.database,projectId:w.projectId},_e=p.unchangedNames;return _e&&(Ze.bloomFilter={applied:x===0,hashCount:(D=_e?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(fe=(F=(A=_e?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&fe!==void 0?fe:0,padding:(be=(G=_e?.bits)===null||G===void 0?void 0:G.padding)!==null&&be!==void 0?be:0,mightContain:dt=>{var An;return(An=C?.mightContain(dt))!==null&&An!==void 0&&An}}),Ze}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let t=e.fe.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=Xi(i).toUint8Array()}catch(c){if(c instanceof wh)return ys("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new lv(s,r,o)}catch(c){return ys(c instanceof $r?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){let t=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&ev(a.target)){let c=new z(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,Dn.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=he();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new Ih(e,t,this.Ke,this.qe,i);return this.qe=yi(),this.Qe=Hx(),this.Ke=new Be(Ce),r}Ue(e,t){if(!this.je(e))return;let i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Dh,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new wt(Ce),this.Qe=this.Qe.insert(e,t)),t}je(e){let t=this.Ye(e)!==null;return t||j("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Dh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Hx(){return new Be(z.comparator)}function Wx(){return new Be(z.comparator)}var Gj={asc:"ASCENDING",desc:"DESCENDING"},Hj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wj={and:"AND",or:"OR"},dv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function hv(n,e){return n.useProto3Json||Yh(e)?e:{value:e}}function Sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Kj(n,e){return Sh(n,e.toTimestamp())}function Qn(n){return Ne(!!n),te.fromTimestamp(function(t){let i=Zi(t);return new ut(i.seconds,i.nanos)}(n))}function vy(n,e){return function(i){return new Le(["projects",i.projectId,"databases",i.database])}(n).child("documents").child(e).canonicalString()}function MD(n){let e=Le.fromString(n);return Ne(ND(e)),e}function fv(n,e){return vy(n.databaseId,e.path)}function A0(n,e){let t=MD(e);if(t.get(1)!==n.databaseId.projectId)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(PD(t))}function pv(n,e){return vy(n.databaseId,e)}function Qj(n){let e=MD(n);return e.length===4?Le.emptyPath():PD(e)}function mv(n){return new Le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PD(n){return Ne(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Kx(n,e,t){return{name:fv(n,e),fields:t.value.mapValue.fields}}function Yj(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Ne(u===void 0||typeof u=="string"),St.fromBase64String(u||"")):(Ne(u===void 0||u instanceof Uint8Array),St.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?S.UNKNOWN:SD(l.code);return new V(u,l.message||"")}(s);t=new xh(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=A0(n,i.document.name),o=Qn(i.document.updateTime),s=i.document.createTime?Qn(i.document.createTime):te.min(),a=new Yt({mapValue:{fields:i.document.fields}}),c=Dn.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];t=new _s(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=A0(n,i.document),o=i.readTime?Qn(i.readTime):te.min(),s=Dn.newNoDocument(r,o),a=i.removedTargetIds||[];t=new _s([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=A0(n,i.document),o=i.removedTargetIds||[];t=new _s([],o,r,null)}else{if(!("filter"in e))return Q();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new cv(r,o),a=i.targetId;t=new Th(a,s)}}return t}function Jj(n,e){let t;if(e instanceof Yr)t={update:Kx(n,e.key,e.value)};else if(e instanceof Eh)t={delete:fv(n,e.key)};else if(e instanceof Jn)t={update:Kx(n,e.key,e.data),updateMask:s5(e.fieldMask)};else{if(!(e instanceof rv))return Q();t={verify:fv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof xs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ds)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Q()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Kj(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(n,e.precondition)),t}function Zj(n,e){return n&&n.length>0?(Ne(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?Qn(r.updateTime):Qn(o);return s.isEqual(te.min())&&(s=Qn(o)),new iv(s,r.transformResults||[])}(t,e))):[]}function Xj(n,e){return{documents:[pv(n,e.path)]}}function e5(n,e){let t={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(t.parent=pv(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=pv(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);let r=function(c){if(c.length!==0)return RD(Sn.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);let o=function(c){if(c.length!==0)return c.map(l=>function(p){return{field:ps(p.field),direction:i5(p.dir)}}(l))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let s=hv(n,e.limit);return s!==null&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t}function t5(n){let e=Qj(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Ne(i===1);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(p){let w=OD(p);return w instanceof Sn&&uD(w)?w.getFilters():[w]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(w=>function(x){return new Is(ms(x.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(t.orderBy));let a=null;t.limit&&(a=function(p){let w;return w=typeof p=="object"?p.value:p,Yh(w)?null:w}(t.limit));let c=null;t.startAt&&(c=function(p){let w=!!p.before,C=p.values||[];return new Es(C,w)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let w=!p.before,C=p.values||[];return new Es(C,w)}(t.endAt)),Dj(e,r,s,o,a,"F",c,l)}function n5(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=ms(t.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=ms(t.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ms(t.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ms(t.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(n):n.fieldFilter!==void 0?function(t){return Je.create(ms(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sn.create(t.compositeFilter.filters.map(i=>OD(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q()}}(t.compositeFilter.op))}(n):Q()}function i5(n){return Gj[n]}function r5(n){return Hj[n]}function o5(n){return Wj[n]}function ps(n){return{fieldPath:n.canonicalString()}}function ms(n){return Jt.fromServerFormat(n.fieldPath)}function RD(n){return n instanceof Je?function(t){if(t.op==="=="){if(Nx(t.value))return{unaryFilter:{field:ps(t.field),op:"IS_NAN"}};if(Rx(t.value))return{unaryFilter:{field:ps(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Nx(t.value))return{unaryFilter:{field:ps(t.field),op:"IS_NOT_NAN"}};if(Rx(t.value))return{unaryFilter:{field:ps(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(t.field),op:r5(t.op),value:t.value}}}(n):n instanceof Sn?function(t){let i=t.getFilters().map(r=>RD(r));return i.length===1?i[0]:{compositeFilter:{op:o5(t.op),filters:i}}}(n):Q()}function s5(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ND(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Sc=class n{constructor(e,t,i,r,o=te.min(),s=te.min(),a=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var gv=class{constructor(e){this.ut=e}};function a5(n){let e=t5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nv(e,e.limit,"L"):e}var Ah=class{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Ue(e.integerValue));else if("doubleValue"in e){let i=Ue(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Ic(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(t,20),typeof i=="string"?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Xi(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?aD(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Q()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){let i=e.fields||{};this.Tt(t,55);for(let r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){let i=e.values||[];this.Tt(t,50);for(let r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),z.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}};Ah.St=new Ah;var _v=class{constructor(){this.on=new vv}addToCollectionParentIndex(e,t){return this.on.add(t),R.resolve()}getCollectionParents(e,t){return R.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return R.resolve()}deleteFieldIndex(e,t){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,t){return R.resolve()}getDocumentsMatchingTarget(e,t){return R.resolve(null)}getIndexType(e,t){return R.resolve(0)}getFieldIndexes(e,t){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,t){return R.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,t){return R.resolve(Gr.min())}updateCollectionGroup(e,t,i){return R.resolve()}updateIndexEntries(e,t){return R.resolve()}},vv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new wt(Le.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new wt(Le.comparator)).toArray()}};var mJ=new Uint8Array(0);var Hn=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(41943040,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);var Ac=class n{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new n(0)}static Nn(){return new n(-1)}};var yv=class{constructor(){this.changes=new er(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?R.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var wv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Cv=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Ec(i.mutation,r,mn.empty(),ut.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,he()).next(()=>i))}getLocalViewOfDocuments(e,t,i=he()){let r=Br();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=yc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=Br();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,he()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=yi(),s=bc(),a=function(){return bc()}();return t.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Jn)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),Ec(u.mutation,l,u.mutation.getFieldMask(),ut.now())):s.set(l.key,mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var p;return a.set(l,new wv(u,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let i=bc(),r=new Be((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=i.get(c)||mn.empty();u=a.applyToLocalView(l,u),i.set(c,u);let p=(r.get(a.batchId)||he()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,p=yD();u.forEach(w=>{if(!o.has(w)){let C=xD(t.get(w),i.get(w));C!==null&&p.set(w,C),o=o.add(w)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return R.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):R.resolve(Br()),a=-1,c=o;return s.next(l=>R.forEach(l,(u,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(u)?R.resolve():this.remoteDocumentCache.getEntry(e,u).next(w=>{c=c.insert(u,w)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,he())).next(u=>({batchId:a,changes:vD(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next(i=>{let r=yc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=yc();return this.indexManager.getCollectionParents(e,o).next(a=>R.forEach(a,c=>{let l=function(p,w){return new Wr(w,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((p,w)=>{s=s.insert(p,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,Dn.newInvalidDocument(u)))});let a=yc();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&Ec(u.mutation,l,mn.empty(),ut.now()),Zh(t,l)&&(a=a.insert(c,l))}),a})}};var bv=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return R.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Qn(r.createTime)}}(t)),R.resolve()}getNamedQuery(e,t){return R.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(r){return{name:r.name,query:a5(r.bundledQuery),readTime:Qn(r.readTime)}}(t)),R.resolve()}};var Ev=class{constructor(){this.overlays=new Be(z.comparator),this.lr=new Map}getOverlay(e,t){return R.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Br();return R.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),R.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.lr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),R.resolve()}getOverlaysForCollection(e,t,i){let r=Br(),o=t.length+1,s=new z(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return R.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Be((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=Br(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Br(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return R.resolve(a)}lt(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new av(t,i));let o=this.lr.get(t);o===void 0&&(o=he(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}};var Mc=class{constructor(){this.hr=new wt(Ye.Pr),this.Ir=new wt(Ye.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){let i=new Ye(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Ye(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){let t=new z(new Le([])),i=new Ye(t,e),r=new Ye(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let t=new z(new Le([])),i=new Ye(t,e),r=new Ye(t,e+1),o=he();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ye(e,0),i=this.hr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Ye=class{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return z.comparator(e.key,t.key)||Ce(e.gr,t.gr)}static Tr(e,t){return Ce(e.gr,t.gr)||z.comparator(e.key,t.key)}};var Iv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new wt(Ye.Pr)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ov(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.yr=this.yr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,t){return R.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Sr(i),o=r<0?0:r;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Ye(t,0),r=new Ye(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{let a=this.wr(s.gr);o.push(a)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wt(Ce);return t.forEach(r=>{let o=new Ye(r,0),s=new Ye(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),R.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;z.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new z(o),0),a=new wt(Ce);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gr)),!0)},s),R.resolve(this.br(a))}br(e){let t=[];return e.forEach(i=>{let r=this.wr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ne(this.Dr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return R.forEach(t.mutations,r=>{let o=new Ye(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){let i=new Ye(t,0),r=this.yr.firstAfterOrEqual(i);return R.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Tv=class{constructor(e){this.Cr=e,this.docs=function(){return new Be(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return R.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let i=yi();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Dn.newInvalidDocument(r))}),R.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=yi(),s=t.path,a=new z(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||vj(_j(u),i)<=0||(r.has(u.key)||Zh(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Q()}vr(e,t){return R.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xv(this)}getSize(e){return R.resolve(this.size)}},xv=class extends yv{constructor(e){super(),this._r=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),R.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}};var Dv=class{constructor(e){this.persistence=e,this.Fr=new er(t=>my(t),gy),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Mc,this.targetCount=0,this.Nr=Ac.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),R.resolve()}kn(e){this.Fr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Nr=new Ac(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,R.resolve()}updateTargetData(e,t){return this.kn(t),R.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),R.waitFor(o).next(()=>r)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,t){let i=this.Fr.get(t)||null;return R.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),R.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),R.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Or.mr(t);return R.resolve(i)}containsKey(e,t){return R.resolve(this.Or.containsKey(t))}};var Sv=class{constructor(e,t){this.Br={},this.overlays={},this.Lr=new oD(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Dv(this),this.indexManager=new _v,this.remoteDocumentCache=function(r){return new Tv(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new gv(t),this.Kr=new bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ev,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new Iv(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){j("MemoryPersistence","Starting transaction:",e);let r=new Av(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return R.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}},Av=class extends B0{constructor(e){super(),this.currentSequenceNumber=e}},Mv=class n{constructor(e){this.persistence=e,this.Gr=new Mc,this.zr=null}static jr(e){return new n(e)}get Hr(){if(this.zr)return this.zr;throw Q()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),R.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),R.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),R.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,i=>{let r=z.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,te.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return R.or([()=>R.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}};var Pv=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=he(),r=he();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var Ov=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Rv=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Ov;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(vc()<=de.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",fs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(vc()<=de.DEBUG&&j("QueryEngine","Query:",fs(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(vc()<=de.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",fs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(t))):R.resolve())}zi(e,t){if(Lx(t))return R.resolve(null);let i=Kn(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=nv(t,null,"F"),i=Kn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=he(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Yi(t,a);return this.Zi(t,l,s,c.readTime)?this.zi(e,nv(t,null,"F")):this.Xi(e,l,t,c)}))})))}ji(e,t,i,r){return Lx(t)||r.isEqual(te.min())?R.resolve(null):this.Gi.getDocuments(e,i).next(o=>{let s=this.Yi(t,o);return this.Zi(t,s,i,r)?R.resolve(null):(vc()<=de.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fs(t)),this.Xi(e,s,t,gj(r,-1)).next(a=>a))})}Yi(e,t){let i=new wt(gD(e));return t.forEach((r,o)=>{Zh(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return vc()<=de.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",fs(t)),this.Gi.getDocumentsMatchingQuery(e,t,Gr.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Nv=class{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Be(Ce),this.ns=new er(o=>my(o),gy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cv(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}};function c5(n,e,t,i){return new Nv(n,e,t,i)}function kD(n,e){return I(this,null,function*(){let t=ne(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=he();for(let l of r){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function l5(n,e){let t=ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let p=l.batch,w=p.keys(),C=R.resolve();return w.forEach(x=>{C=C.next(()=>u.getEntry(c,x)).next(D=>{let A=l.docVersions.get(x);Ne(A!==null),D.version.compareTo(A)<0&&(p.applyToRemoteDocument(D,l),D.isValidDocument()&&(D.setReadTime(l.commitVersion),u.addEntry(D)))})}),C.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=he();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function FD(n){let e=ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function u5(n,e){let t=ne(n),i=e.snapshotVersion,r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;let a=[];e.targetChanges.forEach((u,p)=>{let w=r.get(p);if(!w)return;a.push(t.qr.removeMatchingKeys(o,u.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,u.addedDocuments,p)));let C=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?C=C.withResumeToken(St.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):u.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(u.resumeToken,i)),r=r.insert(p,C),function(D,A,F){return D.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(w,C,u)&&a.push(t.qr.updateTargetData(o,C))});let c=yi(),l=he();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(d5(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!i.isEqual(te.min())){let u=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return R.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.ts=r,o))}function d5(n,e,t){let i=he(),r=he();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=yi();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:r}})}function h5(n,e){let t=ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function f5(n,e){let t=ne(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,R.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Sc(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function kv(n,e,t){return I(this,null,function*(){let i=ne(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Fc(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)})}function Qx(n,e,t){let i=ne(n),r=te.min(),o=he();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let p=ne(c),w=p.ns.get(u);return w!==void 0?R.resolve(p.ts.get(w)):p.qr.getTargetData(l,u)}(i,s,Kn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:te.min(),t?o:he())).next(a=>(p5(i,Aj(e),a),{documents:a,ls:o})))}function p5(n,e,t){let i=n.rs.get(e)||te.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}var Mh=class{constructor(){this.activeTargetIds=kj()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Fv=class{constructor(){this.eo=new Mh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Mh,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Vv=class{ro(e){}shutdown(){}};var Ph=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var fh=null;function M0(){return fh===null?fh=function(){return 268435456+Math.round(2147483648*Math.random())}():fh++,"0x"+fh.toString(16)}var m5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Lv=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var yt="WebChannelConnection",jv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){let a=M0(),c=this.So(t,i);j("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(t,c,l,r).then(u=>(j("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw ys("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){let r=m5[t];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){let o=M0();return new Promise((s,a)=>{let c=new Dx;c.setWithCredentials(!0),c.listenOnce(Tx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dh.NO_ERROR:let u=c.getResponseJson();j(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case dh.TIMEOUT:j(yt,`RPC '${e}' ${o} timed out`),a(new V(S.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:let p=c.getStatus();if(j(yt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let w=c.getResponseJson();Array.isArray(w)&&(w=w[0]);let C=w?.error;if(C&&C.status&&C.message){let x=function(A){let F=A.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(F)>=0?F:S.UNKNOWN}(C.status);a(new V(x,C.message))}else a(new V(S.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(S.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{j(yt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);j(yt,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}vo(e,t,i){let r=M0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ex(),a=Ix(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let u=o.join("");j(yt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let p=s.createWebChannel(u,c),w=!1,C=!1,x=new Lv({co:A=>{C?j(yt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(w||(j(yt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),w=!0),j(yt,`RPC '${e}' stream ${r} sending:`,A),p.send(A))},lo:()=>p.close()}),D=(A,F,fe)=>{A.listen(F,G=>{try{fe(G)}catch(be){setTimeout(()=>{throw be},0)}})};return D(p,_c.EventType.OPEN,()=>{C||j(yt,`RPC '${e}' stream ${r} transport opened.`)}),D(p,_c.EventType.CLOSE,()=>{C||(C=!0,j(yt,`RPC '${e}' stream ${r} transport closed`),x.Ro())}),D(p,_c.EventType.ERROR,A=>{C||(C=!0,ys(yt,`RPC '${e}' stream ${r} transport errored:`,A),x.Ro(new V(S.UNAVAILABLE,"The operation could not be completed")))}),D(p,_c.EventType.MESSAGE,A=>{var F;if(!C){let fe=A.data[0];Ne(!!fe);let G=fe,be=G.error||((F=G[0])===null||F===void 0?void 0:F.error);if(be){j(yt,`RPC '${e}' stream ${r} received error:`,be);let Ze=be.status,_e=function(rr){let to=Qe[rr];if(to!==void 0)return SD(to)}(Ze),dt=be.message;_e===void 0&&(_e=S.INTERNAL,dt="Unknown error status: "+Ze+" with message "+be.message),C=!0,x.Ro(new V(_e,dt)),p.close()}else j(yt,`RPC '${e}' stream ${r} received:`,fe),x.Vo(fe)}}),D(a,xx.STAT_EVENT,A=>{A.stat===S0.PROXY?j(yt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===S0.NOPROXY&&j(yt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.Ao()},0),x}};function P0(){return typeof document<"u"?document:null}function Xh(n){return new dv(n,!0)}var Oh=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&j("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Rh=class{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Oh(e,t)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return I(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return I(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){return I(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():t&&t.code===S.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(t)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{let r=new V(S.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){let i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(()=>I(this,null,function*(){this.state=0,this.start()}))}o_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Uv=class extends Rh{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();let t=Yj(this.serializer,e),i=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Qn(s.readTime):te.min()}(e);return this.listener.a_(t,i)}u_(e){let t={};t.database=mv(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=ev(c)?{documents:Xj(o,c)}:{query:e5(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=AD(o,s.resumeToken);let l=hv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=Sh(o,s.snapshotVersion.toTimestamp());let l=hv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=n5(this.serializer,e);i&&(t.labels=i),this.e_(t)}c_(e){let t={};t.database=mv(this.serializer),t.removeTarget=e,this.e_(t)}},Bv=class extends Rh{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let t=Zj(e.writeResults,e.commitTime),i=Qn(e.commitTime);return this.listener.I_(i,t)}return Ne(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=mv(this.serializer),this.e_(e)}P_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>Jj(this.serializer,i))};this.e_(t)}};var $v=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new V(S.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(S.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var qv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(vi(t),this.f_=!1):j("OnlineStateTracker",t)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var zv=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{i.enqueueAndForget(()=>I(this,null,function*(){Xr(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(c){return I(this,null,function*(){let l=ne(c);l.C_.add(4),yield Vc(l),l.M_.set("Unknown"),l.C_.delete(4),yield ef(l)})}(this))}))}),this.M_=new qv(i,r)}};function ef(n){return I(this,null,function*(){if(Xr(n))for(let e of n.v_)yield e(!0)})}function Vc(n){return I(this,null,function*(){for(let e of n.v_)yield e(!1)})}function VD(n,e){let t=ne(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),Cy(t)?wy(t):Ns(t).Ho()&&yy(t,e))}function LD(n,e){let t=ne(n),i=Ns(t);t.D_.delete(e),i.Ho()&&jD(t,e),t.D_.size===0&&(i.Ho()?i.Zo():Xr(t)&&t.M_.set("Unknown"))}function yy(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ns(n).u_(e)}function jD(n,e){n.x_.Oe(e),Ns(n).c_(e)}function wy(n){n.x_=new uv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ns(n).start(),n.M_.g_()}function Cy(n){return Xr(n)&&!Ns(n).jo()&&n.D_.size>0}function Xr(n){return ne(n).C_.size===0}function UD(n){n.x_=void 0}function g5(n){return I(this,null,function*(){n.D_.forEach((e,t)=>{yy(n,e)})})}function _5(n,e){return I(this,null,function*(){UD(n),Cy(n)?(n.M_.w_(e),wy(n)):n.M_.set("Unknown")})}function v5(n,e,t){return I(this,null,function*(){if(n.M_.set("Online"),e instanceof xh&&e.state===2&&e.cause)try{yield function(r,o){return I(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.D_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.D_.delete(a),r.x_.removeTarget(a))})}(n,e)}catch(i){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Nh(n,i)}else if(e instanceof _s?n.x_.$e(e):e instanceof Th?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(te.min()))try{let i=yield FD(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(St.EMPTY_BYTE_STRING,u.snapshotVersion)),jD(o,c);let p=new Sc(u.target,c,l,u.sequenceNumber);yy(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){j("RemoteStore","Failed to raise snapshot:",i),yield Nh(n,i)}})}function Nh(n,e,t){return I(this,null,function*(){if(!Fc(e))throw e;n.C_.add(1),yield Vc(n),n.M_.set("Offline"),t||(t=()=>FD(n.localStore)),n.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield ef(n)}))})}function BD(n,e){return e().catch(t=>Nh(n,t,e))}function tf(n){return I(this,null,function*(){let e=ne(n),t=tr(e),i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;y5(e);)try{let r=yield h5(e.localStore,i);if(r===null){e.b_.length===0&&t.Zo();break}i=r.batchId,w5(e,r)}catch(r){yield Nh(e,r)}$D(e)&&qD(e)})}function y5(n){return Xr(n)&&n.b_.length<10}function w5(n,e){n.b_.push(e);let t=tr(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function $D(n){return Xr(n)&&!tr(n).jo()&&n.b_.length>0}function qD(n){tr(n).start()}function C5(n){return I(this,null,function*(){tr(n).E_()})}function b5(n){return I(this,null,function*(){let e=tr(n);for(let t of n.b_)e.P_(t.mutations)})}function E5(n,e,t){return I(this,null,function*(){let i=n.b_.shift(),r=sv.from(i,e,t);yield BD(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield tf(n)})}function I5(n,e){return I(this,null,function*(){e&&tr(n).h_&&(yield function(i,r){return I(this,null,function*(){if(function(s){return $j(s)&&s!==S.ABORTED}(r.code)){let o=i.b_.shift();tr(i).Yo(),yield BD(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield tf(i)}})}(n,e)),$D(n)&&qD(n)})}function Yx(n,e){return I(this,null,function*(){let t=ne(n);t.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let i=Xr(t);t.C_.add(3),yield Vc(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield ef(t)})}function T5(n,e){return I(this,null,function*(){let t=ne(n);e?(t.C_.delete(2),yield ef(t)):e||(t.C_.add(2),yield Vc(t),t.M_.set("Unknown"))})}function Ns(n){return n.O_||(n.O_=function(t,i,r){let o=ne(t);return o.A_(),new Uv(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:g5.bind(null,n),Io:_5.bind(null,n),a_:v5.bind(null,n)}),n.v_.push(e=>I(this,null,function*(){e?(n.O_.Yo(),Cy(n)?wy(n):n.M_.set("Unknown")):(yield n.O_.stop(),UD(n))}))),n.O_}function tr(n){return n.N_||(n.N_=function(t,i,r){let o=ne(t);return o.A_(),new Bv(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:C5.bind(null,n),Io:I5.bind(null,n),T_:b5.bind(null,n),I_:E5.bind(null,n)}),n.v_.push(e=>I(this,null,function*(){e?(n.N_.Yo(),yield tf(n)):(yield n.N_.stop(),n.b_.length>0&&(j("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))}))),n.N_}var Gv=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function by(n,e){if(vi("AsyncQueue",`${e}: ${n}`),Fc(n))return new V(S.UNAVAILABLE,`${e}: ${n}`);throw n}var kh=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||z.comparator(t.key,i.key):(t,i)=>z.comparator(t.key,i.key),this.keyedMap=yc(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Fh=class{constructor(){this.B_=new Be(z.comparator)}track(e){let t=e.doc.key,i=this.B_.get(t);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(t,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(t):e.type===1&&i.type===2?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Q():this.B_=this.B_.insert(t,e)}L_(){let e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}},As=class n{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,kh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var Hv=class{constructor(){this.k_=void 0,this.listeners=[]}},Wv=class{constructor(){this.queries=new er(e=>mD(e),Jh),this.onlineState="Unknown",this.q_=new Set}};function zD(n,e){return I(this,null,function*(){let t=ne(n),i=e.query,r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Hv),r)try{o.k_=yield t.onListen(i)}catch(s){let a=by(s,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&Ey(t)})}function GD(n,e){return I(this,null,function*(){let t=ne(n),i=e.query,r=!1,o=t.queries.get(i);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=o.listeners.length===0)}if(r)return t.queries.delete(i),t.onUnlisten(i)})}function x5(n,e){let t=ne(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&Ey(t)}function D5(n,e,t){let i=ne(n),r=i.queries.get(e);if(r)for(let o of r.listeners)o.onError(t);i.queries.delete(e)}function Ey(n){n.q_.forEach(e=>{e.next()})}var Vh=class{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new As(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;let i=t!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}H_(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Lh=class{constructor(e){this.key=e}},jh=class{constructor(e){this.key=e}},Kv=class{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=he(),this.mutatedKeys=he(),this._a=gD(e),this.aa=new kh(this._a)}get ua(){return this.ia}ca(e,t){let i=t?t.la:new Fh,r=t?t.aa:this.aa,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,p)=>{let w=r.get(u),C=Zh(this.query,p)?p:null,x=!!w&&this.mutatedKeys.has(w.key),D=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations),A=!1;w&&C?w.data.isEqual(C.data)?x!==D&&(i.track({type:3,doc:C}),A=!0):this.ha(w,C)||(i.track({type:2,doc:C}),A=!0,(c&&this._a(C,c)>0||l&&this._a(C,l)<0)&&(a=!0)):!w&&C?(i.track({type:0,doc:C}),A=!0):w&&!C&&(i.track({type:1,doc:w}),A=!0,(c||l)&&(a=!0)),A&&(C?(s=s.add(C),o=D?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((u,p)=>function(C,x){let D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return D(C)-D(x)}(u.type,p.type)||this._a(u.doc,p.doc)),this.Pa(i),r=r!=null&&r;let a=t&&!r?this.Ia():[],c=this.oa.size===0&&this.current&&!r?1:0,l=c!==this.sa;return this.sa=c,s.length!==0||l?{snapshot:new As(this.query,e.aa,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Fh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=he(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});let t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new jh(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new Lh(i))}),t}da(e){this.ia=e.ls,this.oa=he();let t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return As.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Qv=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Yv=class{constructor(e){this.key=e,this.Ra=!1}},Jv=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new er(a=>mD(a),Jh),this.fa=new Map,this.ga=new Set,this.pa=new Be(z.comparator),this.ya=new Map,this.wa=new Mc,this.Sa={},this.ba=new Map,this.Da=Ac.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function S5(n,e){return I(this,null,function*(){let t=L5(n),i,r,o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{let s=yield f5(t.localStore,Kn(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield A5(t,e,i,a==="current",s.resumeToken),t.isPrimaryClient&&VD(t.remoteStore,s)}return r})}function A5(n,e,t,i,r){return I(this,null,function*(){n.va=(p,w,C)=>function(D,A,F,fe){return I(this,null,function*(){let G=A.view.ca(F);G.Zi&&(G=yield Qx(D.localStore,A.query,!1).then(({documents:dt})=>A.view.ca(dt,G)));let be=fe&&fe.targetChanges.get(A.targetId),Ze=fe&&fe.targetMismatches.get(A.targetId)!=null,_e=A.view.applyChanges(G,D.isPrimaryClient,be,Ze);return Zx(D,A.targetId,_e.Ta),_e.snapshot})}(n,p,w,C);let o=yield Qx(n.localStore,e,!0),s=new Kv(e,o.ls),a=s.ca(o.documents),c=Dc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),l=s.applyChanges(a,n.isPrimaryClient,c);Zx(n,t,l.Ta);let u=new Qv(e,t,s);return n.ma.set(e,u),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),l.snapshot})}function M5(n,e){return I(this,null,function*(){let t=ne(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Jh(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield kv(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),LD(t.remoteStore,i.targetId),Zv(t,i.targetId)}).catch(kc))):(Zv(t,i.targetId),yield kv(t.localStore,i.targetId,!0))})}function P5(n,e,t){return I(this,null,function*(){let i=j5(n);try{let r=yield function(s,a){let c=ne(s),l=ut.now(),u=a.reduce((C,x)=>C.add(x.key),he()),p,w;return c.persistence.runTransaction("Locally write mutations","readwrite",C=>{let x=yi(),D=he();return c.ss.getEntries(C,u).next(A=>{x=A,x.forEach((F,fe)=>{fe.isValidDocument()||(D=D.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(C,x)).next(A=>{p=A;let F=[];for(let fe of a){let G=Bj(fe,p.get(fe.key).overlayedDocument);G!=null&&F.push(new Jn(fe.key,G,cD(G.value.mapValue),Yi.exists(!0)))}return c.mutationQueue.addMutationBatch(C,l,F,a)}).next(A=>{w=A;let F=A.applyToLocalDocumentSet(p,D);return c.documentOverlayCache.saveOverlays(C,A.batchId,F)})}).then(()=>({batchId:w.batchId,changes:vD(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Be(Ce)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(i,r.batchId,t),yield Lc(i,r.changes),yield tf(i.remoteStore)}catch(r){let o=by(r,"Failed to persist write");t.reject(o)}})}function HD(n,e){return I(this,null,function*(){let t=ne(n);try{let i=yield u5(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.ya.get(o);s&&(Ne(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Ne(s.Ra):r.removedDocuments.size>0&&(Ne(s.Ra),s.Ra=!1))}),yield Lc(t,i,e)}catch(i){yield kc(i)}})}function Jx(n,e,t){let i=ne(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=ne(s);c.onlineState=a;let l=!1;c.queries.forEach((u,p)=>{for(let w of p.listeners)w.Q_(a)&&(l=!0)}),l&&Ey(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function O5(n,e,t){return I(this,null,function*(){let i=ne(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.ya.get(e),o=r&&r.key;if(o){let s=new Be(z.comparator);s=s.insert(o,Dn.newNoDocument(o,te.min()));let a=he().add(o),c=new Ih(te.min(),new Map,new Be(Ce),s,a);yield HD(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),Iy(i)}else yield kv(i.localStore,e,!1).then(()=>Zv(i,e,t)).catch(kc)})}function R5(n,e){return I(this,null,function*(){let t=ne(n),i=e.batch.batchId;try{let r=yield l5(t.localStore,e);KD(t,i,null),WD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Lc(t,r)}catch(r){yield kc(r)}})}function N5(n,e,t){return I(this,null,function*(){let i=ne(n);try{let r=yield function(s,a){let c=ne(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ne(p!==null),u=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);KD(i,e,t),WD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Lc(i,r)}catch(r){yield kc(r)}})}function WD(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function KD(n,e,t){let i=ne(n),r=i.Sa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Zv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||QD(n,i)})}function QD(n,e){n.ga.delete(e.path.canonicalString());let t=n.pa.get(e);t!==null&&(LD(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),Iy(n))}function Zx(n,e,t){for(let i of t)i instanceof Lh?(n.wa.addReference(i.key,e),k5(n,i)):i instanceof jh?(j("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||QD(n,i.key)):Q()}function k5(n,e){let t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(j("SyncEngine","New document in limbo: "+t),n.ga.add(i),Iy(n))}function Iy(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){let e=n.ga.values().next().value;n.ga.delete(e);let t=new z(Le.fromString(e)),i=n.Da.next();n.ya.set(i,new Yv(t)),n.pa=n.pa.insert(t,i),VD(n.remoteStore,new Sc(Kn(_y(t.path)),i,"TargetPurposeLimboResolution",oD._e))}}function Lc(n,e,t){return I(this,null,function*(){let i=ne(n),r=[],o=[],s=[];i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=Pv.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield function(c,l){return I(this,null,function*(){let u=ne(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>R.forEach(l,w=>R.forEach(w.ki,C=>u.persistence.referenceDelegate.addReference(p,w.targetId,C)).next(()=>R.forEach(w.qi,C=>u.persistence.referenceDelegate.removeReference(p,w.targetId,C)))))}catch(p){if(!Fc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let w=p.targetId;if(!p.fromCache){let C=u.ts.get(w),x=C.snapshotVersion,D=C.withLastLimboFreeSnapshotVersion(x);u.ts=u.ts.insert(w,D)}}})}(i.localStore,o))})}function F5(n,e){return I(this,null,function*(){let t=ne(n);if(!t.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let i=yield kD(t.localStore,e);t.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new V(S.CANCELLED,s))})}),o.ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Lc(t,i._s)}})}function V5(n,e){let t=ne(n),i=t.ya.get(e);if(i&&i.Ra)return he().add(i.key);{let r=he(),o=t.fa.get(e);if(!o)return r;for(let s of o){let a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function L5(n){let e=ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O5.bind(null,e),e.Va.a_=x5.bind(null,e.eventManager),e.Va.Fa=D5.bind(null,e.eventManager),e}function j5(n){let e=ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N5.bind(null,e),e}var Uh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return c5(this.persistence,new Rv,e.initialUser,this.serializer)}createPersistence(e){return new Sv(Mv.jr,this.serializer)}createSharedClientState(e){return new Fv}terminate(){return I(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Xv=class{initialize(e,t){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Jx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=F5.bind(null,this.syncEngine),yield T5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Wv}()}createDatastore(e){let t=Xh(e.databaseInfo.databaseId),i=function(o){return new jv(o)}(e.databaseInfo);return function(o,s,a,c){return new $v(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,s,a){return new zv(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,t=>Jx(this.syncEngine,t,0),function(){return Ph.D()?new Ph:new Vv}())}createSyncEngine(e,t){return function(r,o,s,a,c,l,u){let p=new Jv(r,o,s,a,c,l);return u&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(t){return I(this,null,function*(){let i=ne(t);j("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Vc(i),i.F_.shutdown(),i.M_.set("Unknown")})}(this.remoteStore)}};var Bh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var ey=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=ot.UNAUTHENTICATED,this.clientId=_h.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>I(this,null,function*(){j("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return I(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=by(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function O0(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>I(this,null,function*(){i.isEqual(r)||(yield kD(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Xx(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield B5(n);j("FirestoreClient","Initializing OnlineComponentProvider");let i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Yx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Yx(e.remoteStore,o)),n._onlineComponents=e})}function U5(n){return n.name==="FirebaseError"?n.code===S.FAILED_PRECONDITION||n.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function B5(n){return I(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield O0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!U5(t))throw t;ys("Error using user provided cache. Falling back to memory cache: "+t),yield O0(n,new Uh)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield O0(n,new Uh);return n._offlineComponents})}function YD(n){return I(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield Xx(n,n._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield Xx(n,new Xv))),n._onlineComponents})}function $5(n){return YD(n).then(e=>e.syncEngine)}function JD(n){return I(this,null,function*(){let e=yield YD(n),t=e.eventManager;return t.onListen=S5.bind(null,e.syncEngine),t.onUnlisten=M5.bind(null,e.syncEngine),t})}function q5(n,e,t={}){let i=new xn;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,s,a,c,l){let u=new Bh({next:w=>{s.enqueueAndForget(()=>GD(o,p));let C=w.docs.has(a);!C&&w.fromCache?l.reject(new V(S.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&c&&c.source==="server"?l.reject(new V(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(w)},error:w=>l.reject(w)}),p=new Vh(_y(a.path),u,{includeMetadataChanges:!0,J_:!0});return zD(o,p)}(yield JD(n),n.asyncQueue,e,t,i)})),i.promise}function z5(n,e,t={}){let i=new xn;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,s,a,c,l){let u=new Bh({next:w=>{s.enqueueAndForget(()=>GD(o,p)),w.fromCache&&c.source==="server"?l.reject(new V(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(w)},error:w=>l.reject(w)}),p=new Vh(a,u,{includeMetadataChanges:!0,J_:!0});return zD(o,p)}(yield JD(n),n.asyncQueue,e,t,i)})),i.promise}function ZD(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var eD=new Map;function XD(n,e,t){if(!t)throw new V(S.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function G5(n,e,t,i){if(e===!0&&i===!0)throw new V(S.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tD(n){if(!z.isDocumentKey(n))throw new V(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nD(n){if(z.isDocumentKey(n))throw new V(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q()}function nr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=nf(n);throw new V(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var $h=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new V(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZD((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ms=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $h({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $h(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new R0;switch(i.type){case"firstParty":return new V0(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new V(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=eD.get(t);i&&(j("ComponentProvider","Removing Datastore"),eD.delete(t),i.terminate())}(this),Promise.resolve()}};function eS(n,e,t,i={}){var r;let o=(n=nr(n,Ms))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=ot.MOCK_USER;else{a=x1(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new V(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ot(l)}n._authCredentials=new N0(new gh(a,c))}}var Ps=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},jt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ji=class n extends Ps{constructor(e,t,i){super(e,t,_y(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function tS(n,e,...t){if(n=xt(n),XD("collection","path",e),n instanceof Ms){let i=Le.fromString(e,...t);return nD(i),new Ji(n,null,i)}{if(!(n instanceof jt||n instanceof Ji))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Le.fromString(e,...t));return nD(i),new Ji(n.firestore,null,i)}}function Ty(n,e,...t){if(n=xt(n),arguments.length===1&&(e=_h.newId()),XD("doc","path",e),n instanceof Ms){let i=Le.fromString(e,...t);return tD(i),new jt(n,null,new z(i))}{if(!(n instanceof jt||n instanceof Ji))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Le.fromString(e,...t));return tD(i),new jt(n.firestore,n instanceof Ji?n.converter:null,new z(i))}}var ty=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Oh(this,"async_queue_retry"),this.iu=()=>{let t=P0();t&&j("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};let e=P0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let t=P0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let t=new xn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return I(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Fc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw vi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);let r=Gv.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&Q()}verifyOperationInProgress(){}uu(){return I(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Xa)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let t=this.Xa.indexOf(e);this.Xa.splice(t,1)}};var Jr=class extends Ms{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new ty}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||iS(this),this._firestoreClient.terminate()}};function nS(n,e){let t=typeof n=="object"?n:$a(),i=typeof n=="string"?n:e||"(default)",r=C_(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=I1("firestore");o&&eS(r,...o)}return r}function xy(n){return n._firestoreClient||iS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function iS(n){var e,t,i;let r=n._freezeSettings(),o=function(a,c,l,u){return new $0(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ZD(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new ey(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Pc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(St.fromBase64String(e))}catch(t){throw new V(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Os=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Oc=class{constructor(e){this._methodName=e}};var Rc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}};var H5=/^__.*__$/,ny=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Jn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yr(e,this.data,t,this.fieldTransforms)}},qh=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Jn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function rS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var iy=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Gh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(rS(this.Iu)&&H5.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},ry=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Xh(e)}pu(e,t,i,r=!1){return new iy({Iu:e,methodName:t,gu:i,path:Jt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Dy(n){let e=n._freezeSettings(),t=Xh(n._databaseId);return new ry(n._databaseId,!!e.ignoreUndefinedProperties,t)}function W5(n,e,t,i,r,o={}){let s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);Sy("Data must be an object, but it was:",s,i);let a=oS(i,s),c,l;if(o.merge)c=new mn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let p of o.mergeFields){let w=oy(e,p,t);if(!s.contains(w))throw new V(S.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);aS(u,w)||u.push(w)}c=new mn(u),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new ny(new Yt(a),c,l)}var zh=class n extends Oc{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function K5(n,e,t,i){let r=n.pu(1,e,t);Sy("Data must be an object, but it was:",r,i);let o=[],s=Yt.empty();Zr(i,(c,l)=>{let u=Ay(e,c,t);l=xt(l);let p=r.Ru(u);if(l instanceof zh)o.push(u);else{let w=jc(l,p);w!=null&&(o.push(u),s.set(u,w))}});let a=new mn(o);return new qh(s,a,r.fieldTransforms)}function Q5(n,e,t,i,r,o){let s=n.pu(1,e,t),a=[oy(e,i,t)],c=[r];if(o.length%2!=0)throw new V(S.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)a.push(oy(e,o[w])),c.push(o[w+1]);let l=[],u=Yt.empty();for(let w=a.length-1;w>=0;--w)if(!aS(l,a[w])){let C=a[w],x=c[w];x=xt(x);let D=s.Ru(C);if(x instanceof zh)l.push(C);else{let A=jc(x,D);A!=null&&(l.push(C),u.set(C,A))}}let p=new mn(l);return new qh(u,p,s.fieldTransforms)}function Y5(n,e,t,i=!1){return jc(t,n.pu(i?4:3,e))}function jc(n,e){if(sS(n=xt(n)))return Sy("Unsupported field value:",e,n),oS(n,e);if(n instanceof Oc)return function(i,r){if(!rS(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=jc(a,r.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Fj(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=ut.fromDate(i);return{timestampValue:Sh(r.serializer,o)}}if(i instanceof ut){let o=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sh(r.serializer,o)}}if(i instanceof Rc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pc)return{bytesValue:AD(r.serializer,i._byteString)};if(i instanceof jt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vy(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${nf(i)}`)}(n,e)}function oS(n,e){let t={};return sD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(n,(i,r)=>{let o=jc(r,e.Eu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function sS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof Rc||n instanceof Pc||n instanceof jt||n instanceof Oc)}function Sy(n,e,t){if(!sS(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=nf(t);throw i==="an object"?e.mu(n+" a custom object"):e.mu(n+" "+i)}}function oy(n,e,t){if((e=xt(e))instanceof Os)return e._internalPath;if(typeof e=="string")return Ay(n,e);throw Gh("Field path arguments must be of type string or ",n,!1,void 0,t)}var J5=new RegExp("[~\\*/\\[\\]]");function Ay(n,e,t){if(e.search(J5)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Os(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gh(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new V(S.INVALID_ARGUMENT,a+n+c)}function aS(n,e){return n.some(t=>t.isEqual(e))}var Hh=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new sy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(My("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},sy=class extends Hh{data(){return super.data()}};function My(n,e){return typeof e=="string"?Ay(n,e):e instanceof Os?e._internalPath:e._delegate._internalPath}function Z5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nc=class{},ay=class extends Nc{};function cS(n,e,...t){let i=[];e instanceof Nc&&i.push(e),i=i.concat(t),function(o){let s=o.filter(c=>c instanceof cy).length,a=o.filter(c=>c instanceof Wh).length;if(s>1||s>0&&a>0)throw new V(S.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var Wh=class n extends ay{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return uS(e._query,t),new Ps(e.firestore,e.converter,tv(e._query,t))}_parse(e){let t=Dy(e.firestore);return function(o,s,a,c,l,u,p){let w;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new V(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){rD(p,u);let C=[];for(let x of p)C.push(iD(c,o,x));w={arrayValue:{values:C}}}else w=iD(c,o,p)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||rD(p,u),w=Y5(a,s,p,u==="in"||u==="not-in");return Je.create(l,u,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function lS(n,e,t){let i=e,r=My("where",n);return Wh._create(r,i,t)}var cy=class n extends Nc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Sn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)uS(s,c),s=tv(s,c)}(e._query,t),new Ps(e.firestore,e.converter,tv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function iD(n,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pD(e)&&t.indexOf("/")!==-1)throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(Le.fromString(t));if(!z.isDocumentKey(i))throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ox(n,new z(i))}if(t instanceof jt)return Ox(n,t._key);throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(t)}.`)}function rD(n,e){if(!Array.isArray(n)||n.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uS(n,e){let t=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new V(S.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(S.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var ly=class{convertValue(e,t="none"){switch(Hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Zr(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new Rc(Ue(e.latitude),Ue(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=fy(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){let t=Zi(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Le.fromString(e);Ne(ND(i));let r=new Ch(i.get(1),i.get(3)),o=new z(i.popFirst(5));return r.isEqual(t)||vi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function X5(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var qr=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Kh=class extends Hh{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new vs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(My("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},vs=class extends Kh{data(e={}){return super.data(e)}},uy=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new vs(this._firestore,this._userDataWriter,i.key,i,new qr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new vs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new qr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new vs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new qr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:eU(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function eU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function dS(n){n=nr(n,jt);let e=nr(n.firestore,Jr);return q5(xy(e),n._key).then(t=>tU(e,n,t))}var Qh=class extends ly{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,t)}};function hS(n){n=nr(n,Ps);let e=nr(n.firestore,Jr),t=xy(e),i=new Qh(e);return Z5(n._query),z5(t,n._query).then(r=>new uy(e,i,n,r))}function fS(n,e,t,...i){n=nr(n,jt);let r=nr(n.firestore,Jr),o=Dy(r),s;return s=typeof(e=xt(e))=="string"||e instanceof Os?Q5(o,"updateDoc",n._key,e,t,i):K5(o,"updateDoc",n._key,e),mS(r,[s.toMutation(n._key,Yi.exists(!0))])}function pS(n,e){let t=nr(n.firestore,Jr),i=Ty(n),r=X5(n.converter,e);return mS(t,[W5(Dy(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Yi.exists(!1))]).then(()=>i)}function mS(n,e){return function(i,r){let o=new xn;return i.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return P5(yield $5(i),r,o)})),o.promise}(xy(n),e)}function tU(n,e,t){let i=t.docs.get(e._key),r=new Qh(n);return new Kh(n,r,e._key,i,new qr(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Rs=r})(rs),Hi(new fn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Jr(new k0(i.getProvider("auth-internal")),new j0(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),nt(Ax,"4.4.0",e),nt(Ax,"4.4.0","esm2017")})();var eo=class{constructor(e){return e}},gS="firestore",Py=class{constructor(){return za(gS)}};var Oy=new B("angularfire2.firestore-instances");function nU(n,e){let t=I_(gS,n,e);return t&&new eo(t)}function iU(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new eo(i)}}var rU={provide:Py,deps:[[new $t,Oy]]},oU={provide:eo,useFactory:nU,deps:[[new $t,Oy],Rr]},sU=(()=>{class n{constructor(){nt("angularfire",ss.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Nt({type:n});static \u0275inj=Rt({providers:[oU,rU]})}return n})();function _S(n,...e){return{ngModule:sU,providers:[{provide:Oy,useFactory:iU(n),multi:!0,deps:[Ee,Ft,Ga,Ha,[new $t,Fd],[new $t,qa],...e]}]}}var rf=Kt(pS,!0);var ir=Kt(tS,!0);var ks=Kt(Ty,!0);var of=Kt(dS,!0);var Uc=Kt(hS,!0);var vS=Kt(nS,!0);var Ry=Kt(cS,!0);var Ny=Kt(fS,!0);var ky=Kt(lS,!0);var Fs=(()=>{class n{constructor(t){this.firestore=t}saveMatch(t){return I(this,null,function*(){let i=yield rf(ir(this.firestore,"matches"),H(P({},t),{heureDebut:t.heureDebut.toISOString(),updatedAt:new Date}));return console.log("Match saved:",i.id),i.id})}getAllMatches(){return I(this,null,function*(){let t=ir(this.firestore,"matches");return(yield Uc(t)).docs.map(r=>{let o=r.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date,duelsGagnes:o.duelsGagnes||[],dribbles:o.dribbles||[],interceptions:o.interceptions||[],frappes:o.frappes||[],fautes:o.fautes||[],contreAttaques:o.contreAttaques||[],tikiTakas:o.tikiTakas||[],competition:o.competition||void 0}})})}getMatchById(t){return I(this,null,function*(){let i=yield of(ks(this.firestore,"matches",t));if(i.exists()){let r=i.data();return{equipe1:r.equipe1||"",equipe2:r.equipe2||"",score1:r.score1||0,score2:r.score2||0,buteurs:r.buteurs||[],heureDebut:new Date(r.heureDebut),lieu:r.lieu||"",positions:r.positions||{},showElements:r.showElements!==void 0?r.showElements:!0,competition:r.competition||void 0,updatedAt:r.updatedAt?new Date(r.updatedAt):new Date,duelsGagnes:r.duelsGagnes||[],dribbles:r.dribbles||[],interceptions:r.interceptions||[],frappes:r.frappes||[],fautes:r.fautes||[],contreAttaques:r.contreAttaques||[],tikiTakas:r.tikiTakas||[]}}return null})}saveCompetition(t){return I(this,null,function*(){let i=yield rf(ir(this.firestore,"competitions"),H(P({},t),{createdAt:new Date,updatedAt:new Date}));return console.log("Competition saved:",i.id),i.id})}getCompetitionById(t){return I(this,null,function*(){let i=yield of(ks(this.firestore,"competitions",t));return i.exists()?H(P({},i.data()),{id:i.id}):null})}getCompetitionByName(t){return I(this,null,function*(){let i=ir(this.firestore,"competitions"),r=Ry(i,ky("name","==",t)),o=yield Uc(r);if(!o.empty){let s=o.docs[0];return H(P({},s.data()),{id:s.id})}return null})}addMatchToCompetition(t,i){return I(this,null,function*(){let r=ks(this.firestore,"competitions",t),o=yield this.getCompetitionById(t);if(o){let s=[...o.matchIds,i];yield Ny(r,{matchIds:s,updatedAt:new Date})}})}getMatchesByCompetition(t){return I(this,null,function*(){let i=yield this.getCompetitionById(t);if(!i)return[];let r=[];for(let o of i.matchIds){let s=yield this.getMatchById(o);s&&r.push(s)}return r})}shareCompetition(t,i,r){return I(this,null,function*(){let o={name:t,matchIds:[],createdAt:new Date,updatedAt:new Date},s=yield this.saveCompetition(o);return r?.("Comp\xE9tition cr\xE9\xE9e"),s})}saveTeam(t){return I(this,null,function*(){let i=yield rf(ir(this.firestore,"teams"),H(P({},t),{createdAt:new Date,updatedAt:new Date}));return console.log("Team saved:",i.id),i.id})}getTeamById(t){return I(this,null,function*(){let i=yield of(ks(this.firestore,"teams",t));return i.exists()?H(P({},i.data()),{id:i.id}):null})}getTeamByName(t){return I(this,null,function*(){let i=ir(this.firestore,"teams"),r=Ry(i,ky("name","==",t)),o=yield Uc(r);if(!o.empty){let s=o.docs[0];return H(P({},s.data()),{id:s.id})}return null})}getAllTeams(){return I(this,null,function*(){let t=ir(this.firestore,"teams");return(yield Uc(t)).docs.map(r=>H(P({},r.data()),{id:r.id}))})}addMatchToTeam(t,i){return I(this,null,function*(){let r=ks(this.firestore,"teams",t),o=yield this.getTeamById(t);if(o){let s=[...o.matchIds,i];yield Ny(r,{matchIds:s,updatedAt:new Date})}})}getMatchesByTeam(t){return I(this,null,function*(){let i=yield this.getTeamById(t);if(!i)return[];let r=[];for(let o of i.matchIds){let s=yield this.getMatchById(o);s&&r.push(s)}return r})}shareTeam(t,i,r){return I(this,null,function*(){let o={name:t,matchIds:[],createdAt:new Date,updatedAt:new Date},s=yield this.saveTeam(o);r?.("\xC9quipe cr\xE9\xE9e");for(let a of i){let c=yield this.saveMatch(a);yield this.addMatchToTeam(s,c),r?.(`Match ${a.equipe1} vs ${a.equipe2} ajout\xE9 \xE0 l'\xE9quipe`)}return r?.("\xC9quipe sauvegard\xE9e avec succ\xE8s !"),s})}static{this.\u0275fac=function(i){return new(i||n)($(eo))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Zt=()=>({standalone:!0}),cU=n=>({"disabled-goal":n}),lU=()=>[],uU=(n,e)=>({"text-success":n,"text-danger":e});function dU(n,e){if(n&1){let t=M();d(0,"button",24),E("click",function(){v(t);let r=g();return y(r.openMatchForm())}),b(1,"i",25),d(2,"span",26),m(3," Match"),h()()}if(n&2){let t=g();f(2),_("hidden",!t.selectedCompetitionFilter.includes("-"))}}function hU(n,e){if(n&1){let t=M();d(0,"button",24),E("click",function(){v(t);let r=g();return y(r.showTeamFilterModal=!0)}),b(1,"i",27),d(2,"span",26),m(3," Teams"),h()()}if(n&2){let t=g();f(2),_("hidden",!t.selectedCompetitionFilter.includes("-"))}}function fU(n,e){if(n&1){let t=M();d(0,"button",28),E("click",function(){v(t);let r=g();return y(r.openCompetitionFilterModal())}),b(1,"i",29),d(2,"span",30),m(3),h()()}if(n&2){let t=g();_("ngClass",t.selectedCompetitionFilter?t.getCompetitionBadgeColor(t.selectedCompetitionFilter):"btn-info"),f(3),O(" ",t.selectedCompetitionFilter||t.getCurrentSeason(),"")}}function pU(n,e){if(n&1){let t=M();d(0,"button",31),E("click",function(){v(t);let r=g();return y(r.showRanking())}),b(1,"i",32)(2,"span"),h()}if(n&2){let t=g();_("ngClass",t.selectedCompetitionFilter?t.getCompetitionBadgeColor(t.selectedCompetitionFilter):"btn-info")("hidden",!t.selectedCompetitionFilter),f(),Se("text-white",t.selectedCompetitionFilter),f(),Se("text-white",t.selectedCompetitionFilter)}}function mU(n,e){if(n&1){let t=M();d(0,"button",33),E("click",function(){v(t);let r=g();return y(r.shareCompetition())}),b(1,"i",34)(2,"span"),h()}if(n&2){let t=g();_("ngClass",t.selectedCompetitionFilter?t.getCompetitionBadgeColor(t.selectedCompetitionFilter):"btn-info")("hidden",!t.selectedCompetitionFilter)("disabled",t.isSharingCompetition),f(),Se("text-white",t.selectedCompetitionFilter),_("ngClass",t.isSharingCompetition?"fa-spinner fa-spin":"fa-share-alt"),f(),Se("text-white",t.selectedCompetitionFilter)}}function gU(n,e){if(n&1&&(Ae(0),m(1),Me()),n&2){let t=g(2);f(),O(" de ",t.selectedCompetitionFilter," ")}}function _U(n,e){if(n&1){let t=M();d(0,"button",69),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.deleteTeam(r.name))}),b(1,"i",70),h()}}function vU(n,e){if(n&1){let t=M();d(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46)(4,"input",61),ee("ngModelChange",function(r){v(t);let o=g(2);return re(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),y(r)}),h(),d(5,"label",62)(6,"span",63),m(7),h(),d(8,"small",64),m(9),h()()()(),d(10,"div",51)(11,"button",65),E("click",function(){let r=v(t).$implicit,o=g(2);return y(o.openEditPlayersModal(r.name))}),b(12,"i",66),h(),d(13,"button",67),E("click",function(){let r=v(t).$implicit,o=g(2);return y(o.shareTeam(r.name))}),b(14,"i",34),h(),T(15,_U,2,0,"button",68),h()()()}if(n&2){let t=e.$implicit,i=g(2);f(4),_("value",t.name),X("ngModel",i.selectedTeamFilter),_("id","team-"+t.name),f(3),K(t.name),f(2),O("(",i.getMatchesPlayedByTeam(t.name)," matchs)"),f(4),_("disabled",i.isSharingTeam),f(),_("ngClass",i.isSharingTeam?"fa-spinner fa-spin":"fa-share-alt"),f(),_("ngIf",i.showDeleteButtons)}}function yU(n,e){if(n&1){let t=M();d(0,"div",35)(1,"div",36)(2,"div",37)(3,"h5",38),b(4,"i",39),m(5," S\xE9lectionner une \xC9quipe "),h(),d(6,"button",40),E("click",function(){v(t);let r=g();return y(r.closeTeamFilterModal())}),d(7,"span",41),m(8,"\xD7"),h()()(),d(9,"div",42)(10,"div",43)(11,"div",44)(12,"div",45)(13,"div",46)(14,"input",47),ee("ngModelChange",function(r){v(t);let o=g();return re(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),y(r)}),h(),d(15,"label",48)(16,"span",49),m(17," Toutes les \xE9quipes "),T(18,gU,2,1,"ng-container",50),h()()()(),b(19,"div",51),h()(),T(20,vU,16,8,"div",52),h(),d(21,"div",53)(22,"div",54)(23,"button",55),E("click",function(){v(t);let r=g();return y(r.openNewTeamModal())}),b(24,"i",56),m(25," Nouvelle \xC9quipe "),h(),d(26,"button",57),E("click",function(){v(t);let r=g();return y(r.openImportTeamModal())}),b(27,"i",58),m(28," Importer une \xE9quipe "),h()(),d(29,"button",59),E("click",function(){v(t);let r=g();return y(r.closeTeamFilterModal())}),b(30,"i",60),m(31,"Fermer "),h()()()()}if(n&2){let t=g();f(14),_("value",""),X("ngModel",t.selectedTeamFilter),f(4),_("ngIf",t.selectedCompetitionFilter),f(2),_("ngForOf",t.filteredTeamsForModal)}}function wU(n,e){if(n&1){let t=M();d(0,"app-competition-filter-modal",71),E("seasonChanged",function(r){v(t);let o=g();return y(o.onSeasonChanged(r))})("competitionSelected",function(r){v(t);let o=g();return y(o.onCompetitionSelected(r))})("competitionAdded",function(r){v(t);let o=g();return y(o.onCompetitionAdded(r))})("competitionUpdated",function(r){v(t);let o=g();return y(o.onCompetitionUpdated(r))})("competitionDeleted",function(r){v(t);let o=g();return y(o.onCompetitionDeleted(r))})("assignSeason",function(r){v(t);let o=g();return y(o.onAssignSeason(r))})("closeModal",function(){v(t);let r=g();return y(r.closeCompetitionFilterModal())}),h()}if(n&2){let t=g();_("competitions",t.uniqueCompetitions)("selectedSeason",t.selectedSeason)("availableSeasons",t.filteredSeasonsForModal)("selectedCompetition",t.selectedCompetitionFilter)("isCompetitionWithoutSeason",t.isCompetitionWithoutSeason.bind(t))("getSuggestedSeason",t.getSuggestedSeasonForCompetition.bind(t))("showDeleteButtons",t.showDeleteButtons)}}function CU(n,e){if(n&1){let t=M();d(0,"button",99),E("click",function(){let r=v(t).$implicit,o=g(3);return y(o.selectTeam1(r))}),m(1),h()}if(n&2){let t=e.$implicit;f(),K(t)}}function bU(n,e){if(n&1&&(d(0,"div",97),T(1,CU,2,1,"button",98),h()),n&2){let t=g(2);f(),_("ngForOf",t.filteredTeams1)}}function EU(n,e){if(n&1){let t=M();d(0,"div",100)(1,"button",101),E("click",function(){v(t);let r=g(2);return y(r.openNewTeamModalFor("equipe1"))}),m(2),h()()}if(n&2){let t=g(2);f(2),O(' Cr\xE9er "',t.team1Search,'" ')}}function IU(n,e){if(n&1){let t=M();d(0,"button",99),E("click",function(){let r=v(t).$implicit,o=g(3);return y(o.selectTeam2(r))}),m(1),h()}if(n&2){let t=e.$implicit;f(),K(t)}}function TU(n,e){if(n&1&&(d(0,"div",97),T(1,IU,2,1,"button",98),h()),n&2){let t=g(2);f(),_("ngForOf",t.filteredTeams2)}}function xU(n,e){if(n&1){let t=M();d(0,"div",100)(1,"button",101),E("click",function(){v(t);let r=g(2);return y(r.openNewTeamModalFor("equipe2"))}),m(2),h()()}if(n&2){let t=g(2);f(2),O(' Cr\xE9er "',t.team2Search,'" ')}}function DU(n,e){if(n&1){let t=M();d(0,"button",99),E("click",function(){let r=v(t).$implicit,o=g(4);return y(o.selectCompetition(r))}),m(1),h()}if(n&2){let t=e.$implicit;f(),K(t)}}function SU(n,e){if(n&1&&(d(0,"div",97),T(1,DU,2,1,"button",98),h()),n&2){let t=g(3);f(),_("ngForOf",t.filteredCompetitions)}}function AU(n,e){if(n&1){let t=M();d(0,"div",100)(1,"button",101),E("click",function(){v(t);let r=g(3);return y(r.selectCompetition(r.competitionSearch))}),m(2),h()()}if(n&2){let t=g(3);f(2),O(' Cr\xE9er "',t.competitionSearch,'" ')}}function MU(n,e){if(n&1){let t=M();d(0,"div")(1,"div",86)(2,"label",102),m(3,"Lieu du match (optionnel)"),h(),b(4,"input",103),h(),d(5,"div",77)(6,"label",104),m(7,"Comp\xE9tition (optionnel)"),h(),d(8,"input",105),ee("ngModelChange",function(r){v(t);let o=g(2);return re(o.competitionSearch,r)||(o.competitionSearch=r),y(r)}),E("input",function(){v(t);let r=g(2);return y(r.updateFilteredCompetitions())})("focus",function(){v(t);let r=g(2);return y(r.updateFilteredCompetitions())}),h(),b(9,"input",106),T(10,SU,2,1,"div",81)(11,AU,3,1,"div",82),h(),d(12,"div",86)(13,"label",107),m(14,"Commentaire (optionnel)"),h(),b(15,"textarea",108),h()()}if(n&2){let t=g(2);f(8),X("ngModel",t.competitionSearch),_("ngModelOptions",It(4,Zt)),f(2),_("ngIf",t.filteredCompetitions.length>0&&t.competitionSearch),f(),_("ngIf",t.shouldShowCreateCompetition())}}function PU(n,e){if(n&1){let t=M();d(0,"div",35)(1,"div",72)(2,"div",37)(3,"h4",38),b(4,"i",73),m(5,"Ajouter un Match! "),h(),d(6,"button",40),E("click",function(){v(t);let r=g();return y(r.closeMatchForm())}),d(7,"span",41),m(8,"\xD7"),h()()(),d(9,"div",42)(10,"form",74),E("ngSubmit",function(){v(t);let r=g();return y(r.onSubmit())}),d(11,"div",75)(12,"div",76)(13,"div",77)(14,"label",78),m(15,"\xC9quipe 1"),h(),d(16,"input",79),ee("ngModelChange",function(r){v(t);let o=g();return re(o.team1Search,r)||(o.team1Search=r),y(r)}),E("input",function(){v(t);let r=g();return y(r.updateFilteredTeams1())})("focus",function(){v(t);let r=g();return y(r.updateFilteredTeams1())}),h(),b(17,"input",80),T(18,bU,2,1,"div",81)(19,EU,3,1,"div",82),h(),d(20,"div",77)(21,"label",83),m(22,"\xC9quipe 2"),h(),d(23,"input",84),ee("ngModelChange",function(r){v(t);let o=g();return re(o.team2Search,r)||(o.team2Search=r),y(r)}),E("input",function(){v(t);let r=g();return y(r.updateFilteredTeams2())})("focus",function(){v(t);let r=g();return y(r.updateFilteredTeams2())}),h(),b(24,"input",85),T(25,TU,2,1,"div",81)(26,xU,3,1,"div",82),h()(),d(27,"div",76)(28,"div",86)(29,"label",87),m(30,"Heure de d\xE9but"),h(),b(31,"input",88),h(),d(32,"div",89)(33,"button",90),E("click",function(){v(t);let r=g();return y(r.toggleOptionalFields())}),b(34,"i",34),m(35),h()(),T(36,MU,16,5,"div",50),h()(),d(37,"div",91)(38,"button",92),m(39," Cr\xE9er le match "),h(),d(40,"button",93),m(41," \u{1F9F0} "),h(),d(42,"button",94),E("click",function(){v(t);let r=g();return y(r.closeMatchForm())}),m(43," Annuler "),h(),d(44,"ul",95)(45,"li")(46,"a",96),E("click",function(){v(t);let r=g();return y(r.exportMatches())}),m(47,"Exporter les matchs"),h()(),d(48,"li")(49,"a",96),E("click",function(){v(t);let r=g();return y(r.importMatches())}),m(50,"Importer des matchs"),h()()()()()(),d(51,"div",53)(52,"button",59),E("click",function(){v(t);let r=g();return y(r.closeMatchForm())}),b(53,"i",60),m(54,"Annuler "),h()()()()}if(n&2){let t=g();f(10),_("formGroup",t.matchForm),f(6),X("ngModel",t.team1Search),_("ngModelOptions",It(12,Zt)),f(2),_("ngIf",t.filteredTeams1.length>0&&t.team1Search),f(),_("ngIf",t.shouldShowCreateTeam1()),f(4),X("ngModel",t.team2Search),_("ngModelOptions",It(13,Zt)),f(2),_("ngIf",t.filteredTeams2.length>0&&t.team2Search),f(),_("ngIf",t.shouldShowCreateTeam2()),f(8),_("ngClass",t.showOptionalFields?"fa-eye-slash":"fa-plus"),f(),O(" ",t.showOptionalFields?"Masquer les champs optionnels":"Afficher les champs optionnels"," "),f(),_("ngIf",t.showOptionalFields)}}function OU(n,e){n&1&&(d(0,"span",123),m(1,"\u2022"),h())}function RU(n,e){if(n&1&&(d(0,"span"),m(1),h()),n&2){let t=g().$implicit;f(),K(t.lieu)}}function NU(n,e){n&1&&(d(0,"span",123),m(1,"\u2022"),h())}function kU(n,e){if(n&1&&(d(0,"span")(1,"span",124),m(2),h()()),n&2){let t=g().$implicit,i=g(2);f(),_("ngClass",i.getCompetitionBadgeColor(t.competition)),f(),K(t.competition)}}function FU(n,e){n&1&&(d(0,"span"),b(1,"br"),h())}function VU(n,e){n&1&&(d(0,"span"),m(1,","),h())}function LU(n,e){if(n&1&&(d(0,"span",132),m(1),h()),n&2){let t=g(2).$implicit;f(),O("(Assist: ",t.assist,")")}}function jU(n,e){if(n&1&&(Ae(0),T(1,FU,2,0,"span",50),m(2),T(3,VU,2,0,"span",50)(4,LU,2,1,"span",131),Me()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;f(),_("ngIf",i>0&&i%5===0),f(),O(" ",t,"'"),f(),_("ngIf",i<r.minutes.length-1),f(),_("ngIf",r.assist)}}function UU(n,e){if(n&1&&(d(0,"div")(1,"div",129)(2,"span"),m(3),h(),d(4,"span",130),T(5,jU,5,4,"ng-container",111),h()()()),n&2){let t=e.$implicit;f(3),O("\u26BD ",t.nom,":"),f(2),_("ngForOf",t.minutes)}}function BU(n,e){n&1&&(d(0,"span"),b(1,"br"),h())}function $U(n,e){n&1&&(d(0,"span"),m(1,","),h())}function qU(n,e){if(n&1&&(d(0,"span",132),m(1),h()),n&2){let t=g(2).$implicit;f(),O("(Assist: ",t.assist,")")}}function zU(n,e){if(n&1&&(Ae(0),T(1,BU,2,0,"span",50),m(2),T(3,$U,2,0,"span",50)(4,qU,2,1,"span",131),Me()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;f(),_("ngIf",i>0&&i%5===0),f(),O(" ",t,"'"),f(),_("ngIf",i<r.minutes.length-1),f(),_("ngIf",r.assist)}}function GU(n,e){if(n&1&&(d(0,"div")(1,"div",133)(2,"span"),m(3),h(),d(4,"span",130),T(5,zU,5,4,"ng-container",111),h()()()),n&2){let t=e.$implicit;f(3),O("\u26BD ",t.nom,":"),f(2),_("ngForOf",t.minutes)}}function HU(n,e){n&1&&(d(0,"span"),b(1,"br"),h())}function WU(n,e){n&1&&(d(0,"span"),m(1,","),h())}function KU(n,e){if(n&1&&(d(0,"span",132),m(1),h()),n&2){let t=g(2).$implicit;f(),O("(Assist: ",t.assist,")")}}function QU(n,e){if(n&1&&(Ae(0),T(1,HU,2,0,"span",50),m(2),T(3,WU,2,0,"span",50)(4,KU,2,1,"span",131),Me()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;f(),_("ngIf",i>0&&i%5===0),f(),O(" ",t,"'"),f(),_("ngIf",i<r.minutes.length-1),f(),_("ngIf",r.assist)}}function YU(n,e){if(n&1&&(d(0,"div")(1,"div",129)(2,"span"),m(3),h(),d(4,"span",134),T(5,QU,5,4,"ng-container",111),h()()()),n&2){let t=e.$implicit;f(3),O("\u26BD ",t.nom,":"),f(2),_("ngForOf",t.minutes)}}function JU(n,e){n&1&&(d(0,"span"),b(1,"br"),h())}function ZU(n,e){n&1&&(d(0,"span"),m(1,","),h())}function XU(n,e){if(n&1&&(d(0,"span",132),m(1),h()),n&2){let t=g(2).$implicit;f(),O("(Assist: ",t.assist,")")}}function eB(n,e){if(n&1&&(Ae(0),T(1,JU,2,0,"span",50),m(2),T(3,ZU,2,0,"span",50)(4,XU,2,1,"span",131),Me()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;f(),_("ngIf",i>0&&i%5===0),f(),O(" ",t,"'"),f(),_("ngIf",i<r.minutes.length-1),f(),_("ngIf",r.assist)}}function tB(n,e){if(n&1&&(d(0,"div")(1,"div",133)(2,"span"),m(3),h(),d(4,"span",134),T(5,eB,5,4,"ng-container",111),h()()()),n&2){let t=e.$implicit;f(3),O("\u26BD ",t.nom,":"),f(2),_("ngForOf",t.minutes)}}function nB(n,e){if(n&1&&(d(0,"div",125)(1,"div",126)(2,"div",127),T(3,UU,6,2,"div",111)(4,GU,6,2,"div",111),h(),d(5,"div",128),T(6,YU,6,2,"div",111)(7,tB,6,2,"div",111),h()()()),n&2){let t=g().$implicit,i=g(2);f(3),_("ngForOf",i.getActiveGroupedScorers(t,1)),f(),_("ngForOf",i.getDisabledGroupedScorers(t,1)),f(2),_("ngForOf",i.getActiveGroupedScorers(t,2)),f(),_("ngForOf",i.getDisabledGroupedScorers(t,2))}}function iB(n,e){n&1&&(d(0,"span"),b(1,"br"),h())}function rB(n,e){n&1&&(d(0,"span"),m(1,","),h())}function oB(n,e){if(n&1&&(Ae(0),T(1,iB,2,0,"span",50),m(2),T(3,rB,2,0,"span",50),Me()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;f(),_("ngIf",i>0&&i%5===0),f(),O(" ",t,"'"),f(),_("ngIf",i<r.minutes.length-1)}}function sB(n,e){if(n&1&&(d(0,"div")(1,"div",129)(2,"span"),m(3),h(),d(4,"span",130),T(5,oB,4,3,"ng-container",111),h()()()),n&2){let t=e.$implicit,i=g(4);f(),jn("color",t.color),f(2),hu("",t.emoji," ",i.getStatTypeName(t.type)," - ",t.nom,":"),f(),jn("color",t.color),f(),_("ngForOf",t.minutes)}}function aB(n,e){n&1&&(d(0,"span"),b(1,"br"),h())}function cB(n,e){n&1&&(d(0,"span"),m(1,","),h())}function lB(n,e){if(n&1&&(Ae(0),T(1,aB,2,0,"span",50),m(2),T(3,cB,2,0,"span",50),Me()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;f(),_("ngIf",i>0&&i%5===0),f(),O(" ",t,"'"),f(),_("ngIf",i<r.minutes.length-1)}}function uB(n,e){if(n&1&&(d(0,"div")(1,"div",129)(2,"span"),m(3),h(),d(4,"span",134),T(5,lB,4,3,"ng-container",111),h()()()),n&2){let t=e.$implicit,i=g(4);f(),jn("color",t.color),f(2),hu("",t.emoji," ",i.getStatTypeName(t.type)," - ",t.nom,":"),f(),jn("color",t.color),f(),_("ngForOf",t.minutes)}}function dB(n,e){if(n&1&&(d(0,"div",125)(1,"div",126)(2,"div",127),T(3,sB,6,8,"div",111),h(),d(4,"div",128),T(5,uB,6,8,"div",111),h()()()),n&2){let t=g().$implicit,i=g(2);f(3),_("ngForOf",i.getAllGroupedStats(t,1)),f(2),_("ngForOf",i.getAllGroupedStats(t,2))}}function hB(n,e){if(n&1&&(d(0,"div",135)(1,"div",136),b(2,"i",137),m(3,"Commentaire: "),h(),d(4,"div",138),m(5),h()()),n&2){let t=g().$implicit;f(5),O(" ",t.commentaire," ")}}function fB(n,e){if(n&1){let t=M();d(0,"div",139)(1,"button",140),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.selectMatch(r))}),b(2,"i",141),d(3,"span",142),m(4,"But"),h()(),d(5,"button",143),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.openDispositionModal(r))}),b(6,"i",144),h(),d(7,"button",145),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.toggleMatchEditForm(r))}),b(8,"i",34),d(9,"span",142),m(10,"Match"),h()(),d(11,"button",146),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.shareMatch(r))}),b(12,"i",34),d(13,"span",142),m(14,"Partager"),h()()()}if(n&2){let t=g(3);f(8),_("ngClass",t.showMatchEditForm?"fa-pen-fancy":"fa-edit"),f(3),_("disabled",t.isSharingMatch),f(),_("ngClass",t.isSharingMatch?"fa-spinner fa-spin":"fa-share-alt")}}function pB(n,e){if(n&1){let t=M();d(0,"div")(1,"div",112)(2,"div",113)(3,"span"),m(4),Fo(5,"date"),h(),T(6,OU,2,0,"span",114)(7,RU,2,1,"span",50)(8,NU,2,0,"span",114)(9,kU,3,2,"span",50),d(10,"button",115),E("click",function(){let r=v(t).$implicit,o=g(2);return y(o.toggleVisibility(r))}),b(11,"i",116),h()(),d(12,"div",117)(13,"div",118),m(14),h(),d(15,"button",119),E("click",function(){let r=v(t).$implicit,o=g(2);return y(o.selectMatch(r))}),m(16),h(),d(17,"div",118),m(18),h()(),T(19,nB,8,4,"div",120)(20,dB,6,2,"div",120)(21,hB,6,1,"div",121)(22,fB,15,3,"div",122),h()()}if(n&2){let t=e.$implicit,i=g(2);ci("data-match-id",t.id),f(),_("ngStyle",i.getMatchBackground(t)),f(3),K(na(5,17,t.heureDebut,"EEEE dd/MM/yy HH:mm")),f(2),_("ngIf",t.lieu),f(),_("ngIf",t.lieu),f(),_("ngIf",t.competition),f(),_("ngIf",t.competition),f(2),_("ngClass",t.showElements?"fa-eye-slash":"fa-circle-info"),f(3),K(t.equipe1),f(),_("ngClass",i.getScoreColor(t)),f(),cn(" ",t.score1," - ",t.score2," "),f(2),K(t.equipe2),f(),_("ngIf",t.showElements&&t.buteurs.length>0),f(),_("ngIf",t.showElements&&(t.duelsGagnes&&t.duelsGagnes.length>0||t.dribbles&&t.dribbles.length>0||t.interceptions&&t.interceptions.length>0||t.frappes&&t.frappes.length>0||t.fautes&&t.fautes.length>0||t.contreAttaques&&t.contreAttaques.length>0||t.tikiTakas&&t.tikiTakas.length>0)),f(),_("ngIf",t.showElements&&t.commentaire),f(),_("ngIf",t.showElements)}}function mB(n,e){if(n&1&&(d(0,"div",109),b(1,"h2"),d(2,"div",110),T(3,pB,23,20,"div",111),h()()),n&2){let t=g();f(3),_("ngForOf",t.getSortedMatches())}}function gB(n,e){if(n&1){let t=M();d(0,"div",164)(1,"div")(2,"label",165),m(3,"Couleur primaire"),h(),d(4,"input",166),ee("ngModelChange",function(r){v(t);let o=g(2);return re(o.teamToEdit.primaryColor,r)||(o.teamToEdit.primaryColor=r),y(r)}),h()(),d(5,"div")(6,"label",165),m(7,"Couleur secondaire"),h(),d(8,"input",166),ee("ngModelChange",function(r){v(t);let o=g(2);return re(o.teamToEdit.secondaryColor,r)||(o.teamToEdit.secondaryColor=r),y(r)}),h()()()}if(n&2){let t=g(2);f(4),X("ngModel",t.teamToEdit.primaryColor),f(4),X("ngModel",t.teamToEdit.secondaryColor)}}function _B(n,e){if(n&1&&(Ae(0),m(1),d(2,"div",167),m(3),h(),Me()),n&2){let t=g(2);f(),cn(" ",t.selectedMatch.score1," - ",t.selectedMatch.score2," "),f(2),cn(" (",t.getActiveGoalsCount(1)," - ",t.getActiveGoalsCount(2)," buts actifs) ")}}function vB(n,e){if(n&1){let t=M();Ae(0),d(1,"div",168)(2,"input",169),ee("ngModelChange",function(r){v(t);let o=g(2);return re(o.selectedMatch.score1,r)||(o.selectedMatch.score1=r),y(r)}),E("input",function(){v(t);let r=g(2);return r.selectedMatch.score1=r.validateScore(r.selectedMatch.score1),y(r.onScoreChange())}),h(),d(3,"span"),m(4,"-"),h(),d(5,"input",169),ee("ngModelChange",function(r){v(t);let o=g(2);return re(o.selectedMatch.score2,r)||(o.selectedMatch.score2=r),y(r)}),E("input",function(){v(t);let r=g(2);return r.selectedMatch.score2=r.validateScore(r.selectedMatch.score2),y(r.onScoreChange())}),h()(),Me()}if(n&2){let t=g(2);f(2),X("ngModel",t.selectedMatch.score1),f(3),X("ngModel",t.selectedMatch.score2)}}function yB(n,e){if(n&1){let t=M();d(0,"button",99),E("click",function(){let r=v(t).$implicit,o=g(4);return y(o.selectButeurName(r))}),m(1),h()}if(n&2){let t=e.$implicit;f(),K(t)}}function wB(n,e){if(n&1&&(d(0,"div",97),T(1,yB,2,1,"button",98),h()),n&2){let t=g(3);f(),_("ngForOf",t.filteredButeurNames)}}function CB(n,e){if(n&1){let t=M();d(0,"div",100)(1,"button",101),E("click",function(){v(t);let r=g(3);return y(r.selectButeurName(r.buteurNameSearch))}),m(2),h()()}if(n&2){let t=g(3);f(2),O(' Cr\xE9er "',t.buteurNameSearch,'" ')}}function bB(n,e){if(n&1){let t=M();d(0,"button",99),E("click",function(){let r=v(t).$implicit,o=g(4);return y(o.selectAssistName(r))}),m(1),h()}if(n&2){let t=e.$implicit;f(),K(t)}}function EB(n,e){if(n&1&&(d(0,"div",97),T(1,bB,2,1,"button",98),h()),n&2){let t=g(3);f(),_("ngForOf",t.filteredAssistNames)}}function IB(n,e){if(n&1){let t=M();d(0,"div",100)(1,"button",101),E("click",function(){v(t);let r=g(3);return y(r.selectAssistName(r.assistSearch))}),m(2),h()()}if(n&2){let t=g(3);f(2),O(' Cr\xE9er "',t.assistSearch,'" ')}}function TB(n,e){if(n&1){let t=M();d(0,"div",170)(1,"div",171)(2,"div",172)(3,"div",37)(4,"h5",38),m(5),h(),d(6,"button",173),E("click",function(){v(t);let r=g(2);return y(r.showButeurForm=!1)}),h()(),d(7,"div",42)(8,"form",74),E("ngSubmit",function(){v(t);let r=g(2);return y(r.ajouterButeur())}),d(9,"div",174)(10,"div",175)(11,"label",176),m(12,"Nom du buteur"),h(),d(13,"input",177),ee("ngModelChange",function(r){v(t);let o=g(2);return re(o.buteurNameSearch,r)||(o.buteurNameSearch=r),y(r)}),E("input",function(){v(t);let r=g(2);return y(r.updateFilteredButeurNames())})("focus",function(){v(t);let r=g(2);return y(r.updateFilteredButeurNames())}),h(),b(14,"input",178),T(15,wB,2,1,"div",81)(16,CB,3,1,"div",82),h(),d(17,"div",179)(18,"label",176),m(19,"Minute"),h(),b(20,"input",180),h(),d(21,"div",181)(22,"label",176),m(23,"\xC9quipe"),h(),d(24,"select",182),E("change",function(){v(t);let r=g(2);return y(r.onButeurEquipeChange())}),d(25,"option",183),m(26),h(),d(27,"option",183),m(28),h()()(),d(29,"div",184)(30,"label",176),m(31,"Assist (optionnel)"),h(),d(32,"input",185),ee("ngModelChange",function(r){v(t);let o=g(2);return re(o.assistSearch,r)||(o.assistSearch=r),y(r)}),E("input",function(){v(t);let r=g(2);return y(r.updateFilteredAssistNames())})("focus",function(){v(t);let r=g(2);return y(r.updateFilteredAssistNames())}),h(),b(33,"input",186),T(34,EB,2,1,"div",81)(35,IB,3,1,"div",82),h()(),d(36,"div",187)(37,"button",188),E("click",function(){let r;v(t);let o=g(2);return y(o.addNewPlayer((r=o.buteurForm.get("nom"))==null?null:r.value))}),m(38),h(),d(39,"button",59),E("click",function(){v(t);let r=g(2);return y(r.annulerEditionButeur())}),m(40," Annuler "),h()()()()()()()}if(n&2){let t=g(2);f(5),K(t.editingButeur?"Modifier le buteur":"Nouveau buteur"),f(3),_("formGroup",t.buteurForm),f(5),X("ngModel",t.buteurNameSearch),_("ngModelOptions",It(16,Zt)),f(2),_("ngIf",t.filteredButeurNames.length>0&&t.buteurNameSearch),f(),_("ngIf",t.shouldShowCreateButeur()),f(9),_("value",1),f(),K(t.selectedMatch.equipe1),f(),_("value",2),f(),K(t.selectedMatch.equipe2),f(4),X("ngModel",t.assistSearch),_("ngModelOptions",It(17,Zt)),f(2),_("ngIf",t.filteredAssistNames.length>0&&t.assistSearch),f(),_("ngIf",t.shouldShowCreateAssist()),f(2),_("disabled",!t.buteurForm.valid),f(),O(" ",t.editingButeur?"Enregistrer":"Ajouter"," ")}}function xB(n,e){if(n&1){let t=M();d(0,"button",189),E("click",function(){v(t);let r=g(2);return y(r.displayPlayerAsNumber=!r.displayPlayerAsNumber)}),b(1,"i",34),m(2),h()}if(n&2){let t=g(2);_("title",t.displayPlayerAsNumber?"Afficher les noms":"Afficher les num\xE9ros"),f(),_("ngClass",t.displayPlayerAsNumber?"fa-user":"fa-hashtag"),f(),O(" ",t.displayPlayerAsNumber?" Noms":" Num\xE9ros"," ")}}function DB(n,e){n&1&&b(0,"i",204)}function SB(n,e){n&1&&b(0,"i",205)}function AB(n,e){n&1&&b(0,"i",206)}function MB(n,e){if(n&1){let t=M();d(0,"button",200),E("click",function(){let r=v(t).$implicit,o=g(3);return y(o.quickAddAction(r.name,1))}),T(1,DB,1,0,"i",201)(2,SB,1,0,"i",202)(3,AB,1,0,"i",203),m(4),h()}if(n&2){let t=e.$implicit,i=g(3);_("title",t.name+(t.number?" ("+t.number+")":"")),f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",i.getPlayerDisplayText(t)," ")}}function PB(n,e){if(n&1){let t=M();d(0,"button",207),E("click",function(){v(t);let r=g(3);return y(r.showButeurForm=!0)}),m(1," + "),h()}}function OB(n,e){n&1&&b(0,"i",204)}function RB(n,e){n&1&&b(0,"i",205)}function NB(n,e){n&1&&b(0,"i",206)}function kB(n,e){if(n&1){let t=M();d(0,"button",208),E("click",function(){let r=v(t).$implicit,o=g(3);return y(o.quickAddAction(r.name,2))}),T(1,OB,1,0,"i",201)(2,RB,1,0,"i",202)(3,NB,1,0,"i",203),m(4),h()}if(n&2){let t=e.$implicit,i=g(3);_("title",t.name+(t.number?" ("+t.number+")":"")),f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",i.getPlayerDisplayText(t)," ")}}function FB(n,e){if(n&1){let t=M();d(0,"button",209),E("click",function(){v(t);let r=g(3);return y(r.showButeurForm=!0)}),m(1," + "),h()}}function VB(n,e){if(n&1&&(d(0,"div",190)(1,"div",191)(2,"h5",192),m(3),h(),d(4,"div",193),T(5,MB,5,5,"button",194)(6,PB,2,0,"button",195),h()(),d(7,"div",191)(8,"h5",196),m(9),h(),d(10,"div",197),T(11,kB,5,5,"button",198)(12,FB,2,0,"button",199),h()()()),n&2){let t=g(2);f(3),K(t.selectedMatch.equipe1),f(2),_("ngForOf",t.getTeamPlayers(1)),f(),_("ngIf",!t.showButeurForm),f(3),K(t.selectedMatch.equipe2),f(2),_("ngForOf",t.getTeamPlayers(2)),f(),_("ngIf",!t.showButeurForm)}}function LB(n,e){if(n&1){let t=M();d(0,"div",210)(1,"div",9)(2,"h6",153),b(3,"i",211),m(4,"S\xE9lectionner une action "),h()(),d(5,"div",190)(6,"div",191)(7,"h6",212),m(8),h(),d(9,"div",213)(10,"div",214)(11,"button",215),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("but",1))}),b(12,"i",204),m(13,"But "),h(),d(14,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("frappe",1))}),b(15,"i",217),m(16,"Frappe "),h(),d(17,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("dribble",1))}),b(18,"i",218),m(19,"Dribble "),h()()(),d(20,"div",213)(21,"div",214)(22,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("tiki-taka",1))}),b(23,"i",219),m(24,"Tiki-taka "),h(),d(25,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("contre-attaque",1))}),b(26,"i",220),m(27,"Contre-attaque "),h()()(),d(28,"div",213)(29,"div",214)(30,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("interception",1))}),b(31,"i",221),m(32,"Interception "),h(),d(33,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("duel",1))}),b(34,"i",222),m(35,"Duel "),h(),d(36,"button",223),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("faute",1))}),b(37,"i",224),m(38,"Faute "),h()()()(),d(39,"div",191)(40,"h6",212),m(41),h(),d(42,"div",213)(43,"div",214)(44,"button",215),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("but",2))}),b(45,"i",204),m(46,"But "),h(),d(47,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("frappe",2))}),b(48,"i",217),m(49,"Frappe "),h(),d(50,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("dribble",2))}),b(51,"i",218),m(52,"Dribble "),h()()(),d(53,"div",213)(54,"div",214)(55,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("tiki-taka",2))}),b(56,"i",219),m(57,"Tiki-taka "),h(),d(58,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("contre-attaque",2))}),b(59,"i",220),m(60,"Contre-attaque "),h()()(),d(61,"div",213)(62,"div",214)(63,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("interception",2))}),b(64,"i",221),m(65,"Interception "),h(),d(66,"button",216),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("duel",2))}),b(67,"i",222),m(68,"Duel "),h(),d(69,"button",223),E("click",function(){v(t);let r=g(2);return y(r.selectActionForTeam("faute",2))}),b(70,"i",224),m(71,"Faute "),h()()()()()()}if(n&2){let t=g(2);f(8),K(t.selectedMatch.equipe1),f(33),K(t.selectedMatch.equipe2)}}function jB(n,e){if(n&1){let t=M();d(0,"div",226)(1,"div",227)(2,"span",228)(3,"strong",229),m(4),h()(),d(5,"div")(6,"button",230),E("click",function(){let r=v(t).index,o=g(3);return y(o.modifierButeur(o.matches.indexOf(o.selectedMatch),r))}),b(7,"i",66),h(),d(8,"button",231),E("click",function(){let r=v(t).index,o=g(3);return y(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),r))}),b(9,"i",232),h()()()()}if(n&2){let t=e.$implicit,i=e.index,r=g(3);f(),_("ngClass",$b(3,cU,r.isGoalDisabled(i))),f(2),_("ngClass",t.equipe===1?"buteur-team1":"buteur-team2"),f(),K(r.getButeurDisplay(t))}}function UB(n,e){if(n&1&&(d(0,"div"),T(1,jB,10,5,"div",225),h()),n&2){let t=g(2);f(),_("ngForOf",t.selectedMatch.buteurs)}}function BB(n,e){if(n&1){let t=M();d(0,"button",231),E("click",function(){v(t);let r=g().$implicit;return y(r.supprimerFn())}),b(1,"i",232),h()}}function $B(n,e){if(n&1&&(d(0,"div",236)(1,"div",237)(2,"span",228)(3,"strong"),m(4),h(),d(5,"em"),m(6),h()(),d(7,"div"),T(8,BB,2,0,"button",238),h()()()),n&2){let t=e.$implicit,i=g(3);f(3),jn("color",t.color),f(),bm("",t.emoji," ",i.getStatTypeName(t.type)," - ",t.nom," - ",t.minute,"'"),f(),jn("color",t.color),f(),O("(",t.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")"),f(2),_("ngIf",i.showDeleteButtons)}}function qB(n,e){if(n&1&&(d(0,"div",233)(1,"div",234)(2,"h4")(3,"span",161),m(4,"\u{1F4CA}"),h(),m(5),h()(),d(6,"div"),T(7,$B,9,10,"div",235),h()()),n&2){let t=g(2);f(5),O(" Statistiques (",t.getAllStatsForModal().length,") "),f(2),_("ngForOf",t.getAllStatsForModal())}}function zB(n,e){n&1&&b(0,"i",204)}function GB(n,e){n&1&&b(0,"i",205)}function HB(n,e){n&1&&b(0,"i",206)}function WB(n,e){if(n&1){let t=M();d(0,"button",244),E("click",function(){let r=v(t).$implicit,o=g(3);return y(o.assignPlayerToPosition(r.name))}),T(1,zB,1,0,"i",201)(2,GB,1,0,"i",202)(3,HB,1,0,"i",203),m(4),h()}if(n&2){let t=e.$implicit,i=g(3);f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",i.getPlayerFullDisplayText(t)," ")}}function KB(n,e){if(n&1){let t=M();d(0,"div",239)(1,"div",240)(2,"h6"),m(3),h(),d(4,"div",241),T(5,WB,5,4,"button",242),h(),d(6,"button",243),E("click",function(){v(t);let r=g(2);return y(r.selectedPosition=null)}),m(7," Annuler "),h()()()}if(n&2){let t=g(2);f(3),O("S\xE9lectionner un joueur pour ",t.selectedPosition.position,""),f(2),_("ngForOf",t.getTeamPlayers(t.selectedPosition.team))}}function QB(n,e){if(n&1){let t=M();d(0,"div",35)(1,"div",147)(2,"div",37)(3,"h5",38),b(4,"i",73),m(5," Modifier le score "),h(),d(6,"button",40),E("click",function(){v(t);let r=g();return y(r.closeScoreModal())}),d(7,"span",41),m(8,"\xD7"),h()()(),d(9,"div",42),T(10,gB,9,2,"div",148),d(11,"div",149)(12,"div",117)(13,"div",118),m(14),h(),d(15,"div",150),E("click",function(){v(t);let r=g();return y(r.showScoreForm=!0)}),T(16,_B,4,4,"ng-container",50)(17,vB,6,2,"ng-container",50),h(),d(18,"div",118),m(19),h()()(),T(20,TB,41,18,"div",151),d(21,"div",109)(22,"div",152)(23,"h6",153),m(24),h(),d(25,"div",154),T(26,xB,3,3,"button",155),d(27,"button",156),E("click",function(){v(t);let r=g();return y(r.toggleScoreModalMode())}),b(28,"i",34),m(29),h()()(),T(30,VB,13,6,"div",157)(31,LB,72,2,"div",158),h(),d(32,"div",159)(33,"div",160),E("click",function(){v(t);let r=g();return y(r.toggleButeursList())}),d(34,"h4")(35,"span",161),m(36),h(),m(37),h()(),T(38,UB,2,1,"div",50),h(),T(39,qB,8,2,"div",162)(40,KB,8,2,"div",163),h(),d(41,"div",53)(42,"button",59),E("click",function(){v(t);let r=g();return y(r.closeScoreModal())}),b(43,"i",60),m(44,"Fermer "),h()()()()}if(n&2){let t=g();f(10),_("ngIf",t.teamToEdit),f(4),K(t.selectedMatch.equipe1),f(),_("ngClass",t.getScoreColor(t.selectedMatch)),f(),_("ngIf",!t.showScoreForm),f(),_("ngIf",t.showScoreForm),f(2),K(t.selectedMatch.equipe2),f(),_("ngIf",t.showButeurForm),f(4),K(t.showPlayersList?"Joueurs":"Actions"),f(2),_("ngIf",t.showPlayersList),f(),_("ngClass",(t.showPlayersList,"btn-primary"))("title",t.showPlayersList?"Passer aux actions":"Revenir aux joueurs"),f(),_("ngClass",t.showPlayersList?"fa-exchange-alt":"fa-users"),f(),O(" ",t.showPlayersList?" Actions":" Joueurs"," "),f(),_("ngIf",t.showPlayersList),f(),_("ngIf",!t.showPlayersList),f(5),K(t.showButeursList?"\u25BC":"\u25B6"),f(),O(" Buteurs (",t.selectedMatch.buteurs.length,") "),f(),_("ngIf",t.showButeursList),f(),_("ngIf",t.getAllStatsForModal().length>0),f(),_("ngIf",t.selectedPosition&&t.selectedMatch)}}function YB(n,e){if(n&1){let t=M();d(0,"button",99),E("click",function(){let r=v(t).$implicit,o=g(3);return y(o.selectEditTeam1(r))}),m(1),h()}if(n&2){let t=e.$implicit;f(),K(t)}}function JB(n,e){if(n&1&&(d(0,"div",97),T(1,YB,2,1,"button",98),h()),n&2){let t=g(2);f(),_("ngForOf",t.editFilteredTeams1)}}function ZB(n,e){if(n&1){let t=M();d(0,"div",100)(1,"button",101),E("click",function(){v(t);let r=g(2);return y(r.selectEditTeam1(r.editTeam1Search))}),m(2),h()()}if(n&2){let t=g(2);f(2),O(' Cr\xE9er "',t.editTeam1Search,'" ')}}function XB(n,e){if(n&1){let t=M();d(0,"button",99),E("click",function(){let r=v(t).$implicit,o=g(3);return y(o.selectEditTeam2(r))}),m(1),h()}if(n&2){let t=e.$implicit;f(),K(t)}}function e$(n,e){if(n&1&&(d(0,"div",97),T(1,XB,2,1,"button",98),h()),n&2){let t=g(2);f(),_("ngForOf",t.editFilteredTeams2)}}function t$(n,e){if(n&1){let t=M();d(0,"div",100)(1,"button",101),E("click",function(){v(t);let r=g(2);return y(r.selectEditTeam2(r.editTeam2Search))}),m(2),h()()}if(n&2){let t=g(2);f(2),O(' Cr\xE9er "',t.editTeam2Search,'" ')}}function n$(n,e){if(n&1){let t=M();d(0,"button",99),E("click",function(){let r=v(t).$implicit,o=g(3);return y(o.selectEditCompetition(r))}),m(1),h()}if(n&2){let t=e.$implicit;f(),K(t)}}function i$(n,e){if(n&1&&(d(0,"div",97),T(1,n$,2,1,"button",98),h()),n&2){let t=g(2);f(),_("ngForOf",t.editFilteredCompetitions)}}function r$(n,e){if(n&1){let t=M();d(0,"div",100)(1,"button",101),E("click",function(){v(t);let r=g(2);return y(r.selectEditCompetition(r.editCompetitionSearch))}),m(2),h()()}if(n&2){let t=g(2);f(2),O(' Cr\xE9er "',t.editCompetitionSearch,'" ')}}function o$(n,e){if(n&1){let t=M();d(0,"button",266),E("click",function(){v(t);let r=g(2);return y(r.supprimerMatch(r.selectedMatch))}),b(1,"i",232),m(2," Supprimer le match "),h()}}function s$(n,e){if(n&1){let t=M();d(0,"div",245)(1,"div",172)(2,"span",246),E("click",function(){v(t);let r=g();return y(r.showMatchEditForm=!1)}),m(3,"\xD7"),h(),d(4,"h3",247),b(5,"i",248),m(6,"Modifier le match "),h(),d(7,"form",74),E("ngSubmit",function(){v(t);let r=g();return y(r.onSubmitMatchEdit())}),d(8,"div",249)(9,"label",250),m(10,"\xC9quipe 1:"),h(),d(11,"div",251)(12,"input",252),ee("ngModelChange",function(r){v(t);let o=g();return re(o.editTeam1Search,r)||(o.editTeam1Search=r),y(r)}),E("input",function(){v(t);let r=g();return y(r.updateEditFilteredTeams1())})("focus",function(){v(t);let r=g();return y(r.updateEditFilteredTeams1())}),h(),b(13,"input",80),T(14,JB,2,1,"div",81)(15,ZB,3,1,"div",82),h()(),d(16,"div",249)(17,"label",253),m(18,"\xC9quipe 2:"),h(),d(19,"div",251)(20,"input",254),ee("ngModelChange",function(r){v(t);let o=g();return re(o.editTeam2Search,r)||(o.editTeam2Search=r),y(r)}),E("input",function(){v(t);let r=g();return y(r.updateEditFilteredTeams2())})("focus",function(){v(t);let r=g();return y(r.updateEditFilteredTeams2())}),h(),b(21,"input",85),T(22,e$,2,1,"div",81)(23,t$,3,1,"div",82),h()(),d(24,"div",249)(25,"label",255),m(26,"Heure de d\xE9but:"),h(),b(27,"input",256),h(),d(28,"div",249)(29,"label",257),m(30,"Lieu:"),h(),b(31,"input",258),h(),d(32,"div",249)(33,"label",259),m(34,"Comp\xE9tition:"),h(),d(35,"div",251)(36,"input",260),ee("ngModelChange",function(r){v(t);let o=g();return re(o.editCompetitionSearch,r)||(o.editCompetitionSearch=r),y(r)}),E("input",function(){v(t);let r=g();return y(r.updateEditFilteredCompetitions())})("focus",function(){v(t);let r=g();return y(r.updateEditFilteredCompetitions())}),h(),b(37,"input",106),T(38,i$,2,1,"div",81)(39,r$,3,1,"div",82),h()(),d(40,"div",249)(41,"label",261),m(42,"Commentaire:"),h(),b(43,"textarea",262),h(),d(44,"div",263)(45,"button",264),E("click",function(){v(t);let r=g();return y(r.onSubmitMatchEdit())}),m(46,"Enregistrer"),h(),T(47,o$,3,0,"button",265),h()()()()}if(n&2){let t=g();f(7),_("formGroup",t.matchEditForm),f(5),X("ngModel",t.editTeam1Search),_("ngModelOptions",It(14,Zt)),f(2),_("ngIf",t.editFilteredTeams1.length>0&&t.editTeam1Search),f(),_("ngIf",t.editTeam1Search&&t.editFilteredTeams1.length===0&&!t.getTeamNames().includes(t.editTeam1Search)),f(5),X("ngModel",t.editTeam2Search),_("ngModelOptions",It(15,Zt)),f(2),_("ngIf",t.editFilteredTeams2.length>0&&t.editTeam2Search),f(),_("ngIf",t.editTeam2Search&&t.editFilteredTeams2.length===0&&!t.getTeamNames().includes(t.editTeam2Search)),f(13),X("ngModel",t.editCompetitionSearch),_("ngModelOptions",It(16,Zt)),f(2),_("ngIf",t.editFilteredCompetitions.length>0&&t.editCompetitionSearch),f(),_("ngIf",t.editCompetitionSearch&&t.editFilteredCompetitions.length===0&&!t.getCompetitionNames().includes(t.editCompetitionSearch)),f(8),_("ngIf",t.showDeleteButtons)}}function a$(n,e){if(n&1&&(d(0,"span",277),m(1," \u2022 "),h()),n&2){let t=e.index,i=g(2);Se("fade",t>=i.remainingDots)}}function c$(n,e){if(n&1&&(d(0,"option",285),m(1),h()),n&2){let t=e.$implicit,i=g(3);_("value",t.name)("disabled",t.name===i.celebrationPlayer),f(),O(" ",t.name," ")}}function l$(n,e){if(n&1){let t=M();d(0,"button",286),E("click",function(){v(t);let r=g(3);return y(r.cancelCelebration())}),m(1," Annuler "),h()}}function u$(n,e){if(n&1){let t=M();d(0,"div",278)(1,"select",279),ee("ngModelChange",function(r){v(t);let o=g(2);return re(o.celebrationAssist,r)||(o.celebrationAssist=r),y(r)}),d(2,"option",280),m(3,"Aucun assist"),h(),T(4,c$,2,3,"option",281),h(),d(5,"div",282)(6,"button",283),E("click",function(){v(t);let r=g(2);return y(r.saveCelebrationWithAssist())}),m(7," Enregistrer "),h(),T(8,l$,2,0,"button",284),h()()}if(n&2){let t=g(2);f(),X("ngModel",t.celebrationAssist),f(3),_("ngForOf",t.getTeamPlayers(t.celebrationTeam===(t.selectedMatch==null?null:t.selectedMatch.equipe1)?1:2)),f(4),_("ngIf",t.celebrationConfig.showCancel)}}function d$(n,e){if(n&1){let t=M();d(0,"button",288),E("click",function(){v(t);let r=g(3);return y(r.saveDuel())}),m(1," Enregistrer "),h()}}function h$(n,e){if(n&1){let t=M();d(0,"button",286),E("click",function(){v(t);let r=g(3);return y(r.cancelCelebration())}),m(1," Annuler "),h()}}function f$(n,e){if(n&1&&(d(0,"div",282),T(1,d$,2,0,"button",287)(2,h$,2,0,"button",284),h()),n&2){let t=g(2);f(),_("ngIf",t.celebrationConfig.type==="duel"),f(),_("ngIf",t.celebrationConfig.showCancel)}}function p$(n,e){if(n&1&&(d(0,"div",267)(1,"div",268)(2,"div",269),m(3),h(),d(4,"div",270),m(5),h(),d(6,"div",271),m(7),h(),d(8,"div",272),m(9),h(),d(10,"div",273),T(11,a$,2,2,"span",274),h(),T(12,u$,9,3,"div",275)(13,f$,3,2,"div",276),h()()),n&2){let t=g();f(2),jn("color",t.celebrationConfig.color),f(),cn("",t.celebrationConfig.emoji,"",t.celebrationConfig.text,""),f(2),O(" ",t.celebrationPlayer," "),f(2),O(" ",t.celebrationTeam," "),f(2),K(t.celebrationConfig.emoji),f(2),_("ngForOf",It(10,lU).constructor(5)),f(),_("ngIf",t.celebrationConfig.showAssist),f(),_("ngIf",!t.celebrationConfig.showAssist)}}function m$(n,e){n&1&&(d(0,"span",314),m(1,"-"),h())}function g$(n,e){n&1&&b(0,"i",204)}function _$(n,e){n&1&&b(0,"i",205)}function v$(n,e){n&1&&b(0,"i",206)}function y$(n,e){if(n&1&&(Ae(0),T(1,g$,1,0,"i",201)(2,_$,1,0,"i",202)(3,v$,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function w$(n,e){n&1&&b(0,"i",204)}function C$(n,e){n&1&&b(0,"i",205)}function b$(n,e){n&1&&b(0,"i",206)}function E$(n,e){if(n&1&&(Ae(0),T(1,w$,1,0,"i",201)(2,C$,1,0,"i",202)(3,b$,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function I$(n,e){if(n&1){let t=M();d(0,"div")(1,"div",315),E("click",function(){v(t);let r=g(2);return y(r.selectPosition(1,"milieu-offensif"))}),d(2,"div",303)(3,"span",304),m(4,"MO"),h(),d(5,"span",306),T(6,E$,5,4,"ng-container",50),h()()()()}if(n&2){let t=g(2);f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-offensif"),f(4),_("ngIf",t.getPlayerForPosition(1,"milieu-offensif"))}}function T$(n,e){n&1&&b(0,"i",204)}function x$(n,e){n&1&&b(0,"i",205)}function D$(n,e){n&1&&b(0,"i",206)}function S$(n,e){if(n&1&&(Ae(0),T(1,T$,1,0,"i",201)(2,x$,1,0,"i",202)(3,D$,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function A$(n,e){n&1&&b(0,"i",204)}function M$(n,e){n&1&&b(0,"i",205)}function P$(n,e){n&1&&b(0,"i",206)}function O$(n,e){if(n&1&&(Ae(0),T(1,A$,1,0,"i",201)(2,M$,1,0,"i",202)(3,P$,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function R$(n,e){n&1&&b(0,"i",204)}function N$(n,e){n&1&&b(0,"i",205)}function k$(n,e){n&1&&b(0,"i",206)}function F$(n,e){if(n&1&&(Ae(0),T(1,R$,1,0,"i",201)(2,N$,1,0,"i",202)(3,k$,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function V$(n,e){n&1&&b(0,"i",204)}function L$(n,e){n&1&&b(0,"i",205)}function j$(n,e){n&1&&b(0,"i",206)}function U$(n,e){if(n&1&&(Ae(0),T(1,V$,1,0,"i",201)(2,L$,1,0,"i",202)(3,j$,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function B$(n,e){if(n&1){let t=M();d(0,"div")(1,"div",316),E("click",function(){v(t);let r=g(2);return y(r.selectPosition(1,"defenseur-gauche"))}),d(2,"div",303)(3,"span",304),m(4,"DG"),h(),d(5,"span",306),T(6,U$,5,4,"ng-container",50),h()()()()}if(n&2){let t=g(2);f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-gauche"),f(4),_("ngIf",t.getPlayerForPosition(1,"defenseur-gauche"))}}function $$(n,e){n&1&&b(0,"i",204)}function q$(n,e){n&1&&b(0,"i",205)}function z$(n,e){n&1&&b(0,"i",206)}function G$(n,e){if(n&1&&(Ae(0),T(1,$$,1,0,"i",201)(2,q$,1,0,"i",202)(3,z$,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function H$(n,e){if(n&1){let t=M();d(0,"div")(1,"div",317),E("click",function(){v(t);let r=g(2);return y(r.selectPosition(1,"defenseur-droit"))}),d(2,"div",303)(3,"span",304),m(4,"DD"),h(),d(5,"span",306),T(6,G$,5,4,"ng-container",50),h()()()()}if(n&2){let t=g(2);f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-droit"),f(4),_("ngIf",t.getPlayerForPosition(1,"defenseur-droit"))}}function W$(n,e){n&1&&b(0,"i",204)}function K$(n,e){n&1&&b(0,"i",205)}function Q$(n,e){n&1&&b(0,"i",206)}function Y$(n,e){if(n&1&&(Ae(0),T(1,W$,1,0,"i",201)(2,K$,1,0,"i",202)(3,Q$,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function J$(n,e){n&1&&(d(0,"span",314),m(1,"-"),h())}function Z$(n,e){n&1&&b(0,"i",204)}function X$(n,e){n&1&&b(0,"i",205)}function eq(n,e){n&1&&b(0,"i",206)}function tq(n,e){if(n&1&&(Ae(0),T(1,Z$,1,0,"i",201)(2,X$,1,0,"i",202)(3,eq,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function nq(n,e){n&1&&b(0,"i",204)}function iq(n,e){n&1&&b(0,"i",205)}function rq(n,e){n&1&&b(0,"i",206)}function oq(n,e){if(n&1&&(Ae(0),T(1,nq,1,0,"i",201)(2,iq,1,0,"i",202)(3,rq,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function sq(n,e){if(n&1){let t=M();d(0,"div")(1,"div",315),E("click",function(){v(t);let r=g(2);return y(r.selectPosition(2,"milieu-offensif"))}),d(2,"div",303)(3,"span",304),m(4,"MO"),h(),d(5,"span",306),T(6,oq,5,4,"ng-container",50),h()()()()}if(n&2){let t=g(2);f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-offensif"),f(4),_("ngIf",t.getPlayerForPosition(2,"milieu-offensif"))}}function aq(n,e){n&1&&b(0,"i",204)}function cq(n,e){n&1&&b(0,"i",205)}function lq(n,e){n&1&&b(0,"i",206)}function uq(n,e){if(n&1&&(Ae(0),T(1,aq,1,0,"i",201)(2,cq,1,0,"i",202)(3,lq,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function dq(n,e){n&1&&b(0,"i",204)}function hq(n,e){n&1&&b(0,"i",205)}function fq(n,e){n&1&&b(0,"i",206)}function pq(n,e){if(n&1&&(Ae(0),T(1,dq,1,0,"i",201)(2,hq,1,0,"i",202)(3,fq,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function mq(n,e){n&1&&b(0,"i",204)}function gq(n,e){n&1&&b(0,"i",205)}function _q(n,e){n&1&&b(0,"i",206)}function vq(n,e){if(n&1&&(Ae(0),T(1,mq,1,0,"i",201)(2,gq,1,0,"i",202)(3,_q,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function yq(n,e){n&1&&b(0,"i",204)}function wq(n,e){n&1&&b(0,"i",205)}function Cq(n,e){n&1&&b(0,"i",206)}function bq(n,e){if(n&1&&(Ae(0),T(1,yq,1,0,"i",201)(2,wq,1,0,"i",202)(3,Cq,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function Eq(n,e){if(n&1){let t=M();d(0,"div")(1,"div",316),E("click",function(){v(t);let r=g(2);return y(r.selectPosition(2,"defenseur-gauche"))}),d(2,"div",303)(3,"span",304),m(4,"DG"),h(),d(5,"span",306),T(6,bq,5,4,"ng-container",50),h()()()()}if(n&2){let t=g(2);f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-gauche"),f(4),_("ngIf",t.getPlayerForPosition(2,"defenseur-gauche"))}}function Iq(n,e){n&1&&b(0,"i",204)}function Tq(n,e){n&1&&b(0,"i",205)}function xq(n,e){n&1&&b(0,"i",206)}function Dq(n,e){if(n&1&&(Ae(0),T(1,Iq,1,0,"i",201)(2,Tq,1,0,"i",202)(3,xq,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function Sq(n,e){if(n&1){let t=M();d(0,"div")(1,"div",317),E("click",function(){v(t);let r=g(2);return y(r.selectPosition(2,"defenseur-droit"))}),d(2,"div",303)(3,"span",304),m(4,"DD"),h(),d(5,"span",306),T(6,Dq,5,4,"ng-container",50),h()()()()}if(n&2){let t=g(2);f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-droit"),f(4),_("ngIf",t.getPlayerForPosition(2,"defenseur-droit"))}}function Aq(n,e){n&1&&b(0,"i",204)}function Mq(n,e){n&1&&b(0,"i",205)}function Pq(n,e){n&1&&b(0,"i",206)}function Oq(n,e){if(n&1&&(Ae(0),T(1,Aq,1,0,"i",201)(2,Mq,1,0,"i",202)(3,Pq,1,0,"i",203),m(4),Me()),n&2){let t=e.ngIf;f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",t.name," ")}}function Rq(n,e){n&1&&b(0,"div")}function Nq(n,e){n&1&&b(0,"i",204)}function kq(n,e){n&1&&b(0,"i",205)}function Fq(n,e){n&1&&b(0,"i",206)}function Vq(n,e){if(n&1){let t=M();d(0,"button",244),E("click",function(){let r=v(t).$implicit,o=g(3);return y(o.assignPlayerToPosition(r.name))}),T(1,Nq,1,0,"i",201)(2,kq,1,0,"i",202)(3,Fq,1,0,"i",203),m(4),h()}if(n&2){let t=e.$implicit,i=g(3);f(),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",i.getPlayerFullDisplayText(t)," ")}}function Lq(n,e){if(n&1){let t=M();d(0,"div",239)(1,"div",240)(2,"h6"),m(3),h(),d(4,"div",241),T(5,Vq,5,4,"button",242),h(),d(6,"button",243),E("click",function(){v(t);let r=g(2);return y(r.selectedPosition=null)}),m(7," Annuler "),h()()()}if(n&2){let t=g(2);f(3),O("S\xE9lectionner un joueur pour ",t.selectedPosition.position,""),f(2),_("ngForOf",t.getTeamPlayers(t.selectedPosition.team))}}function jq(n,e){if(n&1){let t=M();d(0,"div",289)(1,"div",290)(2,"button",246),E("click",function(){v(t);let r=g();return y(r.closeDispositionModal())}),m(3,"\xD7"),h(),d(4,"h3",247),b(5,"i",291),m(6,"Disposition tactique "),h(),d(7,"div",292)(8,"button",293),E("click",function(){v(t);let r=g();return y(r.toggleDefendersAndMidfielders())}),m(9),h(),d(10,"div",294)(11,"div",295)(12,"button",296),E("click",function(){v(t);let r=g();return y(r.encodingGoalsEnabled=!r.encodingGoalsEnabled)}),b(13,"i",204),m(14),h(),d(15,"button",297),E("click",function(){v(t);let r=g();return y(r.encodingDuelsEnabled=!r.encodingDuelsEnabled)}),b(16,"i",205),m(17),h()()()(),d(18,"div",298)(19,"div",299)(20,"div",300)(21,"h5",192),m(22),h(),d(23,"div",301)(24,"div",302),E("click",function(){v(t);let r=g();return y(r.selectPosition(1,"attaquant"))}),d(25,"div",303)(26,"span",304),m(27,"AT"),h(),T(28,m$,2,0,"span",305),d(29,"span",306),T(30,y$,5,4,"ng-container",50),h()()(),T(31,I$,7,3,"div",50),d(32,"div",307),E("click",function(){v(t);let r=g();return y(r.selectPosition(1,"milieu-gauche"))}),d(33,"div",303)(34,"span",304),m(35,"MG"),h(),d(36,"span",306),T(37,S$,5,4,"ng-container",50),h()()(),d(38,"div",308),E("click",function(){v(t);let r=g();return y(r.selectPosition(1,"milieu-droit"))}),d(39,"div",303)(40,"span",304),m(41,"MD"),h(),d(42,"span",306),T(43,O$,5,4,"ng-container",50),h()()(),d(44,"div",309),E("click",function(){v(t);let r=g();return y(r.selectPosition(1,"defenseur-central"))}),d(45,"div",303)(46,"span",304),m(47,"DC"),h(),d(48,"span",306),T(49,F$,5,4,"ng-container",50),h()()(),T(50,B$,7,3,"div",50)(51,H$,7,3,"div",50),d(52,"div",310),E("click",function(){v(t);let r=g();return y(r.selectPosition(1,"gardien"))}),d(53,"div",303)(54,"span",304),m(55,"G"),h(),d(56,"span",306),T(57,Y$,5,4,"ng-container",50),h()()()()(),d(58,"div",311)(59,"h5",196),m(60),h(),d(61,"div",301)(62,"div",302),E("click",function(){v(t);let r=g();return y(r.selectPosition(2,"attaquant"))}),d(63,"div",303)(64,"span",304),m(65,"AT"),h(),T(66,J$,2,0,"span",305),d(67,"span",306),T(68,tq,5,4,"ng-container",50),h()()(),T(69,sq,7,3,"div",50),d(70,"div",307),E("click",function(){v(t);let r=g();return y(r.selectPosition(2,"milieu-gauche"))}),d(71,"div",303)(72,"span",304),m(73,"MG"),h(),d(74,"span",306),T(75,uq,5,4,"ng-container",50),h()()(),d(76,"div",308),E("click",function(){v(t);let r=g();return y(r.selectPosition(2,"milieu-droit"))}),d(77,"div",303)(78,"span",304),m(79,"MD"),h(),d(80,"span",306),T(81,pq,5,4,"ng-container",50),h()()(),d(82,"div",309),E("click",function(){v(t);let r=g();return y(r.selectPosition(2,"defenseur-central"))}),d(83,"div",303)(84,"span",304),m(85,"DC"),h(),d(86,"span",306),T(87,vq,5,4,"ng-container",50),h()()(),T(88,Eq,7,3,"div",50)(89,Sq,7,3,"div",50),d(90,"div",310),E("click",function(){v(t);let r=g();return y(r.selectPosition(2,"gardien"))}),d(91,"div",303)(92,"span",304),m(93,"G"),h(),d(94,"span",306),T(95,Oq,5,4,"ng-container",50),h()()(),T(96,Rq,1,0,"div",50),h()()(),d(97,"div",312)(98,"p",313),m(99," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),h()()(),T(100,Lq,8,2,"div",163),h()()}if(n&2){let t=g();f(9),O(" ",t.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),f(3),Se("btn-success",t.encodingGoalsEnabled)("btn-outline-success",!t.encodingGoalsEnabled),f(2),O(" Buts ",t.encodingGoalsEnabled?"ON":"OFF"," "),f(),Se("btn-success",t.encodingDuelsEnabled)("btn-outline-success",!t.encodingDuelsEnabled),f(2),O(" Duels ",t.encodingDuelsEnabled?"ON":"OFF"," "),f(5),K(t.selectedMatch.equipe1),f(3),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="attaquant"),f(3),_("ngIf",t.getPlayerForPosition(1,"attaquant")),f(2),_("ngIf",t.getPlayerForPosition(1,"attaquant")),f(),_("ngIf",t.showDefendersAndMidfielders),f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-gauche"),f(4),_("ngIf",t.getPlayerForPosition(1,"milieu-gauche")),f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-droit"),f(4),_("ngIf",t.getPlayerForPosition(1,"milieu-droit")),f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-central"),f(4),_("ngIf",t.getPlayerForPosition(1,"defenseur-central")),f(),_("ngIf",t.showDefendersAndMidfielders),f(),_("ngIf",t.showDefendersAndMidfielders),f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="gardien"),f(4),_("ngIf",t.getPlayerForPosition(1,"gardien")),f(3),K(t.selectedMatch.equipe2),f(3),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="attaquant"),f(3),_("ngIf",t.getPlayerForPosition(2,"attaquant")),f(2),_("ngIf",t.getPlayerForPosition(2,"attaquant")),f(),_("ngIf",t.showDefendersAndMidfielders),f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-gauche"),f(4),_("ngIf",t.getPlayerForPosition(2,"milieu-gauche")),f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-droit"),f(4),_("ngIf",t.getPlayerForPosition(2,"milieu-droit")),f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-central"),f(4),_("ngIf",t.getPlayerForPosition(2,"defenseur-central")),f(),_("ngIf",t.showDefendersAndMidfielders),f(),_("ngIf",t.showDefendersAndMidfielders),f(2),Se("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="gardien"),f(4),_("ngIf",t.getPlayerForPosition(2,"gardien")),f(),_("ngIf",t.showDefendersAndMidfielders),f(4),_("ngIf",t.selectedPosition&&t.selectedMatch)}}function Uq(n,e){if(n&1){let t=M();d(0,"div",147)(1,"div",171)(2,"div",172)(3,"div",37)(4,"h5",38),m(5,"Choisir le format d'export"),h(),d(6,"button",173),E("click",function(){v(t);let r=g();return y(r.closeExportModal())}),h()(),d(7,"div",42)(8,"div",318)(9,"input",319),ee("ngModelChange",function(r){v(t);let o=g();return re(o.exportFormats.txt,r)||(o.exportFormats.txt=r),y(r)}),h(),d(10,"label",320),m(11," Format TXT "),h()(),d(12,"div",318)(13,"input",321),ee("ngModelChange",function(r){v(t);let o=g();return re(o.exportFormats.csv,r)||(o.exportFormats.csv=r),y(r)}),h(),d(14,"label",322),m(15," Format CSV "),h()(),d(16,"div",318)(17,"input",323),ee("ngModelChange",function(r){v(t);let o=g();return re(o.exportFormats.json,r)||(o.exportFormats.json=r),y(r)}),h(),d(18,"label",324),m(19," Format JSON "),h()()(),d(20,"div",53)(21,"button",59),E("click",function(){v(t);let r=g();return y(r.closeExportModal())}),m(22,"Annuler"),h(),d(23,"button",325),E("click",function(){v(t);let r=g();return y(r.confirmExport())}),m(24,"Exporter"),h()()()()()}if(n&2){let t=g();f(9),X("ngModel",t.exportFormats.txt),f(4),X("ngModel",t.exportFormats.csv),f(4),X("ngModel",t.exportFormats.json),f(6),_("disabled",!t.isExportFormatSelected())}}function Bq(n,e){if(n&1){let t=M();d(0,"button",338),E("click",function(){v(t);let r=g(2);return y(r.showLocalStorageData())}),m(1,"Afficher les donn\xE9es sauvegard\xE9es"),h()}}function $q(n,e){if(n&1){let t=M();d(0,"button",339),E("click",function(){v(t);let r=g(2);return y(r.hideLocalStorageData())}),m(1,"Cacher les donn\xE9es sauvegard\xE9es"),h()}}function qq(n,e){if(n&1&&(d(0,"div",340)(1,"pre"),m(2),Fo(3,"json"),h()()),n&2){let t=g(2);f(2),K(Wb(3,1,t.localStorageData))}}function zq(n,e){if(n&1){let t=M();d(0,"div",147)(1,"div",171)(2,"div",172)(3,"div",37)(4,"h5",38),m(5,"BUUUT et c'est gratuit!"),h(),d(6,"button",173),E("click",function(){v(t);let r=g();return y(r.showHelpModal=!1)}),h()(),d(7,"div",42)(8,"h6"),m(9,"Fonctionnalit\xE9s principales :"),h(),d(10,"ul",326)(11,"li",327),b(12,"i",328),d(13,"strong"),m(14,"Cr\xE9er un match :"),h(),m(15,' Cliquez sur "Nouveau Match" pour enregistrer un nouveau match. '),h(),d(16,"li",327),b(17,"i",329),d(18,"strong"),m(19,"Enregistrer les buts :"),h(),m(20," Cliquez sur le score pour ajouter les buteurs et leurs minutes. "),h(),d(21,"li",327),b(22,"i",330),d(23,"strong"),m(24,"G\xE9rer les \xE9quipes :"),h(),m(25," Ajoutez des joueurs \xE0 vos \xE9quipes lors de l'enregistrement des buts. "),h(),d(26,"li",327),b(27,"i",331),d(28,"strong"),m(29,"Partager :"),h(),m(30," Partagez vos matchs via le bouton de partage. "),h(),d(31,"li",327),b(32,"i",332),d(33,"strong"),m(34,"Exporter :"),h(),m(35," Exportez vos matchs en TXT, CSV ou JSON. "),h(),d(36,"li",327),b(37,"i",333),d(38,"strong"),m(39,"Importer :"),h(),m(40," Importez des matchs depuis diff\xE9rents formats. "),h()()(),d(41,"div",53),T(42,Bq,2,0,"button",334)(43,$q,2,0,"button",335),d(44,"button",336),E("click",function(){v(t);let r=g();return y(r.toggleDeleteButtons())}),b(45,"i",34),m(46),h(),d(47,"button",59),E("click",function(){v(t);let r=g();return y(r.showHelpModal=!1)}),m(48,"Fermer"),h()(),T(49,qq,4,3,"div",337),h()()()}if(n&2){let t=g();f(42),_("ngIf",!t.showingLocalStorageData),f(),_("ngIf",t.showingLocalStorageData),f(),_("ngClass",t.showDeleteButtons?"btn-danger":"btn-outline-danger"),f(),_("ngClass",t.showDeleteButtons?"fa-shield-alt":"fa-unlock"),f(),O(" ",t.showDeleteButtons?"Prot\xE9ger":"Activer suppression"," "),f(3),_("ngIf",t.showingLocalStorageData)}}function Gq(n,e){if(n&1&&(d(0,"tr")(1,"td",345),m(2),h(),d(3,"td",345),m(4),h(),d(5,"td",345)(6,"strong"),m(7),h()(),d(8,"td",345),m(9),h(),d(10,"td",345),m(11),h(),d(12,"td",345),m(13),h(),d(14,"td",345),m(15),h(),d(16,"td",345),m(17),h(),d(18,"td",345),m(19),h(),d(20,"td",346),m(21),h()()),n&2){let t=e.$implicit,i=e.index;f(2),K(i+1),f(2),K(t.name),f(3),K(t.points),f(2),K(t.matches),f(2),K(t.wins),f(2),K(t.draws),f(2),K(t.losses),f(2),K(t.goalsFor),f(2),K(t.goalsAgainst),f(),_("ngClass",qb(12,uU,t.goalDifference>0,t.goalDifference<0)),f(),cn(" ",t.goalDifference>0?"+":"","",t.goalDifference," ")}}function Hq(n,e){if(n&1){let t=M();d(0,"div",35)(1,"div",341)(2,"div",37)(3,"h5",38),b(4,"i",342),m(5),h(),d(6,"button",40),E("click",function(){v(t);let r=g();return y(r.closeRankingModal())}),d(7,"span",41),m(8,"\xD7"),h()()(),d(9,"div",42)(10,"div",343)(11,"table",344)(12,"thead")(13,"tr")(14,"th",345),m(15,"Pos"),h(),d(16,"th",345),m(17,"\xC9quipe"),h(),d(18,"th",345),m(19,"Pts"),h(),d(20,"th",345),m(21,"J"),h(),d(22,"th",345),m(23,"G"),h(),d(24,"th",345),m(25,"N"),h(),d(26,"th",345),m(27,"P"),h(),d(28,"th",345),m(29,"BP"),h(),d(30,"th",345),m(31,"BC"),h(),d(32,"th",345),m(33,"Diff"),h()()(),d(34,"tbody"),T(35,Gq,22,15,"tr",111),h()()()(),d(36,"div",53)(37,"button",59),E("click",function(){v(t);let r=g();return y(r.closeRankingModal())}),b(38,"i",60),m(39,"Fermer "),h()()()()}if(n&2){let t=g();f(5),O(" Classement - ",t.selectedCompetitionFilter," "),f(30),_("ngForOf",t.currentRanking)}}function Wq(n,e){if(n&1){let t=M();d(0,"i",380),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.cyclePlayerType(r))}),h()}}function Kq(n,e){if(n&1){let t=M();d(0,"i",381),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.cyclePlayerType(r))}),h()}}function Qq(n,e){if(n&1){let t=M();d(0,"i",382),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.cyclePlayerType(r))}),h()}}function Yq(n,e){if(n&1){let t=M();d(0,"span",383),E("click",function(){v(t);let r=g().$implicit,o=g(2);return y(o.openPlayerGoalsModal(r))}),m(1),h()}if(n&2){let t=g().$implicit,i=g(2);f(),O(" ",i.getGoalsForPlayer(t.name)," \u26BD ")}}function Jq(n,e){if(n&1){let t=M();d(0,"button",384),E("click",function(){v(t);let r=g().index,o=g(2);return y(o.removePlayer(r))}),b(1,"i",70),h()}}function Zq(n,e){if(n&1){let t=M();d(0,"div",372)(1,"div",373)(2,"div",374),T(3,Wq,1,0,"i",363)(4,Kq,1,0,"i",364)(5,Qq,1,0,"i",365),h(),d(6,"input",375),ee("ngModelChange",function(r){let o=v(t).$implicit;return re(o.name,r)||(o.name=r),y(r)}),h(),d(7,"input",376),ee("ngModelChange",function(r){let o=v(t).$implicit;return re(o.number,r)||(o.number=r),y(r)}),h(),T(8,Yq,2,1,"span",377),d(9,"div",378),T(10,Jq,2,0,"button",379),h()()()}if(n&2){let t=e.$implicit,i=g(2);f(3),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="milieu"),f(),_("ngIf",t.type==="defenseur"),f(),X("ngModel",t.name),f(),X("ngModel",t.number),f(),_("ngIf",i.getGoalsForPlayer(t.name)>0),f(2),_("ngIf",i.showDeleteButtons)}}function Xq(n,e){if(n&1){let t=M();d(0,"i",380),E("click",function(){v(t);let r=g(2);return y(r.cycleNewPlayerType())}),h()}}function e6(n,e){if(n&1){let t=M();d(0,"i",381),E("click",function(){v(t);let r=g(2);return y(r.cycleNewPlayerType())}),h()}}function t6(n,e){if(n&1){let t=M();d(0,"i",382),E("click",function(){v(t);let r=g(2);return y(r.cycleNewPlayerType())}),h()}}function n6(n,e){if(n&1){let t=M();d(0,"div",347)(1,"div",348)(2,"div",37)(3,"h5",38),b(4,"i",349),m(5),h(),d(6,"button",40),E("click",function(){v(t);let r=g();return y(r.closeEditPlayersModal())}),d(7,"span",41),m(8,"\xD7"),h()()(),d(9,"div",42)(10,"div",350)(11,"h6",327),b(12,"i",351),m(13," Couleurs de l'\xE9quipe "),h(),d(14,"div",352)(15,"div")(16,"label",353),m(17,"Couleur primaire"),h(),d(18,"input",354),ee("ngModelChange",function(r){v(t);let o=g();return re(o.teamToEdit.primaryColor,r)||(o.teamToEdit.primaryColor=r),y(r)}),h()(),d(19,"div")(20,"label",353),m(21,"Couleur secondaire"),h(),d(22,"input",354),ee("ngModelChange",function(r){v(t);let o=g();return re(o.teamToEdit.secondaryColor,r)||(o.teamToEdit.secondaryColor=r),y(r)}),h()()()(),d(23,"div",355)(24,"h6",327),b(25,"i",356),m(26," Joueurs actuels "),h(),T(27,Zq,11,7,"div",357),h(),d(28,"div",358)(29,"h6",327),b(30,"i",56),m(31," Ajouter un nouveau joueur "),h(),d(32,"div",359)(33,"div",360)(34,"div",361)(35,"div",362),T(36,Xq,1,0,"i",363)(37,e6,1,0,"i",364)(38,t6,1,0,"i",365),h(),d(39,"input",366),ee("ngModelChange",function(r){v(t);let o=g();return re(o.newPlayerName,r)||(o.newPlayerName=r),y(r)}),E("keyup.enter",function(){v(t);let r=g();return y(r.addPlayer())}),h(),d(40,"input",367),ee("ngModelChange",function(r){v(t);let o=g();return re(o.newPlayerNumber,r)||(o.newPlayerNumber=r),y(r)}),E("keyup.enter",function(){v(t);let r=g();return y(r.addPlayer())}),h(),d(41,"button",288),E("click",function(){v(t);let r=g();return y(r.addPlayer())}),b(42,"i",368),d(43,"span",369),m(44,"Ajouter"),h()()()()()()(),d(45,"div",53)(46,"button",59),E("click",function(){v(t);let r=g();return y(r.closeEditPlayersModal())}),b(47,"i",60),m(48,"Fermer "),h(),d(49,"button",370),E("click",function(){v(t);let r=g();return y(r.savePlayersEdit())}),b(50,"i",371),m(51,"Enregistrer "),h()()()()}if(n&2){let t=g();f(5),O(" \xC9diter les joueurs de ",t.teamToEdit.name," "),f(13),X("ngModel",t.teamToEdit.primaryColor),f(4),X("ngModel",t.teamToEdit.secondaryColor),f(5),_("ngForOf",t.teamToEdit.players),f(9),_("ngIf",t.newPlayerType==="attaquant"),f(),_("ngIf",t.newPlayerType==="milieu"),f(),_("ngIf",t.newPlayerType==="defenseur"),f(),X("ngModel",t.newPlayerName),f(),X("ngModel",t.newPlayerNumber)}}function i6(n,e){if(n&1&&(d(0,"div",86),b(1,"i",390),m(2),Fo(3,"date"),d(4,"span",391),b(5,"i",392),m(6),h(),d(7,"span",391),m(8),h(),d(9,"span",391),m(10),h()()),n&2){let t=e.$implicit,i=g(3);f(2),O(" ",na(3,5,t.match.heureDebut,"dd/MM/yyyy HH:mm")," "),f(4),O(" ",t.minute,"'"),f(2),O("vs ",t.match.equipe1===(i.teamToEdit==null?null:i.teamToEdit.name)?t.match.equipe2:t.match.equipe1,""),f(2),cn("(score: ",t.match.score1," - ",t.match.score2,")")}}function r6(n,e){n&1&&(d(0,"div",393),m(1,"Aucun but trouv\xE9."),h())}function o6(n,e){if(n&1){let t=M();Ae(0),d(1,"div",42),T(2,i6,11,8,"div",387)(3,r6,2,0,"div",388),h(),d(4,"div",53)(5,"button",389),E("click",function(){v(t);let r=g(2);return y(r.closePlayerGoalsModal())}),m(6,"Fermer"),h()(),Me()}if(n&2){let t=g(2);f(2),_("ngForOf",t.getPlayerGoalsDetails(t.selectedPlayerGoalsModal)),f(),_("ngIf",t.getPlayerGoalsDetails(t.selectedPlayerGoalsModal).length===0)}}function s6(n,e){if(n&1){let t=M();d(0,"div",385)(1,"div",171)(2,"div",172)(3,"div",37)(4,"h5",38),m(5),h(),d(6,"button",386),E("click",function(){v(t);let r=g();return y(r.closePlayerGoalsModal())}),h()(),T(7,o6,7,2,"ng-container",50),h()()()}if(n&2){let t=g();f(5),O("Buts de ",t.selectedPlayerGoalsModal.name,""),f(2),_("ngIf",t.selectedPlayerGoalsModal)}}function a6(n,e){if(n&1&&(d(0,"div",403),b(1,"i",404),m(2),h()),n&2){let t=g(3);f(2),O(" ",t.importTeamCodeError," ")}}function c6(n,e){if(n&1){let t=M();d(0,"div")(1,"div",397),b(2,"i",398),d(3,"h6"),m(4,"Veuillez encoder le code Secret"),h(),d(5,"p",399),m(6,"Ce code permet d'acc\xE9der aux \xE9quipes partag\xE9es"),h()(),d(7,"div",327)(8,"label",400),m(9,"Code Secret"),h(),d(10,"input",401),ee("ngModelChange",function(r){v(t);let o=g(2);return re(o.importTeamCode,r)||(o.importTeamCode=r),y(r)}),E("keyup.enter",function(){v(t);let r=g(2);return y(r.validateImportTeamCode())}),h()(),T(11,a6,3,1,"div",402),h()}if(n&2){let t=g(2);f(10),X("ngModel",t.importTeamCode),_("ngModelOptions",It(3,Zt)),f(),_("ngIf",t.importTeamCodeError)}}function l6(n,e){n&1&&(d(0,"div",408),b(1,"i",409),d(2,"p",187),m(3,"Chargement des \xE9quipes..."),h()())}function u6(n,e){n&1&&(d(0,"div",408),b(1,"i",410),d(2,"p",411),m(3,"Aucune \xE9quipe disponible"),h()())}function d6(n,e){if(n&1){let t=M();d(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46)(4,"input",414),ee("ngModelChange",function(r){let o=v(t).$implicit;return re(o.selected,r)||(o.selected=r),y(r)}),h(),d(5,"label",415)(6,"span",63),m(7),h(),d(8,"small",64),m(9),h()()()()()()}if(n&2){let t=e.$implicit;f(4),_("value",t.id),X("ngModel",t.selected),_("ngModelOptions",It(7,Zt))("id","import-team-"+t.id),f(),_("for","import-team-"+t.id),f(2),K(t.name),f(2),O("(",(t.matchIds==null?null:t.matchIds.length)||0," matchs)")}}function h6(n,e){if(n&1&&(d(0,"small",421),m(1),h()),n&2){let t=e.$implicit;f(),K(t)}}function f6(n,e){if(n&1&&(d(0,"div",419),T(1,h6,2,1,"small",420),h()),n&2){let t=g(5);f(),_("ngForOf",t.importLogs)}}function p6(n,e){if(n&1&&(d(0,"div",416),b(1,"i",417),m(2," Importation en cours... "),T(3,f6,2,1,"div",418),h()),n&2){let t=g(4);f(3),_("ngIf",t.importLogs.length>0)}}function m6(n,e){if(n&1&&(d(0,"div")(1,"p",412),m(2," S\xE9lectionnez une ou plusieurs \xE9quipes \xE0 importer. Tous les matchs de ces \xE9quipes seront ajout\xE9s. "),h(),T(3,d6,10,8,"div",52)(4,p6,4,1,"div",413),h()),n&2){let t=g(3);f(3),_("ngForOf",t.firestoreTeams),f(),_("ngIf",t.importingTeams)}}function g6(n,e){if(n&1){let t=M();d(0,"div")(1,"div",405)(2,"button",216),E("click",function(){v(t);let r=g(2);return y(r.resetImportTeamCode())}),b(3,"i",406),m(4,"Retour "),h(),d(5,"span",399),m(6,"Code accept\xE9"),h()(),T(7,l6,4,0,"div",407)(8,u6,4,0,"div",407)(9,m6,5,2,"div",50),h()}if(n&2){let t=g(2);f(7),_("ngIf",t.isLoadingFirestoreTeams),f(),_("ngIf",!t.isLoadingFirestoreTeams&&t.firestoreTeams.length===0),f(),_("ngIf",!t.isLoadingFirestoreTeams&&t.firestoreTeams.length>0)}}function _6(n,e){if(n&1){let t=M();d(0,"div",422)(1,"button",423),E("click",function(){v(t);let r=g(2);return y(r.validateImportTeamCode())}),b(2,"i",424),m(3,"Valider le code "),h()()}if(n&2){let t=g(2);f(),_("disabled",!t.importTeamCode||t.importTeamCode.trim()==="")}}function v6(n,e){if(n&1){let t=M();d(0,"div",425)(1,"button",426),E("click",function(){v(t);let r=g(2);return y(r.importSelectedTeams())}),b(2,"i",58),m(3),h(),d(4,"button",427),E("click",function(){v(t);let r=g(2);return y(r.closeImportTeamModal())}),b(5,"i",60),m(6,"Fermer "),h()()}if(n&2){let t=g(2);f(),_("disabled",t.importingTeams||t.getSelectedTeamsCount()===0),f(2),O(" Importer ",t.getSelectedTeamsCount()>0?"("+t.getSelectedTeamsCount()+")":""," "),f(),_("disabled",t.importingTeams)}}function y6(n,e){if(n&1){let t=M();d(0,"div",35)(1,"div",394)(2,"div",37)(3,"h5",38),b(4,"i",58),m(5," Importer une \xE9quipe depuis Firestore "),h(),d(6,"button",40),E("click",function(){v(t);let r=g();return y(r.closeImportTeamModal())}),d(7,"span",41),m(8,"\xD7"),h()()(),d(9,"div",42),T(10,c6,12,4,"div",50)(11,g6,10,3,"div",50),h(),d(12,"div",53),T(13,_6,4,1,"div",395)(14,v6,7,3,"div",396),h()()()}if(n&2){let t=g();f(10),_("ngIf",!t.importTeamCodeEntered),f(),_("ngIf",t.importTeamCodeEntered),f(2),_("ngIf",!t.importTeamCodeEntered),f(),_("ngIf",t.importTeamCodeEntered)}}function w6(n,e){if(n&1){let t=M();d(0,"button",440),E("click",function(){v(t);let r=g().index,o=g(2);return y(o.removeNewTeamPlayer(r))}),b(1,"i",70),h()}if(n&2){let t=g(3);_("disabled",t.newTeamPlayers.length===1)}}function C6(n,e){if(n&1){let t=M();d(0,"div",433)(1,"input",434),ee("ngModelChange",function(r){let o=v(t).$implicit;return re(o.name,r)||(o.name=r),y(r)}),h(),d(2,"select",435),ee("ngModelChange",function(r){let o=v(t).$implicit;return re(o.type,r)||(o.type=r),y(r)}),d(3,"option",436),m(4,"Attaquant"),h(),d(5,"option",437),m(6,"Milieu"),h(),d(7,"option",438),m(8,"D\xE9fenseur"),h()(),T(9,w6,2,1,"button",439),h()}if(n&2){let t=e.$implicit,i=g(2);f(),X("ngModel",t.name),_("ngModelOptions",It(5,Zt)),f(),X("ngModel",t.type),_("ngModelOptions",It(6,Zt)),f(7),_("ngIf",i.showDeleteButtons)}}function b6(n,e){if(n&1){let t=M();d(0,"div",385)(1,"div",171)(2,"div",172)(3,"div",37)(4,"h5",38),m(5,"Cr\xE9er une nouvelle \xE9quipe"),h(),d(6,"button",386),E("click",function(){v(t);let r=g();return y(r.closeNewTeamModal())}),h()(),d(7,"div",42)(8,"div",327)(9,"label",400),m(10,"Nom de l'\xE9quipe"),h(),d(11,"input",428),ee("ngModelChange",function(r){v(t);let o=g();return re(o.newTeamName,r)||(o.newTeamName=r),y(r)}),h()(),d(12,"div",429),m(13,"Joueurs"),h(),T(14,C6,10,7,"div",430),d(15,"button",431),E("click",function(){v(t);let r=g();return y(r.addNewTeamPlayer())}),m(16,"+ Ajouter un joueur"),h()(),d(17,"div",53)(18,"button",389),E("click",function(){v(t);let r=g();return y(r.closeNewTeamModal())}),m(19,"Annuler"),h(),d(20,"button",432),E("click",function(){v(t);let r=g();return y(r.createNewTeam())}),m(21,"Cr\xE9er l'\xE9quipe"),h()()()()()}if(n&2){let t=g();f(11),X("ngModel",t.newTeamName),_("ngModelOptions",It(4,Zt)),f(3),_("ngForOf",t.newTeamPlayers),f(6),_("disabled",t.canCreateNewTeam())}}function E6(n,e){if(n&1){let t=M();d(0,"div",35)(1,"div",441)(2,"div",37)(3,"h5",38),b(4,"i",211),m(5," S\xE9lectionner une action "),h(),d(6,"button",40),E("click",function(){v(t);let r=g();return y(r.cancelActionSelection())}),d(7,"span",41),m(8,"\xD7"),h()()(),d(9,"div",42)(10,"p",327)(11,"strong"),m(12),h(),m(13),h(),d(14,"div",327)(15,"h6",212),m(16,"\u{1F7E6} Attaque"),h(),d(17,"div",442)(18,"div",443)(19,"button",444),E("click",function(){v(t);let r=g();return y(r.executeSelectedAction("but"))}),b(20,"i",73),m(21,"But "),h()(),d(22,"div",443)(23,"button",444),E("click",function(){v(t);let r=g();return y(r.executeSelectedAction("frappe"))}),b(24,"i",445),m(25,"Frappe "),h()(),d(26,"div",443)(27,"button",444),E("click",function(){v(t);let r=g();return y(r.executeSelectedAction("dribble"))}),b(28,"i",446),m(29,"Dribble "),h()()()(),d(30,"div",327)(31,"h6",212),m(32,"\u{1F7E8} Jeu"),h(),d(33,"div",442)(34,"div",443)(35,"button",444),E("click",function(){v(t);let r=g();return y(r.executeSelectedAction("tiki-taka"))}),b(36,"i",447),m(37,"Tiki-taka "),h()(),d(38,"div",443)(39,"button",444),E("click",function(){v(t);let r=g();return y(r.executeSelectedAction("contre-attaque"))}),b(40,"i",448),m(41,"Contre-attaque "),h()()()(),d(42,"div",327)(43,"h6",212),m(44,"\u{1F7E5} D\xE9fense"),h(),d(45,"div",442)(46,"div",443)(47,"button",444),E("click",function(){v(t);let r=g();return y(r.executeSelectedAction("interception"))}),b(48,"i",449),m(49,"Interception "),h()(),d(50,"div",443)(51,"button",444),E("click",function(){v(t);let r=g();return y(r.executeSelectedAction("duel"))}),b(52,"i",450),m(53,"Duel "),h()(),d(54,"div",443)(55,"button",444),E("click",function(){v(t);let r=g();return y(r.executeSelectedAction("faute"))}),b(56,"i",451),m(57,"Faute "),h()()()()(),d(58,"div",53)(59,"button",389),E("click",function(){v(t);let r=g();return y(r.cancelActionSelection())}),b(60,"i",60),m(61,"Annuler "),h()()()()}if(n&2){let t=g();f(12),K(t.pendingActionPlayer),f(),O(" - ",t.pendingActionTeam===1?t.selectedMatch==null?null:t.selectedMatch.equipe1:t.selectedMatch==null?null:t.selectedMatch.equipe2," ")}}function I6(n,e){n&1&&b(0,"i",204)}function T6(n,e){n&1&&b(0,"i",205)}function x6(n,e){n&1&&b(0,"i",206)}function D6(n,e){if(n&1){let t=M();d(0,"div",443)(1,"button",455),E("click",function(){let r=v(t).$implicit,o=g(2);return y(o.selectPlayerForAction(r.name))}),T(2,I6,1,0,"i",201)(3,T6,1,0,"i",202)(4,x6,1,0,"i",203),m(5),h()()}if(n&2){let t=e.$implicit,i=g(2);f(2),_("ngIf",t.type==="attaquant"),f(),_("ngIf",t.type==="defenseur"),f(),_("ngIf",t.type==="milieu"),f(),O(" ",i.getPlayerFullDisplayText(t)," ")}}function S6(n,e){if(n&1){let t=M();d(0,"div",35)(1,"div",452)(2,"div",37)(3,"h5",38),b(4,"i",453),m(5," S\xE9lectionner un joueur "),h(),d(6,"button",40),E("click",function(){v(t);let r=g();return y(r.closePlayerSelectionModal())}),d(7,"span",41),m(8,"\xD7"),h()()(),d(9,"div",42)(10,"p",327)(11,"strong"),m(12),h(),m(13),h(),d(14,"p",412),m(15,"S\xE9lectionnez le joueur :"),h(),d(16,"div",442),T(17,D6,6,4,"div",454),h()(),d(18,"div",53)(19,"button",389),E("click",function(){v(t);let r=g();return y(r.closePlayerSelectionModal())}),b(20,"i",60),m(21,"Annuler "),h()()()()}if(n&2){let t=g();f(12),K(t.selectedAction),f(),O(" pour ",t.pendingActionTeam===1?t.selectedMatch==null?null:t.selectedMatch.equipe1:t.selectedMatch==null?null:t.selectedMatch.equipe2," "),f(4),_("ngForOf",t.getTeamPlayers(t.pendingActionTeam))}}function A6(n,e){n&1&&(d(0,"div",474),b(1,"i",475),m(2," Code pr\xEAt \xE0 \xEAtre v\xE9rifi\xE9 "),h())}function M6(n,e){n&1&&(d(0,"div",476),b(1,"i",451),m(2," Le code doit contenir exactement 6 caract\xE8res "),h())}function P6(n,e){n&1&&(d(0,"span",477),m(1,"Charger"),h())}function O6(n,e){n&1&&(d(0,"span",477),m(1,"Chargement..."),h())}function R6(n,e){if(n&1){let t=M();d(0,"div",456)(1,"div",457)(2,"div",458)(3,"h5",459),b(4,"i",460),m(5," Code d'Acc\xE8s "),h(),d(6,"button",461),E("click",function(){v(t);let r=g();return y(r.closeSheetCodeModal())}),d(7,"span",41),m(8,"\xD7"),h()()(),d(9,"div",462)(10,"p",463),b(11,"i",464),m(12," Entrez un code d'acc\xE8s de 6 caract\xE8res pour charger les matchs d'une \xE9quipe ou d'une comp\xE9tition. "),h(),d(13,"div",465)(14,"label",466),m(15,"Code d'acc\xE8s :"),h(),d(16,"input",467),ee("ngModelChange",function(r){v(t);let o=g();return re(o.sheetCodeInput,r)||(o.sheetCodeInput=r),y(r)}),E("keyup.enter",function(){v(t);let r=g();return y(r.loadMatchesBySheetCode())})("input",function(){v(t);let r=g();return y(r.sheetCodeInput=r.sheetCodeInput.toUpperCase())}),h()(),T(17,A6,3,0,"div",468)(18,M6,3,0,"div",469),h(),d(19,"div",470)(20,"button",471),E("click",function(){v(t);let r=g();return y(r.closeSheetCodeModal())}),b(21,"i",60),m(22,"Annuler "),h(),d(23,"button",472),E("click",function(){v(t);let r=g();return y(r.loadMatchesBySheetCode())}),b(24,"i",34),T(25,P6,2,0,"span",473)(26,O6,2,0,"span",473),h()()()()}if(n&2){let t=g();f(16),X("ngModel",t.sheetCodeInput),f(),_("ngIf",t.sheetCodeInput.length===6),f(),_("ngIf",t.sheetCodeInput.length>0&&t.sheetCodeInput.length<6),f(5),_("disabled",t.sheetCodeInput.length!==6||t.isLoadingFromCode),f(),_("ngClass",t.isLoadingFromCode?"fa-spinner fa-spin":"fa-download"),f(),_("ngIf",!t.isLoadingFromCode),f(),_("ngIf",t.isLoadingFromCode)}}var sf=class n{static{this.competitionColors=new Map}constructor(e,t){this.fb=e,this.firestoreService=t,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.showOptionalFields=!1,this.editingButeur=null,this.teams=hg,this.selectedTeam=null,this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!0,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.selectedCompetitionFilter="",this.showCompetitionFilterModal=!1,this.remainingDots=5,this.usedColors=[],this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1},this.showHelpModal=!1,this.showRankingModal=!1,this.currentRanking=[],this.isSharingCompetition=!1,this.isSharingMatch=!1,this.isSharingTeam=!1,this.sharingLogs=[],this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerType="milieu",this.selectedPlayerGoalsIndex=null,this.selectedPlayerGoalsModal=null,this.team1Search="",this.team2Search="",this.filteredTeams1=[],this.filteredTeams2=[],this.showNewTeamModal=!1,this.editingCompetitionName="",this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}],this.competitionSearch="",this.filteredCompetitions=[],this.showImportTeamModal=!1,this.importTeamCode="",this.importTeamCodeEntered=!1,this.importTeamCodeError="",this.firestoreTeams=[],this.isLoadingFirestoreTeams=!1,this.importingTeams=!1,this.importLogs=[],this.disabledGoals=[],this.showingLocalStorageData=!1,this.localStorageData=null,this.showDeleteButtons=!1,this.editTeam1Search="",this.editTeam2Search="",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editCompetitionSearch="",this.editFilteredCompetitions=[],this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.showCelebration=!1,this.celebrationConfig=null,this.celebrationPlayer="",this.celebrationTeam="",this.celebrationAssist="",this.showActionSelectionModal=!1,this.showTeamActionModal=!1,this.showPlayerSelectionModal=!1,this.selectedAction="",this.pendingActionPlayer="",this.pendingActionTeam=null,this.availableActions=[],this.showPlayersList=!1,this.encodingGoalsEnabled=!1,this.encodingDuelsEnabled=!1,this.newTeamTargetField=null,this.selectedSeason="",this.displayPlayerAsNumber=!1,this.showSheetCodeModal=!1,this.sheetCodeInput="",this.isLoadingFromCode=!1,this.matchForm=this.fb.group({equipe1:[this.teams[0].name,et.required],equipe2:["",et.required],heureDebut:[this.getCurrentDateTime(),et.required],lieu:[""],competition:[""],commentaire:[""]}),this.scoreForm=this.fb.group({score1:[0,[et.required,et.min(0)]],score2:[0,[et.required,et.min(0)]]}),this.buteurForm=this.fb.group({nom:["",et.required],minute:["",[et.required,et.min(1),et.max(90)]],equipe:["",et.required],assist:[""]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(i=>{let r=this.buteurForm.get("assist");r&&r.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",et.required],equipe2:["",et.required],heureDebut:["",et.required],lieu:[""],competition:[""],commentaire:[""]})}ngOnInit(){return I(this,null,function*(){this.loadSavedData(),this.ensureAllTeamsPresent(),this.ensureMatchProperties(),this.startAutoSave(),yield this.loadMatchFromUrl(),this.updateFilteredTeams1(),this.updateFilteredTeams2(),this.selectedSeason=this.getCurrentSeason(),this.selectedCompetitionFilter=this.getCurrentSeason(),this.createU10U11CompetitionsIfNeeded()})}getCelebrationConfig(e){return{but:{type:"but",emoji:"\u26BD",text:"BUUUT !",color:"#6c757d",showAssist:!0,showCancel:!0},duel:{type:"duel",emoji:"\u{1F6E1}\uFE0F",text:"DUEL GAGN\xC9",color:"#6c757d",showAssist:!1,showCancel:!0},dribble:{type:"dribble",emoji:"\u{1F3C3}",text:"DRIBBLE",color:"#6c757d",showAssist:!1,showCancel:!1},interception:{type:"interception",emoji:"\u270B",text:"INTERCEPTION",color:"#6c757d",showAssist:!1,showCancel:!1},frappe:{type:"frappe",emoji:"\u{1F3AF}",text:"FRAPPE",color:"#6c757d",showAssist:!1,showCancel:!1},faute:{type:"faute",emoji:"\u26A0\uFE0F",text:"FAUTE",color:"#6c757d",showAssist:!1,showCancel:!1},"contre-attaque":{type:"contre-attaque",emoji:"\u26A1",text:"CONTRE-ATTAQUE",color:"#6c757d",showAssist:!1,showCancel:!1},"tiki-taka":{type:"tiki-taka",emoji:"\u{1F504}",text:"TIKI-TAKA",color:"#6c757d",showAssist:!1,showCancel:!1}}[e]}startGenericCelebration(e,t,i){console.log(`D\xE9marrage de la c\xE9l\xE9bration ${e} pour ${t}`),this.celebrationConfig=this.getCelebrationConfig(e),this.celebrationPlayer=t,this.celebrationTeam=i===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.celebrationAssist="",this.showCelebration=!0,this.remainingDots=5,this.startCelebrationTimer()}ensureMatchProperties(){console.log("V\xE9rification des propri\xE9t\xE9s des matches...");let e=!1;this.matches.forEach(t=>{t.dribbles||(t.dribbles=[],e=!0),t.interceptions||(t.interceptions=[],e=!0),t.frappes||(t.frappes=[],e=!0),t.fautes||(t.fautes=[],e=!0),t.contreAttaques||(t.contreAttaques=[],e=!0),t.tikiTakas||(t.tikiTakas=[],e=!0)}),e&&(console.log("Propri\xE9t\xE9s des matches mises \xE0 jour, sauvegarde..."),this.saveData())}createU10U11CompetitionsIfNeeded(){let e=this.matches.map(r=>r.competition).filter(r=>r!==void 0&&r!==""),t=e.includes("Championnat U10"),i=e.includes("Championnat U11")}loadMatchFromUrl(){return I(this,null,function*(){let e=new URLSearchParams(window.location.search),t=e.get("teamId"),i=e.get("competitionId"),r=e.get("matchId"),o=e.get("teamName");try{if(t){console.log("Chargement de l'\xE9quipe avec ID:",t);let s=yield this.firestoreService.getTeamById(t);if(s){console.log("\xC9quipe trouv\xE9e:",s.name);let a=yield this.firestoreService.getMatchesByTeam(t);a.length>0&&(console.log(`${a.length} matchs trouv\xE9s pour l'\xE9quipe ${s.name}`),this.matches=a,this.selectedTeamFilter=s.name,console.log(`Filtre d'\xE9quipe appliqu\xE9: ${s.name}`))}else console.warn("\xC9quipe non trouv\xE9e avec l'ID:",t)}else if(i){console.log("Chargement de la comp\xE9tition avec ID:",i);let s=yield this.firestoreService.getCompetitionById(i);if(s){console.log("Comp\xE9tition trouv\xE9e:",s.name);let a=yield this.firestoreService.getMatchesByCompetition(i);a.length>0&&(console.log(`${a.length} matchs trouv\xE9s pour la comp\xE9tition ${s.name}`),this.matches=a,this.selectedCompetitionFilter=s.name,console.log(`Filtre de comp\xE9tition appliqu\xE9: ${s.name}`))}else console.warn("Comp\xE9tition non trouv\xE9e avec l'ID:",i)}else if(r){console.log("Chargement du match avec ID:",r);let s=yield this.firestoreService.getMatchById(r);s?(console.log("Match trouv\xE9:",`${s.equipe1} vs ${s.equipe2}`),this.matches.find(c=>c.equipe1===s.equipe1&&c.equipe2===s.equipe2&&c.heureDebut.getTime()===s.heureDebut.getTime())||(this.matches.push(s),console.log("Match ajout\xE9 aux matchs locaux"))):console.warn("Match non trouv\xE9 avec l'ID:",r)}else o&&(console.log("Application du filtre d'\xE9quipe depuis l'URL:",o),this.selectedTeamFilter=o,console.log(`Filtre d'\xE9quipe appliqu\xE9 depuis l'URL: ${o}`))}catch(s){console.error("Erreur lors du chargement depuis l'URL:",s)}})}getCurrentDateTime(){let e=new Date,t=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-t).toISOString().slice(0,16)}onSubmit(){if(this.matchForm.valid){let t=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,i=H(P({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[],showElements:!0,updatedAt:new Date});console.log("Nouveau match cr\xE9\xE9:",i),this.matches.push(i),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1,this.showOptionalFields=!1}else console.log("MatchForm invalide - soumission annul\xE9e")}calculateElapsedMinutes(e){let t=new Date,i=new Date(e),r=new Date(i.getTime()),o=Math.floor((t.getTime()-r.getTime())/(1e3*60));return o>90?this.getLastScoredMinute()+1:Math.max(1,o)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(e=>e.minute))}selectMatch(e){this.selectedMatch=e,this.scoreForm.patchValue({score1:e.score1,score2:e.score2});let t=this.calculateElapsedMinutes(e.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.showPlayersList=!1,this.buteurForm.patchValue({nom:"",minute:t,equipe:1});let i=this.teams.find(o=>o.name===e.equipe1),r=this.teams.find(o=>o.name===e.equipe2);if(i?fg(i):this.teams.push({id:this.teams.length+1,name:e.equipe1,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),r?fg(r):this.teams.push({id:this.teams.length+1,name:e.equipe2,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),e.equipe1==="U10 Stand. Flawinne FC"){let o=this.teams.find(s=>s.name==="U10 Stand. Flawinne FC");this.selectedTeam=o||null}this.ensureAllTeamsPresent(),this.ensureScorersInTeams(e),this.maintainScoreConsistency()}updateScore(){if(!this.selectedMatch){console.log("selectedMatch null - mise \xE0 jour annul\xE9e");return}this.selectedMatch.score1=0,this.selectedMatch.score2=0,this.selectedMatch.buteurs=[],console.log("Score apr\xE8s mise \xE0 jour:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2,buteurs:this.selectedMatch.buteurs}),this.saveData()}modifierButeur(e,t){if(e<0||e>=this.matches.length){console.error("Index de match invalide:",e);return}let i=this.matches[e];if(!i){console.error("Match non trouv\xE9 \xE0 l'index:",e);return}if(!i.buteurs||!Array.isArray(i.buteurs)){console.error("Propri\xE9t\xE9 buteurs manquante ou invalide pour le match:",i);return}if(t<0||t>=i.buteurs.length){console.error("Index de buteur invalide:",t,"pour le match:",i);return}let r=i.buteurs[t];if(!r){console.error("Buteur non trouv\xE9 \xE0 l'index:",t);return}console.log("Match trouv\xE9:",i),console.log("Buteur \xE0 modifier:",r),this.isGoalDisabled(t)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===t)),console.log("But r\xE9activ\xE9 pour \xE9dition")),this.editingButeur={index:t,buteur:P({},r)},this.buteurForm.patchValue({nom:r.nom,minute:r.minute,equipe:r.equipe,assist:r.assist||""}),this.gererOuvertureFermetureButeurForm(!0),this.showButeurForm=!0}ajouterButeur(){if(this.buteurForm.valid&&this.selectedMatch){let e=this.buteurForm.value;console.log("Donn\xE9es du buteur:",e);let t={nom:e.nom,minute:e.minute,equipe:e.equipe,assist:e.assist||void 0};if(console.log("Nouveau buteur cr\xE9\xE9:",t),this.editingButeur){let i=this.matches.indexOf(this.selectedMatch);if(i<0||i>=this.matches.length){console.error("Index de match invalide pour modification:",i);return}let r=this.matches[i];if(!r||!r.buteurs||!Array.isArray(r.buteurs)){console.error("Match ou propri\xE9t\xE9 buteurs invalide pour modification:",r);return}if(this.editingButeur.index<0||this.editingButeur.index>=r.buteurs.length){console.error("Index de buteur invalide pour modification:",this.editingButeur.index);return}r.buteurs[this.editingButeur.index]=t,console.log("Buteur modifi\xE9 dans le match")}else this.selectedMatch.buteurs.push(t),console.log("Buteur ajout\xE9 au match"),t.equipe===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2));console.log("Match apr\xE8s ajout/modification:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1)}else console.log("ButeurForm invalide ou selectedMatch null - ajout annul\xE9")}annulerEditionButeur(){this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1),console.log("\xC9dition de buteur annul\xE9e")}supprimerButeur(e,t){if(e<0||e>=this.matches.length){console.error("Index de match invalide:",e);return}let i=this.matches[e];if(!i){console.error("Match non trouv\xE9 \xE0 l'index:",e);return}if(!i.buteurs||!Array.isArray(i.buteurs)){console.error("Propri\xE9t\xE9 buteurs manquante ou invalide pour le match:",i);return}if(t<0||t>=i.buteurs.length){console.error("Index de buteur invalide:",t,"pour le match:",i);return}let r=i.buteurs[t];if(!r){console.error("Buteur non trouv\xE9 \xE0 l'index:",t);return}confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le but de ${r.nom} \xE0 la minute ${r.minute} ?`)&&(console.log("Match:",i),console.log("Buteur \xE0 supprimer:",r),this.isGoalDisabled(t)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===t)),console.log("But d\xE9sactiv\xE9 retir\xE9 de la liste")),r.equipe===1?(i.score1=Math.max(0,i.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",i.score1)):(i.score2=Math.max(0,i.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",i.score2)),i.buteurs.splice(t,1),console.log("Buteur supprim\xE9 du match"),console.log("Match apr\xE8s suppression:",i),this.maintainScoreConsistency(),this.saveData())}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(r=>r.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(e){let t=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(t&&t.trim()){let i={id:this.teams.length+1,name:t.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(r)?.setValue(i.name)}}editNewTeam(e){let t=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(t&&t.trim()){let i={id:this.teams.length+1,name:t.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(r)?.setValue(i.name)}}addNewPlayer(e){if(e&&e.trim()){let t=this.teams.find(i=>i.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));t&&(t.players.some(i=>i.name===e.trim())||t.players.push({name:e.trim(),type:"milieu"}),this.buteurForm.get("nom")?.setValue(e.trim()))}}getTeamPlayers(e){if(!this.selectedMatch)return[];let t=e===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(r=>r.name===t)?.players||[]}getPlayerDisplayText(e){return this.displayPlayerAsNumber&&e.number?e.number.toString():e.name}getPlayerFullDisplayText(e){return e.number?`${e.name} (${e.number})`:e.name}quickAddGoal(e,t){if(console.log("quickAddGoal() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}let r={nom:e,minute:i,equipe:t};console.log("Nouveau buteur rapide cr\xE9\xE9:",r),this.selectedMatch.buteurs.push(r),console.log("Buteur ajout\xE9 au match"),t===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2)),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.startGenericCelebration("but",e,t),console.log("But ajout\xE9 rapidement avec succ\xE8s")}quickAddDuel(e,t){if(console.log("quickAddDuel() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.duelsGagnes||(this.selectedMatch.duelsGagnes=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouveau duel gagn\xE9 cr\xE9\xE9:",r),this.selectedMatch.duelsGagnes.push(r),console.log("Duel gagn\xE9 ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("duel",e,t),console.log("Duel gagn\xE9 ajout\xE9 rapidement avec succ\xE8s")}quickAddDribble(e,t){if(console.log("quickAddDribble() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.dribbles||(this.selectedMatch.dribbles=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouveau dribble cr\xE9\xE9:",r),this.selectedMatch.dribbles.push(r),console.log("Dribble ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("dribble",e,t),console.log("Dribble ajout\xE9 rapidement avec succ\xE8s")}quickAddInterception(e,t){if(console.log("quickAddInterception() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.interceptions||(this.selectedMatch.interceptions=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle interception cr\xE9\xE9e:",r),this.selectedMatch.interceptions.push(r),console.log("Interception ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("interception",e,t),console.log("Interception ajout\xE9e rapidement avec succ\xE8s")}quickAddFrappe(e,t){if(console.log("quickAddFrappe() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.frappes||(this.selectedMatch.frappes=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle frappe cr\xE9\xE9e:",r),this.selectedMatch.frappes.push(r),console.log("Frappe ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("frappe",e,t),console.log("Frappe ajout\xE9e rapidement avec succ\xE8s")}quickAddFaute(e,t){if(console.log("quickAddFaute() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.fautes||(this.selectedMatch.fautes=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle faute cr\xE9\xE9e:",r),this.selectedMatch.fautes.push(r),console.log("Faute ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("faute",e,t),console.log("Faute ajout\xE9e rapidement avec succ\xE8s")}quickAddContreAttaque(e,t){if(console.log("quickAddContreAttaque() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.contreAttaques||(this.selectedMatch.contreAttaques=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle contre-attaque cr\xE9\xE9e:",r),this.selectedMatch.contreAttaques.push(r),console.log("Contre-attaque ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("contre-attaque",e,t),console.log("Contre-attaque ajout\xE9e rapidement avec succ\xE8s")}quickAddTikiTaka(e,t){if(console.log("quickAddTikiTaka() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.tikiTakas||(this.selectedMatch.tikiTakas=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouveau tiki-taka cr\xE9\xE9:",r),this.selectedMatch.tikiTakas.push(r),console.log("Tiki-taka ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("tiki-taka",e,t),console.log("Tiki-taka ajout\xE9 rapidement avec succ\xE8s")}quickAddAction(e,t){if(console.log("quickAddAction() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - action rapide annul\xE9e");return}let i=this.getPlayerByName(t,e);if(!i){console.log("Joueur non trouv\xE9 - action rapide annul\xE9e");return}console.log("Type du joueur:",i.type);let r=["but","duel","dribble","interception","frappe","faute","contre-attaque","tiki-taka"];this.pendingActionPlayer=e,this.pendingActionTeam=t,this.availableActions=r,this.showActionSelectionModal=!0,console.log("Modal de s\xE9lection d'action affich\xE9 pour:",{player:e,team:t,type:i.type,actions:r})}executeSelectedAction(e){if(console.log("Ex\xE9cution de l'action s\xE9lectionn\xE9e:",e),!this.pendingActionTeam){console.error("Aucune \xE9quipe s\xE9lectionn\xE9e pour l'action");return}switch(this.showActionSelectionModal=!1,e){case"but":this.quickAddGoal(this.pendingActionPlayer,this.pendingActionTeam);break;case"duel":this.quickAddDuel(this.pendingActionPlayer,this.pendingActionTeam);break;case"dribble":this.quickAddDribble(this.pendingActionPlayer,this.pendingActionTeam);break;case"interception":this.quickAddInterception(this.pendingActionPlayer,this.pendingActionTeam);break;case"frappe":this.quickAddFrappe(this.pendingActionPlayer,this.pendingActionTeam);break;case"faute":this.quickAddFaute(this.pendingActionPlayer,this.pendingActionTeam);break;case"contre-attaque":this.quickAddContreAttaque(this.pendingActionPlayer,this.pendingActionTeam);break;case"tiki-taka":this.quickAddTikiTaka(this.pendingActionPlayer,this.pendingActionTeam);break;default:console.log("Action non reconnue:",e);break}this.pendingActionPlayer="",this.pendingActionTeam=null,this.availableActions=[]}cancelActionSelection(){console.log("S\xE9lection d'action annul\xE9e"),this.showActionSelectionModal=!1,this.pendingActionPlayer="",this.pendingActionTeam=null,this.availableActions=[]}toggleScoreModalMode(){this.showPlayersList=!this.showPlayersList,console.log("Mode modale bascul\xE9 vers:",this.showPlayersList?"joueurs":"actions")}toggleOptionalFields(){this.showOptionalFields=!this.showOptionalFields,console.log("Champs optionnels:",this.showOptionalFields?"affich\xE9s":"masqu\xE9s")}openMatchForm(){this.showMatchForm=!0,this.showOptionalFields=!1,console.log("Modale d'ajout de match ouverte")}closeMatchForm(){this.showMatchForm=!1,this.showOptionalFields=!1,console.log("Modale d'ajout de match ferm\xE9e")}saveGoalWithAssist(){if(console.log("saveGoalWithAssist() appel\xE9e"),!this.selectedMatch||!this.lastGoalScorer){console.log("selectedMatch ou lastGoalScorer null - sauvegarde annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)||this.selectedMatch.buteurs.length===0){console.error("Propri\xE9t\xE9 buteurs invalide ou vide:",this.selectedMatch.buteurs);return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.lastGoalScorer&&(e.assist=this.lastGoalAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showGoalCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelGoal(){if(console.log("cancelGoal() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)){console.error("Propri\xE9t\xE9 buteurs invalide:",this.selectedMatch.buteurs);return}if(this.selectedMatch.buteurs.length>0){let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];if(!e){console.error("Dernier buteur non trouv\xE9");return}console.log("Dernier buteur \xE0 supprimer:",e),e.equipe===1?(this.selectedMatch.score1=Math.max(0,this.selectedMatch.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2=Math.max(0,this.selectedMatch.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score2)),this.selectedMatch.buteurs.pop(),console.log("Dernier buteur supprim\xE9")}this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist=""}saveDuel(){console.log("saveDuel() appel\xE9e"),this.saveData(),this.showCelebration=!1,console.log("Duel gagn\xE9 sauvegard\xE9 avec succ\xE8s")}cancelDuel(){if(console.log("cancelDuel() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(this.selectedMatch.duelsGagnes&&this.selectedMatch.duelsGagnes.length>0){let e=this.selectedMatch.duelsGagnes[this.selectedMatch.duelsGagnes.length-1];console.log("Dernier duel \xE0 supprimer:",e),this.selectedMatch.duelsGagnes.pop(),console.log("Dernier duel supprim\xE9")}this.showCelebration=!1}supprimerDuel(e,t){if(console.log("supprimerDuel() appel\xE9e avec matchIndex:",e,"duelIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.duelsGagnes||t<0||t>=i.duelsGagnes.length){console.log("Index de duel invalide - suppression annul\xE9e");return}console.log("Match:",i),console.log("Duel \xE0 supprimer:",i.duelsGagnes[t]),i.duelsGagnes.splice(t,1),console.log("Duel supprim\xE9"),this.saveData(),console.log("Duel supprim\xE9 avec succ\xE8s")}supprimerDribble(e,t){if(console.log("supprimerDribble() appel\xE9e avec matchIndex:",e,"dribbleIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.dribbles||t<0||t>=i.dribbles.length){console.log("Index de dribble invalide - suppression annul\xE9e");return}i.dribbles.splice(t,1),this.saveData(),console.log("Dribble supprim\xE9 avec succ\xE8s")}supprimerInterception(e,t){if(console.log("supprimerInterception() appel\xE9e avec matchIndex:",e,"interceptionIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.interceptions||t<0||t>=i.interceptions.length){console.log("Index d'interception invalide - suppression annul\xE9e");return}i.interceptions.splice(t,1),this.saveData(),console.log("Interception supprim\xE9e avec succ\xE8s")}supprimerFrappe(e,t){if(console.log("supprimerFrappe() appel\xE9e avec matchIndex:",e,"frappeIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.frappes||t<0||t>=i.frappes.length){console.log("Index de frappe invalide - suppression annul\xE9e");return}i.frappes.splice(t,1),this.saveData(),console.log("Frappe supprim\xE9e avec succ\xE8s")}supprimerFaute(e,t){if(console.log("supprimerFaute() appel\xE9e avec matchIndex:",e,"fauteIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.fautes||t<0||t>=i.fautes.length){console.log("Index de faute invalide - suppression annul\xE9e");return}i.fautes.splice(t,1),this.saveData(),console.log("Faute supprim\xE9e avec succ\xE8s")}supprimerContreAttaque(e,t){if(console.log("supprimerContreAttaque() appel\xE9e avec matchIndex:",e,"contreAttaqueIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.contreAttaques||t<0||t>=i.contreAttaques.length){console.log("Index de contre-attaque invalide - suppression annul\xE9e");return}i.contreAttaques.splice(t,1),this.saveData(),console.log("Contre-attaque supprim\xE9e avec succ\xE8s")}supprimerTikiTaka(e,t){if(console.log("supprimerTikiTaka() appel\xE9e avec matchIndex:",e,"tikiTakaIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.tikiTakas||t<0||t>=i.tikiTakas.length){console.log("Index de tiki-taka invalide - suppression annul\xE9e");return}i.tikiTakas.splice(t,1),this.saveData(),console.log("Tiki-taka supprim\xE9 avec succ\xE8s")}supprimerMatch(e){if(!confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?"))return;let t=this.matches.findIndex(i=>i.id===e.id);t!==-1&&(this.matches.splice(t,1),this.saveData())}loadSavedData(){let e=localStorage.getItem("footballMatches");if(e){let t=JSON.parse(e);new Date(t.expirationDate)>new Date?(this.matches=t.matches.map(r=>H(P({},r),{heureDebut:new Date(r.heureDebut),duelsGagnes:r.duelsGagnes||[]})),t.teams&&(this.teams=t.teams,this.ensureAllTeamsPresent(),this.saveData())):localStorage.removeItem("footballMatches")}}ensureAllTeamsPresent(){hg.forEach(e=>{let t=this.teams.find(i=>i.name===e.name);if(!t)this.teams.push(P({},e)),console.log(`\xC9quipe ajout\xE9e: ${e.name}`);else if(e.players.length>0){let i=e.players.filter(r=>!t.players.some(o=>o.name===r.name));i.length>0&&(t.players.push(...i),console.log(`Joueurs ajout\xE9s \xE0 ${e.name}:`,i.map(r=>r.name)))}})}saveData(){let e=new Date;e.setMonth(e.getMonth()+3);let t={matches:this.matches,teams:this.teams,expirationDate:e.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(t))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(e,t){return e.buteurs.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c),o.assist&&(s.assist=o.assist)):r.push({nom:o.nom,minutes:[o.minute],assist:o.assist}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom))}getGroupedDuels(e,t){return e.duelsGagnes?e.duelsGagnes.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedDribbles(e,t){return e.dribbles?e.dribbles.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedInterceptions(e,t){return e.interceptions?e.interceptions.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedFrappes(e,t){return e.frappes?e.frappes.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedFautes(e,t){return e.fautes?e.fautes.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedContreAttaques(e,t){return e.contreAttaques?e.contreAttaques.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedTikiTakas(e,t){return e.tikiTakas?e.tikiTakas.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getAllGroupedStats(e,t){let i=[];return this.getGroupedDuels(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"duel",emoji:"\u{1F6E1}\uFE0F",color:"#6c757d"})}),this.getGroupedDribbles(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"dribble",emoji:"\u{1F3C3}",color:"#6c757d"})}),this.getGroupedInterceptions(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"interception",emoji:"\u270B",color:"#6c757d"})}),this.getGroupedFrappes(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"frappe",emoji:"\u{1F3AF}",color:"#6c757d"})}),this.getGroupedFautes(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"faute",emoji:"\u26A0\uFE0F",color:"#6c757d"})}),this.getGroupedContreAttaques(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"contre-attaque",emoji:"\u26A1",color:"#6c757d"})}),this.getGroupedTikiTakas(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"tiki-taka",emoji:"\u{1F504}",color:"#6c757d"})}),i}getStatTypeName(e){return{duel:"Duels gagn\xE9s",dribble:"Dribbles",interception:"Interceptions",frappe:"Frappes",faute:"Fautes","contre-attaque":"Contre-attaques","tiki-taka":"Tiki-taka"}[e]||e}getAllStatsForModal(){if(!this.selectedMatch)return[];let e=[];return this.selectedMatch.duelsGagnes&&this.selectedMatch.duelsGagnes.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"duel",emoji:"\u{1F6E1}\uFE0F",color:"#6c757d",index:i,supprimerFn:()=>this.supprimerDuel(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.dribbles&&this.selectedMatch.dribbles.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"dribble",emoji:"\u{1F3C3}",color:"#6c757d",index:i,supprimerFn:()=>this.supprimerDribble(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.interceptions&&this.selectedMatch.interceptions.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"interception",emoji:"\u270B",color:"#6c757d",index:i,supprimerFn:()=>this.supprimerInterception(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.frappes&&this.selectedMatch.frappes.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"frappe",emoji:"\u{1F3AF}",color:"#6c757d",index:i,supprimerFn:()=>this.supprimerFrappe(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.fautes&&this.selectedMatch.fautes.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"faute",emoji:"\u26A0\uFE0F",color:"#6c757d",index:i,supprimerFn:()=>this.supprimerFaute(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.contreAttaques&&this.selectedMatch.contreAttaques.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"contre-attaque",emoji:"\u26A1",color:"#6c757d",index:i,supprimerFn:()=>this.supprimerContreAttaque(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.tikiTakas&&this.selectedMatch.tikiTakas.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"tiki-taka",emoji:"\u{1F504}",color:"#6c757d",index:i,supprimerFn:()=>this.supprimerTikiTaka(this.matches.indexOf(this.selectedMatch),i)})}),e.sort((t,i)=>t.minute-i.minute)}getActiveGroupedScorers(e,t){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===t&&!this.isGoalDisabledForMatch(e,r.index)).reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}getDisabledGroupedScorers(e,t){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===t&&this.isGoalDisabledForMatch(e,r.index)&&r.buteur.nom!=="Joueur non list\xE9").reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(e,t){this.selectedPosition={team:e,position:t};let i=this.getPlayerForPosition(e,t);if(i&&this.selectedMatch){let r=t.includes("defenseur")||t==="gardien";console.log("isDefensivePosition"+r),r?this.encodingDuelsEnabled&&this.quickAddDuel(i.name,e):this.encodingGoalsEnabled&&this.quickAddGoal(i.name,e)}}assignPlayerToPosition(e){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let t=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[t]=e,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(e,t){if(this.selectedMatch?.positions){let i=`${e}_${t}`,r=this.selectedMatch.positions[i];if(r)return this.getPlayerByName(e,r)}return null}getPlayerByName(e,t){let i=this.teams.find(r=>r.name===(e===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));return i&&i.players.find(r=>r.name===t)||null}openDispositionModal(e){this.selectedMatch=e,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(e){e.showElements=!e.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(e){this.selectedMatch=e,this.matchEditForm.patchValue({equipe1:e.equipe1,equipe2:e.equipe2,heureDebut:this.getNearestValidTime(e.heureDebut),lieu:e.lieu,competition:e.competition,commentaire:e.commentaire}),this.editTeam1Search=e.equipe1,this.editTeam2Search=e.equipe2,this.editCompetitionSearch=e.competition||"",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editFilteredCompetitions=[],this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(e){let t=new Date(e);return t.getMinutes()<30?t.setMinutes(0):t.setMinutes(30),t.toISOString().slice(0,16)}onSubmitMatchEdit(){if(this.matchEditForm.valid&&this.selectedMatch){let e=this.matchEditForm.value;this.selectedMatch.equipe1=e.equipe1,this.selectedMatch.equipe2=e.equipe2,this.selectedMatch.heureDebut=new Date(e.heureDebut),this.selectedMatch.lieu=e.lieu,this.selectedMatch.competition=e.competition,this.selectedMatch.commentaire=e.commentaire,this.saveData(),this.showMatchEditForm=!1}}get filteredMatches(){return this.matches.filter(e=>{let t=!this.selectedTeamFilter||e.equipe1===this.selectedTeamFilter||e.equipe2===this.selectedTeamFilter,i=this.selectedCompetitionFilter&&this.selectedCompetitionFilter.includes("-"),r=!0;return this.selectedCompetitionFilter&&(i?r=this.getSeasonFromDate(e.heureDebut)===this.selectedCompetitionFilter:r=e.competition===this.selectedCompetitionFilter),t&&r})}closeTeamFilterModal(){this.showTeamFilterModal=!1}getMatchesPlayedByTeam(e){return this.matches.filter(t=>t.equipe1===e||t.equipe2===e).length}get filteredTeamsForModal(){let e;if(!this.selectedCompetitionFilter)e=this.teams;else if(this.selectedCompetitionFilter.includes("-")){let i=new Set;this.matches.forEach(r=>{this.getSeasonFromDate(r.heureDebut)===this.selectedCompetitionFilter&&(i.add(r.equipe1),i.add(r.equipe2))}),e=this.teams.filter(r=>i.has(r.name))}else{let i=new Set;this.matches.forEach(r=>{r.competition===this.selectedCompetitionFilter&&(i.add(r.equipe1),i.add(r.equipe2))}),e=this.teams.filter(r=>i.has(r.name))}return e.sort((t,i)=>{let r=this.getMatchesPlayedByTeam(t.name);return this.getMatchesPlayedByTeam(i.name)-r})}shareMatch(e){return I(this,null,function*(){this.isSharingMatch=!0;try{let t=yield this.firestoreService.saveMatch(e),i=`${window.location.origin}?matchId=${t}`,r=`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${this.getGroupedScorers(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${e.equipe2}:
${this.getGroupedScorers(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

Duels gagn\xE9s :
${e.equipe1}:
${this.getGroupedDuels(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

${e.equipe2}:
${this.getGroupedDuels(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

Lien direct vers le match : ${i}
      `.trim();if(navigator.share)yield navigator.share({title:`${e.equipe1} vs ${e.equipe2}`,text:r,url:i});else{let o=document.createElement("textarea");o.value=r,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}catch(t){console.error("Erreur lors de la sauvegarde ou du partage du match:",t),alert("Une erreur est survenue lors de la sauvegarde ou du partage du match.")}finally{this.isSharingMatch=!1}})}getButeurDisplay(e){let t=`\u26BD ${e.nom} (${e.minute}')`;return e.assist&&(t+=` (Assist: ${e.assist})`),t}saveMatchToFirestore(e){return I(this,null,function*(){try{let t=yield this.firestoreService.saveMatch(e);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",t),window.location.href=`/match/${t}`}catch(t){console.error("Erreur lors de l'enregistrement du match dans Firestore:",t)}})}closeCompetitionFilterModal(){this.showCompetitionFilterModal=!1}openCompetitionFilterModal(){this.selectedSeason=this.getCurrentSeason(),this.showCompetitionFilterModal=!0}onSeasonChanged(e){this.selectedSeason=e,this.selectedCompetitionFilter=e}onCompetitionSelected(e){this.selectedCompetitionFilter=e,this.showCompetitionFilterModal=!1}onCompetitionAdded(e){return I(this,null,function*(){try{console.log("Ajout de la comp\xE9tition:",e);let t={equipe1:"\xC9quipe temporaire",equipe2:"\xC9quipe temporaire",score1:0,score2:0,buteurs:[],heureDebut:new Date,lieu:"",positions:{},showElements:!0,competition:e.name,updatedAt:new Date,duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[]};this.matches.push(t),this.saveData(),this.showCompetitionFilterModal=!1,alert(`Comp\xE9tition "${e.name}" ajout\xE9e avec succ\xE8s !`)}catch(t){console.error("Erreur lors de l'ajout de la comp\xE9tition:",t),alert("Erreur lors de l'ajout de la comp\xE9tition.")}})}onCompetitionUpdated(e){return I(this,null,function*(){try{console.log("Mise \xE0 jour de la comp\xE9tition:",e);let{oldName:t,newCompetition:i}=e;t!==i.name&&(this.matches.forEach(r=>{r.competition===t&&(r.competition=i.name,r.updatedAt=new Date)}),this.selectedCompetitionFilter===t&&(this.selectedCompetitionFilter=i.name),this.saveData(),alert(`Comp\xE9tition "${t}" mise \xE0 jour vers "${i.name}" avec succ\xE8s !`)),this.showCompetitionFilterModal=!1}catch(t){console.error("Erreur lors de la mise \xE0 jour de la comp\xE9tition:",t),alert("Erreur lors de la mise \xE0 jour de la comp\xE9tition.")}})}onCompetitionDeleted(e){return I(this,null,function*(){try{if(console.log("Suppression de la comp\xE9tition:",e),!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la comp\xE9tition "${e}" ?

Cette action supprimera \xE9galement tous les matchs associ\xE9s.`))return;this.matches=this.matches.filter(t=>t.competition!==e),this.selectedCompetitionFilter===e&&(this.selectedCompetitionFilter=""),this.saveData(),this.showCompetitionFilterModal=!1,alert(`Comp\xE9tition "${e}" supprim\xE9e avec succ\xE8s !`)}catch(t){console.error("Erreur lors de la suppression de la comp\xE9tition:",t),alert("Erreur lors de la suppression de la comp\xE9tition.")}})}assignSeasonToCompetition(e,t){return I(this,null,function*(){try{console.log(`Attribution de la saison ${t} \xE0 la comp\xE9tition ${e}`);let i=this.matches.filter(r=>r.competition===e);if(i.length===0){alert(`Aucun match trouv\xE9 pour la comp\xE9tition "${e}"`);return}i.forEach(r=>{let[o]=t.split("-"),s=new Date(parseInt(o),7,1);r.heureDebut=s,r.updatedAt=new Date}),this.saveData(),alert(`Saison "${t}" attribu\xE9e \xE0 la comp\xE9tition "${e}" avec succ\xE8s !`)}catch(i){console.error("Erreur lors de l'attribution de la saison:",i),alert("Une erreur est survenue lors de l'attribution de la saison.")}})}assignSeasonAutomatically(e,t){try{console.log(`Attribution automatique de la saison ${t} \xE0 la comp\xE9tition ${e}`);let i=this.matches.filter(r=>r.competition===e);if(i.length===0)return;i.forEach(r=>{r.updatedAt=new Date}),this.saveData()}catch(i){console.error("Erreur lors de l'attribution automatique de la saison:",i)}}isCompetitionWithoutSeason(e){let t=this.matches.filter(r=>r.competition===e);return t.length===0?!1:!t.some(r=>{if(!r.heureDebut)return!1;try{let o=this.getSeasonFromDate(r.heureDebut);return o&&o!==""}catch{return!1}})}getSuggestedSeasonForCompetition(e){let t=this.matches.filter(o=>o.competition===e);if(t.length===0)return null;let r=t.sort((o,s)=>!o.heureDebut||!s.heureDebut?0:o.heureDebut.getTime()-s.heureDebut.getTime())[0];if(!r.heureDebut)return null;try{return this.getSeasonFromDate(r.heureDebut)}catch{return null}}onAssignSeason(e){this.assignSeasonToCompetition(e.competition,e.season)}getCurrentSeason(){let e=new Date,t=e.getFullYear();return e.getMonth()+1>=8?`${t}-${t+1}`:`${t-1}-${t}`}getSeasonFromDate(e){let t;!e||isNaN(new Date(e).getTime())?t=new Date:t=new Date(e);let i=t.getFullYear();return t.getMonth()+1>=8?`${i}-${i+1}`:`${i-1}-${i}`}getCompetitionsBySeason(e){(!e||e==="")&&(e=this.getCurrentSeason());let t=this.matches.filter(o=>this.getSeasonFromDate(o.heureDebut)===e).map(o=>o.competition).filter(o=>o!==void 0&&o!==""),i=this.matches.filter(o=>{if(!o.competition||o.competition==="")return!1;let a=this.matches.filter(c=>c.competition===o.competition).reduce((c,l)=>l.heureDebut<c.heureDebut?l:c);return o.id===a.id&&this.getSeasonFromDate(o.heureDebut)===e?(this.assignSeasonAutomatically(o.competition,e),!0):!1}).map(o=>o.competition).filter(o=>o!==void 0&&o!==""),r=[...t,...i];return[...new Set(r)]}getAvailableSeasons(){return this.matches.map(t=>this.getSeasonFromDate(t.heureDebut)).filter((t,i,r)=>r.indexOf(t)===i).sort((t,i)=>{let r=parseInt(t.split("-")[0]);return parseInt(i.split("-")[0])-r})}get uniqueCompetitions(){return this.getCompetitionsBySeason(this.selectedSeason)}getCompetitionBadgeColor(e){let t=["badge-pastel-primary","badge-pastel-secondary","badge-pastel-success","badge-pastel-danger","badge-pastel-warning","badge-pastel-info","badge-pastel-dark","badge-pastel-purple","badge-pastel-pink","badge-pastel-teal"];if(n.competitionColors.has(e))return n.competitionColors.get(e);let i=e.split("").reduce((s,a)=>a.charCodeAt(0)+((s<<5)-s),0),r=Math.abs(i)%t.length,o=t[r];return n.competitionColors.set(e,o),o}getScoreColor(e){let t=this.getMatchesPlayedByTeam(e.equipe1),i=this.getMatchesPlayedByTeam(e.equipe2);if(t===i)return"btn-score-light";let r=t>i?e.equipe1:e.equipe2,o=t>i?e.score1:e.score2,s=t>i?e.score2:e.score1;return o>s?"btn-score-success":o<s?"btn-score-danger":"btn-score-light"}closeSheetCodeModal(){this.showSheetCodeModal=!1,this.sheetCodeInput="",this.isLoadingFromCode=!1}loadMatchesBySheetCode(){return I(this,null,function*(){if(this.sheetCodeInput.length!==6){alert("Le code doit contenir exactement 6 caract\xE8res.");return}this.isLoadingFromCode=!0;try{console.log("Chargement des matchs avec le code:",this.sheetCodeInput),alert("Fonctionnalit\xE9 en cours de d\xE9veloppement. Code saisi : "+this.sheetCodeInput),this.closeSheetCodeModal()}catch(e){console.error("Erreur lors du chargement:",e),alert("Erreur lors du chargement des donn\xE9es. V\xE9rifiez le code et r\xE9essayez.")}finally{this.isLoadingFromCode=!1}})}hexToRgba(e,t){if(!e)return`rgba(0,0,0,${t})`;let i=e.replace("#",""),r=parseInt(i.length===3?i.split("").map(c=>c+c).join(""):i,16),o=r>>16&255,s=r>>8&255,a=r&255;return`rgba(${o}, ${s}, ${a}, ${t})`}getMatchBackground(e){let t=this.teams.find(u=>u.name===e.equipe1),i=this.teams.find(u=>u.name===e.equipe2),r=t?.primaryColor||"#f8f9fa",o=t?.secondaryColor||r,s=i?.primaryColor||"#f8f9fa",a=i?.secondaryColor||s,c=`linear-gradient(45deg, 
      ${this.hexToRgba(r,.25)} 0%, 
      ${this.hexToRgba(o,.12)} 5%, 
      ${this.hexToRgba(o,.05)} 10%, 
      transparent 18%)`;return{background:`${`linear-gradient(-45deg, 
      ${this.hexToRgba(s,.25)} 0%, 
      ${this.hexToRgba(a,.12)} 5%, 
      ${this.hexToRgba(a,.05)} 10%, 
      transparent 18%)`}, ${c}, linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)`}}exportMatches(){this.showExportModal=!0}closeExportModal(){this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1}}isExportFormatSelected(){return this.exportFormats.txt||this.exportFormats.csv||this.exportFormats.json}confirmExport(){return I(this,null,function*(){if(this.exportFormats.txt){let e=this.exportToTxt();this.downloadFile(e,"matches.txt")}if(this.exportFormats.csv){let e=this.exportToCsv();this.downloadFile(e,"matches.csv")}if(this.exportFormats.json){let e=this.exportToJson();this.downloadFile(e,"matches.json")}this.closeExportModal()})}exportToTxt(){let e=`FOOTBALL MATCHES EXPORT
`;e+=`========================

`;for(let t of this.getSortedMatches()){if(e+=`Match: ${t.equipe1} vs ${t.equipe2}
`,e+=`Score: ${t.score1} - ${t.score2}
`,e+=`Date: ${t.heureDebut.toLocaleString("fr-FR")}
`,t.lieu&&(e+=`Lieu: ${t.lieu}
`),t.competition&&(e+=`Comp\xE9tition: ${t.competition}
`),t.buteurs.length>0){e+=`
Buteurs:
`;let i=this.getGroupedScorers(t,1),r=this.getGroupedScorers(t,2);if(i.length>0){e+=`${t.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}if(r.length>0){e+=`${t.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}}if(t.duelsGagnes&&t.duelsGagnes.length>0){e+=`
Duels gagn\xE9s:
`;let i=this.getGroupedDuels(t,1),r=this.getGroupedDuels(t,2);if(i.length>0){e+=`${t.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}if(r.length>0){e+=`${t.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}}e+=`
`+"=".repeat(50)+`

`}return e}exportToCsv(){let e=`\xC9quipe 1,\xC9quipe 2,Score 1,Score 2,Date,Lieu,Comp\xE9tition,Buteurs \xC9quipe 1,Buteurs \xC9quipe 2,Duels \xC9quipe 1,Duels \xC9quipe 2
`;for(let t of this.getSortedMatches()){let i=this.getGroupedScorers(t,1),r=this.getGroupedScorers(t,2),o=this.getGroupedDuels(t,1),s=this.getGroupedDuels(t,2),a=i.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),c=r.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),l=o.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),u=s.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; ");e+=`"${t.equipe1}","${t.equipe2}",${t.score1},${t.score2},"${t.heureDebut.toLocaleString("fr-FR")}","${t.lieu||""}","${t.competition||""}","${a}","${c}","${l}","${u}"
`}return e}exportToJson(){let e=this.getSortedMatches().map(t=>({equipe1:t.equipe1,equipe2:t.equipe2,score1:t.score1,score2:t.score2,heureDebut:t.heureDebut.toISOString(),lieu:t.lieu,competition:t.competition,buteurs:t.buteurs,duelsGagnes:t.duelsGagnes||[]}));return JSON.stringify(e,null,2)}downloadFile(e,t){let i=new Blob([e],{type:"text/plain"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=t,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(r),document.body.removeChild(o)}importMatches(){let e=document.createElement("input");e.type="file",e.accept=".txt,.csv,.json",e.onchange=t=>{let i=t.target.files?.[0];if(i){let r=new FileReader;r.onload=o=>{let s=o.target?.result,a=i.name.split(".").pop()?.toLowerCase();try{let c=[];switch(a){case"txt":c=this.parseTxtImport(s);break;case"csv":c=this.parseCsvImport(s);break;case"json":c=this.parseJsonImport(s);break;default:throw new Error("Format de fichier non support\xE9")}c.length>0?confirm(`Voulez-vous importer ${c.length} match(s) ?`)&&(this.matches.push(...c),this.saveData(),alert("Import r\xE9ussi !")):alert("Aucun match trouv\xE9 dans le fichier.")}catch(c){console.error("Erreur lors de l'import:",c),alert("Erreur lors de l'import du fichier. V\xE9rifiez le format.")}},r.readAsText(i)}},e.click()}parseTxtImport(e){let t=[],i=e.split("----------------------------------------");for(let r of i){if(!r.trim())continue;let o=r.trim().split(`
`),s={id:this.matches.length+t.length+1,score1:0,score2:0,buteurs:[]};for(let a of o)if(a.startsWith("Match : ")){let c=a.replace("Match : ","").split(" vs ");s.equipe1=c[0].trim(),s.equipe2=c[1].trim()}else if(a.startsWith("Score : ")){let c=a.replace("Score : ","").split(" - ");s.score1=parseInt(c[0]),s.score2=parseInt(c[1])}else if(a.startsWith("Date : "))s.heureDebut=new Date(a.replace("Date : ",""));else if(a.startsWith("Lieu : "))s.lieu=a.replace("Lieu : ","").trim();else if(a.startsWith("Comp\xE9tition : "))s.competition=a.replace("Comp\xE9tition : ","").trim();else if(a.includes(":")){let[c,l]=a.split(":"),u=c.replace("-","").trim(),p=l.match(/\d+/g),w=l.match(/\(Assist: (.*?)\)/);p&&p.forEach(C=>{s.buteurs?.push({nom:u,minute:parseInt(C),equipe:a.includes(s.equipe1)?1:2,assist:w?w[1]:void 0})})}s.equipe1&&s.equipe2&&t.push(s)}return t}parseCsvImport(e){let t=e.trim().split(`
`);if(t.length<2)throw new Error("Fichier CSV vide ou invalide");let i=t[0].split(",").map(o=>o.replace(/"/g,"").trim()),r=[];for(let o=1;o<t.length;o++){let s=t[o],a=this.parseCsvLine(s);if(a.length<8)continue;let c={id:this.matches.length+o,equipe1:a[0]?.replace(/"/g,"")||"",equipe2:a[1]?.replace(/"/g,"")||"",score1:parseInt(a[2])||0,score2:parseInt(a[3])||0,heureDebut:new Date(a[4]||new Date),lieu:a[5]?.replace(/"/g,"")||"",competition:a[6]?.replace(/"/g,"")||"",buteurs:[],duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[],updatedAt:new Date};if(a[7]){let l=a[7].replace(/"/g,"");if(l){let u=this.parseScorersString(l,1);c.buteurs.push(...u)}}if(a[8]){let l=a[8].replace(/"/g,"");if(l){let u=this.parseScorersString(l,2);c.buteurs.push(...u)}}if(a[9]){let l=a[9].replace(/"/g,"");if(l){let u=this.parseDuelsString(l,1);c.duelsGagnes.push(...u)}}if(a[10]){let l=a[10].replace(/"/g,"");if(l){let u=this.parseDuelsString(l,2);c.duelsGagnes.push(...u)}}r.push(c)}return r}parseJsonImport(e){try{return JSON.parse(e).map(i=>H(P({},i),{heureDebut:new Date(i.heureDebut),duelsGagnes:i.duelsGagnes||[]}))}catch{throw new Error("Format JSON invalide")}}parseCsvLine(e){let t=[],i="",r=!1;for(let o=0;o<e.length;o++){let s=e[o];s==='"'?r=!r:s===","&&!r?(t.push(i.trim()),i=""):i+=s}return t.push(i.trim()),t}parseScorersString(e,t){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(u=>parseInt(u.trim())).filter(u=>!isNaN(u));for(let u of l)i.push({nom:a,minute:u,equipe:t})}}return i}parseDuelsString(e,t){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(u=>parseInt(u.trim())).filter(u=>!isNaN(u));for(let u of l)i.push({nom:a,minute:u,equipe:t})}}return i}getSortedMatches(){return this.filteredMatches.slice().sort((e,t)=>new Date(t.heureDebut).getTime()-new Date(e.heureDebut).getTime())}calculateRanking(e){let t=new Map;return this.matches.filter(r=>r.competition===e).forEach(r=>{[r.equipe1,r.equipe2].forEach(a=>{t.has(a)||t.set(a,{name:a,points:0,matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0})});let o=t.get(r.equipe1),s=t.get(r.equipe2);o.matches++,s.matches++,o.goalsFor+=r.score1,o.goalsAgainst+=r.score2,s.goalsFor+=r.score2,s.goalsAgainst+=r.score1,r.score1>r.score2?(o.wins++,o.points+=3,s.losses++):r.score1<r.score2?(s.wins++,s.points+=3,o.losses++):(o.draws++,s.draws++,o.points+=1,s.points+=1)}),t.forEach(r=>{r.goalDifference=r.goalsFor-r.goalsAgainst}),Array.from(t.values()).sort((r,o)=>o.points!==r.points?o.points-r.points:o.goalDifference!==r.goalDifference?o.goalDifference-r.goalDifference:o.goalsFor-r.goalsFor)}showRanking(){this.selectedCompetitionFilter?(this.currentRanking=this.calculateRanking(this.selectedCompetitionFilter),this.showRankingModal=!0):alert("Veuillez s\xE9lectionner une comp\xE9tition pour voir le classement")}closeRankingModal(){this.showRankingModal=!1}shareCompetition(){return I(this,null,function*(){if(!this.selectedCompetitionFilter){alert("Veuillez s\xE9lectionner une comp\xE9tition");return}this.isSharingCompetition=!0,this.sharingLogs=["Comp\xE9tition en cours de sauvegarde..."];try{let e=this.matches.filter(r=>r.competition===this.selectedCompetitionFilter);if(e.length===0){alert("Aucun match trouv\xE9 pour cette comp\xE9tition");return}let t=yield this.firestoreService.shareCompetition(this.selectedCompetitionFilter,e,r=>{this.sharingLogs.push(r)}),i=`
          Comp\xE9tition : ${this.selectedCompetitionFilter}
          Nombre de matchs : ${e.length}

          Matchs :
          ${e.map(r=>`
          ${r.equipe1} vs ${r.equipe2}
          Score : ${r.score1} - ${r.score2}
          Date : ${r.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          Lieu : ${r.lieu||"Non sp\xE9cifi\xE9"}
          ----------------------------------------`).join(`
`)}

          Lien vers la comp\xE9tition : ${window.location.origin}?competitionId=${t}
                `.trim();if(navigator.share)yield navigator.share({title:`Comp\xE9tition ${this.selectedCompetitionFilter}`,text:i,url:`${window.location.origin}?competitionId=${t}`});else{let r=document.createElement("textarea");r.value=i,document.body.appendChild(r),r.select();try{document.execCommand("copy"),alert("Informations de la comp\xE9tition copi\xE9es dans le presse-papiers !")}catch(o){console.error("Erreur lors de la copie:",o)}document.body.removeChild(r)}this.sharingLogs.push("Association des matchs en cours...");for(let r of e){let o=yield this.firestoreService.saveMatch(r);this.sharingLogs.push(`Match ${r.equipe1} vs ${r.equipe2} sauvegard\xE9`),yield this.firestoreService.addMatchToCompetition(t,o)}this.sharingLogs.push("Comp\xE9tition sauvegard\xE9e avec succ\xE8s !")}catch(e){console.error("Erreur lors de la sauvegarde ou du partage de la comp\xE9tition:",e),this.sharingLogs.push("Erreur lors de la sauvegarde de la comp\xE9tition"),alert("Une erreur est survenue lors de la sauvegarde ou du partage de la comp\xE9tition.")}finally{this.isSharingCompetition=!1}})}shareTeam(e){return I(this,null,function*(){if(!e){alert("Veuillez s\xE9lectionner une \xE9quipe");return}this.isSharingTeam=!0,this.sharingLogs=["\xC9quipe en cours de sauvegarde..."];try{let t=this.matches.filter(u=>u.equipe1===e||u.equipe2===e);if(t.length===0){alert("Aucun match trouv\xE9 pour cette \xE9quipe");return}let i=yield this.firestoreService.shareTeam(e,t,u=>{this.sharingLogs.push(u)}),r=0,o=0,s=0,a=0,c=0;t.forEach(u=>{let p=u.equipe1===e,w=p?u.score1:u.score2,C=p?u.score2:u.score1;a+=w,c+=C,w>C?r++:w<C?s++:o++});let l=`
          \xC9quipe : ${e}
          Nombre de matchs : ${t.length}
          
          Statistiques :
          Victoires : ${r}
          Matches nuls : ${o}
          D\xE9faites : ${s}
          Buts marqu\xE9s : ${a}
          Buts encaiss\xE9s : ${c}
          Diff\xE9rence de buts : ${a-c}

          Matchs :
          ${t.map(u=>{let w=u.equipe1===e?u.equipe2:u.equipe1;return`
          ${e} vs ${w}
          Score : ${u.score1} - ${u.score2}
          Date : ${u.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          Lieu : ${u.lieu||"Non sp\xE9cifi\xE9"}
          ----------------------------------------`}).join(`
`)}

          Lien vers l'\xE9quipe : ${window.location.origin}?teamId=${i}
                `.trim();if(navigator.share)yield navigator.share({title:`\xC9quipe ${e}`,text:l,url:`${window.location.origin}?teamId=${i}`});else{let u=document.createElement("textarea");u.value=l,document.body.appendChild(u),u.select();try{document.execCommand("copy"),alert("Informations de l'\xE9quipe copi\xE9es dans le presse-papiers !")}catch(p){console.error("Erreur lors de la copie:",p)}document.body.removeChild(u)}this.sharingLogs.push("\xC9quipe partag\xE9e avec succ\xE8s !")}catch(t){console.error("Erreur lors de la sauvegarde ou du partage de l'\xE9quipe:",t),this.sharingLogs.push("Erreur lors de la sauvegarde de l'\xE9quipe"),alert("Une erreur est survenue lors de la sauvegarde ou du partage de l'\xE9quipe.")}finally{this.isSharingTeam=!1}})}validateScore(e){let t=Math.max(0,e);return console.log("validateScore() appel\xE9e avec:",e,"retourne:",t),t}openEditPlayersModal(e){let t=this.teams.find(i=>i.name===e);t&&(this.teamToEdit=H(P({},t),{players:[...t.players]}),this.showEditPlayersModal=!0)}closeEditPlayersModal(){this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerName="",this.newPlayerNumber=void 0}addPlayer(){if(this.teamToEdit&&this.newPlayerName.trim()){let e={name:this.newPlayerName.trim(),type:this.newPlayerType};this.newPlayerNumber&&(e.number=this.newPlayerNumber),this.teamToEdit.players.push(e),this.newPlayerName="",this.newPlayerNumber=void 0,this.newPlayerType="milieu",this.saveData()}}removePlayer(e){if(this.teamToEdit){let t=this.teamToEdit.players[e];if(!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le joueur ${t.name} ?`))return;this.teamToEdit.players.splice(e,1),this.saveData()}}savePlayersEdit(){if(this.teamToEdit){let e=this.teams.findIndex(t=>t.name===this.teamToEdit.name);e!==-1&&(this.teams[e]=H(P({},this.teamToEdit),{players:[...this.teamToEdit.players]}))}this.saveData(),this.closeEditPlayersModal()}getPlayersSortedByGoals(){if(!this.teamToEdit)return[];let e={};for(let t of this.teamToEdit.players){e[t.name]=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===t.name){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&e[t.name]++}}}return[...this.teamToEdit.players].sort((t,i)=>e[i.name]-e[t.name])}getGoalsForPlayer(e){if(!this.teamToEdit)return 0;let t=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===e){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&t++}}return t}cyclePlayerType(e){e.type==="attaquant"?e.type="milieu":e.type==="milieu"?e.type="defenseur":e.type="attaquant"}cycleNewPlayerType(){this.newPlayerType==="attaquant"?this.newPlayerType="milieu":this.newPlayerType==="milieu"?this.newPlayerType="defenseur":this.newPlayerType="attaquant"}getPlayerGoalsDetails(e){let t=[];for(let i of this.matches)if(i.equipe1===this.teamToEdit?.name||i.equipe2===this.teamToEdit?.name)for(let r of i.buteurs)r.nom===e.name&&t.push({match:i,minute:r.minute});return t}openPlayerGoalsModal(e){this.selectedPlayerGoalsModal=e}closePlayerGoalsModal(){this.selectedPlayerGoalsModal=null}updateFilteredTeams1(){let e=this.team1Search;if(this.matchForm.patchValue({equipe1:e}),e.length<3){this.filteredTeams1=[];return}this.filteredTeams1=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e.toLowerCase())).filter(t=>t!==this.matchForm.value.equipe2)}updateFilteredTeams2(){let e=this.team2Search;if(this.matchForm.patchValue({equipe2:e}),e.length<3){this.filteredTeams2=[];return}this.filteredTeams2=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e.toLowerCase())).filter(t=>t!==this.matchForm.value.equipe1)}selectTeam1(e){this.matchForm.patchValue({equipe1:e}),this.team1Search=e,this.filteredTeams1=[]}selectTeam2(e){this.matchForm.patchValue({equipe2:e}),this.team2Search=e,this.filteredTeams2=[]}openNewTeamModal(){this.showNewTeamModal=!0,this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}]}closeNewTeamModal(){this.showNewTeamModal=!1}addNewTeamPlayer(){this.newTeamPlayers.push({name:"",type:"milieu"})}removeNewTeamPlayer(e){this.newTeamPlayers.length>1&&this.newTeamPlayers.splice(e,1)}openNewTeamModalFor(e){this.newTeamTargetField=e,this.showNewTeamModal=!0,this.newTeamName=e==="equipe1"?this.team1Search:this.team2Search,this.newTeamPlayers=[{name:"",type:"milieu"}]}createNewTeam(){if(!this.newTeamName.trim()||this.newTeamPlayers.every(t=>!t.name.trim()))return;let e={id:Date.now(),name:this.newTeamName.trim(),players:this.newTeamPlayers.filter(t=>t.name.trim())};this.teams.push(e),this.saveData(),this.newTeamTargetField==="equipe1"?(this.matchForm.patchValue({equipe1:e.name}),this.team1Search=e.name):this.newTeamTargetField==="equipe2"&&(this.matchForm.patchValue({equipe2:e.name}),this.team2Search=e.name),this.closeNewTeamModal(),this.newTeamTargetField=null}openImportTeamModal(){return I(this,null,function*(){this.showImportTeamModal=!0,this.importTeamCode="",this.importTeamCodeEntered=!1,this.importTeamCodeError="",this.firestoreTeams=[],this.importLogs=[]})}closeImportTeamModal(){this.importingTeams||(this.showImportTeamModal=!1,this.importTeamCode="",this.importTeamCodeEntered=!1,this.importTeamCodeError="",this.firestoreTeams=[],this.importLogs=[])}resetImportTeamCode(){this.importTeamCodeEntered=!1,this.importTeamCode="",this.importTeamCodeError="",this.firestoreTeams=[],this.firestoreTeams.forEach(e=>e.selected=!1)}validateImportTeamCode(){return I(this,null,function*(){if(this.importTeamCodeError="",!this.importTeamCode||this.importTeamCode.trim()===""){this.importTeamCodeError="Veuillez entrer un code";return}if(this.importTeamCode.toUpperCase()!=="XTEAMX2024"){this.importTeamCodeError="Code incorrect";return}this.importTeamCodeEntered=!0,this.isLoadingFirestoreTeams=!0,this.firestoreTeams=[];try{let t=yield this.firestoreService.getAllTeams();this.firestoreTeams=t.map(i=>H(P({},i),{selected:!1}))}catch(t){console.error("Erreur lors du chargement des \xE9quipes:",t),this.importTeamCodeError="Erreur lors du chargement des \xE9quipes",this.importTeamCodeEntered=!1}finally{this.isLoadingFirestoreTeams=!1}})}getSelectedTeamsCount(){return this.firestoreTeams.filter(e=>e.selected).length}importSelectedTeams(){return I(this,null,function*(){let e=this.firestoreTeams.filter(t=>t.selected);if(e.length===0){alert("Veuillez s\xE9lectionner au moins une \xE9quipe");return}this.importingTeams=!0,this.importLogs=[];try{for(let t of e){this.importLogs.push(`Importation de l'\xE9quipe "${t.name}"...`);let i=this.teams.find(o=>o.name===t.name);i?this.importLogs.push(`\xC9quipe "${t.name}" existe d\xE9j\xE0`):(i={id:Date.now()+Math.random(),name:t.name,players:t.players||[],primaryColor:t.primaryColor,secondaryColor:t.secondaryColor},this.teams.push(i),this.importLogs.push(`\xC9quipe "${t.name}" cr\xE9\xE9e localement`));let r=yield this.firestoreService.getMatchesByTeam(t.id);this.importLogs.push(`${r.length} match(s) trouv\xE9(s)`);for(let o of r)if(this.matches.some(a=>a.equipe1===o.equipe1&&a.equipe2===o.equipe2&&a.heureDebut.getTime()===o.heureDebut.getTime()))this.importLogs.push(`Match d\xE9j\xE0 existant: ${o.equipe1} vs ${o.equipe2}`);else{let a=H(P({},o),{id:this.matches.length+1});this.matches.push(a),this.importLogs.push(`Match import\xE9: ${o.equipe1} vs ${o.equipe2}`)}}this.saveData(),this.importLogs.push("Importation termin\xE9e avec succ\xE8s!"),setTimeout(()=>{this.closeImportTeamModal(),this.importingTeams=!1},2e3)}catch(t){console.error("Erreur lors de l'importation:",t),this.importLogs.push("Erreur lors de l'importation"),alert("Erreur lors de l'importation des \xE9quipes"),this.importingTeams=!1}})}canCreateNewTeam(){return!this.newTeamName.trim()||this.newTeamPlayers.every(e=>!e.name.trim())}updateFilteredCompetitions(){let e=this.competitionSearch.toLowerCase();if(e.length<3){this.filteredCompetitions=[];return}let t=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.filteredCompetitions=t.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectCompetition(e){this.matchForm.patchValue({competition:e}),this.competitionSearch=e,this.filteredCompetitions=[]}startCelebrationTimer(){console.log("startCelebrationTimer() appel\xE9e"),this.celebrationTimer=setInterval(()=>{this.remainingDots--,console.log("Dots restants:",this.remainingDots),this.remainingDots<=0&&(this.showCelebration&&this.celebrationConfig&&(this.showCelebration=!1,this.celebrationConfig.type==="but"?this.saveCelebrationWithAssist():this.celebrationConfig.type==="duel"&&this.saveDuel()),clearInterval(this.celebrationTimer))},1e3)}saveCelebrationWithAssist(){if(console.log("saveCelebrationWithAssist() appel\xE9e"),!this.selectedMatch||!this.celebrationPlayer||!this.celebrationConfig){console.log("Donn\xE9es de c\xE9l\xE9bration manquantes - sauvegarde annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)||this.selectedMatch.buteurs.length===0){console.error("Propri\xE9t\xE9 buteurs invalide ou vide:",this.selectedMatch.buteurs);return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.celebrationPlayer&&(e.assist=this.celebrationAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelCelebration(){if(console.log("cancelCelebration() appel\xE9e"),!this.selectedMatch||!this.celebrationConfig){console.log("Donn\xE9es de c\xE9l\xE9bration manquantes - annulation annul\xE9e");return}this.celebrationConfig.type==="but"?this.cancelGoal():this.celebrationConfig.type==="duel"&&this.cancelDuel(),this.showCelebration=!1,this.celebrationConfig=null,this.celebrationPlayer="",this.celebrationTeam="",this.celebrationAssist=""}ensureScorersInTeams(e){if(!e||!e.buteurs||e.buteurs.length===0)return;console.log("V\xE9rification des joueurs ayant marqu\xE9 des buts pour le match:",e.id);let t=this.teams.find(r=>r.name===e.equipe1),i=this.teams.find(r=>r.name===e.equipe2);if(!t||!i){console.log("\xC9quipes non trouv\xE9es pour le match");return}e.buteurs.forEach(r=>{if(!r||!r.nom)return;let o=r.equipe===1?t:i;o.players.some(a=>a.name.toLowerCase()===r.nom.toLowerCase())||(console.log(`Ajout du joueur ${r.nom} \xE0 l'\xE9quipe ${o.name}`),o.players.push({name:r.nom,type:"milieu"}))}),this.saveData()}closeScoreModal(){this.selectedMatch&&this.ensureScorersInTeams(this.selectedMatch),this.showScoreForm=!1,this.showPlayersList=!0}onScoreChange(){if(console.log("onScoreChange() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - modification annul\xE9e");return}let e=this.selectedMatch.score1,t=this.selectedMatch.score2;console.log("Scores actuels:",{score1:e,score2:t});let i=this.getActiveGoalsCount(1),r=this.getActiveGoalsCount(2);console.log("Buts actifs:",{team1:i,team2:r}),this.handleTeamScoreChange(1,e,i),this.handleTeamScoreChange(2,t,r),console.log("Match apr\xE8s modification:",this.selectedMatch),this.saveData()}handleTeamScoreChange(e,t,i){console.log(`handleTeamScoreChange() pour \xE9quipe ${e}:`,{newScore:t,currentGoals:i});let r=this.selectedMatch.id;if(t>i){let o=this.disabledGoals.filter(c=>{if(!this.selectedMatch||!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs))return console.error("selectedMatch ou buteurs invalide dans handleTeamScoreChange"),!1;if(c.buteurIndex<0||c.buteurIndex>=this.selectedMatch.buteurs.length)return console.error("Index de buteur invalide dans disabledGoals:",c.buteurIndex),!1;let l=this.selectedMatch.buteurs[c.buteurIndex];return l?c.matchId===r&&l.equipe===e:(console.error("Buteur non trouv\xE9 \xE0 l'index:",c.buteurIndex),!1)});console.log(`Buts d\xE9sactiv\xE9s pour \xE9quipe ${e}:`,o.length);let s=Math.min(t-i,o.length);console.log(`R\xE9activation de ${s} buts d\xE9sactiv\xE9s`);for(let c=0;c<s;c++){let l=o[c];this.disabledGoals=this.disabledGoals.filter(u=>!(u.matchId===l.matchId&&u.buteurIndex===l.buteurIndex)),console.log("But r\xE9activ\xE9 \xE0 l'index:",l.buteurIndex)}let a=t-i-s;if(a>0){console.log(`Ajout de ${a} buts "Joueur non list\xE9"`);for(let c=0;c<a;c++){let l={nom:"Joueur non list\xE9",minute:1,equipe:e};this.selectedMatch.buteurs.push(l),console.log("But ajout\xE9:",l)}}}else if(t<i){let o=i-t;console.log(`D\xE9sactivation de ${o} buts de l'\xE9quipe ${e}`),this.selectedMatch.buteurs.map((a,c)=>({buteur:a,index:c})).filter(a=>a.buteur.equipe===e&&!this.isGoalDisabled(a.index)).slice(-o).forEach(a=>{r!==void 0&&(a.buteur.nom==="Joueur non list\xE9"?(this.selectedMatch.buteurs.splice(a.index,1),console.log('"Joueur non list\xE9" supprim\xE9:',a.buteur)):(this.disabledGoals.push({matchId:r,buteurIndex:a.index}),console.log("But d\xE9sactiv\xE9:",a.buteur)))})}}isGoalDisabled(e){return this.selectedMatch?this.disabledGoals.some(t=>t.matchId===this.selectedMatch.id&&t.buteurIndex===e):!1}isGoalDisabledForMatch(e,t){return this.disabledGoals.some(r=>r.matchId===e.id&&r.buteurIndex===t)}maintainScoreConsistency(){if(!this.selectedMatch)return;console.log("maintainScoreConsistency() appel\xE9e");let e=this.getActiveGoalsCount(1),t=this.getActiveGoalsCount(2);console.log("Buts actifs actuels:",{team1:e,team2:t}),console.log("Scores actuels:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2}),this.selectedMatch.score1!==e&&(console.log(`Incoh\xE9rence \xE9quipe 1: score=${this.selectedMatch.score1}, buts actifs=${e}`),this.handleTeamScoreChange(1,this.selectedMatch.score1,e)),this.selectedMatch.score2!==t&&(console.log(`Incoh\xE9rence \xE9quipe 2: score=${this.selectedMatch.score2}, buts actifs=${t}`),this.handleTeamScoreChange(2,this.selectedMatch.score2,t))}getActiveGoalsCount(e){return this.selectedMatch?this.selectedMatch.buteurs.filter((t,i)=>t.equipe===e&&!this.isGoalDisabled(i)).length:0}getActiveGoalsCountForMatch(e,t){return e.buteurs.filter((i,r)=>i.equipe===t&&!this.isGoalDisabledForMatch(e,r)).length}showLocalStorageData(){let e=localStorage.getItem("footballMatches");this.localStorageData=e?JSON.parse(e):"Aucune donn\xE9e trouv\xE9e.",this.showingLocalStorageData=!0}hideLocalStorageData(){this.showingLocalStorageData=!1}toggleDeleteButtons(){this.showDeleteButtons=!this.showDeleteButtons}updateEditFilteredTeams1(){let e=this.editTeam1Search.toLowerCase();if(e.length<3){this.editFilteredTeams1=[];return}this.editFilteredTeams1=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e)).filter(t=>t!==this.matchEditForm.value.equipe2)}updateEditFilteredTeams2(){let e=this.editTeam2Search.toLowerCase();if(e.length<3){this.editFilteredTeams2=[];return}this.editFilteredTeams2=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e)).filter(t=>t!==this.matchEditForm.value.equipe1)}selectEditTeam1(e){this.matchEditForm.patchValue({equipe1:e}),this.editTeam1Search=e,this.editFilteredTeams1=[]}selectEditTeam2(e){this.matchEditForm.patchValue({equipe2:e}),this.editTeam2Search=e,this.editFilteredTeams2=[]}updateEditFilteredCompetitions(){let e=this.editCompetitionSearch.toLowerCase();if(e.length<3){this.editFilteredCompetitions=[];return}let t=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.editFilteredCompetitions=t.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectEditCompetition(e){this.matchEditForm.patchValue({competition:e}),this.editCompetitionSearch=e,this.editFilteredCompetitions=[]}getTeamNames(){return this.teams.map(e=>e.name)}getCompetitionNames(){return Array.from(new Set(this.matches.map(e=>e.competition).filter(e=>!!e)))}updateFilteredButeurNames(){let e=this.buteurForm.get("equipe")?.value,t=(this.buteurNameSearch||"").toLowerCase();if(!e||t.length<3){this.filteredButeurNames=[];return}this.filteredButeurNames=this.getTeamPlayers(e).map(i=>i.name).filter(i=>i.toLowerCase().includes(t))}selectButeurName(e){this.buteurNameSearch=e,this.buteurForm.get("nom")?.setValue(e),this.filteredButeurNames=[]}updateFilteredAssistNames(){let e=this.buteurForm.get("equipe")?.value,t=this.buteurForm.get("nom")?.value,i=(this.assistSearch||"").toLowerCase();if(!e||i.length<3){this.filteredAssistNames=[];return}this.filteredAssistNames=this.getTeamPlayers(e).map(r=>r.name).filter(r=>r!==t).filter(r=>r.toLowerCase().includes(i))}selectAssistName(e){this.assistSearch=e,this.buteurForm.get("assist")?.setValue(e),this.filteredAssistNames=[]}onButeurEquipeChange(){this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.buteurForm.get("nom")?.setValue(""),this.buteurForm.get("assist")?.setValue("")}gererOuvertureFermetureButeurForm(e){e?(this.buteurNameSearch=this.buteurForm.get("nom")?.value||"",this.assistSearch=this.buteurForm.get("assist")?.value||""):(this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[])}shouldShowCreateButeur(){let e=this.buteurForm.get("equipe")?.value,t=this.buteurNameSearch;if(!e||!t||t.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredButeurNames.length===0&&!i.includes(t)}shouldShowCreateAssist(){let e=this.buteurForm.get("equipe")?.value,t=this.assistSearch;if(!e||!t||t.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredAssistNames.length===0&&!i.includes(t)}shouldShowCreateTeam1(){let e=this.team1Search;if(!e||e.length<3)return!1;let t=this.getTeamNames();return this.filteredTeams1.length===0&&!t.includes(e)}shouldShowCreateTeam2(){let e=this.team2Search;if(!e||e.length<3)return!1;let t=this.getTeamNames();return this.filteredTeams2.length===0&&!t.includes(e)}shouldShowCreateCompetition(){let e=this.competitionSearch;if(!e||e.length<3)return!1;let t=this.getCompetitionNames();return this.filteredCompetitions.length===0&&!t.includes(e)}deleteTeam(e){let t=this.matches.filter(i=>i.equipe1===e||i.equipe2===e);if(t.length>0){if(!confirm(`L'\xE9quipe "${e}" est impliqu\xE9e dans ${t.length} match(s).
Supprimer aussi ces matchs ?`))return;this.matches=this.matches.filter(r=>r.equipe1!==e&&r.equipe2!==e)}else if(!confirm(`Supprimer d\xE9finitivement l'\xE9quipe "${e}" ?`))return;this.teams=this.teams.filter(i=>i.name!==e),this.saveData(),this.selectedTeamFilter===e&&(this.selectedTeamFilter="")}get filteredSeasonsForModal(){let e=new Set;for(let i of this.matches)if(i.competition&&i.competition.trim()!==""){let r=this.getSeasonFromDate(i.heureDebut);r&&e.add(r)}let t=this.getCurrentSeason();return e.add(t),Array.from(e).sort((i,r)=>{let o=parseInt(i.split("-")[0]);return parseInt(r.split("-")[0])-o})}openTeamActionModal(){this.showTeamActionModal=!0}closeTeamActionModal(){this.showTeamActionModal=!1,this.selectedAction=""}selectActionForTeam(e,t){this.selectedAction=e,this.pendingActionTeam=t,this.showTeamActionModal=!1,this.showPlayerSelectionModal=!0}closePlayerSelectionModal(){this.showPlayerSelectionModal=!1,this.selectedAction="",this.pendingActionTeam=null}selectPlayerForAction(e){!this.selectedAction||!this.pendingActionTeam||(this.pendingActionPlayer=e,this.executeAction(this.selectedAction,this.pendingActionPlayer,this.pendingActionTeam),this.closePlayerSelectionModal())}executeAction(e,t,i){switch(e){case"but":this.quickAddGoal(t,i);break;case"frappe":this.quickAddFrappe(t,i);break;case"dribble":this.quickAddDribble(t,i);break;case"tiki-taka":this.quickAddTikiTaka(t,i);break;case"contre-attaque":this.quickAddContreAttaque(t,i);break;case"interception":this.quickAddInterception(t,i);break;case"duel":this.quickAddDuel(t,i);break;case"faute":this.quickAddFaute(t,i);break}}testTeamSharing(){return I(this,null,function*(){console.log("=== Test du partage d'\xE9quipe ===");let e=[{id:999,equipe1:"\xC9quipe Test",equipe2:"Adversaire 1",score1:2,score2:1,buteurs:[],heureDebut:new Date,lieu:"Terrain Test",positions:{},showElements:!0,updatedAt:new Date,duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[],competition:"Test Competition"},{id:1e3,equipe1:"Adversaire 2",equipe2:"\xC9quipe Test",score1:0,score2:3,buteurs:[],heureDebut:new Date,lieu:"Terrain Test 2",positions:{},showElements:!0,updatedAt:new Date,duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[],competition:"Test Competition"}];try{console.log("1. Sauvegarde de l'\xE9quipe test dans Firestore...");let t=yield this.firestoreService.shareTeam("\xC9quipe Test",e,s=>console.log(`   ${s}`));console.log(`2. \xC9quipe sauvegard\xE9e avec l'ID: ${t}`),console.log("3. Chargement de l'\xE9quipe depuis Firestore...");let i=yield this.firestoreService.getTeamById(t);console.log("4. \xC9quipe r\xE9cup\xE9r\xE9e:",i),console.log("5. Chargement des matchs de l'\xE9quipe...");let r=yield this.firestoreService.getMatchesByTeam(t);console.log(`6. ${r.length} matchs r\xE9cup\xE9r\xE9s:`,r);let o=`${window.location.origin}?teamId=${t}`;return console.log(`7. URL de partage g\xE9n\xE9r\xE9e: ${o}`),console.log("=== Test termin\xE9 avec succ\xE8s ! ==="),alert(`Test r\xE9ussi ! 
      
\xC9quipe sauvegard\xE9e avec l'ID: ${t}
${r.length} matchs r\xE9cup\xE9r\xE9s
URL de partage: ${o}

V\xE9rifiez la console pour plus de d\xE9tails.`),{teamId:t,teamName:"\xC9quipe Test",matchCount:r.length}}catch(t){throw console.error("=== Erreur lors du test ===",t),alert(`Erreur lors du test: ${t}`),t}})}static{this.\u0275fac=function(t){return new(t||n)(q(EI),q(Fs))}}static{this.\u0275cmp=Pi({type:n,selectors:[["app-root"]],standalone:!0,features:[Ri],decls:37,vars:23,consts:[[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lead","text-muted","mb-0"],[1,"btn","btn-link","ms-2",3,"click"],[1,"fas","fa-question-circle","text-warning"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","btn mt-2",3,"ngClass","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","disabled","click",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[3,"competitions","selectedSeason","availableSeasons","selectedCompetition","isCompetitionWithoutSeason","getSuggestedSeason","showDeleteButtons","seasonChanged","competitionSelected","competitionAdded","competitionUpdated","competitionDeleted","assignSeason","closeModal",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration","style","margin-top: -100px;",4,"ngIf"],["class","disposition-modal",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","modal-overlay edit-players-overlay",4,"ngIf"],["class","modal fade show","tabindex","-1","style","display:block; background:rgba(0,0,0,0.5);",4,"ngIf"],["class","modal-overlay sheet-code-modal-overlay","style",`position: fixed !important; 
            top: 0 !important; 
            left: 0 !important; 
            width: 100vw !important; 
            height: 100vh !important; 
            background-color: rgba(0, 0, 0, 0.7) !important; 
            z-index: 999999 !important; 
            display: flex !important; 
            justify-content: center !important; 
            align-items: center !important;`,4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-plus-circle","text-white"],[3,"hidden"],[1,"fas","fa-users","text-white"],[1,"btn","mt-2",3,"click","ngClass"],[1,"fas","fa-trophy","text-white"],[1,"text-white"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden"],[1,"fas","fa-list-ol"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden","disabled"],[1,"fas",3,"ngClass"],[1,"modal-overlay"],[1,"team-modal"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-users","me-2"],["type","button","aria-label","Fermer",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"team-item","mb-2"],[1,"team-card"],[1,"team-info"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"badge","bg-secondary"],[4,"ngIf"],[1,"team-actions"],["class","team-item mb-2",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"d-flex","gap-2","me-auto"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-plus-circle","me-2"],["type","button",1,"btn","btn-info",3,"click"],[1,"fas","fa-download","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],["for","'team-' + team.name",1,"form-check-label"],[1,"badge","team-badge"],[1,"text-muted","ms-2"],["title","Modifier l'\xE9quipe",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["title","Partager l'\xE9quipe",1,"btn","btn-sm","btn-outline-info",3,"click","disabled"],["class","btn btn-sm btn-outline-danger","title","Supprimer l'\xE9quipe",3,"click",4,"ngIf"],["title","Supprimer l'\xE9quipe",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[3,"seasonChanged","competitionSelected","competitionAdded","competitionUpdated","competitionDeleted","assignSeason","closeModal","competitions","selectedSeason","availableSeasons","selectedCompetition","isCompetitionWithoutSeason","getSuggestedSeason","showDeleteButtons"],[1,"match-modal"],[1,"fas","fa-futbol","me-2"],[3,"ngSubmit","formGroup"],[1,"row",2,"width","100%","margin","0 auto","padding","5px","border-radius","8px","background","linear-gradient(to top, rgba(0,0,0,0.05) 0%, transparent 70%)"],[1,"col-md-6"],[1,"mb-2","position-relative"],["for","equipe1",1,"form-label"],["id","equipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe1"],["class","list-group position-absolute w-100",4,"ngIf"],["class","mt-1",4,"ngIf"],["for","equipe2",1,"form-label"],["id","equipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe2"],[1,"mb-2"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],[1,"mb-3","text-center"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"d-flex","gap-2","ms-2","mt-2"],["type","submit",1,"btn","btn-primary","px-4"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-auto"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"list-group","position-absolute","w-100"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"mt-1"],["type","button",1,"btn","btn-link","p-0",3,"click"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["for","competition",1,"form-label","text-muted"],["id","competition","type","text","placeholder","Rechercher ou cr\xE9er une comp\xE9tition...","name","competitionSearch","autocomplete","off",1,"form-control","form-control-sm",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","competition"],["for","commentaire",1,"form-label","text-muted"],["id","commentaire","formControlName","commentaire","placeholder","Ajoutez un commentaire sur ce match...","rows","2",1,"form-control","form-control-sm"],[1,"mt-4"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"match-details",3,"ngStyle"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],["title","Afficher/Masquer les d\xE9tails",1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"fas","text-secondary",3,"ngClass"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn",3,"click","ngClass"],["class","match-scorers",4,"ngIf"],["class","match-comment",4,"ngIf"],["class","match-actions d-flex gap-2 justify-content-center mt-3",4,"ngIf"],[1,"mx-2"],[1,"badge",3,"ngClass"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"buteur-equipe","disabled-scorer"],[1,"minutes-list","right-team"],[1,"match-comment"],[1,"comment-header"],[1,"fas","fa-comment","me-1"],[1,"comment-text"],[1,"match-actions","d-flex","gap-2","justify-content-center","mt-3"],["title","Ajouter un but",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-futbol"],[1,"ms-1"],["title","Disposition tactique",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-tshirt"],["title","Modifier le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],["title","Partager le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click","disabled"],[1,"score-modal"],["class","mb-3 d-flex gap-3 align-items-center",4,"ngIf"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center",3,"click","ngClass"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0"],[1,"d-flex","gap-2"],["class","btn btn-sm btn-outline-primary",3,"title","click",4,"ngIf"],[1,"btn","btn-sm",3,"click","ngClass","title"],["class","row",4,"ngIf"],["class","actions-section mb-3",4,"ngIf"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],["class","duels-list mb-3",4,"ngIf"],["class","player-selector",4,"ngIf"],[1,"mb-3","d-flex","gap-3","align-items-center"],[1,"form-label","mb-1"],["type","color",1,"form-control","form-control-color",3,"ngModelChange","ngModel"],[1,"score-info",2,"font-size","0.7em","opacity","0.8"],[1,"d-flex","align-items-center","justify-content-center","gap-1"],["type","number","min","0","onkeypress","return event.charCode >= 48",1,"form-control","form-control-sm",2,"width","42px","text-align","center","padding","2px 4px",3,"ngModelChange","input","ngModel"],["tabindex","-1",1,"score-modal"],[1,"modal-dialog"],[1,"modal-content"],["type","button",1,"btn-close",3,"click"],[1,"row","g-3"],[1,"col-md-5","position-relative"],[1,"form-label","small"],["type","text","placeholder","Nom du buteur","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","nom"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control"],[1,"col-md-4"],["formControlName","equipe",1,"form-select",3,"change"],[3,"value"],[1,"col-md-12","position-relative"],["type","text","placeholder","Nom du passeur (optionnel)","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","assist"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-sm","btn-outline-primary",3,"click","title"],[1,"row"],[1,"col-sm-6"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"title","click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"title","click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click","title"],["class","fas fa-futbol me-1",4,"ngIf"],["class","fas fa-shield me-1",4,"ngIf"],["class","fas fa-arrows-alt-h me-1",4,"ngIf"],[1,"fas","fa-futbol","me-1"],[1,"fas","fa-shield","me-1"],[1,"fas","fa-arrows-alt-h","me-1"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click","title"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],[1,"actions-section","mb-3"],[1,"fas","fa-tasks","me-2"],[1,"text-muted","mb-2"],[1,"action-group"],[1,"action-buttons"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-bullseye","me-1"],[1,"fas","fa-running","me-1"],[1,"fas","fa-exchange-alt","me-1"],[1,"fas","fa-bolt","me-1"],[1,"fas","fa-hand-paper","me-1"],[1,"fas","fa-shield-alt","me-1"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-exclamation-triangle","me-1"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",3,"ngClass"],[1,"flex-grow-1"],[3,"ngClass"],[1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"duels-list","mb-3"],[1,"section-header"],["class","duel-item",4,"ngFor","ngForOf"],[1,"duel-item"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],[1,"match-edit-modal"],[1,"close-button",3,"click"],[2,"text-align","center"],[1,"fas","fa-calendar-days","me-2",2,"color","#27ae60"],[1,"form-group"],["for","equipe1"],[1,"position-relative"],["id","editEquipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","equipe2"],["id","editEquipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["for","competition",1,"form-label"],["id","editCompetition","type","text","placeholder","Championnat, tournoi, amical...","name","editCompetitionSearch","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","commentaire",1,"form-label"],["id","commentaire","formControlName","commentaire","placeholder","Ajoutez un commentaire sur ce match...","rows","3",1,"form-control"],[1,"button-group","mt-3"],["type","submit",1,"btn","btn-primary",3,"click"],["class","btn btn-danger float-end","style","float: right;",3,"click",4,"ngIf"],[1,"btn","btn-danger","float-end",2,"float","right",3,"click"],[1,"goal-celebration",2,"margin-top","-100px"],[1,"celebration-content",2,"width","300px"],[1,"goal-text",2,"transform","scale(1.5)"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],["class","assist-section mt-3",4,"ngIf"],["class","button-group mt-2",4,"ngIf"],[1,"dot"],[1,"assist-section","mt-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"button-group","mt-2"],[1,"btn","btn-primary",3,"click"],["class","btn btn-outline-danger ms-2",3,"click",4,"ngIf"],[3,"value","disabled"],[1,"btn","btn-outline-danger","ms-2",3,"click"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"fas","fa-tshirt","me-2",2,"color","#27ae60"],[1,"disposition-controls","mb-3"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"encoding-controls","mt-2"],["role","group",1,"btn-group"],["title","Activer/d\xE9sactiver l'encodage des buts",1,"btn","btn-sm",3,"click"],["title","Activer/d\xE9sactiver l'encodage des duels gagn\xE9s",1,"btn","btn-sm",3,"click"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"],[1,"form-check","mb-2"],["type","checkbox","id","txtFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","txtFormat",1,"form-check-label"],["type","checkbox","id","csvFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","csvFormat",1,"form-check-label"],["type","checkbox","id","jsonFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","jsonFormat",1,"form-check-label"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-unstyled"],[1,"mb-3"],[1,"fas","fa-plus-circle","text-primary"],[1,"fas","fa-futbol","text-primary"],[1,"fas","fa-users","text-primary"],[1,"fas","fa-share-alt","text-primary"],[1,"fas","fa-download","text-primary"],[1,"fas","fa-upload","text-primary"],["type","button","class","btn btn-info me-auto",3,"click",4,"ngIf"],["type","button","class","btn btn-warning me-auto",3,"click",4,"ngIf"],["type","button",1,"btn",3,"click","ngClass"],["class","p-3 bg-light border mt-2","style","max-height: 300px; overflow: auto; font-size: 0.95em;",4,"ngIf"],["type","button",1,"btn","btn-info","me-auto",3,"click"],["type","button",1,"btn","btn-warning","me-auto",3,"click"],[1,"p-3","bg-light","border","mt-2",2,"max-height","300px","overflow","auto","font-size","0.95em"],[1,"ranking-modal"],[1,"fas","fa-list-ol","me-2"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[1,"px-1"],[1,"px-1",3,"ngClass"],[1,"modal-overlay","edit-players-overlay"],[1,"edit-players-modal"],[1,"fas","fa-users-cog","me-2"],[1,"team-colors-section","mb-4","p-3","bg-light","rounded","border"],[1,"fas","fa-palette","me-2"],[1,"d-flex","gap-3","align-items-center"],[1,"form-label","mb-1","small"],["type","color",1,"form-control","form-control-color",2,"width","80px","height","40px",3,"ngModelChange","ngModel"],[1,"players-list","mb-4"],[1,"fas","fa-list","me-2"],["class","player-item mb-2",4,"ngFor","ngForOf"],[1,"add-player-section"],[1,"add-player-form"],[1,"input-group"],[1,"input-row"],[1,"type-selector"],["class","fas fa-futbol type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],["placeholder","Nom du nouveau joueur...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],["type","number","placeholder","N\xB0","min","1","max","99",1,"form-control","number-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"fas","fa-plus","me-2"],[1,"btn-text"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-save","me-2"],[1,"player-item","mb-2"],[1,"player-card"],[1,"player-type-icon"],["placeholder","Nom du joueur",1,"form-control","player-name-input",3,"ngModelChange","ngModel"],["type","number","placeholder","N\xB0","min","1","max","99",1,"form-control","player-number-input",3,"ngModelChange","ngModel"],["class","badge bg-primary goals-badge",3,"click",4,"ngIf"],[1,"player-actions"],["class","btn btn-sm btn-outline-danger","title","Supprimer le joueur",3,"click",4,"ngIf"],["title","Changer le type (Attaquant)",1,"fas","fa-futbol","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield","type-icon","type-icon-clickable",3,"click"],[1,"badge","bg-primary","goals-badge",3,"click"],["title","Supprimer le joueur",1,"btn","btn-sm","btn-outline-danger",3,"click"],["tabindex","-1",1,"modal","fade","show",2,"display","block","background","rgba(0,0,0,0.5)"],["type","button","aria-label","Fermer",1,"btn-close",3,"click"],["class","mb-2",4,"ngFor","ngForOf"],["class","small text-muted",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-calendar-alt","me-1"],[1,"ms-2"],[1,"fas","fa-stopwatch"],[1,"small","text-muted"],[1,"import-team-modal"],["class","w-100",4,"ngIf"],["class","w-100 d-flex gap-2",4,"ngIf"],[1,"text-center","mb-4"],[1,"fas","fa-key","fa-3x","text-info","mb-3"],[1,"text-muted","small"],[1,"form-label"],["type","text","placeholder","Entrez le code Secret",1,"form-control","form-control-lg",3,"ngModelChange","keyup.enter","ngModel","ngModelOptions"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"],[1,"fas","fa-exclamation-circle","me-2"],[1,"mb-3","d-flex","align-items-center","gap-2"],[1,"fas","fa-arrow-left","me-1"],["class","text-center py-4",4,"ngIf"],[1,"text-center","py-4"],[1,"fas","fa-spinner","fa-spin","fa-2x"],[1,"fas","fa-info-circle","fa-2x","text-muted"],[1,"mt-2","text-muted"],[1,"text-muted","mb-3"],["class","alert alert-info mt-3",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"ngModelChange","value","ngModel","ngModelOptions","id"],[1,"form-check-label",3,"for"],[1,"alert","alert-info","mt-3"],[1,"fas","fa-spinner","fa-spin","me-2"],["class","import-logs mt-2",4,"ngIf"],[1,"import-logs","mt-2"],["class","d-block",4,"ngFor","ngForOf"],[1,"d-block"],[1,"w-100"],["type","button",1,"btn","btn-primary","w-100",3,"click","disabled"],[1,"fas","fa-check","me-2"],[1,"w-100","d-flex","gap-2"],["type","button",1,"btn","btn-primary","flex-grow-1",3,"click","disabled"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["placeholder","Nom de l'\xE9quipe",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"mb-2","fw-bold"],["class","d-flex align-items-center mb-2 gap-2",4,"ngFor","ngForOf"],[1,"btn","btn-link","p-0","mt-1",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"d-flex","align-items-center","mb-2","gap-2"],["placeholder","Nom du joueur",1,"form-control","form-control-sm",2,"min-width","150px","flex","1",3,"ngModelChange","ngModel","ngModelOptions"],[1,"form-select","form-select-sm",2,"max-width","120px",3,"ngModelChange","ngModel","ngModelOptions"],["value","attaquant"],["value","milieu"],["value","defenseur"],["class","btn btn-outline-danger btn-sm",3,"disabled","click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"action-selection-modal"],[1,"row","g-2"],[1,"col-6"],[1,"btn","btn-primary","w-100","mb-2","rounded-pill",3,"click"],[1,"fas","fa-bullseye","me-2"],[1,"fas","fa-running","me-2"],[1,"fas","fa-exchange-alt","me-2"],[1,"fas","fa-bolt","me-2"],[1,"fas","fa-hand-paper","me-2"],[1,"fas","fa-shield-alt","me-2"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"player-selection-modal"],[1,"fas","fa-user","me-2"],["class","col-6",4,"ngFor","ngForOf"],[1,"btn","btn-outline-primary","w-100","mb-2",3,"click"],[1,"modal-overlay","sheet-code-modal-overlay",2,"position","fixed !important","top","0 !important","left","0 !important","width","100vw !important","height","100vh !important","background-color","rgba(0, 0, 0, 0.7) !important","z-index","999999 !important","display","flex !important","justify-content","center !important","align-items","center !important"],[1,"modal",2,"position","relative !important","z-index","1000000 !important","background","white !important","border-radius","15px !important","padding","0 !important","max-width","500px !important","width","90% !important","box-shadow","0 20px 60px rgba(0, 0, 0, 0.5) !important"],[1,"modal-header",2,"background","linear-gradient(135deg, #3498db, #2980b9) !important","color","white !important","padding","1.5rem !important","border-radius","15px 15px 0 0 !important"],[1,"modal-title",2,"margin","0 !important","font-size","1.3rem !important"],[1,"fas","fa-key","me-2"],["type","button","aria-label","Fermer",1,"close-button",2,"background","none !important","border","none !important","color","white !important","font-size","1.5rem !important","cursor","pointer !important",3,"click"],[1,"modal-body",2,"padding","2rem !important","background","white !important"],[1,"text-muted","mb-3",2,"margin-bottom","1rem !important"],[1,"fas","fa-info-circle","me-2"],[1,"mb-3",2,"margin-bottom","1rem !important"],["for","sheetCodeInput",1,"form-label",2,"display","block !important","margin-bottom","0.5rem !important"],["type","text","id","sheetCodeInput","placeholder","ABC123","maxlength","6",1,"form-control","text-uppercase","text-center",2,"font-size","1.2em !important","letter-spacing","0.2em !important","font-weight","bold !important","border","2px solid #dee2e6 !important","border-radius","8px !important","padding","1rem !important","width","100% !important","text-align","center !important",3,"ngModelChange","keyup.enter","input","ngModel"],["class","alert alert-info","style",`background: linear-gradient(135deg, #d4edda, #c3e6cb) !important;
                  color: #155724 !important;
                  border: none !important;
                  border-radius: 8px !important;
                  padding: 1rem !important;
                  margin-top: 1rem !important;`,4,"ngIf"],["class","alert alert-warning","style",`background: linear-gradient(135deg, #fff3cd, #ffeaa7) !important;
                  color: #856404 !important;
                  border: none !important;
                  border-radius: 8px !important;
                  padding: 1rem !important;
                  margin-top: 1rem !important;`,4,"ngIf"],[1,"modal-footer",2,"padding","1rem 2rem 2rem 2rem !important","border-top","1px solid #dee2e6 !important","display","flex !important","justify-content","flex-end !important","gap","1rem !important","background","white !important","border-radius","0 0 15px 15px !important"],["type","button",1,"btn","btn-secondary",2,"padding","0.5rem 1rem !important","border-radius","5px !important",3,"click"],["type","button",1,"btn","btn-success",2,"padding","0.5rem 1rem !important","border-radius","5px !important",3,"click","disabled"],["style","margin-left: 0.5rem;",4,"ngIf"],[1,"alert","alert-info",2,"background","linear-gradient(135deg, #d4edda, #c3e6cb) !important","color","#155724 !important","border","none !important","border-radius","8px !important","padding","1rem !important","margin-top","1rem !important"],[1,"fas","fa-check-circle","me-2"],[1,"alert","alert-warning",2,"background","linear-gradient(135deg, #fff3cd, #ffeaa7) !important","color","#856404 !important","border","none !important","border-radius","8px !important","padding","1rem !important","margin-top","1rem !important"],[2,"margin-left","0.5rem"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span",3),m(4,"BUUUT"),h(),d(5,"span",4),m(6,".be"),h()(),d(7,"div",5)(8,"p",6),m(9,"Immortalisez vos matchs!"),h(),d(10,"button",7),E("click",function(){return i.showHelpModal=!0}),b(11,"i",8),h()()(),d(12,"div",9),T(13,dU,4,1,"button",10)(14,hU,4,1,"button",10)(15,fU,4,2,"button",11)(16,pU,3,6,"button",12)(17,mU,3,8,"button",13)(18,yU,32,4,"div",14)(19,wU,1,7,"app-competition-filter-modal",15),h(),T(20,PU,55,14,"div",14)(21,mB,4,1,"div",16)(22,QB,45,20,"div",14)(23,s$,48,17,"div",17)(24,p$,14,11,"div",18)(25,jq,101,53,"div",19)(26,Uq,25,4,"div",20)(27,zq,50,6,"div",20)(28,Hq,40,2,"div",14),h(),b(29,"router-outlet"),T(30,n6,52,9,"div",21)(31,s6,8,2,"div",22)(32,y6,15,4,"div",14)(33,b6,22,5,"div",22)(34,E6,62,2,"div",14)(35,S6,22,3,"div",14)(36,R6,27,7,"div",23)),t&2&&(f(13),_("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),f(),_("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),f(),_("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm),f(),_("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm&&i.selectedCompetitionFilter&&!i.selectedCompetitionFilter.includes("-")),f(),_("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm&&!i.selectedCompetitionFilter.includes("-")),f(),_("ngIf",i.showTeamFilterModal),f(),_("ngIf",i.showCompetitionFilterModal),f(),_("ngIf",i.showMatchForm),f(),_("ngIf",i.filteredMatches.length>0),f(),_("ngIf",i.selectedMatch&&i.showScoreForm),f(),_("ngIf",i.selectedMatch&&i.showMatchEditForm),f(),_("ngIf",i.showCelebration&&i.celebrationConfig),f(),_("ngIf",i.showDispositionModal&&i.selectedMatch),f(),_("ngIf",i.showExportModal),f(),_("ngIf",i.showHelpModal),f(),_("ngIf",i.showRankingModal),f(2),_("ngIf",i.showEditPlayersModal&&i.teamToEdit&&i.teamToEdit.players),f(),_("ngIf",i.selectedPlayerGoalsModal),f(),_("ngIf",i.showImportTeamModal),f(),_("ngIf",i.showNewTeamModal),f(),_("ngIf",i.showActionSelectionModal),f(),_("ngIf",i.showPlayerSelectionModal),f(),_("ngIf",i.showSheetCodeModal))},dependencies:[Ir,gE,Uo,Bo,_E,vE,Au,II,_I,Yu,Ju,Ho,rg,Xm,Wo,og,Ku,uI,ug,dg,lg,cg,sg,ag,Xu,ga,_1,Hg,y1],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:scale(1.1)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:.5rem;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #4b29b967}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:1000px;width:95%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.score-modal-content[_ngcontent-%COMP%]{display:contents}.score-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.5rem;border-bottom:none}.score-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;display:flex;align-items:center}.score-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;opacity:.7}.score-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1)}.score-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:.2rem;max-height:70vh;overflow-y:auto;background-color:#fff}.score-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.modal-body[_ngcontent-%COMP%]{overflow-y:auto}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.match-duels[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.5rem;margin-top:.5rem}.team-duels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.duels-column[_ngcontent-%COMP%]{flex:1;max-width:50%}.duels-column.left[_ngcontent-%COMP%]{text-align:left}.duels-column.right[_ngcontent-%COMP%]{text-align:right}.duel-equipe[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.duel-equipe[_ngcontent-%COMP%]   .minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4b29b900}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.team-scorers[_ngcontent-%COMP%]{gap:.5rem}.scorers-column[_ngcontent-%COMP%]{padding:.1rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:solid #3498db;width:98%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.buteur-team1[_ngcontent-%COMP%]{color:#3498db}.buteur-team2[_ngcontent-%COMP%]{color:#27ae60}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:98%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.5rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:.1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%], .duel-equipe[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#191137e6,#40327bcc);padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-controls[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.encoding-controls[_ngcontent-%COMP%]{margin-top:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;font-size:.8rem;padding:.375rem .75rem}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:8px;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:.5rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:1000px;width:98%;overflow-y:auto}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}.share-icon[_ngcontent-%COMP%]{color:#3498db;font-size:1.2em;margin-right:.5rem;transition:transform .3s ease;display:inline-block;transform:scaleX(-1)}.share-icon[_ngcontent-%COMP%]:hover{transform:scaleX(-1) scale(1.2);color:#2980b9}.badge-pastel-primary[_ngcontent-%COMP%]{background-color:#b3d1ff;color:#2c3e50}.badge-pastel-secondary[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#2c3e50}.badge-pastel-success[_ngcontent-%COMP%]{background-color:#b3ffb3;color:#2c3e50}.badge-pastel-danger[_ngcontent-%COMP%]{background-color:#ffb3b3;color:#2c3e50}.badge-pastel-warning[_ngcontent-%COMP%]{background-color:#ffe6b3;color:#2c3e50}.badge-pastel-info[_ngcontent-%COMP%]{background-color:#b3e6ff;color:#2c3e50}.badge-pastel-dark[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#2c3e50}.badge-pastel-purple[_ngcontent-%COMP%]{background-color:#e6b3ff;color:#2c3e50}.badge-pastel-pink[_ngcontent-%COMP%]{background-color:#ffb3e6;color:#2c3e50}.badge-pastel-teal[_ngcontent-%COMP%]{background-color:#b3ffe6;color:#2c3e50}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{font-size:1.3em;margin:0 .2em;cursor:pointer;color:#bbb;transition:color .2s,background .2s,border .2s;border-radius:50%;padding:.2em .3em}.type-icons[_ngcontent-%COMP%]   .type-icon.active-type[_ngcontent-%COMP%]{color:#fff;background:#3498db;border:2px solid #3498db}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]:hover{color:#3498db;background:#eaf6ff}.type-icon.type-icon-clickable[_ngcontent-%COMP%]{font-size:1em;color:#fff;background:#3498db;border:2px solid #3498db;border-radius:25%;padding:.25em .35em;margin-right:.5em;box-shadow:0 2px 8px #3498db40;cursor:pointer;transition:transform .1s,box-shadow .2s,background .2s;outline:2px solid #fff;outline-offset:2px}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:hover{background:#217dbb;color:#fff;box-shadow:0 4px 16px #3498db59;transform:scale(1.12) rotate(-8deg)}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:active{background:#176093;transform:scale(.95) rotate(4deg);box-shadow:0 2px 8px #3498db26}.list-group.position-absolute[_ngcontent-%COMP%]{z-index:1050;background:#fff;border:1px solid #ddd;box-shadow:0 2px 8px #00000014;max-height:220px;overflow-y:auto}.disabled-goal[_ngcontent-%COMP%]{opacity:.5;background-color:#f8f9fa;border-color:#dee2e6!important}.disabled-goal[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-decoration:line-through;color:#6c757d!important}.disabled-goal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{opacity:.8}.disabled-scorer[_ngcontent-%COMP%]{opacity:.5;text-decoration:line-through;color:#6c757d!important}.disabled-scorer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through}.score-modal[_ngcontent-%COMP%], .match-edit-modal[_ngcontent-%COMP%], .disposition-modal[_ngcontent-%COMP%], .modal.fade.show[_ngcontent-%COMP%], .modal[style*="display:block"][_ngcontent-%COMP%]{background:#00000080!important}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1040;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.edit-players-overlay[_ngcontent-%COMP%]{z-index:1055!important}.team-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:600px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.match-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:800px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.ranking-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:1000px;width:95%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.import-team-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:700px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.team-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .import-team-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.team-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .import-team-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .import-team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .match-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .ranking-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .import-team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .import-team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.team-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .import-team-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.team-item[_ngcontent-%COMP%]{transition:all .3s ease}.team-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.team-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.team-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0}.team-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.team-badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem;border-radius:20px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}.import-logs[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:6px;padding:.5rem;max-height:150px;overflow-y:auto}.import-logs[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.85rem}@media (max-width: 768px){.team-modal[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%], .import-team-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .import-team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.team-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;text-align:left;min-height:55px}.team-actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-end;gap:.5rem;flex-shrink:0}.team-info[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.team-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}@media (max-width: 480px){.team-card[_ngcontent-%COMP%]{flex-direction:row;text-align:left;min-height:50px;padding:.75rem}.team-actions[_ngcontent-%COMP%]{justify-content:flex-end;width:auto;gap:.4rem}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.team-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.team-modal[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.edit-players-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:700px;width:90%;max-height:90vh;overflow:hidden;z-index:1060;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.edit-players-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.edit-players-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.edit-players-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.edit-players-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.edit-players-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.players-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .add-player-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.player-item[_ngcontent-%COMP%]{transition:all .3s ease}.player-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:.4rem .5rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:.4rem;min-height:40px;overflow-x:auto;white-space:nowrap}.player-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.player-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0;gap:.75rem}.player-type-icon[_ngcontent-%COMP%]{flex-shrink:0}.player-name-input[_ngcontent-%COMP%]{flex:0 0 180px;width:180px!important;min-width:180px;max-width:180px;padding:.25rem .4rem;font-size:.9rem;height:32px}.player-number-input[_ngcontent-%COMP%]{flex:0 0 60px;width:60px!important;text-align:center;padding:.25rem .3rem;font-size:.9rem;height:32px}.goals-badge[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer;transition:all .3s ease;padding:.25rem .5rem;font-size:.85rem}.goals-badge[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.player-actions[_ngcontent-%COMP%]{display:flex;gap:.3rem;flex-shrink:0;align-items:center}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.3rem;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.add-player-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:1.5rem;border-radius:10px;border:1px solid #dee2e6}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;min-width:0}.input-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap;width:100%}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1;min-width:0;border:2px solid #e9ecef;border-radius:8px;padding:.75rem;transition:border-color .3s ease,box-shadow .3s ease;width:auto}.add-player-form[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]{flex:0 0 80px;width:80px!important}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.type-selector[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;border-radius:8px;transition:all .3s ease;flex-shrink:0;white-space:nowrap}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.action-selection-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:600px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.action-selection-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.action-selection-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;display:flex;align-items:center}.action-selection-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;opacity:.8}.action-selection-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1)}.action-selection-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto;background-color:#fff}.action-selection-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.actions-section[_ngcontent-%COMP%]{border-radius:10px;padding:1rem;border:2px solid #dee2e6}.actions-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin-bottom:.75rem}.action-group[_ngcontent-%COMP%]{margin-bottom:.75rem}.action-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.375rem .75rem;border-radius:20px;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border:none}.action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.action-buttons[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{border:none;color:#212529}.action-buttons[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #ffc1074d;color:#212529}.action-buttons[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{border:none}.action-buttons[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #dc35454d}.player-selection-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:600px;width:90%;max-height:80vh;overflow:hidden;z-index:1060;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.player-selection-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.player-selection-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.player-selection-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.player-selection-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.player-selection-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.player-selection-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.player-selection-modal[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border-radius:8px;transition:all .2s ease;border:2px solid #007bff}.player-selection-modal[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#007bff,#0056b3);border-color:#0056b3;transform:translateY(-1px);box-shadow:0 4px 8px #007bff33}@media (max-width: 576px){.actions-section[_ngcontent-%COMP%]{padding:.75rem}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.8rem;padding:.25rem .5rem}.player-selection-modal[_ngcontent-%COMP%]{max-width:95%}.player-selection-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 768px){.edit-players-modal[_ngcontent-%COMP%]{width:95%;max-height:95vh}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.player-card[_ngcontent-%COMP%]{padding:.4rem .5rem;gap:.3rem;flex-wrap:nowrap;overflow-x:auto}.player-main-row[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.3rem}.player-name-input[_ngcontent-%COMP%]{flex:0 0 150px;width:150px!important;min-width:150px;max-width:150px}.player-number-input[_ngcontent-%COMP%]{flex:0 0 55px;width:55px!important}.add-player-section[_ngcontent-%COMP%]{padding:1rem}.input-row[_ngcontent-%COMP%]{gap:.5rem}.add-player-form[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]{flex:0 0 70px;width:70px!important}}@media (max-width: 576px){.edit-players-modal[_ngcontent-%COMP%]{width:98%;max-height:98vh;margin:1vh}.edit-players-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:.75rem}.edit-players-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.25rem}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .edit-players-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem}.player-card[_ngcontent-%COMP%]{padding:.4rem .5rem;gap:.25rem;flex-direction:row;flex-wrap:nowrap;align-items:center;overflow-x:auto;white-space:nowrap}.player-info[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;gap:.25rem;flex:1;min-width:0}.player-main-row[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.25rem;align-items:center}.player-type-icon[_ngcontent-%COMP%]{flex:0 0 auto}.player-name-input[_ngcontent-%COMP%]{flex:0 0 120px;width:120px!important;min-width:120px;max-width:120px}.player-number-input[_ngcontent-%COMP%]{flex:0 0 50px;width:50px!important}.goals-badge[_ngcontent-%COMP%]{flex:0 0 auto;white-space:nowrap}.player-actions[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:.25rem}.add-player-section[_ngcontent-%COMP%]{padding:.75rem}.add-player-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.75rem}.input-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.type-selector[_ngcontent-%COMP%]{order:1;align-self:center;margin-bottom:.5rem}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(.number-input){order:2;width:100%}.add-player-form[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]{order:3;align-self:center;flex:0 0 80px;width:80px!important}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{order:4;width:100%;margin-top:.5rem;padding:.75rem}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline}}@media (max-width: 480px){.edit-players-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.1rem}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:.75rem}.players-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .add-player-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.95rem;padding-bottom:.25rem}.player-card[_ngcontent-%COMP%]{padding:.5rem;min-height:auto}.player-main-row[_ngcontent-%COMP%]{gap:.4rem}.player-name-input[_ngcontent-%COMP%], .add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem}.player-number-input[_ngcontent-%COMP%], .add-player-form[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem;text-align:center}.goals-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.25rem .5rem}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:30px;height:30px;padding:.25rem}.type-icon.type-icon-clickable[_ngcontent-%COMP%]{font-size:.9rem;padding:.2em .3em}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.6rem}}@media (max-width: 320px){.edit-players-modal[_ngcontent-%COMP%]{width:100%;height:100%;max-height:100vh;border-radius:0;margin:0}.edit-players-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0;padding:.5rem}.edit-players-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1rem}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:.5rem}.player-card[_ngcontent-%COMP%]{padding:.4rem;margin-bottom:.5rem}.player-name-input[_ngcontent-%COMP%]{font-size:.85rem}.player-number-input[_ngcontent-%COMP%]{flex:0 0 60px;width:60px!important;font-size:.85rem}.goals-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .4rem}.add-player-section[_ngcontent-%COMP%]{padding:.5rem}.add-player-form[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]{flex:0 0 60px;width:60px!important}}.btn-score-light[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:#495057;box-shadow:0 4px 14px #0000001a;transition:all .3s ease}.btn-score-light[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.btn-score-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#218838);color:#fff;box-shadow:0 4px 14px #28a74533;transition:all .2s ease}.btn-score-success[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #21883840}.btn-score-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;box-shadow:0 4px 14px #dc354533;transition:all .2s ease}.btn-score-danger[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #c8233340}']})}};var wS=(()=>{class n{constructor(t){this.http=t,this.apiUrl="http://localhost:3000/api/matches"}createMatch(t){return this.http.post(this.apiUrl,t)}getAllMatches(){return this.http.get(this.apiUrl)}getMatchById(t){return this.http.get(`${this.apiUrl}/${t}`)}updateMatch(t,i){return this.http.put(`${this.apiUrl}/${t}`,i)}deleteMatch(t){return this.http.delete(`${this.apiUrl}/${t}`)}static{this.\u0275fac=function(i){return new(i||n)($(Bm))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function N6(n,e){if(n&1&&(d(0,"span"),m(1),h()),n&2){let t=g().$implicit;f(),O("(Assist: ",t.assist,")")}}function k6(n,e){if(n&1&&(d(0,"div",5)(1,"p"),m(2),T(3,N6,2,1,"span",6),h()()),n&2){let t=e.$implicit;f(2),cn(" ",t.nom," (",t.minute,"') "),f(),_("ngIf",t.assist)}}function F6(n,e){if(n&1&&(d(0,"div",1)(1,"h2"),m(2),h(),d(3,"div",2)(4,"p"),m(5),Fo(6,"date"),h(),d(7,"p"),m(8),h(),d(9,"p"),m(10),h()(),d(11,"div",3)(12,"h3"),m(13,"Buteurs"),h(),T(14,k6,4,3,"div",4),h()()),n&2){let t=g();f(2),cn("",t.match.equipe1," vs ",t.match.equipe2,""),f(3),O("Date: ",na(6,7,t.match.heureDebut,"medium"),""),f(3),O("Lieu: ",t.match.lieu,""),f(2),cn("Score: ",t.match.score1," - ",t.match.score2,""),f(4),_("ngForOf",t.match.buteurs)}}var CS=(()=>{class n{constructor(t,i){this.route=t,this.firestoreService=i,this.match=null}ngOnInit(){this.route.params.subscribe(t=>{let i=t.id;i&&this.loadMatch(i)})}loadMatch(t){return I(this,null,function*(){try{this.match=yield this.firestoreService.getMatchById(t)}catch(i){console.error("Erreur lors du chargement du match:",i)}})}static{this.\u0275fac=function(i){return new(i||n)(q(pi),q(Fs))}}static{this.\u0275cmp=Pi({type:n,selectors:[["app-match-detail"]],standalone:!0,features:[Ri],decls:1,vars:1,consts:[["class","match-detail",4,"ngIf"],[1,"match-detail"],[1,"match-info"],[1,"buteurs"],["class","buteur",4,"ngFor","ngForOf"],[1,"buteur"],[4,"ngIf"]],template:function(i,r){i&1&&T(0,F6,15,10,"div",0),i&2&&_("ngIf",r.match)},dependencies:[Ir,Uo,Bo,Au],styles:[".match-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.match-info[_ngcontent-%COMP%]{margin:20px 0}.buteurs[_ngcontent-%COMP%]{margin-top:20px}.buteur[_ngcontent-%COMP%]{margin:10px 0}"]})}}return n})();var bS=[{path:"match/:id",component:CS}];var ES={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var IS={providers:[h1(bS),Fs,$p(G1(()=>H1(ES.firebaseConfig)),_S(()=>vS()))]};FE(sf,{providers:[...IS.providers,SE(),wS]}).catch(n=>console.error(n));
