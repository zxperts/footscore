var sx=Object.defineProperty,ax=Object.defineProperties;var cx=Object.getOwnPropertyDescriptors;var p0=Object.getOwnPropertySymbols;var ux=Object.prototype.hasOwnProperty,lx=Object.prototype.propertyIsEnumerable;var m0=(t,e,n)=>e in t?sx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||={})ux.call(e,n)&&m0(t,n,e[n]);if(p0)for(var n of p0(e))lx.call(e,n)&&m0(t,n,e[n]);return t},J=(t,e)=>ax(t,cx(e));var v=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var g0=null;var Hh=1,zh=Symbol("SIGNAL");function fe(t){let e=g0;return g0=t,e}var y0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dx(t){if(!(Kh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hh)){if(!t.producerMustRecompute(t)&&!Gh(t)){t.dirty=!1,t.lastCleanEpoch=Hh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Hh}}function v0(t){return t&&(t.nextProducerIndex=0),fe(t)}function _0(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Kh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Wh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Gh(t){xc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dx(n),r!==n.version))return!0}return!1}function w0(t){if(xc(t),Kh(t))for(let e=0;e<t.producerNode.length;e++)Wh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wh(t,e){if(hx(t),xc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Wh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];xc(i),i.producerIndexOfThis[r]=e}}function Kh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function hx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fx(){throw new Error}var px=fx;function I0(t){px=t}function K(t){return typeof t=="function"}function zi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Mc=zi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Kr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof Mc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{E0(o)}catch(s){e=e??[],s instanceof Mc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Mc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)E0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Kr(n,e)}remove(e){let{_finalizers:n}=this;n&&Kr(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var Qh=Fe.EMPTY;function Pc(t){return t instanceof Fe||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function E0(t){K(t)?t():t.unsubscribe()}var an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gi={setTimeout(t,e,...n){let{delegate:r}=Gi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Gi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Rc(t){Gi.setTimeout(()=>{let{onUnhandledError:e}=an;if(e)e(t);else throw t})}function Ts(){}var C0=Yh("C",void 0,void 0);function b0(t){return Yh("E",void 0,t)}function D0(t){return Yh("N",t,void 0)}function Yh(t,e,n){return{kind:t,value:e,error:n}}var Qr=null;function Wi(t){if(an.useDeprecatedSynchronousErrorHandling){let e=!Qr;if(e&&(Qr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Qr;if(Qr=null,n)throw r}}else t()}function T0(t){an.useDeprecatedSynchronousErrorHandling&&Qr&&(Qr.errorThrown=!0,Qr.error=t)}var Yr=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pc(e)&&e.add(this)):this.destination=yx}static create(e,n,r){return new Ki(e,n,r)}next(e){this.isStopped?Zh(D0(e),this):this._next(e)}error(e){this.isStopped?Zh(b0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zh(C0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mx=Function.prototype.bind;function Jh(t,e){return mx.call(t,e)}var Xh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Nc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Nc(r)}else Nc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Nc(n)}}},Ki=class extends Yr{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&an.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Jh(e.next,o),error:e.error&&Jh(e.error,o),complete:e.complete&&Jh(e.complete,o)}):i=e}this.destination=new Xh(i)}};function Nc(t){an.useDeprecatedSynchronousErrorHandling?T0(t):Rc(t)}function gx(t){throw t}function Zh(t,e){let{onStoppedNotification:n}=an;n&&Gi.setTimeout(()=>n(t,e))}var yx={closed:!0,next:Ts,error:gx,complete:Ts};var Qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(t){return t}function ef(...t){return tf(t)}function tf(t){return t.length===0?Rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=_x(n)?n:new Ki(n,r,i);return Wi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=S0(r),new r((i,o)=>{let s=new Ki({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Qi](){return this}pipe(...n){return tf(n)(this)}toPromise(n){return n=S0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function S0(t){var e;return(e=t??an.Promise)!==null&&e!==void 0?e:Promise}function vx(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function _x(t){return t&&t instanceof Yr||vx(t)&&Pc(t)}function nf(t){return K(t?.lift)}function le(t){return e=>{if(nf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new rf(t,e,n,r,i)}var rf=class extends Yr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yi(){return le((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ji=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Yi()(this)}};var A0=zi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mt=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Oc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new A0}next(n){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Qh:(this.currentObservers=null,o.push(n),new Fe(()=>{this.currentObservers=null,Kr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Oc(e,n),t})(),Oc=class extends mt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Qh}};var Xe=class extends mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var of={now(){return(of.delegate||Date).now()},delegate:void 0};var kc=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ss={setInterval(t,e,...n){let{delegate:r}=Ss;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ss;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Zi=class extends kc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ss.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ss.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Kr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Xi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Xi.now=of.now;var eo=class extends Xi{constructor(e,n=Xi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var sf=new eo(Zi);var Fc=class extends Zi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Vc=class extends eo{};var af=new Vc(Fc);var Nt=new oe(t=>t.complete());function x0(t){return t&&K(t.schedule)}function M0(t){return t[t.length-1]}function Lc(t){return K(M0(t))?t.pop():void 0}function dr(t){return x0(M0(t))?t.pop():void 0}function cf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function R0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function P0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jr(t){return this instanceof Jr?(this.v=t,this):new Jr(t)}function N0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,d)}}function a(m,w){r[m]&&(i[m]=function(I){return new Promise(function(E,R){o.push([m,I,E,R])>1||c(m,I)})},w&&(i[m]=w(i[m])))}function c(m,w){try{u(r[m](w))}catch(I){p(o[0][3],I)}}function u(m){m.value instanceof Jr?Promise.resolve(m.value.v).then(l,d):p(o[0][2],m)}function l(m){c("next",m)}function d(m){c("throw",m)}function p(m,w){m(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function O0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof P0=="function"?P0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var jc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Uc(t){return K(t?.then)}function Bc(t){return K(t[Qi])}function $c(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function qc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hc=wx();function zc(t){return K(t?.[Hc])}function Gc(t){return N0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Jr(n.read());if(i)return yield Jr(void 0);yield yield Jr(r)}}finally{n.releaseLock()}})}function Wc(t){return K(t?.getReader)}function je(t){if(t instanceof oe)return t;if(t!=null){if(Bc(t))return Ix(t);if(jc(t))return Ex(t);if(Uc(t))return Cx(t);if($c(t))return k0(t);if(zc(t))return bx(t);if(Wc(t))return Dx(t)}throw qc(t)}function Ix(t){return new oe(e=>{let n=t[Qi]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ex(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Cx(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Rc)})}function bx(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function k0(t){return new oe(e=>{Tx(t,e).catch(n=>e.error(n))})}function Dx(t){return k0(Gc(t))}function Tx(t,e){var n,r,i,o;return R0(this,void 0,void 0,function*(){try{for(n=O0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ct(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function hr(t,e=0){return le((n,r)=>{n.subscribe(se(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function fr(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function F0(t,e){return je(t).pipe(fr(e),hr(e))}function V0(t,e){return je(t).pipe(fr(e),hr(e))}function L0(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function j0(t,e){return new oe(n=>{let r;return Ct(n,e,()=>{r=t[Hc](),Ct(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Kc(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function U0(t,e){return Kc(Gc(t),e)}function B0(t,e){if(t!=null){if(Bc(t))return F0(t,e);if(jc(t))return L0(t,e);if(Uc(t))return V0(t,e);if($c(t))return Kc(t,e);if(zc(t))return j0(t,e);if(Wc(t))return U0(t,e)}throw qc(t)}function Me(t,e){return e?B0(t,e):je(t)}function q(...t){let e=dr(t);return Me(t,e)}function to(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function uf(t){return!!t&&(t instanceof oe||K(t.lift)&&K(t.subscribe))}var Hn=zi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return le((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Sx}=Array;function Ax(t,e){return Sx(e)?t(...e):t(e)}function Qc(t){return Z(e=>Ax(t,e))}var{isArray:xx}=Array,{getPrototypeOf:Mx,prototype:Px,keys:Rx}=Object;function Yc(t){if(t.length===1){let e=t[0];if(xx(e))return{args:e,keys:null};if(Nx(e)){let n=Rx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Nx(t){return t&&typeof t=="object"&&Mx(t)===Px}function Jc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function As(...t){let e=dr(t),n=Lc(t),{args:r,keys:i}=Yc(t);if(r.length===0)return Me([],e);let o=new oe(Ox(r,e,i?s=>Jc(i,s):Rt));return n?o.pipe(Qc(n)):o}function Ox(t,e,n=Rt){return r=>{$0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)$0(e,()=>{let u=Me(t[c],e),l=!1;u.subscribe(se(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function $0(t,e,n){t?Ct(n,t,e):e()}function q0(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,p=()=>{d&&!c.length&&!u&&e.complete()},m=I=>u<r?w(I):c.push(I),w=I=>{o&&e.next(I),u++;let E=!1;je(n(I,l++)).subscribe(se(e,R=>{i?.(R),o?m(R):e.next(R)},()=>{E=!0},void 0,()=>{if(E)try{for(u--;c.length&&u<r;){let R=c.shift();s?Ct(e,s,()=>w(R)):w(R)}p()}catch(R){e.error(R)}}))};return t.subscribe(se(e,m,()=>{d=!0,p()})),()=>{a?.()}}function Ue(t,e,n=1/0){return K(e)?Ue((r,i)=>Z((o,s)=>e(r,o,i,s))(je(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>q0(r,i,t,n)))}function no(t=1/0){return Ue(Rt,t)}function H0(){return no(1)}function ro(...t){return H0()(Me(t,dr(t)))}function Zc(t){return new oe(e=>{je(t()).subscribe(e)})}function lf(...t){let e=Lc(t),{args:n,keys:r}=Yc(t),i=new oe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;je(n[l]).subscribe(se(o,p=>{d||(d=!0,u--),a[l]=p},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?Jc(r,a):a),o.complete())}))}});return e?i.pipe(Qc(e)):i}function bt(t,e){return le((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function pr(t){return le((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=je(t(s,pr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function z0(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(se(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function zn(t,e){return K(e)?Ue(t,e,1):Ue(t,1)}function mr(t){return le((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Gn(t){return t<=0?()=>Nt:le((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function df(t){return Z(()=>t)}function Xc(t=kx){return le((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function kx(){return new Hn}function Zr(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Cn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bt((i,o)=>t(i,o,r)):Rt,Gn(1),n?mr(e):Xc(()=>new Hn))}function io(t){return t<=0?()=>Nt:le((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bt((i,o)=>t(i,o,r)):Rt,io(1),n?mr(e):Xc(()=>new Hn))}function ff(t,e){return le(z0(t,e,arguments.length>=2,!0))}function pf(...t){let e=dr(t);return le((n,r)=>{(e?ro(t,n,e):ro(t,n)).subscribe(r)})}function Dt(t,e){return le((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(se(r,c=>{i?.unsubscribe();let u=0,l=o++;je(t(c,l)).subscribe(i=se(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function mf(t){return le((e,n)=>{je(t).subscribe(se(n,()=>n.complete(),Ts)),!n.closed&&e.subscribe(n)})}function Be(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Rt}var Fx="https://g.co/ng/security#xss",L=class extends Error{constructor(e,n){super(xu(e,n)),this.code=e}};function xu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Bs(t){return{toString:t}.toString()}var eu="__parameters__";function Vx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function xw(t,e,n){return Bs(()=>{let r=Vx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(eu)?c[eu]:Object.defineProperty(c,eu,{value:[]})[eu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Wn=globalThis;function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function Lx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function G0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var jx=be({__forward_ref__:be});function vt(t){return t.__forward_ref__=vt,t.toString=function(){return yt(this())},t}function gt(t){return Mw(t)?t():t}function Mw(t){return typeof t=="function"&&t.hasOwnProperty(jx)&&t.__forward_ref__===vt}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function St(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mu(t){return W0(t,Rw)||W0(t,Nw)}function Pw(t){return Mu(t)!==null}function W0(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ux(t){let e=t&&(t[Rw]||t[Nw]);return e||null}function K0(t){return t&&(t.hasOwnProperty(Q0)||t.hasOwnProperty(Bx))?t[Q0]:null}var Rw=be({\u0275prov:be}),Q0=be({\u0275inj:be}),Nw=be({ngInjectableDef:be}),Bx=be({ngInjectorDef:be}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ow(t){return t&&!!t.\u0275providers}var $x=be({\u0275cmp:be}),qx=be({\u0275dir:be}),Hx=be({\u0275pipe:be}),zx=be({\u0275mod:be}),cu=be({\u0275fac:be}),xs=be({__NG_ELEMENT_ID__:be}),Y0=be({__NG_ENV_ID__:be});function Ms(t){return typeof t=="string"?t:t==null?"":String(t)}function Gx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ms(t)}function Wx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,t)}function _p(t,e){throw new L(-201,!1)}var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{}),Rf;function kw(){return Rf}function Tt(t){let e=Rf;return Rf=t,e}function Fw(t,e,n){let r=Mu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ne.Optional)return null;if(e!==void 0)return e;_p(t,"Injector")}var Kx={},Ps=Kx,Nf="__NG_DI_FLAG__",uu="ngTempTokenPath",Qx="ngTokenPath",Yx=/\n/gm,Jx="\u0275",J0="__source",uo;function Zx(){return uo}function gr(t){let e=uo;return uo=t,e}function Xx(t,e=ne.Default){if(uo===void 0)throw new L(-203,!1);return uo===null?Fw(t,void 0,e):uo.get(t,e&ne.Optional?null:void 0,e)}function V(t,e=ne.Default){return(kw()||Xx)(gt(t),e)}function M(t,e=ne.Default){return V(t,Pu(e))}function Pu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Of(t){let e=[];for(let n=0;n<t.length;n++){let r=gt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){let a=r[s],c=eM(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(V(i,o))}else e.push(V(r))}return e}function Vw(t,e){return t[Nf]=e,t.prototype[Nf]=e,t}function eM(t){return t[Nf]}function tM(t,e,n,r){let i=t[uu];throw e[J0]&&i.unshift(e[J0]),t.message=nM(`
`+t.message,i,n,r),t[Qx]=i,t[uu]=null,t}function nM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Jx?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Yx,`
  `)}`}var zt=Vw(xw("Optional"),8);var wp=Vw(xw("SkipSelf"),4);function ni(t,e){let n=t.hasOwnProperty(cu);return n?t[cu]:null}function Ip(t,e){t.forEach(n=>Array.isArray(n)?Ip(n,e):e(n))}function Lw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function rM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function iM(t,e,n){let r=$s(t,e);return r>=0?t[r|1]=n:(r=~r,rM(t,r,e,n)),r}function gf(t,e){let n=$s(t,e);if(n>=0)return t[n|1]}function $s(t,e){return oM(t,e,1)}function oM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ho={},$t=[],fo=new F(""),jw=new F("",-1),Uw=new F(""),du=class{get(e,n=Ps){if(n===Ps){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}},Bw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bw||{}),Tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tn||{}),tt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(tt||{});function sM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function kf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];cM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function aM(t){return t===3||t===4||t===6}function cM(t){return t.charCodeAt(0)===64}function Rs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Z0(t,n,i,null,e[++r]):Z0(t,n,i,null,null))}}return t}function Z0(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var $w="ng-template";function uM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&sM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ep(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ep(t){return t.type===4&&t.value!==$w}function lM(t,e,n){let r=t.type===4&&!n?$w:t.value;return e===r}function dM(t,e,n){let r=4,i=t.attrs,o=i!==null?pM(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!cn(r)&&!cn(c))return!1;if(s&&cn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!lM(t,c,n)||c===""&&e.length===1){if(cn(r))return!1;s=!0}}else if(r&8){if(i===null||!uM(t,i,c,n)){if(cn(r))return!1;s=!0}}else{let u=e[++a],l=hM(c,i,Ep(t),n);if(l===-1){if(cn(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(cn(r))return!1;s=!0}}}}return cn(r)||s}function cn(t){return(t&1)===0}function hM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return mM(e,t)}function fM(t,e,n=!1){for(let r=0;r<e.length;r++)if(dM(t,e[r],n))return!0;return!1}function pM(t){for(let e=0;e<t.length;e++){let n=t[e];if(aM(n))return e}return t.length}function mM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function X0(t,e){return t?":not("+e.trim()+")":e}function gM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!cn(s)&&(e+=X0(o,i),i=""),r=s,o=o||!cn(r);n++}return i!==""&&(e+=X0(o,i)),e}function yM(t){return t.map(gM).join(",")}function vM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!cn(i))break;i=o}r++}return{attrs:e,classes:n}}function Io(t){return Bs(()=>{let e=Kw(t),n=J(x({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tn.Emulated,styles:t.styles||$t,_:null,schemas:t.schemas||null,tView:null,id:""});Qw(n);let r=t.dependencies;return n.directiveDefs=tw(r,!1),n.pipeDefs=tw(r,!0),n.id=IM(n),n})}function _M(t){return vr(t)||Hw(t)}function wM(t){return t!==null}function At(t){return Bs(()=>({type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ew(t,e){if(t==null)return ho;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=tt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==tt.None?[r,a]:r,e[o]=s):n[o]=r}return n}function De(t){return Bs(()=>{let e=Kw(t);return Qw(e),e})}function qw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function vr(t){return t[$x]||null}function Hw(t){return t[qx]||null}function zw(t){return t[Hx]||null}function Gw(t){let e=vr(t)||Hw(t)||zw(t);return e!==null?e.standalone:!1}function Ww(t,e){let n=t[zx]||null;if(!n&&e===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function Kw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ho,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ew(t.inputs,e),outputs:ew(t.outputs),debugInfo:null}}function Qw(t){t.features?.forEach(e=>e(t))}function tw(t,e){if(!t)return null;let n=e?zw:_M;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(wM)}function IM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Eo(t){return{\u0275providers:t}}function Cp(...t){return{\u0275providers:Yw(!0,t),\u0275fromNgModule:!0}}function Yw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ip(e,s=>{let a=s;Ff(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Jw(i,o),n}function Jw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];bp(i,o=>{e(o,r)})}}function Ff(t,e,n,r){if(t=gt(t),!t)return!1;let i=null,o=K0(t),s=!o&&vr(t);if(!o&&!s){let c=t.ngModule;if(o=K0(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Ff(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Ip(o.imports,l=>{Ff(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Jw(u,e)}if(!a){let u=ni(i)||(()=>new i);e({provide:i,useFactory:u,deps:$t},i),e({provide:Uw,useValue:i,multi:!0},i),e({provide:fo,useValue:()=>V(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;bp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function bp(t,e){for(let n of t)Ow(n)&&(n=n.\u0275providers),Array.isArray(n)?bp(n,e):e(n)}var EM=be({provide:String,useValue:be});function Zw(t){return t!==null&&typeof t=="object"&&EM in t}function CM(t){return!!(t&&t.useExisting)}function bM(t){return!!(t&&t.useFactory)}function po(t){return typeof t=="function"}function DM(t){return!!t.useClass}var Ru=new F(""),ru={},TM={},yf;function Dp(){return yf===void 0&&(yf=new du),yf}var ct=class{},Ns=class extends ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lf(e,s=>this.processProvider(s)),this.records.set(jw,oo(void 0,this)),i.has("environment")&&this.records.set(ct,oo(void 0,this));let o=this.records.get(Ru);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Uw,$t,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=gr(this),r=Tt(void 0),i;try{return e()}finally{gr(n),Tt(r)}}get(e,n=Ps,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Y0))return e[Y0](this);r=Pu(r);let i,o=gr(this),s=Tt(void 0);try{if(!(r&ne.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=PM(e)&&Mu(e);u&&this.injectableDefInScope(u)?c=oo(Vf(e),ru):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ne.Self?Dp():this.parent;return n=r&ne.Optional&&n===Ps?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[uu]=a[uu]||[]).unshift(yt(e)),o)throw a;return tM(a,e,"R3InjectorError",this.source)}else throw a}finally{Tt(s),gr(o)}}resolveInjectorInitializers(){let e=fe(null),n=gr(this),r=Tt(void 0),i;try{let o=this.get(fo,$t,ne.Self);for(let s of o)s()}finally{gr(n),Tt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){e=gt(e);let n=po(e)?e:gt(e&&e.provide),r=AM(e);if(!po(e)&&e.multi===!0){let i=this.records.get(n);i||(i=oo(void 0,ru,!0),i.factory=()=>Of(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===ru&&(n.value=TM,n.value=n.factory()),typeof n.value=="object"&&n.value&&MM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=gt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vf(t){let e=Mu(t),n=e!==null?e.factory:ni(t);if(n!==null)return n;if(t instanceof F)throw new L(204,!1);if(t instanceof Function)return SM(t);throw new L(204,!1)}function SM(t){if(t.length>0)throw new L(204,!1);let n=Ux(t);return n!==null?()=>n.factory(t):()=>new t}function AM(t){if(Zw(t))return oo(void 0,t.useValue);{let e=Xw(t);return oo(e,ru)}}function Xw(t,e,n){let r;if(po(t)){let i=gt(t);return ni(i)||Vf(i)}else if(Zw(t))r=()=>gt(t.useValue);else if(bM(t))r=()=>t.useFactory(...Of(t.deps||[]));else if(CM(t))r=()=>V(gt(t.useExisting));else{let i=gt(t&&(t.useClass||t.provide));if(xM(t))r=()=>new i(...Of(t.deps));else return ni(i)||Vf(i)}return r}function oo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xM(t){return!!t.deps}function MM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function PM(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function Lf(t,e){for(let n of t)Array.isArray(n)?Lf(n,e):n&&Ow(n)?Lf(n.\u0275providers,e):e(n)}function dn(t,e){t instanceof Ns&&t.assertNotDestroyed();let n,r=gr(t),i=Tt(void 0);try{return e()}finally{gr(r),Tt(i)}}function eI(){return kw()!==void 0||Zx()!=null}function RM(t){if(!eI())throw new L(-203,!1)}function NM(t){return typeof t=="function"}var Yn=0,ae=1,G=2,ut=3,un=4,hn=5,hu=6,Os=7,ln=8,mo=9,Sn=10,Ve=11,ks=12,nw=13,Co=14,An=15,Nu=16,so=17,go=18,Ou=19,tI=20,yr=21,vf=22,ri=23,Ht=25,nI=1;var ii=7,fu=8,pu=9,qt=10,Tp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Tp||{});function ei(t){return Array.isArray(t)&&typeof t[nI]=="object"}function Jn(t){return Array.isArray(t)&&t[nI]===!0}function Sp(t){return(t.flags&4)!==0}function ku(t){return t.componentOffset>-1}function Fu(t){return(t.flags&1)===1}function _r(t){return!!t.template}function OM(t){return(t[G]&512)!==0}var jf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function rI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Zn(){return iI}function iI(t){return t.type.prototype.ngOnChanges&&(t.setInput=FM),kM}Zn.ngInherit=!0;function kM(){let t=sI(this),e=t?.current;if(e){let n=t.previous;if(n===ho)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function FM(t,e,n,r,i){let o=this.declaredInputs[r],s=sI(t)||VM(t,{previous:ho,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new jf(u&&u.currentValue,n,c===ho),rI(t,e,i,n)}var oI="__ngSimpleChanges__";function sI(t){return t[oI]||null}function VM(t,e){return t[oI]=e}var rw=null;var bn=function(t,e,n){rw?.(t,e,n)},LM="svg",jM="math",UM=!1;function BM(){return UM}function xn(t){for(;Array.isArray(t);)t=t[Yn];return t}function aI(t,e){return xn(e[t])}function Gt(t,e){return xn(e[t.index])}function cI(t,e){return t.data[e]}function uI(t,e){return t[e]}function Er(t,e){let n=e[t];return ei(n)?n:n[Yn]}function Ap(t){return(t[G]&128)===128}function $M(t){return Jn(t[ut])}function yo(t,e){return e==null?null:t[e]}function lI(t){t[so]=0}function qM(t){t[G]&1024||(t[G]|=1024,Ap(t)&&Fs(t))}function HM(t,e){for(;t>0;)e=e[Co],t--;return e}function xp(t){return!!(t[G]&9216||t[ri]?.dirty)}function Uf(t){t[Sn].changeDetectionScheduler?.notify(1),xp(t)?Fs(t):t[G]&64&&(BM()?(t[G]|=1024,Fs(t)):t[Sn].changeDetectionScheduler?.notify())}function Fs(t){t[Sn].changeDetectionScheduler?.notify();let e=Vs(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!Ap(e)));)e=Vs(e)}function dI(t,e){if((t[G]&256)===256)throw new L(911,!1);t[yr]===null&&(t[yr]=[]),t[yr].push(e)}function zM(t,e){if(t[yr]===null)return;let n=t[yr].indexOf(e);n!==-1&&t[yr].splice(n,1)}function Vs(t){let e=t[ut];return Jn(e)?e[ut]:e}var ee={lFrame:_I(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function GM(){return ee.lFrame.elementDepthCount}function WM(){ee.lFrame.elementDepthCount++}function KM(){ee.lFrame.elementDepthCount--}function hI(){return ee.bindingsEnabled}function QM(){return ee.skipHydrationRootTNode!==null}function YM(t){return ee.skipHydrationRootTNode===t}function JM(){ee.skipHydrationRootTNode=null}function pe(){return ee.lFrame.lView}function nt(){return ee.lFrame.tView}function T(t){return ee.lFrame.contextLView=t,t[ln]}function S(t){return ee.lFrame.contextLView=null,t}function xt(){let t=fI();for(;t!==null&&t.type===64;)t=t.parent;return t}function fI(){return ee.lFrame.currentTNode}function ZM(){let t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function li(t,e){let n=ee.lFrame;n.currentTNode=t,n.isParent=e}function Mp(){return ee.lFrame.isParent}function pI(){ee.lFrame.isParent=!1}function XM(){return ee.lFrame.contextLView}function Pp(){let t=ee.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function e1(){return ee.lFrame.bindingIndex}function t1(t){return ee.lFrame.bindingIndex=t}function Vu(){return ee.lFrame.bindingIndex++}function mI(t){let e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function n1(){return ee.lFrame.inI18n}function r1(t,e){let n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bf(e)}function i1(){return ee.lFrame.currentDirectiveIndex}function Bf(t){ee.lFrame.currentDirectiveIndex=t}function o1(t){let e=ee.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function gI(t){ee.lFrame.currentQueryIndex=t}function s1(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[hn]:null}function yI(t,e,n){if(n&ne.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ne.Host);)if(i=s1(o),i===null||(o=o[Co],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ee.lFrame=vI();return r.currentTNode=e,r.lView=t,!0}function Rp(t){let e=vI(),n=t[ae];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function vI(){let t=ee.lFrame,e=t===null?null:t.child;return e===null?_I(t):e}function _I(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function wI(){let t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var II=wI;function Np(){let t=wI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function a1(t){return(ee.lFrame.contextLView=HM(t,ee.lFrame.contextLView))[ln]}function di(){return ee.lFrame.selectedIndex}function oi(t){ee.lFrame.selectedIndex=t}function Lu(){let t=ee.lFrame;return cI(t.tView,t.selectedIndex)}function c1(){return ee.lFrame.currentNamespace}var EI=!0;function ju(){return EI}function Uu(t){EI=t}function u1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=iI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Bu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function iu(t,e,n){CI(t,e,3,n)}function ou(t,e,n,r){(t[G]&3)===n&&CI(t,e,n,r)}function _f(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function CI(t,e,n,r){let i=r!==void 0?t[so]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[so]+=65536),(a<o||o==-1)&&(l1(t,n,e,c),t[so]=(t[so]&4294901760)+c+2),c++}function iw(t,e){bn(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),bn(5,t,e)}}function l1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[G]>>14<t[so]>>16&&(t[G]&3)===e&&(t[G]+=16384,iw(a,o)):iw(a,o)}var lo=-1,si=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function d1(t){return t instanceof si}function h1(t){return(t.flags&8)!==0}function f1(t){return(t.flags&16)!==0}function bI(t){return t!==lo}function mu(t){return t&32767}function p1(t){return t>>16}function gu(t,e){let n=p1(t),r=e;for(;n>0;)r=r[Co],n--;return r}var $f=!0;function yu(t){let e=$f;return $f=t,e}var m1=256,DI=m1-1,TI=5,g1=0,Dn={};function y1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(xs)&&(r=n[xs]),r==null&&(r=n[xs]=g1++);let i=r&DI,o=1<<i;e.data[t+(i>>TI)]|=o}function vu(t,e){let n=SI(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,wf(r.data,t),wf(e,null),wf(r.blueprint,null));let i=Op(t,e),o=t.injectorIndex;if(bI(i)){let s=mu(i),a=gu(i,e),c=a[ae].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function wf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function SI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Op(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=RI(i),r===null)return lo;if(n++,i=i[Co],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return lo}function qf(t,e,n){y1(t,e,n)}function AI(t,e,n){if(n&ne.Optional||t!==void 0)return t;_p(e,"NodeInjector")}function xI(t,e,n,r){if(n&ne.Optional&&r===void 0&&(r=null),!(n&(ne.Self|ne.Host))){let i=t[mo],o=Tt(void 0);try{return i?i.get(e,r,n&ne.Optional):Fw(e,r,n&ne.Optional)}finally{Tt(o)}}return AI(r,e,n)}function MI(t,e,n,r=ne.Default,i){if(t!==null){if(e[G]&2048&&!(r&ne.Self)){let s=E1(t,e,n,r,Dn);if(s!==Dn)return s}let o=PI(t,e,n,r,Dn);if(o!==Dn)return o}return xI(e,n,r,i)}function PI(t,e,n,r,i){let o=w1(n);if(typeof o=="function"){if(!yI(e,t,r))return r&ne.Host?AI(i,n,r):xI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ne.Optional))_p(n);else return s}finally{II()}}else if(typeof o=="number"){let s=null,a=SI(t,e),c=lo,u=r&ne.Host?e[An][hn]:null;for((a===-1||r&ne.SkipSelf)&&(c=a===-1?Op(t,e):e[a+8],c===lo||!sw(r,!1)?a=-1:(s=e[ae],a=mu(c),e=gu(c,e)));a!==-1;){let l=e[ae];if(ow(o,a,l.data)){let d=v1(a,e,n,s,r,u);if(d!==Dn)return d}c=e[a+8],c!==lo&&sw(r,e[ae].data[a+8]===u)&&ow(o,a,e)?(s=l,a=mu(c),e=gu(c,e)):a=-1}}return i}function v1(t,e,n,r,i,o){let s=e[ae],a=s.data[t+8],c=r==null?ku(a)&&$f:r!=s&&(a.type&3)!==0,u=i&ne.Host&&o===a,l=_1(a,s,n,c,u);return l!==null?vo(e,s,l,a):Dn}function _1(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,p=i?a+l:u;for(let m=d;m<p;m++){let w=s[m];if(m<c&&n===w||m>=c&&w.type===n)return m}if(i){let m=s[c];if(m&&_r(m)&&m.type===n)return c}return null}function vo(t,e,n,r){let i=t[n],o=e.data;if(d1(i)){let s=i;s.resolving&&Wx(Gx(o[n]));let a=yu(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Tt(s.injectImpl):null,l=yI(t,r,ne.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&u1(n,o[n],e)}finally{u!==null&&Tt(u),yu(a),s.resolving=!1,II()}}return i}function w1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(xs)?t[xs]:void 0;return typeof e=="number"?e>=0?e&DI:I1:e}function ow(t,e,n){let r=1<<t;return!!(n[e+(t>>TI)]&r)}function sw(t,e){return!(t&ne.Self)&&!(t&ne.Host&&e)}var ti=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return MI(this._tNode,this._lView,e,Pu(r),n)}};function I1(){return new ti(xt(),pe())}function Wt(t){return Bs(()=>{let e=t.prototype.constructor,n=e[cu]||Hf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[cu]||Hf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Hf(t){return Mw(t)?()=>{let e=Hf(gt(t));return e&&e()}:ni(t)}function E1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[G]&2048&&!(s[G]&512);){let a=PI(o,s,n,r|ne.Self,Dn);if(a!==Dn)return a;let c=o.parent;if(!c){let u=s[tI];if(u){let l=u.get(n,Dn,r);if(l!==Dn)return l}c=RI(s),s=s[Co]}o=c}return i}function RI(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[hn]:null}function aw(t,e=null,n=null,r){let i=NI(t,e,n,r);return i.resolveInjectorInitializers(),i}function NI(t,e=null,n=null,r,i=new Set){let o=[n||$t,Cp(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new Ns(o,e||Dp(),r||null,i)}var Mt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ps}static{this.NULL=new du}static create(n,r){if(Array.isArray(n))return aw({name:""},r,n,"");{let i=n.name??"";return aw({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=k({token:t,providedIn:"any",factory:()=>V(jw)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var C1="ngOriginalError";function If(t){return t[C1]}var Mn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&If(e);for(;n&&If(n);)n=If(n);return n||null}},OI=new F("",{providedIn:"root",factory:()=>M(Mn).handleError.bind(void 0)}),kp=(()=>{class t{static{this.__NG_ELEMENT_ID__=b1}static{this.__NG_ENV_ID__=n=>n}}return t})(),zf=class extends kp{constructor(e){super(),this._lView=e}onDestroy(e){return dI(this._lView,e),()=>zM(this._lView,e)}};function b1(){return new zf(pe())}function D1(){return $u(xt(),pe())}function $u(t,e){return new fn(Gt(t,e))}var fn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=D1}}return t})();var Gf=class extends mt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,eI()&&(this.destroyRef=M(kp,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Ef(o),i&&(i=Ef(i)),s&&(s=Ef(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}};function Ef(t){return e=>{setTimeout(t,void 0,e)}}var et=Gf;function kI(t){return(t.flags&128)===128}var FI=new Map,T1=0;function S1(){return T1++}function A1(t){FI.set(t[Ou],t)}function x1(t){FI.delete(t[Ou])}var cw="__ngContext__";function wr(t,e){ei(e)?(t[cw]=e[Ou],A1(e)):t[cw]=e}function VI(t){return jI(t[ks])}function LI(t){return jI(t[un])}function jI(t){for(;t!==null&&!Jn(t);)t=t[un];return t}var Wf;function UI(t){Wf=t}function M1(){if(Wf!==void 0)return Wf;if(typeof document<"u")return document;throw new L(210,!1)}var Fp=new F("",{providedIn:"root",factory:()=>P1}),P1="ng",Vp=new F(""),Kt=new F("",{providedIn:"platform",factory:()=>"unknown"});var Lp=new F("",{providedIn:"root",factory:()=>M1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var R1="h",N1="b";var O1=()=>null;function jp(t,e,n=!1){return O1(t,e,n)}var BI=!1,k1=new F("",{providedIn:"root",factory:()=>BI});var Kf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fx})`}};function Up(t){return t instanceof Kf?t.changingThisBreaksApplicationSecurity:t}var F1=/^>|^->|<!--|-->|--!>|<!-$/g,V1=/(<|>)/g,L1="\u200B$1\u200B";function j1(t){return t.replace(F1,e=>e.replace(V1,L1))}function $I(t){return t instanceof Function?t():t}function U1(t){return(t??M(Mt)).get(Kt)==="browser"}var Kn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kn||{}),B1;function Bp(t,e){return B1(t,e)}function ao(t,e,n,r,i){if(r!=null){let o,s=!1;Jn(r)?o=r:ei(r)&&(s=!0,r=r[Yn]);let a=xn(r);t===0&&n!==null?i==null?WI(e,n,a):_u(e,n,a,i||null,!0):t===1&&n!==null?_u(e,n,a,i||null,!0):t===2?oP(e,a,s):t===3&&e.destroyNode(a),o!=null&&aP(e,t,o,n,i)}}function $1(t,e){return t.createText(e)}function q1(t,e,n){t.setValue(e,n)}function H1(t,e){return t.createComment(j1(e))}function qI(t,e,n){return t.createElement(e,n)}function z1(t,e){HI(t,e),e[Yn]=null,e[hn]=null}function G1(t,e,n,r,i,o){r[Yn]=i,r[hn]=e,Hu(t,r,n,1,i,o)}function HI(t,e){e[Sn].changeDetectionScheduler?.notify(1),Hu(t,e,e[Ve],2,null,null)}function W1(t){let e=t[ks];if(!e)return Cf(t[ae],t);for(;e;){let n=null;if(ei(e))n=e[ks];else{let r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[un]&&e!==t;)ei(e)&&Cf(e[ae],e),e=e[ut];e===null&&(e=t),ei(e)&&Cf(e[ae],e),n=e&&e[un]}e=n}}function K1(t,e,n,r){let i=qt+r,o=n.length;r>0&&(n[i-1][un]=e),r<o-qt?(e[un]=n[i],Lw(n,qt+r,e)):(n.push(e),e[un]=null),e[ut]=n;let s=e[Nu];s!==null&&n!==s&&Q1(s,e);let a=e[go];a!==null&&a.insertView(t),Uf(e),e[G]|=128}function Q1(t,e){let n=t[pu],i=e[ut][ut][An];e[An]!==i&&(t[G]|=Tp.HasTransplantedViews),n===null?t[pu]=[e]:n.push(e)}function zI(t,e){let n=t[pu],r=n.indexOf(e);n.splice(r,1)}function Qf(t,e){if(t.length<=qt)return;let n=qt+e,r=t[n];if(r){let i=r[Nu];i!==null&&i!==t&&zI(i,r),e>0&&(t[n-1][un]=r[un]);let o=lu(t,qt+e);z1(r[ae],r);let s=o[go];s!==null&&s.detachView(o[ae]),r[ut]=null,r[un]=null,r[G]&=-129}return r}function GI(t,e){if(!(e[G]&256)){let n=e[Ve];n.destroyNode&&Hu(t,e,n,3,null,null),W1(e)}}function Cf(t,e){if(e[G]&256)return;let n=fe(null);try{e[G]&=-129,e[G]|=256,e[ri]&&w0(e[ri]),J1(t,e),Y1(t,e),e[ae].type===1&&e[Ve].destroy();let r=e[Nu];if(r!==null&&Jn(e[ut])){r!==e[ut]&&zI(r,e);let i=e[go];i!==null&&i.detachView(t)}x1(e)}finally{fe(n)}}function Y1(t,e){let n=t.cleanup,r=e[Os];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Os]=null);let i=e[yr];if(i!==null){e[yr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function J1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof si)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];bn(4,a,c);try{c.call(a)}finally{bn(5,a,c)}}else{bn(4,i,o);try{o.call(i)}finally{bn(5,i,o)}}}}}function Z1(t,e,n){return X1(t,e.parent,n)}function X1(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Yn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Tn.None||o===Tn.Emulated)return null}return Gt(r,n)}}function _u(t,e,n,r,i){t.insertBefore(e,n,r,i)}function WI(t,e,n){t.appendChild(e,n)}function uw(t,e,n,r,i){r!==null?_u(t,e,n,r,i):WI(t,e,n)}function eP(t,e,n,r){t.removeChild(e,n,r)}function $p(t,e){return t.parentNode(e)}function tP(t,e){return t.nextSibling(e)}function nP(t,e,n){return iP(t,e,n)}function rP(t,e,n){return t.type&40?Gt(t,n):null}var iP=rP,lw;function qu(t,e,n,r){let i=Z1(t,r,e),o=e[Ve],s=r.parent||e[hn],a=nP(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)uw(o,i,n[c],a,!1);else uw(o,i,n,a,!1);lw!==void 0&&lw(o,r,e,n,i)}function su(t,e){if(e!==null){let n=e.type;if(n&3)return Gt(e,t);if(n&4)return Yf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return su(t,r);{let i=t[e.index];return Jn(i)?Yf(-1,i):xn(i)}}else{if(n&32)return Bp(e,t)()||xn(t[e.index]);{let r=KI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Vs(t[An]);return su(i,r)}else return su(t,e.next)}}}return null}function KI(t,e){if(e!==null){let r=t[An][hn],i=e.projection;return r.projection[i]}return null}function Yf(t,e){let n=qt+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return su(r,i)}return e[ii]}function oP(t,e,n){let r=$p(t,e);r&&eP(t,r,e,n)}function qp(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&wr(xn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)qp(t,e,n.child,r,i,o,!1),ao(e,t,i,a,o);else if(c&32){let u=Bp(n,r),l;for(;l=u();)ao(e,t,i,l,o);ao(e,t,i,a,o)}else c&16?sP(t,e,r,n,i,o):ao(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Hu(t,e,n,r,i,o){qp(n,r,t.firstChild,e,i,o,!1)}function sP(t,e,n,r,i,o){let s=n[An],c=s[hn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ao(e,t,i,l,o)}else{let u=c,l=s[ut];kI(r)&&(u.flags|=128),qp(t,e,u,l,i,o,!0)}}function aP(t,e,n,r,i){let o=n[ii],s=xn(n);o!==s&&ao(e,t,r,o,i);for(let a=qt;a<n.length;a++){let c=n[a];Hu(c[ae],c,t,e,r,o)}}function cP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Kn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Kn.Important),t.setStyle(n,r,i,o))}}function uP(t,e,n){t.setAttribute(e,"style",n)}function QI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function YI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&kf(t,e,r),i!==null&&QI(t,e,i),o!==null&&uP(t,e,o)}var pn={};function y(t=1){JI(nt(),pe(),di()+t,!1)}function JI(t,e,n,r){if(!r)if((e[G]&3)===3){let o=t.preOrderCheckHooks;o!==null&&iu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ou(e,o,0,n)}oi(n)}function j(t,e=ne.Default){let n=pe();if(n===null)return V(t,e);let r=xt();return MI(r,n,gt(t),e)}function ZI(){let t="invalid";throw new Error(t)}function XI(t,e,n,r,i,o){let s=fe(null);try{let a=null;i&tt.SignalBased&&(a=e[r][zh]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&tt.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):rI(e,a,r,o)}finally{fe(s)}}function lP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)oi(~i);else{let o=i,s=n[++r],a=n[++r];r1(s,o);let c=e[o];a(2,c)}}}finally{oi(-1)}}function zu(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[Yn]=i,d[G]=r|4|128|8|64,(u!==null||t&&t[G]&2048)&&(d[G]|=2048),lI(d),d[ut]=d[Co]=t,d[ln]=n,d[Sn]=s||t&&t[Sn],d[Ve]=a||t&&t[Ve],d[mo]=c||t&&t[mo]||null,d[hn]=o,d[Ou]=S1(),d[hu]=l,d[tI]=u,d[An]=e.type==2?t[An]:d,d}function qs(t,e,n,r,i){let o=t.data[e];if(o===null)o=dP(t,e,n,r,i),n1()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ZM();o.injectorIndex=s===null?-1:s.injectorIndex}return li(o,!0),o}function dP(t,e,n,r,i){let o=fI(),s=Mp(),a=s?o:o&&o.parent,c=t.data[e]=gP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function eE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function tE(t,e,n,r,i){let o=di(),s=r&2;try{oi(-1),s&&e.length>Ht&&JI(t,e,Ht,!1),bn(s?2:0,i),n(r,i)}finally{oi(o),bn(s?3:1,i)}}function Hp(t,e,n){if(Sp(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{fe(r)}}}function zp(t,e,n){hI()&&(EP(t,e,n,Gt(n,e)),(n.flags&64)===64&&iE(t,e,n))}function Gp(t,e,n=Gt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function nE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Wp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Wp(t,e,n,r,i,o,s,a,c,u,l){let d=Ht+r,p=d+i,m=hP(d,p),w=typeof u=="function"?u():u;return m[ae]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:l}}function hP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:pn);return n}function fP(t,e,n,r){let o=r.get(k1,BI)||n===Tn.ShadowDom,s=t.selectRootElement(e,o);return pP(s),s}function pP(t){mP(t)}var mP=()=>null;function gP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return QM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=tt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?hw(r,n,u,a,c):hw(r,n,u,a)}return r}function hw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function yP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],p=n?n.get(d):null,m=p?p.inputs:null,w=p?p.outputs:null;c=dw(0,d.inputs,l,c,m),u=dw(1,d.outputs,l,u,w);let I=c!==null&&s!==null&&!Ep(e)?NP(c,l,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function vP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Kp(t,e,n,r,i,o,s,a){let c=Gt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Yp(t,n,l,r,i),ku(e)&&_P(n,e.index)):e.type&3?(r=vP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function _P(t,e){let n=Er(e,t);n[G]&16||(n[G]|=64)}function Qp(t,e,n,r){if(hI()){let i=r===null?null:{"":-1},o=bP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&rE(t,e,n,s,i,a),i&&DP(n,r,i)}n.mergedAttrs=Rs(n.mergedAttrs,n.attrs)}function rE(t,e,n,r,i,o){for(let u=0;u<r.length;u++)qf(vu(n,e),t,r[u].type);SP(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=eE(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Rs(n.mergedAttrs,l.hostAttrs),AP(t,n,e,c,l),TP(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}yP(t,n,o)}function wP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;IP(s)!=a&&s.push(a),s.push(n,r,o)}}function IP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function EP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ku(n)&&xP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||vu(n,e),wr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=vo(e,t,a,n);if(wr(u,e),s!==null&&RP(e,a-i,u,c,n,s),_r(c)){let l=Er(n.index,e);l[ln]=vo(e,t,a,n)}}}function iE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=i1();try{oi(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Bf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&CP(c,u)}}finally{oi(-1),Bf(s)}}function CP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function bP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(fM(e,s.selectors,!1))if(r||(r=[]),_r(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Jf(t,e,c)}else r.unshift(s),Jf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Jf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function DP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}}function TP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_r(e)&&(n[""]=t)}}function SP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function AP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ni(i.type,!0)),s=new si(o,_r(i),j);t.blueprint[r]=s,n[r]=s,wP(t,e,r,eE(t,n,i.hostVars,pn),i)}function xP(t,e,n){let r=Gt(e,t),i=nE(n),o=t[Sn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Gu(t,zu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function MP(t,e,n,r,i,o){let s=Gt(t,e);PP(e[Ve],s,o,t.value,n,r,i)}function PP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ms(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function RP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];XI(r,n,c,u,l,d)}}function NP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function oE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sE(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];gI(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function Gu(t,e){return t[ks]?t[nw][un]=e:t[ks]=e,t[nw]=e,e}function Zf(t,e,n){gI(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function OP(t){return t[Os]||(t[Os]=[])}function kP(t){return t.cleanup||(t.cleanup=[])}function aE(t,e){let n=t[mo],r=n?n.get(Mn,null):null;r&&r.handleError(e)}function Yp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],l=t.data[s];XI(l,u,r,a,c,i)}}function cE(t,e,n){let r=aI(e,t);q1(t[Ve],r,n)}function FP(t,e){let n=Er(e,t),r=n[ae];VP(r,n);let i=n[Yn];i!==null&&n[hu]===null&&(n[hu]=jp(i,n[mo])),Jp(r,n,n[ln])}function VP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jp(t,e,n){Rp(e);try{let r=t.viewQuery;r!==null&&Zf(1,r,n);let i=t.template;i!==null&&tE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[go]?.finishViewCreation(t),t.staticContentQueries&&sE(t,e),t.staticViewQueries&&Zf(2,t.viewQuery,n);let o=t.components;o!==null&&LP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,Np()}}function LP(t,e){for(let n=0;n<e.length;n++)FP(t,e[n])}function jP(t,e,n,r){let i=fe(null);try{let o=e.tView,a=t[G]&4096?4096:16,c=zu(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Nu]=u;let l=t[go];return l!==null&&(c[go]=l.createEmbeddedView(o)),Jp(o,c,n),c}finally{fe(i)}}function fw(t,e){return!e||e.firstChild===null||kI(t)}function UP(t,e,n,r=!0){let i=e[ae];if(K1(i,e,t,n),r){let s=Yf(n,t),a=e[Ve],c=$p(a,t[ii]);c!==null&&G1(i,t[hn],a,e,c,s)}let o=e[hu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wu(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(xn(o)),Jn(o)&&BP(o,r);let s=n.type;if(s&8)wu(t,e,n.child,r);else if(s&32){let a=Bp(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=KI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Vs(e[An]);wu(c[ae],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function BP(t,e){for(let n=qt;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&wu(r[ae],r,i,e)}t[ii]!==t[Yn]&&e.push(t[ii])}var uE=[];function $P(t){return t[ri]??qP(t)}function qP(t){let e=uE.pop()??Object.create(zP);return e.lView=t,e}function HP(t){t.lView[ri]!==t&&(t.lView=null,uE.push(t))}var zP=J(x({},y0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Fs(t.lView)},consumerOnSignalRead(){this.lView[ri]=this}}),lE=100;function dE(t,e=!0,n=0){let r=t[Sn],i=r.rendererFactory,o=!1;o||i.begin?.();try{GP(t,n)}catch(s){throw e&&aE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function GP(t,e){Xf(t,e);let n=0;for(;xp(t);){if(n===lE)throw new L(103,!1);n++,Xf(t,1)}}function WP(t,e,n,r){let i=e[G];if((i&256)===256)return;let o=!1;!o&&e[Sn].inlineEffectRunner?.flush(),Rp(e);let s=null,a=null;!o&&KP(t)&&(a=$P(e),s=v0(a));try{lI(e),t1(t.bindingStartIndex),n!==null&&tE(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&iu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ou(e,d,0,null),_f(e,0)}if(QP(e),hE(e,0),t.contentQueries!==null&&sE(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&iu(e,d)}else{let d=t.contentHooks;d!==null&&ou(e,d,1),_f(e,1)}lP(t,e);let u=t.components;u!==null&&pE(e,u,0);let l=t.viewQuery;if(l!==null&&Zf(2,l,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&iu(e,d)}else{let d=t.viewHooks;d!==null&&ou(e,d,2),_f(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[vf]){for(let d of e[vf])d();e[vf]=null}o||(e[G]&=-73)}catch(c){throw Fs(e),c}finally{a!==null&&(_0(a,s),HP(a)),Np()}}function KP(t){return t.type!==2}function hE(t,e){for(let n=VI(t);n!==null;n=LI(n))for(let r=qt;r<n.length;r++){let i=n[r];fE(i,e)}}function QP(t){for(let e=VI(t);e!==null;e=LI(e)){if(!(e[G]&Tp.HasTransplantedViews))continue;let n=e[pu];for(let r=0;r<n.length;r++){let i=n[r],o=i[ut];qM(i)}}}function YP(t,e,n){let r=Er(e,t);fE(r,n)}function fE(t,e){Ap(t)&&Xf(t,e)}function Xf(t,e){let r=t[ae],i=t[G],o=t[ri],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Gh(o)),o&&(o.dirty=!1),t[G]&=-9217,s)WP(r,t,r.template,t[ln]);else if(i&8192){hE(t,1);let a=r.components;a!==null&&pE(t,a,1)}}function pE(t,e,n){for(let r=0;r<e.length;r++)YP(t,e[r],n)}function Zp(t){for(t[Sn].changeDetectionScheduler?.notify();t;){t[G]|=64;let e=Vs(t);if(OM(t)&&!e)return t;t=e}return null}var ai=class{get rootNodes(){let e=this._lView,n=e[ae];return wu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ln]}set context(e){this._lView[ln]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ut];if(Jn(e)){let n=e[fu],r=n?n.indexOf(this):-1;r>-1&&(Qf(e,r),lu(n,r))}this._attachedToViewContainer=!1}GI(this._lView[ae],this._lView)}onDestroy(e){dI(this._lView,e)}markForCheck(){Zp(this._cdRefInjectingView||this._lView)}detach(){this._lView[G]&=-129}reattach(){Uf(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,dE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,HI(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e,Uf(this._lView)}},Wu=(()=>{class t{static{this.__NG_ELEMENT_ID__=XP}}return t})(),JP=Wu,ZP=class extends JP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=jP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ai(i)}};function XP(){return eR(xt(),pe())}function eR(t,e){return t.type&4?new ZP(e,t,$u(t,e)):null}var _6=new RegExp(`^(\\d+)*(${N1}|${R1})*(.*)`);var tR=()=>null;function pw(t,e){return tR(t,e)}var Iu=class{},ep=class{},Eu=class{};function nR(t){let e=Error(`No component factory found for ${yt(t)}.`);return e[rR]=t,e}var rR="ngComponent";var tp=class{resolveComponentFactory(e){throw nR(e)}},Ku=(()=>{class t{static{this.NULL=new tp}}return t})(),Ls=class{},Pn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>iR()}}return t})();function iR(){let t=pe(),e=xt(),n=Er(e.index,t);return(ei(n)?n:t)[Ve]}var oR=(()=>{class t{static{this.\u0275prov=k({token:t,providedIn:"root",factory:()=>null})}}return t})(),bf={};var mw=new Set;function Qu(t){mw.has(t)||(mw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gw(...t){}function sR(){let t=typeof Wn.requestAnimationFrame=="function",e=Wn[t?"requestAnimationFrame":"setTimeout"],n=Wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var _e=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=sR().nativeRequestAnimationFrame,uR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,aR,gw,gw);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},aR={};function Xp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,np(t),t.isCheckStableRunning=!0,Xp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),np(t))}function uR(t){let e=()=>{cR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(lR(a))return n.invokeTask(i,o,s,a);try{return yw(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),vw(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return yw(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),vw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,np(t),Xp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function np(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function yw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vw(t){t._nesting--,Xp(t)}function lR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var co=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(co||{}),dR={destroy(){}};function Yu(t,e){!e&&RM(Yu);let n=e?.injector??M(Mt);if(!U1(n))return dR;Qu("NgAfterNextRender");let r=n.get(em),i=r.handler??=new ip,o=e?.phase??co.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(kp).onDestroy(s),c=dn(n,()=>new rp(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var rp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=M(_e),this.errorHandler=M(Mn,{optional:!0}),M(Iu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ip=class{constructor(){this.executingCallbacks=!1,this.buckets={[co.EarlyRead]:new Set,[co.Write]:new Set,[co.MixedReadWrite]:new Set,[co.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},em=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=k({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Cu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=G0(i,a);else if(o==2){let c=a,u=e[++s];r=G0(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var bu=class extends Ku{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vr(e);return new _o(n,this.ngModule)}};function _w(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function hR(t){let e=t.toLowerCase();return e==="svg"?LM:e==="math"?jM:null}var op=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pu(r);let i=this.injector.get(e,bf,r);return i!==bf||n===bf?i:this.parentInjector.get(e,n,r)}},_o=class extends Eu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=_w(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return _w(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=fe(null);try{i=i||this.ngModule;let s=i instanceof ct?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new op(e,s):e,c=a.get(Ls,null);if(c===null)throw new L(407,!1);let u=a.get(oR,null),l=a.get(em,null),d=a.get(Iu,null),p={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",I=r?fP(m,r,this.componentDef.encapsulation,a):qI(m,w,hR(w)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let R=null;I!==null&&(R=jp(I,a,!0));let re=Wp(0,null,null,1,0,null,null,null,null,null,null),B=zu(null,re,null,E,null,null,p,m,a,null,R);Rp(B);let ve,Ge;try{let he=this.componentDef,at,En=null;he.findHostDirectiveDefs?(at=[],En=new Map,he.findHostDirectiveDefs(he,at,En),at.push(he)):at=[he];let Wr=fR(B,I),Hi=pR(Wr,I,he,at,B,p,m);Ge=cI(re,Ht),I&&yR(m,he,I,r),n!==void 0&&vR(Ge,this.ngContentSelectors,n),ve=gR(Hi,he,at,En,B,[_R]),Jp(re,B,null)}finally{Np()}return new sp(this.componentType,ve,$u(Ge,B),B,Ge)}finally{fe(o)}}},sp=class extends ep{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ai(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Yp(o[ae],o,i,e,n),this.previousInputValues.set(e,n);let s=Er(this._tNode.index,o);Zp(s)}}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fR(t,e){let n=t[ae],r=Ht;return t[r]=e,qs(n,r,2,"#host",null)}function pR(t,e,n,r,i,o,s){let a=i[ae];mR(r,t,e,s);let c=null;e!==null&&(c=jp(e,i[mo]));let u=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=zu(i,nE(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&Jf(a,t,r.length-1),Gu(i,d),i[t.index]=d}function mR(t,e,n,r){for(let i of t)e.mergedAttrs=Rs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Cu(e,e.mergedAttrs,!0),n!==null&&YI(r,n,e))}function gR(t,e,n,r,i,o){let s=xt(),a=i[ae],c=Gt(s,i);rE(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,p=vo(i,a,d,s);wr(p,i)}iE(a,i,s),c&&wr(c,i);let u=vo(i,a,s.directiveStart+s.componentOffset,s);if(t[ln]=i[ln]=u,o!==null)for(let l of o)l(u,e);return Hp(a,s,i),u}function yR(t,e,n,r){if(r)kf(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=vM(e.selectors[0]);i&&kf(t,n,i),o&&o.length>0&&QI(t,n,o.join(" "))}}function vR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function _R(){let t=xt();Bu(pe()[ae],t)}var bo=(()=>{class t{static{this.__NG_ELEMENT_ID__=wR}}return t})();function wR(){let t=xt();return ER(t,pe())}var IR=bo,mE=class extends IR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $u(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){let e=Op(this._hostTNode,this._hostLView);if(bI(e)){let n=gu(e,this._hostLView),r=mu(e),i=n[ae].data[r+8];return new ti(i,n)}else return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ww(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,fw(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!NM(e),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new _o(vr(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?u:this.parentInjector).get(ct,null);I&&(o=I)}let l=vr(c.componentType??{}),d=pw(this._lContainer,l?.id??null),p=d?.firstChild??null,m=c.create(u,i,p,o);return this.insertImpl(m.hostView,a,fw(this._hostTNode,d)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if($M(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ut],u=new mE(c,c[hn],c[ut]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return UP(s,i,o,r),e.attachToViewContainerRef(),Lw(Df(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ww(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Qf(this._lContainer,n);r&&(lu(Df(this._lContainer),n),GI(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=Qf(this._lContainer,n);return r&&lu(Df(this._lContainer),n)!=null?new ai(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ww(t){return t[fu]}function Df(t){return t[fu]||(t[fu]=[])}function ER(t,e){let n,r=e[t.index];return Jn(r)?n=r:(n=oE(r,e,null,t),e[t.index]=n,Gu(e,n)),bR(n,e,t,r),new mE(n,t,e)}function CR(t,e){let n=t[Ve],r=n.createComment(""),i=Gt(e,t),o=$p(n,i);return _u(n,o,r,tP(n,i),!1),r}var bR=SR,DR=()=>!1;function TR(t,e,n){return DR(t,e,n)}function SR(t,e,n,r){if(t[ii])return;let i;n.type&8?i=xn(r):i=CR(e,n),t[ii]=i}function AR(t){return typeof t=="function"&&t[zh]!==void 0}function gE(t){return AR(t)&&typeof t.set=="function"}function xR(t){return Object.getPrototypeOf(t.prototype).constructor}function rt(t){let e=xR(t.type),n=!0,r=[t];for(;e;){let i;if(_r(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=tu(t.inputs),s.inputTransforms=tu(t.inputTransforms),s.declaredInputs=tu(t.declaredInputs),s.outputs=tu(t.outputs);let a=i.hostBindings;a&&OR(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&RR(t,c),u&&NR(t,u),MR(t,i),Lx(t.outputs,i.outputs),_r(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===rt&&(n=!1)}}e=Object.getPrototypeOf(e)}PR(r)}function MR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function PR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rs(i.hostAttrs,n=Rs(n,i.hostAttrs))}}function tu(t){return t===ho?{}:t===$t?[]:t}function RR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function NR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function OR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Ir=class{},js=class{};var ap=class extends Ir{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bu(this);let i=Ww(e);this._bootstrapComponents=$I(i.bootstrap),this._r3Injector=NI(e,n,[{provide:Ir,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cp=class extends js{constructor(e){super(),this.moduleType=e}create(e){return new ap(this.moduleType,e,[])}};var Du=class extends Ir{constructor(e){super(),this.componentFactoryResolver=new bu(this),this.instance=null;let n=new Ns([...e.providers,{provide:Ir,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver}],e.parent||Dp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ju(t,e,n=null){return new Du({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Do=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yE(t){return FR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function kR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function FR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function vE(t,e,n){return t[e]=n}function VR(t,e){return t[e]}function ci(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function _E(t,e,n,r){let i=ci(t,e,n);return ci(t,e+1,r)||i}function LR(t){return(t.flags&32)===32}function jR(t,e,n,r,i,o,s,a,c){let u=e.consts,l=qs(e,t,4,s||null,yo(u,a));Qp(e,n,l,yo(u,c)),Bu(e,l);let d=l.tView=Wp(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function H(t,e,n,r,i,o,s,a){let c=pe(),u=nt(),l=t+Ht,d=u.firstCreatePass?jR(l,u,c,e,n,r,i,o,s):u.data[l];li(d,!1);let p=UR(u,c,d,t);ju()&&qu(u,c,p,d),wr(p,c);let m=oE(p,c,p,d);return c[l]=m,Gu(c,m),TR(m,d,c),Fu(d)&&zp(u,c,d),s!=null&&Gp(c,d,a),H}var UR=BR;function BR(t,e,n,r){return Uu(!0),e[Ve].createComment("")}function Cr(t,e,n,r){let i=pe(),o=Vu();if(ci(i,o,e)){let s=nt(),a=Lu();MP(a,i,t,e,n,r)}return Cr}function wE(t,e,n,r){return ci(t,Vu(),n)?e+Ms(n)+r:pn}function $R(t,e,n,r,i,o){let s=e1(),a=_E(t,s,n,i);return mI(2),a?e+Ms(n)+r+Ms(i)+o:pn}function nu(t,e){return t<<17|e<<2}function ui(t){return t>>17&32767}function qR(t){return(t&2)==2}function HR(t,e){return t&131071|e<<17}function up(t){return t|2}function wo(t){return(t&131068)>>2}function Tf(t,e){return t&-131069|e<<2}function zR(t){return(t&1)===1}function lp(t){return t|1}function GR(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ui(s),c=wo(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||$s(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let p=ui(t[a+1]);t[r+1]=nu(p,a),p!==0&&(t[p+1]=Tf(t[p+1],r)),t[a+1]=HR(t[a+1],r)}else t[r+1]=nu(a,0),a!==0&&(t[a+1]=Tf(t[a+1],r)),a=r;else t[r+1]=nu(c,0),a===0?a=r:t[c+1]=Tf(t[c+1],r),c=r;u&&(t[r+1]=up(t[r+1])),Iw(t,l,r,!0),Iw(t,l,r,!1),WR(e,l,t,r,o),s=nu(a,c),o?e.classBindings=s:e.styleBindings=s}function WR(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&$s(o,e)>=0&&(n[r+1]=lp(n[r+1]))}function Iw(t,e,n,r){let i=t[n+1],o=e===null,s=r?ui(i):wo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];KR(c,e)&&(a=!0,t[s+1]=r?lp(u):up(u)),s=r?ui(u):wo(u)}a&&(t[n+1]=r?up(i):lp(i))}function KR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?$s(t,e)>=0:!1}function b(t,e,n){let r=pe(),i=Vu();if(ci(r,i,e)){let o=nt(),s=Lu();Kp(o,s,r,t,e,r[Ve],n,!1)}return b}function Ew(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Yp(t,n,o[s],s,r)}function Se(t,e){return QR(t,e,null,!0),Se}function QR(t,e,n,r){let i=pe(),o=nt(),s=mI(2);if(o.firstUpdatePass&&JR(o,t,s,r),e!==pn&&ci(i,s,e)){let a=o.data[di()];nN(o,a,i,i[Ve],t,i[s+1]=rN(e,n),r,s)}}function YR(t,e){return e>=t.expandoStartIndex}function JR(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[di()],s=YR(t,n);iN(o,r)&&e===null&&!s&&(e=!1),e=ZR(i,o,e,r),GR(i,o,e,n,s,r)}}function ZR(t,e,n,r){let i=o1(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Sf(null,t,e,n,r),n=Us(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Sf(i,t,e,n,r),o===null){let c=XR(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Sf(null,t,e,c[1],r),c=Us(c,e.attrs,r),eN(t,e,r,c))}else o=tN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function XR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(wo(r)!==0)return t[ui(r)]}function eN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ui(i)]=r}function tN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Us(r,s,n)}return Us(r,e.attrs,n)}function Sf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Us(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Us(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),iM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function nN(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=zR(u)?Cw(c,e,n,i,wo(u),s):void 0;if(!Tu(l)){Tu(o)||qR(u)&&(o=Cw(c,null,n,i,a,s));let d=aI(di(),n);cP(r,s,d,i,o)}}function Cw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,p=n[i+1];p===pn&&(p=d?$t:void 0);let m=d?gf(p,r):l===r?p:void 0;if(u&&!Tu(m)&&(m=gf(c,r)),Tu(m)&&(a=m,s))return a;let w=t[i+1];i=s?ui(w):wo(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=gf(c,r))}return a}function Tu(t){return t!==void 0}function rN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=yt(Up(t)))),t}function iN(t,e){return(t.flags&(e?8:16))!==0}function oN(t,e,n,r,i,o){let s=e.consts,a=yo(s,i),c=qs(e,t,2,r,a);return Qp(e,n,c,yo(s,o)),c.attrs!==null&&Cu(c,c.attrs,!1),c.mergedAttrs!==null&&Cu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(t,e,n,r){let i=pe(),o=nt(),s=Ht+t,a=i[Ve],c=o.firstCreatePass?oN(s,o,i,e,n,r):o.data[s],u=sN(o,i,c,a,e,t);i[s]=u;let l=Fu(c);return li(c,!0),YI(a,u,c),!LR(c)&&ju()&&qu(o,i,u,c),GM()===0&&wr(u,i),WM(),l&&(zp(o,i,c),Hp(o,c,i)),r!==null&&Gp(i,c),h}function f(){let t=xt();Mp()?pI():(t=t.parent,li(t,!1));let e=t;YM(e)&&JM(),KM();let n=nt();return n.firstCreatePass&&(Bu(n,t),Sp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&h1(e)&&Ew(n,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&f1(e)&&Ew(n,e,pe(),e.stylesWithoutHost,!1),f}function te(t,e,n,r){return h(t,e,n,r),f(),te}var sN=(t,e,n,r,i,o)=>(Uu(!0),qI(r,i,c1()));function aN(t,e,n,r,i){let o=e.consts,s=yo(o,r),a=qs(e,t,8,"ng-container",s);s!==null&&Cu(a,s,!0);let c=yo(o,i);return Qp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function To(t,e,n){let r=pe(),i=nt(),o=t+Ht,s=i.firstCreatePass?aN(o,i,r,e,n):i.data[o];li(s,!0);let a=cN(i,r,s,t);return r[o]=a,ju()&&qu(i,r,a,s),wr(a,r),Fu(s)&&(zp(i,r,s),Hp(i,s,r)),n!=null&&Gp(r,s),To}function So(){let t=xt(),e=nt();return Mp()?pI():(t=t.parent,li(t,!1)),e.firstCreatePass&&(Bu(e,t),Sp(t)&&e.queries.elementEnd(t)),So}var cN=(t,e,n,r)=>(Uu(!0),H1(e[Ve],""));function ie(){return pe()}var Xr=void 0;function uN(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var lN=["en",[["a","p"],["AM","PM"],Xr],[["AM","PM"],Xr,Xr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xr,"{1} 'at' {0}",Xr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",uN],Af={};function Qt(t){let e=dN(t),n=bw(e);if(n)return n;let r=e.split("-")[0];if(n=bw(r),n)return n;if(r==="en")return lN;throw new L(701,!1)}function bw(t){return t in Af||(Af[t]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[t]),Af[t]}var Le=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Le||{});function dN(t){return t.toLowerCase().replace(/_/g,"-")}var Su="en-US";var hN=Su;function fN(t){typeof t=="string"&&(hN=t.toLowerCase().replace(/_/g,"-"))}function D(t,e,n,r){let i=pe(),o=nt(),s=xt();return IE(o,i,i[Ve],s,t,e,r),D}function pN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Os],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function IE(t,e,n,r,i,o,s){let a=Fu(r),u=t.firstCreatePass&&kP(t),l=e[ln],d=OP(e),p=!0;if(r.type&3||s){let I=Gt(r,e),E=s?s(I):I,R=d.length,re=s?ve=>s(xn(ve[r.index])):r.index,B=null;if(!s&&a&&(B=pN(t,e,i,r.index)),B!==null){let ve=B.__ngLastListenerFn__||B;ve.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,p=!1}else{o=Tw(r,e,l,o,!1);let ve=n.listen(E,i,o);d.push(o,ve),u&&u.push(i,re,R,R+1)}}else o=Tw(r,e,l,o,!1);let m=r.outputs,w;if(p&&m!==null&&(w=m[i])){let I=w.length;if(I)for(let E=0;E<I;E+=2){let R=w[E],re=w[E+1],Ge=e[R][re].subscribe(o),he=d.length;d.push(o,Ge),u&&u.push(i,r.index,he,-(he+1))}}}function Dw(t,e,n,r){let i=fe(null);try{return bn(6,e,n),n(r)!==!1}catch(o){return aE(t,o),!1}finally{bn(7,e,n),fe(i)}}function Tw(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Er(t.index,e):e;Zp(a);let c=Dw(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=Dw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function _(t=1){return a1(t)}function Ao(t,e,n){return EE(t,"",e,"",n),Ao}function EE(t,e,n,r,i){let o=pe(),s=wE(o,e,n,r);if(s!==pn){let a=nt(),c=Lu();Kp(a,c,o,t,s,o[Ve],i,!1)}return EE}function mN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Hs(t){let e=XM();return uI(e,Ht+t)}function g(t,e=""){let n=pe(),r=nt(),i=t+Ht,o=r.firstCreatePass?qs(r,i,1,e,null):r.data[i],s=gN(r,n,o,e,t);n[i]=s,ju()&&qu(r,n,s,o),li(o,!1)}var gN=(t,e,n,r,i)=>(Uu(!0),$1(e[Ve],r));function $(t){return Ce("",t,""),$}function Ce(t,e,n){let r=pe(),i=wE(r,t,e,n);return i!==pn&&cE(r,di(),i),Ce}function Xn(t,e,n,r,i){let o=pe(),s=$R(o,t,e,n,r,i);return s!==pn&&cE(o,di(),s),Xn}function Yt(t,e,n){gE(e)&&(e=e());let r=pe(),i=Vu();if(ci(r,i,e)){let o=nt(),s=Lu();Kp(o,s,r,t,e,r[Ve],n,!1)}return Yt}function mn(t,e){let n=gE(t);return n&&t.set(e),n}function Jt(t,e){let n=pe(),r=nt(),i=xt();return IE(r,n,n[Ve],i,t,e),Jt}function yN(t,e,n){let r=nt();if(r.firstCreatePass){let i=_r(t);dp(n,r.data,r.blueprint,i,!0),dp(e,r.data,r.blueprint,i,!1)}}function dp(t,e,n,r,i){if(t=gt(t),Array.isArray(t))for(let o=0;o<t.length;o++)dp(t[o],e,n,r,i);else{let o=nt(),s=pe(),a=xt(),c=po(t)?t:gt(t.provide),u=Xw(t),l=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(po(t)||!t.multi){let m=new si(u,i,j),w=Mf(c,e,i?l:l+p,d);w===-1?(qf(vu(a,s),o,c),xf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[w]=m,s[w]=m)}else{let m=Mf(c,e,l+p,d),w=Mf(c,e,l,l+p),I=m>=0&&n[m],E=w>=0&&n[w];if(i&&!E||!i&&!I){qf(vu(a,s),o,c);let R=wN(i?_N:vN,n.length,i,r,u);!i&&E&&(n[w].providerFactory=R),xf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(R),s.push(R)}else{let R=CE(n[i?w:m],u,!i&&r);xf(o,t,m>-1?m:w,R)}!i&&r&&E&&n[w].componentProviders++}}}function xf(t,e,n,r){let i=po(e),o=DM(e);if(i||o){let c=(o?gt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function CE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vN(t,e,n,r){return hp(this.multi,[])}function _N(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=vo(n,n[ae],this.providerFactory.index,r);o=a.slice(0,s),hp(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],hp(i,o);return o}function hp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function wN(t,e,n,r,i){let o=new si(t,n,j);return o.multi=[],o.index=e,o.componentProviders=0,CE(o,i,r&&!n),o}function Ot(t,e=[]){return n=>{n.providersResolver=(r,i)=>yN(r,i?i(t):t,e)}}var IN=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Yw(!1,n.type),i=r.length>0?Ju([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=k({token:t,providedIn:"environment",factory:()=>new t(V(ct))})}}return t})();function xo(t){Qu("NgStandalone"),t.getStandaloneInjector=e=>e.get(IN).getOrCreateStandaloneInjector(t)}function bE(t,e,n){let r=Pp()+t,i=pe();return i[r]===pn?vE(i,r,n?e.call(n):e()):VR(i,r)}function DE(t,e,n,r,i){return TE(pe(),Pp(),t,e,n,r,i)}function EN(t,e){let n=t[e];return n===pn?void 0:n}function TE(t,e,n,r,i,o,s){let a=e+n;return _E(t,a,i,o)?vE(t,a+2,s?r.call(s,i,o):r(i,o)):EN(t,a+2)}function Zu(t,e){let n=nt(),r,i=t+Ht;n.firstCreatePass?(r=CN(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ni(r.type,!0)),s,a=Tt(j);try{let c=yu(!1),u=o();return yu(c),mN(n,pe(),i,u),u}finally{Tt(a)}}function CN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Xu(t,e,n,r){let i=t+Ht,o=pe(),s=uI(o,i);return bN(o,i)?TE(o,Pp(),e,s.transform,n,r,s):s.transform(n,r)}function bN(t,e){return t[ae].data[e].pure}var Qn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},SE=new Qn("17.3.12"),el=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var AE=new F("");function hi(t){return!!t&&typeof t.then=="function"}function xE(t){return!!t&&typeof t.subscribe=="function"}var tl=new F(""),ME=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=M(tl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(hi(o))n.push(o);else if(xE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zs=new F("");function DN(){I0(()=>{throw new L(600,!1)})}function TN(t){return t.isBoundToModule}function SN(t,e,n){try{let r=n();return hi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Mo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(OI),this.afterRenderEffectManager=M(em),this.externalTestViews=new Set,this.beforeRender=new mt,this.afterTick=new mt,this.componentTypes=[],this.components=[],this.isStable=M(Do).hasPendingTasks.pipe(Z(n=>!n)),this._injector=M(ct)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Eu;if(!this._injector.get(ME).done){let p=!i&&Gw(n),m=!1;throw new L(405,m)}let s;i?s=n:s=this._injector.get(Ku).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=TN(s)?void 0:this._injector.get(Ir),c=r||s.selector,u=s.create(Mt.NULL,[],c,a),l=u.location.nativeElement,d=u.injector.get(AE,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Pf(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new L(101,!1);let r=fe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,fe(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===lE)throw new L(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)AN(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>fp(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>fp(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Pf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(zs,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Pf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Pf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AN(t,e,n){!e&&!fp(t)||xN(t,n,e)}function fp(t){return xp(t)}function xN(t,e,n){let r;n?(r=0,t[G]|=1024):t[G]&64?r=0:r=1,dE(t,e,r)}var pp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},nl=(()=>{class t{compileModuleSync(n){return new cp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Ww(n),o=$I(i.declarations).reduce((s,a)=>{let c=vr(a);return c&&s.push(new _o(c)),s},[]);return new pp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var MN=(()=>{class t{constructor(){this.zone=M(_e),this.applicationRef=M(Mo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PN(t){return[{provide:_e,useFactory:t},{provide:fo,multi:!0,useFactory:()=>{let e=M(MN,{optional:!0});return()=>e.initialize()}},{provide:fo,multi:!0,useFactory:()=>{let e=M(kN);return()=>{e.initialize()}}},{provide:OI,useFactory:RN}]}function RN(){let t=M(_e),e=M(Mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function NN(t){let e=PN(()=>new _e(ON(t)));return Eo([[],e])}function ON(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var kN=(()=>{class t{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=M(_e),this.pendingTasks=M(Do)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FN(){return typeof $localize<"u"&&$localize.locale||Su}var rl=new F("",{providedIn:"root",factory:()=>M(rl,ne.Optional|ne.SkipSelf)||FN()});var PE=new F("");var au=null;function VN(t=[],e){return Mt.create({name:e,providers:[{provide:Ru,useValue:"platform"},{provide:PE,useValue:new Set([()=>au=null])},...t]})}function LN(t=[]){if(au)return au;let e=VN(t);return au=e,DN(),jN(e),e}function jN(t){t.get(Vp,null)?.forEach(n=>n())}var fi=(()=>{class t{static{this.__NG_ELEMENT_ID__=UN}}return t})();function UN(t){return BN(xt(),pe(),(t&16)===16)}function BN(t,e,n){if(ku(t)&&!n){let r=Er(t.index,e);return new ai(r,r)}else if(t.type&47){let r=e[An];return new ai(r,e)}return null}var mp=class{constructor(){}supports(e){return yE(e)}create(e){return new gp(e)}},$N=(t,e)=>e,gp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$N}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Sw(r,i,o)?n:r,a=Sw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let p=0;p<u;p++){let m=p<o.length?o[p]:o[p]=0,w=m+p;l<=w&&w<u&&(o[p]=m+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!yE(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,kR(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new yp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Au),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Au),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},yp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},vp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Au=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new vp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Sw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Aw(){return new tm([new mp])}var tm=(()=>{class t{static{this.\u0275prov=k({token:t,providedIn:"root",factory:Aw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Aw()),deps:[[t,new wp,new zt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new L(901,!1)}}return t})();function RE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=LN(r),o=[NN(),...n||[]],a=new Du({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(_e);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Mn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:m=>{u.handleError(m)}})});let d=()=>a.destroy(),p=i.get(PE);return p.add(d),a.onDestroy(()=>{l.unsubscribe(),p.delete(d)}),SN(u,c,()=>{let m=a.get(ME);return m.runInitializers(),m.donePromise.then(()=>{let w=a.get(rl,Su);fN(w||Su);let I=a.get(Mo);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function Gs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function NE(t){let e=vr(t);if(!e)return null;let n=new _o(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var UE=null;function rr(){return UE}function BE(t){UE??=t}var hl=class{};var lt=new F(""),lm=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(zN),providedIn:"platform"})}}return t})(),$E=new F(""),zN=(()=>{class t extends lm{constructor(){super(),this._doc=M(lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rr().getBaseHref(this._doc)}onPopState(n){let r=rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function dm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function OE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function tr(t){return t&&t[0]!=="?"?"?"+t:t}var pi=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(hm),providedIn:"root"})}}return t})(),qE=new F(""),hm=(()=>{class t extends pi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return dm(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+tr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+tr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+tr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(V(lm),V(qE,8))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),HE=(()=>{class t extends pi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=dm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+tr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+tr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(V(lm),V(qE,8))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),Ro=(()=>{class t{constructor(n){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=KN(OE(kE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+tr(r))}normalize(n){return t.stripTrailingSlash(WN(this._basePath,kE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+tr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+tr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=tr}static{this.joinWithSlash=dm}static{this.stripTrailingSlash=OE}static{this.\u0275fac=function(r){return new(r||t)(V(pi))}}static{this.\u0275prov=k({token:t,factory:()=>GN(),providedIn:"root"})}}return t})();function GN(){return new Ro(V(pi))}function WN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function kE(t){return t.replace(/\/index.html$/,"")}function KN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var _t=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(_t||{}),Te=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Te||{}),kt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(kt||{}),br={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function QN(t){return Qt(t)[Le.LocaleId]}function YN(t,e,n){let r=Qt(t),i=[r[Le.DayPeriodsFormat],r[Le.DayPeriodsStandalone]],o=Xt(i,e);return Xt(o,n)}function JN(t,e,n){let r=Qt(t),i=[r[Le.DaysFormat],r[Le.DaysStandalone]],o=Xt(i,e);return Xt(o,n)}function ZN(t,e,n){let r=Qt(t),i=[r[Le.MonthsFormat],r[Le.MonthsStandalone]],o=Xt(i,e);return Xt(o,n)}function XN(t,e){let r=Qt(t)[Le.Eras];return Xt(r,e)}function il(t,e){let n=Qt(t);return Xt(n[Le.DateFormat],e)}function ol(t,e){let n=Qt(t);return Xt(n[Le.TimeFormat],e)}function sl(t,e){let r=Qt(t)[Le.DateTimeFormat];return Xt(r,e)}function pl(t,e){let n=Qt(t),r=n[Le.NumberSymbols][e];if(typeof r>"u"){if(e===br.CurrencyDecimal)return n[Le.NumberSymbols][br.Decimal];if(e===br.CurrencyGroup)return n[Le.NumberSymbols][br.Group]}return r}function zE(t){if(!t[Le.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Le.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function eO(t){let e=Qt(t);return zE(e),(e[Le.ExtraData][2]||[]).map(r=>typeof r=="string"?nm(r):[nm(r[0]),nm(r[1])])}function tO(t,e,n){let r=Qt(t);zE(r);let i=[r[Le.ExtraData][0],r[Le.ExtraData][1]],o=Xt(i,e)||[];return Xt(o,n)||[]}function Xt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function nm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var nO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,al={},rO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,nr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(nr||{}),ge=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ge||{}),me=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(me||{});function iO(t,e,n,r){let i=fO(t);e=er(n,e)||e;let s=[],a;for(;e;)if(a=rO.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=WE(r,c),i=hO(i,r,!0));let u="";return s.forEach(l=>{let d=lO(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function fl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function er(t,e){let n=QN(t);if(al[n]??={},al[n][e])return al[n][e];let r="";switch(e){case"shortDate":r=il(t,kt.Short);break;case"mediumDate":r=il(t,kt.Medium);break;case"longDate":r=il(t,kt.Long);break;case"fullDate":r=il(t,kt.Full);break;case"shortTime":r=ol(t,kt.Short);break;case"mediumTime":r=ol(t,kt.Medium);break;case"longTime":r=ol(t,kt.Long);break;case"fullTime":r=ol(t,kt.Full);break;case"short":let i=er(t,"shortTime"),o=er(t,"shortDate");r=cl(sl(t,kt.Short),[i,o]);break;case"medium":let s=er(t,"mediumTime"),a=er(t,"mediumDate");r=cl(sl(t,kt.Medium),[s,a]);break;case"long":let c=er(t,"longTime"),u=er(t,"longDate");r=cl(sl(t,kt.Long),[c,u]);break;case"full":let l=er(t,"fullTime"),d=er(t,"fullDate");r=cl(sl(t,kt.Full),[l,d]);break}return r&&(al[n][e]=r),r}function cl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function gn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function oO(t,e){return gn(t,3).substring(0,e)}function $e(t,e,n=0,r=!1,i=!1){return function(o,s){let a=sO(t,o);if((n>0||a>-n)&&(a+=n),t===ge.Hours)a===0&&n===-12&&(a=12);else if(t===ge.FractionalSeconds)return oO(a,e);let c=pl(s,br.MinusSign);return gn(a,e,c,r,i)}}function sO(t,e){switch(t){case ge.FullYear:return e.getFullYear();case ge.Month:return e.getMonth();case ge.Date:return e.getDate();case ge.Hours:return e.getHours();case ge.Minutes:return e.getMinutes();case ge.Seconds:return e.getSeconds();case ge.FractionalSeconds:return e.getMilliseconds();case ge.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ae(t,e,n=_t.Format,r=!1){return function(i,o){return aO(i,o,t,e,n,r)}}function aO(t,e,n,r,i,o){switch(n){case me.Months:return ZN(e,i,r)[t.getMonth()];case me.Days:return JN(e,i,r)[t.getDay()];case me.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let u=eO(e),l=tO(e,i,r),d=u.findIndex(p=>{if(Array.isArray(p)){let[m,w]=p,I=s>=m.hours&&a>=m.minutes,E=s<w.hours||s===w.hours&&a<w.minutes;if(m.hours<w.hours){if(I&&E)return!0}else if(I||E)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return YN(e,i,r)[s<12?0:1];case me.Eras:return XN(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function ul(t){return function(e,n,r){let i=-1*r,o=pl(n,br.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case nr.Short:return(i>=0?"+":"")+gn(s,2,o)+gn(Math.abs(i%60),2,o);case nr.ShortGMT:return"GMT"+(i>=0?"+":"")+gn(s,1,o);case nr.Long:return"GMT"+(i>=0?"+":"")+gn(s,2,o)+":"+gn(Math.abs(i%60),2,o);case nr.Extended:return r===0?"Z":(i>=0?"+":"")+gn(s,2,o)+":"+gn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var cO=0,dl=4;function uO(t){let e=fl(t,cO,1).getDay();return fl(t,0,1+(e<=dl?dl:dl+7)-e)}function GE(t){let e=t.getDay(),n=e===0?-3:dl-e;return fl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function rm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=GE(n),s=uO(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return gn(i,t,pl(r,br.MinusSign))}}function ll(t,e=!1){return function(n,r){let o=GE(n).getFullYear();return gn(o,t,pl(r,br.MinusSign),e)}}var im={};function lO(t){if(im[t])return im[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ae(me.Eras,Te.Abbreviated);break;case"GGGG":e=Ae(me.Eras,Te.Wide);break;case"GGGGG":e=Ae(me.Eras,Te.Narrow);break;case"y":e=$e(ge.FullYear,1,0,!1,!0);break;case"yy":e=$e(ge.FullYear,2,0,!0,!0);break;case"yyy":e=$e(ge.FullYear,3,0,!1,!0);break;case"yyyy":e=$e(ge.FullYear,4,0,!1,!0);break;case"Y":e=ll(1);break;case"YY":e=ll(2,!0);break;case"YYY":e=ll(3);break;case"YYYY":e=ll(4);break;case"M":case"L":e=$e(ge.Month,1,1);break;case"MM":case"LL":e=$e(ge.Month,2,1);break;case"MMM":e=Ae(me.Months,Te.Abbreviated);break;case"MMMM":e=Ae(me.Months,Te.Wide);break;case"MMMMM":e=Ae(me.Months,Te.Narrow);break;case"LLL":e=Ae(me.Months,Te.Abbreviated,_t.Standalone);break;case"LLLL":e=Ae(me.Months,Te.Wide,_t.Standalone);break;case"LLLLL":e=Ae(me.Months,Te.Narrow,_t.Standalone);break;case"w":e=rm(1);break;case"ww":e=rm(2);break;case"W":e=rm(1,!0);break;case"d":e=$e(ge.Date,1);break;case"dd":e=$e(ge.Date,2);break;case"c":case"cc":e=$e(ge.Day,1);break;case"ccc":e=Ae(me.Days,Te.Abbreviated,_t.Standalone);break;case"cccc":e=Ae(me.Days,Te.Wide,_t.Standalone);break;case"ccccc":e=Ae(me.Days,Te.Narrow,_t.Standalone);break;case"cccccc":e=Ae(me.Days,Te.Short,_t.Standalone);break;case"E":case"EE":case"EEE":e=Ae(me.Days,Te.Abbreviated);break;case"EEEE":e=Ae(me.Days,Te.Wide);break;case"EEEEE":e=Ae(me.Days,Te.Narrow);break;case"EEEEEE":e=Ae(me.Days,Te.Short);break;case"a":case"aa":case"aaa":e=Ae(me.DayPeriods,Te.Abbreviated);break;case"aaaa":e=Ae(me.DayPeriods,Te.Wide);break;case"aaaaa":e=Ae(me.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":e=Ae(me.DayPeriods,Te.Abbreviated,_t.Standalone,!0);break;case"bbbb":e=Ae(me.DayPeriods,Te.Wide,_t.Standalone,!0);break;case"bbbbb":e=Ae(me.DayPeriods,Te.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ae(me.DayPeriods,Te.Abbreviated,_t.Format,!0);break;case"BBBB":e=Ae(me.DayPeriods,Te.Wide,_t.Format,!0);break;case"BBBBB":e=Ae(me.DayPeriods,Te.Narrow,_t.Format,!0);break;case"h":e=$e(ge.Hours,1,-12);break;case"hh":e=$e(ge.Hours,2,-12);break;case"H":e=$e(ge.Hours,1);break;case"HH":e=$e(ge.Hours,2);break;case"m":e=$e(ge.Minutes,1);break;case"mm":e=$e(ge.Minutes,2);break;case"s":e=$e(ge.Seconds,1);break;case"ss":e=$e(ge.Seconds,2);break;case"S":e=$e(ge.FractionalSeconds,1);break;case"SS":e=$e(ge.FractionalSeconds,2);break;case"SSS":e=$e(ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ul(nr.Short);break;case"ZZZZZ":e=ul(nr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ul(nr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ul(nr.Long);break;default:return null}return im[t]=e,e}function WE(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function dO(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function hO(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=WE(e,i);return dO(t,r*(o-i))}function fO(t){if(FE(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return fl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(nO))return pO(r)}let e=new Date(t);if(!FE(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function pO(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,u),e}function FE(t){return t instanceof Date&&!isNaN(t.valueOf())}function ml(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var om=/\s+/,VE=[],KE=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=VE,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(om):VE}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(om):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(om).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(j(fn),j(Pn))}}static{this.\u0275dir=De({type:t,selectors:[["","ngClass",""]],inputs:{klass:[tt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var sm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gl=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new sm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),LE(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);LE(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(j(bo),j(Wu),j(tm))}}static{this.\u0275dir=De({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function LE(t,e){t.context.$implicit=e.item}var yl=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new am,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){jE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){jE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(j(bo),j(Wu))}}static{this.\u0275dir=De({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),am=class{constructor(){this.$implicit=null,this.ngIf=null}};function jE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}function mO(t,e){return new L(2100,!1)}var gO="mediumDate",yO=new F(""),vO=new F(""),vl=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??gO,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return iO(n,s,o||this.locale,a)}catch(s){throw mO(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(j(rl,16),j(yO,24),j(vO,24))}}static{this.\u0275pipe=qw({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Ws=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=At({type:t})}static{this.\u0275inj=St({})}}return t})(),fm="browser",_O="server";function wO(t){return t===fm}function _l(t){return t===_O}var QE=(()=>{class t{static{this.\u0275prov=k({token:t,providedIn:"root",factory:()=>wO(M(Kt))?new cm(M(lt),window):new um})}}return t})(),cm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=IO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function IO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var um=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Po=class{};var Qs=class{},Il=class{},mi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var gm=class{encodeKey(e){return YE(e)}encodeValue(e){return YE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function bO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var DO=/%(\d[a-f0-9])/gi,TO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YE(t){return encodeURIComponent(t).replace(DO,(e,n)=>TO[n]??e)}function wl(t){return`${t}`}var Dr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=bO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(wl):[wl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(wl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(wl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ym=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function SO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function ZE(t){return typeof Blob<"u"&&t instanceof Blob}function XE(t){return typeof FormData<"u"&&t instanceof FormData}function AO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ks=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(SO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new mi,this.context??=new ym,!this.params)this.params=new Dr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||JE(this.body)||ZE(this.body)||XE(this.body)||AO(this.body)?this.body:this.body instanceof Dr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||XE(this.body)?null:ZE(this.body)?this.body.type||null:JE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Dr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,l=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((p,m)=>p.set(m,e.setHeaders[m]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((p,m)=>p.set(m,e.setParams[m]),l)),new t(n,r,s,{params:l,headers:u,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},No=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(No||{}),Ys=class{constructor(e,n=bl.Ok,r="OK"){this.headers=e.headers||new mi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},vm=class t extends Ys{constructor(e={}){super(e),this.type=No.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},El=class t extends Ys{constructor(e={}){super(e),this.type=No.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cl=class extends Ys{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},bl=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(bl||{});function mm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var _m=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ks)o=n;else{let c;i.headers instanceof mi?c=i.headers:c=new mi(i.headers);let u;i.params&&(i.params instanceof Dr?u=i.params:u=new Dr({fromObject:i.params})),o=new Ks(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=q(o).pipe(zn(c=>this.handler.handle(c)));if(n instanceof Ks||i.observe==="events")return s;let a=s.pipe(bt(c=>c instanceof El));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Z(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Z(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Dr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,mm(i,r))}post(n,r,i={}){return this.request("POST",n,mm(i,r))}put(n,r,i={}){return this.request("PUT",n,mm(i,r))}static{this.\u0275fac=function(r){return new(r||t)(V(Qs))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();function xO(t,e){return e(t)}function MO(t,e,n){return(r,i)=>dn(n,()=>e(r,o=>t(o,i)))}var nC=new F(""),PO=new F(""),RO=new F("");var eC=(()=>{class t extends Qs{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=M(Do);let i=M(RO,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(nC),...this.injector.get(PO,[])]));this.chain=i.reduceRight((o,s)=>MO(o,s,this.injector),xO)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Zr(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||t)(V(Il),V(ct))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();var NO=/^\)\]\}',?\n/;function OO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var tC=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new L(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Me(r.\u0275loadImpl()):q(null)).pipe(Dt(()=>new oe(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((I,E)=>s.setRequestHeader(I,E.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let I=n.detectContentTypeHeader();I!==null&&s.setRequestHeader("Content-Type",I)}if(n.responseType){let I=n.responseType.toLowerCase();s.responseType=I!=="json"?I:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let I=s.statusText||"OK",E=new mi(s.getAllResponseHeaders()),R=OO(s)||n.url;return c=new vm({headers:E,status:s.status,statusText:I,url:R}),c},l=()=>{let{headers:I,status:E,statusText:R,url:re}=u(),B=null;E!==bl.NoContent&&(B=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=B?bl.Ok:0);let ve=E>=200&&E<300;if(n.responseType==="json"&&typeof B=="string"){let Ge=B;B=B.replace(NO,"");try{B=B!==""?JSON.parse(B):null}catch(he){B=Ge,ve&&(ve=!1,B={error:he,text:B})}}ve?(o.next(new El({body:B,headers:I,status:E,statusText:R,url:re||void 0})),o.complete()):o.error(new Cl({error:B,headers:I,status:E,statusText:R,url:re||void 0}))},d=I=>{let{url:E}=u(),R=new Cl({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(R)},p=!1,m=I=>{p||(o.next(u()),p=!0);let E={type:No.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(E.total=I.total),n.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},w=I=>{let E={type:No.UploadProgress,loaded:I.loaded};I.lengthComputable&&(E.total=I.total),o.next(E)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:No.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(V(Po))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),rC=new F(""),kO="XSRF-TOKEN",FO=new F("",{providedIn:"root",factory:()=>kO}),VO="X-XSRF-TOKEN",LO=new F("",{providedIn:"root",factory:()=>VO}),Dl=class{},jO=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ml(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(V(lt),V(Kt),V(FO))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();function UO(t,e){let n=t.url.toLowerCase();if(!M(rC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=M(Dl).getToken(),i=M(LO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function iC(...t){let e=[_m,tC,eC,{provide:Qs,useExisting:eC},{provide:Il,useExisting:tC},{provide:nC,useValue:UO,multi:!0},{provide:rC,useValue:!0},{provide:Dl,useClass:jO}];for(let n of t)e.push(...n.\u0275providers);return Eo(e)}var Em=class extends hl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cm=class t extends Em{static makeCurrent(){BE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=$O();return n==null?null:qO(n)}resetBaseElement(){Js=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ml(document.cookie,e)}},Js=null;function $O(){return Js=Js||document.querySelector("base"),Js?Js.getAttribute("href"):null}function qO(t){return new URL(t,document.baseURI).pathname}var HO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),bm=new F(""),cC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(V(bm),V(_e))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),Tl=class{constructor(e){this._doc=e}},wm="ng-app-id",uC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_l(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${wm}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(wm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(wm,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(V(lt),V(Fp),V(Lp,8),V(Kt))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),Im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tm=/%COMP%/g,lC="%COMP%",zO=`_nghost-${lC}`,GO=`_ngcontent-${lC}`,WO=!0,KO=new F("",{providedIn:"root",factory:()=>WO});function QO(t){return GO.replace(Tm,t)}function YO(t){return zO.replace(Tm,t)}function dC(t,e){return e.map(n=>n.replace(Tm,t))}var oC=(()=>{class t{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=_l(a),this.defaultRenderer=new Zs(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tn.ShadowDom&&(r=J(x({},r),{encapsulation:Tn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Sl?i.applyToHost(n):i instanceof Xs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Tn.Emulated:o=new Sl(c,u,r,this.appId,l,s,a,d);break;case Tn.ShadowDom:return new Dm(c,u,n,r,s,a,this.nonce,d);default:o=new Xs(c,u,r,l,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(V(cC),V(uC),V(Fp),V(KO),V(lt),V(Kt),V(_e),V(Lp))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),Zs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Im[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Im[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Im[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kn.DashCase|Kn.Important)?e.style.setProperty(n,r,i&Kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=rr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function sC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Dm=class extends Zs{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=dC(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xs=class extends Zs{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?dC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sl=class extends Xs{constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=QO(u),this.hostAttr=YO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},JO=(()=>{class t extends Tl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(V(lt))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})(),aC=["alt","control","meta","shift"],ZO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ek=(()=>{class t extends Tl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),aC.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=ZO[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),aC.forEach(s=>{if(s!==i){let a=XO[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(V(lt))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();function hC(t,e){return RE(x({rootComponent:t},tk(e)))}function tk(t){return{appProviders:[...sk,...t?.providers??[]],platformProviders:ok}}function nk(){Cm.makeCurrent()}function rk(){return new Mn}function ik(){return UI(document),document}var ok=[{provide:Kt,useValue:fm},{provide:Vp,useValue:nk,multi:!0},{provide:lt,useFactory:ik,deps:[]}];var sk=[{provide:Ru,useValue:"root"},{provide:Mn,useFactory:rk,deps:[]},{provide:bm,useClass:JO,multi:!0,deps:[lt,_e,Kt]},{provide:bm,useClass:ek,multi:!0,deps:[lt]},oC,uC,cC,{provide:Ls,useExisting:oC},{provide:Po,useClass:HO,deps:[]},[]];var fC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(V(lt))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var CC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(j(Pn),j(fn))}}static{this.\u0275dir=De({type:t})}}return t})(),Fo=(()=>{class t extends CC{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,features:[rt]})}}return t})(),Ar=new F(""),ck={provide:Ar,useExisting:vt(()=>Pm),multi:!0},Pm=(()=>{class t extends Fo{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Ot([ck]),rt]})}}return t})(),uk={provide:Ar,useExisting:vt(()=>Fl),multi:!0};function lk(){let t=rr()?rr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var dk=new F(""),Fl=(()=>{class t extends CC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!lk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(j(Pn),j(fn),j(dk,8))}}static{this.\u0275dir=De({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&D("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ot([uk]),rt]})}}return t})();function Tr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function bC(t){return t!=null&&typeof t.length=="number"}var Vo=new F(""),Rm=new F(""),hk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,We=class{static min(e){return DC(e)}static max(e){return TC(e)}static required(e){return SC(e)}static requiredTrue(e){return fk(e)}static email(e){return pk(e)}static minLength(e){return mk(e)}static maxLength(e){return gk(e)}static pattern(e){return yk(e)}static nullValidator(e){return xl(e)}static compose(e){return NC(e)}static composeAsync(e){return kC(e)}};function DC(t){return e=>{if(Tr(e.value)||Tr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function TC(t){return e=>{if(Tr(e.value)||Tr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function SC(t){return Tr(t.value)?{required:!0}:null}function fk(t){return t.value===!0?null:{required:!0}}function pk(t){return Tr(t.value)||hk.test(t.value)?null:{email:!0}}function mk(t){return e=>Tr(e.value)||!bC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function gk(t){return e=>bC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function yk(t){if(!t)return xl;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Tr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function xl(t){return null}function AC(t){return t!=null}function xC(t){return hi(t)?Me(t):t}function MC(t){let e={};return t.forEach(n=>{e=n!=null?x(x({},e),n):e}),Object.keys(e).length===0?null:e}function PC(t,e){return e.map(n=>n(t))}function vk(t){return!t.validate}function RC(t){return t.map(e=>vk(e)?e:n=>e.validate(n))}function NC(t){if(!t)return null;let e=t.filter(AC);return e.length==0?null:function(n){return MC(PC(n,e))}}function OC(t){return t!=null?NC(RC(t)):null}function kC(t){if(!t)return null;let e=t.filter(AC);return e.length==0?null:function(n){let r=PC(n,e).map(xC);return lf(r).pipe(Z(MC))}}function FC(t){return t!=null?kC(RC(t)):null}function pC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function VC(t){return t._rawValidators}function LC(t){return t._rawAsyncValidators}function Sm(t){return t?Array.isArray(t)?t:[t]:[]}function Ml(t,e){return Array.isArray(t)?t.includes(e):t===e}function mC(t,e){let n=Sm(e);return Sm(t).forEach(i=>{Ml(n,i)||n.push(i)}),n}function gC(t,e){return Sm(e).filter(n=>!Ml(t,n))}var Pl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=OC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=FC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},gi=class extends Pl{get formDirective(){return null}get path(){return null}},Sr=class extends Pl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Rl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},_k={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$G=J(x({},_k),{"[class.ng-submitted]":"isSubmitted"}),jC=(()=>{class t extends Rl{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(j(Sr,2))}}static{this.\u0275dir=De({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Se("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[rt]})}}return t})(),UC=(()=>{class t extends Rl{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(j(gi,10))}}static{this.\u0275dir=De({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Se("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[rt]})}}return t})();var ea="VALID",Al="INVALID",Oo="PENDING",ta="DISABLED";function Nm(t){return(Vl(t)?t.validators:t)||null}function wk(t){return Array.isArray(t)?OC(t):t||null}function Om(t,e){return(Vl(e)?e.asyncValidators:t)||null}function Ik(t){return Array.isArray(t)?FC(t):t||null}function Vl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function BC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[n])throw new L(1001,"")}function $C(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new L(1002,"")})}var ko=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ea}get invalid(){return this.status===Al}get pending(){return this.status==Oo}get disabled(){return this.status===ta}get enabled(){return this.status!==ta}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gC(e,this._rawAsyncValidators))}hasValidator(e){return Ml(this._rawValidators,e)}hasAsyncValidator(e){return Ml(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ta,this.errors=null,this._forEachChild(r=>{r.disable(J(x({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(x({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ea,this._forEachChild(r=>{r.enable(J(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(J(x({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ea||this.status===Oo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ta:ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oo,this._hasOwnPendingAsyncValidator=!0;let n=xC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?ta:this.errors?Al:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oo)?Oo:this._anyControlsHaveStatus(Al)?Al:ea}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ik(this._rawAsyncValidators)}},Nl=class extends ko{constructor(e,n,r){super(Nm(n),Om(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){$C(this,!0,e),Object.keys(e).forEach(r=>{BC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Am=class extends Nl{};var ra=new F("CallSetDisabledState",{providedIn:"root",factory:()=>ia}),ia="always";function qC(t,e){return[...e.path,t]}function xm(t,e,n=ia){km(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ck(t,e),Dk(t,e),bk(t,e),Ek(t,e)}function yC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),kl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ol(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ek(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function km(t,e){let n=VC(t);e.validator!==null?t.setValidators(pC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=LC(t);e.asyncValidator!==null?t.setAsyncValidators(pC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ol(e._rawValidators,i),Ol(e._rawAsyncValidators,i)}function kl(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=VC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=LC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Ol(e._rawValidators,r),Ol(e._rawAsyncValidators,r),n}function Ck(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&HC(t,e)})}function bk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&HC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function HC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Dk(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Tk(t,e){t==null,km(t,e)}function Sk(t,e){return kl(t,e)}function zC(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Ak(t){return Object.getPrototypeOf(t.constructor)===Fo}function xk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GC(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Fl?n=o:Ak(o)?r=o:i=o}),i||r||n||null}function Mk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _C(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var na=class extends ko{constructor(e=null,n,r){super(Nm(n),Om(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(_C(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){_C(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Pk=t=>t instanceof na;var Rk={provide:Sr,useExisting:vt(()=>Fm)},wC=Promise.resolve(),Fm=(()=>{class t extends Sr{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new na,this._registered=!1,this.name="",this.update=new et,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GC(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),zC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){wC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Gs(r);wC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?qC(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(j(gi,9),j(Vo,10),j(Rm,10),j(Ar,10),j(fi,8),j(ra,8))}}static{this.\u0275dir=De({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"],options:[tt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ot([Rk]),rt,Zn]})}}return t})(),WC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=De({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),Nk={provide:Ar,useExisting:vt(()=>Vm),multi:!0},Vm=(()=>{class t extends Fo{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&D("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Ot([Nk]),rt]})}}return t})(),Ok={provide:Ar,useExisting:vt(()=>Lm),multi:!0};var kk=(()=>{class t{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Lm=(()=>{class t extends Fo{constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=M(ra,{optional:!0})??ia}ngOnInit(){this._control=this._injector.get(Sr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||t)(j(Pn),j(fn),j(kk),j(Mt))}}static{this.\u0275dir=De({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&D("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ot([Ok]),rt]})}}return t})();var KC=new F("");var Fk={provide:gi,useExisting:vt(()=>jm)},jm=(()=>{class t extends gi{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return xm(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){yC(n.control||null,n,!1),Mk(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,xk(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(yC(r||null,n),Pk(i)&&(xm(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Tk(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Sk(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){km(this.form,this),this._oldForm&&kl(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(j(Vo,10),j(Rm,10),j(ra,8))}}static{this.\u0275dir=De({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&D("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[tt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ot([Fk]),rt,Zn]})}}return t})();var Vk={provide:Sr,useExisting:vt(()=>Um)},Um=(()=>{class t extends Sr{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new et,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GC(this,o)}ngOnChanges(n){this._added||this._setUpControl(),zC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return qC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(j(gi,13),j(Vo,10),j(Rm,10),j(Ar,10),j(KC,8))}}static{this.\u0275dir=De({type:t,selectors:[["","formControlName",""]],inputs:{name:[tt.None,"formControlName","name"],isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ot([Vk]),rt,Zn]})}}return t})(),Lk={provide:Ar,useExisting:vt(()=>Ll),multi:!0};function QC(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function jk(t){return t.split(":")[0]}var Ll=(()=>{class t extends Fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=QC(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=jk(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ot([Lk]),rt]})}}return t})(),YC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(QC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(j(fn),j(Pn),j(Ll,9))}}static{this.\u0275dir=De({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),Uk={provide:Ar,useExisting:vt(()=>JC),multi:!0};function IC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Bk(t){return t.split(":")[0]}var JC=(()=>{class t extends Fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Bk(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ot([Uk]),rt]})}}return t})(),ZC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(IC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(IC(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(j(fn),j(Pn),j(JC,9))}}static{this.\u0275dir=De({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function XC(t){return typeof t=="number"?t:parseFloat(t)}var Bm=(()=>{class t{constructor(){this._validator=xl}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xl,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=De({type:t,features:[Zn]})}}return t})(),$k={provide:Vo,useExisting:vt(()=>$m),multi:!0},$m=(()=>{class t extends Bm{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>XC(n),this.createValidator=n=>TC(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Cr("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Ot([$k]),rt]})}}return t})(),qk={provide:Vo,useExisting:vt(()=>qm),multi:!0},qm=(()=>{class t extends Bm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>XC(n),this.createValidator=n=>DC(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Cr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Ot([qk]),rt]})}}return t})(),Hk={provide:Vo,useExisting:vt(()=>Hm),multi:!0};var Hm=(()=>{class t extends Bm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Gs,this.createValidator=n=>SC}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Cr("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ot([Hk]),rt]})}}return t})();var eb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=At({type:t})}static{this.\u0275inj=St({})}}return t})(),Mm=class extends ko{constructor(e,n,r){super(Nm(n),Om(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){$C(this,!1,e),e.forEach((r,i)=>{BC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function EC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var tb=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return EC(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Nl(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Am(i,r)}control(n,r,i){let o={};return this.useNonNullable?(EC(r)?o=r:(o.validators=r,o.asyncValidators=i),new na(n,J(x({},o),{nonNullable:!0}))):new na(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Mm(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof na)return n;if(n instanceof ko)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var nb=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ra,useValue:n.callSetDisabledState??ia}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=At({type:t})}static{this.\u0275inj=St({imports:[eb]})}}return t})(),rb=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:KC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ra,useValue:n.callSetDisabledState??ia}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=At({type:t})}static{this.\u0275inj=St({imports:[eb]})}}return t})();var ib=[{id:1,name:"Stand. Flawinne FC",players:["Joueur non list\xE9"]},{id:2,name:"U10 Stand. Flawinne FC",players:["Melvin","Kalvin","Thibault","Tom","Maxim","Ely","Math\xE9o","Elson","Shanna","Stiliano","Mandares","Naofelle","Danielle","Arthur"]},{id:3,name:"U9 Stand. Flawinne FC",players:["Mathieu","Loris","Hugo","Sam","Achille","Dario","Jules","Gabin","Georges"]}];function zm(t){return(!t.players||t.players.length===0)&&(t.players=["Joueur non list\xE9"]),t}var X="primary",wa=Symbol("RouteTitle"),Ym=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $o(t){return new Ym(t)}function Gk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Wk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Rn(t[n],e[n]))return!1;return!0}function Rn(t,e){let n=t?Jm(t):void 0,r=e?Jm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fb(t[i],e[i]))return!1;return!0}function Jm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function pb(t){return t.length>0?t[t.length-1]:null}function Nr(t){return uf(t)?t:hi(t)?Me(Promise.resolve(t)):q(t)}var Kk={exact:gb,subset:yb},mb={exact:Qk,subset:Yk,ignored:()=>!0};function ob(t,e,n){return Kk[n.paths](t.root,e.root,n.matrixParams)&&mb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Qk(t,e){return Rn(t,e)}function gb(t,e,n){if(!vi(t.segments,e.segments)||!Bl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!gb(t.children[r],e.children[r],n))return!1;return!0}function Yk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fb(t[n],e[n]))}function yb(t,e,n){return vb(t,e,e.segments,n)}function vb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!vi(i,n)||e.hasChildren()||!Bl(i,n,r))}else if(t.segments.length===n.length){if(!vi(t.segments,n)||!Bl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!yb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!vi(t.segments,i)||!Bl(t.segments,i,r)||!t.children[X]?!1:vb(t.children[X],e,o,r)}}function Bl(t,e,n){return e.every((r,i)=>mb[n](t[i].parameters,r.parameters))}var xr=class{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){return Xk.serialize(this)}},we=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $l(this)}},yi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$o(this.parameters),this._parameterMap}toString(){return wb(this)}};function Jk(t,e){return vi(t,e)&&t.every((n,r)=>Rn(n.parameters,e[r].parameters))}function vi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Zk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var Ia=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>new da,providedIn:"root"})}}return t})(),da=class{parse(e){let n=new Xm(e);return new xr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${oa(e.root,!0)}`,r=nF(e.queryParams),i=typeof e.fragment=="string"?`#${eF(e.fragment)}`:"";return`${n}${r}${i}`}},Xk=new da;function $l(t){return t.segments.map(e=>wb(e)).join("/")}function oa(t,e){if(!t.hasChildren())return $l(t);if(e){let n=t.children[X]?oa(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${oa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Zk(t,(r,i)=>i===X?[oa(t.children[X],!1)]:[`${i}:${oa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${$l(t)}/${n[0]}`:`${$l(t)}/(${n.join("//")})`}}function _b(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jl(t){return _b(t).replace(/%3B/gi,";")}function eF(t){return encodeURI(t)}function Zm(t){return _b(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ql(t){return decodeURIComponent(t)}function sb(t){return ql(t.replace(/\+/g,"%20"))}function wb(t){return`${Zm(t.path)}${tF(t.parameters)}`}function tF(t){return Object.entries(t).map(([e,n])=>`;${Zm(e)}=${Zm(n)}`).join("")}function nF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${jl(n)}=${jl(i)}`).join("&"):`${jl(n)}=${jl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var rF=/^[^\/()?;#]+/;function Gm(t){let e=t.match(rF);return e?e[0]:""}var iF=/^[^\/()?;=#]+/;function oF(t){let e=t.match(iF);return e?e[0]:""}var sF=/^[^=?&#]+/;function aF(t){let e=t.match(sF);return e?e[0]:""}var cF=/^[^&#]+/;function uF(t){let e=t.match(cF);return e?e[0]:""}var Xm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new we(e,n)),r}parseSegment(){let e=Gm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new yi(ql(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=oF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Gm(this.remaining);i&&(r=i,this.capture(r))}e[ql(n)]=ql(r)}parseQueryParam(e){let n=aF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=uF(this.remaining);s&&(r=s,this.capture(r))}let i=sb(n),o=sb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[X]:new we([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function Ib(t){return t.segments.length>0?new we([],{[X]:t}):t}function Eb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Eb(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new we(t.segments,e);return lF(n)}function lF(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new we(t.segments.concat(e.segments),e.children)}return t}function qo(t){return t instanceof xr}function dF(t,e,n=null,r=null){let i=Cb(t);return bb(i,e,n,r)}function Cb(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new we(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Ib(r);return e??i}function bb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Wm(i,i,i,n,r);let o=hF(e);if(o.toRoot())return Wm(i,i,new we([],{}),n,r);let s=fF(o,i,t),a=s.processChildren?ca(s.segmentGroup,s.index,o.commands):Tb(s.segmentGroup,s.index,o.commands);return Wm(i,s.segmentGroup,a,n,r)}function Hl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ha(t){return typeof t=="object"&&t!=null&&t.outlets}function Wm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=Db(t,e,n);let a=Ib(Eb(s));return new xr(a,o,i)}function Db(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Db(o,e,n)}),new we(t.segments,r)}var zl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hl(r[0]))throw new L(4003,!1);let i=r.find(ha);if(i&&i!==pb(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zl(n,e,r)}var Uo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function fF(t,e,n){if(t.isAbsolute)return new Uo(e,!0,0);if(!n)return new Uo(e,!1,NaN);if(n.parent===null)return new Uo(n,!0,0);let r=Hl(t.commands[0])?0:1,i=n.segments.length-1+r;return pF(n,i,t.numberOfDoubleDots)}function pF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Uo(r,!1,i-o)}function mF(t){return ha(t[0])?t[0].outlets:{[X]:t}}function Tb(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return ca(t,e,n);let r=gF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new we(t.segments.slice(0,r.pathIndex),{});return o.children[X]=new we(t.segments.slice(r.pathIndex),t.children),ca(o,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?eg(t,e,n):r.match?ca(t,0,i):eg(t,e,n)}function ca(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=mF(n),i={};if(Object.keys(r).some(o=>o!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let o=ca(t.children[X],e,n);return new we(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Tb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new we(t.segments,i)}}function gF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ha(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!cb(c,u,s))return o;r+=2}else{if(!cb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function eg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ha(o)){let c=yF(o.outlets);return new we(r,c)}if(i===0&&Hl(n[0])){let c=t.segments[e];r.push(new yi(c.path,ab(n[0]))),i++;continue}let s=ha(o)?o.outlets[X]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Hl(a)?(r.push(new yi(s,ab(a))),i+=2):(r.push(new yi(s,{})),i++)}return new we(r,{})}function yF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=eg(new we([],{}),0,r))}),e}function ab(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function cb(t,e,n){return t==n.path&&Rn(e,n.parameters)}var ua="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),en=class{constructor(e,n){this.id=e,this.url=n}},Ho=class extends en{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ir=class extends en{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Vt||{}),Gl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Gl||{}),Mr=class extends en{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pr=class extends en{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},fa=class extends en{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wl=class extends en{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tg=class extends en{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ng=class extends en{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rg=class extends en{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ig=class extends en{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sg=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ag=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cg=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ug=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lg=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ke.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},pa=class{},ma=class{constructor(e){this.url=e}};var dg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ea,this.attachRef=null}},Ea=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new dg,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ql=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=hg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=hg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=fg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fg(e,this._root).map(n=>n.value)}};function hg(t,e){if(t===e.value)return e;for(let n of e.children){let r=hg(t,n);if(r)return r}return null}function fg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=fg(t,n);if(r.length)return r.unshift(e),r}return[]}var Ft=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function jo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Yl=class extends Ql{constructor(e,n){super(e),this.snapshot=n,Cg(this,e)}toString(){return this.snapshot.toString()}};function Sb(t){let e=vF(t),n=new Xe([new yi("",{})]),r=new Xe({}),i=new Xe({}),o=new Xe({}),s=new Xe(""),a=new or(n,r,o,s,i,X,t,e.root);return a.snapshot=e.root,new Yl(new Ft(a,[]),e)}function vF(t){let e={},n={},r={},i="",o=new ga([],e,r,i,n,X,t,null,{});return new Jl("",new Ft(o,[]))}var or=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(u=>u[wa]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>$o(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>$o(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Eg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),t.params),data:x(x({},e.data),t.data),resolve:x(x(x(x({},t.data),e.data),i?.data),t._resolvedData)}:r={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},i&&xb(i)&&(r.resolve[wa]=i.title),r}var ga=class{get title(){return this.data?.[wa]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$o(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Jl=class extends Ql{constructor(e,n){super(n),this.url=e,Cg(this,n)}toString(){return Ab(this._root)}};function Cg(t,e){e.value._routerState=t,e.children.forEach(n=>Cg(t,n))}function Ab(t){let e=t.children.length>0?` { ${t.children.map(Ab).join(", ")} } `:"";return`${t.value}${e}`}function Km(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Rn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Rn(e.params,n.params)||t.paramsSubject.next(n.params),Wk(e.url,n.url)||t.urlSubject.next(n.url),Rn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pg(t,e){let n=Rn(t.params,e.params)&&Jk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||pg(t.parent,e.parent))}function xb(t){return typeof t.title=="string"||t.title===null}var bg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=X,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=M(Ea),this.location=M(bo),this.changeDetector=M(fi),this.environmentInjector=M(ct),this.inputBinder=M(td,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new mg(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=De({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zn]})}}return t})(),mg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===or?this.route:e===Ea?this.childContexts:this.parent.get(e,n)}},td=new F(""),ub=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=As([r.queryParams,r.params,r.data]).pipe(Dt(([o,s,a],c)=>(a=x(x(x({},o),s),a),c===0?q(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=NE(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();function _F(t,e,n){let r=ya(t,e._root,n?n._root:void 0);return new Yl(r,e)}function ya(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=wF(t,e,n);return new Ft(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ya(t,a)),s}}let r=IF(e.value),i=e.children.map(o=>ya(t,o));return new Ft(r,i)}}function wF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ya(t,r,i);return ya(t,r)})}function IF(t){return new or(new Xe(t.url),new Xe(t.params),new Xe(t.queryParams),new Xe(t.fragment),new Xe(t.data),t.outlet,t.component,t)}var Mb="ngNavigationCancelingError";function Pb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=qo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Rb(!1,Vt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Rb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Mb]=!0,n.cancellationCode=e,n}function EF(t){return Nb(t)&&qo(t.url)}function Nb(t){return!!t&&t[Mb]}var CF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Io({type:t,selectors:[["ng-component"]],standalone:!0,features:[xo],decls:1,vars:0,template:function(r,i){r&1&&te(0,"router-outlet")},dependencies:[bg],encapsulation:2})}}return t})();function bF(t,e){return t.providers&&!t._injector&&(t._injector=Ju(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Dg(t){let e=t.children&&t.children.map(Dg),n=e?J(x({},t),{children:e}):x({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=CF),n}function Nn(t){return t.outlet||X}function DF(t,e){let n=t.filter(r=>Nn(r)===e);return n.push(...t.filter(r=>Nn(r)!==e)),n}function Ca(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var TF=(t,e,n,r)=>Z(i=>(new gg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),gg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Km(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=jo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=jo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new lg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new cg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Km(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Km(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ca(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Zl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bo=class{constructor(e,n){this.component=e,this.route=n}};function SF(t,e,n){let r=t._root,i=e?e._root:null;return sa(r,i,n,[r.value])}function AF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Go(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Pw(t)?t:e.get(t):r}function sa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=jo(e);return t.children.forEach(s=>{xF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>la(a,n.getContext(s),i)),i}function xF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=MF(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Zl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?sa(t,e,a?a.children:null,r,i):sa(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bo(a.outlet.component,s))}else s&&la(e,a,i),i.canActivateChecks.push(new Zl(r)),o.component?sa(t,null,a?a.children:null,r,i):sa(t,null,n,r,i);return i}function MF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vi(t.url,e.url)||!Rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pg(t,e)||!Rn(t.queryParams,e.queryParams);case"paramsChange":default:return!pg(t,e)}}function la(t,e,n){let r=jo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?la(s,e.children.getContext(o),n):la(s,null,n):la(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Bo(e.outlet.component,i)):n.canDeactivateChecks.push(new Bo(null,i)):n.canDeactivateChecks.push(new Bo(null,i))}function ba(t){return typeof t=="function"}function PF(t){return typeof t=="boolean"}function RF(t){return t&&ba(t.canLoad)}function NF(t){return t&&ba(t.canActivate)}function OF(t){return t&&ba(t.canActivateChild)}function kF(t){return t&&ba(t.canDeactivate)}function FF(t){return t&&ba(t.canMatch)}function Ob(t){return t instanceof Hn||t?.name==="EmptyError"}var Ul=Symbol("INITIAL_VALUE");function zo(){return Dt(t=>As(t.map(e=>e.pipe(Gn(1),pf(Ul)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===Ul)return Ul;if(n===!1||n instanceof xr)return n}return!0}),bt(e=>e!==Ul),Gn(1)))}function VF(t,e){return Ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?q(J(x({},n),{guardsResult:!0})):LF(s,r,i,t).pipe(Ue(a=>a&&PF(a)?jF(r,o,t,e):q(a)),Z(a=>J(x({},n),{guardsResult:a})))})}function LF(t,e,n,r){return Me(t).pipe(Ue(i=>HF(i.component,i.route,n,e,r)),Cn(i=>i!==!0,!0))}function jF(t,e,n,r){return Me(e).pipe(zn(i=>ro(BF(i.route.parent,r),UF(i.route,r),qF(t,i.path,n),$F(t,i.route,n))),Cn(i=>i!==!0,!0))}function UF(t,e){return t!==null&&e&&e(new ug(t)),q(!0)}function BF(t,e){return t!==null&&e&&e(new ag(t)),q(!0)}function $F(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Zc(()=>{let s=Ca(e)??n,a=Go(o,s),c=NF(a)?a.canActivate(e,t):dn(s,()=>a(e,t));return Nr(c).pipe(Cn())}));return q(i).pipe(zo())}function qF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>AF(s)).filter(s=>s!==null).map(s=>Zc(()=>{let a=s.guards.map(c=>{let u=Ca(s.node)??n,l=Go(c,u),d=OF(l)?l.canActivateChild(r,t):dn(u,()=>l(r,t));return Nr(d).pipe(Cn())});return q(a).pipe(zo())}));return q(o).pipe(zo())}function HF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let c=Ca(e)??i,u=Go(a,c),l=kF(u)?u.canDeactivate(t,e,n,r):dn(c,()=>u(t,e,n,r));return Nr(l).pipe(Cn())});return q(s).pipe(zo())}function zF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=Go(s,t),c=RF(a)?a.canLoad(e,n):dn(t,()=>a(e,n));return Nr(c)});return q(o).pipe(zo(),kb(r))}function kb(t){return ef(Be(e=>{if(qo(e))throw Pb(t,e)}),Z(e=>e===!0))}function GF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=Go(s,t),c=FF(a)?a.canMatch(e,n):dn(t,()=>a(e,n));return Nr(c)});return q(o).pipe(zo(),kb(r))}var va=class{constructor(e){this.segmentGroup=e||null}},Xl=class extends Error{constructor(e){super(),this.urlTree=e}};function Lo(t){return to(new va(t))}function WF(t){return to(new L(4e3,!1))}function KF(t){return to(Rb(!1,Vt.GuardRejected))}var yg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[X])return WF(e.redirectTo);i=i.children[X]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Xl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new xr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new we(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},vg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QF(t,e,n,r,i){let o=Tg(t,e,n);return o.matched?(r=bF(e,r),GF(r,e,n,i).pipe(Z(s=>s===!0?o:x({},vg)))):q(o)}function Tg(t,e,n){if(e.path==="**")return YF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?x({},vg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Gk)(n,t,e);if(!i)return x({},vg);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function YF(t){return{matched:!0,parameters:t.length>0?pb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function lb(t,e,n,r){return n.length>0&&XF(t,n,r)?{segmentGroup:new we(e,ZF(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&eV(t,n,r)?{segmentGroup:new we(t.segments,JF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function JF(t,e,n,r){let i={};for(let o of n)if(nd(t,e,o)&&!r[Nn(o)]){let s=new we([],{});i[Nn(o)]=s}return x(x({},r),i)}function ZF(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&Nn(r)!==X){let i=new we([],{});n[Nn(r)]=i}return n}function XF(t,e,n){return n.some(r=>nd(t,e,r)&&Nn(r)!==X)}function eV(t,e,n){return n.some(r=>nd(t,e,r))}function nd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function tV(t,e,n,r){return Nn(t)!==r&&(r===X||!nd(e,n,t))?!1:Tg(e,t,n).matched}function nV(t,e,n){return e.length===0&&!t.children[n]}var _g=class{};function rV(t,e,n,r,i,o,s="emptyOnly"){return new wg(t,e,n,r,i,s,o).recognize()}var iV=31,wg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new yg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=lb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(n=>{let r=new ga([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,{},X,this.rootComponentType,null,{}),i=new Ft(r,n),o=new Jl("",i),s=dF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,X).pipe(pr(r=>{if(r instanceof Xl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof va?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Eg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Z(o=>o instanceof Ft?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Me(i).pipe(zn(o=>{let s=r.children[o],a=DF(n,o);return this.processSegmentGroup(e,a,s,o)}),ff((o,s)=>(o.push(...s),o)),mr(null),hf(),Ue(o=>{if(o===null)return Lo(r);let s=Fb(o);return oV(s),q(s)}))}processSegment(e,n,r,i,o,s){return Me(n).pipe(zn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(pr(c=>{if(c instanceof va)return q(null);throw c}))),Cn(a=>!!a),pr(a=>{if(Ob(a))return nV(r,i,o)?q(new _g):Lo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return tV(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Lo(i):Lo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Tg(n,i,o);if(!a)return Lo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iV&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ue(p=>this.processSegment(e,r,n,p.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=QF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Dt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Dt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:p}=a,m=new ga(l,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,aV(r),Nn(r),r.component??r._loadedComponent??null,r,cV(r)),{segmentGroup:w,slicedSegments:I}=lb(n,l,d,c);if(I.length===0&&w.hasChildren())return this.processChildren(u,c,w).pipe(Z(R=>R===null?null:new Ft(m,R)));if(c.length===0&&I.length===0)return q(new Ft(m,[]));let E=Nn(r)===o;return this.processSegment(u,c,w,I,E?X:o,!0).pipe(Z(R=>new Ft(m,R instanceof Ft?[R]:[])))}))):Lo(n)))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?q({routes:n._loadedRoutes,injector:n._loadedInjector}):zF(e,n,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,n).pipe(Be(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):KF(n))):q({routes:[],injector:e})}};function oV(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function sV(t){let e=t.value.routeConfig;return e&&e.path===""}function Fb(t){let e=[],n=new Set;for(let r of t){if(!sV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Fb(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!n.has(r))}function aV(t){return t.data||{}}function cV(t){return t.resolve||{}}function uV(t,e,n,r,i,o){return Ue(s=>rV(t,e,n,r,s.extractedUrl,i,o).pipe(Z(({state:a,tree:c})=>J(x({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function lV(t,e){return Ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of Vb(c))s.add(u);let a=0;return Me(s).pipe(zn(c=>o.has(c)?dV(c,r,t,e):(c.data=Eg(c,c.parent,t).resolve,q(void 0))),Be(()=>a++),io(1),Ue(c=>a===s.size?q(n):Nt))})}function Vb(t){let e=t.children.map(n=>Vb(n)).flat();return[t,...e]}function dV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!xb(i)&&(o[wa]=i.title),hV(o,t,e,r).pipe(Z(s=>(t._resolvedData=s,t.data=Eg(t,t.parent,n).resolve,null)))}function hV(t,e,n,r){let i=Jm(t);if(i.length===0)return q({});let o={};return Me(i).pipe(Ue(s=>fV(t[s],e,n,r).pipe(Cn(),Be(a=>{o[s]=a}))),io(1),df(o),pr(s=>Ob(s)?Nt:to(s)))}function fV(t,e,n,r){let i=Ca(e)??r,o=Go(t,i),s=o.resolve?o.resolve(e,n):dn(i,()=>o(e,n));return Nr(s)}function Qm(t){return Dt(e=>{let n=t(e);return n?Me(n).pipe(Z(()=>e)):q(e)})}var Lb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(n){return n.data[wa]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(pV),providedIn:"root"})}}return t})(),pV=(()=>{class t extends Lb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(V(fC))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Da=new F("",{providedIn:"root",factory:()=>({})}),_a=new F(""),Sg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(nl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Nr(n.loadComponent()).pipe(Z(jb),Be(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Zr(()=>{this.componentLoaders.delete(n)})),i=new Ji(r,()=>new mt).pipe(Yi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=mV(r,this.compiler,n,this.onLoadEndListener).pipe(Zr(()=>{this.childrenLoaders.delete(r)})),s=new Ji(o,()=>new mt).pipe(Yi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mV(t,e,n,r){return Nr(t.loadChildren()).pipe(Z(jb),Ue(i=>i instanceof js||Array.isArray(i)?q(i):Me(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(_a,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dg),injector:o}}))}function gV(t){return t&&typeof t=="object"&&"default"in t}function jb(t){return gV(t)?t.default:t}var Ag=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(yV),providedIn:"root"})}}return t})(),yV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ub=new F(""),Bb=new F("");function vV(t,e,n){let r=t.get(Bb),i=t.get(lt);return t.get(_e).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),_V(t))),{onViewTransitionCreated:c}=r;return c&&dn(t,()=>c({transition:a,from:e,to:n})),s})}function _V(t){return new Promise(e=>{Yu(e,{injector:t})})}var xg=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mt,this.transitionAbortSubject=new mt,this.configLoader=M(Sg),this.environmentInjector=M(ct),this.urlSerializer=M(Ia),this.rootContexts=M(Ea),this.location=M(Ro),this.inputBindingEnabled=M(td,{optional:!0})!==null,this.titleStrategy=M(Lb),this.options=M(Da,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(Ag),this.createViewTransition=M(Ub,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let n=i=>this.events.next(new og(i)),r=i=>this.events.next(new sg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(J(x(x({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Xe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ua,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bt(o=>o.id!==0),Z(o=>J(x({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Dt(o=>{let s=!1,a=!1;return q(o).pipe(Dt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Vt.SupersededByNewNavigation),Nt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?J(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload"){let d="";return this.events.next(new Pr(c.id,this.urlSerializer.serialize(c.rawUrl),d,Gl.IgnoredSameUrlNavigation)),c.resolve(null),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return q(c).pipe(Dt(d=>{let p=this.transitions?.getValue();return this.events.next(new Ho(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?Nt:Promise.resolve(d)}),uV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=J(x({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new Wl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:p,source:m,restoredState:w,extras:I}=c,E=new Ho(d,this.urlSerializer.serialize(p),m,w);this.events.next(E);let R=Sb(this.rootComponentType).snapshot;return this.currentTransition=o=J(x({},c),{targetSnapshot:R,urlAfterRedirects:p,extras:J(x({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,q(o)}else{let d="";return this.events.next(new Pr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Gl.IgnoredByUrlHandlingStrategy)),c.resolve(null),Nt}}),Be(c=>{let u=new tg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Z(c=>(this.currentTransition=o=J(x({},c),{guards:SF(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),VF(this.environmentInjector,c=>this.events.next(c)),Be(c=>{if(o.guardsResult=c.guardsResult,qo(c.guardsResult))throw Pb(this.urlSerializer,c.guardsResult);let u=new ng(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),bt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Vt.GuardRejected),!1)),Qm(c=>{if(c.guards.canActivateChecks.length)return q(c).pipe(Be(u=>{let l=new rg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Dt(u=>{let l=!1;return q(u).pipe(lV(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",Vt.NoDataFromResolver)}}))}),Be(u=>{let l=new ig(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),Qm(c=>{let u=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Be(p=>{l.component=p}),Z(()=>{})));for(let p of l.children)d.push(...u(p));return d};return As(u(c.targetSnapshot.root)).pipe(mr(null),Gn(1))}),Qm(()=>this.afterPreactivation()),Dt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,l=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return l?Me(l).pipe(Z(()=>o)):q(o)}),Z(c=>{let u=_F(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=J(x({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Be(()=>{this.events.next(new pa)}),TF(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Gn(1),Be({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ir(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),mf(this.transitionAbortSubject.pipe(Be(c=>{throw c}))),Zr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),pr(c=>{if(a=!0,Nb(c))this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),EF(c)?this.events.next(new ma(c.url)):o.resolve(!1);else{this.events.next(new fa(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Nt}))}))}cancelNavigationTransition(n,r,i){let o=new Mr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wV(t){return t!==ua}var IV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(EV),providedIn:"root"})}}return t})(),Ig=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},EV=(()=>{class t extends Ig{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(t)))(i||t)}})()}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$b=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:()=>M(CV),providedIn:"root"})}}return t})(),CV=(()=>{class t extends $b{constructor(){super(...arguments),this.location=M(Ro),this.urlSerializer=M(Ia),this.options=M(Da,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(Ag),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Sb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ho)this.stateMemento=this.createStateMemento();else if(n instanceof Pr)this.rawUrlTree=r.initialUrl;else if(n instanceof Wl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof pa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Mr&&(n.code===Vt.GuardRejected||n.code===Vt.NoDataFromResolver)?this.restoreHistory(r):n instanceof fa?this.restoreHistory(r,!0):n instanceof ir&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=x(x({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=x(x({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(t)))(i||t)}})()}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),aa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(aa||{});function qb(t,e){t.events.pipe(bt(n=>n instanceof ir||n instanceof Mr||n instanceof fa||n instanceof Pr),Z(n=>n instanceof ir||n instanceof Pr?aa.COMPLETE:(n instanceof Mr?n.code===Vt.Redirect||n.code===Vt.SupersededByNewNavigation:!1)?aa.REDIRECTING:aa.FAILED),bt(n=>n!==aa.REDIRECTING),Gn(1)).subscribe(()=>{e()})}function bV(t){throw t}var DV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=M(el),this.stateManager=M($b),this.options=M(Da,{optional:!0})||{},this.pendingTasks=M(Do),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(xg),this.urlSerializer=M(Ia),this.location=M(Ro),this.urlHandlingStrategy=M(Ag),this._events=new mt,this.errorHandler=this.options.errorHandler||bV,this.navigated=!1,this.routeReuseStrategy=M(IV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(_a,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(td,{optional:!0}),this.eventsSubscription=new Fe,this.isNgZoneEnabled=M(_e)instanceof _e&&_e.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mr&&r.code!==Vt.Redirect&&r.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ir)this.navigated=!0;else if(r instanceof ma){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||wV(i.source)};this.scheduleNavigation(s,ua,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}AV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ua,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=x({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Dg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a){case"merge":l=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=Cb(p)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return bb(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=qo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ua,null,r)}navigate(n,r={skipLocationChange:!1}){return SV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=x({},DV):r===!1?i=x({},TV):i=r,qo(n))return ob(this.currentUrlTree,n,i);let o=this.parseUrl(n);return ob(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,p)=>{a=d,c=p});let l=this.pendingTasks.add();return qb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function SV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}function AV(t){return!(t instanceof pa)&&!(t instanceof ma)}var ed=class{};var xV=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(bt(n=>n instanceof ir),zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ju(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Me(i).pipe(no())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=q(null);let o=i.pipe(Ue(s=>s===null?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Me([o,s]).pipe(no())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(V(Rr),V(nl),V(ct),V(ed),V(Sg))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hb=new F(""),MV=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=M(ct),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ho?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ir?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Pr&&n.code===Gl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Kl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>v(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),Yu(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Kl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){ZI()}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac})}}return t})();function zb(t,...e){return Eo([{provide:_a,multi:!0,useValue:t},[],{provide:or,useFactory:Gb,deps:[Rr]},{provide:zs,multi:!0,useFactory:Wb},e.map(n=>n.\u0275providers)])}function Gb(t){return t.routerState.root}function Ta(t,e){return{\u0275kind:t,\u0275providers:e}}function Wb(){let t=M(Mt);return e=>{let n=t.get(Mo);if(e!==n.components[0])return;let r=t.get(Rr),i=t.get(Kb);t.get(Mg)===1&&r.initialNavigation(),t.get(Qb,null,ne.Optional)?.setUpPreloading(),t.get(Hb,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Kb=new F("",{factory:()=>new mt}),Mg=new F("",{providedIn:"root",factory:()=>1});function PV(){return Ta(2,[{provide:Mg,useValue:0},{provide:tl,multi:!0,deps:[Mt],useFactory:e=>{let n=e.get($E,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Rr),o=e.get(Kb);qb(i,()=>{r(!0)}),e.get(xg).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))}}])}function RV(){return Ta(3,[{provide:tl,multi:!0,useFactory:()=>{let e=M(Rr);return()=>{e.setUpLocationChangeListener()}}},{provide:Mg,useValue:2}])}var Qb=new F("");function NV(t){return Ta(0,[{provide:Qb,useExisting:xV},{provide:ed,useExisting:t}])}function OV(){return Ta(8,[ub,{provide:td,useExisting:ub}])}function kV(t){let e=[{provide:Ub,useValue:vV},{provide:Bb,useValue:x({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ta(9,e)}var db=new F("ROUTER_FORROOT_GUARD"),FV=[Ro,{provide:Ia,useClass:da},Rr,Ea,{provide:or,useFactory:Gb,deps:[Rr]},Sg,[]],Yb=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[FV,[],{provide:_a,multi:!0,useValue:n},{provide:db,useFactory:UV,deps:[[Rr,new zt,new wp]]},{provide:Da,useValue:r||{}},r?.useHash?LV():jV(),VV(),r?.preloadingStrategy?NV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?BV(r):[],r?.bindToComponentInputs?OV().\u0275providers:[],r?.enableViewTransitions?kV().\u0275providers:[],$V()]}}static forChild(n){return{ngModule:t,providers:[{provide:_a,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(V(db,8))}}static{this.\u0275mod=At({type:t})}static{this.\u0275inj=St({})}}return t})();function VV(){return{provide:Hb,useFactory:()=>{let t=M(QE),e=M(_e),n=M(Da),r=M(xg),i=M(Ia);return n.scrollOffset&&t.setOffset(n.scrollOffset),new MV(i,r,t,e,n)}}}function LV(){return{provide:pi,useClass:HE}}function jV(){return{provide:pi,useClass:hm}}function UV(t){return"guarded"}function BV(t){return[t.initialNavigation==="disabled"?RV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?PV().\u0275providers:[]]}var hb=new F("");function $V(){return[{provide:hb,useFactory:Wb},{provide:zs,multi:!0,useExisting:hb}]}var Xb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},eD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,p=(a&15)<<2|u>>6,m=u&63;c||(m=64,s||(p=64)),r.push(n[l],n[d],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new Rg;let p=o<<2|a>>4;if(r.push(p),u!==64){let m=a<<4&240|u>>2;if(r.push(m),d!==64){let w=u<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},HV=function(t){let e=Xb(t);return eD.encodeByteArray(e,!0)},Sa=function(t){return HV(t).replace(/\./g,"")},Og=function(t){try{return eD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GV=()=>zV().__FIREBASE_DEFAULTS__,WV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Og(t[1]);return e&&JSON.parse(e)},kg=()=>{try{return GV()||WV()||KV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tD=t=>{var e,n;return(n=(e=kg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nD=t=>{let e=tD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fg=()=>{var t;return(t=kg())===null||t===void 0?void 0:t.config},rD=t=>{var e;return(e=kg())===null||e===void 0?void 0:e[`_${t}`]};var rd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function iD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sa(JSON.stringify(n)),Sa(JSON.stringify(s)),""].join(".")}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function sD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vg(){try{return typeof indexedDB=="object"}catch{return!1}}function cD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var QV="FirebaseError",tn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sr.prototype.create)}},sr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?YV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new tn(i,a,r)}};function YV(t,e){return t.replace(JV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var JV=/\{\$([^}]+)}/g;function Wo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Zb(o)&&Zb(s)){if(!Wo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Zb(t){return t!==null&&typeof t=="object"}function Lg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uD(t,e){let n=new Ng(t,e);return n.subscribe.bind(n)}var Ng=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pg),i.error===void 0&&(i.error=Pg),i.complete===void 0&&(i.complete=Pg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ZV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pg(){}var m8=4*60*60*1e3;function wt(t){return t&&t._delegate?t._delegate:t}var rn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _i="[DEFAULT]";var jg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e2(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function XV(t){return t===_i?void 0:t}function e2(t){return t.instantiationMode==="EAGER"}var id=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new jg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var t2=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),n2={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},r2=ce.INFO,i2={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},o2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=i2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Or=class{constructor(e){this.name=e,this._logLevel=r2,this._logHandler=o2,this._userLogHandler=null,t2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var s2=(t,e)=>e.some(n=>t instanceof n),lD,dD;function a2(){return lD||(lD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c2(){return dD||(dD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hD=new WeakMap,Bg=new WeakMap,fD=new WeakMap,Ug=new WeakMap,qg=new WeakMap;function u2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(On(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&hD.set(n,t)}).catch(()=>{}),qg.set(e,t),e}function l2(t){if(Bg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Bg.set(t,e)}var $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return On(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pD(t){$g=t($g)}function d2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(od(this),e,...n);return fD.set(r,e.sort?e.sort():[e]),On(r)}:c2().includes(t)?function(...e){return t.apply(od(this),e),On(hD.get(this))}:function(...e){return On(t.apply(od(this),e))}}function h2(t){return typeof t=="function"?d2(t):(t instanceof IDBTransaction&&l2(t),s2(t,a2())?new Proxy(t,$g):t)}function On(t){if(t instanceof IDBRequest)return u2(t);if(Ug.has(t))return Ug.get(t);let e=h2(t);return e!==t&&(Ug.set(t,e),qg.set(e,t)),e}var od=t=>qg.get(t);function gD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=On(s);return r&&s.addEventListener("upgradeneeded",c=>{r(On(s.result),c.oldVersion,c.newVersion,On(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var f2=["get","getKey","getAll","getAllKeys","count"],p2=["put","add","delete","clear"],Hg=new Map;function mD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hg.get(e))return Hg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=p2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f2.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Hg.set(e,o),o}pD(t=>J(x({},t),{get:(e,n,r)=>mD(e,n)||t.get(e,n,r),has:(e,n)=>!!mD(e,n)||t.has(e,n)}));var Gg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function m2(t){let e=t.getComponent();return e?.type==="VERSION"}var Wg="@firebase/app",yD="0.9.24";var wi=new Or("@firebase/app"),g2="@firebase/app-compat",y2="@firebase/analytics-compat",v2="@firebase/analytics",_2="@firebase/app-check-compat",w2="@firebase/app-check",I2="@firebase/auth",E2="@firebase/auth-compat",C2="@firebase/database",b2="@firebase/database-compat",D2="@firebase/functions",T2="@firebase/functions-compat",S2="@firebase/installations",A2="@firebase/installations-compat",x2="@firebase/messaging",M2="@firebase/messaging-compat",P2="@firebase/performance",R2="@firebase/performance-compat",N2="@firebase/remote-config",O2="@firebase/remote-config-compat",k2="@firebase/storage",F2="@firebase/storage-compat",V2="@firebase/firestore",L2="@firebase/firestore-compat",j2="firebase",U2="10.7.0";var Kg="[DEFAULT]",B2={[Wg]:"fire-core",[g2]:"fire-core-compat",[v2]:"fire-analytics",[y2]:"fire-analytics-compat",[w2]:"fire-app-check",[_2]:"fire-app-check-compat",[I2]:"fire-auth",[E2]:"fire-auth-compat",[C2]:"fire-rtdb",[b2]:"fire-rtdb-compat",[D2]:"fire-fn",[T2]:"fire-fn-compat",[S2]:"fire-iid",[A2]:"fire-iid-compat",[x2]:"fire-fcm",[M2]:"fire-fcm-compat",[P2]:"fire-perf",[R2]:"fire-perf-compat",[N2]:"fire-rc",[O2]:"fire-rc-compat",[k2]:"fire-gcs",[F2]:"fire-gcs-compat",[V2]:"fire-fst",[L2]:"fire-fst-compat","fire-js":"fire-js",[j2]:"fire-js-all"};var Aa=new Map,Qg=new Map;function $2(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fr(t){let e=t.name;if(Qg.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,t);for(let n of Aa.values())$2(n,t);return!0}function Xg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},kr=new sr("app","Firebase",q2);var Yg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}};var Ko=U2;function ey(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Kg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=Fg()),!n)throw kr.create("no-options");let o=Aa.get(i);if(o){if(Wo(n,o.options)&&Wo(r,o.config))return o;throw kr.create("duplicate-app",{appName:i})}let s=new id(i);for(let c of Qg.values())s.addComponent(c);let a=new Yg(n,r,s);return Aa.set(i,a),a}function Ma(t=Kg){let e=Aa.get(t);if(!e&&t===Kg&&Fg())return ey();if(!e)throw kr.create("no-app",{appName:t});return e}function sd(){return Array.from(Aa.values())}function Qe(t,e,n){var r;let i=(r=B2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(a.join(" "));return}Fr(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var H2="firebase-heartbeat-database",z2=1,xa="firebase-heartbeat-store",zg=null;function ID(){return zg||(zg=gD(H2,z2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xa)}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),zg}function G2(t){return v(this,null,function*(){try{return yield(yield ID()).transaction(xa).objectStore(xa).get(ED(t))}catch(e){if(e instanceof tn)wi.warn(e.message);else{let n=kr.create("idb-get",{originalErrorMessage:e?.message});wi.warn(n.message)}}})}function vD(t,e){return v(this,null,function*(){try{let r=(yield ID()).transaction(xa,"readwrite");yield r.objectStore(xa).put(e,ED(t)),yield r.done}catch(n){if(n instanceof tn)wi.warn(n.message);else{let r=kr.create("idb-set",{originalErrorMessage:n?.message});wi.warn(r.message)}}})}function ED(t){return`${t.name}!${t.options.appId}`}var W2=1024,K2=30*24*60*60*1e3,Jg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Zg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_D();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=K2}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return v(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=_D(),{heartbeatsToSend:r,unsentEntries:i}=Q2(this._heartbeatsCache.heartbeats),o=Sa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function _D(){return new Date().toISOString().substring(0,10)}function Q2(t,e=W2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),wD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Zg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Vg()?cD().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield G2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function wD(t){return Sa(JSON.stringify({version:2,heartbeats:t})).length}function Y2(t){Fr(new rn("platform-logger",e=>new Gg(e),"PRIVATE")),Fr(new rn("heartbeat",e=>new Jg(e),"PRIVATE")),Qe(Wg,yD,t),Qe(Wg,yD,"esm2017"),Qe("fire-js","")}Y2("");var J2="firebase",Z2="10.7.0";Qe(J2,Z2,"app");var Yo=new Qn("ANGULARFIRE2_VERSION");function ny(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ra=(t,e)=>{let n=e?[e]:sd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Pa=class{constructor(){return Ra(X2)}},X2="app-check";function Qo(){}var ad=class{zone;delegate;constructor(e,n=af){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},ty=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qo,{},Qo,Qo)),n.pipe(Be({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Na=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ad(Zone.current)),this.insideAngular=n.run(()=>new ad(Zone.current,sf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(V(_e))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function eL(t){return cd().ngZone.runOutsideAngular(()=>t())}function Ii(t){return cd().ngZone.run(()=>t())}function tL(t){return nL(cd())(t)}function nL(t){return function(n){return n=n.lift(new ty(t.ngZone)),n.pipe(fr(t.outsideAngular),hr(t.insideAngular))}}var rL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ii(()=>t.apply(void 0,r))},Lt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Ii(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qo,{},Qo,Qo))),r[o]=rL(r[o],n));let i=eL(()=>t.apply(this,r));if(!e)if(i instanceof oe){let o=cd();return i.pipe(fr(o.outsideAngular),hr(o.insideAngular))}else return Ii(()=>i);return i instanceof oe?i.pipe(tL):i instanceof Promise?Ii(()=>new Promise((o,s)=>i.then(a=>Ii(()=>o(a)),a=>Ii(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ii(()=>i)};var Ei=class{constructor(e){return e}},Oa=class{constructor(){return sd()}};function iL(t){return t&&t.length===1?t[0]:new Ei(Ma())}var ry=new F("angularfire2._apps"),oL={provide:Ei,useFactory:iL,deps:[[new zt,ry]]},sL={provide:Oa,deps:[[new zt,ry]]};function aL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ei(r)}}var cL=(()=>{class t{constructor(n){Qe("angularfire",Yo.full,"core"),Qe("angularfire",Yo.full,"app"),Qe("angular",SE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(V(Kt))};static \u0275mod=At({type:t});static \u0275inj=St({providers:[oL,sL]})}return t})();function CD(t,...e){return{ngModule:cL,providers:[{provide:ry,useFactory:aL(t),multi:!0,deps:[_e,Mt,Na,...e]}]}}var bD=Lt(ey,!0);function PD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var RD=PD,ND=new sr("auth","Firebase",PD());var dd=new Or("@firebase/auth");function lL(t,...e){dd.logLevel<=ce.WARN&&dd.warn(`Auth (${Ko}): ${t}`,...e)}function ld(t,...e){dd.logLevel<=ce.ERROR&&dd.error(`Auth (${Ko}): ${t}`,...e)}function DD(t,...e){throw py(t,...e)}function OD(t,...e){return py(t,...e)}function dL(t,e,n){let r=Object.assign(Object.assign({},RD()),{[e]:n});return new sr("auth","Firebase",r).create(e,{appName:t.name})}function py(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ND.create(t,...e)}function Ie(t,e,...n){if(!t)throw py(e,...n)}function ka(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ld(e),new Error(e)}function hd(t,e){t||ka(e)}function hL(){return TD()==="http:"||TD()==="https:"}function TD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function fL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hL()||sD()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var bi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,hd(n>e,"Short delay should be less than long delay!"),this.isMobile=oD()||aD()}get(){return fL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function mL(t,e){hd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var fd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var gL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var yL=new bi(3e4,6e4);function kD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function wd(o,s,a,c){return v(this,arguments,function*(t,e,n,r,i={}){return FD(t,i,()=>v(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Lg(Object.assign({key:t.config.apiKey},l)).slice(1),p=yield t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),fd.fetch()(VD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},u))}))})}function FD(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},gL),e);try{let i=new sy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ud(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ud(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ud(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw ud(t,"user-disabled",s);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dL(t,l,u);DD(t,l)}}catch(i){if(i instanceof tn)throw i;DD(t,"network-request-failed",{message:String(i)})}})}function VD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?mL(t.config,i):`${t.config.apiScheme}://${i}`}var sy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(OD(this.auth,"network-request-failed")),yL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ud(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=OD(t,e,r);return i.customData._tokenResponse=n,i}function vL(t,e){return v(this,null,function*(){return wd(t,"POST","/v1/accounts:delete",e)})}function _L(t,e){return v(this,null,function*(){return wd(t,"POST","/v1/accounts:lookup",e)})}function Fa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function my(t,e=!1){return v(this,null,function*(){let n=wt(t),r=yield n.getIdToken(e),i=LD(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Fa(iy(i.auth_time)),issuedAtTime:Fa(iy(i.iat)),expirationTime:Fa(iy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function iy(t){return Number(t)*1e3}function LD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ld("JWT malformed, contained fewer than 3 sections"),null;try{let i=Og(n);return i?JSON.parse(i):(ld("Failed to decode base64 JWT payload"),null)}catch(i){return ld("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wL(t){let e=LD(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ay(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof tn&&IL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function IL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var cy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var pd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function md(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ay(t,_L(n,{idToken:r}));Ie(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CL(o.providerUserInfo):[],a=EL(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,l=c?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pd(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function gy(t){return v(this,null,function*(){let e=wt(t);yield md(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function EL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CL(t){return t.map(e=>{var{providerId:n}=e,r=cf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bL(t,e){return v(this,null,function*(){let n=yield FD(t,{},()=>v(this,null,function*(){let r=Lg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=VD(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function DL(t,e){return v(this,null,function*(){return wd(t,"POST","/v2/accounts:revokeToken",kD(t,e))})}var gd=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return v(this,null,function*(){return Ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield bL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ka("not implemented")}};function Vr(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var yd=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=cf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield ay(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return my(this,e)}reload(){return gy(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield md(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){let e=yield this.getIdToken();return yield ay(this,vL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,re=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:B,emailVerified:ve,isAnonymous:Ge,providerData:he,stsTokenManager:at}=n;Ie(B&&at,e,"internal-error");let En=gd.fromJSON(this.name,at);Ie(typeof B=="string",e,"internal-error"),Vr(d,e.name),Vr(p,e.name),Ie(typeof ve=="boolean",e,"internal-error"),Ie(typeof Ge=="boolean",e,"internal-error"),Vr(m,e.name),Vr(w,e.name),Vr(I,e.name),Vr(E,e.name),Vr(R,e.name),Vr(re,e.name);let Wr=new t({uid:B,auth:e,email:p,emailVerified:ve,displayName:d,isAnonymous:Ge,photoURL:w,phoneNumber:m,tenantId:I,stsTokenManager:En,createdAt:R,lastLoginAt:re});return he&&Array.isArray(he)&&(Wr.providerData=he.map(Hi=>Object.assign({},Hi))),E&&(Wr._redirectEventId=E),Wr}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new gd;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield md(o),o})}};var SD=new Map;function Ci(t){hd(t instanceof Function,"Expected a class definition");let e=SD.get(t);return e?(hd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SD.set(t,e),e)}var TL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),uy=TL;function oy(t,e,n){return`firebase:${t}:${e}:${n}`}var vd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=oy(this.userKey,i.apiKey,o),this.fullPersistenceKey=oy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?yd._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(Ci(uy),e,r);let i=(yield Promise.all(n.map(u=>v(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Ci(uy),s=oy(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(s);if(l){let d=yd._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>v(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function AD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ML(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RL(e))return"Blackberry";if(NL(e))return"Webos";if(AL(e))return"Safari";if((e.includes("chrome/")||xL(e))&&!e.includes("edge/"))return"Chrome";if(PL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function SL(t=nn()){return/firefox\//i.test(t)}function AL(t=nn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xL(t=nn()){return/crios\//i.test(t)}function ML(t=nn()){return/iemobile/i.test(t)}function PL(t=nn()){return/android/i.test(t)}function RL(t=nn()){return/blackberry/i.test(t)}function NL(t=nn()){return/webos/i.test(t)}function jD(t,e=[]){let n;switch(t){case"Browser":n=AD(nn());break;case"Worker":n=`${AD(nn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${r}`}var ly=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function OL(n){return v(this,arguments,function*(t,e={}){return wd(t,"GET","/v2/passwordPolicy",kD(t,e))})}var kL=6,dy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:kL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var hy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _d(this),this.idTokenSubscription=new _d(this),this.beforeStateQueue=new ly(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ND,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield vd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield md(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pL()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){let n=e?wt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Ci(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield OL(this),n=new dy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield DL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ci(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=yield vd.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&lL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function FL(t){return wt(t)}var _d=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uD(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function VL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function LL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ci);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var uW=VL("rcb"),lW=new bi(3e4,6e4);var dW=new bi(2e3,1e4);var hW=10*60*1e3;var fW=new bi(3e4,6e4);var pW=new bi(5e3,15e3);var mW=encodeURIComponent("fac");var xD="@firebase/auth",MD="1.5.0";var fy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function jL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function UL(t){Fr(new rn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jD(t)},u=new hy(r,i,o,c);return LL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fr(new rn("auth-internal",e=>{let n=FL(e.getProvider("auth").getImmediate());return(r=>new fy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(xD,MD,jL(t)),Qe(xD,MD,"esm2017")}var BL=5*60,gW=rD("authIdTokenMaxAge")||BL;UL("Browser");var Uj="auth";var Id=class{constructor(){return Ra(Uj)}};var Bj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vn={},P,Ly=Ly||{},W=Bj||self;function kd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ya(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $j(t){return Object.prototype.hasOwnProperty.call(t,yy)&&t[yy]||(t[yy]=++qj)}var yy="closure_uid_"+(1e9*Math.random()>>>0),qj=0;function Hj(t,e,n){return t.call.apply(t.bind,arguments)}function zj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dt=Hj:dt=zj,dt.apply(null,arguments)}function Ed(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Je(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Lr(){this.s=this.s,this.o=this.o}var Gj=0;Lr.prototype.s=!1;Lr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Gj!=0)&&$j(this)};Lr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ZD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function jy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function UD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(kd(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var Wj=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};W.addEventListener("test",n,e),W.removeEventListener("test",n,e)}catch{}return t}();function $a(t){return/^[\s\xa0]*$/.test(t)}function Fd(){var t=W.navigator;return t&&(t=t.userAgent)?t:""}function kn(t){return Fd().indexOf(t)!=-1}function Uy(t){return Uy[" "](t),t}Uy[" "]=function(){};function Kj(t,e){var n=FU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Qj=kn("Opera"),es=kn("Trident")||kn("MSIE"),XD=kn("Edge"),Ey=XD||es,eT=kn("Gecko")&&!(Fd().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),Yj=Fd().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge");function tT(){var t=W.document;return t?t.documentMode:void 0}var Cy;e:{if(Cd="",bd=function(){var t=Fd();if(eT)return/rv:([^\);]+)(\)|;)/.exec(t);if(XD)return/Edge\/([\d\.]+)/.exec(t);if(es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Yj)return/WebKit\/(\S+)/.exec(t);if(Qj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),bd&&(Cd=bd?bd[1]:""),es&&(Dd=tT(),Dd!=null&&Dd>parseFloat(Cd))){Cy=String(Dd);break e}Cy=Cd}var Cd,bd,Dd,by;W.document&&es?(vy=tT(),by=vy||parseInt(Cy,10)||void 0):by=void 0;var vy,Jj=by;function qa(t,e){if(ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(eT){e:{try{Uy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Zj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qa.$.h.call(this)}}Je(qa,ht);var Zj={2:"touch",3:"pen",4:"mouse"};qa.prototype.h=function(){qa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ja="closure_listenable_"+(1e6*Math.random()|0),Xj=0;function eU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Xj,this.fa=this.ia=!1}function Vd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function By(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function tU(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function nT(t){let e={};for(let n in t)e[n]=t[n];return e}var BD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<BD.length;o++)n=BD[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ld(t){this.src=t,this.g={},this.h=0}Ld.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Ty(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new eU(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Dy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ZD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Vd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ty(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var $y="closure_lm_"+(1e6*Math.random()|0),_y={};function iT(t,e,n,r,i){if(r&&r.once)return sT(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)iT(t,e[o],n,r,i);return null}return n=zy(n),t&&t[Ja]?t.O(e,n,Ya(r)?!!r.capture:!!r,i):oT(t,e,n,!1,r,i)}function oT(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ya(i)?!!i.capture:!!i,a=Hy(t);if(a||(t[$y]=a=new Ld(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=nU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Wj||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nU(){function t(n){return e.call(t.src,t.listener,n)}let e=rU;return t}function sT(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sT(t,e[o],n,r,i);return null}return n=zy(n),t&&t[Ja]?t.P(e,n,Ya(r)?!!r.capture:!!r,i):oT(t,e,n,!0,r,i)}function aT(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)aT(t,e[o],n,r,i);else r=Ya(r)?!!r.capture:!!r,n=zy(n),t&&t[Ja]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Ty(o,n,r,i),-1<n&&(Vd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Hy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ty(e,n,r,i)),(n=-1<t?e[t]:null)&&qy(n))}function qy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ja])Dy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hy(e))?(Dy(n,t),n.h==0&&(n.src=null,e[$y]=null)):Vd(t)}}}function cT(t){return t in _y?_y[t]:_y[t]="on"+t}function rU(t,e){if(t.fa)t=!0;else{e=new qa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&qy(t),t=n.call(r,e)}return t}function Hy(t){return t=t[$y],t instanceof Ld?t:null}var wy="__closure_events_fn_"+(1e9*Math.random()>>>0);function zy(t){return typeof t=="function"?t:(t[wy]||(t[wy]=function(e){return t.handleEvent(e)}),t[wy])}function Ye(){Lr.call(this),this.i=new Ld(this),this.S=this,this.J=null}Je(Ye,Lr);Ye.prototype[Ja]=!0;Ye.prototype.removeEventListener=function(t,e,n,r){aT(this,t,e,n,r)};function ot(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ht(e,t);else if(e instanceof ht)e.target=e.target||t;else{var i=e;e=new ht(r,t),rT(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Td(s,r,!0,e)&&i}if(s=e.g=t,i=Td(s,r,!0,e)&&i,i=Td(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Td(s,r,!1,e)&&i}Ye.prototype.N=function(){if(Ye.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vd(n[r]);delete t.g[e],t.h--}}this.J=null};Ye.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ye.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Td(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Dy(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Gy=W.JSON.stringify,Sy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function iU(){var t=Wy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ay=class{constructor(){this.h=this.g=null}add(e,n){let r=uT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},uT=new Sy(()=>new xy,t=>t.reset()),xy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function oU(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function sU(t){W.setTimeout(()=>{throw t},0)}var Ha,za=!1,Wy=new Ay,lT=()=>{let t=W.Promise.resolve(void 0);Ha=()=>{t.then(aU)}},aU=()=>{for(var t;t=iU();){try{t.h.call(t.g)}catch(n){sU(n)}var e=uT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}za=!1};function jd(t,e){Ye.call(this),this.h=t||1,this.g=e||W,this.j=dt(this.qb,this),this.l=Date.now()}Je(jd,Ye);P=jd.prototype;P.ga=!1;P.T=null;P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ot(this,"tick"),this.ga&&(Ky(this),this.start()))}};P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ky(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}P.N=function(){jd.$.N.call(this),Ky(this),delete this.g};function Qy(t,e,n){if(typeof t=="function")n&&(t=dt(t,n));else if(t&&typeof t.handleEvent=="function")t=dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function dT(t){t.g=Qy(()=>{t.g=null,t.i&&(t.i=!1,dT(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var My=class extends Lr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dT(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ga(t){Lr.call(this),this.h=t,this.g={}}Je(Ga,Lr);var $D=[];function hT(t,e,n,r){Array.isArray(n)||(n&&($D[0]=n.toString()),n=$D);for(var i=0;i<n.length;i++){var o=iT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function fT(t){By(t.g,function(e,n){this.g.hasOwnProperty(n)&&qy(e)},t),t.g={}}Ga.prototype.N=function(){Ga.$.N.call(this),fT(this)};Ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ud(){this.g=!0}Ud.prototype.Ea=function(){this.g=!1};function cU(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+u+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function uU(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Zo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dU(t,n)+(r?" "+r:"")})}function lU(t,e){t.info(function(){return"TIMEOUT: "+e})}Ud.prototype.info=function(){};function dU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Gy(n)}catch{return e}}var Ai={},qD=null;function Bd(){return qD=qD||new Ye}Ai.Ta="serverreachability";function pT(t){ht.call(this,Ai.Ta,t)}Je(pT,ht);function Wa(t){let e=Bd();ot(e,new pT(e))}Ai.STAT_EVENT="statevent";function mT(t,e){ht.call(this,Ai.STAT_EVENT,t),this.stat=e}Je(mT,ht);function It(t){let e=Bd();ot(e,new mT(e,t))}Ai.Ua="timingevent";function gT(t,e){ht.call(this,Ai.Ua,t),this.size=e}Je(gT,ht);function Za(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}var $d={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yy(){}Yy.prototype.h=null;function HD(t){return t.h||(t.h=t.i())}function vT(){}var Xa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jy(){ht.call(this,"d")}Je(Jy,ht);function Zy(){ht.call(this,"c")}Je(Zy,ht);var Py;function qd(){}Je(qd,Yy);qd.prototype.g=function(){return new XMLHttpRequest};qd.prototype.i=function(){return{}};Py=new qd;function ec(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ga(this),this.P=hU,t=Ey?125:void 0,this.V=new jd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _T}function _T(){this.i=null,this.g="",this.h=!1}var hU=45e3,wT={},Ry={};P=ec.prototype;P.setTimeout=function(t){this.P=t};function Ny(t,e,n){t.L=1,t.A=zd(cr(e)),t.u=n,t.S=!0,IT(t,null)}function IT(t,e){t.G=Date.now(),tc(t),t.B=cr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),xT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new _T,t.g=YT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new My(dt(t.Pa,t,t.g),t.O)),hT(t.U,t.g,"readystatechange",t.nb),e=t.I?nT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Wa(),cU(t.j,t.v,t.B,t.m,t.W,t.u)}P.nb=function(t){t=t.target;let e=this.M;e&&Fn(t)==3?e.l():this.Pa(t)};P.Pa=function(t){try{if(t==this.g)e:{let l=Fn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Ey||this.g&&(this.h.h||this.g.ja()||KD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Wa(3):Wa(2)),Hd(this);var n=this.g.da();this.ca=n;t:if(ET(this)){var r=KD(this.g);t="";var i=r.length,o=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),Ba(this);var s="";break t}this.h.i=new W.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,uU(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$a(a)){var u=a;break t}}u=null}if(n=u)Zo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oy(this,n);else{this.i=!1,this.s=3,It(12),Di(this),Ba(this);break e}}this.S?(CT(this,l,s),Ey&&this.i&&l==3&&(hT(this.U,this.V,"tick",this.mb),this.V.start())):(Zo(this.j,this.m,s,null),Oy(this,s)),l==4&&Di(this),this.i&&!this.J&&(l==4?GT(this.l,this):(this.i=!1,tc(this)))}else NU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Di(this),Ba(this)}}}catch{}finally{}};function ET(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function CT(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=fU(t,n),i==Ry){e==4&&(t.s=4,It(14),r=!1),Zo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==wT){t.s=4,It(15),Zo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Zo(t.j,t.m,i,null),Oy(t,i);ET(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,It(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),iv(e),e.M=!0,It(11))):(Zo(t.j,t.m,n,"[Invalid Chunked Response]"),Di(t),Ba(t))}P.mb=function(){if(this.g){var t=Fn(this.g),e=this.g.ja();this.o<e.length&&(Hd(this),CT(this,t,e),this.i&&t!=4&&tc(this))}};function fU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ry:(n=Number(e.substring(n,r)),isNaN(n)?wT:(r+=1,r+n>e.length?Ry:(e=e.slice(r,r+n),t.o=r+n,e)))}P.cancel=function(){this.J=!0,Di(this)};function tc(t){t.Y=Date.now()+t.P,bT(t,t.P)}function bT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Za(dt(t.lb,t),e)}function Hd(t){t.C&&(W.clearTimeout(t.C),t.C=null)}P.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(lU(this.j,this.B),this.L!=2&&(Wa(),It(17)),Di(this),this.s=2,Ba(this)):bT(this,this.Y-t)};function Ba(t){t.l.H==0||t.J||GT(t.l,t)}function Di(t){Hd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ky(t.V),fT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Oy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ky(n.i,t))){if(!t.K&&ky(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Pd(n),Kd(n);else break e;rv(n),It(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Za(dt(n.ib,n),6e3));if(1>=RT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ti(n,11)}else if((t.K||n.g==t)&&Pd(n),!$a(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let p=u[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let m=t.g;if(m){let w=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=r.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Xy(o,o.h),o.h=null))}if(r.F){let I=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,Pe(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=QT(r,r.J?r.pa:null,r.Y),s.K){NT(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(Hd(a),tc(a)),r.g=s}else HT(r);0<n.j.length&&Qd(n)}else u[0]!="stop"&&u[0]!="close"||Ti(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ti(n,7):nv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Wa(4)}catch{}}function pU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(kd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function mU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function DT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(kd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=mU(t),r=pU(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var TT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Si(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Si){this.h=t.h,xd(this,t.j),this.s=t.s,this.g=t.g,Md(this,t.m),this.l=t.l;var e=t.i,n=new Ka;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),zD(this,n),this.o=t.o}else t&&(e=String(t).match(TT))?(this.h=!1,xd(this,e[1]||"",!0),this.s=ja(e[2]||""),this.g=ja(e[3]||"",!0),Md(this,e[4]),this.l=ja(e[5]||"",!0),zD(this,e[6]||"",!0),this.o=ja(e[7]||"")):(this.h=!1,this.i=new Ka(null,this.h))}Si.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ua(e,GD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ua(e,GD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ua(n,n.charAt(0)=="/"?_U:vU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ua(n,IU)),t.join("")};function cr(t){return new Si(t)}function xd(t,e,n){t.j=n?ja(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Md(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function zD(t,e,n){e instanceof Ka?(t.i=e,EU(t.i,t.h)):(n||(e=Ua(e,wU)),t.i=new Ka(e,t.h))}function Pe(t,e,n){t.i.set(e,n)}function zd(t){return Pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ja(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ua(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,yU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var GD=/[#\/\?@]/g,vU=/[#\?:]/g,_U=/[#\?]/g,wU=/[#\?@]/g,IU=/#/g;function Ka(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jr(t){t.g||(t.g=new Map,t.h=0,t.i&&gU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}P=Ka.prototype;P.add=function(t,e){jr(this),this.i=null,t=ts(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ST(t,e){jr(t),e=ts(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function AT(t,e){return jr(t),e=ts(t,e),t.g.has(e)}P.forEach=function(t,e){jr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};P.ta=function(){jr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};P.Z=function(t){jr(this);let e=[];if(typeof t=="string")AT(this,t)&&(e=e.concat(this.g.get(ts(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};P.set=function(t,e){return jr(this),this.i=null,t=ts(this,t),AT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};P.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function xT(t,e,n){ST(t,e),0<n.length&&(t.i=null,t.g.set(ts(t,e),jy(n)),t.h+=n.length)}P.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ts(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function EU(t,e){e&&!t.j&&(jr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ST(this,r),xT(this,i,n))},t)),t.j=e}var CU=class{constructor(t,e){this.g=t,this.map=e}};function MT(t){this.l=t||bU,W.PerformanceNavigationTiming?(t=W.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bU=10;function PT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function RT(t){return t.h?1:t.g?t.g.size:0}function ky(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xy(t,e){t.g?t.g.add(e):t.h=e}function NT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}MT.prototype.cancel=function(){if(this.i=OT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function OT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return jy(t.i)}var DU=class{stringify(t){return W.JSON.stringify(t,void 0)}parse(t){return W.JSON.parse(t,void 0)}};function TU(){this.g=new DU}function SU(t,e,n){let r=n||"";try{DT(t,function(i,o){let s=i;Ya(i)&&(s=Gy(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function AU(t,e){let n=new Ud;if(W.Image){let r=new Image;r.onload=Ed(Sd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ed(Sd,n,r,"TestLoadImage: error",!1,e),r.onabort=Ed(Sd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ed(Sd,n,r,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Sd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function nc(t){this.l=t.ec||null,this.j=t.ob||!1}Je(nc,Yy);nc.prototype.g=function(){return new Gd(this.l,this.j)};nc.prototype.i=function(t){return function(){return t}}({});function Gd(t,e){Ye.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ev,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Je(Gd,Ye);var ev=0;P=Gd.prototype;P.open=function(t,e){if(this.readyState!=ev)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Qa(this)};P.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||W).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rc(this)),this.readyState=ev};P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qa(this)),this.g&&(this.readyState=3,Qa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function kT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?rc(this):Qa(this),this.readyState==3&&kT(this)}};P.Za=function(t){this.g&&(this.response=this.responseText=t,rc(this))};P.Ya=function(t){this.g&&(this.response=t,rc(this))};P.ka=function(){this.g&&rc(this)};function rc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Qa(t)}P.setRequestHeader=function(t,e){this.v.append(t,e)};P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};P.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Qa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Gd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var xU=W.JSON.parse;function Ne(t){Ye.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=FT,this.L=this.M=!1}Je(Ne,Ye);var FT="",MU=/^https?$/i,PU=["POST","PUT"];P=Ne.prototype;P.Oa=function(t){this.M=t};P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Py.g(),this.C=this.u?HD(this.u):HD(Py),this.g.onreadystatechange=dt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){WD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=W.FormData&&t instanceof W.FormData,!(0<=ZD(PU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jT(this),0<this.B&&((this.L=RU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.ua,this)):this.A=Qy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){WD(this,o)}};function RU(t){return es&&typeof t.timeout=="number"&&t.ontimeout!==void 0}P.ua=function(){typeof Ly<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ot(this,"timeout"),this.abort(8))};function WD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,VT(t),Wd(t)}function VT(t){t.F||(t.F=!0,ot(t,"complete"),ot(t,"error"))}P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ot(this,"complete"),ot(this,"abort"),Wd(this))};P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wd(this,!0)),Ne.$.N.call(this)};P.La=function(){this.s||(this.G||this.v||this.l?LT(this):this.kb())};P.kb=function(){LT(this)};function LT(t){if(t.h&&typeof Ly<"u"&&(!t.C[1]||Fn(t)!=4||t.da()!=2)){if(t.v&&Fn(t)==4)Qy(t.La,0,t);else if(ot(t,"readystatechange"),Fn(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(TT)[1]||null;!i&&W.self&&W.self.location&&(i=W.self.location.protocol.slice(0,-1)),r=!MU.test(i?i.toLowerCase():"")}n=r}if(n)ot(t,"complete"),ot(t,"success");else{t.m=6;try{var o=2<Fn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",VT(t)}}finally{Wd(t)}}}}function Wd(t,e){if(t.g){jT(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function jT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}P.isActive=function(){return!!this.g};function Fn(t){return t.g?t.g.readyState:0}P.da=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}};P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),xU(e)}};function KD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case FT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function NU(t){let e={};t=(t.g&&2<=Fn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if($a(t[r]))continue;var n=oU(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}tU(e,function(r){return r.join(", ")})}P.Ia=function(){return this.m};P.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function UT(t){let e="";return By(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function tv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=UT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Pe(t,e,n))}function Va(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function BT(t){this.Ga=0,this.j=[],this.l=new Ud,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Va("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Va("baseRetryDelayMs",5e3,t),this.hb=Va("retryDelaySeedMs",1e4,t),this.eb=Va("forwardChannelMaxRetries",2,t),this.xa=Va("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new MT(t&&t.concurrentRequestLimit),this.Ja=new TU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}P=BT.prototype;P.ra=8;P.H=1;function nv(t){if($T(t),t.H==3){var e=t.W++,n=cr(t.I);if(Pe(n,"SID",t.K),Pe(n,"RID",e),Pe(n,"TYPE","terminate"),ic(t,n),e=new ec(t,t.l,e),e.L=2,e.A=zd(cr(n)),n=!1,W.navigator&&W.navigator.sendBeacon)try{n=W.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&W.Image&&(new Image().src=e.A,n=!0),n||(e.g=YT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),tc(e)}KT(t)}function Kd(t){t.g&&(iv(t),t.g.cancel(),t.g=null)}function $T(t){Kd(t),t.u&&(W.clearTimeout(t.u),t.u=null),Pd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&W.clearTimeout(t.m),t.m=null)}function Qd(t){if(!PT(t.i)&&!t.m){t.m=!0;var e=t.Na;Ha||lT(),za||(Ha(),za=!0),Wy.add(e,t),t.C=0}}function OU(t,e){return RT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Za(dt(t.Na,t,e),WT(t,t.C)),t.C++,!0)}P.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new ec(this,this.l,t),o=this.s;if(this.U&&(o?(o=nT(o),rT(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qT(this,i,e),n=cr(this.I),Pe(n,"RID",t),Pe(n,"CVER",22),this.F&&Pe(n,"X-HTTP-Session-Id",this.F),ic(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(UT(o)))+"&"+e:this.o&&tv(n,this.o,o)),Xy(this.i,i),this.bb&&Pe(n,"TYPE","init"),this.P?(Pe(n,"$req",e),Pe(n,"SID","null"),i.aa=!0,Ny(i,n,null)):Ny(i,n,e),this.H=2}}else this.H==3&&(t?QD(this,t):this.j.length==0||PT(this.i)||QD(this))};function QD(t,e){var n;e?n=e.m:n=t.W++;let r=cr(t.I);Pe(r,"SID",t.K),Pe(r,"RID",n),Pe(r,"AID",t.V),ic(t,r),t.o&&t.s&&tv(r,t.o,t.s),n=new ec(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=qT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Xy(t.i,n),Ny(n,r,e)}function ic(t,e){t.na&&By(t.na,function(n,r){Pe(e,r,n)}),t.h&&DT({},function(n,r){Pe(e,r,n)})}function qT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{SU(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function HT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ha||lT(),za||(Ha(),za=!0),Wy.add(e,t),t.A=0}}function rv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Za(dt(t.Ma,t),WT(t,t.A)),t.A++,!0)}P.Ma=function(){if(this.u=null,zT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Za(dt(this.jb,this),t)}};P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,It(10),Kd(this),zT(this))};function iv(t){t.B!=null&&(W.clearTimeout(t.B),t.B=null)}function zT(t){t.g=new ec(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=cr(t.wa);Pe(e,"RID","rpc"),Pe(e,"SID",t.K),Pe(e,"AID",t.V),Pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pe(e,"TO",t.qa),Pe(e,"TYPE","xmlhttp"),ic(t,e),t.o&&t.s&&tv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=zd(cr(e)),n.u=null,n.S=!0,IT(n,t)}P.ib=function(){this.v!=null&&(this.v=null,Kd(this),rv(this),It(19))};function Pd(t){t.v!=null&&(W.clearTimeout(t.v),t.v=null)}function GT(t,e){var n=null;if(t.g==e){Pd(t),iv(t),t.g=null;var r=2}else if(ky(t.i,e))n=e.F,NT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Bd(),ot(r,new gT(r,n)),Qd(t)}else HT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&OU(t,e)||r==2&&rv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ti(t,5);break;case 4:Ti(t,10);break;case 3:Ti(t,6);break;default:Ti(t,2)}}}function WT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ti(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dt(t.pb,t);n||(n=new Si("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||xd(n,"https"),zd(n)),AU(n.toString(),r)}else It(2);t.H=0,t.h&&t.h.za(e),KT(t),$T(t)}P.pb=function(t){t?(this.l.info("Successfully pinged google.com"),It(2)):(this.l.info("Failed to ping google.com"),It(1))};function KT(t){if(t.H=0,t.ma=[],t.h){let e=OT(t.i);(e.length!=0||t.j.length!=0)&&(UD(t.ma,e),UD(t.ma,t.j),t.i.i.length=0,jy(t.j),t.j.length=0),t.h.ya()}}function QT(t,e,n){var r=n instanceof Si?cr(n):new Si(n);if(r.g!="")e&&(r.g=e+"."+r.g),Md(r,r.m);else{var i=W.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Si(null);r&&xd(o,r),e&&(o.g=e),i&&Md(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Pe(r,n,e),Pe(r,"VER",t.ra),ic(t,r),r}function YT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ne(new nc({ob:n})):new Ne(t.va),e.Oa(t.J),e}P.isActive=function(){return!!this.h&&this.h.isActive(this)};function JT(){}P=JT.prototype;P.Ba=function(){};P.Aa=function(){};P.za=function(){};P.ya=function(){};P.isActive=function(){return!0};P.Va=function(){};function Rd(){if(es&&!(10<=Number(Jj)))throw Error("Environmental error: no available transport.")}Rd.prototype.g=function(t,e){return new jt(t,e)};function jt(t,e){Ye.call(this),this.g=new BT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$a(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$a(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ns(this)}Je(jt,Ye);jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;It(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=QT(t,null,t.Y),Qd(t)};jt.prototype.close=function(){nv(this.g)};jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Gy(t),t=n);e.j.push(new CU(e.fb++,t)),e.H==3&&Qd(e)};jt.prototype.N=function(){this.g.h=null,delete this.j,nv(this.g),delete this.g,jt.$.N.call(this)};function ZT(t){Jy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Je(ZT,Jy);function XT(){Zy.call(this),this.status=1}Je(XT,Zy);function ns(t){this.g=t}Je(ns,JT);ns.prototype.Ba=function(){ot(this.g,"a")};ns.prototype.Aa=function(t){ot(this.g,new ZT(t))};ns.prototype.za=function(t){ot(this.g,new XT)};ns.prototype.ya=function(){ot(this.g,"b")};function kU(){this.blockSize=-1}function yn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Je(yn,kU);yn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Iy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}yn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Iy(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Iy(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Iy(this,r),i=0;break}}this.h=i,this.i+=e};yn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var FU={};function ov(t){return-128<=t&&128>t?Kj(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function Vn(t){if(isNaN(t)||!isFinite(t))return Xo;if(0>t)return it(Vn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Fy;return new Ee(e,0)}function eS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return it(eS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Vn(Math.pow(e,8)),r=Xo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Vn(Math.pow(e,o)),r=r.R(o).add(Vn(s))):(r=r.R(n),r=r.add(Vn(s)))}return r}var Fy=4294967296,Xo=ov(0),Vy=ov(1),YD=ov(16777216);P=Ee.prototype;P.ea=function(){if(on(this))return-it(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Fy+r)*e,e*=Fy}return t};P.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ar(this))return"0";if(on(this))return"-"+it(this).toString(t);for(var e=Vn(Math.pow(t,6)),n=this,r="";;){var i=Od(n,e).g;n=Nd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ar(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ar(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function on(t){return t.h==-1}P.X=function(t){return t=Nd(this,t),on(t)?-1:ar(t)?0:1};function it(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(Vy)}P.abs=function(){return on(this)?it(this):this};P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function Nd(t,e){return t.add(it(e))}P.R=function(t){if(ar(this)||ar(t))return Xo;if(on(this))return on(t)?it(this).R(it(t)):it(it(this).R(t));if(on(t))return it(this.R(it(t)));if(0>this.X(YD)&&0>t.X(YD))return Vn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Ad(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Ad(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ad(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ad(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function Ad(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function La(t,e){this.g=t,this.h=e}function Od(t,e){if(ar(e))throw Error("division by zero");if(ar(t))return new La(Xo,Xo);if(on(t))return e=Od(it(t),e),new La(it(e.g),it(e.h));if(on(e))return e=Od(t,it(e)),new La(it(e.g),e.h);if(30<t.g.length){if(on(t)||on(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Vy,r=e;0>=r.X(t);)n=JD(n),r=JD(r);var i=Jo(n,1),o=Jo(r,1);for(r=Jo(r,2),n=Jo(n,2);!ar(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Jo(r,1),n=Jo(n,1)}return e=Nd(t,i.R(e)),new La(i,e)}for(i=Xo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Vn(n),s=o.R(e);on(s)||0<s.X(t);)n-=r,o=Vn(n),s=o.R(e);ar(o)&&(o=Vy),i=i.add(o),t=Nd(t,s)}return new La(i,t)}P.gb=function(t){return Od(this,t).h};P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function JD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function Jo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ee(i,t.h)}Rd.prototype.createWebChannel=Rd.prototype.g;jt.prototype.send=jt.prototype.u;jt.prototype.open=jt.prototype.m;jt.prototype.close=jt.prototype.close;$d.NO_ERROR=0;$d.TIMEOUT=8;$d.HTTP_ERROR=6;yT.COMPLETE="complete";vT.EventType=Xa;Xa.OPEN="a";Xa.CLOSE="b";Xa.ERROR="c";Xa.MESSAGE="d";Ye.prototype.listen=Ye.prototype.O;Ne.prototype.listenOnce=Ne.prototype.P;Ne.prototype.getLastError=Ne.prototype.Sa;Ne.prototype.getLastErrorCode=Ne.prototype.Ia;Ne.prototype.getStatus=Ne.prototype.da;Ne.prototype.getResponseJson=Ne.prototype.Wa;Ne.prototype.getResponseText=Ne.prototype.ja;Ne.prototype.send=Ne.prototype.ha;Ne.prototype.setWithCredentials=Ne.prototype.Oa;yn.prototype.digest=yn.prototype.l;yn.prototype.reset=yn.prototype.reset;yn.prototype.update=yn.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=Vn;Ee.fromString=eS;var tS=vn.createWebChannelTransport=function(){return new Rd},nS=vn.getStatEventTarget=function(){return Bd()},Yd=vn.ErrorCode=$d,rS=vn.EventType=yT,iS=vn.Event=Ai,sv=vn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},s7=vn.FetchXmlHttpFactory=nc,oc=vn.WebChannel=vT,oS=vn.XhrIo=Ne,sS=vn.Md5=yn,xi=vn.Integer=Ee;var aS="@firebase/firestore";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var Cs="10.7.0";var Ni=new Or("@firebase/firestore");function sc(){return Ni.logLevel}function O(t,...e){if(Ni.logLevel<=ce.DEBUG){let n=e.map(q_);Ni.debug(`Firestore (${Cs}): ${t}`,...n)}}function ur(t,...e){if(Ni.logLevel<=ce.ERROR){let n=e.map(q_);Ni.error(`Firestore (${Cs}): ${t}`,...n)}}function us(t,...e){if(Ni.logLevel<=ce.WARN){let n=e.map(q_);Ni.warn(`Firestore (${Cs}): ${t}`,...n)}}function q_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t="Unexpected state"){let e=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: `+t;throw ur(e),new Error(e)}function xe(t,e){t||z()}function Y(t,e){return t}var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},N=class extends tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _n=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var th=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}},hv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},fv=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _n,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _n)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new th(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new Ze(e)}},pv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},mv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},gv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new gv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function VU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var nh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=VU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function ls(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var st=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new N(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new N(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new N(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Q=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new st(0,0))}static max(){return new t(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Re=class t extends rh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new N(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},LU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends rh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return LU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new N(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new N(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new N(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new N(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(Re.fromString(e))}static fromName(e){return new t(Re.fromString(e).popFirst(5))}static empty(){return new t(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Re(e.slice()))}};var vv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};vv.UNKNOWN_ID=-1;function jU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Oi(i,U.empty(),e)}function UU(t){return new Oi(t.readTime,t.key,-1)}var Oi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Q.min(),U.empty(),-1)}static max(){return new t(Q.max(),U.empty(),-1)}};function BU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var $U="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_v=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cc(t){return v(this,null,function*(){if(t.code!==C.FAILED_PRECONDITION||t.message!==$U)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var A=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function bc(t){return t.name==="IndexedDbTransactionError"}var VS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function kh(t){return t==null}function hc(t){return t===0&&1/t==-1/0}function qU(t){return typeof t=="number"&&Number.isInteger(t)&&!hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var HU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],y7=[...HU,"documentOverlays"],zU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GU=zU,v7=[...GU,"indexConfiguration","indexState","indexEntries"];function cS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ke=class t{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ss(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ss(this.root,e,this.comparator,!1)}getReverseIterator(){return new ss(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ss(this.root,e,this.comparator,!0)}},ss=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},jn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();let e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}};jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ih(this.data.getIterator())}getIteratorFrom(e){return new ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ih=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sn=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ls(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var oh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var WU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(xe(!!t),typeof t=="string"){let e=0,n=WU.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}function H_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function z_(t){let e=t.mapValue.fields.__previous_value__;return H_(e)?z_(e):e}function fc(t){let e=$r(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var wv=class{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},sh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?H_(t)?4:jS(t)?9007199254740991:10:z()}function $n(t,e){if(t===e)return!0;let n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fc(t).isEqual(fc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=$r(i.timestampValue),a=$r(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return qr(i.bytesValue).isEqual(qr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?hc(s)===hc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ls(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(cS(s)!==cS(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!$n(s[c],a[c])))return!1;return!0}(t,e);default:return z()}}function pc(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function ds(t,e){if(t===e)return 0;let n=ki(t),r=ki(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Oe(o.integerValue||o.doubleValue),c=Oe(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return uS(t.timestampValue,e.timestampValue);case 4:return uS(fc(t),fc(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(o,s){let a=qr(o),c=qr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ye(a[u],c[u]);if(l!==0)return l}return ye(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ye(Oe(o.latitude),Oe(s.latitude));return a!==0?a:ye(Oe(o.longitude),Oe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=ds(a[u],c[u]);if(l)return l}return ye(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Jd.mapValue&&s===Jd.mapValue)return 0;if(o===Jd.mapValue)return 1;if(s===Jd.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let p=ye(c[d],l[d]);if(p!==0)return p;let m=ds(a[c[d]],u[l[d]]);if(m!==0)return m}return ye(c.length,l.length)}(t.mapValue,e.mapValue);default:throw z()}}function uS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=$r(t),r=$r(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function hs(t){return Iv(t)}function Iv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=$r(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Iv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Iv(n.fields[s])}`;return i+"}"}(t.mapValue):z()}function lS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ev(t){return!!t&&"integerValue"in t}function G_(t){return!!t&&"arrayValue"in t}function dS(t){return!!t&&"nullValue"in t}function hS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xd(t){return!!t&&"mapValue"in t}function cc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ut=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=cc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(cc(this.value))}};function US(t){let e=[];return Bi(t.fields,(n,r)=>{let i=new Bt([n]);if(Xd(r)){let o=US(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new sn(e)}var wn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Q.min(),Q.min(),Q.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Q.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Q.min(),Q.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Q.min(),Q.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fs=class{constructor(e,n){this.position=e,this.inclusive=n}};function fS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=U.comparator(U.fromName(s.referenceValue),n.key):r=ds(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function pS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}var ps=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function KU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ah=class{},ze=class t extends ah{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bv(e,n,r):n==="array-contains"?new Sv(e,r):n==="in"?new Av(e,r):n==="not-in"?new xv(e,r):n==="array-contains-any"?new Mv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dv(e,r):new Tv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ds(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},In=class t extends ah{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return BS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function BS(t){return t.op==="and"}function $S(t){return QU(t)&&BS(t)}function QU(t){for(let e of t.filters)if(e instanceof In)return!1;return!0}function Cv(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+hs(t.value);if($S(t))return t.filters.map(e=>Cv(e)).join(",");{let e=t.filters.map(n=>Cv(n)).join(",");return`${t.op}(${e})`}}function qS(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&$n(r.value,i.value)}(t,e):t instanceof In?function(r,i){return i instanceof In&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qS(s,i.filters[a]),!0):!1}(t,e):void z()}function HS(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${hs(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(HS).join(" ,")+"}"}(t):"Filter"}var bv=class extends ze{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},Dv=class extends ze{constructor(e,n){super(e,"in",n),this.keys=zS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Tv=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=zS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function zS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}var Sv=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return G_(n)&&pc(n.arrayValue,this.value)}},Av=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}},xv=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!pc(this.value.arrayValue,n)}},Mv=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!G_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pc(this.value.arrayValue,r))}};var Pv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function mS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Pv(t,e,n,r,i,o,s)}function W_(t){let e=Y(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hs(r)).join(",")),e.ce=n}return e.ce}function K_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pS(t.startAt,e.startAt)&&pS(t.endAt,e.endAt)}function Rv(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Fi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function YU(t,e,n,r,i,o,s,a){return new Fi(t,e,n,r,i,o,s,a)}function Q_(t){return new Fi(t)}function gS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GS(t){return t.collectionGroup!==null}function uc(t){let e=Y(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new pt(Bt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ps(o,r))}),n.has(Bt.keyField().canonicalString())||e.le.push(new ps(Bt.keyField(),r))}return e.le}function Un(t){let e=Y(t);return e.he||(e.he=JU(e,uc(t))),e.he}function JU(t,e){if(t.limitType==="F")return mS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ps(i.field,o)});let n=t.endAt?new fs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fs(t.startAt.position,t.startAt.inclusive):null;return mS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nv(t,e){let n=t.filters.concat([e]);return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ov(t,e,n){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return K_(Un(t),Un(e))&&t.limitType===e.limitType}function WS(t){return`${W_(Un(t))}|lt:${t.limitType}`}function rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HS(i)).join(", ")}]`),kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hs(i)).join(",")),`Target(${r})`}(Un(t))}; limitType=${t.limitType})`}function Vh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):U.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of uc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=fS(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,uc(r),i)||r.endAt&&!function(s,a,c){let u=fS(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,uc(r),i))}(t,e)}function ZU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KS(t){return(e,n)=>{let r=!1;for(let i of uc(t)){let o=XU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function XU(t,e,n){let r=t.field.isKeyField()?U.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?ds(c,u):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}var Hr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return LS(this.inner)}size(){return this.innerSize}};var eB=new ke(U.comparator);function lr(){return eB}var QS=new ke(U.comparator);function ac(...t){let e=QS;for(let n of t)e=e.insert(n.key,n);return e}function YS(t){let e=QS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mi(){return lc()}function JS(){return lc()}function lc(){return new Hr(t=>t.toString(),(t,e)=>t.isEqual(e))}var tB=new ke(U.comparator),nB=new pt(U.comparator);function ue(...t){let e=nB;for(let n of t)e=e.add(n);return e}var rB=new pt(ye);function iB(){return rB}function ZS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function XS(t){return{integerValue:""+t}}function oB(t,e){return qU(e)?XS(e):ZS(t,e)}var ms=class{constructor(){this._=void 0}};function sB(t,e,n){return t instanceof gs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&H_(o)&&(o=z_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Vi?tA(t,e):t instanceof Li?nA(t,e):function(i,o){let s=eA(i,o),a=yS(s)+yS(i.Ie);return Ev(s)&&Ev(i.Ie)?XS(a):ZS(i.serializer,a)}(t,e)}function aB(t,e,n){return t instanceof Vi?tA(t,e):t instanceof Li?nA(t,e):n}function eA(t,e){return t instanceof ys?function(r){return Ev(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var gs=class extends ms{},Vi=class extends ms{constructor(e){super(),this.elements=e}};function tA(t,e){let n=rA(e);for(let r of t.elements)n.some(i=>$n(i,r))||n.push(r);return{arrayValue:{values:n}}}var Li=class extends ms{constructor(e){super(),this.elements=e}};function nA(t,e){let n=rA(e);for(let r of t.elements)n=n.filter(i=>!$n(i,r));return{arrayValue:{values:n}}}var ys=class extends ms{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function yS(t){return Oe(t.integerValue||t.doubleValue)}function rA(t){return G_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vi&&i instanceof Vi||r instanceof Li&&i instanceof Li?ls(r.elements,i.elements,$n):r instanceof ys&&i instanceof ys?$n(r.Ie,i.Ie):r instanceof gs&&i instanceof gs}(t.transform,e.transform)}var kv=class{constructor(e,n){this.version=e,this.transformResults=n}},Ur=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var vs=class{};function iA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ch(t.key,Ur.none()):new ji(t.key,t.data,Ur.none());{let n=t.data,r=Ut.empty(),i=new pt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new qn(t.key,r,new sn(i.toArray()),Ur.none())}}function uB(t,e,n){t instanceof ji?function(i,o,s){let a=i.value.clone(),c=_S(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qn?function(i,o,s){if(!eh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=_S(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(oA(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function dc(t,e,n,r){return t instanceof ji?function(o,s,a,c){if(!eh(o.precondition,s))return a;let u=o.value.clone(),l=wS(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qn?function(o,s,a,c){if(!eh(o.precondition,s))return a;let u=wS(o.fieldTransforms,c,s),l=s.data;return l.setAll(oA(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return eh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function lB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=eA(r.transform,i||null);o!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,o))}return n||null}function vS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ls(r,i,(o,s)=>cB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ji=class extends vs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},qn=class extends vs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function oA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function _S(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,aB(s,a,n[i]))}return r}function wS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,sB(o,s,e))}return r}var ch=class extends vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fv=class extends vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Vv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&uB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=JS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=iA(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&ls(this.mutations,e.mutations,(n,r)=>vS(n,r))&&ls(this.baseMutations,e.baseMutations,(n,r)=>vS(n,r))}},Lv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return tB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var jv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Uv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var qe,de;function dB(t){switch(t){default:return z();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function sA(t){if(t===void 0)return ur("GRPC error has no .code"),C.UNKNOWN;switch(t){case qe.OK:return C.OK;case qe.CANCELLED:return C.CANCELLED;case qe.UNKNOWN:return C.UNKNOWN;case qe.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case qe.INTERNAL:return C.INTERNAL;case qe.UNAVAILABLE:return C.UNAVAILABLE;case qe.UNAUTHENTICATED:return C.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case qe.NOT_FOUND:return C.NOT_FOUND;case qe.ALREADY_EXISTS:return C.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return C.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case qe.ABORTED:return C.ABORTED;case qe.OUT_OF_RANGE:return C.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return C.UNIMPLEMENTED;case qe.DATA_LOSS:return C.DATA_LOSS;default:return z()}}(de=qe||(qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var IS=null;function hB(){return new TextEncoder}var fB=new xi([4294967295,4294967295],0);function ES(t){let e=hB().encode(t),n=new sS;return n.update(e),new Uint8Array(n.digest())}function CS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xi([n,r],0),new xi([i,o],0)]}var Bv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pi(`Invalid padding: ${n}`);if(r<0)throw new Pi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=xi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(xi.fromNumber(r)));return i.compare(fB)===1&&(i=new xi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=ES(e),[r,i]=CS(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=ES(e),[r,i]=CS(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Pi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var uh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Q.min(),i,new ke(ye),lr(),ue())}},mc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var as=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},lh=class{constructor(e,n){this.targetId=e,this.fe=n}},dh=class{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},hh=class{constructor(){this.ge=0,this.pe=DS(),this.ye=Et.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ue(),n=ue(),r=ue();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new mc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=DS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},$v=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=lr(),this.Qe=bS(),this.Ke=new ke(ye)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(Rv(o))if(r===0){let s=new U(o.path);this.We(n,s,wn.newNoDocument(s,Q.min()))}else xe(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}IS?.tt(function(l,d,p,m,w){var I,E,R,re,B,ve;let Ge={localCacheCount:l,existenceFilterCount:d.count,databaseId:p.database,projectId:p.projectId},he=d.unchangedNames;return he&&(Ge.bloomFilter={applied:w===0,hashCount:(I=he?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(re=(R=(E=he?.bits)===null||E===void 0?void 0:E.bitmap)===null||R===void 0?void 0:R.length)!==null&&re!==void 0?re:0,padding:(ve=(B=he?.bits)===null||B===void 0?void 0:B.padding)!==null&&ve!==void 0?ve:0,mightContain:at=>{var En;return(En=m?.mightContain(at))!==null&&En!==void 0&&En}}),Ge}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=qr(r).toUint8Array()}catch(c){if(c instanceof oh)return us("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Bv(s,i,o)}catch(c){return us(c instanceof Pi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&Rv(a.target)){let c=new U(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,wn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ue();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new uh(e,n,this.Ke,this.qe,r);return this.qe=lr(),this.Qe=bS(),this.Ke=new ke(ye),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new hh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new pt(ye),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new hh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function bS(){return new ke(U.comparator)}function DS(){return new ke(U.comparator)}var pB={asc:"ASCENDING",desc:"DESCENDING"},mB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gB={and:"AND",or:"OR"},qv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Hv(t,e){return t.useProto3Json||kh(e)?e:{value:e}}function fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yB(t,e){return fh(t,e.toTimestamp())}function Bn(t){return xe(!!t),Q.fromTimestamp(function(n){let r=$r(n);return new st(r.seconds,r.nanos)}(t))}function Y_(t,e){return function(r){return new Re(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function cA(t){let e=Re.fromString(t);return xe(hA(e)),e}function zv(t,e){return Y_(t.databaseId,e.path)}function av(t,e){let n=cA(e);if(n.get(1)!==t.databaseId.projectId)throw new N(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new N(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(uA(n))}function Gv(t,e){return Y_(t.databaseId,e)}function vB(t){let e=cA(t);return e.length===4?Re.emptyPath():uA(e)}function Wv(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uA(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TS(t,e,n){return{name:zv(t,e),fields:n.value.mapValue.fields}}function _B(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.useProto3Json?(xe(l===void 0||typeof l=="string"),Et.fromBase64String(l||"")):(xe(l===void 0||l instanceof Uint8Array),Et.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let l=u.code===void 0?C.UNKNOWN:sA(u.code);return new N(l,u.message||"")}(s);n=new dh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=av(t,r.document.name),o=Bn(r.document.updateTime),s=r.document.createTime?Bn(r.document.createTime):Q.min(),a=new Ut({mapValue:{fields:r.document.fields}}),c=wn.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new as(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=av(t,r.document),o=r.readTime?Bn(r.readTime):Q.min(),s=wn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new as([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=av(t,r.document),o=r.removedTargetIds||[];n=new as([],o,i,null)}else{if(!("filter"in e))return z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Uv(i,o),a=r.targetId;n=new lh(a,s)}}return n}function wB(t,e){let n;if(e instanceof ji)n={update:TS(t,e.key,e.value)};else if(e instanceof ch)n={delete:zv(t,e.key)};else if(e instanceof qn)n={update:TS(t,e.key,e.data),updateMask:xB(e.fieldMask)};else{if(!(e instanceof Fv))return z();n={verify:zv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof gs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Li)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ys)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:yB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z()}(t,e.precondition)),n}function IB(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Bn(i.updateTime):Bn(o);return s.isEqual(Q.min())&&(s=Bn(o)),new kv(s,i.transformResults||[])}(n,e))):[]}function EB(t,e){return{documents:[Gv(t,e.path)]}}function CB(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Gv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return dA(In.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:is(d.field),direction:TB(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Hv(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function bB(t){let e=vB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let p=lA(d);return p instanceof In&&$S(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(p=>function(w){return new ps(os(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,kh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(d){let p=!!d.before,m=d.values||[];return new fs(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let p=!d.before,m=d.values||[];return new fs(m,p)}(n.endAt)),YU(e,i,s,o,a,"F",c,u)}function DB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=os(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=os(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=os(n.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=os(n.unaryFilter.field);return ze.create(s,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(r=>lA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function TB(t){return pB[t]}function SB(t){return mB[t]}function AB(t){return gB[t]}function is(t){return{fieldPath:t.canonicalString()}}function os(t){return Bt.fromServerFormat(t.fieldPath)}function dA(t){return t instanceof ze?function(n){if(n.op==="=="){if(hS(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NAN"}};if(dS(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hS(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NAN"}};if(dS(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(n.field),op:SB(n.op),value:n.value}}}(t):t instanceof In?function(n){let r=n.getFilters().map(i=>dA(i));return r.length===1?r[0]:{compositeFilter:{op:AB(n.op),filters:r}}}(t):z()}function xB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var gc=class t{constructor(e,n,r,i,o=Q.min(),s=Q.min(),a=Et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Kv=class{constructor(e){this.ut=e}};function MB(t){let e=bB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ov(e,e.limit,"L"):e}var ph=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),hc(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(qr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?jS(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):z()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),U.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};ph.St=new ph;var Qv=class{constructor(){this.on=new Yv}addToCollectionParentIndex(e,n){return this.on.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Oi.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}},Yv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Re.comparator)).toArray()}};var w7=new Uint8Array(0);var Ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(41943040,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);var yc=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var Jv=class{constructor(){this.changes=new Hr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Zv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Xv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dc(r.mutation,i,sn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=Mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ac();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=lr(),s=lc(),a=function(){return lc()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof qn)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),dc(l.mutation,u,l.mutation.getFieldMask(),st.now())):s.set(u.key,sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Zv(l,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=lc(),i=new ke((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||sn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||ue()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=JS();l.forEach(p=>{if(!o.has(p)){let m=iA(n.get(p),r.get(p));m!==null&&d.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return A.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):A.resolve(Mi()),a=-1,c=o;return s.next(u=>A.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?A.resolve():this.remoteDocumentCache.getEntry(e,l).next(p=>{c=c.insert(l,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ue())).next(l=>({batchId:a,changes:YS(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ac();return this.indexManager.getCollectionParents(e,o).next(a=>A.forEach(a,c=>{let u=function(d,p){return new Fi(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,wn.newInvalidDocument(l)))});let a=ac();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&dc(l.mutation,u,sn.empty(),st.now()),Vh(n,u)&&(a=a.insert(c,u))}),a})}};var e_=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return A.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bn(i.createTime)}}(n)),A.resolve()}getNamedQuery(e,n){return A.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:MB(i.bundledQuery),readTime:Bn(i.readTime)}}(n)),A.resolve()}};var t_=class{constructor(){this.overlays=new ke(U.comparator),this.lr=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Mi();return A.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),A.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){let i=Mi(),o=n.length+1,s=new U(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ke((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=Mi(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Mi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return A.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jv(n,r));let o=this.lr.get(n);o===void 0&&(o=ue(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}};var vc=class{constructor(){this.hr=new pt(He.Pr),this.Ir=new pt(He.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new He(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new He(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new U(new Re([])),r=new He(n,e),i=new He(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new U(new Re([])),r=new He(n,e),i=new He(n,e+1),o=ue();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new He(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return U.comparator(e.key,n.key)||ye(e.gr,n.gr)}static Tr(e,n){return ye(e.gr,n.gr)||U.comparator(e.key,n.key)}};var n_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new pt(He.Pr)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Vv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.yr=this.yr.add(new He(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(s)}lookupMutationBatch(e,n){return A.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),o=i<0?0:i;return A.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{let a=this.wr(s.gr);o.push(a)}),A.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(ye);return n.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),A.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;U.isDocumentKey(o)||(o=o.child(""));let s=new He(new U(o),0),a=new pt(ye);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},s),A.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return A.forEach(n.mutations,i=>{let o=new He(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new He(n,0),i=this.yr.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var r_=class{constructor(e){this.Cr=e,this.docs=function(){return new ke(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=lr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wn.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=lr(),s=n.path,a=new U(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||BU(UU(l),r)<=0||(i.has(l.key)||Vh(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return A.resolve(o)}getAllFromCollectionGroup(e,n,r,i){z()}vr(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new i_(this)}getSize(e){return A.resolve(this.size)}},i_=class extends Jv{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var o_=class{constructor(e){this.persistence=e,this.Fr=new Hr(n=>W_(n),K_),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new vc,this.targetCount=0,this.Nr=yc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),A.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new yc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.kn(n),A.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(o).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),A.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),A.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.Or.containsKey(n))}};var s_=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new VS(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new o_(this),this.indexManager=new Qv,this.remoteDocumentCache=function(i){return new r_(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Kv(n),this.Kr=new e_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new n_(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new a_(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return A.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},a_=class extends _v{constructor(e){super(),this.currentSequenceNumber=e}},c_=class t{constructor(e){this.persistence=e,this.Gr=new vc,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw z()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),A.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Hr,r=>{let i=U.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Q.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return A.or([()=>A.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var u_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var l_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var d_=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new l_;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(sc()<=ce.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),A.resolve()):(sc()<=ce.DEBUG&&O("QueryEngine","Query:",rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(sc()<=ce.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):A.resolve())}zi(e,n){if(gS(n))return A.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ov(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,s,c.readTime)?this.zi(e,Ov(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return gS(n)||i.isEqual(Q.min())?A.resolve(null):this.Gi.getDocuments(e,r).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,r,i)?A.resolve(null):(sc()<=ce.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rs(n)),this.Xi(e,s,n,jU(i,-1)).next(a=>a))})}Yi(e,n){let r=new pt(KS(e));return n.forEach((i,o)=>{Vh(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return sc()<=ce.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",rs(n)),this.Gi.getDocumentsMatchingQuery(e,n,Oi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var h_=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ke(ye),this.ns=new Hr(o=>W_(o),K_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xv(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function PB(t,e,n,r){return new h_(t,e,n,r)}function fA(t,e){return v(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ue();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})})}function RB(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,p=d.keys(),m=A.resolve();return p.forEach(w=>{m=m.next(()=>l.getEntry(c,w)).next(I=>{let E=u.docVersions.get(w);xe(E!==null),I.version.compareTo(E)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),l.addEntry(I)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pA(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function NB(t,e){let n=Y(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let p=i.get(d);if(!p)return;a.push(n.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,l.addedDocuments,d)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Et.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):l.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(l.resumeToken,r)),i=i.insert(d,m),function(I,E,R){return I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(p,m,l)&&a.push(n.qr.updateTargetData(o,m))});let c=lr(),u=ue();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(OB(o,s,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(Q.min())){let l=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return A.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.ts=i,o))}function OB(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=lr();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Q.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:s,cs:i}})}function kB(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FB(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,A.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new gc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function f_(t,e,n){return v(this,null,function*(){let r=Y(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!bc(s))throw s;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function SS(t,e,n){let r=Y(t),i=Q.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,l){let d=Y(c),p=d.ns.get(l);return p!==void 0?A.resolve(d.ts.get(p)):d.qr.getTargetData(u,l)}(r,s,Un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Q.min(),n?o:ue())).next(a=>(VB(r,ZU(e),a),{documents:a,ls:o})))}function VB(t,e,n){let r=t.rs.get(e)||Q.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}var mh=class{constructor(){this.activeTargetIds=iB()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var p_=class{constructor(){this.eo=new mh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new mh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var m_=class{ro(e){}shutdown(){}};var gh=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zd=null;function cv(){return Zd===null?Zd=function(){return 268435456+Math.round(2147483648*Math.random())}():Zd++,"0x"+Zd.toString(16)}var LB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var g_=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var ft="WebChannelConnection",y_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){let a=cv(),c=this.So(n,r);O("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(n,c,u,i).then(l=>(O("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw us("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){let i=LB[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let o=cv();return new Promise((s,a)=>{let c=new oS;c.setWithCredentials(!0),c.listenOnce(rS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Yd.NO_ERROR:let l=c.getResponseJson();O(ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case Yd.TIMEOUT:O(ft,`RPC '${e}' ${o} timed out`),a(new N(C.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:let d=c.getStatus();if(O(ft,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);let m=p?.error;if(m&&m.status&&m.message){let w=function(E){let R=E.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(R)>=0?R:C.UNKNOWN}(m.status);a(new N(w,m.message))}else a(new N(C.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new N(C.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{O(ft,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);O(ft,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(e,n,r){let i=cv(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tS(),a=nS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");O(ft,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=s.createWebChannel(l,c),p=!1,m=!1,w=new g_({co:E=>{m?O(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(O(ft,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),O(ft,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},lo:()=>d.close()}),I=(E,R,re)=>{E.listen(R,B=>{try{re(B)}catch(ve){setTimeout(()=>{throw ve},0)}})};return I(d,oc.EventType.OPEN,()=>{m||O(ft,`RPC '${e}' stream ${i} transport opened.`)}),I(d,oc.EventType.CLOSE,()=>{m||(m=!0,O(ft,`RPC '${e}' stream ${i} transport closed`),w.Ro())}),I(d,oc.EventType.ERROR,E=>{m||(m=!0,us(ft,`RPC '${e}' stream ${i} transport errored:`,E),w.Ro(new N(C.UNAVAILABLE,"The operation could not be completed")))}),I(d,oc.EventType.MESSAGE,E=>{var R;if(!m){let re=E.data[0];xe(!!re);let B=re,ve=B.error||((R=B[0])===null||R===void 0?void 0:R.error);if(ve){O(ft,`RPC '${e}' stream ${i} received error:`,ve);let Ge=ve.status,he=function(Wr){let Hi=qe[Wr];if(Hi!==void 0)return sA(Hi)}(Ge),at=ve.message;he===void 0&&(he=C.INTERNAL,at="Unknown error status: "+Ge+" with message "+ve.message),m=!0,w.Ro(new N(he,at)),d.close()}else O(ft,`RPC '${e}' stream ${i} received:`,re),w.Vo(re)}}),I(a,iS.STAT_EVENT,E=>{E.stat===sv.PROXY?O(ft,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===sv.NOPROXY&&O(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ao()},0),w}};function uv(){return typeof document<"u"?document:null}function Lh(t){return new qv(t,!0)}var yh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var vh=class{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new yh(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return v(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return v(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return v(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new N(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>v(this,null,function*(){this.state=0,this.start()}))}o_(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},v_=class extends vh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=_B(this.serializer,e),r=function(o){if(!("targetChange"in o))return Q.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?Bn(s.readTime):Q.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=Wv(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Rv(c)?{documents:EB(o,c)}:{query:CB(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=aA(o,s.resumeToken);let u=Hv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Q.min())>0){a.readTime=fh(o,s.snapshotVersion.toTimestamp());let u=Hv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=DB(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=Wv(this.serializer),n.removeTarget=e,this.e_(n)}},__=class extends vh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=IB(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.I_(r,n)}return xe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Wv(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>wB(this.serializer,r))};this.e_(n)}};var w_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new N(C.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new N(C.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new N(C.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var I_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ur(n),this.f_=!1):O("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var E_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(()=>v(this,null,function*(){$i(this)&&(O("RemoteStore","Restarting streams for network reachability change."),yield function(c){return v(this,null,function*(){let u=Y(c);u.C_.add(4),yield Dc(u),u.M_.set("Unknown"),u.C_.delete(4),yield jh(u)})}(this))}))}),this.M_=new I_(r,i)}};function jh(t){return v(this,null,function*(){if($i(t))for(let e of t.v_)yield e(!0)})}function Dc(t){return v(this,null,function*(){for(let e of t.v_)yield e(!1)})}function mA(t,e){let n=Y(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),X_(n)?Z_(n):bs(n).Ho()&&J_(n,e))}function gA(t,e){let n=Y(t),r=bs(n);n.D_.delete(e),r.Ho()&&yA(n,e),n.D_.size===0&&(r.Ho()?r.Zo():$i(n)&&n.M_.set("Unknown"))}function J_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bs(t).u_(e)}function yA(t,e){t.x_.Oe(e),bs(t).c_(e)}function Z_(t){t.x_=new $v({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),bs(t).start(),t.M_.g_()}function X_(t){return $i(t)&&!bs(t).jo()&&t.D_.size>0}function $i(t){return Y(t).C_.size===0}function vA(t){t.x_=void 0}function jB(t){return v(this,null,function*(){t.D_.forEach((e,n)=>{J_(t,e)})})}function UB(t,e){return v(this,null,function*(){vA(t),X_(t)?(t.M_.w_(e),Z_(t)):t.M_.set("Unknown")})}function BB(t,e,n){return v(this,null,function*(){if(t.M_.set("Online"),e instanceof dh&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _h(t,r)}else if(e instanceof as?t.x_.$e(e):e instanceof lh?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Q.min()))try{let r=yield pA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.D_.get(u);l&&o.D_.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.D_.get(c);if(!l)return;o.D_.set(c,l.withResumeToken(Et.EMPTY_BYTE_STRING,l.snapshotVersion)),yA(o,c);let d=new gc(l.target,c,u,l.sequenceNumber);J_(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){O("RemoteStore","Failed to raise snapshot:",r),yield _h(t,r)}})}function _h(t,e,n){return v(this,null,function*(){if(!bc(e))throw e;t.C_.add(1),yield Dc(t),t.M_.set("Offline"),n||(n=()=>pA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){O("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield jh(t)}))})}function _A(t,e){return e().catch(n=>_h(t,n,e))}function Uh(t){return v(this,null,function*(){let e=Y(t),n=zr(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;$B(e);)try{let i=yield kB(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,qB(e,i)}catch(i){yield _h(e,i)}wA(e)&&IA(e)})}function $B(t){return $i(t)&&t.b_.length<10}function qB(t,e){t.b_.push(e);let n=zr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function wA(t){return $i(t)&&!zr(t).jo()&&t.b_.length>0}function IA(t){zr(t).start()}function HB(t){return v(this,null,function*(){zr(t).E_()})}function zB(t){return v(this,null,function*(){let e=zr(t);for(let n of t.b_)e.P_(n.mutations)})}function GB(t,e,n){return v(this,null,function*(){let r=t.b_.shift(),i=Lv.from(r,e,n);yield _A(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Uh(t)})}function WB(t,e){return v(this,null,function*(){e&&zr(t).h_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return dB(s)&&s!==C.ABORTED}(i.code)){let o=r.b_.shift();zr(r).Yo(),yield _A(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Uh(r)}})}(t,e)),wA(t)&&IA(t)})}function AS(t,e){return v(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");let r=$i(n);n.C_.add(3),yield Dc(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield jh(n)})}function KB(t,e){return v(this,null,function*(){let n=Y(t);e?(n.C_.delete(2),yield jh(n)):e||(n.C_.add(2),yield Dc(n),n.M_.set("Unknown"))})}function bs(t){return t.O_||(t.O_=function(n,r,i){let o=Y(n);return o.A_(),new v_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:jB.bind(null,t),Io:UB.bind(null,t),a_:BB.bind(null,t)}),t.v_.push(e=>v(this,null,function*(){e?(t.O_.Yo(),X_(t)?Z_(t):t.M_.set("Unknown")):(yield t.O_.stop(),vA(t))}))),t.O_}function zr(t){return t.N_||(t.N_=function(n,r,i){let o=Y(n);return o.A_(),new __(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:HB.bind(null,t),Io:WB.bind(null,t),T_:zB.bind(null,t),I_:GB.bind(null,t)}),t.v_.push(e=>v(this,null,function*(){e?(t.N_.Yo(),yield Uh(t)):(yield t.N_.stop(),t.b_.length>0&&(O("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var C_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new N(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function e0(t,e){if(ur("AsyncQueue",`${e}: ${t}`),bc(t))return new N(C.UNAVAILABLE,`${e}: ${t}`);throw t}var wh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=ac(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ih=class{constructor(){this.B_=new ke(U.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):z():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},_s=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,wh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var b_=class{constructor(){this.k_=void 0,this.listeners=[]}},D_=class{constructor(){this.queries=new Hr(e=>WS(e),Fh),this.onlineState="Unknown",this.q_=new Set}};function EA(t,e){return v(this,null,function*(){let n=Y(t),r=e.query,i=!1,o=n.queries.get(r);if(o||(i=!0,o=new b_),i)try{o.k_=yield n.onListen(r)}catch(s){let a=e0(s,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&t0(n)})}function CA(t,e){return v(this,null,function*(){let n=Y(t),r=e.query,i=!1,o=n.queries.get(r);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function QB(t,e){let n=Y(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&t0(n)}function YB(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let o of i.listeners)o.onError(n);r.queries.delete(e)}function t0(t){t.q_.forEach(e=>{e.next()})}var Eh=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Ch=class{constructor(e){this.key=e}},bh=class{constructor(e){this.key=e}},T_=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ue(),this.mutatedKeys=ue(),this._a=KS(e),this.aa=new wh(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new Ih,i=n?n.aa:this.aa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let p=i.get(l),m=Vh(this.query,d)?d:null,w=!!p&&this.mutatedKeys.has(p.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),E=!1;p&&m?p.data.isEqual(m.data)?w!==I&&(r.track({type:3,doc:m}),E=!0):this.ha(p,m)||(r.track({type:2,doc:m}),E=!0,(c&&this._a(m,c)>0||u&&this._a(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(c||u)&&(a=!0)),E&&(m?(s=s.add(m),o=I?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((l,d)=>function(m,w){let I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return I(m)-I(w)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,u=c!==this.sa;return this.sa=c,s.length!==0||u?{snapshot:new _s(this.query,e.aa,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Ih,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=ue(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new bh(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Ch(r))}),n}da(e){this.ia=e.ls,this.oa=ue();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return _s.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},S_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},A_=class{constructor(e){this.key=e,this.Ra=!1}},x_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Hr(a=>WS(a),Fh),this.fa=new Map,this.ga=new Set,this.pa=new ke(U.comparator),this.ya=new Map,this.wa=new vc,this.Sa={},this.ba=new Map,this.Da=yc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function JB(t,e){return v(this,null,function*(){let n=a$(t),r,i,o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{let s=yield FB(n.localStore,Un(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield ZB(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&mA(n.remoteStore,s)}return i})}function ZB(t,e,n,r,i){return v(this,null,function*(){t.va=(d,p,m)=>function(I,E,R,re){return v(this,null,function*(){let B=E.view.ca(R);B.Zi&&(B=yield SS(I.localStore,E.query,!1).then(({documents:at})=>E.view.ca(at,B)));let ve=re&&re.targetChanges.get(E.targetId),Ge=re&&re.targetMismatches.get(E.targetId)!=null,he=E.view.applyChanges(B,I.isPrimaryClient,ve,Ge);return MS(I,E.targetId,he.Ta),he.snapshot})}(t,d,p,m);let o=yield SS(t.localStore,e,!0),s=new T_(e,o.ls),a=s.ca(o.documents),c=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);MS(t,n,u.Ta);let l=new S_(e,n,s);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot})}function XB(t,e){return v(this,null,function*(){let n=Y(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Fh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield f_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gA(n.remoteStore,r.targetId),M_(n,r.targetId)}).catch(Cc))):(M_(n,r.targetId),yield f_(n.localStore,r.targetId,!0))})}function e$(t,e,n){return v(this,null,function*(){let r=c$(t);try{let i=yield function(s,a){let c=Y(s),u=st.now(),l=a.reduce((m,w)=>m.add(w.key),ue()),d,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=lr(),I=ue();return c.ss.getEntries(m,l).next(E=>{w=E,w.forEach((R,re)=>{re.isValidDocument()||(I=I.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,w)).next(E=>{d=E;let R=[];for(let re of a){let B=lB(re,d.get(re.key).overlayedDocument);B!=null&&R.push(new qn(re.key,B,US(B.value.mapValue),Ur.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,R,a)}).next(E=>{p=E;let R=E.applyToLocalDocumentSet(d,I);return c.documentOverlayCache.saveOverlays(m,E.batchId,R)})}).then(()=>({batchId:p.batchId,changes:YS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Sa[s.currentUser.toKey()];u||(u=new ke(ye)),u=u.insert(a,c),s.Sa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Tc(r,i.changes),yield Uh(r.remoteStore)}catch(i){let o=e0(i,"Failed to persist write");n.reject(o)}})}function bA(t,e){return v(this,null,function*(){let n=Y(t);try{let r=yield NB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.ya.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?xe(s.Ra):i.removedDocuments.size>0&&(xe(s.Ra),s.Ra=!1))}),yield Tc(n,r,e)}catch(r){yield Cc(r)}})}function xS(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=Y(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let p of d.listeners)p.Q_(a)&&(u=!0)}),u&&t0(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function t$(t,e,n){return v(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),o=i&&i.key;if(o){let s=new ke(U.comparator);s=s.insert(o,wn.newNoDocument(o,Q.min()));let a=ue().add(o),c=new uh(Q.min(),new Map,new ke(ye),s,a);yield bA(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),n0(r)}else yield f_(r.localStore,e,!1).then(()=>M_(r,e,n)).catch(Cc)})}function n$(t,e){return v(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield RB(n.localStore,e);TA(n,r,null),DA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Tc(n,i)}catch(i){yield Cc(i)}})}function r$(t,e,n){return v(this,null,function*(){let r=Y(t);try{let i=yield function(s,a){let c=Y(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(xe(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);TA(r,e,n),DA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Tc(r,i)}catch(i){yield Cc(i)}})}function DA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function TA(t,e,n){let r=Y(t),i=r.Sa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function M_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||SA(t,r)})}function SA(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(gA(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),n0(t))}function MS(t,e,n){for(let r of n)r instanceof Ch?(t.wa.addReference(r.key,e),i$(t,r)):r instanceof bh?(O("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||SA(t,r.key)):z()}function i$(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(O("SyncEngine","New document in limbo: "+n),t.ga.add(r),n0(t))}function n0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new U(Re.fromString(e)),r=t.Da.next();t.ya.set(r,new A_(n)),t.pa=t.pa.insert(n,r),mA(t.remoteStore,new gc(Un(Q_(n.path)),r,"TargetPurposeLimboResolution",VS._e))}}function Tc(t,e,n){return v(this,null,function*(){let r=Y(t),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=u_.Qi(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.Va.a_(i),yield function(c,u){return v(this,null,function*(){let l=Y(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(u,p=>A.forEach(p.ki,m=>l.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>A.forEach(p.qi,m=>l.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!bc(d))throw d;O("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let p=d.targetId;if(!d.fromCache){let m=l.ts.get(p),w=m.snapshotVersion,I=m.withLastLimboFreeSnapshotVersion(w);l.ts=l.ts.insert(p,I)}}})}(r.localStore,o))})}function o$(t,e){return v(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());let r=yield fA(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new N(C.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tc(n,r._s)}})}function s$(t,e){let n=Y(t),r=n.ya.get(e);if(r&&r.Ra)return ue().add(r.key);{let i=ue(),o=n.fa.get(e);if(!o)return i;for(let s of o){let a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function a$(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t$.bind(null,e),e.Va.a_=QB.bind(null,e.eventManager),e.Va.Fa=YB.bind(null,e.eventManager),e}function c$(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r$.bind(null,e),e}var Dh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return PB(this.persistence,new d_,e.initialUser,this.serializer)}createPersistence(e){return new s_(c_.jr,this.serializer)}createSharedClientState(e){return new p_}terminate(){return v(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var P_=class{initialize(e,n){return v(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o$.bind(null,this.syncEngine),yield KB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new D_}()}createDatastore(e){let n=Lh(e.databaseInfo.databaseId),r=function(o){return new y_(o)}(e.databaseInfo);return function(o,s,a,c){return new w_(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new E_(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xS(this.syncEngine,n,0),function(){return gh.D()?new gh:new m_}())}createSyncEngine(e,n){return function(i,o,s,a,c,u,l){let d=new x_(i,o,s,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return v(this,null,function*(){let r=Y(n);O("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Dc(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var Th=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var R_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=nh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>v(this,null,function*(){O("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(O("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return v(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=e0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function lv(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield fA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function PS(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield l$(t);O("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>AS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>AS(e.remoteStore,o)),t._onlineComponents=e})}function u$(t){return t.name==="FirebaseError"?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function l$(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!u$(n))throw n;us("Error using user provided cache. Falling back to memory cache: "+n),yield lv(t,new Dh)}}else O("FirestoreClient","Using default OfflineComponentProvider"),yield lv(t,new Dh);return t._offlineComponents})}function AA(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),yield PS(t,t._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),yield PS(t,new P_))),t._onlineComponents})}function d$(t){return AA(t).then(e=>e.syncEngine)}function xA(t){return v(this,null,function*(){let e=yield AA(t),n=e.eventManager;return n.onListen=JB.bind(null,e.syncEngine),n.onUnlisten=XB.bind(null,e.syncEngine),n})}function h$(t,e,n={}){let r=new _n;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,c,u){let l=new Th({next:p=>{s.enqueueAndForget(()=>CA(o,d));let m=p.docs.has(a);!m&&p.fromCache?u.reject(new N(C.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?u.reject(new N(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Eh(Q_(a.path),l,{includeMetadataChanges:!0,J_:!0});return EA(o,d)}(yield xA(t),t.asyncQueue,e,n,r)})),r.promise}function f$(t,e,n={}){let r=new _n;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,c,u){let l=new Th({next:p=>{s.enqueueAndForget(()=>CA(o,d)),p.fromCache&&c.source==="server"?u.reject(new N(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Eh(a,l,{includeMetadataChanges:!0,J_:!0});return EA(o,d)}(yield xA(t),t.asyncQueue,e,n,r)})),r.promise}function MA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var RS=new Map;function PA(t,e,n){if(!n)throw new N(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p$(t,e,n,r){if(e===!0&&r===!0)throw new N(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NS(t){if(!U.isDocumentKey(t))throw new N(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OS(t){if(U.isDocumentKey(t))throw new N(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function Gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new N(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Bh(t);throw new N(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Sh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new N(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new N(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new N(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new N(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new N(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ws=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new N(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dv;switch(r.type){case"firstParty":return new mv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new N(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=RS.get(n);r&&(O("ComponentProvider","Removing Datastore"),RS.delete(n),r.terminate())}(this),Promise.resolve()}};function RA(t,e,n,r={}){var i;let o=(t=Gr(t,ws))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ze.MOCK_USER;else{a=iD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new N(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ze(u)}t._authCredentials=new hv(new th(a,c))}}var Is=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Pt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Br=class t extends Is{constructor(e,n,r){super(e,n,Q_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function NA(t,e,...n){if(t=wt(t),PA("collection","path",e),t instanceof ws){let r=Re.fromString(e,...n);return OS(r),new Br(t,null,r)}{if(!(t instanceof Pt||t instanceof Br))throw new N(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return OS(r),new Br(t.firestore,null,r)}}function r0(t,e,...n){if(t=wt(t),arguments.length===1&&(e=nh.newId()),PA("doc","path",e),t instanceof ws){let r=Re.fromString(e,...n);return NS(r),new Pt(t,null,new U(r))}{if(!(t instanceof Pt||t instanceof Br))throw new N(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return NS(r),new Pt(t.firestore,t instanceof Br?t.converter:null,new U(r))}}var N_=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new yh(this,"async_queue_retry"),this.iu=()=>{let n=uv();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=uv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new _n;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return v(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!bc(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=C_.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&z()}verifyOperationInProgress(){}uu(){return v(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};var Ui=class extends ws{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new N_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kA(this),this._firestoreClient.terminate()}};function OA(t,e){let n=typeof t=="object"?t:Ma(),r=typeof t=="string"?t:e||"(default)",i=Xg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=nD("firestore");o&&RA(i,...o)}return i}function i0(t){return t._firestoreClient||kA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kA(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,u,l){return new wv(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,MA(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new R_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var _c=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Et.fromBase64String(e))}catch(n){throw new N(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Es=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new N(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wc=class{constructor(e){this._methodName=e}};var Ic=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new N(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new N(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var m$=/^__.*__$/,O_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ji(e,this.data,n,this.fieldTransforms)}},Ah=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function FA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var k_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Mh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(FA(this.Iu)&&m$.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},F_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}pu(e,n,r,i=!1){return new k_({Iu:e,methodName:n,gu:r,path:Bt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function o0(t){let e=t._freezeSettings(),n=Lh(t._databaseId);return new F_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g$(t,e,n,r,i,o={}){let s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);s0("Data must be an object, but it was:",s,r);let a=VA(r,s),c,u;if(o.merge)c=new sn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let d of o.mergeFields){let p=V_(e,d,n);if(!s.contains(p))throw new N(C.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);jA(l,p)||l.push(p)}c=new sn(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new O_(new Ut(a),c,u)}var xh=class t extends wc{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function y$(t,e,n,r){let i=t.pu(1,e,n);s0("Data must be an object, but it was:",i,r);let o=[],s=Ut.empty();Bi(r,(c,u)=>{let l=a0(e,c,n);u=wt(u);let d=i.Ru(l);if(u instanceof xh)o.push(l);else{let p=Sc(u,d);p!=null&&(o.push(l),s.set(l,p))}});let a=new sn(o);return new Ah(s,a,i.fieldTransforms)}function v$(t,e,n,r,i,o){let s=t.pu(1,e,n),a=[V_(e,r,n)],c=[i];if(o.length%2!=0)throw new N(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(V_(e,o[p])),c.push(o[p+1]);let u=[],l=Ut.empty();for(let p=a.length-1;p>=0;--p)if(!jA(u,a[p])){let m=a[p],w=c[p];w=wt(w);let I=s.Ru(m);if(w instanceof xh)u.push(m);else{let E=Sc(w,I);E!=null&&(u.push(m),l.set(m,E))}}let d=new sn(u);return new Ah(l,d,s.fieldTransforms)}function _$(t,e,n,r=!1){return Sc(n,t.pu(r?4:3,e))}function Sc(t,e){if(LA(t=wt(t)))return s0("Unsupported field value:",e,t),VA(t,e);if(t instanceof wc)return function(r,i){if(!FA(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Sc(a,i.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=st.fromDate(r);return{timestampValue:fh(i.serializer,o)}}if(r instanceof st){let o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(i.serializer,o)}}if(r instanceof Ic)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _c)return{bytesValue:aA(i.serializer,r._byteString)};if(r instanceof Pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Y_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Bh(r)}`)}(t,e)}function VA(t,e){let n={};return LS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(r,i)=>{let o=Sc(i,e.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function LA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Ic||t instanceof _c||t instanceof Pt||t instanceof wc)}function s0(t,e,n){if(!LA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Bh(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function V_(t,e,n){if((e=wt(e))instanceof Es)return e._internalPath;if(typeof e=="string")return a0(t,e);throw Mh("Field path arguments must be of type string or ",t,!1,void 0,n)}var w$=new RegExp("[~\\*/\\[\\]]");function a0(t,e,n){if(e.search(w$)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Es(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new N(C.INVALID_ARGUMENT,a+t+c)}function jA(t,e){return t.some(n=>n.isEqual(e))}var Ph=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new L_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(c0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},L_=class extends Ph{data(){return super.data()}};function c0(t,e){return typeof e=="string"?a0(t,e):e instanceof Es?e._internalPath:e._delegate._internalPath}function I$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new N(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ec=class{},j_=class extends Ec{};function UA(t,e,...n){let r=[];e instanceof Ec&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof U_).length,a=o.filter(c=>c instanceof Rh).length;if(s>1||s>0&&a>0)throw new N(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Rh=class t extends j_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return $A(e._query,n),new Is(e.firestore,e.converter,Nv(e._query,n))}_parse(e){let n=o0(e.firestore);return function(o,s,a,c,u,l,d){let p;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new N(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){FS(d,l);let m=[];for(let w of d)m.push(kS(c,o,w));p={arrayValue:{values:m}}}else p=kS(c,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||FS(d,l),p=_$(a,s,d,l==="in"||l==="not-in");return ze.create(u,l,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function BA(t,e,n){let r=e,i=c0("where",t);return Rh._create(i,r,n)}var U_=class t extends Ec{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)$A(s,c),s=Nv(s,c)}(e._query,n),new Is(e.firestore,e.converter,Nv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function kS(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new N(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GS(e)&&n.indexOf("/")!==-1)throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Re.fromString(n));if(!U.isDocumentKey(r))throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lS(t,new U(r))}if(n instanceof Pt)return lS(t,n._key);throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function FS(t,e){if(!Array.isArray(t)||t.length===0)throw new N(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $A(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new N(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new N(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var B_=class{convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Bi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Ic(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=z_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){let n=$r(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Re.fromString(e);xe(hA(r));let i=new sh(r.get(1),r.get(3)),o=new U(r.popFirst(5));return i.isEqual(n)||ur(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function E$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ri=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Nh=class extends Ph{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new cs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(c0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},cs=class extends Nh{data(e={}){return super.data(e)}},$_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ri(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cs(this._firestore,this._userDataWriter,r.key,r,new Ri(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new N(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ri(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ri(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:C$(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function C$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function qA(t){t=Gr(t,Pt);let e=Gr(t.firestore,Ui);return h$(i0(e),t._key).then(n=>b$(e,t,n))}var Oh=class extends B_{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}};function HA(t){t=Gr(t,Is);let e=Gr(t.firestore,Ui),n=i0(e),r=new Oh(e);return I$(t._query),f$(n,t._query).then(i=>new $_(e,r,t,i))}function zA(t,e,n,...r){t=Gr(t,Pt);let i=Gr(t.firestore,Ui),o=o0(i),s;return s=typeof(e=wt(e))=="string"||e instanceof Es?v$(o,"updateDoc",t._key,e,n,r):y$(o,"updateDoc",t._key,e),WA(i,[s.toMutation(t._key,Ur.exists(!0))])}function GA(t,e){let n=Gr(t.firestore,Ui),r=r0(t),i=E$(t.converter,e);return WA(n,[g$(o0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}function WA(t,e){return function(r,i){let o=new _n;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return e$(yield d$(r),i,o)})),o.promise}(i0(t),e)}function b$(t,e,n){let r=n.docs.get(e._key),i=new Oh(t);return new Nh(t,i,e._key,r,new Ri(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Cs=i})(Ko),Fr(new rn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ui(new fv(r.getProvider("auth-internal")),new yv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new N(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sh(u.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qe(aS,"4.4.0",e),Qe(aS,"4.4.0","esm2017")})();var qi=class{constructor(e){return e}},KA="firestore",u0=class{constructor(){return Ra(KA)}};var l0=new F("angularfire2.firestore-instances");function D$(t,e){let n=ny(KA,t,e);return n&&new qi(n)}function T$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qi(r)}}var S$={provide:u0,deps:[[new zt,l0]]},A$={provide:qi,useFactory:D$,deps:[[new zt,l0],Ei]},x$=(()=>{class t{constructor(){Qe("angularfire",Yo.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=At({type:t});static \u0275inj=St({providers:[A$,S$]})}return t})();function QA(t,...e){return{ngModule:x$,providers:[{provide:l0,useFactory:T$(t),multi:!0,deps:[_e,Mt,Na,Oa,[new zt,Id],[new zt,Pa],...e]}]}}var d0=Lt(GA,!0);var Ac=Lt(NA,!0);var $h=Lt(r0,!0);var h0=Lt(qA,!0);var f0=Lt(HA,!0);var YA=Lt(OA,!0);var JA=Lt(UA,!0);var ZA=Lt(zA,!0);var XA=Lt(BA,!0);var Ds=(()=>{class t{constructor(n){this.firestore=n}saveMatch(n){return v(this,null,function*(){let r=yield d0(Ac(this.firestore,"matches"),J(x({},n),{heureDebut:n.heureDebut.toISOString(),updatedAt:new Date}));return console.log("Match saved:",r.id),r.id})}getAllMatches(){return v(this,null,function*(){let n=Ac(this.firestore,"matches");return(yield f0(n)).docs.map(i=>{let o=i.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date}})})}getMatchById(n){return v(this,null,function*(){let r=yield h0($h(this.firestore,"matches",n));if(r.exists()){let i=r.data();return{equipe1:i.equipe1||"",equipe2:i.equipe2||"",score1:i.score1||0,score2:i.score2||0,buteurs:i.buteurs||[],heureDebut:new Date(i.heureDebut),lieu:i.lieu||"",positions:i.positions||{},showElements:i.showElements!==void 0?i.showElements:!0,competition:i.competition||void 0,updatedAt:i.updatedAt?new Date(i.updatedAt):new Date}}return null})}saveCompetition(n){return v(this,null,function*(){let r=yield d0(Ac(this.firestore,"competitions"),J(x({},n),{createdAt:new Date,updatedAt:new Date}));return console.log("Competition saved:",r.id),r.id})}getCompetitionById(n){return v(this,null,function*(){let r=yield h0($h(this.firestore,"competitions",n));return r.exists()?J(x({},r.data()),{id:r.id}):null})}getCompetitionByName(n){return v(this,null,function*(){let r=Ac(this.firestore,"competitions"),i=JA(r,XA("name","==",n)),o=yield f0(i);if(!o.empty){let s=o.docs[0];return J(x({},s.data()),{id:s.id})}return null})}addMatchToCompetition(n,r){return v(this,null,function*(){let i=$h(this.firestore,"competitions",n),o=yield this.getCompetitionById(n);if(o){let s=[...o.matchIds,r];yield ZA(i,{matchIds:s,updatedAt:new Date})}})}getMatchesByCompetition(n){return v(this,null,function*(){let r=yield this.getCompetitionById(n);if(!r)return[];let i=[];for(let o of r.matchIds){let s=yield this.getMatchById(o);s&&i.push(s)}return i})}shareCompetition(n,r){return v(this,null,function*(){let i={name:n,matchIds:[],createdAt:new Date,updatedAt:new Date},o=yield this.saveCompetition(i);for(let s of r){let a=yield this.saveMatch(s);yield this.addMatchToCompetition(o,a)}return o})}static{this.\u0275fac=function(r){return new(r||t)(V(qi))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var P$=()=>[],R$=(t,e)=>({"text-success":t,"text-danger":e});function N$(t,e){if(t&1){let n=ie();h(0,"button",24),D("click",function(){T(n);let i=_();return S(i.showMatchForm=!0)}),te(1,"i",25),h(2,"span",26),g(3," Match"),f()()}if(t&2){let n=_();y(2),b("hidden",n.selectedCompetitionFilter)}}function O$(t,e){if(t&1){let n=ie();h(0,"button",24),D("click",function(){T(n);let i=_();return S(i.showTeamFilterModal=!0)}),te(1,"i",27),f()}}function k$(t,e){if(t&1){let n=ie();h(0,"button",28),D("click",function(){T(n);let i=_();return S(i.showCompetitionFilterModal=!0)}),te(1,"i",29),h(2,"span",30),g(3),f()()}if(t&2){let n=_();b("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info"),y(3),Ce(" ",n.selectedCompetitionFilter||"Comp\xE9titions","")}}function F$(t,e){if(t&1){let n=ie();h(0,"button",31),D("click",function(){T(n);let i=_();return S(i.showRanking())}),te(1,"i",32)(2,"span"),f()}if(t&2){let n=_();b("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter),y(),Se("text-white",n.selectedCompetitionFilter),y(),Se("text-white",n.selectedCompetitionFilter)}}function V$(t,e){if(t&1){let n=ie();h(0,"button",33),D("click",function(){T(n);let i=_();return S(i.shareCompetition())}),te(1,"i",34)(2,"span"),f()}if(t&2){let n=_();b("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter)("disabled",n.isSharingCompetition),y(),Se("text-white",n.selectedCompetitionFilter),b("ngClass",n.isSharingCompetition?"fa-spinner fa-spin":"fa-share-alt"),y(),Se("text-white",n.selectedCompetitionFilter)}}function L$(t,e){if(t&1){let n=ie();h(0,"div",44)(1,"input",49),Jt("ngModelChange",function(i){T(n);let o=_(2);return mn(o.selectedTeamFilter,i)||(o.selectedTeamFilter=i),S(i)}),f(),h(2,"label",50),g(3),f()()}if(t&2){let n=e.$implicit,r=_(2);y(),Ao("id",n.name),b("value",n.name),Yt("ngModel",r.selectedTeamFilter),y(),Ao("for",n.name),y(),$(n.name)}}function j$(t,e){if(t&1){let n=ie();h(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"h5",39),g(5,"S\xE9lectionner une \xC9quipe"),f(),h(6,"button",40),D("click",function(){T(n);let i=_();return S(i.closeTeamFilterModal())}),h(7,"span",41),g(8,"\xD7"),f()()(),h(9,"div",42),H(10,L$,4,5,"div",43),h(11,"div",44)(12,"input",45),Jt("ngModelChange",function(i){T(n);let o=_();return mn(o.selectedTeamFilter,i)||(o.selectedTeamFilter=i),S(i)}),f(),h(13,"label",46),g(14,"Toutes les \xE9quipes"),f()()(),h(15,"div",47)(16,"button",48),D("click",function(){T(n);let i=_();return S(i.closeTeamFilterModal())}),g(17,"Fermer"),f()()()()()}if(t&2){let n=_();y(10),b("ngForOf",n.teams),y(2),b("value",""),Yt("ngModel",n.selectedTeamFilter)}}function U$(t,e){if(t&1){let n=ie();h(0,"div",44)(1,"input",49),Jt("ngModelChange",function(i){T(n);let o=_(2);return mn(o.selectedCompetitionFilter,i)||(o.selectedCompetitionFilter=i),S(i)}),f(),h(2,"label",50)(3,"span",55),g(4),f()()()}if(t&2){let n=e.$implicit,r=_(2);y(),Ao("id",n),b("value",n),Yt("ngModel",r.selectedCompetitionFilter),y(),Ao("for",n),y(),b("ngClass",r.getCompetitionBadgeColor(n)),y(),$(n)}}function B$(t,e){if(t&1){let n=ie();h(0,"div",51)(1,"div",36)(2,"div",37)(3,"div",38)(4,"h5",52),g(5,"S\xE9lectionner une Comp\xE9tition"),f(),h(6,"button",40),D("click",function(){T(n);let i=_();return S(i.closeCompetitionFilterModal())}),h(7,"span",41),g(8,"\xD7"),f()()(),h(9,"div",42),H(10,U$,5,6,"div",43),h(11,"div",44)(12,"input",53),Jt("ngModelChange",function(i){T(n);let o=_();return mn(o.selectedCompetitionFilter,i)||(o.selectedCompetitionFilter=i),S(i)}),f(),h(13,"label",54),g(14,"Toutes les comp\xE9titions"),f()()(),h(15,"div",47)(16,"button",48),D("click",function(){T(n);let i=_();return S(i.closeCompetitionFilterModal())}),g(17,"Fermer"),f()()()()()}if(t&2){let n=_();y(10),b("ngForOf",n.uniqueCompetitions),y(2),b("value",""),Yt("ngModel",n.selectedCompetitionFilter)}}function $$(t,e){if(t&1&&(h(0,"option",82),g(1),f()),t&2){let n=e.$implicit;b("value",n.name),y(),$(n.name)}}function q$(t,e){if(t&1&&(h(0,"option",82),g(1),f()),t&2){let n=e.$implicit;b("value",n.name),y(),$(n.name)}}function H$(t,e){if(t&1){let n=ie();h(0,"form",56),D("ngSubmit",function(){T(n);let i=_();return S(i.onSubmit())}),h(1,"div",57)(2,"div",58)(3,"h4",59),te(4,"i",60),g(5,"Ajouter un Match! "),f(),h(6,"div",61)(7,"label",62),g(8,"\xC9quipe 1"),f(),h(9,"select",63,0),D("change",function(){T(n);let i=Hs(10),o=_();return S(i.value==="new1"&&o.addNewTeam(i))}),H(11,$$,2,2,"option",64),h(12,"option",65),g(13,"+ Ajouter une nouvelle \xE9quipe"),f()()(),h(14,"div",61)(15,"label",66),g(16,"\xC9quipe 2"),f(),h(17,"select",67,1),D("change",function(){T(n);let i=Hs(18),o=_();return S(i.value==="new2"&&o.addNewTeam(i))}),h(19,"option",68),g(20,"S\xE9lectionner une \xE9quipe"),f(),H(21,q$,2,2,"option",64),h(22,"option",69),g(23,"+ Ajouter une nouvelle \xE9quipe"),f()()()(),h(24,"div",58)(25,"div",61)(26,"label",70),g(27,"Heure de d\xE9but"),f(),te(28,"input",71),f(),h(29,"div",61)(30,"label",72),g(31,"Lieu du match (optionnel)"),f(),te(32,"input",73),f(),h(33,"div",61)(34,"label",74),g(35,"Comp\xE9tition (optionnel)"),f(),te(36,"input",75),f()(),h(37,"div")(38,"div",76)(39,"button",77),g(40," Cr\xE9er le match "),f(),h(41,"button",78),D("click",function(){T(n);let i=_();return S(i.showMatchForm=!1)}),g(42," Annuler "),f(),h(43,"button",79),g(44," \u{1F9F0} "),f(),h(45,"ul",80)(46,"li")(47,"a",81),D("click",function(){T(n);let i=_();return S(i.exportMatches())}),g(48,"Exporter les matchs"),f()(),h(49,"li")(50,"a",81),D("click",function(){T(n);let i=_();return S(i.importMatches())}),g(51,"Importer des matchs"),f()()()()()()()}if(t&2){let n=_();b("formGroup",n.matchForm),y(11),b("ngForOf",n.teams),y(10),b("ngForOf",n.teams),y(18),b("disabled",!n.matchForm.valid)}}function z$(t,e){t&1&&(h(0,"span",97),g(1,"\u2022"),f())}function G$(t,e){if(t&1&&(h(0,"span"),g(1),f()),t&2){let n=_().$implicit;y(),$(n.lieu)}}function W$(t,e){t&1&&(h(0,"span",97),g(1,"\u2022"),f())}function K$(t,e){if(t&1&&(h(0,"span")(1,"span",55),g(2),f()()),t&2){let n=_().$implicit,r=_(2);y(),b("ngClass",r.getCompetitionBadgeColor(n.competition)),y(),$(n.competition)}}function Q$(t,e){t&1&&(h(0,"span"),te(1,"br"),f())}function Y$(t,e){t&1&&(h(0,"span"),g(1,","),f())}function J$(t,e){if(t&1&&(h(0,"span",106),g(1),f()),t&2){let n=_(2).$implicit;y(),Ce("(Assist: ",n.assist,")")}}function Z$(t,e){if(t&1&&(To(0),H(1,Q$,2,0,"span",90),g(2),H(3,Y$,2,0,"span",90)(4,J$,2,1,"span",105),So()),t&2){let n=e.$implicit,r=e.index,i=_().$implicit;y(),b("ngIf",r>0&&r%5===0),y(),Ce(" ",n,"'"),y(),b("ngIf",r<i.minutes.length-1),y(),b("ngIf",i.assist)}}function X$(t,e){if(t&1&&(h(0,"div")(1,"div",103)(2,"span"),g(3),f(),h(4,"span",104),H(5,Z$,5,4,"ng-container",101),f()()()),t&2){let n=e.$implicit;y(3),Ce("\u26BD ",n.nom,":"),y(2),b("ngForOf",n.minutes)}}function e3(t,e){t&1&&(h(0,"span"),te(1,"br"),f())}function t3(t,e){t&1&&(h(0,"span"),g(1,","),f())}function n3(t,e){if(t&1&&(h(0,"span",106),g(1),f()),t&2){let n=_(2).$implicit;y(),Ce("(Assist: ",n.assist,")")}}function r3(t,e){if(t&1&&(To(0),H(1,e3,2,0,"span",90),g(2),H(3,t3,2,0,"span",90)(4,n3,2,1,"span",105),So()),t&2){let n=e.$implicit,r=e.index,i=_().$implicit;y(),b("ngIf",r>0&&r%5===0),y(),Ce(" ",n,"'"),y(),b("ngIf",r<i.minutes.length-1),y(),b("ngIf",i.assist)}}function i3(t,e){if(t&1&&(h(0,"div")(1,"div",103)(2,"span"),g(3),f(),h(4,"span",107),H(5,r3,5,4,"ng-container",101),f()()()),t&2){let n=e.$implicit;y(3),Ce("\u26BD ",n.nom,":"),y(2),b("ngForOf",n.minutes)}}function o3(t,e){if(t&1&&(h(0,"div",98)(1,"div",99)(2,"div",100),H(3,X$,6,2,"div",101),f(),h(4,"div",102),H(5,i3,6,2,"div",101),f()()()),t&2){let n=_().$implicit,r=_(2);y(3),b("ngForOf",r.getGroupedScorers(n,1)),y(2),b("ngForOf",r.getGroupedScorers(n,2))}}function s3(t,e){if(t&1){let n=ie();h(0,"div",108)(1,"button",109),D("click",function(){T(n);let i=_().$implicit,o=_(2);return S(o.selectMatch(i))}),te(2,"i",110),f(),h(3,"button",111),D("click",function(){T(n);let i=_().$implicit,o=_(2);return S(o.openDispositionModal(i))}),te(4,"i",112),f(),h(5,"button",113),D("click",function(){T(n);let i=_().$implicit,o=_(2);return S(o.toggleMatchEditForm(i))}),te(6,"i",34),f(),h(7,"button",114),D("click",function(){T(n);let i=_().$implicit,o=_(2);return S(o.shareMatch(i))}),te(8,"i",34),h(9,"span",115),g(10,"Partager"),f()()()}if(t&2){let n=_(3);y(6),b("ngClass",n.showMatchEditForm?"fa-pen-fancy":"fa-edit"),y(),b("disabled",n.isSharingMatch),y(),b("ngClass",n.isSharingMatch?"fa-spinner fa-spin":"fa-share-alt")}}function a3(t,e){if(t&1){let n=ie();h(0,"div",86)(1,"div",87)(2,"div",88)(3,"span"),g(4),Zu(5,"date"),f(),H(6,z$,2,0,"span",89)(7,G$,2,1,"span",90)(8,W$,2,0,"span",89)(9,K$,3,2,"span",90),h(10,"button",91),D("click",function(){let i=T(n).$implicit,o=_(2);return S(o.toggleVisibility(i))}),te(11,"i",34),f()(),h(12,"div",92)(13,"div",93),g(14),f(),h(15,"button",94),D("click",function(){let i=T(n).$implicit,o=_(2);return S(o.selectMatch(i))}),g(16),f(),h(17,"div",93),g(18),f()(),H(19,o3,6,2,"div",95)(20,s3,11,3,"div",96),f()()}if(t&2){let n=e.$implicit;Cr("data-match-id",n.id),y(4),$(Xu(5,13,n.heureDebut,"EEEE d MMMM yyyy HH:mm")),y(2),b("ngIf",n.lieu),y(),b("ngIf",n.lieu),y(),b("ngIf",n.competition),y(),b("ngIf",n.competition),y(2),b("ngClass",n.showElements?"fa-chevron-up":"fa-chevron-right"),y(3),$(n.equipe1),y(2),Xn(" ",n.score1," - ",n.score2," "),y(2),$(n.equipe2),y(),b("ngIf",n.showElements&&n.buteurs.length>0),y(),b("ngIf",n.showElements)}}function c3(t,e){if(t&1&&(h(0,"div",83),te(1,"h2"),h(2,"div",84),H(3,a3,21,16,"div",85),f()()),t&2){let n=_();y(3),b("ngForOf",n.getSortedMatches())}}function u3(t,e){if(t&1&&(To(0),g(1),So()),t&2){let n=_(2);y(),Xn(" ",n.selectedMatch.score1," - ",n.selectedMatch.score2," ")}}function l3(t,e){if(t&1){let n=ie();To(0),h(1,"div",136)(2,"input",137),Jt("ngModelChange",function(i){T(n);let o=_(2);return mn(o.selectedMatch.score1,i)||(o.selectedMatch.score1=i),S(i)}),D("input",function(){T(n);let i=_(2);return S(i.selectedMatch.score1=i.validateScore(i.selectedMatch.score1))}),f(),h(3,"span"),g(4,"-"),f(),h(5,"input",137),Jt("ngModelChange",function(i){T(n);let o=_(2);return mn(o.selectedMatch.score2,i)||(o.selectedMatch.score2=i),S(i)}),D("input",function(){T(n);let i=_(2);return S(i.selectedMatch.score2=i.validateScore(i.selectedMatch.score2))}),f(),h(6,"button",138),D("click",function(){T(n);let i=_(2);return S(i.updateScore())}),te(7,"i",139),f()(),So()}if(t&2){let n=_(2);y(2),Yt("ngModel",n.selectedMatch.score1),y(3),Yt("ngModel",n.selectedMatch.score2)}}function d3(t,e){if(t&1&&(h(0,"option",82),g(1),f()),t&2){let n=e.$implicit;b("value",n),y(),Ce(" ",n," ")}}function h3(t,e){if(t&1){let n=ie();h(0,"div",140)(1,"div",141)(2,"div",37)(3,"div",38)(4,"h5",142),g(5),f(),h(6,"button",143),D("click",function(){T(n);let i=_(2);return S(i.showButeurForm=!1)}),f()(),h(7,"div",42)(8,"form",144),D("ngSubmit",function(){T(n);let i=_(2);return S(i.ajouterButeur())}),h(9,"div",145)(10,"div",146)(11,"label",147),g(12,"Nom du buteur"),f(),te(13,"input",148),f(),h(14,"div",149)(15,"label",147),g(16,"Minute"),f(),te(17,"input",150),f(),h(18,"div",151)(19,"label",147),g(20,"\xC9quipe"),f(),h(21,"select",152)(22,"option",82),g(23),f(),h(24,"option",82),g(25),f()()(),h(26,"div",153)(27,"label",147),g(28,"Assist (optionnel)"),f(),h(29,"select",154)(30,"option",68),g(31,"Aucun assist"),f(),H(32,d3,2,2,"option",64),f()()(),h(33,"div",155)(34,"button",156),D("click",function(){let i;T(n);let o=_(2);return S(o.addNewPlayer((i=o.buteurForm.get("nom"))==null?null:i.value))}),g(35),f(),h(36,"button",48),D("click",function(){T(n);let i=_(2);return S(i.annulerEditionButeur())}),g(37," Annuler "),f()()()()()()()}if(t&2){let n,r=_(2);y(5),$(r.editingButeur?"Modifier le buteur":"Nouveau buteur"),y(3),b("formGroup",r.buteurForm),y(14),b("value",1),y(),$(r.selectedMatch.equipe1),y(),b("value",2),y(),$(r.selectedMatch.equipe2),y(7),b("ngForOf",r.getTeamPlayers((n=r.buteurForm.get("equipe"))==null?null:n.value)),y(2),b("disabled",!r.buteurForm.valid),y(),Ce(" ",r.editingButeur?"Enregistrer":"Ajouter"," ")}}function f3(t,e){if(t&1){let n=ie();h(0,"button",157),D("click",function(){let i=T(n).$implicit,o=_(2);return S(o.quickAddGoal(i,1))}),g(1),f()}if(t&2){let n=e.$implicit;y(),Ce(" \u26BD ",n," ")}}function p3(t,e){if(t&1){let n=ie();h(0,"button",157),D("click",function(){T(n);let i=_(2);return S(i.showButeurForm=!0)}),g(1," + "),f()}}function m3(t,e){if(t&1){let n=ie();h(0,"button",158),D("click",function(){let i=T(n).$implicit,o=_(2);return S(o.quickAddGoal(i,2))}),g(1),f()}if(t&2){let n=e.$implicit;y(),Ce(" \u26BD ",n," ")}}function g3(t,e){if(t&1){let n=ie();h(0,"button",158),D("click",function(){T(n);let i=_(2);return S(i.showButeurForm=!0)}),g(1," + "),f()}}function y3(t,e){if(t&1){let n=ie();h(0,"div",160)(1,"div",161)(2,"span",162)(3,"strong"),g(4),f(),g(5," - "),h(6,"em"),g(7),f()(),h(8,"div")(9,"button",163),D("click",function(){let i=T(n).index,o=_(3);return S(o.modifierButeur(o.matches.indexOf(o.selectedMatch),i))}),te(10,"i",164),g(11," Modifier "),f(),h(12,"button",165),D("click",function(){let i=T(n).index,o=_(3);return S(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),i))}),te(13,"i",166),g(14," Supprimer "),f()()()()}if(t&2){let n=e.$implicit,r=_(3);y(4),$(r.getButeurDisplay(n)),y(3),$(n.equipe===1?r.selectedMatch.equipe1:r.selectedMatch.equipe2)}}function v3(t,e){if(t&1&&(h(0,"div"),H(1,y3,15,2,"div",159),f()),t&2){let n=_(2);y(),b("ngForOf",n.selectedMatch.buteurs)}}function _3(t,e){if(t&1){let n=ie();h(0,"button",172),D("click",function(){let i=T(n).$implicit,o=_(3);return S(o.assignPlayerToPosition(i))}),g(1),f()}if(t&2){let n=e.$implicit;y(),Ce(" ",n," ")}}function w3(t,e){if(t&1){let n=ie();h(0,"div",167)(1,"div",168)(2,"h6"),g(3),f(),h(4,"div",169),H(5,_3,2,1,"button",170),f(),h(6,"button",171),D("click",function(){T(n);let i=_(2);return S(i.selectedPosition=null)}),g(7," Annuler "),f()()()}if(t&2){let n=_(2);y(3),Ce("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),y(2),b("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function I3(t,e){if(t&1){let n=ie();h(0,"div",116)(1,"div",117)(2,"button",118),D("click",function(){T(n);let i=_();return S(i.showScoreForm=!1)}),g(3,"\xD7"),f(),h(4,"h3"),g(5,"Modifier le score"),f(),h(6,"div",119)(7,"div",92)(8,"div",93),g(9),f(),h(10,"div",120),D("click",function(){T(n);let i=_();return S(i.showScoreForm=!0)}),H(11,u3,2,2,"ng-container",90)(12,l3,8,2,"ng-container",90),f(),h(13,"div",93),g(14),f()()(),H(15,h3,38,9,"div",121),h(16,"div",83)(17,"div",122)(18,"div",58)(19,"h5",123),g(20),f(),h(21,"div",124),H(22,f3,2,1,"button",125)(23,p3,2,0,"button",126),f()(),h(24,"div",58)(25,"h5",127),g(26),f(),h(27,"div",128),H(28,m3,2,1,"button",129)(29,g3,2,0,"button",130),f()()()(),h(30,"div",131)(31,"div",132),D("click",function(){T(n);let i=_();return S(i.toggleButeursList())}),h(32,"h4")(33,"span",133),g(34),f(),g(35),f()(),H(36,v3,2,1,"div",90),f(),H(37,w3,8,2,"div",134),h(38,"div",135)(39,"button",48),D("click",function(){T(n);let i=_();return S(i.selectedMatch=null)}),g(40," Fermer "),f()()()()}if(t&2){let n=_();y(9),$(n.selectedMatch.equipe1),y(2),b("ngIf",!n.showScoreForm),y(),b("ngIf",n.showScoreForm),y(2),$(n.selectedMatch.equipe2),y(),b("ngIf",n.showButeurForm),y(5),$(n.selectedMatch.equipe1),y(2),b("ngForOf",n.getTeamPlayers(1)),y(),b("ngIf",!n.showButeurForm),y(3),$(n.selectedMatch.equipe2),y(2),b("ngForOf",n.getTeamPlayers(2)),y(),b("ngIf",!n.showButeurForm),y(5),$(n.showButeursList?"\u25BC":"\u25B6"),y(),Ce(" Buteurs (",n.selectedMatch.buteurs.length,") "),y(),b("ngIf",n.showButeursList),y(),b("ngIf",n.selectedPosition&&n.selectedMatch)}}function E3(t,e){if(t&1&&(h(0,"option",82),g(1),f()),t&2){let n=e.$implicit;b("value",n.name),y(),$(n.name)}}function C3(t,e){if(t&1&&(h(0,"option",82),g(1),f()),t&2){let n=e.$implicit;b("value",n.name),y(),$(n.name)}}function b3(t,e){if(t&1){let n=ie();h(0,"div",173)(1,"div",37)(2,"span",118),D("click",function(){T(n);let i=_();return S(i.showMatchEditForm=!1)}),g(3,"\xD7"),f(),h(4,"h3"),g(5,"Modifier le match"),f(),h(6,"form",144),D("ngSubmit",function(){T(n);let i=_();return S(i.onSubmitMatchEdit())}),h(7,"div",174)(8,"button",175),D("click",function(){T(n);let i=_();return S(i.supprimerMatch(i.selectedMatch))}),te(9,"i",166),g(10," Supprimer le match "),f()(),h(11,"div",176)(12,"label",177),g(13,"\xC9quipe 1:"),f(),h(14,"select",178,0),D("change",function(){T(n);let i=Hs(15),o=_();return S(i.value==="new"&&o.editNewTeam(i))}),H(16,E3,2,2,"option",64),h(17,"option",179),g(18,"+ Ajouter une nouvelle \xE9quipe"),f()()(),h(19,"div",176)(20,"label",180),g(21,"\xC9quipe 2:"),f(),h(22,"select",181,1),D("change",function(){T(n);let i=Hs(23),o=_();return S(i.value==="new"&&o.editNewTeam(i))}),H(24,C3,2,2,"option",64),h(25,"option",179),g(26,"+ Ajouter une nouvelle \xE9quipe"),f()()(),h(27,"div",176)(28,"label",182),g(29,"Heure de d\xE9but:"),f(),te(30,"input",183),f(),h(31,"div",176)(32,"label",184),g(33,"Lieu:"),f(),te(34,"input",185),f(),h(35,"div",176)(36,"label",186),g(37,"Comp\xE9tition:"),f(),te(38,"input",187),f(),h(39,"div",174)(40,"button",188),D("click",function(){T(n);let i=_();return S(i.onSubmitMatchEdit())}),g(41,"Enregistrer les Modifications"),f()()()()()}if(t&2){let n=_();y(6),b("formGroup",n.matchEditForm),y(10),b("ngForOf",n.teams),y(8),b("ngForOf",n.teams)}}function D3(t,e){if(t&1&&(h(0,"span",202),g(1," \u2022 "),f()),t&2){let n=e.index,r=_(2);Se("fade",n>=r.remainingDots)}}function T3(t,e){if(t&1&&(h(0,"option",203),g(1),f()),t&2){let n=e.$implicit,r=_(2);b("value",n)("disabled",n===r.lastGoalScorer),y(),Ce(" ",n," ")}}function S3(t,e){if(t&1){let n=ie();h(0,"div",189)(1,"div",190)(2,"div",191),g(3,"BUUUT !"),f(),h(4,"div",192),g(5),f(),h(6,"div",193),g(7),f(),h(8,"div",194),g(9,"\u26BD\u26BD"),f(),h(10,"div",195),H(11,D3,2,2,"span",196),f(),h(12,"div",197)(13,"select",198),Jt("ngModelChange",function(i){T(n);let o=_();return mn(o.lastGoalAssist,i)||(o.lastGoalAssist=i),S(i)}),h(14,"option",68),g(15,"Aucun assist"),f(),H(16,T3,2,3,"option",199),f(),h(17,"div",200)(18,"button",94),D("click",function(){T(n);let i=_();return S(i.saveGoalWithAssist())}),g(19," Enregistrer "),f(),h(20,"button",201),D("click",function(){T(n);let i=_();return S(i.cancelGoal())}),g(21," Annuler "),f()()()()()}if(t&2){let n=_();y(5),Ce(" ",n.lastGoalScorer," "),y(2),Ce(" ",n.lastGoalTeam," "),y(4),b("ngForOf",bE(5,P$).constructor(5)),y(2),Yt("ngModel",n.lastGoalAssist),y(3),b("ngForOf",n.getTeamPlayers(n.lastGoalTeam===(n.selectedMatch==null?null:n.selectedMatch.equipe1)?1:2))}}function A3(t,e){t&1&&(h(0,"span",223),g(1,"-"),f())}function x3(t,e){t&1&&(h(0,"span",223),g(1,"-"),f())}function M3(t,e){if(t&1){let n=ie();h(0,"div")(1,"div",224),D("click",function(){T(n);let i=_(2);return S(i.selectPosition(1,"milieu-offensif"))}),h(2,"div",212)(3,"span",213),g(4,"MO"),f(),H(5,x3,2,0,"span",214),h(6,"span",215),g(7),f()()()()}if(t&2){let n=_(2);y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),y(3),b("ngIf",n.getPlayerForPosition(1,"milieu-offensif")),y(2),$(n.getPlayerForPosition(1,"milieu-offensif"))}}function P3(t,e){if(t&1){let n=ie();h(0,"div")(1,"div",225),D("click",function(){T(n);let i=_(2);return S(i.selectPosition(1,"defenseur-gauche"))}),h(2,"div",212)(3,"span",213),g(4,"DG"),f(),h(5,"span",215),g(6),f()()()()}if(t&2){let n=_(2);y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),y(4),$(n.getPlayerForPosition(1,"defenseur-gauche"))}}function R3(t,e){if(t&1){let n=ie();h(0,"div")(1,"div",226),D("click",function(){T(n);let i=_(2);return S(i.selectPosition(1,"defenseur-droit"))}),h(2,"div",212)(3,"span",213),g(4,"DD"),f(),h(5,"span",215),g(6),f()()()()}if(t&2){let n=_(2);y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),y(4),$(n.getPlayerForPosition(1,"defenseur-droit"))}}function N3(t,e){t&1&&(h(0,"span",223),g(1,"-"),f())}function O3(t,e){if(t&1){let n=ie();h(0,"div")(1,"div",224),D("click",function(){T(n);let i=_(2);return S(i.selectPosition(2,"milieu-offensif"))}),h(2,"div",212)(3,"span",213),g(4,"MO"),f(),h(5,"span",215),g(6),f()()()()}if(t&2){let n=_(2);y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),y(4),$(n.getPlayerForPosition(2,"milieu-offensif"))}}function k3(t,e){if(t&1){let n=ie();h(0,"div")(1,"div",225),D("click",function(){T(n);let i=_(2);return S(i.selectPosition(2,"defenseur-gauche"))}),h(2,"div",212)(3,"span",213),g(4,"DG"),f(),h(5,"span",215),g(6),f()()()()}if(t&2){let n=_(2);y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),y(4),$(n.getPlayerForPosition(2,"defenseur-gauche"))}}function F3(t,e){if(t&1){let n=ie();h(0,"div")(1,"div",226),D("click",function(){T(n);let i=_(2);return S(i.selectPosition(2,"defenseur-droit"))}),h(2,"div",212)(3,"span",213),g(4,"DD"),f(),h(5,"span",215),g(6),f()()()()}if(t&2){let n=_(2);y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),y(4),$(n.getPlayerForPosition(2,"defenseur-droit"))}}function V3(t,e){t&1&&te(0,"div")}function L3(t,e){if(t&1){let n=ie();h(0,"button",172),D("click",function(){let i=T(n).$implicit,o=_(3);return S(o.assignPlayerToPosition(i))}),g(1),f()}if(t&2){let n=e.$implicit;y(),Ce(" ",n," ")}}function j3(t,e){if(t&1){let n=ie();h(0,"div",167)(1,"div",168)(2,"h6"),g(3),f(),h(4,"div",169),H(5,L3,2,1,"button",170),f(),h(6,"button",171),D("click",function(){T(n);let i=_(2);return S(i.selectedPosition=null)}),g(7," Annuler "),f()()()}if(t&2){let n=_(2);y(3),Ce("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),y(2),b("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function U3(t,e){if(t&1){let n=ie();h(0,"div",204)(1,"div",205)(2,"button",118),D("click",function(){T(n);let i=_();return S(i.closeDispositionModal())}),g(3,"\xD7"),f(),h(4,"h3"),g(5,"Disposition tactique"),f(),h(6,"button",206),D("click",function(){T(n);let i=_();return S(i.toggleDefendersAndMidfielders())}),g(7),f(),h(8,"div",207)(9,"div",208)(10,"div",209)(11,"h5",123),g(12),f(),h(13,"div",210)(14,"div",211),D("click",function(){T(n);let i=_();return S(i.selectPosition(1,"attaquant"))}),h(15,"div",212)(16,"span",213),g(17,"AT"),f(),H(18,A3,2,0,"span",214),h(19,"span",215),g(20),f()()(),H(21,M3,8,4,"div",90),h(22,"div",216),D("click",function(){T(n);let i=_();return S(i.selectPosition(1,"milieu-gauche"))}),h(23,"div",212)(24,"span",213),g(25,"MG"),f(),h(26,"span",215),g(27),f()()(),h(28,"div",217),D("click",function(){T(n);let i=_();return S(i.selectPosition(1,"milieu-droit"))}),h(29,"div",212)(30,"span",213),g(31,"MD"),f(),h(32,"span",215),g(33),f()()(),h(34,"div",218),D("click",function(){T(n);let i=_();return S(i.selectPosition(1,"defenseur-central"))}),h(35,"div",212)(36,"span",213),g(37,"DC"),f(),h(38,"span",215),g(39),f()()(),H(40,P3,7,3,"div",90)(41,R3,7,3,"div",90),h(42,"div",219),D("click",function(){T(n);let i=_();return S(i.selectPosition(1,"gardien"))}),h(43,"div",212)(44,"span",213),g(45,"G"),f(),h(46,"span",215),g(47),f()()()()(),h(48,"div",220)(49,"h5",127),g(50),f(),h(51,"div",210)(52,"div",211),D("click",function(){T(n);let i=_();return S(i.selectPosition(2,"attaquant"))}),h(53,"div",212)(54,"span",213),g(55,"AT"),f(),H(56,N3,2,0,"span",214),h(57,"span",215),g(58),f()()(),H(59,O3,7,3,"div",90),h(60,"div",216),D("click",function(){T(n);let i=_();return S(i.selectPosition(2,"milieu-gauche"))}),h(61,"div",212)(62,"span",213),g(63,"MG"),f(),h(64,"span",215),g(65),f()()(),h(66,"div",217),D("click",function(){T(n);let i=_();return S(i.selectPosition(2,"milieu-droit"))}),h(67,"div",212)(68,"span",213),g(69,"MD"),f(),h(70,"span",215),g(71),f()()(),h(72,"div",218),D("click",function(){T(n);let i=_();return S(i.selectPosition(2,"defenseur-central"))}),h(73,"div",212)(74,"span",213),g(75,"DC"),f(),h(76,"span",215),g(77),f()()(),H(78,k3,7,3,"div",90)(79,F3,7,3,"div",90),h(80,"div",219),D("click",function(){T(n);let i=_();return S(i.selectPosition(2,"gardien"))}),h(81,"div",212)(82,"span",213),g(83,"G"),f(),h(84,"span",215),g(85),f()()(),H(86,V3,1,0,"div",90),f()()(),h(87,"div",221)(88,"p",222),g(89," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),f()()(),H(90,j3,8,2,"div",134),f()()}if(t&2){let n=_();y(7),Ce(" ",n.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),y(5),$(n.selectedMatch.equipe1),y(3),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),y(3),b("ngIf",n.getPlayerForPosition(1,"attaquant")),y(2),$(n.getPlayerForPosition(1,"attaquant")),y(),b("ngIf",n.showDefendersAndMidfielders),y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),y(4),$(n.getPlayerForPosition(1,"milieu-gauche")),y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),y(4),$(n.getPlayerForPosition(1,"milieu-droit")),y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),y(4),$(n.getPlayerForPosition(1,"defenseur-central")),y(),b("ngIf",n.showDefendersAndMidfielders),y(),b("ngIf",n.showDefendersAndMidfielders),y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),y(4),$(n.getPlayerForPosition(1,"gardien")),y(3),$(n.selectedMatch.equipe2),y(3),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),y(3),b("ngIf",n.getPlayerForPosition(2,"attaquant")),y(2),$(n.getPlayerForPosition(2,"attaquant")),y(),b("ngIf",n.showDefendersAndMidfielders),y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),y(4),$(n.getPlayerForPosition(2,"milieu-gauche")),y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),y(4),$(n.getPlayerForPosition(2,"milieu-droit")),y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),y(4),$(n.getPlayerForPosition(2,"defenseur-central")),y(),b("ngIf",n.showDefendersAndMidfielders),y(),b("ngIf",n.showDefendersAndMidfielders),y(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),y(4),$(n.getPlayerForPosition(2,"gardien")),y(),b("ngIf",n.showDefendersAndMidfielders),y(4),b("ngIf",n.selectedPosition&&n.selectedMatch)}}function B3(t,e){if(t&1){let n=ie();h(0,"div",116)(1,"div",141)(2,"div",37)(3,"div",38)(4,"h5",142),g(5,"Choisir le format d'export"),f(),h(6,"button",143),D("click",function(){T(n);let i=_();return S(i.closeExportModal())}),f()(),h(7,"div",42)(8,"div",227)(9,"input",228),Jt("ngModelChange",function(i){T(n);let o=_();return mn(o.exportFormats.txt,i)||(o.exportFormats.txt=i),S(i)}),f(),h(10,"label",229),g(11," Format TXT "),f()(),h(12,"div",227)(13,"input",230),Jt("ngModelChange",function(i){T(n);let o=_();return mn(o.exportFormats.csv,i)||(o.exportFormats.csv=i),S(i)}),f(),h(14,"label",231),g(15," Format CSV "),f()(),h(16,"div",227)(17,"input",232),Jt("ngModelChange",function(i){T(n);let o=_();return mn(o.exportFormats.json,i)||(o.exportFormats.json=i),S(i)}),f(),h(18,"label",233),g(19," Format JSON "),f()()(),h(20,"div",47)(21,"button",48),D("click",function(){T(n);let i=_();return S(i.closeExportModal())}),g(22,"Annuler"),f(),h(23,"button",234),D("click",function(){T(n);let i=_();return S(i.confirmExport())}),g(24,"Exporter"),f()()()()()}if(t&2){let n=_();y(9),Yt("ngModel",n.exportFormats.txt),y(4),Yt("ngModel",n.exportFormats.csv),y(4),Yt("ngModel",n.exportFormats.json),y(6),b("disabled",!n.isExportFormatSelected())}}function $3(t,e){if(t&1){let n=ie();h(0,"div",116)(1,"div",141)(2,"div",37)(3,"div",38)(4,"h5",142),g(5,"Comment utiliser BUUUT.be"),f(),h(6,"button",143),D("click",function(){T(n);let i=_();return S(i.showHelpModal=!1)}),f()(),h(7,"div",42)(8,"h6"),g(9,"Fonctionnalit\xE9s principales :"),f(),h(10,"ul",235)(11,"li",61),te(12,"i",236),h(13,"strong"),g(14,"Cr\xE9er un match :"),f(),g(15,' Cliquez sur "Nouveau Match" pour enregistrer un nouveau match. '),f(),h(16,"li",61),te(17,"i",237),h(18,"strong"),g(19,"Enregistrer les buts :"),f(),g(20," Cliquez sur le score pour ajouter les buteurs et leurs minutes. "),f(),h(21,"li",61),te(22,"i",238),h(23,"strong"),g(24,"G\xE9rer les \xE9quipes :"),f(),g(25," Ajoutez des joueurs \xE0 vos \xE9quipes lors de l'enregistrement des buts. "),f(),h(26,"li",61),te(27,"i",239),h(28,"strong"),g(29,"Partager :"),f(),g(30," Partagez vos matchs via le bouton de partage. "),f(),h(31,"li",61),te(32,"i",240),h(33,"strong"),g(34,"Exporter :"),f(),g(35," Exportez vos matchs en TXT, CSV ou JSON. "),f(),h(36,"li",61),te(37,"i",241),h(38,"strong"),g(39,"Importer :"),f(),g(40," Importez des matchs depuis diff\xE9rents formats. "),f()()(),h(41,"div",47)(42,"button",48),D("click",function(){T(n);let i=_();return S(i.showHelpModal=!1)}),g(43,"Fermer"),f()()()()()}}function q3(t,e){if(t&1&&(h(0,"tr")(1,"td",246),g(2),f(),h(3,"td",246),g(4),f(),h(5,"td",246)(6,"strong"),g(7),f()(),h(8,"td",246),g(9),f(),h(10,"td",246),g(11),f(),h(12,"td",246),g(13),f(),h(14,"td",246),g(15),f(),h(16,"td",246),g(17),f(),h(18,"td",246),g(19),f(),h(20,"td",247),g(21),f()()),t&2){let n=e.$implicit,r=e.index;y(2),$(r+1),y(2),$(n.name),y(3),$(n.points),y(2),$(n.matches),y(2),$(n.wins),y(2),$(n.draws),y(2),$(n.losses),y(2),$(n.goalsFor),y(2),$(n.goalsAgainst),y(),b("ngClass",DE(12,R$,n.goalDifference>0,n.goalDifference<0)),y(),Xn(" ",n.goalDifference>0?"+":"","",n.goalDifference," ")}}function H3(t,e){if(t&1){let n=ie();h(0,"div",116)(1,"div",242)(2,"div",37)(3,"div",38)(4,"h5",142),g(5),f(),h(6,"button",143),D("click",function(){T(n);let i=_();return S(i.closeRankingModal())}),f()(),h(7,"div",243)(8,"div",244)(9,"table",245)(10,"thead")(11,"tr")(12,"th",246),g(13,"Pos"),f(),h(14,"th",246),g(15,"\xC9quipe"),f(),h(16,"th",246),g(17,"Pts"),f(),h(18,"th",246),g(19,"J"),f(),h(20,"th",246),g(21,"G"),f(),h(22,"th",246),g(23,"N"),f(),h(24,"th",246),g(25,"P"),f(),h(26,"th",246),g(27,"BP"),f(),h(28,"th",246),g(29,"BC"),f(),h(30,"th",246),g(31,"Diff"),f()()(),h(32,"tbody"),H(33,q3,22,15,"tr",101),f()()()(),h(34,"div",47)(35,"button",48),D("click",function(){T(n);let i=_();return S(i.closeRankingModal())}),g(36,"Fermer"),f()()()()()}if(t&2){let n=_();y(5),Ce("Classement - ",n.selectedCompetitionFilter,""),y(28),b("ngForOf",n.currentRanking)}}var qh=class t{static{this.competitionColors=new Map}constructor(e,n){this.fb=e,this.firestoreService=n,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.editingButeur=null,this.teams=ib,this.selectedTeam=null,this.newTeamName="",this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!1,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.selectedCompetitionFilter="",this.showCompetitionFilterModal=!1,this.remainingDots=5,this.usedColors=[],this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1},this.showHelpModal=!1,this.showRankingModal=!1,this.currentRanking=[],this.isSharingCompetition=!1,this.isSharingMatch=!1,this.matchForm=this.fb.group({equipe1:[this.teams[0].name,We.required],equipe2:["",We.required],heureDebut:[this.getCurrentDateTime(),We.required],lieu:[""],competition:[""]}),this.scoreForm=this.fb.group({score1:[0,[We.required,We.min(0)]],score2:[0,[We.required,We.min(0)]]}),this.buteurForm=this.fb.group({nom:["",We.required],minute:["",[We.required,We.min(1),We.max(90)]],equipe:["",We.required],assist:[""]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(r=>{let i=this.buteurForm.get("assist");i&&i.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",We.required],equipe2:["",We.required],heureDebut:["",We.required],lieu:[""],competition:[""]})}ngOnInit(){return v(this,null,function*(){this.loadSavedData(),this.startAutoSave(),yield this.loadMatchFromUrl()})}getCurrentDateTime(){let e=new Date,n=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-n).toISOString().slice(0,16)}onSubmit(){if(this.matchForm.valid){let n=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,r=J(x({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],showElements:!0});this.matches.push(r),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1}}calculateElapsedMinutes(e){let n=new Date,r=new Date(e),i=new Date(r.getTime()),o=Math.floor((n.getTime()-i.getTime())/(1e3*60));return console.log("diffInMinutes",o),console.log("now",n),console.log("localMatchStart",i),o>90?this.getLastScoredMinute()+1:Math.max(1,o)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(e=>e.minute))}selectMatch(e){this.selectedMatch=e,this.scoreForm.patchValue({score1:e.score1,score2:e.score2});let n=this.calculateElapsedMinutes(e.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.buteurForm.patchValue({nom:"",minute:n,equipe:1});let r=this.teams.find(o=>o.name===e.equipe1),i=this.teams.find(o=>o.name===e.equipe2);if(r?zm(r):this.teams.push({id:this.teams.length+1,name:e.equipe1,players:["Joueur non list\xE9"]}),i?zm(i):this.teams.push({id:this.teams.length+1,name:e.equipe2,players:["Joueur non list\xE9"]}),e.equipe1==="U10 Stand. Flawinne FC"){let o=this.teams.find(s=>s.name==="U10 Stand. Flawinne FC");this.selectedTeam=o||null}}updateScore(){if(this.selectedMatch){let e=Math.max(0,this.selectedMatch.score1),n=Math.max(0,this.selectedMatch.score2),r=this.matches.findIndex(i=>i.id===this.selectedMatch.id);r!==-1&&(this.matches[r]=J(x({},this.matches[r]),{score1:e,score2:n}),this.selectedMatch.score1=e,this.selectedMatch.score2=n,this.saveData(),this.showScoreForm=!1)}}modifierButeur(e,n){let r=this.matches[e],i=r.buteurs[n];i.equipe===1?r.score1--:r.score2--,this.editingButeur={index:n,buteur:x({},i)},this.buteurForm.patchValue({nom:i.nom,minute:i.minute,equipe:i.equipe}),this.showButeurForm=!0}ajouterButeur(){if(this.buteurForm.valid&&this.selectedMatch){let e={nom:this.buteurForm.value.nom,minute:this.buteurForm.value.minute,equipe:this.buteurForm.value.equipe,assist:this.buteurForm.value.assist||void 0},n=this.matches.findIndex(r=>r.id===this.selectedMatch.id);n!==-1&&(this.editingButeur!==null?this.matches[n].buteurs[this.editingButeur.index]=e:this.matches[n].buteurs.push(e),e.equipe===1?(this.matches[n].score1++,this.lastGoalTeam=this.selectedMatch.equipe1):(this.matches[n].score2++,this.lastGoalTeam=this.selectedMatch.equipe2),this.lastGoalScorer=e.nom,this.buteurForm.reset(),this.editingButeur=null,this.showButeurForm=!1,this.saveData())}}annulerEditionButeur(){if(this.editingButeur&&this.selectedMatch){let e=this.matches.findIndex(n=>n.id===this.selectedMatch.id);e!==-1&&(this.editingButeur.buteur.equipe===1?this.matches[e].score1++:this.matches[e].score2++)}this.editingButeur=null,this.buteurForm.reset(),this.showButeurForm=!1}supprimerButeur(e,n){let r=this.matches[e];r.buteurs[n].equipe===1?r.score1=this.validateScore(r.score1-1):r.score2=this.validateScore(r.score2-1),r.buteurs.splice(n,1),this.saveData()}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(i=>i.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let r={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(r),e.value=r.name;let i=e.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(i)?.setValue(r.name)}}editNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let r={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(r),e.value=r.name;let i=e.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(i)?.setValue(r.name)}}addNewPlayer(e){if(e&&e.trim()){let n=this.teams.find(r=>r.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));n&&(n.players.push(e.trim()),this.buteurForm.get("nom")?.setValue(e.trim()))}}getTeamPlayers(e){if(!this.selectedMatch)return[];let n=e===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(i=>i.name===n)?.players||[]}quickAddGoal(e,n){if(this.selectedMatch){let r=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);this.lastGoalScorer=e,this.lastGoalTeam=n===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.lastGoalAssist="",this.remainingDots=5,this.showGoalCelebration=!0,this.celebrationTimer=setInterval(()=>{this.remainingDots--,this.remainingDots<=0&&(this.showGoalCelebration=!1,clearInterval(this.celebrationTimer),this.saveGoalWithAssist())},1e3)}}saveGoalWithAssist(){if(this.selectedMatch){let e={nom:this.lastGoalScorer,minute:this.calculateElapsedMinutes(this.selectedMatch.heureDebut),equipe:this.lastGoalTeam===this.selectedMatch.equipe1?1:2,assist:this.lastGoalAssist||void 0},n=this.matches.findIndex(r=>r.id===this.selectedMatch.id);n!==-1&&(this.matches[n].buteurs.push(e),e.equipe===1?this.matches[n].score1++:this.matches[n].score2++,this.saveData(),clearInterval(this.celebrationTimer),this.showGoalCelebration=!1)}}cancelGoal(){this.showGoalCelebration=!1,clearInterval(this.celebrationTimer),this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist=""}supprimerMatch(e){if(confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?")){let n=this.matches.findIndex(r=>r.id===e.id);n!==-1&&(this.matches.splice(n,1),this.saveData())}}loadSavedData(){let e=localStorage.getItem("footballMatches");if(e){let n=JSON.parse(e);new Date(n.expirationDate)>new Date?this.matches=n.matches.map(i=>J(x({},i),{heureDebut:new Date(i.heureDebut)})):localStorage.removeItem("footballMatches")}}saveData(){let e=new Date;e.setMonth(e.getMonth()+3);let n={matches:this.matches,expirationDate:e.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(n))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(e,n){return e.buteurs.filter(i=>i.equipe===n).reduce((i,o)=>{let s=i.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c),o.assist&&(s.assist=o.assist)):i.push({nom:o.nom,minutes:[o.minute],assist:o.assist}),i},[]).sort((i,o)=>i.minutes[0]-o.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(e,n){this.selectedPosition={team:e,position:n}}assignPlayerToPosition(e){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let n=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[n]=e,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(e,n){if(this.selectedMatch?.positions){let r=`${e}_${n}`;return this.selectedMatch.positions[r]||""}return""}openDispositionModal(e){this.selectedMatch=e,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(e){e.showElements=!e.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(e){this.selectedMatch=e,this.matchEditForm.patchValue({equipe1:e.equipe1,equipe2:e.equipe2,heureDebut:this.getNearestValidTime(e.heureDebut),lieu:e.lieu,competition:e.competition}),this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(e){let n=new Date(e);return n.getMinutes()<30?n.setMinutes(0):n.setMinutes(30),n.toISOString().slice(0,16)}onSubmitMatchEdit(){if(this.matchEditForm.valid&&this.selectedMatch){let e=this.matchEditForm.value;this.selectedMatch.equipe1=e.equipe1,this.selectedMatch.equipe2=e.equipe2,this.selectedMatch.heureDebut=new Date(e.heureDebut),this.selectedMatch.lieu=e.lieu,this.selectedMatch.competition=e.competition,this.saveData(),this.showMatchEditForm=!1}}get filteredMatches(){return this.matches.filter(e=>{let n=!this.selectedTeamFilter||e.equipe1===this.selectedTeamFilter||e.equipe2===this.selectedTeamFilter,r=!this.selectedCompetitionFilter||e.competition===this.selectedCompetitionFilter;return n&&r})}closeTeamFilterModal(){this.showTeamFilterModal=!1}shareMatch(e){return v(this,null,function*(){this.isSharingMatch=!0;try{let n=yield this.firestoreService.saveMatch(e),r=`${window.location.origin}?matchId=${n}`,i=`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${this.getGroupedScorers(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${e.equipe2}:
${this.getGroupedScorers(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

Lien direct vers le match : ${r}
      `.trim();if(navigator.share)yield navigator.share({title:`${e.equipe1} vs ${e.equipe2}`,text:i,url:r});else{let o=document.createElement("textarea");o.value=i,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}catch(n){console.error("Erreur lors de la sauvegarde ou du partage du match:",n),alert("Une erreur est survenue lors de la sauvegarde ou du partage du match.")}finally{this.isSharingMatch=!1}})}loadMatchFromUrl(){return v(this,null,function*(){let e=new URLSearchParams(window.location.search),n=e.get("competitionId"),r=e.get("matchId");if(n)try{let i=yield this.firestoreService.getCompetitionById(n);if(i){let o=yield this.firestoreService.getMatchesByCompetition(n);o.length>0&&(this.matches=o,this.selectedCompetitionFilter=i.name,this.saveData())}}catch(i){console.error("Erreur lors du chargement de la comp\xE9tition:",i)}else if(r)try{let i=yield this.firestoreService.getMatchById(r);i?(i.heureDebut=new Date(i.heureDebut),this.matches.findIndex(s=>s.id===i.id)===-1&&(this.matches.push(i),this.saveData()),this.selectMatch(i),setTimeout(()=>{let s=document.querySelector(`[data-match-id="${i.id}"]`);s&&s.scrollIntoView({behavior:"smooth"})},100)):console.error("Match non trouv\xE9 dans Firestore")}catch(i){console.error("Erreur lors du chargement du match depuis Firestore:",i)}})}getButeurDisplay(e){let n=`\u26BD ${e.nom} (${e.minute}')`;return e.assist&&(n+=` (Assist: ${e.assist})`),n}saveMatchToFirestore(e){return v(this,null,function*(){try{let n=yield this.firestoreService.saveMatch(e);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",n),window.location.href=`/match/${n}`}catch(n){console.error("Erreur lors de l'enregistrement du match dans Firestore:",n)}})}closeCompetitionFilterModal(){this.showCompetitionFilterModal=!1}get uniqueCompetitions(){let e=this.matches.map(n=>n.competition).filter(n=>n!==void 0&&n!=="");return[...new Set(e)]}getCompetitionBadgeColor(e){let n=["badge-pastel-primary","badge-pastel-secondary","badge-pastel-success","badge-pastel-danger","badge-pastel-warning","badge-pastel-info","badge-pastel-dark","badge-pastel-purple","badge-pastel-pink","badge-pastel-teal"];if(t.competitionColors.has(e))return t.competitionColors.get(e);let r=e.split("").reduce((s,a)=>a.charCodeAt(0)+((s<<5)-s),0),i=Math.abs(r)%n.length,o=n[i];return t.competitionColors.set(e,o),o}exportMatches(){this.showExportModal=!0}closeExportModal(){this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1}}isExportFormatSelected(){return this.exportFormats.txt||this.exportFormats.csv||this.exportFormats.json}confirmExport(){return v(this,null,function*(){if(this.exportFormats.txt){let e=this.exportToTxt();this.downloadFile(e,"matches.txt")}if(this.exportFormats.csv){let e=this.exportToCsv();this.downloadFile(e,"matches.csv")}if(this.exportFormats.json){let e=this.exportToJson();this.downloadFile(e,"matches.json")}this.closeExportModal()})}exportToTxt(){return this.matches.map(e=>{let n=this.getGroupedScorers(e,1),r=this.getGroupedScorers(e,2);return`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${n.map(i=>`- ${i.nom}: ${i.minutes.join(", ")}'${i.assist?` (Assist: ${i.assist})`:""}`).join(`
`)}

${e.equipe2}:
${r.map(i=>`- ${i.nom}: ${i.minutes.join(", ")}'${i.assist?` (Assist: ${i.assist})`:""}`).join(`
`)}
----------------------------------------
`.trim()}).join(`

`)}exportToCsv(){let e=["\xC9quipe 1","\xC9quipe 2","Score 1","Score 2","Date","Lieu","Comp\xE9tition","Buteurs \xC9quipe 1","Buteurs \xC9quipe 2"],n=this.matches.map(r=>{let i=this.getGroupedScorers(r,1),o=this.getGroupedScorers(r,2);return[r.equipe1,r.equipe2,r.score1,r.score2,r.heureDebut.toLocaleString("fr-FR"),r.lieu||"",r.competition||"",i.map(s=>`${s.nom} (${s.minutes.join(", ")}'${s.assist?`, Assist: ${s.assist}`:""})`).join("; "),o.map(s=>`${s.nom} (${s.minutes.join(", ")}'${s.assist?`, Assist: ${s.assist}`:""})`).join("; ")].map(s=>`"${s}"`).join(",")});return[e.map(r=>`"${r}"`).join(","),...n].join(`
`)}exportToJson(){return JSON.stringify(this.matches.map(e=>J(x({},e),{heureDebut:e.heureDebut instanceof Date?e.heureDebut.toISOString():new Date().toISOString(),buteurs:e.buteurs.map(n=>J(x({},n),{assist:n.assist||null}))})),null,2)}downloadFile(e,n){let r=new Blob([e],{type:"text/plain"}),i=window.URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=n,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(i),document.body.removeChild(o)}importMatches(){let e=document.createElement("input");e.type="file",e.accept=".txt,.csv,.json",e.onchange=n=>{let r=n.target.files?.[0];if(r){let i=new FileReader;i.onload=o=>{let s=o.target?.result,a=r.name.split(".").pop()?.toLowerCase();try{let c=[];switch(a){case"txt":c=this.parseTxtImport(s);break;case"csv":c=this.parseCsvImport(s);break;case"json":c=this.parseJsonImport(s);break;default:throw new Error("Format de fichier non support\xE9")}c.length>0?confirm(`Voulez-vous importer ${c.length} match(s) ?`)&&(this.matches.push(...c),this.saveData(),alert("Import r\xE9ussi !")):alert("Aucun match trouv\xE9 dans le fichier.")}catch(c){console.error("Erreur lors de l'import:",c),alert("Erreur lors de l'import du fichier. V\xE9rifiez le format.")}},i.readAsText(r)}},e.click()}parseTxtImport(e){let n=[],r=e.split("----------------------------------------");for(let i of r){if(!i.trim())continue;let o=i.trim().split(`
`),s={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};for(let a of o)if(a.startsWith("Match : ")){let c=a.replace("Match : ","").split(" vs ");s.equipe1=c[0].trim(),s.equipe2=c[1].trim()}else if(a.startsWith("Score : ")){let c=a.replace("Score : ","").split(" - ");s.score1=parseInt(c[0]),s.score2=parseInt(c[1])}else if(a.startsWith("Date : "))s.heureDebut=new Date(a.replace("Date : ",""));else if(a.startsWith("Lieu : "))s.lieu=a.replace("Lieu : ","").trim();else if(a.startsWith("Comp\xE9tition : "))s.competition=a.replace("Comp\xE9tition : ","").trim();else if(a.includes(":")){let[c,u]=a.split(":"),l=c.replace("-","").trim(),d=u.match(/\d+/g),p=u.match(/\(Assist: (.*?)\)/);d&&d.forEach(m=>{s.buteurs?.push({nom:l,minute:parseInt(m),equipe:a.includes(s.equipe1)?1:2,assist:p?p[1]:void 0})})}s.equipe1&&s.equipe2&&n.push(s)}return n}parseCsvImport(e){let n=[],r=e.split(`
`),i=r[0].split(",").map(o=>o.replace(/"/g,"").trim());for(let o=1;o<r.length;o++){if(!r[o].trim())continue;let s=r[o].split(",").map(c=>c.replace(/"/g,"").trim()),a={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};i.forEach((c,u)=>{let l=s[u];switch(c){case"\xC9quipe 1":a.equipe1=l;break;case"\xC9quipe 2":a.equipe2=l;break;case"Score 1":a.score1=parseInt(l);break;case"Score 2":a.score2=parseInt(l);break;case"Date":a.heureDebut=new Date(l);break;case"Lieu":a.lieu=l;break;case"Comp\xE9tition":a.competition=l;break;case"Buteurs \xC9quipe 1":case"Buteurs \xC9quipe 2":let d=c==="Buteurs \xC9quipe 1"?1:2;l.split(";").map(m=>m.trim()).forEach(m=>{let[w,I]=m.split("("),E=I.match(/\d+/g),R=I.match(/Assist: (.*?)\)/);E&&E.forEach(re=>{a.buteurs?.push({nom:w.trim(),minute:parseInt(re),equipe:d,assist:R?R[1]:void 0})})});break}}),a.equipe1&&a.equipe2&&n.push(a)}return n}parseJsonImport(e){let n=JSON.parse(e);return Array.isArray(n)?n.map((r,i)=>J(x({},r),{id:this.matches.length+i+1,heureDebut:r.heureDebut?new Date(r.heureDebut):new Date,buteurs:r.buteurs||[]})):[]}getSortedMatches(){return this.filteredMatches.slice().sort((e,n)=>new Date(n.heureDebut).getTime()-new Date(e.heureDebut).getTime())}calculateRanking(e){let n=new Map;return this.matches.filter(i=>i.competition===e).forEach(i=>{[i.equipe1,i.equipe2].forEach(a=>{n.has(a)||n.set(a,{name:a,points:0,matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0})});let o=n.get(i.equipe1),s=n.get(i.equipe2);o.matches++,s.matches++,o.goalsFor+=i.score1,o.goalsAgainst+=i.score2,s.goalsFor+=i.score2,s.goalsAgainst+=i.score1,i.score1>i.score2?(o.wins++,o.points+=3,s.losses++):i.score1<i.score2?(s.wins++,s.points+=3,o.losses++):(o.draws++,s.draws++,o.points+=1,s.points+=1)}),n.forEach(i=>{i.goalDifference=i.goalsFor-i.goalsAgainst}),Array.from(n.values()).sort((i,o)=>o.points!==i.points?o.points-i.points:o.goalDifference!==i.goalDifference?o.goalDifference-i.goalDifference:o.goalsFor-i.goalsFor)}showRanking(){this.selectedCompetitionFilter?(this.currentRanking=this.calculateRanking(this.selectedCompetitionFilter),this.showRankingModal=!0):alert("Veuillez s\xE9lectionner une comp\xE9tition pour voir le classement")}closeRankingModal(){this.showRankingModal=!1}shareCompetition(){return v(this,null,function*(){if(!this.selectedCompetitionFilter){alert("Veuillez s\xE9lectionner une comp\xE9tition");return}this.isSharingCompetition=!0;try{let e=this.matches.filter(i=>i.competition===this.selectedCompetitionFilter);if(e.length===0){alert("Aucun match trouv\xE9 pour cette comp\xE9tition");return}let n=yield this.firestoreService.shareCompetition(this.selectedCompetitionFilter,e),r=`
          Comp\xE9tition : ${this.selectedCompetitionFilter}
          Nombre de matchs : ${e.length}

          Matchs :
          ${e.map(i=>`
          ${i.equipe1} vs ${i.equipe2}
          Score : ${i.score1} - ${i.score2}
          Date : ${i.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          Lieu : ${i.lieu||"Non sp\xE9cifi\xE9"}

         ----------------------------------------`).join(`
`)}

          Lien vers la comp\xE9tition : ${window.location.origin}?competitionId=${n}
                `.trim();if(navigator.share)navigator.share({title:`Comp\xE9tition ${this.selectedCompetitionFilter}`,text:r,url:`${window.location.origin}?competitionId=${n}`}).catch(console.error);else{let i=document.createElement("textarea");i.value=r,document.body.appendChild(i),i.select();try{document.execCommand("copy"),alert("Informations de la comp\xE9tition copi\xE9es dans le presse-papiers !")}catch(o){console.error("Erreur lors de la copie:",o)}document.body.removeChild(i)}}catch(e){console.error("Erreur lors de la sauvegarde ou du partage de la comp\xE9tition:",e),alert("Une erreur est survenue lors de la sauvegarde ou du partage de la comp\xE9tition.")}finally{this.isSharingCompetition=!1}})}validateScore(e){return Math.max(0,e)}static{this.\u0275fac=function(n){return new(n||t)(j(tb),j(Ds))}}static{this.\u0275cmp=Io({type:t,selectors:[["app-root"]],standalone:!0,features:[xo],decls:30,vars:16,consts:[["equipe1Select",""],["equipe2Select",""],[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lead","text-muted","mb-0"],[1,"btn","btn-link","ms-2",3,"click"],[1,"fas","fa-question-circle","text-warning"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","btn mt-2",3,"ngClass","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","disabled","click",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","competitionFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","mt-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration","style","margin-top: -100px;",4,"ngIf"],["class","disposition-modal",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-plus-circle","text-white"],[3,"hidden"],[1,"fas","fa-users","text-white"],[1,"btn","mt-2",3,"click","ngClass"],[1,"fas","fa-trophy","text-white"],[1,"text-white"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden"],[1,"fas","fa-list-ol"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden","disabled"],[1,"fas",3,"ngClass"],["tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",1,"score-modal"],["role","document",1,"modal-dialog","modal-body"],[1,"modal-content"],[1,"modal-header"],["id","teamFilterModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],[1,"form-check-label",3,"for"],["tabindex","-1","aria-labelledby","competitionFilterModalLabel","aria-hidden","true",1,"score-modal"],["id","competitionFilterModalLabel",1,"modal-title"],["type","radio","id","allCompetitions",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allCompetitions",1,"form-check-label"],[1,"badge",3,"ngClass"],[1,"mt-4",3,"ngSubmit","formGroup"],[1,"row",2,"width","95%","margin","0 auto","padding","20px","border-radius","10px","background","linear-gradient(to top, rgba(0,0,0,0.1) 0%, transparent 70%)"],[1,"col-md-6"],[1,"mb-4","text-primary","text-center","fw-bold",2,"font-size","1.8rem","text-shadow","2px 2px 4px rgba(0,0,0,0.1)"],[1,"fas","fa-futbol","me-2"],[1,"mb-3"],["for","equipe1",1,"form-label"],["id","equipe1","formControlName","equipe1",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["value","new1"],["for","equipe2",1,"form-label"],["id","equipe2","formControlName","equipe2",1,"form-select",3,"change"],["value",""],["value","new2"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["for","competition",1,"form-label","text-muted"],["type","text","id","competition","formControlName","competition","placeholder","Championnat, tournoi, amical...",1,"form-control","form-control-sm"],[1,"d-flex","gap-2","ms-2"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[3,"value"],[1,"mt-4"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"match-details"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn","btn-primary",3,"click"],["class","match-scorers",4,"ngIf"],["class","match-actions d-flex gap-2 justify-content-center mt-3",4,"ngIf"],[1,"mx-2"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[4,"ngFor","ngForOf"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"minutes-list","right-team"],[1,"match-actions","d-flex","gap-2","justify-content-center","mt-3"],["title","Ajouter un but",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-futbol"],["title","Disposition tactique",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-tshirt"],["title","Modifier le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],["title","Partager le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click","disabled"],[1,"ms-1"],[1,"score-modal"],[1,"score-modal-content"],[1,"close-button",3,"click"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center",3,"click"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"row"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],["class","player-selector",4,"ngIf"],[1,"mt-3"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],["type","number","min","0","onkeypress","return event.charCode >= 48",1,"form-control","form-control-sm",2,"width","60px","text-align","center",3,"ngModelChange","input","ngModel"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-check"],["tabindex","-1",1,"score-modal"],[1,"modal-dialog"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-5"],[1,"form-label","small"],["type","text","placeholder","Nom du buteur","formControlName","nom",1,"form-control"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control"],[1,"col-md-4"],["formControlName","equipe",1,"form-select"],[1,"col-md-12"],["formControlName","assist",1,"form-select"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2"],[1,"flex-grow-1"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],[1,"match-edit-modal"],[1,"button-group","mt-3"],[1,"btn","btn-outline-danger",3,"click"],[1,"form-group"],["for","equipe1"],["id","equipe1","formControlName","equipe1","required","",1,"form-select",3,"change"],["value","new"],["for","equipe2"],["id","equipe2","formControlName","equipe2","required","",1,"form-select",3,"change"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["for","competition",1,"form-label"],["id","competition","formControlName","competition","placeholder","Championnat, tournoi, amical...",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"goal-celebration",2,"margin-top","-100px"],[1,"celebration-content",2,"width","300px"],[1,"goal-text",2,"transform","scale(1.5)"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],[1,"assist-section","mt-3"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"button-group","mt-2"],[1,"btn","btn-outline-danger","ms-2",3,"click"],[1,"dot"],[3,"value","disabled"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"],[1,"form-check","mb-2"],["type","checkbox","id","txtFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","txtFormat",1,"form-check-label"],["type","checkbox","id","csvFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","csvFormat",1,"form-check-label"],["type","checkbox","id","jsonFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","jsonFormat",1,"form-check-label"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-unstyled"],[1,"fas","fa-plus-circle","text-primary"],[1,"fas","fa-futbol","text-primary"],[1,"fas","fa-users","text-primary"],[1,"fas","fa-share-alt","text-primary"],[1,"fas","fa-download","text-primary"],[1,"fas","fa-upload","text-primary"],[1,"modal-dialog","modal-xl",2,"min-width","100%","margin-right","0"],[1,"modal-body","p-0"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[1,"px-1"],[1,"px-1",3,"ngClass"]],template:function(n,r){n&1&&(h(0,"div",2)(1,"div",3)(2,"h2",4)(3,"span",5),g(4,"BUUUT"),f(),h(5,"span",6),g(6,".be"),f()(),h(7,"div",7)(8,"p",8),g(9,"Enregistrez maintenant tous vos buts!"),f(),h(10,"button",9),D("click",function(){return r.showHelpModal=!0}),te(11,"i",10),f()()(),h(12,"div",11),H(13,N$,4,1,"button",12)(14,O$,2,0,"button",12)(15,k$,4,2,"button",13)(16,F$,3,6,"button",14)(17,V$,3,8,"button",15)(18,j$,18,3,"div",16)(19,B$,18,3,"div",17),f(),H(20,H$,52,4,"form",18)(21,c3,4,1,"div",19)(22,I3,41,15,"div",20)(23,b3,42,3,"div",21)(24,S3,22,6,"div",22)(25,U3,91,43,"div",23)(26,B3,25,4,"div",20)(27,$3,44,0,"div",20)(28,H3,37,2,"div",20),f(),te(29,"router-outlet")),n&2&&(y(13),b("ngIf",!r.showMatchForm&&!r.showTeamFilterModal&&!r.showCompetitionFilterModal),y(),b("ngIf",!r.showMatchForm&&!r.showTeamFilterModal&&!r.showCompetitionFilterModal),y(),b("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),y(),b("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),y(),b("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),y(),b("ngIf",r.showTeamFilterModal),y(),b("ngIf",r.showCompetitionFilterModal),y(),b("ngIf",r.showMatchForm),y(),b("ngIf",r.filteredMatches.length>0),y(),b("ngIf",r.selectedMatch&&r.showScoreForm),y(),b("ngIf",r.selectedMatch&&r.showMatchEditForm),y(),b("ngIf",r.showGoalCelebration),y(),b("ngIf",r.showDispositionModal&&r.selectedMatch),y(),b("ngIf",r.showExportModal),y(),b("ngIf",r.showHelpModal),y(),b("ngIf",r.showRankingModal))},dependencies:[Ws,KE,gl,yl,vl,rb,WC,YC,ZC,Fl,Vm,Pm,Ll,Lm,jC,UC,Hm,qm,$m,jm,Um,nb,Fm,Yb,bg],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-2px)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #4b29b967}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.score-modal-content[_ngcontent-%COMP%]{width:99%;height:99%;background:linear-gradient(135deg,#fff,#f8f9fa);padding:0rem;box-shadow:none;overflow-y:auto;position:relative;border-radius:8px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4b29b900}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.score-modal-content[_ngcontent-%COMP%]{width:99%;margin:.5rem}.team-scorers[_ngcontent-%COMP%]{gap:1rem}.scorers-column[_ngcontent-%COMP%]{padding:0 .5rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:2px solid #3498db;width:99%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:90%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:0 1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#191137e6,#40327bcc);padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:8px;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:.5rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:1000px;width:98%}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:1.5em;color:#666;cursor:pointer;transition:all .3s ease}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}.share-icon[_ngcontent-%COMP%]{color:#3498db;font-size:1.2em;margin-right:.5rem;transition:transform .3s ease;display:inline-block;transform:scaleX(-1)}.share-icon[_ngcontent-%COMP%]:hover{transform:scaleX(-1) scale(1.2);color:#2980b9}.badge-pastel-primary[_ngcontent-%COMP%]{background-color:#b3d1ff;color:#2c3e50}.badge-pastel-secondary[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#2c3e50}.badge-pastel-success[_ngcontent-%COMP%]{background-color:#b3ffb3;color:#2c3e50}.badge-pastel-danger[_ngcontent-%COMP%]{background-color:#ffb3b3;color:#2c3e50}.badge-pastel-warning[_ngcontent-%COMP%]{background-color:#ffe6b3;color:#2c3e50}.badge-pastel-info[_ngcontent-%COMP%]{background-color:#b3e6ff;color:#2c3e50}.badge-pastel-dark[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#2c3e50}.badge-pastel-purple[_ngcontent-%COMP%]{background-color:#e6b3ff;color:#2c3e50}.badge-pastel-pink[_ngcontent-%COMP%]{background-color:#ffb3e6;color:#2c3e50}.badge-pastel-teal[_ngcontent-%COMP%]{background-color:#b3ffe6;color:#2c3e50}']})}};var tx=(()=>{class t{constructor(n){this.http=n,this.apiUrl="http://localhost:3000/api/matches"}createMatch(n){return this.http.post(this.apiUrl,n)}getAllMatches(){return this.http.get(this.apiUrl)}getMatchById(n){return this.http.get(`${this.apiUrl}/${n}`)}updateMatch(n,r){return this.http.put(`${this.apiUrl}/${n}`,r)}deleteMatch(n){return this.http.delete(`${this.apiUrl}/${n}`)}static{this.\u0275fac=function(r){return new(r||t)(V(_m))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function z3(t,e){if(t&1&&(h(0,"span"),g(1),f()),t&2){let n=_().$implicit;y(),Ce("(Assist: ",n.assist,")")}}function G3(t,e){if(t&1&&(h(0,"div",5)(1,"p"),g(2),H(3,z3,2,1,"span",6),f()()),t&2){let n=e.$implicit;y(2),Xn(" ",n.nom," (",n.minute,"') "),y(),b("ngIf",n.assist)}}function W3(t,e){if(t&1&&(h(0,"div",1)(1,"h2"),g(2),f(),h(3,"div",2)(4,"p"),g(5),Zu(6,"date"),f(),h(7,"p"),g(8),f(),h(9,"p"),g(10),f()(),h(11,"div",3)(12,"h3"),g(13,"Buteurs"),f(),H(14,G3,4,3,"div",4),f()()),t&2){let n=_();y(2),Xn("",n.match.equipe1," vs ",n.match.equipe2,""),y(3),Ce("Date: ",Xu(6,7,n.match.heureDebut,"medium"),""),y(3),Ce("Lieu: ",n.match.lieu,""),y(2),Xn("Score: ",n.match.score1," - ",n.match.score2,""),y(4),b("ngForOf",n.match.buteurs)}}var nx=(()=>{class t{constructor(n,r){this.route=n,this.firestoreService=r,this.match=null}ngOnInit(){this.route.params.subscribe(n=>{let r=n.id;r&&this.loadMatch(r)})}loadMatch(n){return v(this,null,function*(){try{this.match=yield this.firestoreService.getMatchById(n)}catch(r){console.error("Erreur lors du chargement du match:",r)}})}static{this.\u0275fac=function(r){return new(r||t)(j(or),j(Ds))}}static{this.\u0275cmp=Io({type:t,selectors:[["app-match-detail"]],standalone:!0,features:[xo],decls:1,vars:1,consts:[["class","match-detail",4,"ngIf"],[1,"match-detail"],[1,"match-info"],[1,"buteurs"],["class","buteur",4,"ngFor","ngForOf"],[1,"buteur"],[4,"ngIf"]],template:function(r,i){r&1&&H(0,W3,15,10,"div",0),r&2&&b("ngIf",i.match)},dependencies:[Ws,gl,yl,vl],styles:[".match-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.match-info[_ngcontent-%COMP%]{margin:20px 0}.buteurs[_ngcontent-%COMP%]{margin-top:20px}.buteur[_ngcontent-%COMP%]{margin:10px 0}"]})}}return t})();var rx=[{path:"match/:id",component:nx}];var ix={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var ox={providers:[zb(rx),Ds,Cp(CD(()=>bD(ix.firebaseConfig)),QA(()=>YA()))]};hC(qh,{providers:[...ox.providers,iC(),tx]}).catch(t=>console.error(t));
