var TA=Object.defineProperty,SA=Object.defineProperties;var AA=Object.getOwnPropertyDescriptors;var $_=Object.getOwnPropertySymbols;var xA=Object.prototype.hasOwnProperty,MA=Object.prototype.propertyIsEnumerable;var q_=(t,e,n)=>e in t?TA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||={})xA.call(e,n)&&q_(t,n,e[n]);if($_)for(var n of $_(e))MA.call(e,n)&&q_(t,n,e[n]);return t},X=(t,e)=>SA(t,AA(e));var y=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var H_=null;var Sh=1,Ah=Symbol("SIGNAL");function he(t){let e=H_;return H_=t,e}var z_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function RA(t){if(!(Rh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Sh)){if(!t.producerMustRecompute(t)&&!xh(t)){t.dirty=!1,t.lastCleanEpoch=Sh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Sh}}function G_(t){return t&&(t.nextProducerIndex=0),he(t)}function W_(t,e){if(he(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Rh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Mh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function xh(t){mc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(RA(n),r!==n.version))return!0}return!1}function K_(t){if(mc(t),Rh(t))for(let e=0;e<t.producerNode.length;e++)Mh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Mh(t,e){if(PA(t),mc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Mh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];mc(i),i.producerIndexOfThis[r]=e}}function Rh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function mc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function PA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function NA(){throw new Error}var OA=NA;function Q_(t){OA=t}function W(t){return typeof t=="function"}function ji(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var gc=ji(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(o){e=o instanceof gc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Y_(o)}catch(s){e=e??[],s instanceof gc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new gc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Y_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hr(n,e)}remove(e){let{_finalizers:n}=this;n&&Hr(n,e),e instanceof t&&e._removeParent(this)}};Ve.EMPTY=(()=>{let t=new Ve;return t.closed=!0,t})();var Ph=Ve.EMPTY;function vc(t){return t instanceof Ve||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function Y_(t){W(t)?t():t.unsubscribe()}var en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ui={setTimeout(t,e,...n){let{delegate:r}=Ui;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ui;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function yc(t){Ui.setTimeout(()=>{let{onUnhandledError:e}=en;if(e)e(t);else throw t})}function ps(){}var J_=Nh("C",void 0,void 0);function Z_(t){return Nh("E",void 0,t)}function X_(t){return Nh("N",t,void 0)}function Nh(t,e,n){return{kind:t,value:e,error:n}}var zr=null;function Bi(t){if(en.useDeprecatedSynchronousErrorHandling){let e=!zr;if(e&&(zr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=zr;if(zr=null,n)throw r}}else t()}function e0(t){en.useDeprecatedSynchronousErrorHandling&&zr&&(zr.errorThrown=!0,zr.error=t)}var Gr=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vc(e)&&e.add(this)):this.destination=VA}static create(e,n,r){return new $i(e,n,r)}next(e){this.isStopped?kh(X_(e),this):this._next(e)}error(e){this.isStopped?kh(Z_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kh(J_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kA=Function.prototype.bind;function Oh(t,e){return kA.call(t,e)}var Fh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_c(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_c(r)}else _c(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_c(n)}}},$i=class extends Gr{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&en.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Oh(e.next,o),error:e.error&&Oh(e.error,o),complete:e.complete&&Oh(e.complete,o)}):i=e}this.destination=new Fh(i)}};function _c(t){en.useDeprecatedSynchronousErrorHandling?e0(t):yc(t)}function FA(t){throw t}function kh(t,e){let{onStoppedNotification:n}=en;n&&Ui.setTimeout(()=>n(t,e))}var VA={closed:!0,next:ps,error:FA,complete:ps};var qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(t){return t}function Vh(...t){return Lh(t)}function Lh(t){return t.length===0?Tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=jA(n)?n:new $i(n,r,i);return Bi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=t0(r),new r((i,o)=>{let s=new $i({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qi](){return this}pipe(...n){return Lh(n)(this)}toPromise(n){return n=t0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function t0(t){var e;return(e=t??en.Promise)!==null&&e!==void 0?e:Promise}function LA(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function jA(t){return t&&t instanceof Gr||LA(t)&&vc(t)}function jh(t){return W(t?.lift)}function le(t){return e=>{if(jh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(t,e,n,r,i){return new Uh(t,e,n,r,i)}var Uh=class extends Gr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hi(){return le((t,e)=>{let n=null;t._refCount++;let r=ne(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var zi=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let n=this.getSubject();e.add(this.source.subscribe(ne(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return Hi()(this)}};var n0=ji(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new wc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new n0}next(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ph:(this.currentObservers=null,o.push(n),new Ve(()=>{this.currentObservers=null,Hr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new wc(e,n),t})(),wc=class extends ft{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ph}};var Xe=class extends ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Bh={now(){return(Bh.delegate||Date).now()},delegate:void 0};var Ic=class extends Ve{constructor(e,n){super()}schedule(e,n=0){return this}};var ms={setInterval(t,e,...n){let{delegate:r}=ms;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ms;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Gi=class extends Ic{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ms.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ms.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Wi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Wi.now=Bh.now;var Ki=class extends Wi{constructor(e,n=Wi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var $h=new Ki(Gi);var Ec=class extends Gi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Cc=class extends Ki{};var qh=new Cc(Ec);var St=new ue(t=>t.complete());function r0(t){return t&&W(t.schedule)}function i0(t){return t[t.length-1]}function bc(t){return W(i0(t))?t.pop():void 0}function lr(t){return r0(i0(t))?t.pop():void 0}function Hh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function s0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function o0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wr(t){return this instanceof Wr?(this.v=t,this):new Wr(t)}function a0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(w){return Promise.resolve(w).then(v,d)}}function a(v,w){r[v]&&(i[v]=function(C){return new Promise(function(T,N){o.push([v,C,T,N])>1||c(v,C)})},w&&(i[v]=w(i[v])))}function c(v,w){try{u(r[v](w))}catch(C){p(o[0][3],C)}}function u(v){v.value instanceof Wr?Promise.resolve(v.value.v).then(l,d):p(o[0][2],v)}function l(v){c("next",v)}function d(v){c("throw",v)}function p(v,w){v(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function c0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof o0=="function"?o0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Dc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Tc(t){return W(t?.then)}function Sc(t){return W(t[qi])}function Ac(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function xc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Mc=UA();function Rc(t){return W(t?.[Mc])}function Pc(t){return a0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Wr(n.read());if(i)return yield Wr(void 0);yield yield Wr(r)}}finally{n.releaseLock()}})}function Nc(t){return W(t?.getReader)}function Ue(t){if(t instanceof ue)return t;if(t!=null){if(Sc(t))return BA(t);if(Dc(t))return $A(t);if(Tc(t))return qA(t);if(Ac(t))return u0(t);if(Rc(t))return HA(t);if(Nc(t))return zA(t)}throw xc(t)}function BA(t){return new ue(e=>{let n=t[qi]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $A(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function qA(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,yc)})}function HA(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function u0(t){return new ue(e=>{GA(t,e).catch(n=>e.error(n))})}function zA(t){return u0(Pc(t))}function GA(t,e){var n,r,i,o;return s0(this,void 0,void 0,function*(){try{for(n=c0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function wt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function dr(t,e=0){return le((n,r)=>{n.subscribe(ne(r,i=>wt(r,t,()=>r.next(i),e),()=>wt(r,t,()=>r.complete(),e),i=>wt(r,t,()=>r.error(i),e)))})}function hr(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function l0(t,e){return Ue(t).pipe(hr(e),dr(e))}function d0(t,e){return Ue(t).pipe(hr(e),dr(e))}function h0(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function f0(t,e){return new ue(n=>{let r;return wt(n,e,()=>{r=t[Mc](),wt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function Oc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{wt(n,e,()=>{let r=t[Symbol.asyncIterator]();wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function p0(t,e){return Oc(Pc(t),e)}function m0(t,e){if(t!=null){if(Sc(t))return l0(t,e);if(Dc(t))return h0(t,e);if(Tc(t))return d0(t,e);if(Ac(t))return Oc(t,e);if(Rc(t))return f0(t,e);if(Nc(t))return p0(t,e)}throw xc(t)}function Re(t,e){return e?m0(t,e):Ue(t)}function H(...t){let e=lr(t);return Re(t,e)}function Qi(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function zh(t){return!!t&&(t instanceof ue||W(t.lift)&&W(t.subscribe))}var Bn=ji(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return le((n,r)=>{let i=0;n.subscribe(ne(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:WA}=Array;function KA(t,e){return WA(e)?t(...e):t(e)}function kc(t){return re(e=>KA(t,e))}var{isArray:QA}=Array,{getPrototypeOf:YA,prototype:JA,keys:ZA}=Object;function Fc(t){if(t.length===1){let e=t[0];if(QA(e))return{args:e,keys:null};if(XA(e)){let n=ZA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function XA(t){return t&&typeof t=="object"&&YA(t)===JA}function Vc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function gs(...t){let e=lr(t),n=bc(t),{args:r,keys:i}=Fc(t);if(r.length===0)return Re([],e);let o=new ue(ex(r,e,i?s=>Vc(i,s):Tt));return n?o.pipe(kc(n)):o}function ex(t,e,n=Tt){return r=>{g0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)g0(e,()=>{let u=Re(t[c],e),l=!1;u.subscribe(ne(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function g0(t,e,n){t?wt(n,t,e):e()}function v0(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,p=()=>{d&&!c.length&&!u&&e.complete()},v=C=>u<r?w(C):c.push(C),w=C=>{o&&e.next(C),u++;let T=!1;Ue(n(C,l++)).subscribe(ne(e,N=>{i?.(N),o?v(N):e.next(N)},()=>{T=!0},void 0,()=>{if(T)try{for(u--;c.length&&u<r;){let N=c.shift();s?wt(e,s,()=>w(N)):w(N)}p()}catch(N){e.error(N)}}))};return t.subscribe(ne(e,v,()=>{d=!0,p()})),()=>{a?.()}}function Be(t,e,n=1/0){return W(e)?Be((r,i)=>re((o,s)=>e(r,o,i,s))(Ue(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>v0(r,i,t,n)))}function Yi(t=1/0){return Be(Tt,t)}function y0(){return Yi(1)}function Ji(...t){return y0()(Re(t,lr(t)))}function Lc(t){return new ue(e=>{Ue(t()).subscribe(e)})}function Gh(...t){let e=bc(t),{args:n,keys:r}=Fc(t),i=new ue(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Ue(n[l]).subscribe(ne(o,p=>{d||(d=!0,u--),a[l]=p},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?Vc(r,a):a),o.complete())}))}});return e?i.pipe(kc(e)):i}function Vt(t,e){return le((n,r)=>{let i=0;n.subscribe(ne(r,o=>t.call(e,o,i++)&&r.next(o)))})}function fr(t){return le((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ne(n,void 0,void 0,s=>{o=Ue(t(s,fr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function _0(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(ne(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Kr(t,e){return W(e)?Be(t,e,1):Be(t,1)}function pr(t){return le((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function $n(t){return t<=0?()=>St:le((e,n)=>{let r=0;e.subscribe(ne(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Wh(t){return re(()=>t)}function jc(t=tx){return le((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tx(){return new Bn}function vs(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function gn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,o)=>t(i,o,r)):Tt,$n(1),n?pr(e):jc(()=>new Bn))}function Zi(t){return t<=0?()=>St:le((e,n)=>{let r=[];e.subscribe(ne(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Kh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,o)=>t(i,o,r)):Tt,Zi(1),n?pr(e):jc(()=>new Bn))}function Qh(t,e){return le(_0(t,e,arguments.length>=2,!0))}function Yh(...t){let e=lr(t);return le((n,r)=>{(e?Ji(t,n,e):Ji(t,n)).subscribe(r)})}function Lt(t,e){return le((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ne(r,c=>{i?.unsubscribe();let u=0,l=o++;Ue(t(c,l)).subscribe(i=ne(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Jh(t){return le((e,n)=>{Ue(t).subscribe(ne(n,()=>n.complete(),ps)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ne(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Tt}var nx="https://g.co/ng/security#xss",F=class extends Error{constructor(e,n){super(np(e,n)),this.code=e}};function np(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ms(t){return{toString:t}.toString()}var Uc="__parameters__";function rx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function rw(t,e,n){return Ms(()=>{let r=rx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Uc)?c[Uc]:Object.defineProperty(c,Uc,{value:[]})[Uc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var qn=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function ix(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function w0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var ox=Ce({__forward_ref__:Ce});function gt(t){return t.__forward_ref__=gt,t.toString=function(){return mt(this())},t}function pt(t){return iw(t)?t():t}function iw(t){return typeof t=="function"&&t.hasOwnProperty(ox)&&t.__forward_ref__===gt}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function At(t){return{providers:t.providers||[],imports:t.imports||[]}}function mu(t){return I0(t,sw)||I0(t,aw)}function ow(t){return mu(t)!==null}function I0(t,e){return t.hasOwnProperty(e)?t[e]:null}function sx(t){let e=t&&(t[sw]||t[aw]);return e||null}function E0(t){return t&&(t.hasOwnProperty(C0)||t.hasOwnProperty(ax))?t[C0]:null}var sw=Ce({\u0275prov:Ce}),C0=Ce({\u0275inj:Ce}),aw=Ce({ngInjectableDef:Ce}),ax=Ce({ngInjectorDef:Ce}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cw(t){return t&&!!t.\u0275providers}var cx=Ce({\u0275cmp:Ce}),ux=Ce({\u0275dir:Ce}),lx=Ce({\u0275pipe:Ce}),dx=Ce({\u0275mod:Ce}),Kc=Ce({\u0275fac:Ce}),ys=Ce({__NG_ELEMENT_ID__:Ce}),b0=Ce({__NG_ENV_ID__:Ce});function _s(t){return typeof t=="string"?t:t==null?"":String(t)}function hx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_s(t)}function fx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new F(-200,t)}function rp(t,e){throw new F(-201,!1)}var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),mf;function uw(){return mf}function It(t){let e=mf;return mf=t,e}function lw(t,e,n){let r=mu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(e!==void 0)return e;rp(t,"Injector")}var px={},ws=px,gf="__NG_DI_FLAG__",Qc="ngTempTokenPath",mx="ngTokenPath",gx=/\n/gm,vx="\u0275",D0="__source",ro;function yx(){return ro}function mr(t){let e=ro;return ro=t,e}function _x(t,e=ee.Default){if(ro===void 0)throw new F(-203,!1);return ro===null?lw(t,void 0,e):ro.get(t,e&ee.Optional?null:void 0,e)}function B(t,e=ee.Default){return(uw()||_x)(pt(t),e)}function M(t,e=ee.Default){return B(t,gu(e))}function gu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vf(t){let e=[];for(let n=0;n<t.length;n++){let r=pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=ee.Default;for(let s=0;s<r.length;s++){let a=r[s],c=wx(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(B(i,o))}else e.push(B(r))}return e}function dw(t,e){return t[gf]=e,t.prototype[gf]=e,t}function wx(t){return t[gf]}function Ix(t,e,n,r){let i=t[Qc];throw e[D0]&&i.unshift(e[D0]),t.message=Ex(`
`+t.message,i,n,r),t[mx]=i,t[Qc]=null,t}function Ex(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==vx?t.slice(2):t;let i=mt(e);if(Array.isArray(e))i=e.map(mt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):mt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gx,`
  `)}`}var $t=dw(rw("Optional"),8);var ip=dw(rw("SkipSelf"),4);function Zr(t,e){let n=t.hasOwnProperty(Kc);return n?t[Kc]:null}function op(t,e){t.forEach(n=>Array.isArray(n)?op(n,e):e(n))}function hw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Cx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function bx(t,e,n){let r=Rs(t,e);return r>=0?t[r|1]=n:(r=~r,Cx(t,r,e,n)),r}function Zh(t,e){let n=Rs(t,e);if(n>=0)return t[n|1]}function Rs(t,e){return Dx(t,e,1)}function Dx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var oo={},jt=[],so=new U(""),fw=new U("",-1),pw=new U(""),Jc=class{get(e,n=ws){if(n===ws){let r=new Error(`NullInjectorError: No provider for ${mt(e)}!`);throw r.name="NullInjectorError",r}return n}},mw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(mw||{}),_n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_n||{}),tt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(tt||{});function Tx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function yf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Ax(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Sx(t){return t===3||t===4||t===6}function Ax(t){return t.charCodeAt(0)===64}function Is(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?T0(t,n,i,null,e[++r]):T0(t,n,i,null,null))}}return t}function T0(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var gw="ng-template";function xx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Tx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(sp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function sp(t){return t.type===4&&t.value!==gw}function Mx(t,e,n){let r=t.type===4&&!n?gw:t.value;return e===r}function Rx(t,e,n){let r=4,i=t.attrs,o=i!==null?Ox(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!tn(r)&&!tn(c))return!1;if(s&&tn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Mx(t,c,n)||c===""&&e.length===1){if(tn(r))return!1;s=!0}}else if(r&8){if(i===null||!xx(t,i,c,n)){if(tn(r))return!1;s=!0}}else{let u=e[++a],l=Px(c,i,sp(t),n);if(l===-1){if(tn(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(tn(r))return!1;s=!0}}}}return tn(r)||s}function tn(t){return(t&1)===0}function Px(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kx(e,t)}function Nx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Rx(t,e[r],n))return!0;return!1}function Ox(t){for(let e=0;e<t.length;e++){let n=t[e];if(Sx(n))return e}return t.length}function kx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function S0(t,e){return t?":not("+e.trim()+")":e}function Fx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tn(s)&&(e+=S0(o,i),i=""),r=s,o=o||!tn(r);n++}return i!==""&&(e+=S0(o,i)),e}function Vx(t){return t.map(Fx).join(",")}function Lx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!tn(i))break;i=o}r++}return{attrs:e,classes:n}}function mo(t){return Ms(()=>{let e=Ew(t),n=X(x({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===mw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_n.Emulated,styles:t.styles||jt,_:null,schemas:t.schemas||null,tView:null,id:""});Cw(n);let r=t.dependencies;return n.directiveDefs=x0(r,!1),n.pipeDefs=x0(r,!0),n.id=Bx(n),n})}function jx(t){return vr(t)||yw(t)}function Ux(t){return t!==null}function xt(t){return Ms(()=>({type:t.type,bootstrap:t.bootstrap||jt,declarations:t.declarations||jt,imports:t.imports||jt,exports:t.exports||jt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function A0(t,e){if(t==null)return oo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=tt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==tt.None?[r,a]:r,e[o]=s):n[o]=r}return n}function be(t){return Ms(()=>{let e=Ew(t);return Cw(e),e})}function vw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function vr(t){return t[cx]||null}function yw(t){return t[ux]||null}function _w(t){return t[lx]||null}function ww(t){let e=vr(t)||yw(t)||_w(t);return e!==null?e.standalone:!1}function Iw(t,e){let n=t[dx]||null;if(!n&&e===!0)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return n}function Ew(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||oo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||jt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:A0(t.inputs,e),outputs:A0(t.outputs),debugInfo:null}}function Cw(t){t.features?.forEach(e=>e(t))}function x0(t,e){if(!t)return null;let n=e?_w:jx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Ux)}function Bx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vu(t){return{\u0275providers:t}}function ap(...t){return{\u0275providers:bw(!0,t),\u0275fromNgModule:!0}}function bw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return op(e,s=>{let a=s;_f(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Dw(i,o),n}function Dw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];cp(i,o=>{e(o,r)})}}function _f(t,e,n,r){if(t=pt(t),!t)return!1;let i=null,o=E0(t),s=!o&&vr(t);if(!o&&!s){let c=t.ngModule;if(o=E0(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)_f(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{op(o.imports,l=>{_f(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Dw(u,e)}if(!a){let u=Zr(i)||(()=>new i);e({provide:i,useFactory:u,deps:jt},i),e({provide:pw,useValue:i,multi:!0},i),e({provide:so,useValue:()=>B(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;cp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function cp(t,e){for(let n of t)cw(n)&&(n=n.\u0275providers),Array.isArray(n)?cp(n,e):e(n)}var $x=Ce({provide:String,useValue:Ce});function Tw(t){return t!==null&&typeof t=="object"&&$x in t}function qx(t){return!!(t&&t.useExisting)}function Hx(t){return!!(t&&t.useFactory)}function ao(t){return typeof t=="function"}function zx(t){return!!t.useClass}var yu=new U(""),qc={},Gx={},Xh;function up(){return Xh===void 0&&(Xh=new Jc),Xh}var Et=class{},Es=class extends Et{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,If(e,s=>this.processProvider(s)),this.records.set(fw,Xi(void 0,this)),i.has("environment")&&this.records.set(Et,Xi(void 0,this));let o=this.records.get(yu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pw,jt,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=mr(this),r=It(void 0),i;try{return e()}finally{mr(n),It(r)}}get(e,n=ws,r=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(b0))return e[b0](this);r=gu(r);let i,o=mr(this),s=It(void 0);try{if(!(r&ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=Jx(e)&&mu(e);u&&this.injectableDefInScope(u)?c=Xi(wf(e),qc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ee.Self?up():this.parent;return n=r&ee.Optional&&n===ws?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Qc]=a[Qc]||[]).unshift(mt(e)),o)throw a;return Ix(a,e,"R3InjectorError",this.source)}else throw a}finally{It(s),mr(o)}}resolveInjectorInitializers(){let e=he(null),n=mr(this),r=It(void 0),i;try{let o=this.get(so,jt,ee.Self);for(let s of o)s()}finally{mr(n),It(r),he(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){e=pt(e);let n=ao(e)?e:pt(e&&e.provide),r=Kx(e);if(!ao(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Xi(void 0,qc,!0),i.factory=()=>vf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=he(null);try{return n.value===qc&&(n.value=Gx,n.value=n.factory()),typeof n.value=="object"&&n.value&&Yx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function wf(t){let e=mu(t),n=e!==null?e.factory:Zr(t);if(n!==null)return n;if(t instanceof U)throw new F(204,!1);if(t instanceof Function)return Wx(t);throw new F(204,!1)}function Wx(t){if(t.length>0)throw new F(204,!1);let n=sx(t);return n!==null?()=>n.factory(t):()=>new t}function Kx(t){if(Tw(t))return Xi(void 0,t.useValue);{let e=Sw(t);return Xi(e,qc)}}function Sw(t,e,n){let r;if(ao(t)){let i=pt(t);return Zr(i)||wf(i)}else if(Tw(t))r=()=>pt(t.useValue);else if(Hx(t))r=()=>t.useFactory(...vf(t.deps||[]));else if(qx(t))r=()=>B(pt(t.useExisting));else{let i=pt(t&&(t.useClass||t.provide));if(Qx(t))r=()=>new i(...vf(t.deps));else return Zr(i)||wf(i)}return r}function Xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Qx(t){return!!t.deps}function Yx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Jx(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function If(t,e){for(let n of t)Array.isArray(n)?If(n,e):n&&cw(n)?If(n.\u0275providers,e):e(n)}function Gn(t,e){t instanceof Es&&t.assertNotDestroyed();let n,r=mr(t),i=It(void 0);try{return e()}finally{mr(r),It(i)}}function Aw(){return uw()!==void 0||yx()!=null}function Zx(t){if(!Aw())throw new F(-203,!1)}function Xx(t){return typeof t=="function"}var Wn=0,ie=1,z=2,ct=3,nn=4,on=5,Zc=6,Cs=7,rn=8,co=9,wn=10,Le=11,bs=12,M0=13,go=14,In=15,_u=16,eo=17,uo=18,wu=19,xw=20,gr=21,ef=22,Xr=23,Bt=25,Mw=1;var ei=7,Xc=8,eu=9,Ut=10,lp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(lp||{});function Yr(t){return Array.isArray(t)&&typeof t[Mw]=="object"}function Kn(t){return Array.isArray(t)&&t[Mw]===!0}function dp(t){return(t.flags&4)!==0}function Iu(t){return t.componentOffset>-1}function Eu(t){return(t.flags&1)===1}function yr(t){return!!t.template}function eM(t){return(t[z]&512)!==0}var Ef=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Rw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Qn(){return Pw}function Pw(t){return t.type.prototype.ngOnChanges&&(t.setInput=nM),tM}Qn.ngInherit=!0;function tM(){let t=Ow(this),e=t?.current;if(e){let n=t.previous;if(n===oo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nM(t,e,n,r,i){let o=this.declaredInputs[r],s=Ow(t)||rM(t,{previous:oo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Ef(u&&u.currentValue,n,c===oo),Rw(t,e,i,n)}var Nw="__ngSimpleChanges__";function Ow(t){return t[Nw]||null}function rM(t,e){return t[Nw]=e}var R0=null;var vn=function(t,e,n){R0?.(t,e,n)},iM="svg",oM="math",sM=!1;function aM(){return sM}function En(t){for(;Array.isArray(t);)t=t[Wn];return t}function kw(t,e){return En(e[t])}function qt(t,e){return En(e[t.index])}function Fw(t,e){return t.data[e]}function Vw(t,e){return t[e]}function Ir(t,e){let n=e[t];return Yr(n)?n:n[Wn]}function hp(t){return(t[z]&128)===128}function cM(t){return Kn(t[ct])}function lo(t,e){return e==null?null:t[e]}function Lw(t){t[eo]=0}function uM(t){t[z]&1024||(t[z]|=1024,hp(t)&&Ds(t))}function lM(t,e){for(;t>0;)e=e[go],t--;return e}function fp(t){return!!(t[z]&9216||t[Xr]?.dirty)}function Cf(t){t[wn].changeDetectionScheduler?.notify(1),fp(t)?Ds(t):t[z]&64&&(aM()?(t[z]|=1024,Ds(t)):t[wn].changeDetectionScheduler?.notify())}function Ds(t){t[wn].changeDetectionScheduler?.notify();let e=Ts(t);for(;e!==null&&!(e[z]&8192||(e[z]|=8192,!hp(e)));)e=Ts(e)}function jw(t,e){if((t[z]&256)===256)throw new F(911,!1);t[gr]===null&&(t[gr]=[]),t[gr].push(e)}function dM(t,e){if(t[gr]===null)return;let n=t[gr].indexOf(e);n!==-1&&t[gr].splice(n,1)}function Ts(t){let e=t[ct];return Kn(e)?e[ct]:e}var Z={lFrame:Ww(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hM(){return Z.lFrame.elementDepthCount}function fM(){Z.lFrame.elementDepthCount++}function pM(){Z.lFrame.elementDepthCount--}function Uw(){return Z.bindingsEnabled}function mM(){return Z.skipHydrationRootTNode!==null}function gM(t){return Z.skipHydrationRootTNode===t}function vM(){Z.skipHydrationRootTNode=null}function fe(){return Z.lFrame.lView}function nt(){return Z.lFrame.tView}function S(t){return Z.lFrame.contextLView=t,t[rn]}function A(t){return Z.lFrame.contextLView=null,t}function Ct(){let t=Bw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Bw(){return Z.lFrame.currentTNode}function yM(){let t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function si(t,e){let n=Z.lFrame;n.currentTNode=t,n.isParent=e}function pp(){return Z.lFrame.isParent}function $w(){Z.lFrame.isParent=!1}function _M(){return Z.lFrame.contextLView}function mp(){let t=Z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wM(){return Z.lFrame.bindingIndex}function IM(t){return Z.lFrame.bindingIndex=t}function Cu(){return Z.lFrame.bindingIndex++}function qw(t){let e=Z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function EM(){return Z.lFrame.inI18n}function CM(t,e){let n=Z.lFrame;n.bindingIndex=n.bindingRootIndex=t,bf(e)}function bM(){return Z.lFrame.currentDirectiveIndex}function bf(t){Z.lFrame.currentDirectiveIndex=t}function DM(t){let e=Z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Hw(t){Z.lFrame.currentQueryIndex=t}function TM(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[on]:null}function zw(t,e,n){if(n&ee.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=TM(o),i===null||(o=o[go],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Z.lFrame=Gw();return r.currentTNode=e,r.lView=t,!0}function gp(t){let e=Gw(),n=t[ie];Z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Gw(){let t=Z.lFrame,e=t===null?null:t.child;return e===null?Ww(t):e}function Ww(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Kw(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Qw=Kw;function vp(){let t=Kw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function SM(t){return(Z.lFrame.contextLView=lM(t,Z.lFrame.contextLView))[rn]}function ai(){return Z.lFrame.selectedIndex}function ti(t){Z.lFrame.selectedIndex=t}function bu(){let t=Z.lFrame;return Fw(t.tView,t.selectedIndex)}function AM(){return Z.lFrame.currentNamespace}var Yw=!0;function Du(){return Yw}function Tu(t){Yw=t}function xM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Pw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Su(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Hc(t,e,n){Jw(t,e,3,n)}function zc(t,e,n,r){(t[z]&3)===n&&Jw(t,e,n,r)}function tf(t,e){let n=t[z];(n&3)===e&&(n&=16383,n+=1,t[z]=n)}function Jw(t,e,n,r){let i=r!==void 0?t[eo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[eo]+=65536),(a<o||o==-1)&&(MM(t,n,e,c),t[eo]=(t[eo]&4294901760)+c+2),c++}function P0(t,e){vn(4,t,e);let n=he(null);try{e.call(t)}finally{he(n),vn(5,t,e)}}function MM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[z]>>14<t[eo]>>16&&(t[z]&3)===e&&(t[z]+=16384,P0(a,o)):P0(a,o)}var io=-1,ni=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function RM(t){return t instanceof ni}function PM(t){return(t.flags&8)!==0}function NM(t){return(t.flags&16)!==0}function Zw(t){return t!==io}function tu(t){return t&32767}function OM(t){return t>>16}function nu(t,e){let n=OM(t),r=e;for(;n>0;)r=r[go],n--;return r}var Df=!0;function ru(t){let e=Df;return Df=t,e}var kM=256,Xw=kM-1,eI=5,FM=0,yn={};function VM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ys)&&(r=n[ys]),r==null&&(r=n[ys]=FM++);let i=r&Xw,o=1<<i;e.data[t+(i>>eI)]|=o}function iu(t,e){let n=tI(t,e);if(n!==-1)return n;let r=e[ie];r.firstCreatePass&&(t.injectorIndex=e.length,nf(r.data,t),nf(e,null),nf(r.blueprint,null));let i=yp(t,e),o=t.injectorIndex;if(Zw(i)){let s=tu(i),a=nu(i,e),c=a[ie].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function nf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function yp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=sI(i),r===null)return io;if(n++,i=i[go],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return io}function Tf(t,e,n){VM(t,e,n)}function nI(t,e,n){if(n&ee.Optional||t!==void 0)return t;rp(e,"NodeInjector")}function rI(t,e,n,r){if(n&ee.Optional&&r===void 0&&(r=null),!(n&(ee.Self|ee.Host))){let i=t[co],o=It(void 0);try{return i?i.get(e,r,n&ee.Optional):lw(e,r,n&ee.Optional)}finally{It(o)}}return nI(r,e,n)}function iI(t,e,n,r=ee.Default,i){if(t!==null){if(e[z]&2048&&!(r&ee.Self)){let s=$M(t,e,n,r,yn);if(s!==yn)return s}let o=oI(t,e,n,r,yn);if(o!==yn)return o}return rI(e,n,r,i)}function oI(t,e,n,r,i){let o=UM(n);if(typeof o=="function"){if(!zw(e,t,r))return r&ee.Host?nI(i,n,r):rI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ee.Optional))rp(n);else return s}finally{Qw()}}else if(typeof o=="number"){let s=null,a=tI(t,e),c=io,u=r&ee.Host?e[In][on]:null;for((a===-1||r&ee.SkipSelf)&&(c=a===-1?yp(t,e):e[a+8],c===io||!O0(r,!1)?a=-1:(s=e[ie],a=tu(c),e=nu(c,e)));a!==-1;){let l=e[ie];if(N0(o,a,l.data)){let d=LM(a,e,n,s,r,u);if(d!==yn)return d}c=e[a+8],c!==io&&O0(r,e[ie].data[a+8]===u)&&N0(o,a,e)?(s=l,a=tu(c),e=nu(c,e)):a=-1}}return i}function LM(t,e,n,r,i,o){let s=e[ie],a=s.data[t+8],c=r==null?Iu(a)&&Df:r!=s&&(a.type&3)!==0,u=i&ee.Host&&o===a,l=jM(a,s,n,c,u);return l!==null?ho(e,s,l,a):yn}function jM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,p=i?a+l:u;for(let v=d;v<p;v++){let w=s[v];if(v<c&&n===w||v>=c&&w.type===n)return v}if(i){let v=s[c];if(v&&yr(v)&&v.type===n)return c}return null}function ho(t,e,n,r){let i=t[n],o=e.data;if(RM(i)){let s=i;s.resolving&&fx(hx(o[n]));let a=ru(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?It(s.injectImpl):null,l=zw(t,r,ee.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&xM(n,o[n],e)}finally{u!==null&&It(u),ru(a),s.resolving=!1,Qw()}}return i}function UM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ys)?t[ys]:void 0;return typeof e=="number"?e>=0?e&Xw:BM:e}function N0(t,e,n){let r=1<<t;return!!(n[e+(t>>eI)]&r)}function O0(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var Jr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iI(this._tNode,this._lView,e,gu(r),n)}};function BM(){return new Jr(Ct(),fe())}function Ht(t){return Ms(()=>{let e=t.prototype.constructor,n=e[Kc]||Sf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Kc]||Sf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sf(t){return iw(t)?()=>{let e=Sf(pt(t));return e&&e()}:Zr(t)}function $M(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[z]&2048&&!(s[z]&512);){let a=oI(o,s,n,r|ee.Self,yn);if(a!==yn)return a;let c=o.parent;if(!c){let u=s[xw];if(u){let l=u.get(n,yn,r);if(l!==yn)return l}c=sI(s),s=s[go]}o=c}return i}function sI(t){let e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[on]:null}function k0(t,e=null,n=null,r){let i=aI(t,e,n,r);return i.resolveInjectorInitializers(),i}function aI(t,e=null,n=null,r,i=new Set){let o=[n||jt,ap(t)];return r=r||(typeof t=="object"?void 0:mt(t)),new Es(o,e||up(),r||null,i)}var bt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=ws}static{this.NULL=new Jc}static create(n,r){if(Array.isArray(n))return k0({name:""},r,n,"");{let i=n.name??"";return k0({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=V({token:t,providedIn:"any",factory:()=>B(fw)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var qM="ngOriginalError";function rf(t){return t[qM]}var Cn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&rf(e);for(;n&&rf(n);)n=rf(n);return n||null}},cI=new U("",{providedIn:"root",factory:()=>M(Cn).handleError.bind(void 0)}),_p=(()=>{class t{static{this.__NG_ELEMENT_ID__=HM}static{this.__NG_ENV_ID__=n=>n}}return t})(),Af=class extends _p{constructor(e){super(),this._lView=e}onDestroy(e){return jw(this._lView,e),()=>dM(this._lView,e)}};function HM(){return new Af(fe())}function zM(){return Au(Ct(),fe())}function Au(t,e){return new sn(qt(t,e))}var sn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=zM}}return t})();var xf=class extends ft{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Aw()&&(this.destroyRef=M(_p,{optional:!0})??void 0)}emit(e){let n=he(null);try{super.next(e)}finally{he(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=of(o),i&&(i=of(i)),s&&(s=of(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}};function of(t){return e=>{setTimeout(t,void 0,e)}}var et=xf;function uI(t){return(t.flags&128)===128}var lI=new Map,GM=0;function WM(){return GM++}function KM(t){lI.set(t[wu],t)}function QM(t){lI.delete(t[wu])}var F0="__ngContext__";function _r(t,e){Yr(e)?(t[F0]=e[wu],KM(e)):t[F0]=e}function dI(t){return fI(t[bs])}function hI(t){return fI(t[nn])}function fI(t){for(;t!==null&&!Kn(t);)t=t[nn];return t}var Mf;function pI(t){Mf=t}function YM(){if(Mf!==void 0)return Mf;if(typeof document<"u")return document;throw new F(210,!1)}var wp=new U("",{providedIn:"root",factory:()=>JM}),JM="ng",Ip=new U(""),bn=new U("",{providedIn:"platform",factory:()=>"unknown"});var Ep=new U("",{providedIn:"root",factory:()=>YM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZM="h",XM="b";var e1=()=>null;function Cp(t,e,n=!1){return e1(t,e,n)}var mI=!1,t1=new U("",{providedIn:"root",factory:()=>mI});var Rf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nx})`}};function bp(t){return t instanceof Rf?t.changingThisBreaksApplicationSecurity:t}var n1=/^>|^->|<!--|-->|--!>|<!-$/g,r1=/(<|>)/g,i1="\u200B$1\u200B";function o1(t){return t.replace(n1,e=>e.replace(r1,i1))}function gI(t){return t instanceof Function?t():t}function s1(t){return(t??M(bt)).get(bn)==="browser"}var Hn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hn||{}),a1;function Dp(t,e){return a1(t,e)}function to(t,e,n,r,i){if(r!=null){let o,s=!1;Kn(r)?o=r:Yr(r)&&(s=!0,r=r[Wn]);let a=En(r);t===0&&n!==null?i==null?II(e,n,a):ou(e,n,a,i||null,!0):t===1&&n!==null?ou(e,n,a,i||null,!0):t===2?D1(e,a,s):t===3&&e.destroyNode(a),o!=null&&S1(e,t,o,n,i)}}function c1(t,e){return t.createText(e)}function u1(t,e,n){t.setValue(e,n)}function l1(t,e){return t.createComment(o1(e))}function vI(t,e,n){return t.createElement(e,n)}function d1(t,e){yI(t,e),e[Wn]=null,e[on]=null}function h1(t,e,n,r,i,o){r[Wn]=i,r[on]=e,Mu(t,r,n,1,i,o)}function yI(t,e){e[wn].changeDetectionScheduler?.notify(1),Mu(t,e,e[Le],2,null,null)}function f1(t){let e=t[bs];if(!e)return sf(t[ie],t);for(;e;){let n=null;if(Yr(e))n=e[bs];else{let r=e[Ut];r&&(n=r)}if(!n){for(;e&&!e[nn]&&e!==t;)Yr(e)&&sf(e[ie],e),e=e[ct];e===null&&(e=t),Yr(e)&&sf(e[ie],e),n=e&&e[nn]}e=n}}function p1(t,e,n,r){let i=Ut+r,o=n.length;r>0&&(n[i-1][nn]=e),r<o-Ut?(e[nn]=n[i],hw(n,Ut+r,e)):(n.push(e),e[nn]=null),e[ct]=n;let s=e[_u];s!==null&&n!==s&&m1(s,e);let a=e[uo];a!==null&&a.insertView(t),Cf(e),e[z]|=128}function m1(t,e){let n=t[eu],i=e[ct][ct][In];e[In]!==i&&(t[z]|=lp.HasTransplantedViews),n===null?t[eu]=[e]:n.push(e)}function _I(t,e){let n=t[eu],r=n.indexOf(e);n.splice(r,1)}function Pf(t,e){if(t.length<=Ut)return;let n=Ut+e,r=t[n];if(r){let i=r[_u];i!==null&&i!==t&&_I(i,r),e>0&&(t[n-1][nn]=r[nn]);let o=Yc(t,Ut+e);d1(r[ie],r);let s=o[uo];s!==null&&s.detachView(o[ie]),r[ct]=null,r[nn]=null,r[z]&=-129}return r}function wI(t,e){if(!(e[z]&256)){let n=e[Le];n.destroyNode&&Mu(t,e,n,3,null,null),f1(e)}}function sf(t,e){if(e[z]&256)return;let n=he(null);try{e[z]&=-129,e[z]|=256,e[Xr]&&K_(e[Xr]),v1(t,e),g1(t,e),e[ie].type===1&&e[Le].destroy();let r=e[_u];if(r!==null&&Kn(e[ct])){r!==e[ct]&&_I(r,e);let i=e[uo];i!==null&&i.detachView(t)}QM(e)}finally{he(n)}}function g1(t,e){let n=t.cleanup,r=e[Cs];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Cs]=null);let i=e[gr];if(i!==null){e[gr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function v1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ni)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];vn(4,a,c);try{c.call(a)}finally{vn(5,a,c)}}else{vn(4,i,o);try{o.call(i)}finally{vn(5,i,o)}}}}}function y1(t,e,n){return _1(t,e.parent,n)}function _1(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===_n.None||o===_n.Emulated)return null}return qt(r,n)}}function ou(t,e,n,r,i){t.insertBefore(e,n,r,i)}function II(t,e,n){t.appendChild(e,n)}function V0(t,e,n,r,i){r!==null?ou(t,e,n,r,i):II(t,e,n)}function w1(t,e,n,r){t.removeChild(e,n,r)}function Tp(t,e){return t.parentNode(e)}function I1(t,e){return t.nextSibling(e)}function E1(t,e,n){return b1(t,e,n)}function C1(t,e,n){return t.type&40?qt(t,n):null}var b1=C1,L0;function xu(t,e,n,r){let i=y1(t,r,e),o=e[Le],s=r.parent||e[on],a=E1(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)V0(o,i,n[c],a,!1);else V0(o,i,n,a,!1);L0!==void 0&&L0(o,r,e,n,i)}function Gc(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return Nf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Gc(t,r);{let i=t[e.index];return Kn(i)?Nf(-1,i):En(i)}}else{if(n&32)return Dp(e,t)()||En(t[e.index]);{let r=EI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ts(t[In]);return Gc(i,r)}else return Gc(t,e.next)}}}return null}function EI(t,e){if(e!==null){let r=t[In][on],i=e.projection;return r.projection[i]}return null}function Nf(t,e){let n=Ut+t+1;if(n<e.length){let r=e[n],i=r[ie].firstChild;if(i!==null)return Gc(r,i)}return e[ei]}function D1(t,e,n){let r=Tp(t,e);r&&w1(t,r,e,n)}function Sp(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&_r(En(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Sp(t,e,n.child,r,i,o,!1),to(e,t,i,a,o);else if(c&32){let u=Dp(n,r),l;for(;l=u();)to(e,t,i,l,o);to(e,t,i,a,o)}else c&16?T1(t,e,r,n,i,o):to(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Mu(t,e,n,r,i,o){Sp(n,r,t.firstChild,e,i,o,!1)}function T1(t,e,n,r,i,o){let s=n[In],c=s[on].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];to(e,t,i,l,o)}else{let u=c,l=s[ct];uI(r)&&(u.flags|=128),Sp(t,e,u,l,i,o,!0)}}function S1(t,e,n,r,i){let o=n[ei],s=En(n);o!==s&&to(e,t,r,o,i);for(let a=Ut;a<n.length;a++){let c=n[a];Mu(c[ie],c,t,e,r,o)}}function A1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Hn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Hn.Important),t.setStyle(n,r,i,o))}}function x1(t,e,n){t.setAttribute(e,"style",n)}function CI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function bI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&yf(t,e,r),i!==null&&CI(t,e,i),o!==null&&x1(t,e,o)}var an={};function g(t=1){DI(nt(),fe(),ai()+t,!1)}function DI(t,e,n,r){if(!r)if((e[z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Hc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&zc(e,o,0,n)}ti(n)}function L(t,e=ee.Default){let n=fe();if(n===null)return B(t,e);let r=Ct();return iI(r,n,pt(t),e)}function TI(){let t="invalid";throw new Error(t)}function SI(t,e,n,r,i,o){let s=he(null);try{let a=null;i&tt.SignalBased&&(a=e[r][Ah]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&tt.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Rw(e,a,r,o)}finally{he(s)}}function M1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ti(~i);else{let o=i,s=n[++r],a=n[++r];CM(s,o);let c=e[o];a(2,c)}}}finally{ti(-1)}}function Ru(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[Wn]=i,d[z]=r|4|128|8|64,(u!==null||t&&t[z]&2048)&&(d[z]|=2048),Lw(d),d[ct]=d[go]=t,d[rn]=n,d[wn]=s||t&&t[wn],d[Le]=a||t&&t[Le],d[co]=c||t&&t[co]||null,d[on]=o,d[wu]=WM(),d[Zc]=l,d[xw]=u,d[In]=e.type==2?t[In]:d,d}function Ps(t,e,n,r,i){let o=t.data[e];if(o===null)o=R1(t,e,n,r,i),EM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=yM();o.injectorIndex=s===null?-1:s.injectorIndex}return si(o,!0),o}function R1(t,e,n,r,i){let o=Bw(),s=pp(),a=s?o:o&&o.parent,c=t.data[e]=F1(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function AI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xI(t,e,n,r,i){let o=ai(),s=r&2;try{ti(-1),s&&e.length>Bt&&DI(t,e,Bt,!1),vn(s?2:0,i),n(r,i)}finally{ti(o),vn(s?3:1,i)}}function Ap(t,e,n){if(dp(e)){let r=he(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{he(r)}}}function xp(t,e,n){Uw()&&($1(t,e,n,qt(n,e)),(n.flags&64)===64&&PI(t,e,n))}function Mp(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function MI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Rp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Rp(t,e,n,r,i,o,s,a,c,u,l){let d=Bt+r,p=d+i,v=P1(d,p),w=typeof u=="function"?u():u;return v[ie]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:l}}function P1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:an);return n}function N1(t,e,n,r){let o=r.get(t1,mI)||n===_n.ShadowDom,s=t.selectRootElement(e,o);return O1(s),s}function O1(t){k1(t)}var k1=()=>null;function F1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return mM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function j0(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=tt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?U0(r,n,u,a,c):U0(r,n,u,a)}return r}function U0(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function V1(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],p=n?n.get(d):null,v=p?p.inputs:null,w=p?p.outputs:null;c=j0(0,d.inputs,l,c,v),u=j0(1,d.outputs,l,u,w);let C=c!==null&&s!==null&&!sp(e)?X1(c,l,s):null;a.push(C)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function L1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Pp(t,e,n,r,i,o,s,a){let c=qt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Op(t,n,l,r,i),Iu(e)&&j1(n,e.index)):e.type&3?(r=L1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function j1(t,e){let n=Ir(e,t);n[z]&16||(n[z]|=64)}function Np(t,e,n,r){if(Uw()){let i=r===null?null:{"":-1},o=H1(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&RI(t,e,n,s,i,a),i&&z1(n,r,i)}n.mergedAttrs=Is(n.mergedAttrs,n.attrs)}function RI(t,e,n,r,i,o){for(let u=0;u<r.length;u++)Tf(iu(n,e),t,r[u].type);W1(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=AI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Is(n.mergedAttrs,l.hostAttrs),K1(t,n,e,c,l),G1(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}V1(t,n,o)}function U1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;B1(s)!=a&&s.push(a),s.push(n,r,o)}}function B1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function $1(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Iu(n)&&Q1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||iu(n,e),_r(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=ho(e,t,a,n);if(_r(u,e),s!==null&&Z1(e,a-i,u,c,n,s),yr(c)){let l=Ir(n.index,e);l[rn]=ho(e,t,a,n)}}}function PI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=bM();try{ti(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];bf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&q1(c,u)}}finally{ti(-1),bf(s)}}function q1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function H1(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Nx(e,s.selectors,!1))if(r||(r=[]),yr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Of(t,e,c)}else r.unshift(s),Of(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Of(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function z1(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new F(-301,!1);r.push(e[i],o)}}}function G1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yr(e)&&(n[""]=t)}}function W1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function K1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Zr(i.type,!0)),s=new ni(o,yr(i),L);t.blueprint[r]=s,n[r]=s,U1(t,e,r,AI(t,n,i.hostVars,an),i)}function Q1(t,e,n){let r=qt(e,t),i=MI(n),o=t[wn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Pu(t,Ru(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Y1(t,e,n,r,i,o){let s=qt(t,e);J1(e[Le],s,o,t.value,n,r,i)}function J1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?_s(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Z1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];SI(r,n,c,u,l,d)}}function X1(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function NI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function OI(t,e){let n=t.contentQueries;if(n!==null){let r=he(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Hw(o),a.contentQueries(2,e[s],s)}}}finally{he(r)}}}function Pu(t,e){return t[bs]?t[M0][nn]=e:t[bs]=e,t[M0]=e,e}function kf(t,e,n){Hw(0);let r=he(null);try{e(t,n)}finally{he(r)}}function eR(t){return t[Cs]||(t[Cs]=[])}function tR(t){return t.cleanup||(t.cleanup=[])}function kI(t,e){let n=t[co],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function Op(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],l=t.data[s];SI(l,u,r,a,c,i)}}function FI(t,e,n){let r=kw(e,t);u1(t[Le],r,n)}function nR(t,e){let n=Ir(e,t),r=n[ie];rR(r,n);let i=n[Wn];i!==null&&n[Zc]===null&&(n[Zc]=Cp(i,n[co])),kp(r,n,n[rn])}function rR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function kp(t,e,n){gp(e);try{let r=t.viewQuery;r!==null&&kf(1,r,n);let i=t.template;i!==null&&xI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[uo]?.finishViewCreation(t),t.staticContentQueries&&OI(t,e),t.staticViewQueries&&kf(2,t.viewQuery,n);let o=t.components;o!==null&&iR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[z]&=-5,vp()}}function iR(t,e){for(let n=0;n<e.length;n++)nR(t,e[n])}function oR(t,e,n,r){let i=he(null);try{let o=e.tView,a=t[z]&4096?4096:16,c=Ru(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[_u]=u;let l=t[uo];return l!==null&&(c[uo]=l.createEmbeddedView(o)),kp(o,c,n),c}finally{he(i)}}function B0(t,e){return!e||e.firstChild===null||uI(t)}function sR(t,e,n,r=!0){let i=e[ie];if(p1(i,e,t,n),r){let s=Nf(n,t),a=e[Le],c=Tp(a,t[ei]);c!==null&&h1(i,t[on],a,e,c,s)}let o=e[Zc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function su(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(En(o)),Kn(o)&&aR(o,r);let s=n.type;if(s&8)su(t,e,n.child,r);else if(s&32){let a=Dp(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=EI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Ts(e[In]);su(c[ie],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function aR(t,e){for(let n=Ut;n<t.length;n++){let r=t[n],i=r[ie].firstChild;i!==null&&su(r[ie],r,i,e)}t[ei]!==t[Wn]&&e.push(t[ei])}var VI=[];function cR(t){return t[Xr]??uR(t)}function uR(t){let e=VI.pop()??Object.create(dR);return e.lView=t,e}function lR(t){t.lView[Xr]!==t&&(t.lView=null,VI.push(t))}var dR=X(x({},z_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ds(t.lView)},consumerOnSignalRead(){this.lView[Xr]=this}}),LI=100;function jI(t,e=!0,n=0){let r=t[wn],i=r.rendererFactory,o=!1;o||i.begin?.();try{hR(t,n)}catch(s){throw e&&kI(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function hR(t,e){Ff(t,e);let n=0;for(;fp(t);){if(n===LI)throw new F(103,!1);n++,Ff(t,1)}}function fR(t,e,n,r){let i=e[z];if((i&256)===256)return;let o=!1;!o&&e[wn].inlineEffectRunner?.flush(),gp(e);let s=null,a=null;!o&&pR(t)&&(a=cR(e),s=G_(a));try{Lw(e),IM(t.bindingStartIndex),n!==null&&xI(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Hc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&zc(e,d,0,null),tf(e,0)}if(mR(e),UI(e,0),t.contentQueries!==null&&OI(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Hc(e,d)}else{let d=t.contentHooks;d!==null&&zc(e,d,1),tf(e,1)}M1(t,e);let u=t.components;u!==null&&$I(e,u,0);let l=t.viewQuery;if(l!==null&&kf(2,l,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Hc(e,d)}else{let d=t.viewHooks;d!==null&&zc(e,d,2),tf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ef]){for(let d of e[ef])d();e[ef]=null}o||(e[z]&=-73)}catch(c){throw Ds(e),c}finally{a!==null&&(W_(a,s),lR(a)),vp()}}function pR(t){return t.type!==2}function UI(t,e){for(let n=dI(t);n!==null;n=hI(n))for(let r=Ut;r<n.length;r++){let i=n[r];BI(i,e)}}function mR(t){for(let e=dI(t);e!==null;e=hI(e)){if(!(e[z]&lp.HasTransplantedViews))continue;let n=e[eu];for(let r=0;r<n.length;r++){let i=n[r],o=i[ct];uM(i)}}}function gR(t,e,n){let r=Ir(e,t);BI(r,n)}function BI(t,e){hp(t)&&Ff(t,e)}function Ff(t,e){let r=t[ie],i=t[z],o=t[Xr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&xh(o)),o&&(o.dirty=!1),t[z]&=-9217,s)fR(r,t,r.template,t[rn]);else if(i&8192){UI(t,1);let a=r.components;a!==null&&$I(t,a,1)}}function $I(t,e,n){for(let r=0;r<e.length;r++)gR(t,e[r],n)}function Fp(t){for(t[wn].changeDetectionScheduler?.notify();t;){t[z]|=64;let e=Ts(t);if(eM(t)&&!e)return t;t=e}return null}var ri=class{get rootNodes(){let e=this._lView,n=e[ie];return su(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(e){this._lView[rn]=e}get destroyed(){return(this._lView[z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(Kn(e)){let n=e[Xc],r=n?n.indexOf(this):-1;r>-1&&(Pf(e,r),Yc(n,r))}this._attachedToViewContainer=!1}wI(this._lView[ie],this._lView)}onDestroy(e){jw(this._lView,e)}markForCheck(){Fp(this._cdRefInjectingView||this._lView)}detach(){this._lView[z]&=-129}reattach(){Cf(this._lView),this._lView[z]|=128}detectChanges(){this._lView[z]|=1024,jI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,yI(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e,Cf(this._lView)}},Nu=(()=>{class t{static{this.__NG_ELEMENT_ID__=_R}}return t})(),vR=Nu,yR=class extends vR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=oR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ri(i)}};function _R(){return wR(Ct(),fe())}function wR(t,e){return t.type&4?new yR(e,t,Au(t,e)):null}var wz=new RegExp(`^(\\d+)*(${XM}|${ZM})*(.*)`);var IR=()=>null;function $0(t,e){return IR(t,e)}var au=class{},Vf=class{},cu=class{};function ER(t){let e=Error(`No component factory found for ${mt(t)}.`);return e[CR]=t,e}var CR="ngComponent";var Lf=class{resolveComponentFactory(e){throw ER(e)}},Ou=(()=>{class t{static{this.NULL=new Lf}}return t})(),Ss=class{},Dn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>bR()}}return t})();function bR(){let t=fe(),e=Ct(),n=Ir(e.index,t);return(Yr(n)?n:t)[Le]}var DR=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>null})}}return t})(),af={};var q0=new Set;function Vp(t){q0.has(t)||(q0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function H0(...t){}function TR(){let t=typeof qn.requestAnimationFrame=="function",e=qn[t?"requestAnimationFrame":"setTimeout"],n=qn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=TR().nativeRequestAnimationFrame,xR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,SR,H0,H0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},SR={};function Lp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function AR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jf(t),t.isCheckStableRunning=!0,Lp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jf(t))}function xR(t){let e=()=>{AR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(MR(a))return n.invokeTask(i,o,s,a);try{return z0(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),G0(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return z0(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),G0(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,jf(t),Lp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function jf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function z0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function G0(t){t._nesting--,Lp(t)}function MR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var no=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(no||{}),RR={destroy(){}};function ku(t,e){!e&&Zx(ku);let n=e?.injector??M(bt);if(!s1(n))return RR;Vp("NgAfterNextRender");let r=n.get(jp),i=r.handler??=new Bf,o=e?.phase??no.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(_p).onDestroy(s),c=Gn(n,()=>new Uf(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var Uf=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=M(we),this.errorHandler=M(Cn,{optional:!0}),M(au,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Bf=class{constructor(){this.executingCallbacks=!1,this.buckets={[no.EarlyRead]:new Set,[no.Write]:new Set,[no.MixedReadWrite]:new Set,[no.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},jp=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}}return t})();function uu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=w0(i,a);else if(o==2){let c=a,u=e[++s];r=w0(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var lu=class extends Ou{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vr(e);return new fo(n,this.ngModule)}};function W0(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function PR(t){let e=t.toLowerCase();return e==="svg"?iM:e==="math"?oM:null}var $f=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=gu(r);let i=this.injector.get(e,af,r);return i!==af||n===af?i:this.parentInjector.get(e,n,r)}},fo=class extends cu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=W0(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return W0(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Vx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=he(null);try{i=i||this.ngModule;let s=i instanceof Et?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new $f(e,s):e,c=a.get(Ss,null);if(c===null)throw new F(407,!1);let u=a.get(DR,null),l=a.get(jp,null),d=a.get(au,null),p={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},v=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",C=r?N1(v,r,this.componentDef.encapsulation,a):vI(v,w,PR(w)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let N=null;C!==null&&(N=Cp(C,a,!0));let ce=Rp(0,null,null,1,0,null,null,null,null,null,null),te=Ru(null,ce,null,T,null,null,p,v,a,null,N);gp(te);let Te,Ze;try{let ve=this.componentDef,at,mn=null;ve.findHostDirectiveDefs?(at=[],mn=new Map,ve.findHostDirectiveDefs(ve,at,mn),at.push(ve)):at=[ve];let qr=NR(te,C),Li=OR(qr,C,ve,at,te,p,v);Ze=Fw(ce,Bt),C&&VR(v,ve,C,r),n!==void 0&&LR(Ze,this.ngContentSelectors,n),Te=FR(Li,ve,at,mn,te,[jR]),kp(ce,te,null)}finally{vp()}return new qf(this.componentType,Te,Au(Ze,te),te,Ze)}finally{he(o)}}},qf=class extends Vf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ri(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Op(o[ie],o,i,e,n),this.previousInputValues.set(e,n);let s=Ir(this._tNode.index,o);Fp(s)}}get injector(){return new Jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function NR(t,e){let n=t[ie],r=Bt;return t[r]=e,Ps(n,r,2,"#host",null)}function OR(t,e,n,r,i,o,s){let a=i[ie];kR(r,t,e,s);let c=null;e!==null&&(c=Cp(e,i[co]));let u=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Ru(i,MI(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&Of(a,t,r.length-1),Pu(i,d),i[t.index]=d}function kR(t,e,n,r){for(let i of t)e.mergedAttrs=Is(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(uu(e,e.mergedAttrs,!0),n!==null&&bI(r,n,e))}function FR(t,e,n,r,i,o){let s=Ct(),a=i[ie],c=qt(s,i);RI(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,p=ho(i,a,d,s);_r(p,i)}PI(a,i,s),c&&_r(c,i);let u=ho(i,a,s.directiveStart+s.componentOffset,s);if(t[rn]=i[rn]=u,o!==null)for(let l of o)l(u,e);return Ap(a,s,i),u}function VR(t,e,n,r){if(r)yf(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=Lx(e.selectors[0]);i&&yf(t,n,i),o&&o.length>0&&CI(t,n,o.join(" "))}}function LR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function jR(){let t=Ct();Su(fe()[ie],t)}var vo=(()=>{class t{static{this.__NG_ELEMENT_ID__=UR}}return t})();function UR(){let t=Ct();return $R(t,fe())}var BR=vo,qI=class extends BR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Au(this._hostTNode,this._hostLView)}get injector(){return new Jr(this._hostTNode,this._hostLView)}get parentInjector(){let e=yp(this._hostTNode,this._hostLView);if(Zw(e)){let n=nu(e,this._hostLView),r=tu(e),i=n[ie].data[r+8];return new Jr(i,n)}else return new Jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=K0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,B0(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Xx(e),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new fo(vr(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let C=(s?u:this.parentInjector).get(Et,null);C&&(o=C)}let l=vr(c.componentType??{}),d=$0(this._lContainer,l?.id??null),p=d?.firstChild??null,v=c.create(u,i,p,o);return this.insertImpl(v.hostView,a,B0(this._hostTNode,d)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(cM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ct],u=new qI(c,c[on],c[ct]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return sR(s,i,o,r),e.attachToViewContainerRef(),hw(cf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=K0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Pf(this._lContainer,n);r&&(Yc(cf(this._lContainer),n),wI(r[ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=Pf(this._lContainer,n);return r&&Yc(cf(this._lContainer),n)!=null?new ri(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function K0(t){return t[Xc]}function cf(t){return t[Xc]||(t[Xc]=[])}function $R(t,e){let n,r=e[t.index];return Kn(r)?n=r:(n=NI(r,e,null,t),e[t.index]=n,Pu(e,n)),HR(n,e,t,r),new qI(n,t,e)}function qR(t,e){let n=t[Le],r=n.createComment(""),i=qt(e,t),o=Tp(n,i);return ou(n,o,r,I1(n,i),!1),r}var HR=WR,zR=()=>!1;function GR(t,e,n){return zR(t,e,n)}function WR(t,e,n,r){if(t[ei])return;let i;n.type&8?i=En(r):i=qR(e,n),t[ei]=i}function KR(t){return typeof t=="function"&&t[Ah]!==void 0}function HI(t){return KR(t)&&typeof t.set=="function"}function QR(t){return Object.getPrototypeOf(t.prototype).constructor}function rt(t){let e=QR(t.type),n=!0,r=[t];for(;e;){let i;if(yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Bc(t.inputs),s.inputTransforms=Bc(t.inputTransforms),s.declaredInputs=Bc(t.declaredInputs),s.outputs=Bc(t.outputs);let a=i.hostBindings;a&&eP(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&ZR(t,c),u&&XR(t,u),YR(t,i),ix(t.outputs,i.outputs),yr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===rt&&(n=!1)}}e=Object.getPrototypeOf(e)}JR(r)}function YR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function JR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Is(i.hostAttrs,n=Is(n,i.hostAttrs))}}function Bc(t){return t===oo?{}:t===jt?[]:t}function ZR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function XR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function eP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var wr=class{},As=class{};var Hf=class extends wr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lu(this);let i=Iw(e);this._bootstrapComponents=gI(i.bootstrap),this._r3Injector=aI(e,n,[{provide:wr,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zf=class extends As{constructor(e){super(),this.moduleType=e}create(e){return new Hf(this.moduleType,e,[])}};var du=class extends wr{constructor(e){super(),this.componentFactoryResolver=new lu(this),this.instance=null;let n=new Es([...e.providers,{provide:wr,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver}],e.parent||up(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Fu(t,e,n=null){return new du({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Vu=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zI(t){return nP(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function tP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function nP(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function GI(t,e,n){return t[e]=n}function rP(t,e){return t[e]}function ii(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function WI(t,e,n,r){let i=ii(t,e,n);return ii(t,e+1,r)||i}function iP(t){return(t.flags&32)===32}function oP(t,e,n,r,i,o,s,a,c){let u=e.consts,l=Ps(e,t,4,s||null,lo(u,a));Np(e,n,l,lo(u,c)),Su(e,l);let d=l.tView=Rp(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function $(t,e,n,r,i,o,s,a){let c=fe(),u=nt(),l=t+Bt,d=u.firstCreatePass?oP(l,u,c,e,n,r,i,o,s):u.data[l];si(d,!1);let p=sP(u,c,d,t);Du()&&xu(u,c,p,d),_r(p,c);let v=NI(p,c,p,d);return c[l]=v,Pu(c,v),GR(v,d,c),Eu(d)&&xp(u,c,d),s!=null&&Mp(c,d,a),$}var sP=aP;function aP(t,e,n,r){return Tu(!0),e[Le].createComment("")}function Er(t,e,n,r){let i=fe(),o=Cu();if(ii(i,o,e)){let s=nt(),a=bu();Y1(a,i,t,e,n,r)}return Er}function KI(t,e,n,r){return ii(t,Cu(),n)?e+_s(n)+r:an}function cP(t,e,n,r,i,o){let s=wM(),a=WI(t,s,n,i);return qw(2),a?e+_s(n)+r+_s(i)+o:an}function $c(t,e){return t<<17|e<<2}function oi(t){return t>>17&32767}function uP(t){return(t&2)==2}function lP(t,e){return t&131071|e<<17}function Gf(t){return t|2}function po(t){return(t&131068)>>2}function uf(t,e){return t&-131069|e<<2}function dP(t){return(t&1)===1}function Wf(t){return t|1}function hP(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=oi(s),c=po(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Rs(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let p=oi(t[a+1]);t[r+1]=$c(p,a),p!==0&&(t[p+1]=uf(t[p+1],r)),t[a+1]=lP(t[a+1],r)}else t[r+1]=$c(a,0),a!==0&&(t[a+1]=uf(t[a+1],r)),a=r;else t[r+1]=$c(c,0),a===0?a=r:t[c+1]=uf(t[c+1],r),c=r;u&&(t[r+1]=Gf(t[r+1])),Q0(t,l,r,!0),Q0(t,l,r,!1),fP(e,l,t,r,o),s=$c(a,c),o?e.classBindings=s:e.styleBindings=s}function fP(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Rs(o,e)>=0&&(n[r+1]=Wf(n[r+1]))}function Q0(t,e,n,r){let i=t[n+1],o=e===null,s=r?oi(i):po(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];pP(c,e)&&(a=!0,t[s+1]=r?Wf(u):Gf(u)),s=r?oi(u):po(u)}a&&(t[n+1]=r?Gf(i):Wf(i))}function pP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Rs(t,e)>=0:!1}function E(t,e,n){let r=fe(),i=Cu();if(ii(r,i,e)){let o=nt(),s=bu();Pp(o,s,r,t,e,r[Le],n,!1)}return E}function Y0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Op(t,n,o[s],s,r)}function Me(t,e){return mP(t,e,null,!0),Me}function mP(t,e,n,r){let i=fe(),o=nt(),s=qw(2);if(o.firstUpdatePass&&vP(o,t,s,r),e!==an&&ii(i,s,e)){let a=o.data[ai()];EP(o,a,i,i[Le],t,i[s+1]=CP(e,n),r,s)}}function gP(t,e){return e>=t.expandoStartIndex}function vP(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ai()],s=gP(t,n);bP(o,r)&&e===null&&!s&&(e=!1),e=yP(i,o,e,r),hP(i,o,e,n,s,r)}}function yP(t,e,n,r){let i=DM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=lf(null,t,e,n,r),n=xs(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=lf(i,t,e,n,r),o===null){let c=_P(t,e,r);c!==void 0&&Array.isArray(c)&&(c=lf(null,t,e,c[1],r),c=xs(c,e.attrs,r),wP(t,e,r,c))}else o=IP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function _P(t,e,n){let r=n?e.classBindings:e.styleBindings;if(po(r)!==0)return t[oi(r)]}function wP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[oi(i)]=r}function IP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xs(r,s,n)}return xs(r,e.attrs,n)}function lf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=xs(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function xs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),bx(t,s,n?!0:e[++o]))}return t===void 0?null:t}function EP(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=dP(u)?J0(c,e,n,i,po(u),s):void 0;if(!hu(l)){hu(o)||uP(u)&&(o=J0(c,null,n,i,a,s));let d=kw(ai(),n);A1(r,s,d,i,o)}}function J0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,p=n[i+1];p===an&&(p=d?jt:void 0);let v=d?Zh(p,r):l===r?p:void 0;if(u&&!hu(v)&&(v=Zh(c,r)),hu(v)&&(a=v,s))return a;let w=t[i+1];i=s?oi(w):po(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Zh(c,r))}return a}function hu(t){return t!==void 0}function CP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=mt(bp(t)))),t}function bP(t,e){return(t.flags&(e?8:16))!==0}function DP(t,e,n,r,i,o){let s=e.consts,a=lo(s,i),c=Ps(e,t,2,r,a);return Np(e,n,c,lo(s,o)),c.attrs!==null&&uu(c,c.attrs,!1),c.mergedAttrs!==null&&uu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(t,e,n,r){let i=fe(),o=nt(),s=Bt+t,a=i[Le],c=o.firstCreatePass?DP(s,o,i,e,n,r):o.data[s],u=TP(o,i,c,a,e,t);i[s]=u;let l=Eu(c);return si(c,!0),bI(a,u,c),!iP(c)&&Du()&&xu(o,i,u,c),hM()===0&&_r(u,i),fM(),l&&(xp(o,i,c),Ap(o,c,i)),r!==null&&Mp(i,c),h}function f(){let t=Ct();pp()?$w():(t=t.parent,si(t,!1));let e=t;gM(e)&&vM(),pM();let n=nt();return n.firstCreatePass&&(Su(n,t),dp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&PM(e)&&Y0(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&NM(e)&&Y0(n,e,fe(),e.stylesWithoutHost,!1),f}function Y(t,e,n,r){return h(t,e,n,r),f(),Y}var TP=(t,e,n,r,i,o)=>(Tu(!0),vI(r,i,AM()));function SP(t,e,n,r,i){let o=e.consts,s=lo(o,r),a=Ps(e,t,8,"ng-container",s);s!==null&&uu(a,s,!0);let c=lo(o,i);return Np(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Lu(t,e,n){let r=fe(),i=nt(),o=t+Bt,s=i.firstCreatePass?SP(o,i,r,e,n):i.data[o];si(s,!0);let a=AP(i,r,s,t);return r[o]=a,Du()&&xu(i,r,a,s),_r(a,r),Eu(s)&&(xp(i,r,s),Ap(i,s,r)),n!=null&&Mp(r,s),Lu}function ju(){let t=Ct(),e=nt();return pp()?$w():(t=t.parent,si(t,!1)),e.firstCreatePass&&(Su(e,t),dp(t)&&e.queries.elementEnd(t)),ju}var AP=(t,e,n,r)=>(Tu(!0),l1(e[Le],""));function oe(){return fe()}var Qr=void 0;function xP(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var MP=["en",[["a","p"],["AM","PM"],Qr],[["AM","PM"],Qr,Qr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qr,"{1} 'at' {0}",Qr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xP],df={};function zt(t){let e=RP(t),n=Z0(e);if(n)return n;let r=e.split("-")[0];if(n=Z0(r),n)return n;if(r==="en")return MP;throw new F(701,!1)}function Z0(t){return t in df||(df[t]=qn.ng&&qn.ng.common&&qn.ng.common.locales&&qn.ng.common.locales[t]),df[t]}var je=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(je||{});function RP(t){return t.toLowerCase().replace(/_/g,"-")}var fu="en-US";var PP=fu;function NP(t){typeof t=="string"&&(PP=t.toLowerCase().replace(/_/g,"-"))}function b(t,e,n,r){let i=fe(),o=nt(),s=Ct();return QI(o,i,i[Le],s,t,e,r),b}function OP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Cs],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function QI(t,e,n,r,i,o,s){let a=Eu(r),u=t.firstCreatePass&&tR(t),l=e[rn],d=eR(e),p=!0;if(r.type&3||s){let C=qt(r,e),T=s?s(C):C,N=d.length,ce=s?Te=>s(En(Te[r.index])):r.index,te=null;if(!s&&a&&(te=OP(t,e,i,r.index)),te!==null){let Te=te.__ngLastListenerFn__||te;Te.__ngNextListenerFn__=o,te.__ngLastListenerFn__=o,p=!1}else{o=ew(r,e,l,o,!1);let Te=n.listen(T,i,o);d.push(o,Te),u&&u.push(i,ce,N,N+1)}}else o=ew(r,e,l,o,!1);let v=r.outputs,w;if(p&&v!==null&&(w=v[i])){let C=w.length;if(C)for(let T=0;T<C;T+=2){let N=w[T],ce=w[T+1],Ze=e[N][ce].subscribe(o),ve=d.length;d.push(o,Ze),u&&u.push(i,r.index,ve,-(ve+1))}}}function X0(t,e,n,r){let i=he(null);try{return vn(6,e,n),n(r)!==!1}catch(o){return kI(t,o),!1}finally{vn(7,e,n),he(i)}}function ew(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Ir(t.index,e):e;Fp(a);let c=X0(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=X0(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function _(t=1){return SM(t)}function yo(t,e,n){return Ns(t,"",e,"",n),yo}function Ns(t,e,n,r,i){let o=fe(),s=KI(o,e,n,r);if(s!==an){let a=nt(),c=bu();Pp(a,c,o,t,s,o[Le],i,!1)}return Ns}function kP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Os(t){let e=_M();return Vw(e,Bt+t)}function m(t,e=""){let n=fe(),r=nt(),i=t+Bt,o=r.firstCreatePass?Ps(r,i,1,e,null):r.data[i],s=FP(r,n,o,e,t);n[i]=s,Du()&&xu(r,n,s,o),si(o,!1)}var FP=(t,e,n,r,i)=>(Tu(!0),c1(e[Le],r));function k(t){return ye("",t,""),k}function ye(t,e,n){let r=fe(),i=KI(r,t,e,n);return i!==an&&FI(r,ai(),i),ye}function Yn(t,e,n,r,i){let o=fe(),s=cP(o,t,e,n,r,i);return s!==an&&FI(o,ai(),s),Yn}function Tn(t,e,n){HI(e)&&(e=e());let r=fe(),i=Cu();if(ii(r,i,e)){let o=nt(),s=bu();Pp(o,s,r,t,e,r[Le],n,!1)}return Tn}function Jn(t,e){let n=HI(t);return n&&t.set(e),n}function Sn(t,e){let n=fe(),r=nt(),i=Ct();return QI(r,n,n[Le],i,t,e),Sn}function VP(t,e,n){let r=nt();if(r.firstCreatePass){let i=yr(t);Kf(n,r.data,r.blueprint,i,!0),Kf(e,r.data,r.blueprint,i,!1)}}function Kf(t,e,n,r,i){if(t=pt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Kf(t[o],e,n,r,i);else{let o=nt(),s=fe(),a=Ct(),c=ao(t)?t:pt(t.provide),u=Sw(t),l=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(ao(t)||!t.multi){let v=new ni(u,i,L),w=ff(c,e,i?l:l+p,d);w===-1?(Tf(iu(a,s),o,c),hf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[w]=v,s[w]=v)}else{let v=ff(c,e,l+p,d),w=ff(c,e,l,l+p),C=v>=0&&n[v],T=w>=0&&n[w];if(i&&!T||!i&&!C){Tf(iu(a,s),o,c);let N=UP(i?jP:LP,n.length,i,r,u);!i&&T&&(n[w].providerFactory=N),hf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(N),s.push(N)}else{let N=YI(n[i?w:v],u,!i&&r);hf(o,t,v>-1?v:w,N)}!i&&r&&T&&n[w].componentProviders++}}}function hf(t,e,n,r){let i=ao(e),o=zx(e);if(i||o){let c=(o?pt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function YI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ff(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function LP(t,e,n,r){return Qf(this.multi,[])}function jP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ho(n,n[ie],this.providerFactory.index,r);o=a.slice(0,s),Qf(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Qf(i,o);return o}function Qf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function UP(t,e,n,r,i){let o=new ni(t,n,L);return o.multi=[],o.index=e,o.componentProviders=0,YI(o,i,r&&!n),o}function Mt(t,e=[]){return n=>{n.providersResolver=(r,i)=>VP(r,i?i(t):t,e)}}var BP=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=bw(!1,n.type),i=r.length>0?Fu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:t,providedIn:"environment",factory:()=>new t(B(Et))})}}return t})();function _o(t){Vp("NgStandalone"),t.getStandaloneInjector=e=>e.get(BP).getOrCreateStandaloneInjector(t)}function JI(t,e,n){let r=mp()+t,i=fe();return i[r]===an?GI(i,r,n?e.call(n):e()):rP(i,r)}function ZI(t,e,n,r,i){return XI(fe(),mp(),t,e,n,r,i)}function $P(t,e){let n=t[e];return n===an?void 0:n}function XI(t,e,n,r,i,o,s){let a=e+n;return WI(t,a,i,o)?GI(t,a+2,s?r.call(s,i,o):r(i,o)):$P(t,a+2)}function Uu(t,e){let n=nt(),r,i=t+Bt;n.firstCreatePass?(r=qP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Zr(r.type,!0)),s,a=It(L);try{let c=ru(!1),u=o();return ru(c),kP(n,fe(),i,u),u}finally{It(a)}}function qP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Bu(t,e,n,r){let i=t+Bt,o=fe(),s=Vw(o,i);return HP(o,i)?XI(o,mp(),e,s.transform,n,r,s):s.transform(n,r)}function HP(t,e){return t[ie].data[e].pure}var zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},eE=new zn("17.3.12"),$u=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var tE=new U("");function ci(t){return!!t&&typeof t.then=="function"}function nE(t){return!!t&&typeof t.subscribe=="function"}var qu=new U(""),rE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=M(qu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ci(o))n.push(o);else if(nE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hu=new U("");function zP(){Q_(()=>{throw new F(600,!1)})}function GP(t){return t.isBoundToModule}function WP(t,e,n){try{let r=n();return ci(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ks=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(cI),this.afterRenderEffectManager=M(jp),this.externalTestViews=new Set,this.beforeRender=new ft,this.afterTick=new ft,this.componentTypes=[],this.components=[],this.isStable=M(Vu).hasPendingTasks.pipe(re(n=>!n)),this._injector=M(Et)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof cu;if(!this._injector.get(rE).done){let p=!i&&ww(n),v=!1;throw new F(405,v)}let s;i?s=n:s=this._injector.get(Ou).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=GP(s)?void 0:this._injector.get(wr),c=r||s.selector,u=s.create(bt.NULL,[],c,a),l=u.location.nativeElement,d=u.injector.get(tE,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),pf(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new F(101,!1);let r=he(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,he(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===LI)throw new F(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)KP(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Yf(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Yf(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;pf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Hu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>pf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new F(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function pf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function KP(t,e,n){!e&&!Yf(t)||QP(t,n,e)}function Yf(t){return fp(t)}function QP(t,e,n){let r;n?(r=0,t[z]|=1024):t[z]&64?r=0:r=1,jI(t,e,r)}var Jf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},zu=(()=>{class t{compileModuleSync(n){return new zf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Iw(n),o=gI(i.declarations).reduce((s,a)=>{let c=vr(a);return c&&s.push(new fo(c)),s},[]);return new Jf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var YP=(()=>{class t{constructor(){this.zone=M(we),this.applicationRef=M(ks)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function JP(t){return[{provide:we,useFactory:t},{provide:so,multi:!0,useFactory:()=>{let e=M(YP,{optional:!0});return()=>e.initialize()}},{provide:so,multi:!0,useFactory:()=>{let e=M(tN);return()=>{e.initialize()}}},{provide:cI,useFactory:ZP}]}function ZP(){let t=M(we),e=M(Cn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function XP(t){let e=JP(()=>new we(eN(t)));return vu([[],e])}function eN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var tN=(()=>{class t{constructor(){this.subscription=new Ve,this.initialized=!1,this.zone=M(we),this.pendingTasks=M(Vu)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function nN(){return typeof $localize<"u"&&$localize.locale||fu}var Gu=new U("",{providedIn:"root",factory:()=>M(Gu,ee.Optional|ee.SkipSelf)||nN()});var iE=new U("");var Wc=null;function rN(t=[],e){return bt.create({name:e,providers:[{provide:yu,useValue:"platform"},{provide:iE,useValue:new Set([()=>Wc=null])},...t]})}function iN(t=[]){if(Wc)return Wc;let e=rN(t);return Wc=e,zP(),oN(e),e}function oN(t){t.get(Ip,null)?.forEach(n=>n())}var ui=(()=>{class t{static{this.__NG_ELEMENT_ID__=sN}}return t})();function sN(t){return aN(Ct(),fe(),(t&16)===16)}function aN(t,e,n){if(Iu(t)&&!n){let r=Ir(t.index,e);return new ri(r,r)}else if(t.type&47){let r=e[In];return new ri(r,e)}return null}var Zf=class{constructor(){}supports(e){return zI(e)}create(e){return new Xf(e)}},cN=(t,e)=>e,Xf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cN}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<tw(r,i,o)?n:r,a=tw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let p=0;p<u;p++){let v=p<o.length?o[p]:o[p]=0,w=v+p;l<=w&&w<u&&(o[p]=v+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!zI(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,tP(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new ep(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new pu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new pu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ep=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},tp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},pu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new tp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function nw(){return new Up([new Zf])}var Up=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:nw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||nw()),deps:[[t,new ip,new $t]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new F(901,!1)}}return t})();function oE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=iN(r),o=[XP(),...n||[]],a=new du({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(we);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Cn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:v=>{u.handleError(v)}})});let d=()=>a.destroy(),p=i.get(iE);return p.add(d),a.onDestroy(()=>{l.unsubscribe(),p.delete(d)}),WP(u,c,()=>{let v=a.get(rE);return v.runInitializers(),v.donePromise.then(()=>{let w=a.get(Gu,fu);NP(w||fu);let C=a.get(ks);return e!==void 0&&C.bootstrap(e),C})})})}catch(e){return Promise.reject(e)}}function Fs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function sE(t){let e=vr(t);if(!e)return null;let n=new fo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var fE=null;function tr(){return fE}function pE(t){fE??=t}var tl=class{};var Dt=new U(""),Qp=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(dN),providedIn:"platform"})}}return t})(),mE=new U(""),dN=(()=>{class t extends Qp{constructor(){super(),this._doc=M(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(n){let r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Yp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function aE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Xn(t){return t&&t[0]!=="?"?"?"+t:t}var li=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(Jp),providedIn:"root"})}}return t})(),gE=new U(""),Jp=(()=>{class t extends li{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Yp(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Xn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(B(Qp),B(gE,8))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vE=(()=>{class t extends li{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Yp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(B(Qp),B(gE,8))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),wo=(()=>{class t{constructor(n){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=pN(aE(cE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Xn(r))}normalize(n){return t.stripTrailingSlash(fN(this._basePath,cE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Xn}static{this.joinWithSlash=Yp}static{this.stripTrailingSlash=aE}static{this.\u0275fac=function(r){return new(r||t)(B(li))}}static{this.\u0275prov=V({token:t,factory:()=>hN(),providedIn:"root"})}}return t})();function hN(){return new wo(B(li))}function fN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function cE(t){return t.replace(/\/index.html$/,"")}function pN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var vt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(vt||{}),De=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(De||{}),Rt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Rt||{}),Cr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function mN(t){return zt(t)[je.LocaleId]}function gN(t,e,n){let r=zt(t),i=[r[je.DayPeriodsFormat],r[je.DayPeriodsStandalone]],o=Gt(i,e);return Gt(o,n)}function vN(t,e,n){let r=zt(t),i=[r[je.DaysFormat],r[je.DaysStandalone]],o=Gt(i,e);return Gt(o,n)}function yN(t,e,n){let r=zt(t),i=[r[je.MonthsFormat],r[je.MonthsStandalone]],o=Gt(i,e);return Gt(o,n)}function _N(t,e){let r=zt(t)[je.Eras];return Gt(r,e)}function Wu(t,e){let n=zt(t);return Gt(n[je.DateFormat],e)}function Ku(t,e){let n=zt(t);return Gt(n[je.TimeFormat],e)}function Qu(t,e){let r=zt(t)[je.DateTimeFormat];return Gt(r,e)}function il(t,e){let n=zt(t),r=n[je.NumberSymbols][e];if(typeof r>"u"){if(e===Cr.CurrencyDecimal)return n[je.NumberSymbols][Cr.Decimal];if(e===Cr.CurrencyGroup)return n[je.NumberSymbols][Cr.Group]}return r}function yE(t){if(!t[je.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wN(t){let e=zt(t);return yE(e),(e[je.ExtraData][2]||[]).map(r=>typeof r=="string"?Bp(r):[Bp(r[0]),Bp(r[1])])}function IN(t,e,n){let r=zt(t);yE(r);let i=[r[je.ExtraData][0],r[je.ExtraData][1]],o=Gt(i,e)||[];return Gt(o,n)||[]}function Gt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Bp(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var EN=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yu={},CN=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,er=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(er||{}),me=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(me||{}),pe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(pe||{});function bN(t,e,n,r){let i=NN(t);e=Zn(n,e)||e;let s=[],a;for(;e;)if(a=CN.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=wE(r,c),i=PN(i,r,!0));let u="";return s.forEach(l=>{let d=MN(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function nl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Zn(t,e){let n=mN(t);if(Yu[n]??={},Yu[n][e])return Yu[n][e];let r="";switch(e){case"shortDate":r=Wu(t,Rt.Short);break;case"mediumDate":r=Wu(t,Rt.Medium);break;case"longDate":r=Wu(t,Rt.Long);break;case"fullDate":r=Wu(t,Rt.Full);break;case"shortTime":r=Ku(t,Rt.Short);break;case"mediumTime":r=Ku(t,Rt.Medium);break;case"longTime":r=Ku(t,Rt.Long);break;case"fullTime":r=Ku(t,Rt.Full);break;case"short":let i=Zn(t,"shortTime"),o=Zn(t,"shortDate");r=Ju(Qu(t,Rt.Short),[i,o]);break;case"medium":let s=Zn(t,"mediumTime"),a=Zn(t,"mediumDate");r=Ju(Qu(t,Rt.Medium),[s,a]);break;case"long":let c=Zn(t,"longTime"),u=Zn(t,"longDate");r=Ju(Qu(t,Rt.Long),[c,u]);break;case"full":let l=Zn(t,"fullTime"),d=Zn(t,"fullDate");r=Ju(Qu(t,Rt.Full),[l,d]);break}return r&&(Yu[n][e]=r),r}function Ju(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function cn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function DN(t,e){return cn(t,3).substring(0,e)}function $e(t,e,n=0,r=!1,i=!1){return function(o,s){let a=TN(t,o);if((n>0||a>-n)&&(a+=n),t===me.Hours)a===0&&n===-12&&(a=12);else if(t===me.FractionalSeconds)return DN(a,e);let c=il(s,Cr.MinusSign);return cn(a,e,c,r,i)}}function TN(t,e){switch(t){case me.FullYear:return e.getFullYear();case me.Month:return e.getMonth();case me.Date:return e.getDate();case me.Hours:return e.getHours();case me.Minutes:return e.getMinutes();case me.Seconds:return e.getSeconds();case me.FractionalSeconds:return e.getMilliseconds();case me.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Se(t,e,n=vt.Format,r=!1){return function(i,o){return SN(i,o,t,e,n,r)}}function SN(t,e,n,r,i,o){switch(n){case pe.Months:return yN(e,i,r)[t.getMonth()];case pe.Days:return vN(e,i,r)[t.getDay()];case pe.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let u=wN(e),l=IN(e,i,r),d=u.findIndex(p=>{if(Array.isArray(p)){let[v,w]=p,C=s>=v.hours&&a>=v.minutes,T=s<w.hours||s===w.hours&&a<w.minutes;if(v.hours<w.hours){if(C&&T)return!0}else if(C||T)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return gN(e,i,r)[s<12?0:1];case pe.Eras:return _N(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Zu(t){return function(e,n,r){let i=-1*r,o=il(n,Cr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case er.Short:return(i>=0?"+":"")+cn(s,2,o)+cn(Math.abs(i%60),2,o);case er.ShortGMT:return"GMT"+(i>=0?"+":"")+cn(s,1,o);case er.Long:return"GMT"+(i>=0?"+":"")+cn(s,2,o)+":"+cn(Math.abs(i%60),2,o);case er.Extended:return r===0?"Z":(i>=0?"+":"")+cn(s,2,o)+":"+cn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var AN=0,el=4;function xN(t){let e=nl(t,AN,1).getDay();return nl(t,0,1+(e<=el?el:el+7)-e)}function _E(t){let e=t.getDay(),n=e===0?-3:el-e;return nl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function $p(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=_E(n),s=xN(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return cn(i,t,il(r,Cr.MinusSign))}}function Xu(t,e=!1){return function(n,r){let o=_E(n).getFullYear();return cn(o,t,il(r,Cr.MinusSign),e)}}var qp={};function MN(t){if(qp[t])return qp[t];let e;switch(t){case"G":case"GG":case"GGG":e=Se(pe.Eras,De.Abbreviated);break;case"GGGG":e=Se(pe.Eras,De.Wide);break;case"GGGGG":e=Se(pe.Eras,De.Narrow);break;case"y":e=$e(me.FullYear,1,0,!1,!0);break;case"yy":e=$e(me.FullYear,2,0,!0,!0);break;case"yyy":e=$e(me.FullYear,3,0,!1,!0);break;case"yyyy":e=$e(me.FullYear,4,0,!1,!0);break;case"Y":e=Xu(1);break;case"YY":e=Xu(2,!0);break;case"YYY":e=Xu(3);break;case"YYYY":e=Xu(4);break;case"M":case"L":e=$e(me.Month,1,1);break;case"MM":case"LL":e=$e(me.Month,2,1);break;case"MMM":e=Se(pe.Months,De.Abbreviated);break;case"MMMM":e=Se(pe.Months,De.Wide);break;case"MMMMM":e=Se(pe.Months,De.Narrow);break;case"LLL":e=Se(pe.Months,De.Abbreviated,vt.Standalone);break;case"LLLL":e=Se(pe.Months,De.Wide,vt.Standalone);break;case"LLLLL":e=Se(pe.Months,De.Narrow,vt.Standalone);break;case"w":e=$p(1);break;case"ww":e=$p(2);break;case"W":e=$p(1,!0);break;case"d":e=$e(me.Date,1);break;case"dd":e=$e(me.Date,2);break;case"c":case"cc":e=$e(me.Day,1);break;case"ccc":e=Se(pe.Days,De.Abbreviated,vt.Standalone);break;case"cccc":e=Se(pe.Days,De.Wide,vt.Standalone);break;case"ccccc":e=Se(pe.Days,De.Narrow,vt.Standalone);break;case"cccccc":e=Se(pe.Days,De.Short,vt.Standalone);break;case"E":case"EE":case"EEE":e=Se(pe.Days,De.Abbreviated);break;case"EEEE":e=Se(pe.Days,De.Wide);break;case"EEEEE":e=Se(pe.Days,De.Narrow);break;case"EEEEEE":e=Se(pe.Days,De.Short);break;case"a":case"aa":case"aaa":e=Se(pe.DayPeriods,De.Abbreviated);break;case"aaaa":e=Se(pe.DayPeriods,De.Wide);break;case"aaaaa":e=Se(pe.DayPeriods,De.Narrow);break;case"b":case"bb":case"bbb":e=Se(pe.DayPeriods,De.Abbreviated,vt.Standalone,!0);break;case"bbbb":e=Se(pe.DayPeriods,De.Wide,vt.Standalone,!0);break;case"bbbbb":e=Se(pe.DayPeriods,De.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Se(pe.DayPeriods,De.Abbreviated,vt.Format,!0);break;case"BBBB":e=Se(pe.DayPeriods,De.Wide,vt.Format,!0);break;case"BBBBB":e=Se(pe.DayPeriods,De.Narrow,vt.Format,!0);break;case"h":e=$e(me.Hours,1,-12);break;case"hh":e=$e(me.Hours,2,-12);break;case"H":e=$e(me.Hours,1);break;case"HH":e=$e(me.Hours,2);break;case"m":e=$e(me.Minutes,1);break;case"mm":e=$e(me.Minutes,2);break;case"s":e=$e(me.Seconds,1);break;case"ss":e=$e(me.Seconds,2);break;case"S":e=$e(me.FractionalSeconds,1);break;case"SS":e=$e(me.FractionalSeconds,2);break;case"SSS":e=$e(me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Zu(er.Short);break;case"ZZZZZ":e=Zu(er.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Zu(er.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Zu(er.Long);break;default:return null}return qp[t]=e,e}function wE(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function RN(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function PN(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=wE(e,i);return RN(t,r*(o-i))}function NN(t){if(uE(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return nl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(EN))return ON(r)}let e=new Date(t);if(!uE(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function ON(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,u),e}function uE(t){return t instanceof Date&&!isNaN(t.valueOf())}function IE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Hp=/\s+/,lE=[],EE=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=lE,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Hp):lE}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Hp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Hp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(L(sn),L(Dn))}}static{this.\u0275dir=be({type:t,selectors:[["","ngClass",""]],inputs:{klass:[tt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var zp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ol=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),dE(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);dE(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(L(vo),L(Nu),L(Up))}}static{this.\u0275dir=be({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function dE(t,e){t.context.$implicit=e.item}var sl=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Gp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(L(vo),L(Nu))}}static{this.\u0275dir=be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Gp=class{constructor(){this.$implicit=null,this.ngIf=null}};function hE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${mt(e)}'.`)}function kN(t,e){return new F(2100,!1)}var FN="mediumDate",VN=new U(""),LN=new U(""),al=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??FN,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return bN(n,s,o||this.locale,a)}catch(s){throw kN(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(L(Gu,16),L(VN,24),L(LN,24))}}static{this.\u0275pipe=vw({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Vs=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=xt({type:t})}static{this.\u0275inj=At({})}}return t})(),Zp="browser",jN="server";function UN(t){return t===Zp}function Xp(t){return t===jN}var CE=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>UN(M(bn))?new Wp(M(Dt),window):new Kp})}}return t})(),Wp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=BN(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function BN(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Kp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},rl=class{};var nm=class extends tl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},rm=class t extends nm{static makeCurrent(){pE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=$N();return n==null?null:qN(n)}resetBaseElement(){Ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return IE(document.cookie,e)}},Ls=null;function $N(){return Ls=Ls||document.querySelector("base"),Ls?Ls.getAttribute("href"):null}function qN(t){return new URL(t,document.baseURI).pathname}var HN=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),im=new U(""),AE=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(B(im),B(we))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),cl=class{constructor(e){this._doc=e}},em="ng-app-id",xE=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xp(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${em}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(em),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(em,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(B(Dt),B(wp),B(Ep,8),B(bn))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),tm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sm=/%COMP%/g,ME="%COMP%",zN=`_nghost-${ME}`,GN=`_ngcontent-${ME}`,WN=!0,KN=new U("",{providedIn:"root",factory:()=>WN});function QN(t){return GN.replace(sm,t)}function YN(t){return zN.replace(sm,t)}function RE(t,e){return e.map(n=>n.replace(sm,t))}var DE=(()=>{class t{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Xp(a),this.defaultRenderer=new js(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_n.ShadowDom&&(r=X(x({},r),{encapsulation:_n.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ul?i.applyToHost(n):i instanceof Us&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case _n.Emulated:o=new ul(c,u,r,this.appId,l,s,a,d);break;case _n.ShadowDom:return new om(c,u,n,r,s,a,this.nonce,d);default:o=new Us(c,u,r,l,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(B(AE),B(xE),B(wp),B(KN),B(Dt),B(bn),B(we),B(Ep))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),js=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(TE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(TE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=tm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=tm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Hn.DashCase|Hn.Important)?e.style.setProperty(n,r,i&Hn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Hn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=tr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function TE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var om=class extends js{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=RE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Us=class extends js{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?RE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ul=class extends Us{constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=QN(u),this.hostAttr=YN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},JN=(()=>{class t extends cl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(B(Dt))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),SE=["alt","control","meta","shift"],ZN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},eO=(()=>{class t extends cl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),SE.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=ZN[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),SE.forEach(s=>{if(s!==i){let a=XN[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(B(Dt))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function PE(t,e){return oE(x({rootComponent:t},tO(e)))}function tO(t){return{appProviders:[...sO,...t?.providers??[]],platformProviders:oO}}function nO(){rm.makeCurrent()}function rO(){return new Cn}function iO(){return pI(document),document}var oO=[{provide:bn,useValue:Zp},{provide:Ip,useValue:nO,multi:!0},{provide:Dt,useFactory:iO,deps:[]}];var sO=[{provide:yu,useValue:"root"},{provide:Cn,useFactory:rO,deps:[]},{provide:im,useClass:JN,multi:!0,deps:[Dt,we,bn]},{provide:im,useClass:eO,multi:!0,deps:[Dt]},DE,xE,AE,{provide:Ss,useExisting:DE},{provide:rl,useClass:HN,deps:[]},[]];var NE=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(B(Dt))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var J="primary",na=Symbol("RouteTitle"),dm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Do(t){return new dm(t)}function cO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function uO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xn(t[n],e[n]))return!1;return!0}function xn(t,e){let n=t?hm(t):void 0,r=e?hm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!$E(t[i],e[i]))return!1;return!0}function hm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function $E(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function qE(t){return t.length>0?t[t.length-1]:null}function Ar(t){return zh(t)?t:ci(t)?Re(Promise.resolve(t)):H(t)}var lO={exact:zE,subset:GE},HE={exact:dO,subset:hO,ignored:()=>!0};function OE(t,e,n){return lO[n.paths](t.root,e.root,n.matrixParams)&&HE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function dO(t,e){return xn(t,e)}function zE(t,e,n){if(!hi(t.segments,e.segments)||!hl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!zE(t.children[r],e.children[r],n))return!1;return!0}function hO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$E(t[n],e[n]))}function GE(t,e,n){return WE(t,e,e.segments,n)}function WE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hi(i,n)||e.hasChildren()||!hl(i,n,r))}else if(t.segments.length===n.length){if(!hi(t.segments,n)||!hl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!GE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!hi(t.segments,i)||!hl(t.segments,i,r)||!t.children[J]?!1:WE(t.children[J],e,o,r)}}function hl(t,e,n){return e.every((r,i)=>HE[n](t[i].parameters,r.parameters))}var br=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Do(this.queryParams),this._queryParamMap}toString(){return mO.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fl(this)}},di=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Do(this.parameters),this._parameterMap}toString(){return QE(this)}};function fO(t,e){return hi(t,e)&&t.every((n,r)=>xn(n.parameters,e[r].parameters))}function hi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function pO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var ra=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>new Ws,providedIn:"root"})}}return t})(),Ws=class{parse(e){let n=new pm(e);return new br(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Bs(e.root,!0)}`,r=yO(e.queryParams),i=typeof e.fragment=="string"?`#${gO(e.fragment)}`:"";return`${n}${r}${i}`}},mO=new Ws;function fl(t){return t.segments.map(e=>QE(e)).join("/")}function Bs(t,e){if(!t.hasChildren())return fl(t);if(e){let n=t.children[J]?Bs(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${Bs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=pO(t,(r,i)=>i===J?[Bs(t.children[J],!1)]:[`${i}:${Bs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${fl(t)}/${n[0]}`:`${fl(t)}/(${n.join("//")})`}}function KE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ll(t){return KE(t).replace(/%3B/gi,";")}function gO(t){return encodeURI(t)}function fm(t){return KE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pl(t){return decodeURIComponent(t)}function kE(t){return pl(t.replace(/\+/g,"%20"))}function QE(t){return`${fm(t.path)}${vO(t.parameters)}`}function vO(t){return Object.entries(t).map(([e,n])=>`;${fm(e)}=${fm(n)}`).join("")}function yO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ll(n)}=${ll(i)}`).join("&"):`${ll(n)}=${ll(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var _O=/^[^\/()?;#]+/;function am(t){let e=t.match(_O);return e?e[0]:""}var wO=/^[^\/()?;=#]+/;function IO(t){let e=t.match(wO);return e?e[0]:""}var EO=/^[^=?&#]+/;function CO(t){let e=t.match(EO);return e?e[0]:""}var bO=/^[^&#]+/;function DO(t){let e=t.match(bO);return e?e[0]:""}var pm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new _e(e,n)),r}parseSegment(){let e=am(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new di(pl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=IO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=am(this.remaining);i&&(r=i,this.capture(r))}e[pl(n)]=pl(r)}parseQueryParam(e){let n=CO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=DO(this.remaining);s&&(r=s,this.capture(r))}let i=kE(n),o=kE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=am(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=J);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[J]:new _e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function YE(t){return t.segments.length>0?new _e([],{[J]:t}):t}function JE(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=JE(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new _e(t.segments,e);return TO(n)}function TO(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new _e(t.segments.concat(e.segments),e.children)}return t}function To(t){return t instanceof br}function SO(t,e,n=null,r=null){let i=ZE(t);return XE(i,e,n,r)}function ZE(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new _e(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=YE(r);return e??i}function XE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return cm(i,i,i,n,r);let o=AO(e);if(o.toRoot())return cm(i,i,new _e([],{}),n,r);let s=xO(o,i,t),a=s.processChildren?Hs(s.segmentGroup,s.index,o.commands):tC(s.segmentGroup,s.index,o.commands);return cm(i,s.segmentGroup,a,n,r)}function ml(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ks(t){return typeof t=="object"&&t!=null&&t.outlets}function cm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=eC(t,e,n);let a=YE(JE(s));return new br(a,o,i)}function eC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=eC(o,e,n)}),new _e(t.segments,r)}var gl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ml(r[0]))throw new F(4003,!1);let i=r.find(Ks);if(i&&i!==qE(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function AO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new gl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new gl(n,e,r)}var Co=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function xO(t,e,n){if(t.isAbsolute)return new Co(e,!0,0);if(!n)return new Co(e,!1,NaN);if(n.parent===null)return new Co(n,!0,0);let r=ml(t.commands[0])?0:1,i=n.segments.length-1+r;return MO(n,i,t.numberOfDoubleDots)}function MO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Co(r,!1,i-o)}function RO(t){return Ks(t[0])?t[0].outlets:{[J]:t}}function tC(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return Hs(t,e,n);let r=PO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new _e(t.segments.slice(0,r.pathIndex),{});return o.children[J]=new _e(t.segments.slice(r.pathIndex),t.children),Hs(o,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?mm(t,e,n):r.match?Hs(t,0,i):mm(t,e,n)}function Hs(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=RO(n),i={};if(Object.keys(r).some(o=>o!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let o=Hs(t.children[J],e,n);return new _e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=tC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(t.segments,i)}}function PO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ks(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!VE(c,u,s))return o;r+=2}else{if(!VE(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ks(o)){let c=NO(o.outlets);return new _e(r,c)}if(i===0&&ml(n[0])){let c=t.segments[e];r.push(new di(c.path,FE(n[0]))),i++;continue}let s=Ks(o)?o.outlets[J]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ml(a)?(r.push(new di(s,FE(a))),i+=2):(r.push(new di(s,{})),i++)}return new _e(r,{})}function NO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=mm(new _e([],{}),0,r))}),e}function FE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function VE(t,e,n){return t==n.path&&xn(e,n.parameters)}var zs="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),Wt=class{constructor(e,n){this.id=e,this.url=n}},So=class extends Wt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nr=class extends Wt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),vl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(vl||{}),Dr=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Tr=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},Qs=class extends Wt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yl=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gm=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vm=class extends Wt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ym=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_m=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wm=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Im=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Em=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cm=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bm=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dm=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_l=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=We.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ys=class{},Js=class{constructor(e){this.url=e}};var Tm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ia,this.attachRef=null}},ia=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Tm,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Sm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Sm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Am(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Am(e,this._root).map(n=>n.value)}};function Sm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Sm(t,n);if(r)return r}return null}function Am(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Am(t,n);if(r.length)return r.unshift(e),r}return[]}var Pt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Eo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Il=class extends wl{constructor(e,n){super(e),this.snapshot=n,Lm(this,e)}toString(){return this.snapshot.toString()}};function nC(t){let e=OO(t),n=new Xe([new di("",{})]),r=new Xe({}),i=new Xe({}),o=new Xe({}),s=new Xe(""),a=new rr(n,r,o,s,i,J,t,e.root);return a.snapshot=e.root,new Il(new Pt(a,[]),e)}function OO(t){let e={},n={},r={},i="",o=new Zs([],e,r,i,n,J,t,null,{});return new El("",new Pt(o,[]))}var rr=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(re(u=>u[na]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>Do(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>Do(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),t.params),data:x(x({},e.data),t.data),resolve:x(x(x(x({},t.data),e.data),i?.data),t._resolvedData)}:r={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},i&&iC(i)&&(r.resolve[na]=i.title),r}var Zs=class{get title(){return this.data?.[na]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Do(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Do(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},El=class extends wl{constructor(e,n){super(n),this.url=e,Lm(this,n)}toString(){return rC(this._root)}};function Lm(t,e){e.value._routerState=t,e.children.forEach(n=>Lm(t,n))}function rC(t){let e=t.children.length>0?` { ${t.children.map(rC).join(", ")} } `:"";return`${t.value}${e}`}function um(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xn(e.params,n.params)||t.paramsSubject.next(n.params),uO(e.url,n.url)||t.urlSubject.next(n.url),xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xm(t,e){let n=xn(t.params,e.params)&&fO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||xm(t.parent,e.parent))}function iC(t){return typeof t.title=="string"||t.title===null}var jm=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=M(ia),this.location=M(vo),this.changeDetector=M(ui),this.environmentInjector=M(Et),this.inputBinder=M(Tl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Mm(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=be({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]})}}return t})(),Mm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===rr?this.route:e===ia?this.childContexts:this.parent.get(e,n)}},Tl=new U(""),LE=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=gs([r.queryParams,r.params,r.data]).pipe(Lt(([o,s,a],c)=>(a=x(x(x({},o),s),a),c===0?H(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=sE(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function kO(t,e,n){let r=Xs(t,e._root,n?n._root:void 0);return new Il(r,e)}function Xs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=FO(t,e,n);return new Pt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xs(t,a)),s}}let r=VO(e.value),i=e.children.map(o=>Xs(t,o));return new Pt(r,i)}}function FO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xs(t,r,i);return Xs(t,r)})}function VO(t){return new rr(new Xe(t.url),new Xe(t.params),new Xe(t.queryParams),new Xe(t.fragment),new Xe(t.data),t.outlet,t.component,t)}var oC="ngNavigationCancelingError";function sC(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=To(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aC(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function aC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[oC]=!0,n.cancellationCode=e,n}function LO(t){return cC(t)&&To(t.url)}function cC(t){return!!t&&t[oC]}var jO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=mo({type:t,selectors:[["ng-component"]],standalone:!0,features:[_o],decls:1,vars:0,template:function(r,i){r&1&&Y(0,"router-outlet")},dependencies:[jm],encapsulation:2})}}return t})();function UO(t,e){return t.providers&&!t._injector&&(t._injector=Fu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Um(t){let e=t.children&&t.children.map(Um),n=e?X(x({},t),{children:e}):x({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=jO),n}function Mn(t){return t.outlet||J}function BO(t,e){let n=t.filter(r=>Mn(r)===e);return n.push(...t.filter(r=>Mn(r)!==e)),n}function oa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var $O=(t,e,n,r)=>re(i=>(new Rm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Rm=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),um(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Eo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Eo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Eo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Eo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Dm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Cm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(um(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),um(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=oa(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Cl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bo=class{constructor(e,n){this.component=e,this.route=n}};function qO(t,e,n){let r=t._root,i=e?e._root:null;return $s(r,i,n,[r.value])}function HO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ow(t)?t:e.get(t):r}function $s(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Eo(e);return t.children.forEach(s=>{zO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Gs(a,n.getContext(s),i)),i}function zO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=GO(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Cl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$s(t,e,a?a.children:null,r,i):$s(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bo(a.outlet.component,s))}else s&&Gs(e,a,i),i.canActivateChecks.push(new Cl(r)),o.component?$s(t,null,a?a.children:null,r,i):$s(t,null,n,r,i);return i}function GO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(t.url,e.url)||!xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xm(t,e)||!xn(t.queryParams,e.queryParams);case"paramsChange":default:return!xm(t,e)}}function Gs(t,e,n){let r=Eo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Gs(s,e.children.getContext(o),n):Gs(s,null,n):Gs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bo(e.outlet.component,i)):n.canDeactivateChecks.push(new bo(null,i)):n.canDeactivateChecks.push(new bo(null,i))}function sa(t){return typeof t=="function"}function WO(t){return typeof t=="boolean"}function KO(t){return t&&sa(t.canLoad)}function QO(t){return t&&sa(t.canActivate)}function YO(t){return t&&sa(t.canActivateChild)}function JO(t){return t&&sa(t.canDeactivate)}function ZO(t){return t&&sa(t.canMatch)}function uC(t){return t instanceof Bn||t?.name==="EmptyError"}var dl=Symbol("INITIAL_VALUE");function Ao(){return Lt(t=>gs(t.map(e=>e.pipe($n(1),Yh(dl)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===dl)return dl;if(n===!1||n instanceof br)return n}return!0}),Vt(e=>e!==dl),$n(1)))}function XO(t,e){return Be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?H(X(x({},n),{guardsResult:!0})):ek(s,r,i,t).pipe(Be(a=>a&&WO(a)?tk(r,o,t,e):H(a)),re(a=>X(x({},n),{guardsResult:a})))})}function ek(t,e,n,r){return Re(t).pipe(Be(i=>sk(i.component,i.route,n,e,r)),gn(i=>i!==!0,!0))}function tk(t,e,n,r){return Re(e).pipe(Kr(i=>Ji(rk(i.route.parent,r),nk(i.route,r),ok(t,i.path,n),ik(t,i.route,n))),gn(i=>i!==!0,!0))}function nk(t,e){return t!==null&&e&&e(new bm(t)),H(!0)}function rk(t,e){return t!==null&&e&&e(new Em(t)),H(!0)}function ik(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>Lc(()=>{let s=oa(e)??n,a=xo(o,s),c=QO(a)?a.canActivate(e,t):Gn(s,()=>a(e,t));return Ar(c).pipe(gn())}));return H(i).pipe(Ao())}function ok(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>HO(s)).filter(s=>s!==null).map(s=>Lc(()=>{let a=s.guards.map(c=>{let u=oa(s.node)??n,l=xo(c,u),d=YO(l)?l.canActivateChild(r,t):Gn(u,()=>l(r,t));return Ar(d).pipe(gn())});return H(a).pipe(Ao())}));return H(o).pipe(Ao())}function sk(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let c=oa(e)??i,u=xo(a,c),l=JO(u)?u.canDeactivate(t,e,n,r):Gn(c,()=>u(t,e,n,r));return Ar(l).pipe(gn())});return H(s).pipe(Ao())}function ak(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let a=xo(s,t),c=KO(a)?a.canLoad(e,n):Gn(t,()=>a(e,n));return Ar(c)});return H(o).pipe(Ao(),lC(r))}function lC(t){return Vh(Ge(e=>{if(To(e))throw sC(t,e)}),re(e=>e===!0))}function ck(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=xo(s,t),c=ZO(a)?a.canMatch(e,n):Gn(t,()=>a(e,n));return Ar(c)});return H(o).pipe(Ao(),lC(r))}var ea=class{constructor(e){this.segmentGroup=e||null}},bl=class extends Error{constructor(e){super(),this.urlTree=e}};function Io(t){return Qi(new ea(t))}function uk(t){return Qi(new F(4e3,!1))}function lk(t){return Qi(aC(!1,Nt.GuardRejected))}var Pm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[J])return uk(e.redirectTo);i=i.children[J]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new bl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new br(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new _e(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Nm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dk(t,e,n,r,i){let o=Bm(t,e,n);return o.matched?(r=UO(e,r),ck(r,e,n,i).pipe(re(s=>s===!0?o:x({},Nm)))):H(o)}function Bm(t,e,n){if(e.path==="**")return hk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?x({},Nm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||cO)(n,t,e);if(!i)return x({},Nm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hk(t){return{matched:!0,parameters:t.length>0?qE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function jE(t,e,n,r){return n.length>0&&mk(t,n,r)?{segmentGroup:new _e(e,pk(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&gk(t,n,r)?{segmentGroup:new _e(t.segments,fk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function fk(t,e,n,r){let i={};for(let o of n)if(Sl(t,e,o)&&!r[Mn(o)]){let s=new _e([],{});i[Mn(o)]=s}return x(x({},r),i)}function pk(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&Mn(r)!==J){let i=new _e([],{});n[Mn(r)]=i}return n}function mk(t,e,n){return n.some(r=>Sl(t,e,r)&&Mn(r)!==J)}function gk(t,e,n){return n.some(r=>Sl(t,e,r))}function Sl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function vk(t,e,n,r){return Mn(t)!==r&&(r===J||!Sl(e,n,t))?!1:Bm(e,t,n).matched}function yk(t,e,n){return e.length===0&&!t.children[n]}var Om=class{};function _k(t,e,n,r,i,o,s="emptyOnly"){return new km(t,e,n,r,i,s,o).recognize()}var wk=31,km=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Pm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=jE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(n=>{let r=new Zs([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,{},J,this.rootComponentType,null,{}),i=new Pt(r,n),o=new El("",i),s=SO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,J).pipe(fr(r=>{if(r instanceof bl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ea?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Vm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(re(o=>o instanceof Pt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Re(i).pipe(Kr(o=>{let s=r.children[o],a=BO(n,o);return this.processSegmentGroup(e,a,s,o)}),Qh((o,s)=>(o.push(...s),o)),pr(null),Kh(),Be(o=>{if(o===null)return Io(r);let s=dC(o);return Ik(s),H(s)}))}processSegment(e,n,r,i,o,s){return Re(n).pipe(Kr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(fr(c=>{if(c instanceof ea)return H(null);throw c}))),gn(a=>!!a),fr(a=>{if(uC(a))return yk(r,i,o)?H(new Om):Io(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return vk(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Io(i):Io(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Bm(n,i,o);if(!a)return Io(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wk&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Be(p=>this.processSegment(e,r,n,p.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=dk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Lt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Lt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:p}=a,v=new Zs(l,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Ck(r),Mn(r),r.component??r._loadedComponent??null,r,bk(r)),{segmentGroup:w,slicedSegments:C}=jE(n,l,d,c);if(C.length===0&&w.hasChildren())return this.processChildren(u,c,w).pipe(re(N=>N===null?null:new Pt(v,N)));if(c.length===0&&C.length===0)return H(new Pt(v,[]));let T=Mn(r)===o;return this.processSegment(u,c,w,C,T?J:o,!0).pipe(re(N=>new Pt(v,N instanceof Pt?[N]:[])))}))):Io(n)))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):ak(e,n,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,n).pipe(Ge(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):lk(n))):H({routes:[],injector:e})}};function Ik(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function Ek(t){let e=t.value.routeConfig;return e&&e.path===""}function dC(t){let e=[],n=new Set;for(let r of t){if(!Ek(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=dC(r.children);e.push(new Pt(r.value,i))}return e.filter(r=>!n.has(r))}function Ck(t){return t.data||{}}function bk(t){return t.resolve||{}}function Dk(t,e,n,r,i,o){return Be(s=>_k(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:c})=>X(x({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Tk(t,e){return Be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of hC(c))s.add(u);let a=0;return Re(s).pipe(Kr(c=>o.has(c)?Sk(c,r,t,e):(c.data=Vm(c,c.parent,t).resolve,H(void 0))),Ge(()=>a++),Zi(1),Be(c=>a===s.size?H(n):St))})}function hC(t){let e=t.children.map(n=>hC(n)).flat();return[t,...e]}function Sk(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!iC(i)&&(o[na]=i.title),Ak(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=Vm(t,t.parent,n).resolve,null)))}function Ak(t,e,n,r){let i=hm(t);if(i.length===0)return H({});let o={};return Re(i).pipe(Be(s=>xk(t[s],e,n,r).pipe(gn(),Ge(a=>{o[s]=a}))),Zi(1),Wh(o),fr(s=>uC(s)?St:Qi(s)))}function xk(t,e,n,r){let i=oa(e)??r,o=xo(t,i),s=o.resolve?o.resolve(e,n):Gn(i,()=>o(e,n));return Ar(s)}function lm(t){return Lt(e=>{let n=t(e);return n?Re(n).pipe(re(()=>e)):H(e)})}var fC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(n){return n.data[na]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(Mk),providedIn:"root"})}}return t})(),Mk=(()=>{class t extends fC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(B(NE))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),aa=new U("",{providedIn:"root",factory:()=>({})}),ta=new U(""),$m=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(zu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return H(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Ar(n.loadComponent()).pipe(re(pC),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),vs(()=>{this.componentLoaders.delete(n)})),i=new zi(r,()=>new ft).pipe(Hi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Rk(r,this.compiler,n,this.onLoadEndListener).pipe(vs(()=>{this.childrenLoaders.delete(r)})),s=new zi(o,()=>new ft).pipe(Hi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Rk(t,e,n,r){return Ar(t.loadChildren()).pipe(re(pC),Be(i=>i instanceof As||Array.isArray(i)?H(i):Re(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ta,[],{optional:!0,self:!0}).flat()),{routes:s.map(Um),injector:o}}))}function Pk(t){return t&&typeof t=="object"&&"default"in t}function pC(t){return Pk(t)?t.default:t}var qm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(Nk),providedIn:"root"})}}return t})(),Nk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mC=new U(""),gC=new U("");function Ok(t,e,n){let r=t.get(gC),i=t.get(Dt);return t.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),kk(t))),{onViewTransitionCreated:c}=r;return c&&Gn(t,()=>c({transition:a,from:e,to:n})),s})}function kk(t){return new Promise(e=>{ku(e,{injector:t})})}var Hm=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ft,this.transitionAbortSubject=new ft,this.configLoader=M($m),this.environmentInjector=M(Et),this.urlSerializer=M(ra),this.rootContexts=M(ia),this.location=M(wo),this.inputBindingEnabled=M(Tl,{optional:!0})!==null,this.titleStrategy=M(fC),this.options=M(aa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(qm),this.createViewTransition=M(mC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null;let n=i=>this.events.next(new wm(i)),r=i=>this.events.next(new Im(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(X(x(x({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Xe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zs,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(o=>o.id!==0),re(o=>X(x({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Lt(o=>{let s=!1,a=!1;return H(o).pipe(Lt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Nt.SupersededByNewNavigation),St;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?X(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload"){let d="";return this.events.next(new Tr(c.id,this.urlSerializer.serialize(c.rawUrl),d,vl.IgnoredSameUrlNavigation)),c.resolve(null),St}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return H(c).pipe(Lt(d=>{let p=this.transitions?.getValue();return this.events.next(new So(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?St:Promise.resolve(d)}),Dk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=X(x({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new yl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:p,source:v,restoredState:w,extras:C}=c,T=new So(d,this.urlSerializer.serialize(p),v,w);this.events.next(T);let N=nC(this.rootComponentType).snapshot;return this.currentTransition=o=X(x({},c),{targetSnapshot:N,urlAfterRedirects:p,extras:X(x({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,H(o)}else{let d="";return this.events.next(new Tr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,vl.IgnoredByUrlHandlingStrategy)),c.resolve(null),St}}),Ge(c=>{let u=new gm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),re(c=>(this.currentTransition=o=X(x({},c),{guards:qO(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),XO(this.environmentInjector,c=>this.events.next(c)),Ge(c=>{if(o.guardsResult=c.guardsResult,To(c.guardsResult))throw sC(this.urlSerializer,c.guardsResult);let u=new vm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Vt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Nt.GuardRejected),!1)),lm(c=>{if(c.guards.canActivateChecks.length)return H(c).pipe(Ge(u=>{let l=new ym(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Lt(u=>{let l=!1;return H(u).pipe(Tk(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",Nt.NoDataFromResolver)}}))}),Ge(u=>{let l=new _m(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),lm(c=>{let u=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ge(p=>{l.component=p}),re(()=>{})));for(let p of l.children)d.push(...u(p));return d};return gs(u(c.targetSnapshot.root)).pipe(pr(null),$n(1))}),lm(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,l=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return l?Re(l).pipe(re(()=>o)):H(o)}),re(c=>{let u=kO(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=X(x({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ge(()=>{this.events.next(new Ys)}),$O(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),$n(1),Ge({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Jh(this.transitionAbortSubject.pipe(Ge(c=>{throw c}))),vs(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),fr(c=>{if(a=!0,cC(c))this.events.next(new Dr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),LO(c)?this.events.next(new Js(c.url)):o.resolve(!1);else{this.events.next(new Qs(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return St}))}))}cancelNavigationTransition(n,r,i){let o=new Dr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Fk(t){return t!==zs}var Vk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(Lk),providedIn:"root"})}}return t})(),Fm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Lk=(()=>{class t extends Fm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})()}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(jk),providedIn:"root"})}}return t})(),jk=(()=>{class t extends vC{constructor(){super(...arguments),this.location=M(wo),this.urlSerializer=M(ra),this.options=M(aa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(qm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=nC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof So)this.stateMemento=this.createStateMemento();else if(n instanceof Tr)this.rawUrlTree=r.initialUrl;else if(n instanceof yl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof Ys?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Dr&&(n.code===Nt.GuardRejected||n.code===Nt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Qs?this.restoreHistory(r,!0):n instanceof nr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=x(x({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=x(x({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})()}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(qs||{});function yC(t,e){t.events.pipe(Vt(n=>n instanceof nr||n instanceof Dr||n instanceof Qs||n instanceof Tr),re(n=>n instanceof nr||n instanceof Tr?qs.COMPLETE:(n instanceof Dr?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?qs.REDIRECTING:qs.FAILED),Vt(n=>n!==qs.REDIRECTING),$n(1)).subscribe(()=>{e()})}function Uk(t){throw t}var Bk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$k={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=M($u),this.stateManager=M(vC),this.options=M(aa,{optional:!0})||{},this.pendingTasks=M(Vu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(Hm),this.urlSerializer=M(ra),this.location=M(wo),this.urlHandlingStrategy=M(qm),this._events=new ft,this.errorHandler=this.options.errorHandler||Uk,this.navigated=!1,this.routeReuseStrategy=M(Vk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(ta,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(Tl,{optional:!0}),this.eventsSubscription=new Ve,this.isNgZoneEnabled=M(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Dr&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nr)this.navigated=!0;else if(r instanceof Js){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Fk(i.source)};this.scheduleNavigation(s,zs,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Hk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=x({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Um),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a){case"merge":l=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=ZE(p)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return XE(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=To(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,zs,null,r)}navigate(n,r={skipLocationChange:!1}){return qk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=x({},Bk):r===!1?i=x({},$k):i=r,To(n))return OE(this.currentUrlTree,n,i);let o=this.parseUrl(n);return OE(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,p)=>{a=d,c=p});let l=this.pendingTasks.add();return yC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new F(4008,!1)}function Hk(t){return!(t instanceof Ys)&&!(t instanceof Js)}var Dl=class{};var zk=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Vt(n=>n instanceof nr),Kr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Fu(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Re(i).pipe(Yi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=H(null);let o=i.pipe(Be(s=>s===null?H(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Re([o,s]).pipe(Yi())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(B(Sr),B(zu),B(Et),B(Dl),B($m))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_C=new U(""),Gk=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=M(Et),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof So?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof nr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Tr&&n.code===vl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _l&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>y(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),ku(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new _l(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){TI()}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function wC(t,...e){return vu([{provide:ta,multi:!0,useValue:t},[],{provide:rr,useFactory:IC,deps:[Sr]},{provide:Hu,multi:!0,useFactory:EC},e.map(n=>n.\u0275providers)])}function IC(t){return t.routerState.root}function ca(t,e){return{\u0275kind:t,\u0275providers:e}}function EC(){let t=M(bt);return e=>{let n=t.get(ks);if(e!==n.components[0])return;let r=t.get(Sr),i=t.get(CC);t.get(zm)===1&&r.initialNavigation(),t.get(bC,null,ee.Optional)?.setUpPreloading(),t.get(_C,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var CC=new U("",{factory:()=>new ft}),zm=new U("",{providedIn:"root",factory:()=>1});function Wk(){return ca(2,[{provide:zm,useValue:0},{provide:qu,multi:!0,deps:[bt],useFactory:e=>{let n=e.get(mE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Sr),o=e.get(CC);yC(i,()=>{r(!0)}),e.get(Hm).afterPreactivation=()=>(r(!0),o.closed?H(void 0):o),i.initialNavigation()}))}}])}function Kk(){return ca(3,[{provide:qu,multi:!0,useFactory:()=>{let e=M(Sr);return()=>{e.setUpLocationChangeListener()}}},{provide:zm,useValue:2}])}var bC=new U("");function Qk(t){return ca(0,[{provide:bC,useExisting:zk},{provide:Dl,useExisting:t}])}function Yk(){return ca(8,[LE,{provide:Tl,useExisting:LE}])}function Jk(t){let e=[{provide:mC,useValue:Ok},{provide:gC,useValue:x({skipNextTransition:!!t?.skipInitialTransition},t)}];return ca(9,e)}var UE=new U("ROUTER_FORROOT_GUARD"),Zk=[wo,{provide:ra,useClass:Ws},Sr,ia,{provide:rr,useFactory:IC,deps:[Sr]},$m,[]],DC=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Zk,[],{provide:ta,multi:!0,useValue:n},{provide:UE,useFactory:nF,deps:[[Sr,new $t,new ip]]},{provide:aa,useValue:r||{}},r?.useHash?eF():tF(),Xk(),r?.preloadingStrategy?Qk(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?rF(r):[],r?.bindToComponentInputs?Yk().\u0275providers:[],r?.enableViewTransitions?Jk().\u0275providers:[],iF()]}}static forChild(n){return{ngModule:t,providers:[{provide:ta,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(B(UE,8))}}static{this.\u0275mod=xt({type:t})}static{this.\u0275inj=At({})}}return t})();function Xk(){return{provide:_C,useFactory:()=>{let t=M(CE),e=M(we),n=M(aa),r=M(Hm),i=M(ra);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Gk(i,r,t,e,n)}}}function eF(){return{provide:li,useClass:vE}}function tF(){return{provide:li,useClass:Jp}}function nF(t){return"guarded"}function rF(t){return[t.initialNavigation==="disabled"?Kk().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Wk().\u0275providers:[]]}var BE=new U("");function iF(){return[{provide:BE,useFactory:EC},{provide:Hu,multi:!0,useExisting:BE}]}var AC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,p=(a&15)<<2|u>>6,v=u&63;c||(v=64,s||(p=64)),r.push(n[l],n[d],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new Wm;let p=o<<2|a>>4;if(r.push(p),u!==64){let v=a<<4&240|u>>2;if(r.push(v),d!==64){let w=u<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Wm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},sF=function(t){let e=AC(t);return xC.encodeByteArray(e,!0)},ua=function(t){return sF(t).replace(/\./g,"")},Qm=function(t){try{return xC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cF=()=>aF().__FIREBASE_DEFAULTS__,uF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Qm(t[1]);return e&&JSON.parse(e)},Ym=()=>{try{return cF()||uF()||lF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MC=t=>{var e,n;return(n=(e=Ym())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RC=t=>{let e=MC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jm=()=>{var t;return(t=Ym())===null||t===void 0?void 0:t.config},PC=t=>{var e;return(e=Ym())===null||e===void 0?void 0:e[`_${t}`]};var Al=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function NC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ua(JSON.stringify(n)),ua(JSON.stringify(s)),""].join(".")}function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function kC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zm(){try{return typeof indexedDB=="object"}catch{return!1}}function VC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var dF="FirebaseError",Kt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ir.prototype.create)}},ir=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?hF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Kt(i,a,r)}};function hF(t,e){return t.replace(fF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var fF=/\{\$([^}]+)}/g;function Mo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(SC(o)&&SC(s)){if(!Mo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function SC(t){return t!==null&&typeof t=="object"}function Xm(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LC(t,e){let n=new Km(t,e);return n.subscribe.bind(n)}var Km=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gm),i.error===void 0&&(i.error=Gm),i.complete===void 0&&(i.complete=Gm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gm(){}var j6=4*60*60*1e3;function Yt(t){return t&&t._delegate?t._delegate:t}var Jt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fi="[DEFAULT]";var eg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Al;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gF(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mF(t){return t===fi?void 0:t}function gF(t){return t.instantiationMode==="EAGER"}var xl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new eg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vF=[],se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{}),yF={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},_F=se.INFO,wF={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},IF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=wF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xr=class{constructor(e){this.name=e,this._logLevel=_F,this._logHandler=IF,this._userLogHandler=null,vF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var EF=(t,e)=>e.some(n=>t instanceof n),jC,UC;function CF(){return jC||(jC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bF(){return UC||(UC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var BC=new WeakMap,ng=new WeakMap,$C=new WeakMap,tg=new WeakMap,ig=new WeakMap;function DF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Rn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&BC.set(n,t)}).catch(()=>{}),ig.set(e,t),e}function TF(t){if(ng.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ng.set(t,e)}var rg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ng.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$C.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qC(t){rg=t(rg)}function SF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ml(this),e,...n);return $C.set(r,e.sort?e.sort():[e]),Rn(r)}:bF().includes(t)?function(...e){return t.apply(Ml(this),e),Rn(BC.get(this))}:function(...e){return Rn(t.apply(Ml(this),e))}}function AF(t){return typeof t=="function"?SF(t):(t instanceof IDBTransaction&&TF(t),EF(t,CF())?new Proxy(t,rg):t)}function Rn(t){if(t instanceof IDBRequest)return DF(t);if(tg.has(t))return tg.get(t);let e=AF(t);return e!==t&&(tg.set(t,e),ig.set(e,t)),e}var Ml=t=>ig.get(t);function zC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Rn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Rn(s.result),c.oldVersion,c.newVersion,Rn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var xF=["get","getKey","getAll","getAllKeys","count"],MF=["put","add","delete","clear"],og=new Map;function HC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(og.get(e))return og.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=MF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xF.includes(n)))return;let o=function(s,...a){return y(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return og.set(e,o),o}qC(t=>X(x({},t),{get:(e,n,r)=>HC(e,n)||t.get(e,n,r),has:(e,n)=>!!HC(e,n)||t.has(e,n)}));var ag=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function RF(t){let e=t.getComponent();return e?.type==="VERSION"}var cg="@firebase/app",GC="0.9.24";var pi=new xr("@firebase/app"),PF="@firebase/app-compat",NF="@firebase/analytics-compat",OF="@firebase/analytics",kF="@firebase/app-check-compat",FF="@firebase/app-check",VF="@firebase/auth",LF="@firebase/auth-compat",jF="@firebase/database",UF="@firebase/database-compat",BF="@firebase/functions",$F="@firebase/functions-compat",qF="@firebase/installations",HF="@firebase/installations-compat",zF="@firebase/messaging",GF="@firebase/messaging-compat",WF="@firebase/performance",KF="@firebase/performance-compat",QF="@firebase/remote-config",YF="@firebase/remote-config-compat",JF="@firebase/storage",ZF="@firebase/storage-compat",XF="@firebase/firestore",eV="@firebase/firestore-compat",tV="firebase",nV="10.7.0";var ug="[DEFAULT]",rV={[cg]:"fire-core",[PF]:"fire-core-compat",[OF]:"fire-analytics",[NF]:"fire-analytics-compat",[FF]:"fire-app-check",[kF]:"fire-app-check-compat",[VF]:"fire-auth",[LF]:"fire-auth-compat",[jF]:"fire-rtdb",[UF]:"fire-rtdb-compat",[BF]:"fire-fn",[$F]:"fire-fn-compat",[qF]:"fire-iid",[HF]:"fire-iid-compat",[zF]:"fire-fcm",[GF]:"fire-fcm-compat",[WF]:"fire-perf",[KF]:"fire-perf-compat",[QF]:"fire-rc",[YF]:"fire-rc-compat",[JF]:"fire-gcs",[ZF]:"fire-gcs-compat",[XF]:"fire-fst",[eV]:"fire-fst-compat","fire-js":"fire-js",[tV]:"fire-js-all"};var la=new Map,lg=new Map;function iV(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rr(t){let e=t.name;if(lg.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,t);for(let n of la.values())iV(n,t);return!0}function pg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var oV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Mr=new ir("app","Firebase",oV);var dg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}};var Ro=nV;function ha(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ug,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Mr.create("bad-app-name",{appName:String(i)});if(n||(n=Jm()),!n)throw Mr.create("no-options");let o=la.get(i);if(o){if(Mo(n,o.options)&&Mo(r,o.config))return o;throw Mr.create("duplicate-app",{appName:i})}let s=new xl(i);for(let c of lg.values())s.addComponent(c);let a=new dg(n,r,s);return la.set(i,a),a}function fa(t=ug){let e=la.get(t);if(!e&&t===ug&&Jm())return ha();if(!e)throw Mr.create("no-app",{appName:t});return e}function Rl(){return Array.from(la.values())}function Ke(t,e,n){var r;let i=(r=rV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(a.join(" "));return}Rr(new Jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var sV="firebase-heartbeat-database",aV=1,da="firebase-heartbeat-store",sg=null;function YC(){return sg||(sg=zC(sV,aV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(da)}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),sg}function cV(t){return y(this,null,function*(){try{return yield(yield YC()).transaction(da).objectStore(da).get(JC(t))}catch(e){if(e instanceof Kt)pi.warn(e.message);else{let n=Mr.create("idb-get",{originalErrorMessage:e?.message});pi.warn(n.message)}}})}function WC(t,e){return y(this,null,function*(){try{let r=(yield YC()).transaction(da,"readwrite");yield r.objectStore(da).put(e,JC(t)),yield r.done}catch(n){if(n instanceof Kt)pi.warn(n.message);else{let r=Mr.create("idb-set",{originalErrorMessage:n?.message});pi.warn(r.message)}}})}function JC(t){return`${t.name}!${t.options.appId}`}var uV=1024,lV=30*24*60*60*1e3,hg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new fg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=lV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return y(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=KC(),{heartbeatsToSend:r,unsentEntries:i}=dV(this._heartbeatsCache.heartbeats),o=ua(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function KC(){return new Date().toISOString().substring(0,10)}function dV(t,e=uV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),QC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var fg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return Zm()?VC().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield cV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function QC(t){return ua(JSON.stringify({version:2,heartbeats:t})).length}function hV(t){Rr(new Jt("platform-logger",e=>new ag(e),"PRIVATE")),Rr(new Jt("heartbeat",e=>new hg(e),"PRIVATE")),Ke(cg,GC,t),Ke(cg,GC,"esm2017"),Ke("fire-js","")}hV("");var fV="firebase",pV="10.7.0";Ke(fV,pV,"app");var No=new zn("ANGULARFIRE2_VERSION");function gg(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ma=(t,e)=>{let n=e?[e]:Rl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},pa=class{constructor(){return ma(mV)}},mV="app-check";function Po(){}var Pl=class{zone;delegate;constructor(e,n=qh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},mg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Po,{},Po,Po)),n.pipe(Ge({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ga=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Pl(Zone.current)),this.insideAngular=n.run(()=>new Pl(Zone.current,$h)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(B(we))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function gV(t){return Nl().ngZone.runOutsideAngular(()=>t())}function mi(t){return Nl().ngZone.run(()=>t())}function vV(t){return yV(Nl())(t)}function yV(t){return function(n){return n=n.lift(new mg(t.ngZone)),n.pipe(hr(t.outsideAngular),dr(t.insideAngular))}}var _V=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),mi(()=>t.apply(void 0,r))},Zt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=mi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Po,{},Po,Po))),r[o]=_V(r[o],n));let i=gV(()=>t.apply(this,r));if(!e)if(i instanceof ue){let o=Nl();return i.pipe(hr(o.outsideAngular),dr(o.insideAngular))}else return mi(()=>i);return i instanceof ue?i.pipe(vV):i instanceof Promise?mi(()=>new Promise((o,s)=>i.then(a=>mi(()=>o(a)),a=>mi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:mi(()=>i)};var gi=class{constructor(e){return e}},va=class{constructor(){return Rl()}};function wV(t){return t&&t.length===1?t[0]:new gi(fa())}var vg=new U("angularfire2._apps"),IV={provide:gi,useFactory:wV,deps:[[new $t,vg]]},EV={provide:va,deps:[[new $t,vg]]};function CV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new gi(r)}}var bV=(()=>{class t{constructor(n){Ke("angularfire",No.full,"core"),Ke("angularfire",No.full,"app"),Ke("angular",eE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(B(bn))};static \u0275mod=xt({type:t});static \u0275inj=At({providers:[IV,EV]})}return t})();function ZC(t,...e){return{ngModule:bV,providers:[{provide:vg,useFactory:CV(t),multi:!0,deps:[we,bt,ga,...e]}]}}var XC=Zt(ha,!0);function sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ab=sb,cb=new ir("auth","Firebase",sb());var Fl=new xr("@firebase/auth");function TV(t,...e){Fl.logLevel<=se.WARN&&Fl.warn(`Auth (${Ro}): ${t}`,...e)}function kl(t,...e){Fl.logLevel<=se.ERROR&&Fl.error(`Auth (${Ro}): ${t}`,...e)}function eb(t,...e){throw Ag(t,...e)}function ub(t,...e){return Ag(t,...e)}function SV(t,e,n){let r=Object.assign(Object.assign({},ab()),{[e]:n});return new ir("auth","Firebase",r).create(e,{appName:t.name})}function Ag(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cb.create(t,...e)}function Ie(t,e,...n){if(!t)throw Ag(e,...n)}function ya(t){let e="INTERNAL ASSERTION FAILED: "+t;throw kl(e),new Error(e)}function Vl(t,e){t||ya(e)}function AV(){return tb()==="http:"||tb()==="https:"}function tb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function xV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AV()||kC()||"connection"in navigator)?navigator.onLine:!0}function MV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var yi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vl(n>e,"Short delay should be less than long delay!"),this.isMobile=OC()||FC()}get(){return xV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function RV(t,e){Vl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ll=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var PV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var NV=new yi(3e4,6e4);function lb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function zl(o,s,a,c){return y(this,arguments,function*(t,e,n,r,i={}){return db(t,i,()=>y(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Xm(Object.assign({key:t.config.apiKey},l)).slice(1),p=yield t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),Ll.fetch()(hb(t,t.config.apiHost,n,d),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},u))}))})}function db(t,e,n){return y(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},PV),e);try{let i=new wg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ol(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ol(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ol(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ol(t,"user-disabled",s);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw SV(t,l,u);eb(t,l)}}catch(i){if(i instanceof Kt)throw i;eb(t,"network-request-failed",{message:String(i)})}})}function hb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?RV(t.config,i):`${t.config.apiScheme}://${i}`}var wg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ub(this.auth,"network-request-failed")),NV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ol(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ub(t,e,r);return i.customData._tokenResponse=n,i}function OV(t,e){return y(this,null,function*(){return zl(t,"POST","/v1/accounts:delete",e)})}function kV(t,e){return y(this,null,function*(){return zl(t,"POST","/v1/accounts:lookup",e)})}function _a(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xg(t,e=!1){return y(this,null,function*(){let n=Yt(t),r=yield n.getIdToken(e),i=fb(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:_a(yg(i.auth_time)),issuedAtTime:_a(yg(i.iat)),expirationTime:_a(yg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function yg(t){return Number(t)*1e3}function fb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Qm(n);return i?JSON.parse(i):(kl("Failed to decode base64 JWT payload"),null)}catch(i){return kl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function FV(t){let e=fb(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ig(t,e,n=!1){return y(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Kt&&VV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function VV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Eg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),n)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var jl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_a(this.lastLoginAt),this.creationTime=_a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ul(t){return y(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ig(t,kV(n,{idToken:r}));Ie(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jV(o.providerUserInfo):[],a=LV(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,l=c?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jl(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Mg(t){return y(this,null,function*(){let e=Yt(t);yield Ul(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function LV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jV(t){return t.map(e=>{var{providerId:n}=e,r=Hh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function UV(t,e){return y(this,null,function*(){let n=yield db(t,{},()=>y(this,null,function*(){let r=Xm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=hb(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ll.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function BV(t,e){return y(this,null,function*(){return zl(t,"POST","/v2/accounts:revokeToken",lb(t,e))})}var Bl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return y(this,null,function*(){return Ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield UV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ya("not implemented")}};function Pr(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var $l=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Hh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let n=yield Ig(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return xg(this,e)}reload(){return Mg(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ul(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){let e=yield this.getIdToken();return yield Ig(this,OV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,N=(u=n.createdAt)!==null&&u!==void 0?u:void 0,ce=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:te,emailVerified:Te,isAnonymous:Ze,providerData:ve,stsTokenManager:at}=n;Ie(te&&at,e,"internal-error");let mn=Bl.fromJSON(this.name,at);Ie(typeof te=="string",e,"internal-error"),Pr(d,e.name),Pr(p,e.name),Ie(typeof Te=="boolean",e,"internal-error"),Ie(typeof Ze=="boolean",e,"internal-error"),Pr(v,e.name),Pr(w,e.name),Pr(C,e.name),Pr(T,e.name),Pr(N,e.name),Pr(ce,e.name);let qr=new t({uid:te,auth:e,email:p,emailVerified:Te,displayName:d,isAnonymous:Ze,photoURL:w,phoneNumber:v,tenantId:C,stsTokenManager:mn,createdAt:N,lastLoginAt:ce});return ve&&Array.isArray(ve)&&(qr.providerData=ve.map(Li=>Object.assign({},Li))),T&&(qr._redirectEventId=T),qr}static _fromIdTokenResponse(e,n,r=!1){return y(this,null,function*(){let i=new Bl;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ul(o),o})}};var nb=new Map;function vi(t){Vl(t instanceof Function,"Expected a class definition");let e=nb.get(t);return e?(Vl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nb.set(t,e),e)}var $V=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(n,r){return y(this,null,function*(){this.storage[n]=r})}_get(n){return y(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return y(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Cg=$V;function _g(t,e,n){return`firebase:${t}:${e}:${n}`}var ql=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_g(this.userKey,i.apiKey,o),this.fullPersistenceKey=_g("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?$l._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(this,null,function*(){if(!n.length)return new t(vi(Cg),e,r);let i=(yield Promise.all(n.map(u=>y(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||vi(Cg),s=_g(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(s);if(l){let d=$l._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>y(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function rb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KV(e))return"Blackberry";if(QV(e))return"Webos";if(HV(e))return"Safari";if((e.includes("chrome/")||zV(e))&&!e.includes("edge/"))return"Chrome";if(WV(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function qV(t=Qt()){return/firefox\//i.test(t)}function HV(t=Qt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zV(t=Qt()){return/crios\//i.test(t)}function GV(t=Qt()){return/iemobile/i.test(t)}function WV(t=Qt()){return/android/i.test(t)}function KV(t=Qt()){return/blackberry/i.test(t)}function QV(t=Qt()){return/webos/i.test(t)}function pb(t,e=[]){let n;switch(t){case"Browser":n=rb(Qt());break;case"Worker":n=`${rb(Qt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${r}`}var bg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YV(n){return y(this,arguments,function*(t,e={}){return zl(t,"GET","/v2/passwordPolicy",lb(t,e))})}var JV=6,Dg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:JV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Tg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hl(this),this.idTokenSubscription=new Hl(this),this.beforeStateQueue=new bg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ql.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return y(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return y(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield Ul(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=MV()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){let n=e?Yt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return y(this,null,function*(){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(vi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield YV(this),n=new Dg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ir("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield BV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&vi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=yield ql.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return y(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&TV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ZV(t){return Yt(t)}var Hl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=LC(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function XV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function e2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var NG=XV("rcb"),OG=new yi(3e4,6e4);var kG=new yi(2e3,1e4);var FG=10*60*1e3;var VG=new yi(3e4,6e4);var LG=new yi(5e3,15e3);var jG=encodeURIComponent("fac");var ib="@firebase/auth",ob="1.5.0";var Sg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function t2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function n2(t){Rr(new Jt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pb(t)},u=new Tg(r,i,o,c);return e2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rr(new Jt("auth-internal",e=>{let n=ZV(e.getProvider("auth").getImmediate());return(r=>new Sg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(ib,ob,t2(t)),Ke(ib,ob,"esm2017")}var r2=5*60,UG=PC("authIdTokenMaxAge")||r2;n2("Browser");var nL="auth";var Gl=class{constructor(){return ma(nL)}};var rL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ln={},R,Zg=Zg||{},G=rL||self;function sd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Na(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function iL(t){return Object.prototype.hasOwnProperty.call(t,Rg)&&t[Rg]||(t[Rg]=++oL)}var Rg="closure_uid_"+(1e9*Math.random()>>>0),oL=0;function sL(t,e,n){return t.call.apply(t.bind,arguments)}function aL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ut=sL:ut=aL,ut.apply(null,arguments)}function Wl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ye(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Nr(){this.s=this.s,this.o=this.o}var cL=0;Nr.prototype.s=!1;Nr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),cL!=0)&&iL(this)};Nr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Sb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Xg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mb(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(sd(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var uL=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};G.addEventListener("test",n,e),G.removeEventListener("test",n,e)}catch{}return t}();function Da(t){return/^[\s\xa0]*$/.test(t)}function ad(){var t=G.navigator;return t&&(t=t.userAgent)?t:""}function Pn(t){return ad().indexOf(t)!=-1}function ev(t){return ev[" "](t),t}ev[" "]=function(){};function lL(t,e){var n=ZL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var dL=Pn("Opera"),Vo=Pn("Trident")||Pn("MSIE"),Ab=Pn("Edge"),Fg=Ab||Vo,xb=Pn("Gecko")&&!(ad().toLowerCase().indexOf("webkit")!=-1&&!Pn("Edge"))&&!(Pn("Trident")||Pn("MSIE"))&&!Pn("Edge"),hL=ad().toLowerCase().indexOf("webkit")!=-1&&!Pn("Edge");function Mb(){var t=G.document;return t?t.documentMode:void 0}var Vg;e:{if(Kl="",Ql=function(){var t=ad();if(xb)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ab)return/Edge\/([\d\.]+)/.exec(t);if(Vo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(hL)return/WebKit\/(\S+)/.exec(t);if(dL)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Ql&&(Kl=Ql?Ql[1]:""),Vo&&(Yl=Mb(),Yl!=null&&Yl>parseFloat(Kl))){Vg=String(Yl);break e}Vg=Kl}var Kl,Ql,Yl,Lg;G.document&&Vo?(Pg=Mb(),Lg=Pg||parseInt(Vg,10)||void 0):Lg=void 0;var Pg,fL=Lg;function Ta(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xb){e:{try{ev(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:pL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ta.$.h.call(this)}}Ye(Ta,lt);var pL={2:"touch",3:"pen",4:"mouse"};Ta.prototype.h=function(){Ta.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Oa="closure_listenable_"+(1e6*Math.random()|0),mL=0;function gL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++mL,this.fa=this.ia=!1}function cd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tv(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function vL(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function Rb(t){let e={};for(let n in t)e[n]=t[n];return e}var gb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pb(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<gb.length;o++)n=gb[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ud(t){this.src=t,this.g={},this.h=0}ud.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Ug(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new gL(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function jg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Sb(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(cd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ug(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var nv="closure_lm_"+(1e6*Math.random()|0),Ng={};function Nb(t,e,n,r,i){if(r&&r.once)return kb(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Nb(t,e[o],n,r,i);return null}return n=ov(n),t&&t[Oa]?t.O(e,n,Na(r)?!!r.capture:!!r,i):Ob(t,e,n,!1,r,i)}function Ob(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Na(i)?!!i.capture:!!i,a=iv(t);if(a||(t[nv]=a=new ud(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=yL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uL||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Vb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function yL(){function t(n){return e.call(t.src,t.listener,n)}let e=_L;return t}function kb(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)kb(t,e[o],n,r,i);return null}return n=ov(n),t&&t[Oa]?t.P(e,n,Na(r)?!!r.capture:!!r,i):Ob(t,e,n,!0,r,i)}function Fb(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Fb(t,e[o],n,r,i);else r=Na(r)?!!r.capture:!!r,n=ov(n),t&&t[Oa]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Ug(o,n,r,i),-1<n&&(cd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=iv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ug(e,n,r,i)),(n=-1<t?e[t]:null)&&rv(n))}function rv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Oa])jg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Vb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iv(e))?(jg(n,t),n.h==0&&(n.src=null,e[nv]=null)):cd(t)}}}function Vb(t){return t in Ng?Ng[t]:Ng[t]="on"+t}function _L(t,e){if(t.fa)t=!0;else{e=new Ta(e,this);var n=t.listener,r=t.la||t.src;t.ia&&rv(t),t=n.call(r,e)}return t}function iv(t){return t=t[nv],t instanceof ud?t:null}var Og="__closure_events_fn_"+(1e9*Math.random()>>>0);function ov(t){return typeof t=="function"?t:(t[Og]||(t[Og]=function(e){return t.handleEvent(e)}),t[Og])}function Qe(){Nr.call(this),this.i=new ud(this),this.S=this,this.J=null}Ye(Qe,Nr);Qe.prototype[Oa]=!0;Qe.prototype.removeEventListener=function(t,e,n,r){Fb(this,t,e,n,r)};function ot(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var i=e;e=new lt(r,t),Pb(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Jl(s,r,!0,e)&&i}if(s=e.g=t,i=Jl(s,r,!0,e)&&i,i=Jl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Jl(s,r,!1,e)&&i}Qe.prototype.N=function(){if(Qe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cd(n[r]);delete t.g[e],t.h--}}this.J=null};Qe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Qe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Jl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&jg(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var sv=G.JSON.stringify,Bg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function wL(){var t=av;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $g=class{constructor(){this.h=this.g=null}add(e,n){let r=Lb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Lb=new Bg(()=>new qg,t=>t.reset()),qg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function IL(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function EL(t){G.setTimeout(()=>{throw t},0)}var Sa,Aa=!1,av=new $g,jb=()=>{let t=G.Promise.resolve(void 0);Sa=()=>{t.then(CL)}},CL=()=>{for(var t;t=wL();){try{t.h.call(t.g)}catch(n){EL(n)}var e=Lb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Aa=!1};function ld(t,e){Qe.call(this),this.h=t||1,this.g=e||G,this.j=ut(this.qb,this),this.l=Date.now()}Ye(ld,Qe);R=ld.prototype;R.ga=!1;R.T=null;R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ot(this,"tick"),this.ga&&(cv(this),this.start()))}};R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function cv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}R.N=function(){ld.$.N.call(this),cv(this),delete this.g};function uv(t,e,n){if(typeof t=="function")n&&(t=ut(t,n));else if(t&&typeof t.handleEvent=="function")t=ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:G.setTimeout(t,e||0)}function Ub(t){t.g=uv(()=>{t.g=null,t.i&&(t.i=!1,Ub(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Hg=class extends Nr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ub(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function xa(t){Nr.call(this),this.h=t,this.g={}}Ye(xa,Nr);var vb=[];function Bb(t,e,n,r){Array.isArray(n)||(n&&(vb[0]=n.toString()),n=vb);for(var i=0;i<n.length;i++){var o=Nb(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function $b(t){tv(t.g,function(e,n){this.g.hasOwnProperty(n)&&rv(e)},t),t.g={}}xa.prototype.N=function(){xa.$.N.call(this),$b(this)};xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function dd(){this.g=!0}dd.prototype.Ea=function(){this.g=!1};function bL(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+u+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function DL(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ko(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SL(t,n)+(r?" "+r:"")})}function TL(t,e){t.info(function(){return"TIMEOUT: "+e})}dd.prototype.info=function(){};function SL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return sv(n)}catch{return e}}var Ei={},yb=null;function hd(){return yb=yb||new Qe}Ei.Ta="serverreachability";function qb(t){lt.call(this,Ei.Ta,t)}Ye(qb,lt);function Ma(t){let e=hd();ot(e,new qb(e))}Ei.STAT_EVENT="statevent";function Hb(t,e){lt.call(this,Ei.STAT_EVENT,t),this.stat=e}Ye(Hb,lt);function yt(t){let e=hd();ot(e,new Hb(e,t))}Ei.Ua="timingevent";function zb(t,e){lt.call(this,Ei.Ua,t),this.size=e}Ye(zb,lt);function ka(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){t()},e)}var fd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lv(){}lv.prototype.h=null;function _b(t){return t.h||(t.h=t.i())}function Wb(){}var Fa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dv(){lt.call(this,"d")}Ye(dv,lt);function hv(){lt.call(this,"c")}Ye(hv,lt);var zg;function pd(){}Ye(pd,lv);pd.prototype.g=function(){return new XMLHttpRequest};pd.prototype.i=function(){return{}};zg=new pd;function Va(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new xa(this),this.P=AL,t=Fg?125:void 0,this.V=new ld(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kb}function Kb(){this.i=null,this.g="",this.h=!1}var AL=45e3,Qb={},Gg={};R=Va.prototype;R.setTimeout=function(t){this.P=t};function Wg(t,e,n){t.L=1,t.A=gd(sr(e)),t.u=n,t.S=!0,Yb(t,null)}function Yb(t,e){t.G=Date.now(),La(t),t.B=sr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),iD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Kb,t.g=DD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Hg(ut(t.Pa,t,t.g),t.O)),Bb(t.U,t.g,"readystatechange",t.nb),e=t.I?Rb(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ma(),bL(t.j,t.v,t.B,t.m,t.W,t.u)}R.nb=function(t){t=t.target;let e=this.M;e&&Nn(t)==3?e.l():this.Pa(t)};R.Pa=function(t){try{if(t==this.g)e:{let l=Nn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Fg||this.g&&(this.h.h||this.g.ja()||Cb(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Ma(3):Ma(2)),md(this);var n=this.g.da();this.ca=n;t:if(Jb(this)){var r=Cb(this.g);t="";var i=r.length,o=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),ba(this);var s="";break t}this.h.i=new G.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,DL(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Da(a)){var u=a;break t}}u=null}if(n=u)ko(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kg(this,n);else{this.i=!1,this.s=3,yt(12),_i(this),ba(this);break e}}this.S?(Zb(this,l,s),Fg&&this.i&&l==3&&(Bb(this.U,this.V,"tick",this.mb),this.V.start())):(ko(this.j,this.m,s,null),Kg(this,s)),l==4&&_i(this),this.i&&!this.J&&(l==4?ID(this.l,this):(this.i=!1,La(this)))}else QL(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),_i(this),ba(this)}}}catch{}finally{}};function Jb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Zb(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=xL(t,n),i==Gg){e==4&&(t.s=4,yt(14),r=!1),ko(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Qb){t.s=4,yt(15),ko(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ko(t.j,t.m,i,null),Kg(t,i);Jb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,yt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yv(e),e.M=!0,yt(11))):(ko(t.j,t.m,n,"[Invalid Chunked Response]"),_i(t),ba(t))}R.mb=function(){if(this.g){var t=Nn(this.g),e=this.g.ja();this.o<e.length&&(md(this),Zb(this,t,e),this.i&&t!=4&&La(this))}};function xL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Gg:(n=Number(e.substring(n,r)),isNaN(n)?Qb:(r+=1,r+n>e.length?Gg:(e=e.slice(r,r+n),t.o=r+n,e)))}R.cancel=function(){this.J=!0,_i(this)};function La(t){t.Y=Date.now()+t.P,Xb(t,t.P)}function Xb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ka(ut(t.lb,t),e)}function md(t){t.C&&(G.clearTimeout(t.C),t.C=null)}R.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(TL(this.j,this.B),this.L!=2&&(Ma(),yt(17)),_i(this),this.s=2,ba(this)):Xb(this,this.Y-t)};function ba(t){t.l.H==0||t.J||ID(t.l,t)}function _i(t){md(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,cv(t.V),$b(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Kg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Qg(n.i,t))){if(!t.K&&Qg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)nd(n),_d(n);else break e;vv(n),yt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ka(ut(n.ib,n),6e3));if(1>=aD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wi(n,11)}else if((t.K||n.g==t)&&nd(n),!Da(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let p=u[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let v=t.g;if(v){let w=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=r.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(fv(o,o.h),o.h=null))}if(r.F){let C=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,xe(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=bD(r,r.J?r.pa:null,r.Y),s.K){cD(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(md(a),La(a)),r.g=s}else _D(r);0<n.j.length&&wd(n)}else u[0]!="stop"&&u[0]!="close"||wi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wi(n,7):gv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ma(4)}catch{}}function ML(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(sd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function eD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(sd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=RL(t),r=ML(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var tD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ii(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ii){this.h=t.h,ed(this,t.j),this.s=t.s,this.g=t.g,td(this,t.m),this.l=t.l;var e=t.i,n=new Ra;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wb(this,n),this.o=t.o}else t&&(e=String(t).match(tD))?(this.h=!1,ed(this,e[1]||"",!0),this.s=Ea(e[2]||""),this.g=Ea(e[3]||"",!0),td(this,e[4]),this.l=Ea(e[5]||"",!0),wb(this,e[6]||"",!0),this.o=Ea(e[7]||"")):(this.h=!1,this.i=new Ra(null,this.h))}Ii.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ca(e,Ib,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ca(e,Ib,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ca(n,n.charAt(0)=="/"?kL:OL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ca(n,VL)),t.join("")};function sr(t){return new Ii(t)}function ed(t,e,n){t.j=n?Ea(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function td(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wb(t,e,n){e instanceof Ra?(t.i=e,LL(t.i,t.h)):(n||(e=Ca(e,FL)),t.i=new Ra(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function gd(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ea(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ca(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,NL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function NL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ib=/[#\/\?@]/g,OL=/[#\?:]/g,kL=/[#\?]/g,FL=/[#\?@]/g,VL=/#/g;function Ra(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Or(t){t.g||(t.g=new Map,t.h=0,t.i&&PL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}R=Ra.prototype;R.add=function(t,e){Or(this),this.i=null,t=Lo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nD(t,e){Or(t),e=Lo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rD(t,e){return Or(t),e=Lo(t,e),t.g.has(e)}R.forEach=function(t,e){Or(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};R.ta=function(){Or(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};R.Z=function(t){Or(this);let e=[];if(typeof t=="string")rD(this,t)&&(e=e.concat(this.g.get(Lo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};R.set=function(t,e){return Or(this),this.i=null,t=Lo(this,t),rD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};R.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function iD(t,e,n){nD(t,e),0<n.length&&(t.i=null,t.g.set(Lo(t,e),Xg(n)),t.h+=n.length)}R.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Lo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LL(t,e){e&&!t.j&&(Or(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nD(this,r),iD(this,i,n))},t)),t.j=e}var jL=class{constructor(t,e){this.g=t,this.map=e}};function oD(t){this.l=t||UL,G.PerformanceNavigationTiming?(t=G.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(G.g&&G.g.Ka&&G.g.Ka()&&G.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var UL=10;function sD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function aD(t){return t.h?1:t.g?t.g.size:0}function Qg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fv(t,e){t.g?t.g.add(e):t.h=e}function cD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}oD.prototype.cancel=function(){if(this.i=uD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function uD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Xg(t.i)}var BL=class{stringify(t){return G.JSON.stringify(t,void 0)}parse(t){return G.JSON.parse(t,void 0)}};function $L(){this.g=new BL}function qL(t,e,n){let r=n||"";try{eD(t,function(i,o){let s=i;Na(i)&&(s=sv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function HL(t,e){let n=new dd;if(G.Image){let r=new Image;r.onload=Wl(Zl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wl(Zl,n,r,"TestLoadImage: error",!1,e),r.onabort=Wl(Zl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wl(Zl,n,r,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Zl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ja(t){this.l=t.ec||null,this.j=t.ob||!1}Ye(ja,lv);ja.prototype.g=function(){return new vd(this.l,this.j)};ja.prototype.i=function(t){return function(){return t}}({});function vd(t,e){Qe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ye(vd,Qe);var pv=0;R=vd.prototype;R.open=function(t,e){if(this.readyState!=pv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pa(this)};R.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||G).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=pv};R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function lD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ua(this):Pa(this),this.readyState==3&&lD(this)}};R.Za=function(t){this.g&&(this.response=this.responseText=t,Ua(this))};R.Ya=function(t){this.g&&(this.response=t,Ua(this))};R.ka=function(){this.g&&Ua(this)};function Ua(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pa(t)}R.setRequestHeader=function(t,e){this.v.append(t,e)};R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};R.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Pa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zL=G.JSON.parse;function Oe(t){Qe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dD,this.L=this.M=!1}Ye(Oe,Qe);var dD="",GL=/^https?$/i,WL=["POST","PUT"];R=Oe.prototype;R.Oa=function(t){this.M=t};R.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zg.g(),this.C=this.u?_b(this.u):_b(zg),this.g.onreadystatechange=ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Eb(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=G.FormData&&t instanceof G.FormData,!(0<=Sb(WL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pD(this),0<this.B&&((this.L=KL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.ua,this)):this.A=uv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Eb(this,o)}};function KL(t){return Vo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}R.ua=function(){typeof Zg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ot(this,"timeout"),this.abort(8))};function Eb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hD(t),yd(t)}function hD(t){t.F||(t.F=!0,ot(t,"complete"),ot(t,"error"))}R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ot(this,"complete"),ot(this,"abort"),yd(this))};R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yd(this,!0)),Oe.$.N.call(this)};R.La=function(){this.s||(this.G||this.v||this.l?fD(this):this.kb())};R.kb=function(){fD(this)};function fD(t){if(t.h&&typeof Zg<"u"&&(!t.C[1]||Nn(t)!=4||t.da()!=2)){if(t.v&&Nn(t)==4)uv(t.La,0,t);else if(ot(t,"readystatechange"),Nn(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(tD)[1]||null;!i&&G.self&&G.self.location&&(i=G.self.location.protocol.slice(0,-1)),r=!GL.test(i?i.toLowerCase():"")}n=r}if(n)ot(t,"complete"),ot(t,"success");else{t.m=6;try{var o=2<Nn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",hD(t)}}finally{yd(t)}}}}function yd(t,e){if(t.g){pD(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function pD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(G.clearTimeout(t.A),t.A=null)}R.isActive=function(){return!!this.g};function Nn(t){return t.g?t.g.readyState:0}R.da=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}};R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zL(e)}};function Cb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function QL(t){let e={};t=(t.g&&2<=Nn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Da(t[r]))continue;var n=IL(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}vL(e,function(r){return r.join(", ")})}R.Ia=function(){return this.m};R.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mD(t){let e="";return tv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function wa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gD(t){this.Ga=0,this.j=[],this.l=new dd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wa("baseRetryDelayMs",5e3,t),this.hb=wa("retryDelaySeedMs",1e4,t),this.eb=wa("forwardChannelMaxRetries",2,t),this.xa=wa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new oD(t&&t.concurrentRequestLimit),this.Ja=new $L,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}R=gD.prototype;R.ra=8;R.H=1;function gv(t){if(vD(t),t.H==3){var e=t.W++,n=sr(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),Ba(t,n),e=new Va(t,t.l,e),e.L=2,e.A=gd(sr(n)),n=!1,G.navigator&&G.navigator.sendBeacon)try{n=G.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&G.Image&&(new Image().src=e.A,n=!0),n||(e.g=DD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),La(e)}CD(t)}function _d(t){t.g&&(yv(t),t.g.cancel(),t.g=null)}function vD(t){_d(t),t.u&&(G.clearTimeout(t.u),t.u=null),nd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&G.clearTimeout(t.m),t.m=null)}function wd(t){if(!sD(t.i)&&!t.m){t.m=!0;var e=t.Na;Sa||jb(),Aa||(Sa(),Aa=!0),av.add(e,t),t.C=0}}function YL(t,e){return aD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ka(ut(t.Na,t,e),ED(t,t.C)),t.C++,!0)}R.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Va(this,this.l,t),o=this.s;if(this.U&&(o?(o=Rb(o),Pb(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yD(this,i,e),n=sr(this.I),xe(n,"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),Ba(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(mD(o)))+"&"+e:this.o&&mv(n,this.o,o)),fv(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),i.aa=!0,Wg(i,n,null)):Wg(i,n,e),this.H=2}}else this.H==3&&(t?bb(this,t):this.j.length==0||sD(this.i)||bb(this))};function bb(t,e){var n;e?n=e.m:n=t.W++;let r=sr(t.I);xe(r,"SID",t.K),xe(r,"RID",n),xe(r,"AID",t.V),Ba(t,r),t.o&&t.s&&mv(r,t.o,t.s),n=new Va(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=yD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fv(t.i,n),Wg(n,r,e)}function Ba(t,e){t.na&&tv(t.na,function(n,r){xe(e,r,n)}),t.h&&eD({},function(n,r){xe(e,r,n)})}function yD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ut(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{qL(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function _D(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Sa||jb(),Aa||(Sa(),Aa=!0),av.add(e,t),t.A=0}}function vv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ka(ut(t.Ma,t),ED(t,t.A)),t.A++,!0)}R.Ma=function(){if(this.u=null,wD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ka(ut(this.jb,this),t)}};R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yt(10),_d(this),wD(this))};function yv(t){t.B!=null&&(G.clearTimeout(t.B),t.B=null)}function wD(t){t.g=new Va(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=sr(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),Ba(t,e),t.o&&t.s&&mv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=gd(sr(e)),n.u=null,n.S=!0,Yb(n,t)}R.ib=function(){this.v!=null&&(this.v=null,_d(this),vv(this),yt(19))};function nd(t){t.v!=null&&(G.clearTimeout(t.v),t.v=null)}function ID(t,e){var n=null;if(t.g==e){nd(t),yv(t),t.g=null;var r=2}else if(Qg(t.i,e))n=e.F,cD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=hd(),ot(r,new zb(r,n)),wd(t)}else _D(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&YL(t,e)||r==2&&vv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:wi(t,5);break;case 4:wi(t,10);break;case 3:wi(t,6);break;default:wi(t,2)}}}function ED(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ut(t.pb,t);n||(n=new Ii("//www.google.com/images/cleardot.gif"),G.location&&G.location.protocol=="http"||ed(n,"https"),gd(n)),HL(n.toString(),r)}else yt(2);t.H=0,t.h&&t.h.za(e),CD(t),vD(t)}R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),yt(2)):(this.l.info("Failed to ping google.com"),yt(1))};function CD(t){if(t.H=0,t.ma=[],t.h){let e=uD(t.i);(e.length!=0||t.j.length!=0)&&(mb(t.ma,e),mb(t.ma,t.j),t.i.i.length=0,Xg(t.j),t.j.length=0),t.h.ya()}}function bD(t,e,n){var r=n instanceof Ii?sr(n):new Ii(n);if(r.g!="")e&&(r.g=e+"."+r.g),td(r,r.m);else{var i=G.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ii(null);r&&ed(o,r),e&&(o.g=e),i&&td(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&xe(r,n,e),xe(r,"VER",t.ra),Ba(t,r),r}function DD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Oe(new ja({ob:n})):new Oe(t.va),e.Oa(t.J),e}R.isActive=function(){return!!this.h&&this.h.isActive(this)};function TD(){}R=TD.prototype;R.Ba=function(){};R.Aa=function(){};R.za=function(){};R.ya=function(){};R.isActive=function(){return!0};R.Va=function(){};function rd(){if(Vo&&!(10<=Number(fL)))throw Error("Environmental error: no available transport.")}rd.prototype.g=function(t,e){return new Ot(t,e)};function Ot(t,e){Qe.call(this),this.g=new gD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Da(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Da(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new jo(this)}Ye(Ot,Qe);Ot.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;yt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bD(t,null,t.Y),wd(t)};Ot.prototype.close=function(){gv(this.g)};Ot.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sv(t),t=n);e.j.push(new jL(e.fb++,t)),e.H==3&&wd(e)};Ot.prototype.N=function(){this.g.h=null,delete this.j,gv(this.g),delete this.g,Ot.$.N.call(this)};function SD(t){dv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ye(SD,dv);function AD(){hv.call(this),this.status=1}Ye(AD,hv);function jo(t){this.g=t}Ye(jo,TD);jo.prototype.Ba=function(){ot(this.g,"a")};jo.prototype.Aa=function(t){ot(this.g,new SD(t))};jo.prototype.za=function(t){ot(this.g,new AD)};jo.prototype.ya=function(){ot(this.g,"b")};function JL(){this.blockSize=-1}function un(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ye(un,JL);un.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function kg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}un.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)kg(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){kg(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){kg(this,r),i=0;break}}this.h=i,this.i+=e};un.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var ZL={};function _v(t){return-128<=t&&128>t?lL(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function On(t){if(isNaN(t)||!isFinite(t))return Fo;if(0>t)return it(On(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Yg;return new Ee(e,0)}function xD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return it(xD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=On(Math.pow(e,8)),r=Fo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=On(Math.pow(e,o)),r=r.R(o).add(On(s))):(r=r.R(n),r=r.add(On(s)))}return r}var Yg=4294967296,Fo=_v(0),Jg=_v(1),Db=_v(16777216);R=Ee.prototype;R.ea=function(){if(Xt(this))return-it(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Yg+r)*e,e*=Yg}return t};R.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(or(this))return"0";if(Xt(this))return"-"+it(this).toString(t);for(var e=On(Math.pow(t,6)),n=this,r="";;){var i=od(n,e).g;n=id(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,or(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function or(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Xt(t){return t.h==-1}R.X=function(t){return t=id(this,t),Xt(t)?-1:or(t)?0:1};function it(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(Jg)}R.abs=function(){return Xt(this)?it(this):this};R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function id(t,e){return t.add(it(e))}R.R=function(t){if(or(this)||or(t))return Fo;if(Xt(this))return Xt(t)?it(this).R(it(t)):it(it(this).R(t));if(Xt(t))return it(this.R(it(t)));if(0>this.X(Db)&&0>t.X(Db))return On(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Xl(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Xl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Xl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Xl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function Xl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ia(t,e){this.g=t,this.h=e}function od(t,e){if(or(e))throw Error("division by zero");if(or(t))return new Ia(Fo,Fo);if(Xt(t))return e=od(it(t),e),new Ia(it(e.g),it(e.h));if(Xt(e))return e=od(t,it(e)),new Ia(it(e.g),e.h);if(30<t.g.length){if(Xt(t)||Xt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Jg,r=e;0>=r.X(t);)n=Tb(n),r=Tb(r);var i=Oo(n,1),o=Oo(r,1);for(r=Oo(r,2),n=Oo(n,2);!or(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Oo(r,1),n=Oo(n,1)}return e=id(t,i.R(e)),new Ia(i,e)}for(i=Fo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=On(n),s=o.R(e);Xt(s)||0<s.X(t);)n-=r,o=On(n),s=o.R(e);or(o)&&(o=Jg),i=i.add(o),t=id(t,s)}return new Ia(i,t)}R.gb=function(t){return od(this,t).h};R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function Tb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function Oo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ee(i,t.h)}rd.prototype.createWebChannel=rd.prototype.g;Ot.prototype.send=Ot.prototype.u;Ot.prototype.open=Ot.prototype.m;Ot.prototype.close=Ot.prototype.close;fd.NO_ERROR=0;fd.TIMEOUT=8;fd.HTTP_ERROR=6;Gb.COMPLETE="complete";Wb.EventType=Fa;Fa.OPEN="a";Fa.CLOSE="b";Fa.ERROR="c";Fa.MESSAGE="d";Qe.prototype.listen=Qe.prototype.O;Oe.prototype.listenOnce=Oe.prototype.P;Oe.prototype.getLastError=Oe.prototype.Sa;Oe.prototype.getLastErrorCode=Oe.prototype.Ia;Oe.prototype.getStatus=Oe.prototype.da;Oe.prototype.getResponseJson=Oe.prototype.Wa;Oe.prototype.getResponseText=Oe.prototype.ja;Oe.prototype.send=Oe.prototype.ha;Oe.prototype.setWithCredentials=Oe.prototype.Oa;un.prototype.digest=un.prototype.l;un.prototype.reset=un.prototype.reset;un.prototype.update=un.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=On;Ee.fromString=xD;var MD=ln.createWebChannelTransport=function(){return new rd},RD=ln.getStatEventTarget=function(){return hd()},Id=ln.ErrorCode=fd,PD=ln.EventType=Gb,ND=ln.Event=Ei,wv=ln.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},M8=ln.FetchXmlHttpFactory=ja,$a=ln.WebChannel=Wb,OD=ln.XhrIo=Oe,kD=ln.Md5=un,Ci=ln.Integer=Ee;var FD="@firebase/firestore";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var as="10.7.0";var Ai=new xr("@firebase/firestore");function qa(){return Ai.logLevel}function O(t,...e){if(Ai.logLevel<=se.DEBUG){let n=e.map(n_);Ai.debug(`Firestore (${as}): ${t}`,...n)}}function ar(t,...e){if(Ai.logLevel<=se.ERROR){let n=e.map(n_);Ai.error(`Firestore (${as}): ${t}`,...n)}}function Go(t,...e){if(Ai.logLevel<=se.WARN){let n=e.map(n_);Ai.warn(`Firestore (${as}): ${t}`,...n)}}function n_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t="Unexpected state"){let e=`FIRESTORE (${as}) INTERNAL ASSERTION FAILED: `+t;throw ar(e),new Error(e)}function Ae(t,e){t||q()}function Q(t,e){return t}var I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},P=class extends Kt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Td=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Dv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}},Tv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Sv=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new hn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>y(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new Td(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Je(e)}},Av=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},xv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Av(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Mv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Rv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new Mv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function XL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Sd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=XL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ge(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var st=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new P(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new P(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new P(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var K=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new st(0,0))}static max(){return new t(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ad=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends Ad{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new P(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},ej=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kt=class t extends Ad{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return ej.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new P(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new P(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new P(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new P(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var j=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var Pv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Pv.UNKNOWN_ID=-1;function tj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new xi(i,j.empty(),e)}function nj(t){return new xi(t.readTime,t.key,-1)}var xi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(K.min(),j.empty(),-1)}static max(){return new t(K.max(),j.empty(),-1)}};function rj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}var ij="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Nv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function sc(t){return y(this,null,function*(){if(t.code!==I.FAILED_PRECONDITION||t.message!==ij)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var D=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function ac(t){return t.name==="IndexedDbTransactionError"}var hT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function oh(t){return t==null}function Qa(t){return t===0&&1/t==-1/0}function oj(t){return typeof t=="number"&&Number.isInteger(t)&&!Qa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var sj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B8=[...sj,"documentOverlays"],aj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cj=aj,$8=[...cj,"indexConfiguration","indexState","indexEntries"];function VD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fe=class t{constructor(e,n){this.comparator=e,this.root=n||Vn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qo(this.root,e,this.comparator,!0)}},qo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Vn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xd(this.data.getIterator())}getIteratorFrom(e){return new xd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},xd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Fn=class t{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(kt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Md=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _t=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Md("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_t.EMPTY_BYTE_STRING=new _t("");var uj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(t){if(Ae(!!t),typeof t=="string"){let e=0,n=uj.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vr(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}function r_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function i_(t){let e=t.mapValue.fields.__previous_value__;return r_(e)?i_(e):e}function Ya(t){let e=Fr(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var Ov=class{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Rd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ed={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r_(t)?4:pT(t)?9007199254740991:10:q()}function Un(t,e){if(t===e)return!0;let n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ya(t).isEqual(Ya(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Fr(i.timestampValue),a=Fr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Vr(i.bytesValue).isEqual(Vr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),a=ke(o.doubleValue);return s===a?Qa(s)===Qa(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(VD(s)!==VD(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Un(s[c],a[c])))return!1;return!0}(t,e);default:return q()}}function Ja(t,e){return(t.values||[]).find(n=>Un(n,e))!==void 0}function Ko(t,e){if(t===e)return 0;let n=Mi(t),r=Mi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ke(o.integerValue||o.doubleValue),c=ke(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return LD(t.timestampValue,e.timestampValue);case 4:return LD(Ya(t),Ya(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Vr(o),c=Vr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ge(a[u],c[u]);if(l!==0)return l}return ge(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ge(ke(o.latitude),ke(s.latitude));return a!==0?a:ge(ke(o.longitude),ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Ko(a[u],c[u]);if(l)return l}return ge(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ed.mapValue&&s===Ed.mapValue)return 0;if(o===Ed.mapValue)return 1;if(s===Ed.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let p=ge(c[d],l[d]);if(p!==0)return p;let v=Ko(a[c[d]],u[l[d]]);if(v!==0)return v}return ge(c.length,l.length)}(t.mapValue,e.mapValue);default:throw q()}}function LD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);let n=Fr(t),r=Fr(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function Qo(t){return kv(t)}function kv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=kv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${kv(n.fields[s])}`;return i+"}"}(t.mapValue):q()}function jD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fv(t){return!!t&&"integerValue"in t}function o_(t){return!!t&&"arrayValue"in t}function UD(t){return!!t&&"nullValue"in t}function BD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bd(t){return!!t&&"mapValue"in t}function za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=za(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=za(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(za(this.value))}};function mT(t){let e=[];return cs(t.fields,(n,r)=>{let i=new kt([n]);if(bd(r)){let o=mT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Fn(e)}var fn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,K.min(),K.min(),K.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,K.min(),K.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,K.min(),K.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Yo=class{constructor(e,n){this.position=e,this.inclusive=n}};function $D(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=j.comparator(j.fromName(s.referenceValue),n.key):r=Ko(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Un(t.position[n],e.position[n]))return!1;return!0}var Jo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function lj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Pd=class{},ze=class t extends Pd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lv(e,n,r):n==="array-contains"?new Bv(e,r):n==="in"?new $v(e,r):n==="not-in"?new qv(e,r):n==="array-contains-any"?new Hv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jv(e,r):new Uv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ko(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pn=class t extends Pd{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return gT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function gT(t){return t.op==="and"}function vT(t){return dj(t)&&gT(t)}function dj(t){for(let e of t.filters)if(e instanceof pn)return!1;return!0}function Vv(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+Qo(t.value);if(vT(t))return t.filters.map(e=>Vv(e)).join(",");{let e=t.filters.map(n=>Vv(n)).join(",");return`${t.op}(${e})`}}function yT(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Un(r.value,i.value)}(t,e):t instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&yT(s,i.filters[a]),!0):!1}(t,e):void q()}function _T(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(_T).join(" ,")+"}"}(t):"Filter"}var Lv=class extends ze{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){let n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},jv=class extends ze{constructor(e,n){super(e,"in",n),this.keys=wT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Uv=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=wT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function wT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}var Bv=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return o_(n)&&Ja(n.arrayValue,this.value)}},$v=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ja(this.value.arrayValue,n)}},qv=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ja(this.value.arrayValue,n)}},Hv=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!o_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ja(this.value.arrayValue,r))}};var zv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function HD(t,e=null,n=[],r=[],i=null,o=null,s=null){return new zv(t,e,n,r,i,o,s)}function s_(t){let e=Q(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qo(r)).join(",")),e.ce=n}return e.ce}function a_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qD(t.startAt,e.startAt)&&qD(t.endAt,e.endAt)}function Gv(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ri=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function hj(t,e,n,r,i,o,s,a){return new Ri(t,e,n,r,i,o,s,a)}function c_(t){return new Ri(t)}function zD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IT(t){return t.collectionGroup!==null}function Ga(t){let e=Q(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ht(kt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Jo(o,r))}),n.has(kt.keyField().canonicalString())||e.le.push(new Jo(kt.keyField(),r))}return e.le}function Ln(t){let e=Q(t);return e.he||(e.he=fj(e,Ga(t))),e.he}function fj(t,e){if(t.limitType==="F")return HD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Jo(i.field,o)});let n=t.endAt?new Yo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yo(t.startAt.position,t.startAt.inclusive):null;return HD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wv(t,e){let n=t.filters.concat([e]);return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kv(t,e,n){return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return a_(Ln(t),Ln(e))&&t.limitType===e.limitType}function ET(t){return`${s_(Ln(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_T(i)).join(", ")}]`),oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qo(i)).join(",")),`Target(${r})`}(Ln(t))}; limitType=${t.limitType})`}function ah(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):j.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ga(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=$D(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Ga(r),i)||r.endAt&&!function(s,a,c){let u=$D(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Ga(r),i))}(t,e)}function pj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CT(t){return(e,n)=>{let r=!1;for(let i of Ga(t)){let o=mj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mj(t,e,n){let r=t.field.isKeyField()?j.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Ko(c,u):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}var Lr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return fT(this.inner)}size(){return this.innerSize}};var gj=new Fe(j.comparator);function cr(){return gj}var bT=new Fe(j.comparator);function Ha(...t){let e=bT;for(let n of t)e=e.insert(n.key,n);return e}function DT(t){let e=bT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return Wa()}function TT(){return Wa()}function Wa(){return new Lr(t=>t.toString(),(t,e)=>t.isEqual(e))}var vj=new Fe(j.comparator),yj=new ht(j.comparator);function ae(...t){let e=yj;for(let n of t)e=e.add(n);return e}var _j=new ht(ge);function wj(){return _j}function ST(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qa(e)?"-0":e}}function AT(t){return{integerValue:""+t}}function Ij(t,e){return oj(e)?AT(e):ST(t,e)}var Zo=class{constructor(){this._=void 0}};function Ej(t,e,n){return t instanceof Xo?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&r_(o)&&(o=i_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Pi?MT(t,e):t instanceof Ni?RT(t,e):function(i,o){let s=xT(i,o),a=GD(s)+GD(i.Ie);return Fv(s)&&Fv(i.Ie)?AT(a):ST(i.serializer,a)}(t,e)}function Cj(t,e,n){return t instanceof Pi?MT(t,e):t instanceof Ni?RT(t,e):n}function xT(t,e){return t instanceof es?function(r){return Fv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Xo=class extends Zo{},Pi=class extends Zo{constructor(e){super(),this.elements=e}};function MT(t,e){let n=PT(e);for(let r of t.elements)n.some(i=>Un(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ni=class extends Zo{constructor(e){super(),this.elements=e}};function RT(t,e){let n=PT(e);for(let r of t.elements)n=n.filter(i=>!Un(i,r));return{arrayValue:{values:n}}}var es=class extends Zo{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function GD(t){return ke(t.integerValue||t.doubleValue)}function PT(t){return o_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pi&&i instanceof Pi||r instanceof Ni&&i instanceof Ni?Wo(r.elements,i.elements,Un):r instanceof es&&i instanceof es?Un(r.Ie,i.Ie):r instanceof Xo&&i instanceof Xo}(t.transform,e.transform)}var Qv=class{constructor(e,n){this.version=e,this.transformResults=n}},Si=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ts=class{};function NT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nd(t.key,Si.none()):new Oi(t.key,t.data,Si.none());{let n=t.data,r=dn.empty(),i=new ht(kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ur(t.key,r,new Fn(i.toArray()),Si.none())}}function Dj(t,e,n){t instanceof Oi?function(i,o,s){let a=i.value.clone(),c=KD(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ur?function(i,o,s){if(!Dd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=KD(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(OT(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,r){return t instanceof Oi?function(o,s,a,c){if(!Dd(o.precondition,s))return a;let u=o.value.clone(),l=QD(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ur?function(o,s,a,c){if(!Dd(o.precondition,s))return a;let u=QD(o.fieldTransforms,c,s),l=s.data;return l.setAll(OT(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Dd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Tj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=xT(r.transform,i||null);o!=null&&(n===null&&(n=dn.empty()),n.set(r.field,o))}return n||null}function WD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wo(r,i,(o,s)=>bj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Oi=class extends ts{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ur=class extends ts{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function OT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function KD(t,e,n){let r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Cj(s,a,n[i]))}return r}function QD(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Ej(o,s,e))}return r}var Nd=class extends ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Yv=class extends ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Jv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Dj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=TT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=NT(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,r)=>WD(n,r))&&Wo(this.baseMutations,e.baseMutations,(n,r)=>WD(n,r))}},Zv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return vj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Xv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ey=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var qe,de;function Sj(t){switch(t){default:return q();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function kT(t){if(t===void 0)return ar("GRPC error has no .code"),I.UNKNOWN;switch(t){case qe.OK:return I.OK;case qe.CANCELLED:return I.CANCELLED;case qe.UNKNOWN:return I.UNKNOWN;case qe.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case qe.INTERNAL:return I.INTERNAL;case qe.UNAVAILABLE:return I.UNAVAILABLE;case qe.UNAUTHENTICATED:return I.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case qe.NOT_FOUND:return I.NOT_FOUND;case qe.ALREADY_EXISTS:return I.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return I.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case qe.ABORTED:return I.ABORTED;case qe.OUT_OF_RANGE:return I.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return I.UNIMPLEMENTED;case qe.DATA_LOSS:return I.DATA_LOSS;default:return q()}}(de=qe||(qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var YD=null;function Aj(){return new TextEncoder}var xj=new Ci([4294967295,4294967295],0);function JD(t){let e=Aj().encode(t),n=new kD;return n.update(e),new Uint8Array(n.digest())}function ZD(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ci([n,r],0),new Ci([i,o],0)]}var ty=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Di(`Invalid padding: ${n}`);if(r<0)throw new Di(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Di(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Di(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ci.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ci.fromNumber(r)));return i.compare(xj)===1&&(i=new Ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=JD(e),[r,i]=ZD(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=JD(e),[r,i]=ZD(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Di=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Od=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Za.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(K.min(),i,new Fe(ge),cr(),ae())}},Za=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ae(),ae(),ae())}};var Ho=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},kd=class{constructor(e,n){this.targetId=e,this.fe=n}},Fd=class{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Vd=class{constructor(){this.ge=0,this.pe=eT(),this.ye=_t.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ae(),n=ae(),r=ae();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q()}}),new Za(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=eT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ae(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},ny=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=cr(),this.Qe=XD(),this.Ke=new Fe(ge)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(Gv(o))if(r===0){let s=new j(o.path);this.We(n,s,fn.newNoDocument(s,K.min()))}else Ae(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}YD?.tt(function(l,d,p,v,w){var C,T,N,ce,te,Te;let Ze={localCacheCount:l,existenceFilterCount:d.count,databaseId:p.database,projectId:p.projectId},ve=d.unchangedNames;return ve&&(Ze.bloomFilter={applied:w===0,hashCount:(C=ve?.hashCount)!==null&&C!==void 0?C:0,bitmapLength:(ce=(N=(T=ve?.bits)===null||T===void 0?void 0:T.bitmap)===null||N===void 0?void 0:N.length)!==null&&ce!==void 0?ce:0,padding:(Te=(te=ve?.bits)===null||te===void 0?void 0:te.padding)!==null&&Te!==void 0?Te:0,mightContain:at=>{var mn;return(mn=v?.mightContain(at))!==null&&mn!==void 0&&mn}}),Ze}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Vr(r).toUint8Array()}catch(c){if(c instanceof Md)return Go("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ty(s,i,o)}catch(c){return Go(c instanceof Di?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&Gv(a.target)){let c=new j(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,fn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ae();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new Od(e,n,this.Ke,this.qe,r);return this.qe=cr(),this.Qe=XD(),this.Ke=new Fe(ge),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Vd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ht(ge),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Vd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function XD(){return new Fe(j.comparator)}function eT(){return new Fe(j.comparator)}var Mj={asc:"ASCENDING",desc:"DESCENDING"},Rj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pj={and:"AND",or:"OR"},ry=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function iy(t,e){return t.useProto3Json||oh(e)?e:{value:e}}function Ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nj(t,e){return Ld(t,e.toTimestamp())}function jn(t){return Ae(!!t),K.fromTimestamp(function(n){let r=Fr(n);return new st(r.seconds,r.nanos)}(t))}function u_(t,e){return function(r){return new Pe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function VT(t){let e=Pe.fromString(t);return Ae(BT(e)),e}function oy(t,e){return u_(t.databaseId,e.path)}function Iv(t,e){let n=VT(e);if(n.get(1)!==t.databaseId.projectId)throw new P(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new P(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(LT(n))}function sy(t,e){return u_(t.databaseId,e)}function Oj(t){let e=VT(t);return e.length===4?Pe.emptyPath():LT(e)}function ay(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LT(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tT(t,e,n){return{name:oy(t,e),fields:n.value.mapValue.fields}}function kj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.useProto3Json?(Ae(l===void 0||typeof l=="string"),_t.fromBase64String(l||"")):(Ae(l===void 0||l instanceof Uint8Array),_t.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let l=u.code===void 0?I.UNKNOWN:kT(u.code);return new P(l,u.message||"")}(s);n=new Fd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Iv(t,r.document.name),o=jn(r.document.updateTime),s=r.document.createTime?jn(r.document.createTime):K.min(),a=new dn({mapValue:{fields:r.document.fields}}),c=fn.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Ho(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Iv(t,r.document),o=r.readTime?jn(r.readTime):K.min(),s=fn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ho([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Iv(t,r.document),o=r.removedTargetIds||[];n=new Ho([],o,i,null)}else{if(!("filter"in e))return q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ey(i,o),a=r.targetId;n=new kd(a,s)}}return n}function Fj(t,e){let n;if(e instanceof Oi)n={update:tT(t,e.key,e.value)};else if(e instanceof Nd)n={delete:oy(t,e.key)};else if(e instanceof ur)n={update:tT(t,e.key,e.data),updateMask:zj(e.fieldMask)};else{if(!(e instanceof Yv))return q();n={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Xo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ni)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof es)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Nj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q()}(t,e.precondition)),n}function Vj(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?jn(i.updateTime):jn(o);return s.isEqual(K.min())&&(s=jn(o)),new Qv(s,i.transformResults||[])}(n,e))):[]}function Lj(t,e){return{documents:[sy(t,e.path)]}}function jj(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=sy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return UT(pn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Bo(d.field),direction:$j(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let s=iy(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function Uj(t){let e=Oj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let p=jT(d);return p instanceof pn&&vT(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(p=>function(w){return new Jo($o(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,oh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(d){let p=!!d.before,v=d.values||[];return new Yo(v,p)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let p=!d.before,v=d.values||[];return new Yo(v,p)}(n.endAt)),hj(e,i,s,o,a,"F",c,u)}function Bj(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=$o(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=$o(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=$o(n.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=$o(n.unaryFilter.field);return ze.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return ze.create($o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>jT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function $j(t){return Mj[t]}function qj(t){return Rj[t]}function Hj(t){return Pj[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function $o(t){return kt.fromServerFormat(t.fieldPath)}function UT(t){return t instanceof ze?function(n){if(n.op==="=="){if(BD(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(UD(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BD(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(UD(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:qj(n.op),value:n.value}}}(t):t instanceof pn?function(n){let r=n.getFilters().map(i=>UT(i));return r.length===1?r[0]:{compositeFilter:{op:Hj(n.op),filters:r}}}(t):q()}function zj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Xa=class t{constructor(e,n,r,i,o=K.min(),s=K.min(),a=_t.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var cy=class{constructor(e){this.ut=e}};function Gj(t){let e=Uj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kv(e,e.limit,"L"):e}var jd=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Qa(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Vr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?pT(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):q()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),j.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};jd.St=new jd;var uy=class{constructor(){this.on=new ly}addToCollectionParentIndex(e,n){return this.on.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}deleteAllFieldIndexes(e){return D.resolve()}createTargetIndexes(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(xi.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}},ly=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(Pe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(Pe.comparator)).toArray()}};var H8=new Uint8Array(0);var kn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);var ec=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var dy=class{constructor(){this.changes=new Lr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var fy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ka(r.mutation,i,Fn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){let i=bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ha();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=cr(),s=Wa(),a=function(){return Wa()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof ur)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),Ka(l.mutation,u,l.mutation.getFieldMask(),st.now())):s.set(u.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new hy(l,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Wa(),i=new Fe((s,a)=>s-a),o=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Fn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||ae()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=TT();l.forEach(p=>{if(!o.has(p)){let v=NT(n.get(p),r.get(p));v!==null&&d.set(p,v),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return D.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return j.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):D.resolve(bi()),a=-1,c=o;return s.next(u=>D.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?D.resolve():this.remoteDocumentCache.getEntry(e,l).next(p=>{c=c.insert(l,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ae())).next(l=>({batchId:a,changes:DT(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=Ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ha();return this.indexManager.getCollectionParents(e,o).next(a=>D.forEach(a,c=>{let u=function(d,p){return new Ri(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,fn.newInvalidDocument(l)))});let a=Ha();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&Ka(l.mutation,u,Fn.empty(),st.now()),ah(n,u)&&(a=a.insert(c,u))}),a})}};var py=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return D.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jn(i.createTime)}}(n)),D.resolve()}getNamedQuery(e,n){return D.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Gj(i.bundledQuery),readTime:jn(i.readTime)}}(n)),D.resolve()}};var my=class{constructor(){this.overlays=new Fe(j.comparator),this.lr=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){let r=bi();return D.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),D.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){let i=bi(),o=n.length+1,s=new j(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Fe((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=bi(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=bi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return D.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Xv(n,r));let o=this.lr.get(n);o===void 0&&(o=ae(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}};var tc=class{constructor(){this.hr=new ht(He.Pr),this.Ir=new ht(He.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new He(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new He(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new j(new Pe([])),r=new He(n,e),i=new He(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new j(new Pe([])),r=new He(n,e),i=new He(n,e+1),o=ae();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new He(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return j.comparator(e.key,n.key)||ge(e.gr,n.gr)}static Tr(e,n){return ge(e.gr,n.gr)||j.comparator(e.key,n.key)}};var gy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new ht(He.Pr)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Jv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.yr=this.yr.add(new He(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(s)}lookupMutationBatch(e,n){return D.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),o=i<0?0:i;return D.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{let a=this.wr(s.gr);o.push(a)}),D.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ge);return n.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),D.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;j.isDocumentKey(o)||(o=o.child(""));let s=new He(new j(o),0),a=new ht(ge);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},s),D.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return D.forEach(n.mutations,i=>{let o=new He(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new He(n,0),i=this.yr.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var vy=class{constructor(e){this.Cr=e,this.docs=function(){return new Fe(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=cr(),s=n.path,a=new j(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||rj(nj(l),r)<=0||(i.has(l.key)||ah(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return D.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q()}vr(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yy(this)}getSize(e){return D.resolve(this.size)}},yy=class extends dy{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var _y=class{constructor(e){this.persistence=e,this.Fr=new Lr(n=>s_(n),a_),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.Mr=0,this.Or=new tc,this.targetCount=0,this.Nr=ec.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),D.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new ec(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.kn(n),D.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(o).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),D.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),D.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.Or.containsKey(n))}};var wy=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new hT(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new _y(this),this.indexManager=new uy,this.remoteDocumentCache=function(i){return new vy(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new cy(n),this.Kr=new py(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new my,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new gy(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new Iy(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return D.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Iy=class extends Nv{constructor(e){super(),this.currentSequenceNumber=e}},Ey=class t{constructor(e){this.persistence=e,this.Gr=new tc,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw q()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),D.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Hr,r=>{let i=j.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,K.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return D.or([()=>D.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Cy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ae(),i=ae();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var by=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Dy=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new by;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(qa()<=se.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),D.resolve()):(qa()<=se.DEBUG&&O("QueryEngine","Query:",Uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(qa()<=se.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):D.resolve())}zi(e,n){if(zD(n))return D.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kv(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ae(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,s,c.readTime)?this.zi(e,Kv(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return zD(n)||i.isEqual(K.min())?D.resolve(null):this.Gi.getDocuments(e,r).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,r,i)?D.resolve(null):(qa()<=se.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uo(n)),this.Xi(e,s,n,tj(i,-1)).next(a=>a))})}Yi(e,n){let r=new ht(CT(e));return n.forEach((i,o)=>{ah(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return qa()<=se.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.Gi.getDocumentsMatchingQuery(e,n,xi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Ty=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Fe(ge),this.ns=new Lr(o=>s_(o),a_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fy(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function Wj(t,e,n,r){return new Ty(t,e,n,r)}function $T(t,e){return y(this,null,function*(){let n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ae();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})})}function Kj(t,e){let n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,p=d.keys(),v=D.resolve();return p.forEach(w=>{v=v.next(()=>l.getEntry(c,w)).next(C=>{let T=u.docVersions.get(w);Ae(T!==null),C.version.compareTo(T)<0&&(d.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),l.addEntry(C)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qT(t){let e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Qj(t,e){let n=Q(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let p=i.get(d);if(!p)return;a.push(n.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,l.addedDocuments,d)));let v=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?v=v.withResumeToken(_t.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):l.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(l.resumeToken,r)),i=i.insert(d,v),function(C,T,N){return C.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(p,v,l)&&a.push(n.qr.updateTargetData(o,v))});let c=cr(),u=ae();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(Yj(o,s,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(K.min())){let l=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return D.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.ts=i,o))}function Yj(t,e,n){let r=ae(),i=ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=cr();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(K.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:s,cs:i}})}function Jj(t,e){let n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zj(t,e){let n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,D.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new Xa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function Sy(t,e,n){return y(this,null,function*(){let r=Q(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ac(s))throw s;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function nT(t,e,n){let r=Q(t),i=K.min(),o=ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,l){let d=Q(c),p=d.ns.get(l);return p!==void 0?D.resolve(d.ts.get(p)):d.qr.getTargetData(u,l)}(r,s,Ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:K.min(),n?o:ae())).next(a=>(Xj(r,pj(e),a),{documents:a,ls:o})))}function Xj(t,e,n){let r=t.rs.get(e)||K.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}var Ud=class{constructor(){this.activeTargetIds=wj()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ay=class{constructor(){this.eo=new Ud,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ud,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xy=class{ro(e){}shutdown(){}};var Bd=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Cd=null;function Ev(){return Cd===null?Cd=function(){return 268435456+Math.round(2147483648*Math.random())}():Cd++,"0x"+Cd.toString(16)}var eU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var My=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var dt="WebChannelConnection",Ry=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){let a=Ev(),c=this.So(n,r);O("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(n,c,u,i).then(l=>(O("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Go("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+as}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){let i=eU[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let o=Ev();return new Promise((s,a)=>{let c=new OD;c.setWithCredentials(!0),c.listenOnce(PD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Id.NO_ERROR:let l=c.getResponseJson();O(dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case Id.TIMEOUT:O(dt,`RPC '${e}' ${o} timed out`),a(new P(I.DEADLINE_EXCEEDED,"Request time out"));break;case Id.HTTP_ERROR:let d=c.getStatus();if(O(dt,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);let v=p?.error;if(v&&v.status&&v.message){let w=function(T){let N=T.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(N)>=0?N:I.UNKNOWN}(v.status);a(new P(w,v.message))}else a(new P(I.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new P(I.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{O(dt,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);O(dt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(e,n,r){let i=Ev(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=MD(),a=RD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");O(dt,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=s.createWebChannel(l,c),p=!1,v=!1,w=new My({co:T=>{v?O(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(p||(O(dt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),O(dt,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},lo:()=>d.close()}),C=(T,N,ce)=>{T.listen(N,te=>{try{ce(te)}catch(Te){setTimeout(()=>{throw Te},0)}})};return C(d,$a.EventType.OPEN,()=>{v||O(dt,`RPC '${e}' stream ${i} transport opened.`)}),C(d,$a.EventType.CLOSE,()=>{v||(v=!0,O(dt,`RPC '${e}' stream ${i} transport closed`),w.Ro())}),C(d,$a.EventType.ERROR,T=>{v||(v=!0,Go(dt,`RPC '${e}' stream ${i} transport errored:`,T),w.Ro(new P(I.UNAVAILABLE,"The operation could not be completed")))}),C(d,$a.EventType.MESSAGE,T=>{var N;if(!v){let ce=T.data[0];Ae(!!ce);let te=ce,Te=te.error||((N=te[0])===null||N===void 0?void 0:N.error);if(Te){O(dt,`RPC '${e}' stream ${i} received error:`,Te);let Ze=Te.status,ve=function(qr){let Li=qe[qr];if(Li!==void 0)return kT(Li)}(Ze),at=Te.message;ve===void 0&&(ve=I.INTERNAL,at="Unknown error status: "+Ze+" with message "+Te.message),v=!0,w.Ro(new P(ve,at)),d.close()}else O(dt,`RPC '${e}' stream ${i} received:`,ce),w.Vo(ce)}}),C(a,ND.STAT_EVENT,T=>{T.stat===wv.PROXY?O(dt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===wv.NOPROXY&&O(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ao()},0),w}};function Cv(){return typeof document<"u"?document:null}function ch(t){return new ry(t,!0)}var $d=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var qd=class{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new $d(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return y(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return y(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return y(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new P(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>y(this,null,function*(){this.state=0,this.start()}))}o_(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Py=class extends qd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=kj(this.serializer,e),r=function(o){if(!("targetChange"in o))return K.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?K.min():s.readTime?jn(s.readTime):K.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=ay(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Gv(c)?{documents:Lj(o,c)}:{query:jj(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=FT(o,s.resumeToken);let u=iy(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(K.min())>0){a.readTime=Ld(o,s.snapshotVersion.toTimestamp());let u=iy(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=Bj(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=ay(this.serializer),n.removeTarget=e,this.e_(n)}},Ny=class extends qd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=Vj(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.I_(r,n)}return Ae(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=ay(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Fj(this.serializer,r))};this.e_(n)}};var Oy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new P(I.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new P(I.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new P(I.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var ky=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ar(n),this.f_=!1):O("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var Fy=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(()=>y(this,null,function*(){ki(this)&&(O("RemoteStore","Restarting streams for network reachability change."),yield function(c){return y(this,null,function*(){let u=Q(c);u.C_.add(4),yield cc(u),u.M_.set("Unknown"),u.C_.delete(4),yield uh(u)})}(this))}))}),this.M_=new ky(r,i)}};function uh(t){return y(this,null,function*(){if(ki(t))for(let e of t.v_)yield e(!0)})}function cc(t){return y(this,null,function*(){for(let e of t.v_)yield e(!1)})}function HT(t,e){let n=Q(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),h_(n)?d_(n):us(n).Ho()&&l_(n,e))}function zT(t,e){let n=Q(t),r=us(n);n.D_.delete(e),r.Ho()&&GT(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ki(n)&&n.M_.set("Unknown"))}function l_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(K.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}us(t).u_(e)}function GT(t,e){t.x_.Oe(e),us(t).c_(e)}function d_(t){t.x_=new ny({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),us(t).start(),t.M_.g_()}function h_(t){return ki(t)&&!us(t).jo()&&t.D_.size>0}function ki(t){return Q(t).C_.size===0}function WT(t){t.x_=void 0}function tU(t){return y(this,null,function*(){t.D_.forEach((e,n)=>{l_(t,e)})})}function nU(t,e){return y(this,null,function*(){WT(t),h_(t)?(t.M_.w_(e),d_(t)):t.M_.set("Unknown")})}function rU(t,e,n){return y(this,null,function*(){if(t.M_.set("Online"),e instanceof Fd&&e.state===2&&e.cause)try{yield function(i,o){return y(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hd(t,r)}else if(e instanceof Ho?t.x_.$e(e):e instanceof kd?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(K.min()))try{let r=yield qT(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.D_.get(u);l&&o.D_.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.D_.get(c);if(!l)return;o.D_.set(c,l.withResumeToken(_t.EMPTY_BYTE_STRING,l.snapshotVersion)),GT(o,c);let d=new Xa(l.target,c,u,l.sequenceNumber);l_(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){O("RemoteStore","Failed to raise snapshot:",r),yield Hd(t,r)}})}function Hd(t,e,n){return y(this,null,function*(){if(!ac(e))throw e;t.C_.add(1),yield cc(t),t.M_.set("Offline"),n||(n=()=>qT(t.localStore)),t.asyncQueue.enqueueRetryable(()=>y(this,null,function*(){O("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield uh(t)}))})}function KT(t,e){return e().catch(n=>Hd(t,n,e))}function lh(t){return y(this,null,function*(){let e=Q(t),n=jr(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;iU(e);)try{let i=yield Jj(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,oU(e,i)}catch(i){yield Hd(e,i)}QT(e)&&YT(e)})}function iU(t){return ki(t)&&t.b_.length<10}function oU(t,e){t.b_.push(e);let n=jr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function QT(t){return ki(t)&&!jr(t).jo()&&t.b_.length>0}function YT(t){jr(t).start()}function sU(t){return y(this,null,function*(){jr(t).E_()})}function aU(t){return y(this,null,function*(){let e=jr(t);for(let n of t.b_)e.P_(n.mutations)})}function cU(t,e,n){return y(this,null,function*(){let r=t.b_.shift(),i=Zv.from(r,e,n);yield KT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield lh(t)})}function uU(t,e){return y(this,null,function*(){e&&jr(t).h_&&(yield function(r,i){return y(this,null,function*(){if(function(s){return Sj(s)&&s!==I.ABORTED}(i.code)){let o=r.b_.shift();jr(r).Yo(),yield KT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield lh(r)}})}(t,e)),QT(t)&&YT(t)})}function rT(t,e){return y(this,null,function*(){let n=Q(t);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");let r=ki(n);n.C_.add(3),yield cc(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield uh(n)})}function lU(t,e){return y(this,null,function*(){let n=Q(t);e?(n.C_.delete(2),yield uh(n)):e||(n.C_.add(2),yield cc(n),n.M_.set("Unknown"))})}function us(t){return t.O_||(t.O_=function(n,r,i){let o=Q(n);return o.A_(),new Py(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:tU.bind(null,t),Io:nU.bind(null,t),a_:rU.bind(null,t)}),t.v_.push(e=>y(this,null,function*(){e?(t.O_.Yo(),h_(t)?d_(t):t.M_.set("Unknown")):(yield t.O_.stop(),WT(t))}))),t.O_}function jr(t){return t.N_||(t.N_=function(n,r,i){let o=Q(n);return o.A_(),new Ny(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:sU.bind(null,t),Io:uU.bind(null,t),T_:aU.bind(null,t),I_:cU.bind(null,t)}),t.v_.push(e=>y(this,null,function*(){e?(t.N_.Yo(),yield lh(t)):(yield t.N_.stop(),t.b_.length>0&&(O("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var Vy=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new P(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function f_(t,e){if(ar("AsyncQueue",`${e}: ${t}`),ac(t))return new P(I.UNAVAILABLE,`${e}: ${t}`);throw t}var zd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=Ha(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Gd=class{constructor(){this.B_=new Fe(j.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):q():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},ns=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,zd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ly=class{constructor(){this.k_=void 0,this.listeners=[]}},jy=class{constructor(){this.queries=new Lr(e=>ET(e),sh),this.onlineState="Unknown",this.q_=new Set}};function JT(t,e){return y(this,null,function*(){let n=Q(t),r=e.query,i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Ly),i)try{o.k_=yield n.onListen(r)}catch(s){let a=f_(s,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&p_(n)})}function ZT(t,e){return y(this,null,function*(){let n=Q(t),r=e.query,i=!1,o=n.queries.get(r);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function dU(t,e){let n=Q(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&p_(n)}function hU(t,e,n){let r=Q(t),i=r.queries.get(e);if(i)for(let o of i.listeners)o.onError(n);r.queries.delete(e)}function p_(t){t.q_.forEach(e=>{e.next()})}var Wd=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Kd=class{constructor(e){this.key=e}},Qd=class{constructor(e){this.key=e}},Uy=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ae(),this.mutatedKeys=ae(),this._a=CT(e),this.aa=new zd(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new Gd,i=n?n.aa:this.aa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let p=i.get(l),v=ah(this.query,d)?d:null,w=!!p&&this.mutatedKeys.has(p.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),T=!1;p&&v?p.data.isEqual(v.data)?w!==C&&(r.track({type:3,doc:v}),T=!0):this.ha(p,v)||(r.track({type:2,doc:v}),T=!0,(c&&this._a(v,c)>0||u&&this._a(v,u)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),T=!0):p&&!v&&(r.track({type:1,doc:p}),T=!0,(c||u)&&(a=!0)),T&&(v?(s=s.add(v),o=C?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((l,d)=>function(v,w){let C=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return C(v)-C(w)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,u=c!==this.sa;return this.sa=c,s.length!==0||u?{snapshot:new ns(this.query,e.aa,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Gd,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=ae(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Qd(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Kd(r))}),n}da(e){this.ia=e.ls,this.oa=ae();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ns.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},By=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},$y=class{constructor(e){this.key=e,this.Ra=!1}},qy=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Lr(a=>ET(a),sh),this.fa=new Map,this.ga=new Set,this.pa=new Fe(j.comparator),this.ya=new Map,this.wa=new tc,this.Sa={},this.ba=new Map,this.Da=ec.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function fU(t,e){return y(this,null,function*(){let n=CU(t),r,i,o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{let s=yield Zj(n.localStore,Ln(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield pU(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&HT(n.remoteStore,s)}return i})}function pU(t,e,n,r,i){return y(this,null,function*(){t.va=(d,p,v)=>function(C,T,N,ce){return y(this,null,function*(){let te=T.view.ca(N);te.Zi&&(te=yield nT(C.localStore,T.query,!1).then(({documents:at})=>T.view.ca(at,te)));let Te=ce&&ce.targetChanges.get(T.targetId),Ze=ce&&ce.targetMismatches.get(T.targetId)!=null,ve=T.view.applyChanges(te,C.isPrimaryClient,Te,Ze);return oT(C,T.targetId,ve.Ta),ve.snapshot})}(t,d,p,v);let o=yield nT(t.localStore,e,!0),s=new Uy(e,o.ls),a=s.ca(o.documents),c=Za.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);oT(t,n,u.Ta);let l=new By(e,n,s);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot})}function mU(t,e){return y(this,null,function*(){let n=Q(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!sh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zT(n.remoteStore,r.targetId),Hy(n,r.targetId)}).catch(sc))):(Hy(n,r.targetId),yield Sy(n.localStore,r.targetId,!0))})}function gU(t,e,n){return y(this,null,function*(){let r=bU(t);try{let i=yield function(s,a){let c=Q(s),u=st.now(),l=a.reduce((v,w)=>v.add(w.key),ae()),d,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=cr(),C=ae();return c.ss.getEntries(v,l).next(T=>{w=T,w.forEach((N,ce)=>{ce.isValidDocument()||(C=C.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,w)).next(T=>{d=T;let N=[];for(let ce of a){let te=Tj(ce,d.get(ce.key).overlayedDocument);te!=null&&N.push(new ur(ce.key,te,mT(te.value.mapValue),Si.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,N,a)}).next(T=>{p=T;let N=T.applyToLocalDocumentSet(d,C);return c.documentOverlayCache.saveOverlays(v,T.batchId,N)})}).then(()=>({batchId:p.batchId,changes:DT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Sa[s.currentUser.toKey()];u||(u=new Fe(ge)),u=u.insert(a,c),s.Sa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield uc(r,i.changes),yield lh(r.remoteStore)}catch(i){let o=f_(i,"Failed to persist write");n.reject(o)}})}function XT(t,e){return y(this,null,function*(){let n=Q(t);try{let r=yield Qj(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.ya.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Ae(s.Ra):i.removedDocuments.size>0&&(Ae(s.Ra),s.Ra=!1))}),yield uc(n,r,e)}catch(r){yield sc(r)}})}function iT(t,e,n){let r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=Q(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let p of d.listeners)p.Q_(a)&&(u=!0)}),u&&p_(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vU(t,e,n){return y(this,null,function*(){let r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),o=i&&i.key;if(o){let s=new Fe(j.comparator);s=s.insert(o,fn.newNoDocument(o,K.min()));let a=ae().add(o),c=new Od(K.min(),new Map,new Fe(ge),s,a);yield XT(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),m_(r)}else yield Sy(r.localStore,e,!1).then(()=>Hy(r,e,n)).catch(sc)})}function yU(t,e){return y(this,null,function*(){let n=Q(t),r=e.batch.batchId;try{let i=yield Kj(n.localStore,e);tS(n,r,null),eS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield uc(n,i)}catch(i){yield sc(i)}})}function _U(t,e,n){return y(this,null,function*(){let r=Q(t);try{let i=yield function(s,a){let c=Q(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ae(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);tS(r,e,n),eS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield uc(r,i)}catch(i){yield sc(i)}})}function eS(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function tS(t,e,n){let r=Q(t),i=r.Sa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||nS(t,r)})}function nS(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(zT(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),m_(t))}function oT(t,e,n){for(let r of n)r instanceof Kd?(t.wa.addReference(r.key,e),wU(t,r)):r instanceof Qd?(O("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||nS(t,r.key)):q()}function wU(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(O("SyncEngine","New document in limbo: "+n),t.ga.add(r),m_(t))}function m_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new j(Pe.fromString(e)),r=t.Da.next();t.ya.set(r,new $y(n)),t.pa=t.pa.insert(n,r),HT(t.remoteStore,new Xa(Ln(c_(n.path)),r,"TargetPurposeLimboResolution",hT._e))}}function uc(t,e,n){return y(this,null,function*(){let r=Q(t),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Cy.Qi(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.Va.a_(i),yield function(c,u){return y(this,null,function*(){let l=Q(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>D.forEach(u,p=>D.forEach(p.ki,v=>l.persistence.referenceDelegate.addReference(d,p.targetId,v)).next(()=>D.forEach(p.qi,v=>l.persistence.referenceDelegate.removeReference(d,p.targetId,v)))))}catch(d){if(!ac(d))throw d;O("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let p=d.targetId;if(!d.fromCache){let v=l.ts.get(p),w=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(w);l.ts=l.ts.insert(p,C)}}})}(r.localStore,o))})}function IU(t,e){return y(this,null,function*(){let n=Q(t);if(!n.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());let r=yield $T(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new P(I.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uc(n,r._s)}})}function EU(t,e){let n=Q(t),r=n.ya.get(e);if(r&&r.Ra)return ae().add(r.key);{let i=ae(),o=n.fa.get(e);if(!o)return i;for(let s of o){let a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function CU(t){let e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vU.bind(null,e),e.Va.a_=dU.bind(null,e.eventManager),e.Va.Fa=hU.bind(null,e.eventManager),e}function bU(t){let e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_U.bind(null,e),e}var Yd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return y(this,null,function*(){this.serializer=ch(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Wj(this.persistence,new Dy,e.initialUser,this.serializer)}createPersistence(e){return new wy(Ey.jr,this.serializer)}createSharedClientState(e){return new Ay}terminate(){return y(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var zy=class{initialize(e,n){return y(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IU.bind(null,this.syncEngine),yield lU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new jy}()}createDatastore(e){let n=ch(e.databaseInfo.databaseId),r=function(o){return new Ry(o)}(e.databaseInfo);return function(o,s,a,c){return new Oy(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Fy(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iT(this.syncEngine,n,0),function(){return Bd.D()?new Bd:new xy}())}createSyncEngine(e,n){return function(i,o,s,a,c,u,l){let d=new qy(i,o,s,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return y(this,null,function*(){let r=Q(n);O("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield cc(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var Jd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Gy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=Sd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>y(this,null,function*(){O("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(O("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return y(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=f_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function bv(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>y(this,null,function*(){r.isEqual(i)||(yield $T(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function sT(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield TU(t);O("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>rT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>rT(e.remoteStore,o)),t._onlineComponents=e})}function DU(t){return t.name==="FirebaseError"?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function TU(t){return y(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!DU(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),yield bv(t,new Yd)}}else O("FirestoreClient","Using default OfflineComponentProvider"),yield bv(t,new Yd);return t._offlineComponents})}function rS(t){return y(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),yield sT(t,t._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),yield sT(t,new zy))),t._onlineComponents})}function SU(t){return rS(t).then(e=>e.syncEngine)}function iS(t){return y(this,null,function*(){let e=yield rS(t),n=e.eventManager;return n.onListen=fU.bind(null,e.syncEngine),n.onUnlisten=mU.bind(null,e.syncEngine),n})}function AU(t,e,n={}){let r=new hn;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(o,s,a,c,u){let l=new Jd({next:p=>{s.enqueueAndForget(()=>ZT(o,d));let v=p.docs.has(a);!v&&p.fromCache?u.reject(new P(I.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?u.reject(new P(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Wd(c_(a.path),l,{includeMetadataChanges:!0,J_:!0});return JT(o,d)}(yield iS(t),t.asyncQueue,e,n,r)})),r.promise}function xU(t,e,n={}){let r=new hn;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(o,s,a,c,u){let l=new Jd({next:p=>{s.enqueueAndForget(()=>ZT(o,d)),p.fromCache&&c.source==="server"?u.reject(new P(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Wd(a,l,{includeMetadataChanges:!0,J_:!0});return JT(o,d)}(yield iS(t),t.asyncQueue,e,n,r)})),r.promise}function oS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var aT=new Map;function sS(t,e,n){if(!n)throw new P(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MU(t,e,n,r){if(e===!0&&r===!0)throw new P(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cT(t){if(!j.isDocumentKey(t))throw new P(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uT(t){if(j.isDocumentKey(t))throw new P(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new P(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=dh(t);throw new P(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Zd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new P(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new P(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new P(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new P(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new P(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},is=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new P(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Dv;switch(r.type){case"firstParty":return new xv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new P(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=aT.get(n);r&&(O("ComponentProvider","Removing Datastore"),aT.delete(n),r.terminate())}(this),Promise.resolve()}};function aS(t,e,n,r={}){var i;let o=(t=rs(t,is))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Je.MOCK_USER;else{a=NC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new P(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Je(u)}t._authCredentials=new Tv(new Td(a,c))}}var os=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ft=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},kr=class t extends os{constructor(e,n,r){super(e,n,c_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new j(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function cS(t,e,...n){if(t=Yt(t),sS("collection","path",e),t instanceof is){let r=Pe.fromString(e,...n);return uT(r),new kr(t,null,r)}{if(!(t instanceof Ft||t instanceof kr))throw new P(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return uT(r),new kr(t.firestore,null,r)}}function g_(t,e,...n){if(t=Yt(t),arguments.length===1&&(e=Sd.newId()),sS("doc","path",e),t instanceof is){let r=Pe.fromString(e,...n);return cT(r),new Ft(t,null,new j(r))}{if(!(t instanceof Ft||t instanceof kr))throw new P(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return cT(r),new Ft(t.firestore,t instanceof kr?t.converter:null,new j(r))}}var Wy=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new $d(this,"async_queue_retry"),this.iu=()=>{let n=Cv();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=Cv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=Cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new hn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return y(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ac(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=Vy.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&q()}verifyOperationInProgress(){}uu(){return y(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};var ss=class extends is{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Wy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uS(this),this._firestoreClient.terminate()}};function hh(t,e){let n=typeof t=="object"?t:fa(),r=typeof t=="string"?t:e||"(default)",i=pg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=RC("firestore");o&&aS(i,...o)}return i}function v_(t){return t._firestoreClient||uS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function uS(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,u,l){return new Ov(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,oS(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Gy(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var nc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(_t.fromBase64String(e))}catch(n){throw new P(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var rc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new P(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xd=class{constructor(e){this._methodName=e}};var ic=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new P(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new P(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var RU=/^__.*__$/,Ky=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oi(e,this.data,n,this.fieldTransforms)}};function lS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var Qy=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return eh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(lS(this.Iu)&&RU.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},Yy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ch(e)}pu(e,n,r,i=!1){return new Qy({Iu:e,methodName:n,gu:r,path:kt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function dS(t){let e=t._freezeSettings(),n=ch(t._databaseId);return new Yy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PU(t,e,n,r,i,o={}){let s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);pS("Data must be an object, but it was:",s,r);let a=hS(r,s),c,u;if(o.merge)c=new Fn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let d of o.mergeFields){let p=OU(e,d,n);if(!s.contains(p))throw new P(I.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);FU(l,p)||l.push(p)}c=new Fn(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new Ky(new dn(a),c,u)}function NU(t,e,n,r=!1){return y_(n,t.pu(r?4:3,e))}function y_(t,e){if(fS(t=Yt(t)))return pS("Unsupported field value:",e,t),hS(t,e);if(t instanceof Xd)return function(r,i){if(!lS(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=y_(a,i.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ij(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=st.fromDate(r);return{timestampValue:Ld(i.serializer,o)}}if(r instanceof st){let o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ld(i.serializer,o)}}if(r instanceof ic)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nc)return{bytesValue:FT(i.serializer,r._byteString)};if(r instanceof Ft){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:u_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${dh(r)}`)}(t,e)}function hS(t,e){let n={};return fT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(t,(r,i)=>{let o=y_(i,e.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function fS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof ic||t instanceof nc||t instanceof Ft||t instanceof Xd)}function pS(t,e,n){if(!fS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=dh(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function OU(t,e,n){if((e=Yt(e))instanceof rc)return e._internalPath;if(typeof e=="string")return mS(t,e);throw eh("Field path arguments must be of type string or ",t,!1,void 0,n)}var kU=new RegExp("[~\\*/\\[\\]]");function mS(t,e,n){if(e.search(kU)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rc(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new P(I.INVALID_ARGUMENT,a+t+c)}function FU(t,e){return t.some(n=>n.isEqual(e))}var th=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(__("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Jy=class extends th{data(){return super.data()}};function __(t,e){return typeof e=="string"?mS(t,e):e instanceof rc?e._internalPath:e._delegate._internalPath}function VU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new P(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oc=class{},Zy=class extends oc{};function gS(t,e,...n){let r=[];e instanceof oc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof Xy).length,a=o.filter(c=>c instanceof nh).length;if(s>1||s>0&&a>0)throw new P(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var nh=class t extends Zy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return yS(e._query,n),new os(e.firestore,e.converter,Wv(e._query,n))}_parse(e){let n=dS(e.firestore);return function(o,s,a,c,u,l,d){let p;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new P(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){dT(d,l);let v=[];for(let w of d)v.push(lT(c,o,w));p={arrayValue:{values:v}}}else p=lT(c,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||dT(d,l),p=NU(a,s,d,l==="in"||l==="not-in");return ze.create(u,l,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function vS(t,e,n){let r=e,i=__("where",t);return nh._create(i,r,n)}var Xy=class t extends oc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)yS(s,c),s=Wv(s,c)}(e._query,n),new os(e.firestore,e.converter,Wv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function lT(t,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new P(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(e)&&n.indexOf("/")!==-1)throw new P(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Pe.fromString(n));if(!j.isDocumentKey(r))throw new P(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jD(t,new j(r))}if(n instanceof Ft)return jD(t,n._key);throw new P(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(n)}.`)}function dT(t,e){if(!Array.isArray(t)||t.length===0)throw new P(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yS(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new P(I.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new P(I.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var e_=class{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return cs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ic(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=i_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){let n=Fr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);Ae(BT(r));let i=new Rd(r.get(1),r.get(3)),o=new j(r.popFirst(5));return i.isEqual(n)||ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function LU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ti=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},rh=class extends th{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(__("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},zo=class extends rh{data(e={}){return super.data(e)}},t_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ti(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zo(this._firestore,this._userDataWriter,r.key,r,new Ti(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new P(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new zo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ti(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new zo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ti(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:jU(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function jU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}function _S(t){t=rs(t,Ft);let e=rs(t.firestore,ss);return AU(v_(e),t._key).then(n=>BU(e,t,n))}var ih=class extends e_{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}};function wS(t){t=rs(t,os);let e=rs(t.firestore,ss),n=v_(e),r=new ih(e);return VU(t._query),xU(n,t._query).then(i=>new t_(e,r,t,i))}function IS(t,e){let n=rs(t.firestore,ss),r=g_(t),i=LU(t.converter,e);return UU(n,[PU(dS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Si.exists(!1))]).then(()=>r)}function UU(t,e){return function(r,i){let o=new hn;return r.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return gU(yield SU(r),i,o)})),o.promise}(v_(t),e)}function BU(t,e,n){let r=n.docs.get(e._key),i=new ih(t);return new rh(t,i,e._key,r,new Ti(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){as=i})(Ro),Rr(new Jt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ss(new Sv(r.getProvider("auth-internal")),new Rv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new P(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rd(u.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ke(FD,"4.4.0",e),Ke(FD,"4.4.0","esm2017")})();var Fi=class{constructor(e){return e}},ES="firestore",w_=class{constructor(){return ma(ES)}};var I_=new U("angularfire2.firestore-instances");function $U(t,e){let n=gg(ES,t,e);return n&&new Fi(n)}function qU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fi(r)}}var HU={provide:w_,deps:[[new $t,I_]]},zU={provide:Fi,useFactory:$U,deps:[[new $t,I_],gi]},GU=(()=>{class t{constructor(){Ke("angularfire",No.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=xt({type:t});static \u0275inj=At({providers:[zU,HU]})}return t})();function CS(t,...e){return{ngModule:GU,providers:[{provide:I_,useFactory:qU(t),multi:!0,deps:[we,bt,ga,va,[new $t,Gl],[new $t,pa],...e]}]}}var bS=Zt(IS,!0);var E_=Zt(cS,!0);var DS=Zt(g_,!0);var TS=Zt(_S,!0);var SS=Zt(wS,!0);var AS=Zt(hh,!0);var xS=Zt(gS,!0);var MS=Zt(vS,!0);var fh={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var ph=(()=>{class t{constructor(n){this.firestore=n}saveMatch(n){return y(this,null,function*(){let r=X(x({},n),{heureDebut:n.heureDebut.toISOString()});return(yield bS(E_(this.firestore,"matches"),r)).id})}getMatchById(n){return y(this,null,function*(){let r=DS(this.firestore,"matches",n),i=yield TS(r);if(i.exists()){let o=i.data();return{id:parseInt(n),equipe1:o.equipe1,equipe2:o.equipe2,heureDebut:new Date(o.heureDebut),lieu:o.lieu,competition:o.competition,score1:o.score1,score2:o.score2,buteurs:o.buteurs||[],recuperations:o.recuperations||[],showElements:o.showElements??!0,positions:o.positions||{}}}return null})}getMatchesByCompetition(n){return y(this,null,function*(){let r=xS(E_(this.firestore,"matches"),MS("competition","==",n));return(yield SS(r)).docs.map(o=>{let s=o.data();return{id:parseInt(o.id),equipe1:s.equipe1,equipe2:s.equipe2,heureDebut:new Date(s.heureDebut),lieu:s.lieu,competition:s.competition,score1:s.score1,score2:s.score2,buteurs:s.buteurs||[],recuperations:s.recuperations||[],showElements:s.showElements??!0,positions:s.positions||{}}})})}static{this.\u0275fac=function(r){return new(r||t)(B(Fi))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function KU(t,e){if(t&1&&(h(0,"span"),m(1),f()),t&2){let n=_().$implicit;g(),ye("(Assist: ",n.assist,")")}}function QU(t,e){if(t&1&&(h(0,"div",5)(1,"p"),m(2),$(3,KU,2,1,"span",6),f()()),t&2){let n=e.$implicit;g(2),Yn(" ",n.nom," (",n.minute,"') "),g(),E("ngIf",n.assist)}}function YU(t,e){if(t&1&&(h(0,"div",1)(1,"h2"),m(2),f(),h(3,"div",2)(4,"p"),m(5),Uu(6,"date"),f(),h(7,"p"),m(8),f(),h(9,"p"),m(10),f()(),h(11,"div",3)(12,"h3"),m(13,"Buteurs"),f(),$(14,QU,4,3,"div",4),f()()),t&2){let n=_();g(2),Yn("",n.match.equipe1," vs ",n.match.equipe2,""),g(3),ye("Date: ",Bu(6,7,n.match.heureDebut,"medium"),""),g(3),ye("Lieu: ",n.match.lieu,""),g(2),Yn("Score: ",n.match.score1," - ",n.match.score2,""),g(4),E("ngForOf",n.match.buteurs)}}var PS=(()=>{class t{constructor(n,r){this.route=n,this.firestoreService=r,this.match=null}ngOnInit(){this.route.params.subscribe(n=>{let r=n.id;r&&this.loadMatch(r)})}loadMatch(n){return y(this,null,function*(){try{this.match=yield this.firestoreService.getMatchById(n)}catch(r){console.error("Erreur lors du chargement du match:",r)}})}static{this.\u0275fac=function(r){return new(r||t)(L(rr),L(ph))}}static{this.\u0275cmp=mo({type:t,selectors:[["app-match-detail"]],standalone:!0,features:[_o],decls:1,vars:1,consts:[["class","match-detail",4,"ngIf"],[1,"match-detail"],[1,"match-info"],[1,"buteurs"],["class","buteur",4,"ngFor","ngForOf"],[1,"buteur"],[4,"ngIf"]],template:function(r,i){r&1&&$(0,YU,15,10,"div",0),r&2&&E("ngIf",i.match)},dependencies:[Vs,ol,sl,al],styles:[".match-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.match-info[_ngcontent-%COMP%]{margin:20px 0}.buteurs[_ngcontent-%COMP%]{margin-top:20px}.buteur[_ngcontent-%COMP%]{margin:10px 0}"]})}}return t})();var NS=[{path:"match/:id",component:PS}];var OS={providers:[ap(ZC(()=>XC(fh.firebaseConfig)),CS(()=>AS())),wC(NS)]};var HS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(L(Dn),L(sn))}}static{this.\u0275dir=be({type:t})}}return t})(),hs=(()=>{class t extends HS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})()}static{this.\u0275dir=be({type:t,features:[rt]})}}return t})(),$r=new U(""),JU={provide:$r,useExisting:gt(()=>S_),multi:!0},S_=(()=>{class t extends hs{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})()}static{this.\u0275dir=be({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&b("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Mt([JU]),rt]})}}return t})(),ZU={provide:$r,useExisting:gt(()=>Ch),multi:!0};function XU(){let t=tr()?tr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var eB=new U(""),Ch=(()=>{class t extends HS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!XU())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(L(Dn),L(sn),L(eB,8))}}static{this.\u0275dir=be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&b("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Mt([ZU]),rt]})}}return t})();function Ur(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function zS(t){return t!=null&&typeof t.length=="number"}var fs=new U(""),A_=new U(""),tB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ne=class{static min(e){return GS(e)}static max(e){return WS(e)}static required(e){return KS(e)}static requiredTrue(e){return nB(e)}static email(e){return rB(e)}static minLength(e){return iB(e)}static maxLength(e){return oB(e)}static pattern(e){return sB(e)}static nullValidator(e){return gh(e)}static compose(e){return eA(e)}static composeAsync(e){return nA(e)}};function GS(t){return e=>{if(Ur(e.value)||Ur(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function WS(t){return e=>{if(Ur(e.value)||Ur(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function KS(t){return Ur(t.value)?{required:!0}:null}function nB(t){return t.value===!0?null:{required:!0}}function rB(t){return Ur(t.value)||tB.test(t.value)?null:{email:!0}}function iB(t){return e=>Ur(e.value)||!zS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function oB(t){return e=>zS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function sB(t){if(!t)return gh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ur(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function gh(t){return null}function QS(t){return t!=null}function YS(t){return ci(t)?Re(t):t}function JS(t){let e={};return t.forEach(n=>{e=n!=null?x(x({},e),n):e}),Object.keys(e).length===0?null:e}function ZS(t,e){return e.map(n=>n(t))}function aB(t){return!t.validate}function XS(t){return t.map(e=>aB(e)?e:n=>e.validate(n))}function eA(t){if(!t)return null;let e=t.filter(QS);return e.length==0?null:function(n){return JS(ZS(n,e))}}function tA(t){return t!=null?eA(XS(t)):null}function nA(t){if(!t)return null;let e=t.filter(QS);return e.length==0?null:function(n){let r=ZS(n,e).map(YS);return Gh(r).pipe(re(JS))}}function rA(t){return t!=null?nA(XS(t)):null}function kS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iA(t){return t._rawValidators}function oA(t){return t._rawAsyncValidators}function C_(t){return t?Array.isArray(t)?t:[t]:[]}function vh(t,e){return Array.isArray(t)?t.includes(e):t===e}function FS(t,e){let n=C_(e);return C_(t).forEach(i=>{vh(n,i)||n.push(i)}),n}function VS(t,e){return C_(e).filter(n=>!vh(t,n))}var yh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Vi=class extends yh{get formDirective(){return null}get path(){return null}},Br=class extends yh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},_h=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},cB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},U7=X(x({},cB),{"[class.ng-submitted]":"isSubmitted"}),sA=(()=>{class t extends _h{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(L(Br,2))}}static{this.\u0275dir=be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Me("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[rt]})}}return t})(),aA=(()=>{class t extends _h{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(L(Vi,10))}}static{this.\u0275dir=be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Me("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[rt]})}}return t})();var lc="VALID",mh="INVALID",ls="PENDING",dc="DISABLED";function x_(t){return(bh(t)?t.validators:t)||null}function uB(t){return Array.isArray(t)?tA(t):t||null}function M_(t,e){return(bh(e)?e.asyncValidators:t)||null}function lB(t){return Array.isArray(t)?rA(t):t||null}function bh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function cA(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[n])throw new F(1001,"")}function uA(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new F(1002,"")})}var ds=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lc}get invalid(){return this.status===mh}get pending(){return this.status==ls}get disabled(){return this.status===dc}get enabled(){return this.status!==dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(FS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(FS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VS(e,this._rawAsyncValidators))}hasValidator(e){return vh(this._rawValidators,e)}hasAsyncValidator(e){return vh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ls,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=dc,this.errors=null,this._forEachChild(r=>{r.disable(X(x({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(x({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=lc,this._forEachChild(r=>{r.enable(X(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(x({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lc||this.status===ls)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dc:lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ls,this._hasOwnPendingAsyncValidator=!0;let n=YS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?dc:this.errors?mh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ls)?ls:this._anyControlsHaveStatus(mh)?mh:lc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=uB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=lB(this._rawAsyncValidators)}},wh=class extends ds{constructor(e,n,r){super(x_(n),M_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){uA(this,!0,e),Object.keys(e).forEach(r=>{cA(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var b_=class extends wh{};var fc=new U("CallSetDisabledState",{providedIn:"root",factory:()=>pc}),pc="always";function lA(t,e){return[...e.path,t]}function D_(t,e,n=pc){R_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),hB(t,e),pB(t,e),fB(t,e),dB(t,e)}function LS(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Eh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ih(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function dB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function R_(t,e){let n=iA(t);e.validator!==null?t.setValidators(kS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=oA(t);e.asyncValidator!==null?t.setAsyncValidators(kS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ih(e._rawValidators,i),Ih(e._rawAsyncValidators,i)}function Eh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=iA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=oA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Ih(e._rawValidators,r),Ih(e._rawAsyncValidators,r),n}function hB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&dA(t,e)})}function fB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&dA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function dA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function mB(t,e){t==null,R_(t,e)}function gB(t,e){return Eh(t,e)}function hA(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function vB(t){return Object.getPrototypeOf(t.constructor)===hs}function yB(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function fA(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ch?n=o:vB(o)?r=o:i=o}),i||r||n||null}function _B(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function US(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var hc=class extends ds{constructor(e=null,n,r){super(x_(n),M_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(US(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){US(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wB=t=>t instanceof hc;var IB={provide:Br,useExisting:gt(()=>P_)},BS=Promise.resolve(),P_=(()=>{class t extends Br{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new hc,this._registered=!1,this.name="",this.update=new et,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fA(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),hA(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){D_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){BS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Fs(r);BS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?lA(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(L(Vi,9),L(fs,10),L(A_,10),L($r,10),L(ui,8),L(fc,8))}}static{this.\u0275dir=be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"],options:[tt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Mt([IB]),rt,Qn]})}}return t})(),pA=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),EB={provide:$r,useExisting:gt(()=>N_),multi:!0},N_=(()=>{class t extends hs{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})()}static{this.\u0275dir=be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&b("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Mt([EB]),rt]})}}return t})(),CB={provide:$r,useExisting:gt(()=>O_),multi:!0};var bB=(()=>{class t{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),O_=(()=>{class t extends hs{constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=M(fc,{optional:!0})??pc}ngOnInit(){this._control=this._injector.get(Br),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||t)(L(Dn),L(sn),L(bB),L(bt))}}static{this.\u0275dir=be({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&b("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Mt([CB]),rt]})}}return t})();var mA=new U("");var DB={provide:Vi,useExisting:gt(()=>k_)},k_=(()=>{class t extends Vi{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Eh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return D_(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){LS(n.control||null,n,!1),_B(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,yB(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(LS(r||null,n),wB(i)&&(D_(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);mB(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&gB(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){R_(this.form,this),this._oldForm&&Eh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(L(fs,10),L(A_,10),L(fc,8))}}static{this.\u0275dir=be({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&b("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[tt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mt([DB]),rt,Qn]})}}return t})();var TB={provide:Br,useExisting:gt(()=>F_)},F_=(()=>{class t extends Br{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new et,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fA(this,o)}ngOnChanges(n){this._added||this._setUpControl(),hA(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return lA(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(L(Vi,13),L(fs,10),L(A_,10),L($r,10),L(mA,8))}}static{this.\u0275dir=be({type:t,selectors:[["","formControlName",""]],inputs:{name:[tt.None,"formControlName","name"],isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Mt([TB]),rt,Qn]})}}return t})(),SB={provide:$r,useExisting:gt(()=>Dh),multi:!0};function gA(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function AB(t){return t.split(":")[0]}var Dh=(()=>{class t extends hs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=gA(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=AB(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})()}static{this.\u0275dir=be({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&b("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mt([SB]),rt]})}}return t})(),vA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(gA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(L(sn),L(Dn),L(Dh,9))}}static{this.\u0275dir=be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),xB={provide:$r,useExisting:gt(()=>yA),multi:!0};function $S(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function MB(t){return t.split(":")[0]}var yA=(()=>{class t extends hs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=MB(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})()}static{this.\u0275dir=be({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&b("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mt([xB]),rt]})}}return t})(),_A=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue($S(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue($S(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(L(sn),L(Dn),L(yA,9))}}static{this.\u0275dir=be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function wA(t){return typeof t=="number"?t:parseFloat(t)}var V_=(()=>{class t{constructor(){this._validator=gh}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=be({type:t,features:[Qn]})}}return t})(),RB={provide:fs,useExisting:gt(()=>L_),multi:!0},L_=(()=>{class t extends V_{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>wA(n),this.createValidator=n=>WS(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})()}static{this.\u0275dir=be({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Er("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Mt([RB]),rt]})}}return t})(),PB={provide:fs,useExisting:gt(()=>j_),multi:!0},j_=(()=>{class t extends V_{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>wA(n),this.createValidator=n=>GS(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})()}static{this.\u0275dir=be({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Er("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Mt([PB]),rt]})}}return t})(),NB={provide:fs,useExisting:gt(()=>U_),multi:!0};var U_=(()=>{class t extends V_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Fs,this.createValidator=n=>KS}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})()}static{this.\u0275dir=be({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Er("required",i._enabled?"":null)},inputs:{required:"required"},features:[Mt([NB]),rt]})}}return t})();var IA=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=xt({type:t})}static{this.\u0275inj=At({})}}return t})(),T_=class extends ds{constructor(e,n,r){super(x_(n),M_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){uA(this,!1,e),e.forEach((r,i)=>{cA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function qS(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var EA=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return qS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new wh(i,o)}record(n,r=null){let i=this._reduceControls(n);return new b_(i,r)}control(n,r,i){let o={};return this.useNonNullable?(qS(r)?o=r:(o.validators=r,o.asyncValidators=i),new hc(n,X(x({},o),{nonNullable:!0}))):new hc(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new T_(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof hc)return n;if(n instanceof ds)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var CA=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:fc,useValue:n.callSetDisabledState??pc}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=xt({type:t})}static{this.\u0275inj=At({imports:[IA]})}}return t})(),bA=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:mA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:fc,useValue:n.callSetDisabledState??pc}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=xt({type:t})}static{this.\u0275inj=At({imports:[IA]})}}return t})();var DA=[{id:1,name:"Stand. Flawinne FC",players:["Joueur non list\xE9"]},{id:2,name:"U10 Stand. Flawinne FC",players:["Melvin","Kalvin","Thibault","Tom","Maxim","Ely","Math\xE9o","Elson","Shanna","Stiliano","Mandares","Naofelle","Danielle","Arthur"]},{id:3,name:"U9 Stand. Flawinne FC",players:["Mathieu","Loris","Hugo","Sam","Achille","Dario","Jules","Gabin","Georges"]}];function B_(t){return(!t.players||t.players.length===0)&&(t.players=["Joueur non list\xE9"]),t}var kB=()=>[],FB=(t,e)=>({"text-success":t,"text-danger":e});function VB(t,e){if(t&1){let n=oe();h(0,"button",23),b("click",function(){S(n);let i=_();return A(i.showMatchForm=!0)}),Y(1,"i",24),h(2,"span",25),m(3," Match"),f()()}if(t&2){let n=_();g(2),E("hidden",n.selectedCompetitionFilter)}}function LB(t,e){if(t&1){let n=oe();h(0,"button",23),b("click",function(){S(n);let i=_();return A(i.showTeamFilterModal=!0)}),Y(1,"i",26),f()}}function jB(t,e){if(t&1){let n=oe();h(0,"button",27),b("click",function(){S(n);let i=_();return A(i.showCompetitionFilterModal=!0)}),Y(1,"i",28),h(2,"span",29),m(3),f()()}if(t&2){let n=_();E("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info"),g(3),ye(" ",n.selectedCompetitionFilter||"Comp\xE9titions","")}}function UB(t,e){if(t&1){let n=oe();h(0,"button",30),b("click",function(){S(n);let i=_();return A(i.showRanking())}),Y(1,"i",31)(2,"span"),f()}if(t&2){let n=_();E("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter),g(),Me("text-white",n.selectedCompetitionFilter),g(),Me("text-white",n.selectedCompetitionFilter)}}function BB(t,e){if(t&1){let n=oe();h(0,"div",41)(1,"input",46),Sn("ngModelChange",function(i){S(n);let o=_(2);return Jn(o.selectedTeamFilter,i)||(o.selectedTeamFilter=i),A(i)}),f(),h(2,"label",47),m(3),f()()}if(t&2){let n=e.$implicit,r=_(2);g(),yo("id",n.name),E("value",n.name),Tn("ngModel",r.selectedTeamFilter),g(),yo("for",n.name),g(),k(n.name)}}function $B(t,e){if(t&1){let n=oe();h(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35)(4,"h5",36),m(5,"S\xE9lectionner une \xC9quipe"),f(),h(6,"button",37),b("click",function(){S(n);let i=_();return A(i.closeTeamFilterModal())}),h(7,"span",38),m(8,"\xD7"),f()()(),h(9,"div",39),$(10,BB,4,5,"div",40),h(11,"div",41)(12,"input",42),Sn("ngModelChange",function(i){S(n);let o=_();return Jn(o.selectedTeamFilter,i)||(o.selectedTeamFilter=i),A(i)}),f(),h(13,"label",43),m(14,"Toutes les \xE9quipes"),f()()(),h(15,"div",44)(16,"button",45),b("click",function(){S(n);let i=_();return A(i.closeTeamFilterModal())}),m(17,"Fermer"),f()()()()()}if(t&2){let n=_();g(10),E("ngForOf",n.teams),g(2),E("value",""),Tn("ngModel",n.selectedTeamFilter)}}function qB(t,e){if(t&1){let n=oe();h(0,"div",41)(1,"input",46),Sn("ngModelChange",function(i){S(n);let o=_(2);return Jn(o.selectedCompetitionFilter,i)||(o.selectedCompetitionFilter=i),A(i)}),f(),h(2,"label",47)(3,"span",52),m(4),f()()()}if(t&2){let n=e.$implicit,r=_(2);g(),yo("id",n),E("value",n),Tn("ngModel",r.selectedCompetitionFilter),g(),yo("for",n),g(),E("ngClass",r.getCompetitionBadgeColor(n)),g(),k(n)}}function HB(t,e){if(t&1){let n=oe();h(0,"div",48)(1,"div",33)(2,"div",34)(3,"div",35)(4,"h5",49),m(5,"S\xE9lectionner une Comp\xE9tition"),f(),h(6,"button",37),b("click",function(){S(n);let i=_();return A(i.closeCompetitionFilterModal())}),h(7,"span",38),m(8,"\xD7"),f()()(),h(9,"div",39),$(10,qB,5,6,"div",40),h(11,"div",41)(12,"input",50),Sn("ngModelChange",function(i){S(n);let o=_();return Jn(o.selectedCompetitionFilter,i)||(o.selectedCompetitionFilter=i),A(i)}),f(),h(13,"label",51),m(14,"Toutes les comp\xE9titions"),f()()(),h(15,"div",44)(16,"button",45),b("click",function(){S(n);let i=_();return A(i.closeCompetitionFilterModal())}),m(17,"Fermer"),f()()()()()}if(t&2){let n=_();g(10),E("ngForOf",n.uniqueCompetitions),g(2),E("value",""),Tn("ngModel",n.selectedCompetitionFilter)}}function zB(t,e){if(t&1&&(h(0,"option",79),m(1),f()),t&2){let n=e.$implicit;E("value",n.name),g(),k(n.name)}}function GB(t,e){if(t&1&&(h(0,"option",79),m(1),f()),t&2){let n=e.$implicit;E("value",n.name),g(),k(n.name)}}function WB(t,e){if(t&1){let n=oe();h(0,"form",53),b("ngSubmit",function(){S(n);let i=_();return A(i.onSubmit())}),h(1,"div",54)(2,"div",55)(3,"h4",56),Y(4,"i",57),m(5,"Ajouter un Match! "),f(),h(6,"div",58)(7,"label",59),m(8,"\xC9quipe 1"),f(),h(9,"select",60,0),b("change",function(){S(n);let i=Os(10),o=_();return A(i.value==="new1"&&o.addNewTeam(i))}),$(11,zB,2,2,"option",61),h(12,"option",62),m(13,"+ Ajouter une nouvelle \xE9quipe"),f()()(),h(14,"div",58)(15,"label",63),m(16,"\xC9quipe 2"),f(),h(17,"select",64,1),b("change",function(){S(n);let i=Os(18),o=_();return A(i.value==="new2"&&o.addNewTeam(i))}),h(19,"option",65),m(20,"S\xE9lectionner une \xE9quipe"),f(),$(21,GB,2,2,"option",61),h(22,"option",66),m(23,"+ Ajouter une nouvelle \xE9quipe"),f()()()(),h(24,"div",55)(25,"div",58)(26,"label",67),m(27,"Heure de d\xE9but"),f(),Y(28,"input",68),f(),h(29,"div",58)(30,"label",69),m(31,"Lieu du match (optionnel)"),f(),Y(32,"input",70),f(),h(33,"div",58)(34,"label",71),m(35,"Comp\xE9tition (optionnel)"),f(),Y(36,"input",72),f()(),h(37,"div")(38,"div",73)(39,"button",74),m(40," Cr\xE9er le match "),f(),h(41,"button",75),b("click",function(){S(n);let i=_();return A(i.showMatchForm=!1)}),m(42," Annuler "),f(),h(43,"button",76),m(44," \u{1F9F0} "),f(),h(45,"ul",77)(46,"li")(47,"a",78),b("click",function(){S(n);let i=_();return A(i.exportMatches())}),m(48,"Exporter les matchs"),f()(),h(49,"li")(50,"a",78),b("click",function(){S(n);let i=_();return A(i.importMatches())}),m(51,"Importer des matchs"),f()()()()()()()}if(t&2){let n=_();E("formGroup",n.matchForm),g(11),E("ngForOf",n.teams),g(10),E("ngForOf",n.teams),g(18),E("disabled",!n.matchForm.valid)}}function KB(t,e){t&1&&(h(0,"span",95),m(1,"\u2022"),f())}function QB(t,e){if(t&1&&(h(0,"span"),m(1),f()),t&2){let n=_().$implicit;g(),k(n.lieu)}}function YB(t,e){t&1&&(h(0,"span",95),m(1,"\u2022"),f())}function JB(t,e){if(t&1&&(h(0,"span")(1,"span",52),m(2),f()()),t&2){let n=_().$implicit,r=_(2);g(),E("ngClass",r.getCompetitionBadgeColor(n.competition)),g(),k(n.competition)}}function ZB(t,e){t&1&&(h(0,"span"),Y(1,"br"),f())}function XB(t,e){t&1&&(h(0,"span"),m(1,","),f())}function e$(t,e){if(t&1&&(h(0,"span",104),m(1),f()),t&2){let n=_(2).$implicit;g(),ye("(Assist: ",n.assist,")")}}function t$(t,e){if(t&1&&(Lu(0),$(1,ZB,2,0,"span",87),m(2),$(3,XB,2,0,"span",87)(4,e$,2,1,"span",103),ju()),t&2){let n=e.$implicit,r=e.index,i=_().$implicit;g(),E("ngIf",r>0&&r%5===0),g(),ye(" ",n,"'"),g(),E("ngIf",r<i.minutes.length-1),g(),E("ngIf",i.assist)}}function n$(t,e){if(t&1&&(h(0,"div")(1,"div",101)(2,"span"),m(3),f(),h(4,"span",102),$(5,t$,5,4,"ng-container",99),f()()()),t&2){let n=e.$implicit;g(3),ye("\u26BD ",n.nom,":"),g(2),E("ngForOf",n.minutes)}}function r$(t,e){t&1&&(h(0,"span"),Y(1,"br"),f())}function i$(t,e){t&1&&(h(0,"span"),m(1,","),f())}function o$(t,e){if(t&1&&(h(0,"span",104),m(1),f()),t&2){let n=_(2).$implicit;g(),ye("(Assist: ",n.assist,")")}}function s$(t,e){if(t&1&&(Lu(0),$(1,r$,2,0,"span",87),m(2),$(3,i$,2,0,"span",87)(4,o$,2,1,"span",103),ju()),t&2){let n=e.$implicit,r=e.index,i=_().$implicit;g(),E("ngIf",r>0&&r%5===0),g(),ye(" ",n,"'"),g(),E("ngIf",r<i.minutes.length-1),g(),E("ngIf",i.assist)}}function a$(t,e){if(t&1&&(h(0,"div")(1,"div",101)(2,"span"),m(3),f(),h(4,"span",105),$(5,s$,5,4,"ng-container",99),f()()()),t&2){let n=e.$implicit;g(3),ye("\u26BD ",n.nom,":"),g(2),E("ngForOf",n.minutes)}}function c$(t,e){if(t&1&&(h(0,"div",96)(1,"div",97)(2,"div",98),$(3,n$,6,2,"div",99),f(),h(4,"div",100),$(5,a$,6,2,"div",99),f()()()),t&2){let n=_().$implicit,r=_(2);g(3),E("ngForOf",r.getGroupedScorers(n,1)),g(2),E("ngForOf",r.getGroupedScorers(n,2))}}function u$(t,e){if(t&1){let n=oe();h(0,"div",106)(1,"button",107),b("click",function(){S(n);let i=_().$implicit,o=_(2);return A(o.selectMatch(i))}),Y(2,"i",108),f(),h(3,"button",109),b("click",function(){S(n);let i=_().$implicit,o=_(2);return A(o.openDispositionModal(i))}),Y(4,"i",110),f(),h(5,"button",111),b("click",function(){S(n);let i=_().$implicit,o=_(2);return A(o.toggleMatchEditForm(i))}),Y(6,"i",89),f(),h(7,"button",112),b("click",function(){S(n);let i=_().$implicit,o=_(2);return A(o.shareMatch(i))}),Y(8,"i",89),f()()}if(t&2){let n=_(3);g(6),E("ngClass",n.showMatchEditForm?"fa-pen-fancy":"fa-edit"),g(),E("disabled",n.isSharingMatch),g(),E("ngClass",n.isSharingMatch?"fa-spinner fa-spin":"fa-share-alt")}}function l$(t,e){if(t&1){let n=oe();h(0,"div",83)(1,"div",84)(2,"div",85)(3,"span"),m(4),Uu(5,"date"),f(),$(6,KB,2,0,"span",86)(7,QB,2,1,"span",87)(8,YB,2,0,"span",86)(9,JB,3,2,"span",87),h(10,"button",88),b("click",function(){let i=S(n).$implicit,o=_(2);return A(o.toggleVisibility(i))}),Y(11,"i",89),f()(),h(12,"div",90)(13,"div",91),m(14),f(),h(15,"button",92),b("click",function(){let i=S(n).$implicit,o=_(2);return A(o.selectMatch(i))}),m(16),f(),h(17,"div",91),m(18),f()(),$(19,c$,6,2,"div",93)(20,u$,9,3,"div",94),f()()}if(t&2){let n=e.$implicit;Er("data-match-id",n.id),g(4),k(Bu(5,13,n.heureDebut,"EEEE d MMMM yyyy HH:mm")),g(2),E("ngIf",n.lieu),g(),E("ngIf",n.lieu),g(),E("ngIf",n.competition),g(),E("ngIf",n.competition),g(2),E("ngClass",n.showElements?"fa-chevron-up":"fa-chevron-right"),g(3),k(n.equipe1),g(2),Yn(" ",n.score1," - ",n.score2," "),g(2),k(n.equipe2),g(),E("ngIf",n.showElements&&n.buteurs.length>0),g(),E("ngIf",n.showElements)}}function d$(t,e){if(t&1&&(h(0,"div",80),Y(1,"h2"),h(2,"div",81),$(3,l$,21,16,"div",82),f()()),t&2){let n=_();g(3),E("ngForOf",n.getSortedMatches())}}function h$(t,e){if(t&1){let n=oe();h(0,"div",139)(1,"div",140)(2,"span",141)(3,"strong"),m(4),f(),m(5," - "),h(6,"em"),m(7),f()(),h(8,"div")(9,"button",142),b("click",function(){let i=S(n).index,o=_(3);return A(o.modifierButeur(o.matches.indexOf(o.selectedMatch),i))}),Y(10,"i",143),m(11," Modifier "),f(),h(12,"button",144),b("click",function(){let i=S(n).index,o=_(3);return A(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),i))}),Y(13,"i",145),m(14," Supprimer "),f()()()()}if(t&2){let n=e.$implicit,r=_(3);g(4),k(r.getButeurDisplay(n)),g(3),k(n.equipe===1?r.selectedMatch.equipe1:r.selectedMatch.equipe2)}}function f$(t,e){if(t&1&&(h(0,"div"),$(1,h$,15,2,"div",138),f()),t&2){let n=_(2);g(),E("ngForOf",n.selectedMatch.buteurs)}}function p$(t,e){if(t&1){let n=oe();h(0,"button",146),b("click",function(){let i=S(n).$implicit,o=_(2);return A(o.quickAddGoal(i,1))}),m(1),f()}if(t&2){let n=e.$implicit;g(),ye(" \u26BD ",n," ")}}function m$(t,e){if(t&1){let n=oe();h(0,"button",146),b("click",function(){S(n);let i=_(2);return A(i.showButeurForm=!0)}),m(1," + "),f()}}function g$(t,e){if(t&1){let n=oe();h(0,"button",147),b("click",function(){let i=S(n).$implicit,o=_(2);return A(o.quickAddGoal(i,2))}),m(1),f()}if(t&2){let n=e.$implicit;g(),ye(" \u26BD ",n," ")}}function v$(t,e){if(t&1){let n=oe();h(0,"button",147),b("click",function(){S(n);let i=_(2);return A(i.showButeurForm=!0)}),m(1," + "),f()}}function y$(t,e){if(t&1){let n=oe();h(0,"button",153),b("click",function(){let i=S(n).$implicit,o=_(3);return A(o.assignPlayerToPosition(i))}),m(1),f()}if(t&2){let n=e.$implicit;g(),ye(" ",n," ")}}function _$(t,e){if(t&1){let n=oe();h(0,"div",148)(1,"div",149)(2,"h6"),m(3),f(),h(4,"div",150),$(5,y$,2,1,"button",151),f(),h(6,"button",152),b("click",function(){S(n);let i=_(2);return A(i.selectedPosition=null)}),m(7," Annuler "),f()()()}if(t&2){let n=_(2);g(3),ye("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),g(2),E("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function w$(t,e){if(t&1){let n=oe();h(0,"div",155)(1,"div",156)(2,"span",141),Y(3,"i",157),h(4,"strong"),m(5),f(),m(6),h(7,"em"),m(8),f()(),h(9,"div")(10,"button",142),b("click",function(){let i=S(n).index,o=_(3);return A(o.modifierRecuperation(o.matches.indexOf(o.selectedMatch),i))}),Y(11,"i",143),m(12," Modifier "),f(),h(13,"button",144),b("click",function(){let i=S(n).index,o=_(3);return A(o.supprimerRecuperation(o.matches.indexOf(o.selectedMatch),i))}),Y(14,"i",145),m(15," Supprimer "),f()()()()}if(t&2){let n=e.$implicit,r=_(3);g(5),k(n.nom),g(),ye(" - ",n.minute,"' - "),g(2),k(n.equipe===1?r.selectedMatch.equipe1:r.selectedMatch.equipe2)}}function I$(t,e){if(t&1&&(h(0,"div"),$(1,w$,16,3,"div",154),f()),t&2){let n=_(2);g(),E("ngForOf",n.selectedMatch.recuperations)}}function E$(t,e){if(t&1&&(h(0,"option",79),m(1),f()),t&2){let n=e.$implicit;E("value",n),g(),ye(" ",n," ")}}function C$(t,e){if(t&1){let n=oe();h(0,"div",158)(1,"div",159)(2,"div",34)(3,"div",35)(4,"h5",160),m(5),f(),h(6,"button",161),b("click",function(){S(n);let i=_(2);return A(i.annulerEditionRecuperation())}),f()(),h(7,"div",39)(8,"form",162),b("ngSubmit",function(){S(n);let i=_(2);return A(i.ajouterRecuperation())}),h(9,"div",163)(10,"div",164)(11,"label",165),m(12,"Nom du joueur"),f(),h(13,"select",166)(14,"option",65),m(15,"S\xE9lectionner un joueur"),f(),$(16,E$,2,2,"option",61),f()(),h(17,"div",167)(18,"label",165),m(19,"Minute"),f(),Y(20,"input",168),f(),h(21,"div",169)(22,"label",165),m(23,"\xC9quipe"),f(),h(24,"select",170)(25,"option",79),m(26),f(),h(27,"option",79),m(28),f()()()(),h(29,"div",171)(30,"button",172),m(31),f(),h(32,"button",45),b("click",function(){S(n);let i=_(2);return A(i.annulerEditionRecuperation())}),m(33," Annuler "),f()()()()()()()}if(t&2){let n,r=_(2);g(5),k(r.editingRecuperation?"Modifier la r\xE9cup\xE9ration":"Nouvelle r\xE9cup\xE9ration"),g(3),E("formGroup",r.recuperationForm),g(8),E("ngForOf",r.getTeamPlayers(((n=r.recuperationForm.get("equipe"))==null?null:n.value)||1)),g(4),E("ngModel",r.calculateElapsedMinutes(r.selectedMatch.heureDebut)),g(5),E("value",1),g(),k(r.selectedMatch.equipe1),g(),E("value",2),g(),k(r.selectedMatch.equipe2),g(2),E("disabled",!r.recuperationForm.valid),g(),ye(" ",r.editingRecuperation?"Enregistrer":"Ajouter"," ")}}function b$(t,e){if(t&1){let n=oe();h(0,"div",113)(1,"div",114)(2,"button",115),b("click",function(){S(n);let i=_();return A(i.showScoreForm=!1)}),m(3,"\xD7"),f(),h(4,"h3"),m(5,"Modifier le score"),f(),h(6,"div",116)(7,"div",90)(8,"div",91),m(9),f(),h(10,"div",117),m(11),f(),h(12,"div",91),m(13),f()()(),h(14,"div",118)(15,"div",119),b("click",function(){S(n);let i=_();return A(i.toggleButeursList())}),h(16,"h4")(17,"span",120),m(18),f(),m(19),f()(),$(20,f$,2,1,"div",87),f(),h(21,"div",80)(22,"div",121)(23,"div",55)(24,"h5",122),m(25),f(),h(26,"div",123),$(27,p$,2,1,"button",124)(28,m$,2,0,"button",125),f()(),h(29,"div",55)(30,"h5",126),m(31),f(),h(32,"div",127),$(33,g$,2,1,"button",128)(34,v$,2,0,"button",129),f()()()(),$(35,_$,8,2,"div",130),h(36,"div",131)(37,"div",119),b("click",function(){S(n);let i=_();return A(i.toggleRecuperationsList())}),h(38,"h4")(39,"span",120),m(40),f(),m(41),f()(),h(42,"div",132)(43,"button",133),b("click",function(){S(n);let i=_();return i.showRecuperationForm=!0,A(i.recuperationForm.patchValue({equipe:1}))}),Y(44,"i",134),h(45,"span",135),m(46),f()(),h(47,"button",133),b("click",function(){S(n);let i=_();return i.showRecuperationForm=!0,A(i.recuperationForm.patchValue({equipe:2}))}),Y(48,"i",134),h(49,"span",135),m(50),f()()(),$(51,I$,2,1,"div",87),f(),$(52,C$,34,10,"div",136),h(53,"div",137)(54,"button",45),b("click",function(){S(n);let i=_();return A(i.selectedMatch=null)}),m(55," Fermer "),f()()()()}if(t&2){let n=_();g(9),k(n.selectedMatch.equipe1),g(2),Yn("",n.selectedMatch.score1," - ",n.selectedMatch.score2,""),g(2),k(n.selectedMatch.equipe2),g(5),k(n.showButeursList?"\u25BC":"\u25B6"),g(),ye(" Buteurs (",n.selectedMatch.buteurs.length,") "),g(),E("ngIf",n.showButeursList),g(5),k(n.selectedMatch.equipe1),g(2),E("ngForOf",n.getTeamPlayers(1)),g(),E("ngIf",!n.showButeurForm),g(3),k(n.selectedMatch.equipe2),g(2),E("ngForOf",n.getTeamPlayers(2)),g(),E("ngIf",!n.showButeurForm),g(),E("ngIf",n.selectedPosition&&n.selectedMatch),g(5),k(n.showRecuperationsList?"\u25BC":"\u25B6"),g(),ye(" R\xE9cup\xE9rations (",n.selectedMatch.recuperations.length||0,") "),g(2),Ns("title","Ajouter une r\xE9cup\xE9ration pour ",n.selectedMatch.equipe1,""),g(3),k(n.selectedMatch.equipe1),g(),Ns("title","Ajouter une r\xE9cup\xE9ration pour ",n.selectedMatch.equipe2,""),g(3),k(n.selectedMatch.equipe2),g(),E("ngIf",n.showRecuperationsList),g(),E("ngIf",n.showRecuperationForm)}}function D$(t,e){if(t&1&&(h(0,"option",79),m(1),f()),t&2){let n=e.$implicit;E("value",n.name),g(),k(n.name)}}function T$(t,e){if(t&1&&(h(0,"option",79),m(1),f()),t&2){let n=e.$implicit;E("value",n.name),g(),k(n.name)}}function S$(t,e){if(t&1){let n=oe();h(0,"div",173)(1,"div",34)(2,"span",115),b("click",function(){S(n);let i=_();return A(i.showMatchEditForm=!1)}),m(3,"\xD7"),f(),h(4,"h3"),m(5,"Modifier le match"),f(),h(6,"form",162),b("ngSubmit",function(){S(n);let i=_();return A(i.onSubmitMatchEdit())}),h(7,"div",174)(8,"button",175),b("click",function(){S(n);let i=_();return A(i.supprimerMatch(i.selectedMatch))}),Y(9,"i",145),m(10," Supprimer le match "),f()(),h(11,"div",176)(12,"label",177),m(13,"\xC9quipe 1:"),f(),h(14,"select",178,0),b("change",function(){S(n);let i=Os(15),o=_();return A(i.value==="new"&&o.editNewTeam(i))}),$(16,D$,2,2,"option",61),h(17,"option",179),m(18,"+ Ajouter une nouvelle \xE9quipe"),f()()(),h(19,"div",176)(20,"label",180),m(21,"\xC9quipe 2:"),f(),h(22,"select",181,1),b("change",function(){S(n);let i=Os(23),o=_();return A(i.value==="new"&&o.editNewTeam(i))}),$(24,T$,2,2,"option",61),h(25,"option",179),m(26,"+ Ajouter une nouvelle \xE9quipe"),f()()(),h(27,"div",176)(28,"label",182),m(29,"Heure de d\xE9but:"),f(),Y(30,"input",183),f(),h(31,"div",176)(32,"label",184),m(33,"Lieu:"),f(),Y(34,"input",185),f(),h(35,"div",176)(36,"label",186),m(37,"Comp\xE9tition:"),f(),Y(38,"input",187),f(),h(39,"div",174)(40,"button",188),b("click",function(){S(n);let i=_();return A(i.onSubmitMatchEdit())}),m(41,"Enregistrer les Modifications"),f()()()()()}if(t&2){let n=_();g(6),E("formGroup",n.matchEditForm),g(10),E("ngForOf",n.teams),g(8),E("ngForOf",n.teams)}}function A$(t,e){if(t&1&&(h(0,"span",202),m(1," \u2022 "),f()),t&2){let n=e.index,r=_(2);Me("fade",n>=r.remainingDots)}}function x$(t,e){if(t&1&&(h(0,"option",203),m(1),f()),t&2){let n=e.$implicit,r=_(2);E("value",n)("disabled",n===r.lastGoalScorer),g(),ye(" ",n," ")}}function M$(t,e){if(t&1){let n=oe();h(0,"div",189)(1,"div",190)(2,"div",191),m(3,"BUUUT !"),f(),h(4,"div",192),m(5),f(),h(6,"div",193),m(7),f(),h(8,"div",194),m(9,"\u26BD\u26BD"),f(),h(10,"div",195),$(11,A$,2,2,"span",196),f(),h(12,"div",197)(13,"select",198),Sn("ngModelChange",function(i){S(n);let o=_();return Jn(o.lastGoalAssist,i)||(o.lastGoalAssist=i),A(i)}),h(14,"option",65),m(15,"Aucun assist"),f(),$(16,x$,2,3,"option",199),f(),h(17,"div",200)(18,"button",92),b("click",function(){S(n);let i=_();return A(i.saveGoalWithAssist())}),m(19," Enregistrer "),f(),h(20,"button",201),b("click",function(){S(n);let i=_();return A(i.cancelGoal())}),m(21," Annuler "),f()()()()()}if(t&2){let n=_();g(5),ye(" ",n.lastGoalScorer," "),g(2),ye(" ",n.lastGoalTeam," "),g(4),E("ngForOf",JI(5,kB).constructor(5)),g(2),Tn("ngModel",n.lastGoalAssist),g(3),E("ngForOf",n.getTeamPlayers(n.lastGoalTeam===(n.selectedMatch==null?null:n.selectedMatch.equipe1)?1:2))}}function R$(t,e){t&1&&(h(0,"span",223),m(1,"-"),f())}function P$(t,e){t&1&&(h(0,"span",223),m(1,"-"),f())}function N$(t,e){if(t&1){let n=oe();h(0,"div")(1,"div",224),b("click",function(){S(n);let i=_(2);return A(i.selectPosition(1,"milieu-offensif"))}),h(2,"div",212)(3,"span",213),m(4,"MO"),f(),$(5,P$,2,0,"span",214),h(6,"span",215),m(7),f()()()()}if(t&2){let n=_(2);g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),g(3),E("ngIf",n.getPlayerForPosition(1,"milieu-offensif")),g(2),k(n.getPlayerForPosition(1,"milieu-offensif"))}}function O$(t,e){if(t&1){let n=oe();h(0,"div")(1,"div",225),b("click",function(){S(n);let i=_(2);return A(i.selectPosition(1,"defenseur-gauche"))}),h(2,"div",212)(3,"span",213),m(4,"DG"),f(),h(5,"span",215),m(6),f()()()()}if(t&2){let n=_(2);g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),g(4),k(n.getPlayerForPosition(1,"defenseur-gauche"))}}function k$(t,e){if(t&1){let n=oe();h(0,"div")(1,"div",226),b("click",function(){S(n);let i=_(2);return A(i.selectPosition(1,"defenseur-droit"))}),h(2,"div",212)(3,"span",213),m(4,"DD"),f(),h(5,"span",215),m(6),f()()()()}if(t&2){let n=_(2);g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),g(4),k(n.getPlayerForPosition(1,"defenseur-droit"))}}function F$(t,e){t&1&&(h(0,"span",223),m(1,"-"),f())}function V$(t,e){if(t&1){let n=oe();h(0,"div")(1,"div",224),b("click",function(){S(n);let i=_(2);return A(i.selectPosition(2,"milieu-offensif"))}),h(2,"div",212)(3,"span",213),m(4,"MO"),f(),h(5,"span",215),m(6),f()()()()}if(t&2){let n=_(2);g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),g(4),k(n.getPlayerForPosition(2,"milieu-offensif"))}}function L$(t,e){if(t&1){let n=oe();h(0,"div")(1,"div",225),b("click",function(){S(n);let i=_(2);return A(i.selectPosition(2,"defenseur-gauche"))}),h(2,"div",212)(3,"span",213),m(4,"DG"),f(),h(5,"span",215),m(6),f()()()()}if(t&2){let n=_(2);g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),g(4),k(n.getPlayerForPosition(2,"defenseur-gauche"))}}function j$(t,e){if(t&1){let n=oe();h(0,"div")(1,"div",226),b("click",function(){S(n);let i=_(2);return A(i.selectPosition(2,"defenseur-droit"))}),h(2,"div",212)(3,"span",213),m(4,"DD"),f(),h(5,"span",215),m(6),f()()()()}if(t&2){let n=_(2);g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),g(4),k(n.getPlayerForPosition(2,"defenseur-droit"))}}function U$(t,e){t&1&&Y(0,"div")}function B$(t,e){if(t&1){let n=oe();h(0,"button",153),b("click",function(){let i=S(n).$implicit,o=_(3);return A(o.assignPlayerToPosition(i))}),m(1),f()}if(t&2){let n=e.$implicit;g(),ye(" ",n," ")}}function $$(t,e){if(t&1){let n=oe();h(0,"div",148)(1,"div",149)(2,"h6"),m(3),f(),h(4,"div",150),$(5,B$,2,1,"button",151),f(),h(6,"button",152),b("click",function(){S(n);let i=_(2);return A(i.selectedPosition=null)}),m(7," Annuler "),f()()()}if(t&2){let n=_(2);g(3),ye("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),g(2),E("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function q$(t,e){if(t&1){let n=oe();h(0,"div",204)(1,"div",205)(2,"button",115),b("click",function(){S(n);let i=_();return A(i.closeDispositionModal())}),m(3,"\xD7"),f(),h(4,"h3"),m(5,"Disposition tactique"),f(),h(6,"button",206),b("click",function(){S(n);let i=_();return A(i.toggleDefendersAndMidfielders())}),m(7),f(),h(8,"div",207)(9,"div",208)(10,"div",209)(11,"h5",122),m(12),f(),h(13,"div",210)(14,"div",211),b("click",function(){S(n);let i=_();return A(i.selectPosition(1,"attaquant"))}),h(15,"div",212)(16,"span",213),m(17,"AT"),f(),$(18,R$,2,0,"span",214),h(19,"span",215),m(20),f()()(),$(21,N$,8,4,"div",87),h(22,"div",216),b("click",function(){S(n);let i=_();return A(i.selectPosition(1,"milieu-gauche"))}),h(23,"div",212)(24,"span",213),m(25,"MG"),f(),h(26,"span",215),m(27),f()()(),h(28,"div",217),b("click",function(){S(n);let i=_();return A(i.selectPosition(1,"milieu-droit"))}),h(29,"div",212)(30,"span",213),m(31,"MD"),f(),h(32,"span",215),m(33),f()()(),h(34,"div",218),b("click",function(){S(n);let i=_();return A(i.selectPosition(1,"defenseur-central"))}),h(35,"div",212)(36,"span",213),m(37,"DC"),f(),h(38,"span",215),m(39),f()()(),$(40,O$,7,3,"div",87)(41,k$,7,3,"div",87),h(42,"div",219),b("click",function(){S(n);let i=_();return A(i.selectPosition(1,"gardien"))}),h(43,"div",212)(44,"span",213),m(45,"G"),f(),h(46,"span",215),m(47),f()()()()(),h(48,"div",220)(49,"h5",126),m(50),f(),h(51,"div",210)(52,"div",211),b("click",function(){S(n);let i=_();return A(i.selectPosition(2,"attaquant"))}),h(53,"div",212)(54,"span",213),m(55,"AT"),f(),$(56,F$,2,0,"span",214),h(57,"span",215),m(58),f()()(),$(59,V$,7,3,"div",87),h(60,"div",216),b("click",function(){S(n);let i=_();return A(i.selectPosition(2,"milieu-gauche"))}),h(61,"div",212)(62,"span",213),m(63,"MG"),f(),h(64,"span",215),m(65),f()()(),h(66,"div",217),b("click",function(){S(n);let i=_();return A(i.selectPosition(2,"milieu-droit"))}),h(67,"div",212)(68,"span",213),m(69,"MD"),f(),h(70,"span",215),m(71),f()()(),h(72,"div",218),b("click",function(){S(n);let i=_();return A(i.selectPosition(2,"defenseur-central"))}),h(73,"div",212)(74,"span",213),m(75,"DC"),f(),h(76,"span",215),m(77),f()()(),$(78,L$,7,3,"div",87)(79,j$,7,3,"div",87),h(80,"div",219),b("click",function(){S(n);let i=_();return A(i.selectPosition(2,"gardien"))}),h(81,"div",212)(82,"span",213),m(83,"G"),f(),h(84,"span",215),m(85),f()()(),$(86,U$,1,0,"div",87),f()()(),h(87,"div",221)(88,"p",222),m(89," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),f()()(),$(90,$$,8,2,"div",130),f()()}if(t&2){let n=_();g(7),ye(" ",n.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),g(5),k(n.selectedMatch.equipe1),g(3),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),g(3),E("ngIf",n.getPlayerForPosition(1,"attaquant")),g(2),k(n.getPlayerForPosition(1,"attaquant")),g(),E("ngIf",n.showDefendersAndMidfielders),g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),g(4),k(n.getPlayerForPosition(1,"milieu-gauche")),g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),g(4),k(n.getPlayerForPosition(1,"milieu-droit")),g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),g(4),k(n.getPlayerForPosition(1,"defenseur-central")),g(),E("ngIf",n.showDefendersAndMidfielders),g(),E("ngIf",n.showDefendersAndMidfielders),g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),g(4),k(n.getPlayerForPosition(1,"gardien")),g(3),k(n.selectedMatch.equipe2),g(3),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),g(3),E("ngIf",n.getPlayerForPosition(2,"attaquant")),g(2),k(n.getPlayerForPosition(2,"attaquant")),g(),E("ngIf",n.showDefendersAndMidfielders),g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),g(4),k(n.getPlayerForPosition(2,"milieu-gauche")),g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),g(4),k(n.getPlayerForPosition(2,"milieu-droit")),g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),g(4),k(n.getPlayerForPosition(2,"defenseur-central")),g(),E("ngIf",n.showDefendersAndMidfielders),g(),E("ngIf",n.showDefendersAndMidfielders),g(2),Me("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),g(4),k(n.getPlayerForPosition(2,"gardien")),g(),E("ngIf",n.showDefendersAndMidfielders),g(4),E("ngIf",n.selectedPosition&&n.selectedMatch)}}function H$(t,e){if(t&1){let n=oe();h(0,"div",113)(1,"div",159)(2,"div",34)(3,"div",35)(4,"h5",160),m(5,"Choisir le format d'export"),f(),h(6,"button",161),b("click",function(){S(n);let i=_();return A(i.closeExportModal())}),f()(),h(7,"div",39)(8,"div",227)(9,"input",228),Sn("ngModelChange",function(i){S(n);let o=_();return Jn(o.exportFormats.txt,i)||(o.exportFormats.txt=i),A(i)}),f(),h(10,"label",229),m(11," Format TXT "),f()(),h(12,"div",227)(13,"input",230),Sn("ngModelChange",function(i){S(n);let o=_();return Jn(o.exportFormats.csv,i)||(o.exportFormats.csv=i),A(i)}),f(),h(14,"label",231),m(15," Format CSV "),f()(),h(16,"div",227)(17,"input",232),Sn("ngModelChange",function(i){S(n);let o=_();return Jn(o.exportFormats.json,i)||(o.exportFormats.json=i),A(i)}),f(),h(18,"label",233),m(19," Format JSON "),f()()(),h(20,"div",44)(21,"button",45),b("click",function(){S(n);let i=_();return A(i.closeExportModal())}),m(22,"Annuler"),f(),h(23,"button",234),b("click",function(){S(n);let i=_();return A(i.confirmExport())}),m(24,"Exporter"),f()()()()()}if(t&2){let n=_();g(9),Tn("ngModel",n.exportFormats.txt),g(4),Tn("ngModel",n.exportFormats.csv),g(4),Tn("ngModel",n.exportFormats.json),g(6),E("disabled",!n.isExportFormatSelected())}}function z$(t,e){if(t&1){let n=oe();h(0,"div",113)(1,"div",159)(2,"div",34)(3,"div",35)(4,"h5",160),m(5,"Comment utiliser BUUUT.be"),f(),h(6,"button",161),b("click",function(){S(n);let i=_();return A(i.showHelpModal=!1)}),f()(),h(7,"div",39)(8,"h6"),m(9,"Fonctionnalit\xE9s principales :"),f(),h(10,"ul",235)(11,"li",58),Y(12,"i",236),h(13,"strong"),m(14,"Cr\xE9er un match :"),f(),m(15,' Cliquez sur "Nouveau Match" pour enregistrer un nouveau match. '),f(),h(16,"li",58),Y(17,"i",237),h(18,"strong"),m(19,"Enregistrer les buts :"),f(),m(20," Cliquez sur le score pour ajouter les buteurs et leurs minutes. "),f(),h(21,"li",58),Y(22,"i",238),h(23,"strong"),m(24,"G\xE9rer les \xE9quipes :"),f(),m(25," Ajoutez des joueurs \xE0 vos \xE9quipes lors de l'enregistrement des buts. "),f(),h(26,"li",58),Y(27,"i",239),h(28,"strong"),m(29,"Partager :"),f(),m(30," Partagez vos matchs via le bouton de partage. "),f(),h(31,"li",58),Y(32,"i",240),h(33,"strong"),m(34,"Exporter :"),f(),m(35," Exportez vos matchs en TXT, CSV ou JSON. "),f(),h(36,"li",58),Y(37,"i",241),h(38,"strong"),m(39,"Importer :"),f(),m(40," Importez des matchs depuis diff\xE9rents formats. "),f()()(),h(41,"div",44)(42,"button",45),b("click",function(){S(n);let i=_();return A(i.showHelpModal=!1)}),m(43,"Fermer"),f()()()()()}}function G$(t,e){if(t&1&&(h(0,"tr")(1,"td",246),m(2),f(),h(3,"td",246),m(4),f(),h(5,"td",246)(6,"strong"),m(7),f()(),h(8,"td",246),m(9),f(),h(10,"td",246),m(11),f(),h(12,"td",246),m(13),f(),h(14,"td",246),m(15),f(),h(16,"td",246),m(17),f(),h(18,"td",246),m(19),f(),h(20,"td",247),m(21),f()()),t&2){let n=e.$implicit,r=e.index;g(2),k(r+1),g(2),k(n.name),g(3),k(n.points),g(2),k(n.matches),g(2),k(n.wins),g(2),k(n.draws),g(2),k(n.losses),g(2),k(n.goalsFor),g(2),k(n.goalsAgainst),g(),E("ngClass",ZI(12,FB,n.goalDifference>0,n.goalDifference<0)),g(),Yn(" ",n.goalDifference>0?"+":"","",n.goalDifference," ")}}function W$(t,e){if(t&1){let n=oe();h(0,"div",113)(1,"div",242)(2,"div",34)(3,"div",35)(4,"h5",160),m(5),f(),h(6,"button",161),b("click",function(){S(n);let i=_();return A(i.closeRankingModal())}),f()(),h(7,"div",243)(8,"div",244)(9,"table",245)(10,"thead")(11,"tr")(12,"th",246),m(13,"Pos"),f(),h(14,"th",246),m(15,"\xC9quipe"),f(),h(16,"th",246),m(17,"Pts"),f(),h(18,"th",246),m(19,"J"),f(),h(20,"th",246),m(21,"G"),f(),h(22,"th",246),m(23,"N"),f(),h(24,"th",246),m(25,"P"),f(),h(26,"th",246),m(27,"BP"),f(),h(28,"th",246),m(29,"BC"),f(),h(30,"th",246),m(31,"Diff"),f()()(),h(32,"tbody"),$(33,G$,22,15,"tr",99),f()()()(),h(34,"div",44)(35,"button",45),b("click",function(){S(n);let i=_();return A(i.closeRankingModal())}),m(36,"Fermer"),f()()()()()}if(t&2){let n=_();g(5),ye("Classement - ",n.selectedCompetitionFilter,""),g(28),E("ngForOf",n.currentRanking)}}var Th=class t{static{this.competitionColors=new Map}constructor(e,n){this.fb=e,this.firestoreService=n,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.editingButeur=null,this.teams=DA,this.selectedTeam=null,this.newTeamName="",this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!1,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.selectedCompetitionFilter="",this.showCompetitionFilterModal=!1,this.remainingDots=5,this.usedColors=[],this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1},this.showHelpModal=!1,this.showRankingModal=!1,this.currentRanking=[],this.isSharingCompetition=!1,this.isSharingMatch=!1,this.showRecuperationForm=!1,this.editingRecuperation=null,this.showRecuperationsList=!1,this.matchForm=this.fb.group({equipe1:[this.teams[0].name,Ne.required],equipe2:["",Ne.required],heureDebut:[this.getCurrentDateTime(),Ne.required],lieu:[""],competition:[""]}),this.scoreForm=this.fb.group({score1:[0,[Ne.required,Ne.min(0)]],score2:[0,[Ne.required,Ne.min(0)]]}),this.buteurForm=this.fb.group({nom:["",Ne.required],minute:["",[Ne.required,Ne.min(1),Ne.max(90)]],equipe:["",Ne.required],assist:[""]}),this.recuperationForm=this.fb.group({nom:["",Ne.required],minute:["",[Ne.required,Ne.min(1),Ne.max(90)]],equipe:["",Ne.required]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(r=>{let i=this.buteurForm.get("assist");i&&i.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",Ne.required],equipe2:["",Ne.required],heureDebut:["",Ne.required],lieu:[""],competition:[""]})}ngOnInit(){return y(this,null,function*(){this.loadSavedData(),this.startAutoSave(),yield this.loadMatchFromUrl()})}getCurrentDateTime(){let e=new Date,n=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-n).toISOString().slice(0,16)}onSubmit(){if(this.matchForm.valid){let n=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,r=X(x({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],recuperations:[],showElements:!0});this.matches.push(r),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1}}calculateElapsedMinutes(e){let n=new Date,r=new Date(e),i=new Date(r.getTime()),o=Math.floor((n.getTime()-i.getTime())/(1e3*60));return console.log("diffInMinutes",o),console.log("now",n),console.log("localMatchStart",i),o>90?this.getLastScoredMinute()+1:Math.max(1,o)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(e=>e.minute))}selectMatch(e){this.selectedMatch=e,this.scoreForm.patchValue({score1:e.score1,score2:e.score2});let n=this.calculateElapsedMinutes(e.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.buteurForm.patchValue({nom:"",minute:n,equipe:1});let r=this.teams.find(o=>o.name===e.equipe1),i=this.teams.find(o=>o.name===e.equipe2);if(r?B_(r):this.teams.push({id:this.teams.length+1,name:e.equipe1,players:["Joueur non list\xE9"]}),i?B_(i):this.teams.push({id:this.teams.length+1,name:e.equipe2,players:["Joueur non list\xE9"]}),e.equipe1==="U10 Stand. Flawinne FC"){let o=this.teams.find(s=>s.name==="U10 Stand. Flawinne FC");this.selectedTeam=o||null}}updateScore(){if(this.scoreForm.valid&&this.selectedMatch){let e=this.matches.findIndex(n=>n.id===this.selectedMatch.id);e!==-1&&(this.matches[e]=X(x({},this.matches[e]),{score1:this.scoreForm.value.score1,score2:this.scoreForm.value.score2}),this.selectedMatch=null,this.scoreForm.reset({score1:0,score2:0}))}}modifierButeur(e,n){let r=this.matches[e],i=r.buteurs[n];i.equipe===1?r.score1--:r.score2--,this.editingButeur={index:n,buteur:x({},i)},this.buteurForm.patchValue({nom:i.nom,minute:i.minute,equipe:i.equipe}),this.showButeurForm=!0}ajouterButeur(){if(this.buteurForm.valid&&this.selectedMatch){let e={nom:this.buteurForm.value.nom,minute:this.buteurForm.value.minute,equipe:this.buteurForm.value.equipe,assist:this.buteurForm.value.assist||void 0},n=this.matches.findIndex(r=>r.id===this.selectedMatch.id);n!==-1&&(this.editingButeur!==null?this.matches[n].buteurs[this.editingButeur.index]=e:this.matches[n].buteurs.push(e),e.equipe===1?(this.matches[n].score1++,this.lastGoalTeam=this.selectedMatch.equipe1):(this.matches[n].score2++,this.lastGoalTeam=this.selectedMatch.equipe2),this.lastGoalScorer=e.nom,this.buteurForm.reset(),this.editingButeur=null,this.showButeurForm=!1,this.saveData())}}annulerEditionButeur(){if(this.editingButeur&&this.selectedMatch){let e=this.matches.findIndex(n=>n.id===this.selectedMatch.id);e!==-1&&(this.editingButeur.buteur.equipe===1?this.matches[e].score1++:this.matches[e].score2++)}this.editingButeur=null,this.buteurForm.reset(),this.showButeurForm=!1}supprimerButeur(e,n){let r=this.matches[e];r.buteurs[n].equipe===1?r.score1--:r.score2--,r.buteurs.splice(n,1),this.saveData()}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(i=>i.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let r={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(r),e.value=r.name;let i=e.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(i)?.setValue(r.name)}}editNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let r={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(r),e.value=r.name;let i=e.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(i)?.setValue(r.name)}}addNewPlayer(e){if(e&&e.trim()){let n=this.teams.find(r=>r.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));n&&(n.players.push(e.trim()),this.buteurForm.get("nom")?.setValue(e.trim()))}}getTeamPlayers(e){if(!this.selectedMatch)return[];let n=e===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(i=>i.name===n)?.players||[]}quickAddGoal(e,n){if(this.selectedMatch){let r=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);this.lastGoalScorer=e,this.lastGoalTeam=n===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.lastGoalAssist="",this.remainingDots=5,this.showGoalCelebration=!0,this.celebrationTimer=setInterval(()=>{this.remainingDots--,this.remainingDots<=0&&(this.showGoalCelebration=!1,clearInterval(this.celebrationTimer),this.saveGoalWithAssist())},1e3)}}saveGoalWithAssist(){if(this.selectedMatch){let e={nom:this.lastGoalScorer,minute:this.calculateElapsedMinutes(this.selectedMatch.heureDebut),equipe:this.lastGoalTeam===this.selectedMatch.equipe1?1:2,assist:this.lastGoalAssist||void 0},n=this.matches.findIndex(r=>r.id===this.selectedMatch.id);n!==-1&&(this.matches[n].buteurs.push(e),e.equipe===1?this.matches[n].score1++:this.matches[n].score2++,this.saveData(),clearInterval(this.celebrationTimer),this.showGoalCelebration=!1)}}cancelGoal(){this.showGoalCelebration=!1,clearInterval(this.celebrationTimer),this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist=""}supprimerMatch(e){if(confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?")){let n=this.matches.findIndex(r=>r.id===e.id);n!==-1&&(this.matches.splice(n,1),this.saveData())}}loadSavedData(){let e=localStorage.getItem("footballMatches");if(e){let n=JSON.parse(e);new Date(n.expirationDate)>new Date?this.matches=n.matches.map(i=>X(x({},i),{heureDebut:new Date(i.heureDebut),recuperations:i.recuperations||[]})):localStorage.removeItem("footballMatches")}}saveData(){let e=new Date;e.setMonth(e.getMonth()+3);let n={matches:this.matches,expirationDate:e.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(n))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(e,n){return e.buteurs.filter(i=>i.equipe===n).reduce((i,o)=>{let s=i.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c),o.assist&&(s.assist=o.assist)):i.push({nom:o.nom,minutes:[o.minute],assist:o.assist}),i},[]).sort((i,o)=>i.minutes[0]-o.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(e,n){this.selectedPosition={team:e,position:n}}assignPlayerToPosition(e){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let n=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[n]=e,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(e,n){if(this.selectedMatch?.positions){let r=`${e}_${n}`;return this.selectedMatch.positions[r]||""}return""}openDispositionModal(e){this.selectedMatch=e,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(e){e.showElements=!e.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(e){this.selectedMatch=e,this.matchEditForm.patchValue({equipe1:e.equipe1,equipe2:e.equipe2,heureDebut:this.getNearestValidTime(e.heureDebut),lieu:e.lieu,competition:e.competition}),this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(e){let n=new Date(e);return n.getMinutes()<30?n.setMinutes(0):n.setMinutes(30),n.toISOString().slice(0,16)}onSubmitMatchEdit(){if(this.matchEditForm.valid&&this.selectedMatch){let e=this.matchEditForm.value;this.selectedMatch.equipe1=e.equipe1,this.selectedMatch.equipe2=e.equipe2,this.selectedMatch.heureDebut=new Date(e.heureDebut),this.selectedMatch.lieu=e.lieu,this.selectedMatch.competition=e.competition,this.saveData(),this.showMatchEditForm=!1}}get filteredMatches(){return this.matches.filter(e=>{let n=!this.selectedTeamFilter||e.equipe1===this.selectedTeamFilter||e.equipe2===this.selectedTeamFilter,r=!this.selectedCompetitionFilter||e.competition===this.selectedCompetitionFilter;return n&&r})}closeTeamFilterModal(){this.showTeamFilterModal=!1}shareMatch(e){return y(this,null,function*(){this.isSharingMatch=!0;try{let n=yield this.firestoreService.saveMatch(e),r=`${window.location.origin}?matchId=${n}`,i=`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${this.getGroupedScorers(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${e.equipe2}:
${this.getGroupedScorers(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

Lien direct vers le match : ${r}
      `.trim();if(navigator.share)yield navigator.share({title:`${e.equipe1} vs ${e.equipe2}`,text:i,url:r});else{let o=document.createElement("textarea");o.value=i,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}catch(n){console.error("Erreur lors de la sauvegarde ou du partage du match:",n),alert("Une erreur est survenue lors de la sauvegarde ou du partage du match.")}finally{this.isSharingMatch=!1}})}loadMatchFromUrl(){return y(this,null,function*(){let n=new URLSearchParams(window.location.search).get("matchId");if(n)try{let r=yield this.firestoreService.getMatchById(n);r?(r.heureDebut=new Date(r.heureDebut),this.matches.findIndex(o=>o.id===r.id)===-1&&(this.matches.push(r),this.saveData()),this.selectMatch(r),setTimeout(()=>{let o=document.querySelector(`[data-match-id="${r.id}"]`);o&&o.scrollIntoView({behavior:"smooth"})},100)):console.error("Match non trouv\xE9 dans Firestore")}catch(r){console.error("Erreur lors du chargement du match depuis Firestore:",r)}})}getButeurDisplay(e){let n=`\u26BD ${e.nom} (${e.minute}')`;return e.assist&&(n+=` (Assist: ${e.assist})`),n}saveMatchToFirestore(e){return y(this,null,function*(){try{let n=yield this.firestoreService.saveMatch(e);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",n),window.location.href=`/match/${n}`}catch(n){console.error("Erreur lors de l'enregistrement du match dans Firestore:",n)}})}closeCompetitionFilterModal(){this.showCompetitionFilterModal=!1}get uniqueCompetitions(){let e=this.matches.map(n=>n.competition).filter(n=>n!==void 0&&n!=="");return[...new Set(e)]}getCompetitionBadgeColor(e){let n=["badge-pastel-primary","badge-pastel-secondary","badge-pastel-success","badge-pastel-danger","badge-pastel-warning","badge-pastel-info","badge-pastel-dark","badge-pastel-purple","badge-pastel-pink","badge-pastel-teal"];if(t.competitionColors.has(e))return t.competitionColors.get(e);let r=e.split("").reduce((s,a)=>a.charCodeAt(0)+((s<<5)-s),0),i=Math.abs(r)%n.length,o=n[i];return t.competitionColors.set(e,o),o}exportMatches(){this.showExportModal=!0}closeExportModal(){this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1}}isExportFormatSelected(){return this.exportFormats.txt||this.exportFormats.csv||this.exportFormats.json}confirmExport(){return y(this,null,function*(){if(this.exportFormats.txt){let e=this.exportToTxt();this.downloadFile(e,"matches.txt")}if(this.exportFormats.csv){let e=this.exportToCsv();this.downloadFile(e,"matches.csv")}if(this.exportFormats.json){let e=this.exportToJson();this.downloadFile(e,"matches.json")}this.closeExportModal()})}exportToTxt(){return this.matches.map(e=>{let n=this.getGroupedScorers(e,1),r=this.getGroupedScorers(e,2);return`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${n.map(i=>`- ${i.nom}: ${i.minutes.join(", ")}'${i.assist?` (Assist: ${i.assist})`:""}`).join(`
`)}

${e.equipe2}:
${r.map(i=>`- ${i.nom}: ${i.minutes.join(", ")}'${i.assist?` (Assist: ${i.assist})`:""}`).join(`
`)}
----------------------------------------
`.trim()}).join(`

`)}exportToCsv(){let e=["\xC9quipe 1","\xC9quipe 2","Score 1","Score 2","Date","Lieu","Comp\xE9tition","Buteurs \xC9quipe 1","Buteurs \xC9quipe 2"],n=this.matches.map(r=>{let i=this.getGroupedScorers(r,1),o=this.getGroupedScorers(r,2);return[r.equipe1,r.equipe2,r.score1,r.score2,r.heureDebut.toLocaleString("fr-FR"),r.lieu||"",r.competition||"",i.map(s=>`${s.nom} (${s.minutes.join(", ")}'${s.assist?`, Assist: ${s.assist}`:""})`).join("; "),o.map(s=>`${s.nom} (${s.minutes.join(", ")}'${s.assist?`, Assist: ${s.assist}`:""})`).join("; ")].map(s=>`"${s}"`).join(",")});return[e.map(r=>`"${r}"`).join(","),...n].join(`
`)}exportToJson(){return JSON.stringify(this.matches.map(e=>X(x({},e),{heureDebut:e.heureDebut.toISOString(),buteurs:e.buteurs.map(n=>X(x({},n),{assist:n.assist||null}))})),null,2)}downloadFile(e,n){let r=new Blob([e],{type:"text/plain"}),i=window.URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=n,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(i),document.body.removeChild(o)}importMatches(){let e=document.createElement("input");e.type="file",e.accept=".txt,.csv,.json",e.onchange=n=>{let r=n.target.files?.[0];if(r){let i=new FileReader;i.onload=o=>{let s=o.target?.result,a=r.name.split(".").pop()?.toLowerCase();try{let c=[];switch(a){case"txt":c=this.parseTxtImport(s);break;case"csv":c=this.parseCsvImport(s);break;case"json":c=this.parseJsonImport(s);break;default:throw new Error("Format de fichier non support\xE9")}c.length>0?confirm(`Voulez-vous importer ${c.length} match(s) ?`)&&(this.matches.push(...c),this.saveData(),alert("Import r\xE9ussi !")):alert("Aucun match trouv\xE9 dans le fichier.")}catch(c){console.error("Erreur lors de l'import:",c),alert("Erreur lors de l'import du fichier. V\xE9rifiez le format.")}},i.readAsText(r)}},e.click()}parseTxtImport(e){let n=[],r=e.split("----------------------------------------");for(let i of r){if(!i.trim())continue;let o=i.trim().split(`
`),s={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};for(let a of o)if(a.startsWith("Match : ")){let c=a.replace("Match : ","").split(" vs ");s.equipe1=c[0].trim(),s.equipe2=c[1].trim()}else if(a.startsWith("Score : ")){let c=a.replace("Score : ","").split(" - ");s.score1=parseInt(c[0]),s.score2=parseInt(c[1])}else if(a.startsWith("Date : "))s.heureDebut=new Date(a.replace("Date : ",""));else if(a.startsWith("Lieu : "))s.lieu=a.replace("Lieu : ","").trim();else if(a.startsWith("Comp\xE9tition : "))s.competition=a.replace("Comp\xE9tition : ","").trim();else if(a.includes(":")){let[c,u]=a.split(":"),l=c.replace("-","").trim(),d=u.match(/\d+/g),p=u.match(/\(Assist: (.*?)\)/);d&&d.forEach(v=>{s.buteurs?.push({nom:l,minute:parseInt(v),equipe:a.includes(s.equipe1)?1:2,assist:p?p[1]:void 0})})}s.equipe1&&s.equipe2&&n.push(s)}return n}parseCsvImport(e){let n=[],r=e.split(`
`),i=r[0].split(",").map(o=>o.replace(/"/g,"").trim());for(let o=1;o<r.length;o++){if(!r[o].trim())continue;let s=r[o].split(",").map(c=>c.replace(/"/g,"").trim()),a={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};i.forEach((c,u)=>{let l=s[u];switch(c){case"\xC9quipe 1":a.equipe1=l;break;case"\xC9quipe 2":a.equipe2=l;break;case"Score 1":a.score1=parseInt(l);break;case"Score 2":a.score2=parseInt(l);break;case"Date":a.heureDebut=new Date(l);break;case"Lieu":a.lieu=l;break;case"Comp\xE9tition":a.competition=l;break;case"Buteurs \xC9quipe 1":case"Buteurs \xC9quipe 2":let d=c==="Buteurs \xC9quipe 1"?1:2;l.split(";").map(v=>v.trim()).forEach(v=>{let[w,C]=v.split("("),T=C.match(/\d+/g),N=C.match(/Assist: (.*?)\)/);T&&T.forEach(ce=>{a.buteurs?.push({nom:w.trim(),minute:parseInt(ce),equipe:d,assist:N?N[1]:void 0})})});break}}),a.equipe1&&a.equipe2&&n.push(a)}return n}parseJsonImport(e){let n=JSON.parse(e);return Array.isArray(n)?n.map((r,i)=>X(x({},r),{id:this.matches.length+i+1,heureDebut:new Date(r.heureDebut)})):[]}getSortedMatches(){return this.filteredMatches.slice().sort((e,n)=>new Date(n.heureDebut).getTime()-new Date(e.heureDebut).getTime())}calculateRanking(e){let n=new Map;return this.matches.filter(i=>i.competition===e).forEach(i=>{[i.equipe1,i.equipe2].forEach(a=>{n.has(a)||n.set(a,{name:a,points:0,matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0})});let o=n.get(i.equipe1),s=n.get(i.equipe2);o.matches++,s.matches++,o.goalsFor+=i.score1,o.goalsAgainst+=i.score2,s.goalsFor+=i.score2,s.goalsAgainst+=i.score1,i.score1>i.score2?(o.wins++,o.points+=3,s.losses++):i.score1<i.score2?(s.wins++,s.points+=3,o.losses++):(o.draws++,s.draws++,o.points+=1,s.points+=1)}),n.forEach(i=>{i.goalDifference=i.goalsFor-i.goalsAgainst}),Array.from(n.values()).sort((i,o)=>o.points!==i.points?o.points-i.points:o.goalDifference!==i.goalDifference?o.goalDifference-i.goalDifference:o.goalsFor-i.goalsFor)}showRanking(){this.selectedCompetitionFilter?(this.currentRanking=this.calculateRanking(this.selectedCompetitionFilter),this.showRankingModal=!0):alert("Veuillez s\xE9lectionner une comp\xE9tition pour voir le classement")}closeRankingModal(){this.showRankingModal=!1}shareCompetition(){return y(this,null,function*(){if(!this.selectedCompetitionFilter){alert("Veuillez s\xE9lectionner une comp\xE9tition");return}this.isSharingCompetition=!0;try{let e=this.matches.filter(i=>i.competition===this.selectedCompetitionFilter);if(e.length===0){alert("Aucun match trouv\xE9 pour cette comp\xE9tition");return}let n=yield Promise.all(e.map(i=>this.firestoreService.saveMatch(i))),r=`
Comp\xE9tition : ${this.selectedCompetitionFilter}
Nombre de matchs : ${e.length}

Matchs :
${e.map(i=>`
${i.equipe1} vs ${i.equipe2}
Score : ${i.score1} - ${i.score2}
Date : ${i.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${i.lieu||"Non sp\xE9cifi\xE9"}

Buteurs :
${i.equipe1}:
${this.getGroupedScorers(i,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${i.equipe2}:
${this.getGroupedScorers(i,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}
----------------------------------------`).join(`
`)}

Lien vers la comp\xE9tition : ${window.location.origin}?competition=${encodeURIComponent(this.selectedCompetitionFilter)}
      `.trim();if(navigator.share)navigator.share({title:`Comp\xE9tition ${this.selectedCompetitionFilter}`,text:r,url:`${window.location.origin}?competition=${encodeURIComponent(this.selectedCompetitionFilter)}`}).catch(console.error);else{let i=document.createElement("textarea");i.value=r,document.body.appendChild(i),i.select();try{document.execCommand("copy"),alert("Informations de la comp\xE9tition copi\xE9es dans le presse-papiers !")}catch(o){console.error("Erreur lors de la copie:",o)}document.body.removeChild(i)}}catch(e){console.error("Erreur lors de la sauvegarde ou du partage de la comp\xE9tition:",e),alert("Une erreur est survenue lors de la sauvegarde ou du partage de la comp\xE9tition.")}finally{this.isSharingCompetition=!1}})}ajouterRecuperation(){if(this.recuperationForm.valid&&this.selectedMatch){let e={nom:this.recuperationForm.value.nom,minute:this.recuperationForm.value.minute,equipe:this.recuperationForm.value.equipe},n=this.matches.findIndex(r=>r.id===this.selectedMatch.id);n!==-1&&(this.matches[n].recuperations||(this.matches[n].recuperations=[]),this.editingRecuperation!==null?this.matches[n].recuperations[this.editingRecuperation.index]=e:this.matches[n].recuperations.push(e),this.recuperationForm.reset(),this.editingRecuperation=null,this.showRecuperationForm=!1,this.saveData())}}modifierRecuperation(e,n){let i=this.matches[e].recuperations[n];this.editingRecuperation={index:n,recuperation:x({},i)},this.recuperationForm.patchValue({nom:i.nom,minute:i.minute,equipe:i.equipe}),this.showRecuperationForm=!0}supprimerRecuperation(e,n){this.matches[e].recuperations.splice(n,1),this.saveData()}annulerEditionRecuperation(){this.editingRecuperation=null,this.recuperationForm.reset(),this.showRecuperationForm=!1}getRecuperationsList(e,n){return e.recuperations?e.recuperations.filter(r=>r.equipe===n).sort((r,i)=>r.minute-i.minute):[]}toggleRecuperationsList(){this.showRecuperationsList=!this.showRecuperationsList}static{this.\u0275fac=function(n){return new(n||t)(L(EA),L(ph))}}static{this.\u0275cmp=mo({type:t,selectors:[["app-root"]],standalone:!0,features:[_o],decls:29,vars:15,consts:[["equipe1Select",""],["equipe2Select",""],[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lead","text-muted","mb-0"],[1,"btn","btn-link","ms-2",3,"click"],[1,"fas","fa-question-circle","text-warning"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","btn mt-2",3,"ngClass","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","click",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","competitionFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","mt-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration","style","margin-top: -100px;",4,"ngIf"],["class","disposition-modal",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-plus-circle","text-white"],[3,"hidden"],[1,"fas","fa-users","text-white"],[1,"btn","mt-2",3,"click","ngClass"],[1,"fas","fa-trophy","text-white"],[1,"text-white"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden"],[1,"fas","fa-list-ol"],["tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",1,"score-modal"],["role","document",1,"modal-dialog","modal-body"],[1,"modal-content"],[1,"modal-header"],["id","teamFilterModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],[1,"form-check-label",3,"for"],["tabindex","-1","aria-labelledby","competitionFilterModalLabel","aria-hidden","true",1,"score-modal"],["id","competitionFilterModalLabel",1,"modal-title"],["type","radio","id","allCompetitions",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allCompetitions",1,"form-check-label"],[1,"badge",3,"ngClass"],[1,"mt-4",3,"ngSubmit","formGroup"],[1,"row",2,"width","95%","margin","0 auto","padding","20px","border-radius","10px","background","linear-gradient(to top, rgba(0,0,0,0.1) 0%, transparent 70%)"],[1,"col-md-6"],[1,"mb-4","text-primary","text-center","fw-bold",2,"font-size","1.8rem","text-shadow","2px 2px 4px rgba(0,0,0,0.1)"],[1,"fas","fa-futbol","me-2"],[1,"mb-3"],["for","equipe1",1,"form-label"],["id","equipe1","formControlName","equipe1",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["value","new1"],["for","equipe2",1,"form-label"],["id","equipe2","formControlName","equipe2",1,"form-select",3,"change"],["value",""],["value","new2"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["for","competition",1,"form-label","text-muted"],["type","text","id","competition","formControlName","competition","placeholder","Championnat, tournoi, amical...",1,"form-control","form-control-sm"],[1,"d-flex","gap-2","ms-2"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[3,"value"],[1,"mt-4"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"match-details"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"fas",3,"ngClass"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn","btn-primary",3,"click"],["class","match-scorers",4,"ngIf"],["class","match-actions d-flex gap-2 justify-content-center mt-3",4,"ngIf"],[1,"mx-2"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[4,"ngFor","ngForOf"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"minutes-list","right-team"],[1,"match-actions","d-flex","gap-2","justify-content-center","mt-3"],["title","Ajouter un but",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-futbol"],["title","Disposition tactique",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-tshirt"],["title","Modifier le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],["title","Partager le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click","disabled"],[1,"score-modal"],[1,"score-modal-content"],[1,"close-button",3,"click"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],[1,"row"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],["class","player-selector",4,"ngIf"],[1,"recuperations-list","mb-3"],[1,"d-flex","gap-2","justify-content-center","mb-2"],[1,"btn","btn-sm","btn-dark","d-flex","align-items-center",3,"click","title"],[1,"fas","fa-shield"],[1,"ms-1"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"mt-3"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2"],[1,"flex-grow-1"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],["class","recuperation-item",4,"ngFor","ngForOf"],[1,"recuperation-item"],[1,"recuperation-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2"],[1,"fas","fa-shield","text-success","me-2"],["tabindex","-1",1,"score-modal"],[1,"modal-dialog"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-5"],[1,"form-label","small"],["formControlName","nom",1,"form-select"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control",3,"ngModel"],[1,"col-md-4"],["formControlName","equipe",1,"form-select"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],[1,"match-edit-modal"],[1,"button-group","mt-3"],[1,"btn","btn-outline-danger",3,"click"],[1,"form-group"],["for","equipe1"],["id","equipe1","formControlName","equipe1","required","",1,"form-select",3,"change"],["value","new"],["for","equipe2"],["id","equipe2","formControlName","equipe2","required","",1,"form-select",3,"change"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["for","competition",1,"form-label"],["id","competition","formControlName","competition","placeholder","Championnat, tournoi, amical...",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"goal-celebration",2,"margin-top","-100px"],[1,"celebration-content",2,"width","300px"],[1,"goal-text",2,"transform","scale(1.5)"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],[1,"assist-section","mt-3"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"button-group","mt-2"],[1,"btn","btn-outline-danger","ms-2",3,"click"],[1,"dot"],[3,"value","disabled"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"],[1,"form-check","mb-2"],["type","checkbox","id","txtFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","txtFormat",1,"form-check-label"],["type","checkbox","id","csvFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","csvFormat",1,"form-check-label"],["type","checkbox","id","jsonFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","jsonFormat",1,"form-check-label"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-unstyled"],[1,"fas","fa-plus-circle","text-primary"],[1,"fas","fa-futbol","text-primary"],[1,"fas","fa-users","text-primary"],[1,"fas","fa-share-alt","text-primary"],[1,"fas","fa-download","text-primary"],[1,"fas","fa-upload","text-primary"],[1,"modal-dialog","modal-xl",2,"min-width","100%","margin-right","0"],[1,"modal-body","p-0"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[1,"px-1"],[1,"px-1",3,"ngClass"]],template:function(n,r){n&1&&(h(0,"div",2)(1,"div",3)(2,"h2",4)(3,"span",5),m(4,"BUUUT"),f(),h(5,"span",6),m(6,".be"),f()(),h(7,"div",7)(8,"p",8),m(9,"Enregistrez maintenant tous vos buts!"),f(),h(10,"button",9),b("click",function(){return r.showHelpModal=!0}),Y(11,"i",10),f()()(),h(12,"div",11),$(13,VB,4,1,"button",12)(14,LB,2,0,"button",12)(15,jB,4,2,"button",13)(16,UB,3,6,"button",14)(17,$B,18,3,"div",15)(18,HB,18,3,"div",16),f(),$(19,WB,52,4,"form",17)(20,d$,4,1,"div",18)(21,b$,56,24,"div",19)(22,S$,42,3,"div",20)(23,M$,22,6,"div",21)(24,q$,91,43,"div",22)(25,H$,25,4,"div",19)(26,z$,44,0,"div",19)(27,W$,37,2,"div",19),f(),Y(28,"router-outlet")),n&2&&(g(13),E("ngIf",!r.showMatchForm&&!r.showTeamFilterModal&&!r.showCompetitionFilterModal),g(),E("ngIf",!r.showMatchForm&&!r.showTeamFilterModal&&!r.showCompetitionFilterModal),g(),E("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),g(),E("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),g(),E("ngIf",r.showTeamFilterModal),g(),E("ngIf",r.showCompetitionFilterModal),g(),E("ngIf",r.showMatchForm),g(),E("ngIf",r.filteredMatches.length>0),g(),E("ngIf",r.selectedMatch&&r.showScoreForm),g(),E("ngIf",r.selectedMatch&&r.showMatchEditForm),g(),E("ngIf",r.showGoalCelebration),g(),E("ngIf",r.showDispositionModal&&r.selectedMatch),g(),E("ngIf",r.showExportModal),g(),E("ngIf",r.showHelpModal),g(),E("ngIf",r.showRankingModal))},dependencies:[Vs,EE,ol,sl,al,bA,pA,vA,_A,Ch,N_,S_,Dh,O_,sA,aA,U_,j_,L_,k_,F_,CA,P_,DC,jm],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-2px)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #4b29b967}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.score-modal-content[_ngcontent-%COMP%]{width:99%;height:99%;background:linear-gradient(135deg,#fff,#f8f9fa);padding:0rem;box-shadow:none;overflow-y:auto;position:relative;border-radius:8px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4b29b900}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.score-modal-content[_ngcontent-%COMP%]{width:99%;margin:.5rem}.team-scorers[_ngcontent-%COMP%]{gap:1rem}.scorers-column[_ngcontent-%COMP%]{padding:0 .5rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:2px solid #3498db;width:99%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:90%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:0 1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#191137e6,#40327bcc);padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:8px;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:.5rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:1000px;width:98%}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:1.5em;color:#666;cursor:pointer;transition:all .3s ease}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}.share-icon[_ngcontent-%COMP%]{color:#3498db;font-size:1.2em;margin-right:.5rem;transition:transform .3s ease;display:inline-block;transform:scaleX(-1)}.share-icon[_ngcontent-%COMP%]:hover{transform:scaleX(-1) scale(1.2);color:#2980b9}.badge-pastel-primary[_ngcontent-%COMP%]{background-color:#b3d1ff;color:#2c3e50}.badge-pastel-secondary[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#2c3e50}.badge-pastel-success[_ngcontent-%COMP%]{background-color:#b3ffb3;color:#2c3e50}.badge-pastel-danger[_ngcontent-%COMP%]{background-color:#ffb3b3;color:#2c3e50}.badge-pastel-warning[_ngcontent-%COMP%]{background-color:#ffe6b3;color:#2c3e50}.badge-pastel-info[_ngcontent-%COMP%]{background-color:#b3e6ff;color:#2c3e50}.badge-pastel-dark[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#2c3e50}.badge-pastel-purple[_ngcontent-%COMP%]{background-color:#e6b3ff;color:#2c3e50}.badge-pastel-pink[_ngcontent-%COMP%]{background-color:#ffb3e6;color:#2c3e50}.badge-pastel-teal[_ngcontent-%COMP%]{background-color:#b3ffe6;color:#2c3e50}']})}};var K$=ha(fh.firebaseConfig),lK=hh(K$);PE(Th,OS).catch(t=>console.error(t));
