var l1=Object.defineProperty,u1=Object.defineProperties;var d1=Object.getOwnPropertyDescriptors;var y0=Object.getOwnPropertySymbols;var h1=Object.prototype.hasOwnProperty,f1=Object.prototype.propertyIsEnumerable;var v0=(t,e,n)=>e in t?l1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||={})h1.call(e,n)&&v0(t,n,e[n]);if(y0)for(var n of y0(e))f1.call(e,n)&&v0(t,n,e[n]);return t},X=(t,e)=>u1(t,d1(e));var w=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var w0=null;var Wh=1,Kh=Symbol("SIGNAL");function me(t){let e=w0;return w0=t,e}var I0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function p1(t){if(!(Jh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Wh)){if(!t.producerMustRecompute(t)&&!Qh(t)){t.dirty=!1,t.lastCleanEpoch=Wh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Wh}}function E0(t){return t&&(t.nextProducerIndex=0),me(t)}function C0(t,e){if(me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Jh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Qh(t){Rc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(p1(n),r!==n.version))return!0}return!1}function b0(t){if(Rc(t),Jh(t))for(let e=0;e<t.producerNode.length;e++)Yh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yh(t,e){if(m1(t),Rc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Yh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Rc(i),i.producerIndexOfThis[r]=e}}function Jh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Rc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function m1(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function g1(){throw new Error}var _1=g1;function T0(t){_1=t}function Y(t){return typeof t=="function"}function Ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Nc=Ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Zr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof Nc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{D0(o)}catch(s){e=e??[],s instanceof Nc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Nc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)D0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Zr(n,e)}remove(e){let{_finalizers:n}=this;n&&Zr(n,e),e instanceof t&&e._removeParent(this)}};Le.EMPTY=(()=>{let t=new Le;return t.closed=!0,t})();var Zh=Le.EMPTY;function Oc(t){return t instanceof Le||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function D0(t){Y(t)?t():t.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qi={setTimeout(t,e,...n){let{delegate:r}=Qi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kc(t){Qi.setTimeout(()=>{let{onUnhandledError:e}=un;if(e)e(t);else throw t})}function As(){}var S0=Xh("C",void 0,void 0);function A0(t){return Xh("E",void 0,t)}function x0(t){return Xh("N",t,void 0)}function Xh(t,e,n){return{kind:t,value:e,error:n}}var Xr=null;function Yi(t){if(un.useDeprecatedSynchronousErrorHandling){let e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Xr;if(Xr=null,n)throw r}}else t()}function M0(t){un.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=t)}var ei=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Oc(e)&&e.add(this)):this.destination=w1}static create(e,n,r){return new Ji(e,n,r)}next(e){this.isStopped?tf(x0(e),this):this._next(e)}error(e){this.isStopped?tf(A0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tf(S0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},y1=Function.prototype.bind;function ef(t,e){return y1.call(t,e)}var nf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Fc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Fc(r)}else Fc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Fc(n)}}},Ji=class extends ei{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ef(e.next,o),error:e.error&&ef(e.error,o),complete:e.complete&&ef(e.complete,o)}):i=e}this.destination=new nf(i)}};function Fc(t){un.useDeprecatedSynchronousErrorHandling?M0(t):kc(t)}function v1(t){throw t}function tf(t,e){let{onStoppedNotification:n}=un;n&&Qi.setTimeout(()=>n(t,e))}var w1={closed:!0,next:As,error:v1,complete:As};var Zi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vt(t){return t}function rf(...t){return of(t)}function of(t){return t.length===0?Vt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=E1(n)?n:new Ji(n,r,i);return Yi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=P0(r),new r((i,o)=>{let s=new Ji({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Zi](){return this}pipe(...n){return of(n)(this)}toPromise(n){return n=P0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function P0(t){var e;return(e=t??un.Promise)!==null&&e!==void 0?e:Promise}function I1(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function E1(t){return t&&t instanceof ei||I1(t)&&Oc(t)}function sf(t){return Y(t?.lift)}function ue(t){return e=>{if(sf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new af(t,e,n,r,i)}var af=class extends ei{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xi(){return ue((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var eo=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return Xi()(this)}};var R0=Ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wt=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Vc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new R0}next(n){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zh:(this.currentObservers=null,o.push(n),new Le(()=>{this.currentObservers=null,Zr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Vc(e,n),t})(),Vc=class extends wt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Zh}};var it=class extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var cf={now(){return(cf.delegate||Date).now()},delegate:void 0};var Lc=class extends Le{constructor(e,n){super()}schedule(e,n=0){return this}};var xs={setInterval(t,e,...n){let{delegate:r}=xs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=xs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var to=class extends Lc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return xs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&xs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Zr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var no=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};no.now=cf.now;var ro=class extends no{constructor(e,n=no.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var lf=new ro(to);var jc=class extends to{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Uc=class extends ro{};var uf=new Uc(jc);var Lt=new oe(t=>t.complete());function N0(t){return t&&Y(t.schedule)}function O0(t){return t[t.length-1]}function Bc(t){return Y(O0(t))?t.pop():void 0}function fr(t){return N0(O0(t))?t.pop():void 0}function df(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function F0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function k0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ti(t){return this instanceof ti?(this.v=t,this):new ti(t)}function V0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,d)}}function a(y,C){r[y]&&(i[y]=function(T){return new Promise(function(D,O){o.push([y,T,D,O])>1||c(y,T)})},C&&(i[y]=C(i[y])))}function c(y,C){try{l(r[y](C))}catch(T){g(o[0][3],T)}}function l(y){y.value instanceof ti?Promise.resolve(y.value.v).then(u,d):g(o[0][2],y)}function u(y){c("next",y)}function d(y){c("throw",y)}function g(y,C){y(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function L0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof k0=="function"?k0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var $c=t=>t&&typeof t.length=="number"&&typeof t!="function";function qc(t){return Y(t?.then)}function Hc(t){return Y(t[Zi])}function Gc(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function zc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function C1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wc=C1();function Kc(t){return Y(t?.[Wc])}function Qc(t){return V0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ti(n.read());if(i)return yield ti(void 0);yield yield ti(r)}}finally{n.releaseLock()}})}function Yc(t){return Y(t?.getReader)}function Be(t){if(t instanceof oe)return t;if(t!=null){if(Hc(t))return b1(t);if($c(t))return T1(t);if(qc(t))return D1(t);if(Gc(t))return j0(t);if(Kc(t))return S1(t);if(Yc(t))return A1(t)}throw zc(t)}function b1(t){return new oe(e=>{let n=t[Zi]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function T1(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function D1(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kc)})}function S1(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function j0(t){return new oe(e=>{x1(t,e).catch(n=>e.error(n))})}function A1(t){return j0(Qc(t))}function x1(t,e){var n,r,i,o;return F0(this,void 0,void 0,function*(){try{for(n=L0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function At(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function pr(t,e=0){return ue((n,r)=>{n.subscribe(se(r,i=>At(r,t,()=>r.next(i),e),()=>At(r,t,()=>r.complete(),e),i=>At(r,t,()=>r.error(i),e)))})}function mr(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function U0(t,e){return Be(t).pipe(mr(e),pr(e))}function B0(t,e){return Be(t).pipe(mr(e),pr(e))}function $0(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function q0(t,e){return new oe(n=>{let r;return At(n,e,()=>{r=t[Wc](),At(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Jc(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{At(n,e,()=>{let r=t[Symbol.asyncIterator]();At(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function H0(t,e){return Jc(Qc(t),e)}function G0(t,e){if(t!=null){if(Hc(t))return U0(t,e);if($c(t))return $0(t,e);if(qc(t))return B0(t,e);if(Gc(t))return Jc(t,e);if(Kc(t))return q0(t,e);if(Yc(t))return H0(t,e)}throw zc(t)}function Me(t,e){return e?G0(t,e):Be(t)}function z(...t){let e=fr(t);return Me(t,e)}function io(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function hf(t){return!!t&&(t instanceof oe||Y(t.lift)&&Y(t.subscribe))}var Wn=Ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:M1}=Array;function P1(t,e){return M1(e)?t(...e):t(e)}function Zc(t){return ee(e=>P1(t,e))}var{isArray:R1}=Array,{getPrototypeOf:N1,prototype:O1,keys:k1}=Object;function Xc(t){if(t.length===1){let e=t[0];if(R1(e))return{args:e,keys:null};if(F1(e)){let n=k1(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function F1(t){return t&&typeof t=="object"&&N1(t)===O1}function el(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ms(...t){let e=fr(t),n=Bc(t),{args:r,keys:i}=Xc(t);if(r.length===0)return Me([],e);let o=new oe(V1(r,e,i?s=>el(i,s):Vt));return n?o.pipe(Zc(n)):o}function V1(t,e,n=Vt){return r=>{z0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)z0(e,()=>{let l=Me(t[c],e),u=!1;l.subscribe(se(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function z0(t,e,n){t?At(n,t,e):e()}function W0(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,g=()=>{d&&!c.length&&!l&&e.complete()},y=T=>l<r?C(T):c.push(T),C=T=>{o&&e.next(T),l++;let D=!1;Be(n(T,u++)).subscribe(se(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let O=c.shift();s?At(e,s,()=>C(O)):C(O)}g()}catch(O){e.error(O)}}))};return t.subscribe(se(e,y,()=>{d=!0,g()})),()=>{a?.()}}function $e(t,e,n=1/0){return Y(e)?$e((r,i)=>ee((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>W0(r,i,t,n)))}function oo(t=1/0){return $e(Vt,t)}function K0(){return oo(1)}function so(...t){return K0()(Me(t,fr(t)))}function tl(t){return new oe(e=>{Be(t()).subscribe(e)})}function ff(...t){let e=Bc(t),{args:n,keys:r}=Xc(t),i=new oe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Be(n[u]).subscribe(se(o,g=>{d||(d=!0,l--),a[u]=g},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?el(r,a):a),o.complete())}))}});return e?i.pipe(Zc(e)):i}function xt(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function gr(t){return ue((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=Be(t(s,gr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Q0(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(se(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Kn(t,e){return Y(e)?$e(t,e,1):$e(t,1)}function _r(t){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Qn(t){return t<=0?()=>Lt:ue((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function pf(t){return ee(()=>t)}function nl(t=L1){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function L1(){return new Wn}function ni(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Dn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?xt((i,o)=>t(i,o,r)):Vt,Qn(1),n?_r(e):nl(()=>new Wn))}function ao(t){return t<=0?()=>Lt:ue((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function mf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?xt((i,o)=>t(i,o,r)):Vt,ao(1),n?_r(e):nl(()=>new Wn))}function gf(t,e){return ue(Q0(t,e,arguments.length>=2,!0))}function _f(...t){let e=fr(t);return ue((n,r)=>{(e?so(t,n,e):so(t,n)).subscribe(r)})}function Mt(t,e){return ue((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(se(r,c=>{i?.unsubscribe();let l=0,u=o++;Be(t(c,u)).subscribe(i=se(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function yf(t){return ue((e,n)=>{Be(t).subscribe(se(n,()=>n.complete(),As)),!n.closed&&e.subscribe(n)})}function qe(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Vt}var j1="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(Rl(e,n)),this.code=e}};function Rl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function qs(t){return{toString:t}.toString()}var rl="__parameters__";function U1(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Nw(t,e,n){return qs(()=>{let r=U1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(rl)?c[rl]:Object.defineProperty(c,rl,{value:[]})[rl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Yn=globalThis;function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function B1(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Y0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var $1=be({__forward_ref__:be});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return Et(this())},t}function It(t){return Ow(t)?t():t}function Ow(t){return typeof t=="function"&&t.hasOwnProperty($1)&&t.__forward_ref__===Ct}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nl(t){return J0(t,Fw)||J0(t,Vw)}function kw(t){return Nl(t)!==null}function J0(t,e){return t.hasOwnProperty(e)?t[e]:null}function q1(t){let e=t&&(t[Fw]||t[Vw]);return e||null}function Z0(t){return t&&(t.hasOwnProperty(X0)||t.hasOwnProperty(H1))?t[X0]:null}var Fw=be({\u0275prov:be}),X0=be({\u0275inj:be}),Vw=be({ngInjectableDef:be}),H1=be({ngInjectorDef:be}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Lw(t){return t&&!!t.\u0275providers}var G1=be({\u0275cmp:be}),z1=be({\u0275dir:be}),W1=be({\u0275pipe:be}),K1=be({\u0275mod:be}),dl=be({\u0275fac:be}),Ps=be({__NG_ELEMENT_ID__:be}),ew=be({__NG_ENV_ID__:be});function Rs(t){return typeof t=="string"?t:t==null?"":String(t)}function Q1(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Rs(t)}function Y1(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function Ep(t,e){throw new B(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),kf;function jw(){return kf}function Pt(t){let e=kf;return kf=t,e}function Uw(t,e,n){let r=Nl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;Ep(t,"Injector")}var J1={},Ns=J1,Ff="__NG_DI_FLAG__",hl="ngTempTokenPath",Z1="ngTokenPath",X1=/\n/gm,ex="\u0275",tw="__source",fo;function tx(){return fo}function yr(t){let e=fo;return fo=t,e}function nx(t,e=re.Default){if(fo===void 0)throw new B(-203,!1);return fo===null?Uw(t,void 0,e):fo.get(t,e&re.Optional?null:void 0,e)}function U(t,e=re.Default){return(jw()||nx)(It(t),e)}function R(t,e=re.Default){return U(t,Ol(e))}function Ol(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Vf(t){let e=[];for(let n=0;n<t.length;n++){let r=It(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){let a=r[s],c=rx(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(U(i,o))}else e.push(U(r))}return e}function Bw(t,e){return t[Ff]=e,t.prototype[Ff]=e,t}function rx(t){return t[Ff]}function ix(t,e,n,r){let i=t[hl];throw e[tw]&&i.unshift(e[tw]),t.message=ox(`
`+t.message,i,n,r),t[Z1]=i,t[hl]=null,t}function ox(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ex?t.slice(2):t;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(X1,`
  `)}`}var Yt=Bw(Nw("Optional"),8);var Cp=Bw(Nw("SkipSelf"),4);function si(t,e){let n=t.hasOwnProperty(dl);return n?t[dl]:null}function bp(t,e){t.forEach(n=>Array.isArray(n)?bp(n,e):e(n))}function $w(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ax(t,e,n){let r=Hs(t,e);return r>=0?t[r|1]=n:(r=~r,sx(t,r,e,n)),r}function vf(t,e){let n=Hs(t,e);if(n>=0)return t[n|1]}function Hs(t,e){return cx(t,e,1)}function cx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var mo={},Wt=[],go=new j(""),qw=new j("",-1),Hw=new j(""),pl=class{get(e,n=Ns){if(n===Ns){let r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return n}},Gw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gw||{}),xn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xn||{}),st=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(st||{});function lx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Lf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];dx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function ux(t){return t===3||t===4||t===6}function dx(t){return t.charCodeAt(0)===64}function Os(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?nw(t,n,i,null,e[++r]):nw(t,n,i,null,null))}}return t}function nw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var zw="ng-template";function hx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Tp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Tp(t){return t.type===4&&t.value!==zw}function fx(t,e,n){let r=t.type===4&&!n?zw:t.value;return e===r}function px(t,e,n){let r=4,i=t.attrs,o=i!==null?_x(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!dn(r)&&!dn(c))return!1;if(s&&dn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!fx(t,c,n)||c===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!hx(t,i,c,n)){if(dn(r))return!1;s=!0}}else{let l=e[++a],u=mx(c,i,Tp(t),n);if(u===-1){if(dn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(t){return(t&1)===0}function mx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return yx(e,t)}function gx(t,e,n=!1){for(let r=0;r<e.length;r++)if(px(t,e[r],n))return!0;return!1}function _x(t){for(let e=0;e<t.length;e++){let n=t[e];if(ux(n))return e}return t.length}function yx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function rw(t,e){return t?":not("+e.trim()+")":e}function vx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=rw(o,i),i=""),r=s,o=o||!dn(r);n++}return i!==""&&(e+=rw(o,i)),e}function wx(t){return t.map(vx).join(",")}function Ix(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dn(i))break;i=o}r++}return{attrs:e,classes:n}}function bo(t){return qs(()=>{let e=Zw(t),n=X(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xn.Emulated,styles:t.styles||Wt,_:null,schemas:t.schemas||null,tView:null,id:""});Xw(n);let r=t.dependencies;return n.directiveDefs=ow(r,!1),n.pipeDefs=ow(r,!0),n.id=bx(n),n})}function Ex(t){return wr(t)||Kw(t)}function Cx(t){return t!==null}function Nt(t){return qs(()=>({type:t.type,bootstrap:t.bootstrap||Wt,declarations:t.declarations||Wt,imports:t.imports||Wt,exports:t.exports||Wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function iw(t,e){if(t==null)return mo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=st.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==st.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Te(t){return qs(()=>{let e=Zw(t);return Xw(e),e})}function Ww(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function wr(t){return t[G1]||null}function Kw(t){return t[z1]||null}function Qw(t){return t[W1]||null}function Yw(t){let e=wr(t)||Kw(t)||Qw(t);return e!==null?e.standalone:!1}function Jw(t,e){let n=t[K1]||null;if(!n&&e===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function Zw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||mo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iw(t.inputs,e),outputs:iw(t.outputs),debugInfo:null}}function Xw(t){t.features?.forEach(e=>e(t))}function ow(t,e){if(!t)return null;let n=e?Qw:Ex;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Cx)}function bx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function To(t){return{\u0275providers:t}}function Dp(...t){return{\u0275providers:eI(!0,t),\u0275fromNgModule:!0}}function eI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return bp(e,s=>{let a=s;jf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&tI(i,o),n}function tI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Sp(i,o=>{e(o,r)})}}function jf(t,e,n,r){if(t=It(t),!t)return!1;let i=null,o=Z0(t),s=!o&&wr(t);if(!o&&!s){let c=t.ngModule;if(o=Z0(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)jf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{bp(o.imports,u=>{jf(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&tI(l,e)}if(!a){let l=si(i)||(()=>new i);e({provide:i,useFactory:l,deps:Wt},i),e({provide:Hw,useValue:i,multi:!0},i),e({provide:go,useValue:()=>U(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Sp(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Sp(t,e){for(let n of t)Lw(n)&&(n=n.\u0275providers),Array.isArray(n)?Sp(n,e):e(n)}var Tx=be({provide:String,useValue:be});function nI(t){return t!==null&&typeof t=="object"&&Tx in t}function Dx(t){return!!(t&&t.useExisting)}function Sx(t){return!!(t&&t.useFactory)}function _o(t){return typeof t=="function"}function Ax(t){return!!t.useClass}var kl=new j(""),sl={},xx={},wf;function Ap(){return wf===void 0&&(wf=new pl),wf}var ft=class{},ks=class extends ft{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bf(e,s=>this.processProvider(s)),this.records.set(qw,co(void 0,this)),i.has("environment")&&this.records.set(ft,co(void 0,this));let o=this.records.get(kl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Hw,Wt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=yr(this),r=Pt(void 0),i;try{return e()}finally{yr(n),Pt(r)}}get(e,n=Ns,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ew))return e[ew](this);r=Ol(r);let i,o=yr(this),s=Pt(void 0);try{if(!(r&re.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Ox(e)&&Nl(e);l&&this.injectableDefInScope(l)?c=co(Uf(e),sl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&re.Self?Ap():this.parent;return n=r&re.Optional&&n===Ns?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[hl]=a[hl]||[]).unshift(Et(e)),o)throw a;return ix(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(s),yr(o)}}resolveInjectorInitializers(){let e=me(null),n=yr(this),r=Pt(void 0),i;try{let o=this.get(go,Wt,re.Self);for(let s of o)s()}finally{yr(n),Pt(r),me(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=It(e);let n=_o(e)?e:It(e&&e.provide),r=Px(e);if(!_o(e)&&e.multi===!0){let i=this.records.get(n);i||(i=co(void 0,sl,!0),i.factory=()=>Vf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=me(null);try{return n.value===sl&&(n.value=xx,n.value=n.factory()),typeof n.value=="object"&&n.value&&Nx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=It(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Uf(t){let e=Nl(t),n=e!==null?e.factory:si(t);if(n!==null)return n;if(t instanceof j)throw new B(204,!1);if(t instanceof Function)return Mx(t);throw new B(204,!1)}function Mx(t){if(t.length>0)throw new B(204,!1);let n=q1(t);return n!==null?()=>n.factory(t):()=>new t}function Px(t){if(nI(t))return co(void 0,t.useValue);{let e=rI(t);return co(e,sl)}}function rI(t,e,n){let r;if(_o(t)){let i=It(t);return si(i)||Uf(i)}else if(nI(t))r=()=>It(t.useValue);else if(Sx(t))r=()=>t.useFactory(...Vf(t.deps||[]));else if(Dx(t))r=()=>U(It(t.useExisting));else{let i=It(t&&(t.useClass||t.provide));if(Rx(t))r=()=>new i(...Vf(t.deps));else return si(i)||Uf(i)}return r}function co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Rx(t){return!!t.deps}function Nx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Ox(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function Bf(t,e){for(let n of t)Array.isArray(n)?Bf(n,e):n&&Lw(n)?Bf(n.\u0275providers,e):e(n)}function pn(t,e){t instanceof ks&&t.assertNotDestroyed();let n,r=yr(t),i=Pt(void 0);try{return e()}finally{yr(r),Pt(i)}}function iI(){return jw()!==void 0||tx()!=null}function kx(t){if(!iI())throw new B(-203,!1)}function Fx(t){return typeof t=="function"}var Xn=0,ae=1,K=2,pt=3,hn=4,mn=5,ml=6,Fs=7,fn=8,yo=9,Mn=10,je=11,Vs=12,sw=13,Do=14,Pn=15,Fl=16,lo=17,vo=18,Vl=19,oI=20,vr=21,If=22,ai=23,Qt=25,sI=1;var ci=7,gl=8,_l=9,Kt=10,xp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(xp||{});function ii(t){return Array.isArray(t)&&typeof t[sI]=="object"}function er(t){return Array.isArray(t)&&t[sI]===!0}function Mp(t){return(t.flags&4)!==0}function Ll(t){return t.componentOffset>-1}function jl(t){return(t.flags&1)===1}function Ir(t){return!!t.template}function Vx(t){return(t[K]&512)!==0}var $f=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function aI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function tr(){return cI}function cI(t){return t.type.prototype.ngOnChanges&&(t.setInput=jx),Lx}tr.ngInherit=!0;function Lx(){let t=uI(this),e=t?.current;if(e){let n=t.previous;if(n===mo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jx(t,e,n,r,i){let o=this.declaredInputs[r],s=uI(t)||Ux(t,{previous:mo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new $f(l&&l.currentValue,n,c===mo),aI(t,e,i,n)}var lI="__ngSimpleChanges__";function uI(t){return t[lI]||null}function Ux(t,e){return t[lI]=e}var aw=null;var Sn=function(t,e,n){aw?.(t,e,n)},Bx="svg",$x="math",qx=!1;function Hx(){return qx}function Rn(t){for(;Array.isArray(t);)t=t[Xn];return t}function dI(t,e){return Rn(e[t])}function Jt(t,e){return Rn(e[t.index])}function hI(t,e){return t.data[e]}function fI(t,e){return t[e]}function Tr(t,e){let n=e[t];return ii(n)?n:n[Xn]}function Pp(t){return(t[K]&128)===128}function Gx(t){return er(t[pt])}function wo(t,e){return e==null?null:t[e]}function pI(t){t[lo]=0}function zx(t){t[K]&1024||(t[K]|=1024,Pp(t)&&Ls(t))}function Wx(t,e){for(;t>0;)e=e[Do],t--;return e}function Rp(t){return!!(t[K]&9216||t[ai]?.dirty)}function qf(t){t[Mn].changeDetectionScheduler?.notify(1),Rp(t)?Ls(t):t[K]&64&&(Hx()?(t[K]|=1024,Ls(t)):t[Mn].changeDetectionScheduler?.notify())}function Ls(t){t[Mn].changeDetectionScheduler?.notify();let e=js(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Pp(e)));)e=js(e)}function mI(t,e){if((t[K]&256)===256)throw new B(911,!1);t[vr]===null&&(t[vr]=[]),t[vr].push(e)}function Kx(t,e){if(t[vr]===null)return;let n=t[vr].indexOf(e);n!==-1&&t[vr].splice(n,1)}function js(t){let e=t[pt];return er(e)?e[pt]:e}var ne={lFrame:CI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qx(){return ne.lFrame.elementDepthCount}function Yx(){ne.lFrame.elementDepthCount++}function Jx(){ne.lFrame.elementDepthCount--}function gI(){return ne.bindingsEnabled}function Zx(){return ne.skipHydrationRootTNode!==null}function Xx(t){return ne.skipHydrationRootTNode===t}function eM(){ne.skipHydrationRootTNode=null}function pe(){return ne.lFrame.lView}function at(){return ne.lFrame.tView}function I(t){return ne.lFrame.contextLView=t,t[fn]}function E(t){return ne.lFrame.contextLView=null,t}function Ot(){let t=_I();for(;t!==null&&t.type===64;)t=t.parent;return t}function _I(){return ne.lFrame.currentTNode}function tM(){let t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function fi(t,e){let n=ne.lFrame;n.currentTNode=t,n.isParent=e}function Np(){return ne.lFrame.isParent}function yI(){ne.lFrame.isParent=!1}function nM(){return ne.lFrame.contextLView}function Ul(){let t=ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rM(){return ne.lFrame.bindingIndex}function iM(t){return ne.lFrame.bindingIndex=t}function Bl(){return ne.lFrame.bindingIndex++}function vI(t){let e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oM(){return ne.lFrame.inI18n}function sM(t,e){let n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hf(e)}function aM(){return ne.lFrame.currentDirectiveIndex}function Hf(t){ne.lFrame.currentDirectiveIndex=t}function cM(t){let e=ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function wI(t){ne.lFrame.currentQueryIndex=t}function lM(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[mn]:null}function II(t,e,n){if(n&re.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=lM(o),i===null||(o=o[Do],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ne.lFrame=EI();return r.currentTNode=e,r.lView=t,!0}function Op(t){let e=EI(),n=t[ae];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function EI(){let t=ne.lFrame,e=t===null?null:t.child;return e===null?CI(t):e}function CI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function bI(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var TI=bI;function kp(){let t=bI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uM(t){return(ne.lFrame.contextLView=Wx(t,ne.lFrame.contextLView))[fn]}function pi(){return ne.lFrame.selectedIndex}function li(t){ne.lFrame.selectedIndex=t}function $l(){let t=ne.lFrame;return hI(t.tView,t.selectedIndex)}function dM(){return ne.lFrame.currentNamespace}var DI=!0;function ql(){return DI}function Hl(t){DI=t}function hM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=cI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Gl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function al(t,e,n){SI(t,e,3,n)}function cl(t,e,n,r){(t[K]&3)===n&&SI(t,e,n,r)}function Ef(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function SI(t,e,n,r){let i=r!==void 0?t[lo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[lo]+=65536),(a<o||o==-1)&&(fM(t,n,e,c),t[lo]=(t[lo]&4294901760)+c+2),c++}function cw(t,e){Sn(4,t,e);let n=me(null);try{e.call(t)}finally{me(n),Sn(5,t,e)}}function fM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[K]>>14<t[lo]>>16&&(t[K]&3)===e&&(t[K]+=16384,cw(a,o)):cw(a,o)}var po=-1,ui=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function pM(t){return t instanceof ui}function mM(t){return(t.flags&8)!==0}function gM(t){return(t.flags&16)!==0}function AI(t){return t!==po}function yl(t){return t&32767}function _M(t){return t>>16}function vl(t,e){let n=_M(t),r=e;for(;n>0;)r=r[Do],n--;return r}var Gf=!0;function wl(t){let e=Gf;return Gf=t,e}var yM=256,xI=yM-1,MI=5,vM=0,An={};function wM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ps)&&(r=n[Ps]),r==null&&(r=n[Ps]=vM++);let i=r&xI,o=1<<i;e.data[t+(i>>MI)]|=o}function Il(t,e){let n=PI(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,Cf(r.data,t),Cf(e,null),Cf(r.blueprint,null));let i=Fp(t,e),o=t.injectorIndex;if(AI(i)){let s=yl(i),a=vl(i,e),c=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Cf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Fp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=FI(i),r===null)return po;if(n++,i=i[Do],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return po}function zf(t,e,n){wM(t,e,n)}function RI(t,e,n){if(n&re.Optional||t!==void 0)return t;Ep(e,"NodeInjector")}function NI(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[yo],o=Pt(void 0);try{return i?i.get(e,r,n&re.Optional):Uw(e,r,n&re.Optional)}finally{Pt(o)}}return RI(r,e,n)}function OI(t,e,n,r=re.Default,i){if(t!==null){if(e[K]&2048&&!(r&re.Self)){let s=TM(t,e,n,r,An);if(s!==An)return s}let o=kI(t,e,n,r,An);if(o!==An)return o}return NI(e,n,r,i)}function kI(t,e,n,r,i){let o=CM(n);if(typeof o=="function"){if(!II(e,t,r))return r&re.Host?RI(i,n,r):NI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&re.Optional))Ep(n);else return s}finally{TI()}}else if(typeof o=="number"){let s=null,a=PI(t,e),c=po,l=r&re.Host?e[Pn][mn]:null;for((a===-1||r&re.SkipSelf)&&(c=a===-1?Fp(t,e):e[a+8],c===po||!uw(r,!1)?a=-1:(s=e[ae],a=yl(c),e=vl(c,e)));a!==-1;){let u=e[ae];if(lw(o,a,u.data)){let d=IM(a,e,n,s,r,l);if(d!==An)return d}c=e[a+8],c!==po&&uw(r,e[ae].data[a+8]===l)&&lw(o,a,e)?(s=u,a=yl(c),e=vl(c,e)):a=-1}}return i}function IM(t,e,n,r,i,o){let s=e[ae],a=s.data[t+8],c=r==null?Ll(a)&&Gf:r!=s&&(a.type&3)!==0,l=i&re.Host&&o===a,u=EM(a,s,n,c,l);return u!==null?Io(e,s,u,a):An}function EM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,g=i?a+u:l;for(let y=d;y<g;y++){let C=s[y];if(y<c&&n===C||y>=c&&C.type===n)return y}if(i){let y=s[c];if(y&&Ir(y)&&y.type===n)return c}return null}function Io(t,e,n,r){let i=t[n],o=e.data;if(pM(i)){let s=i;s.resolving&&Y1(Q1(o[n]));let a=wl(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Pt(s.injectImpl):null,u=II(t,r,re.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&hM(n,o[n],e)}finally{l!==null&&Pt(l),wl(a),s.resolving=!1,TI()}}return i}function CM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ps)?t[Ps]:void 0;return typeof e=="number"?e>=0?e&xI:bM:e}function lw(t,e,n){let r=1<<t;return!!(n[e+(t>>MI)]&r)}function uw(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var oi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return OI(this._tNode,this._lView,e,Ol(r),n)}};function bM(){return new oi(Ot(),pe())}function Zt(t){return qs(()=>{let e=t.prototype.constructor,n=e[dl]||Wf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[dl]||Wf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Wf(t){return Ow(t)?()=>{let e=Wf(It(t));return e&&e()}:si(t)}function TM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let a=kI(o,s,n,r|re.Self,An);if(a!==An)return a;let c=o.parent;if(!c){let l=s[oI];if(l){let u=l.get(n,An,r);if(u!==An)return u}c=FI(s),s=s[Do]}o=c}return i}function FI(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[mn]:null}function dw(t,e=null,n=null,r){let i=VI(t,e,n,r);return i.resolveInjectorInitializers(),i}function VI(t,e=null,n=null,r,i=new Set){let o=[n||Wt,Dp(t)];return r=r||(typeof t=="object"?void 0:Et(t)),new ks(o,e||Ap(),r||null,i)}var kt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ns}static{this.NULL=new pl}static create(n,r){if(Array.isArray(n))return dw({name:""},r,n,"");{let i=n.name??"";return dw({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=V({token:t,providedIn:"any",factory:()=>U(qw)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var DM="ngOriginalError";function bf(t){return t[DM]}var Nn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&bf(e);for(;n&&bf(n);)n=bf(n);return n||null}},LI=new j("",{providedIn:"root",factory:()=>R(Nn).handleError.bind(void 0)}),Vp=(()=>{class t{static{this.__NG_ELEMENT_ID__=SM}static{this.__NG_ENV_ID__=n=>n}}return t})(),Kf=class extends Vp{constructor(e){super(),this._lView=e}onDestroy(e){return mI(this._lView,e),()=>Kx(this._lView,e)}};function SM(){return new Kf(pe())}function AM(){return zl(Ot(),pe())}function zl(t,e){return new gn(Jt(t,e))}var gn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=AM}}return t})();var Qf=class extends wt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,iI()&&(this.destroyRef=R(Vp,{optional:!0})??void 0)}emit(e){let n=me(null);try{super.next(e)}finally{me(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Tf(o),i&&(i=Tf(i)),s&&(s=Tf(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}};function Tf(t){return e=>{setTimeout(t,void 0,e)}}var ot=Qf;function jI(t){return(t.flags&128)===128}var UI=new Map,xM=0;function MM(){return xM++}function PM(t){UI.set(t[Vl],t)}function RM(t){UI.delete(t[Vl])}var hw="__ngContext__";function Er(t,e){ii(e)?(t[hw]=e[Vl],PM(e)):t[hw]=e}function BI(t){return qI(t[Vs])}function $I(t){return qI(t[hn])}function qI(t){for(;t!==null&&!er(t);)t=t[hn];return t}var Yf;function HI(t){Yf=t}function NM(){if(Yf!==void 0)return Yf;if(typeof document<"u")return document;throw new B(210,!1)}var Lp=new j("",{providedIn:"root",factory:()=>OM}),OM="ng",jp=new j(""),Xt=new j("",{providedIn:"platform",factory:()=>"unknown"});var Up=new j("",{providedIn:"root",factory:()=>NM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kM="h",FM="b";var VM=()=>null;function Bp(t,e,n=!1){return VM(t,e,n)}var GI=!1,LM=new j("",{providedIn:"root",factory:()=>GI});var Jf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${j1})`}};function $p(t){return t instanceof Jf?t.changingThisBreaksApplicationSecurity:t}var jM=/^>|^->|<!--|-->|--!>|<!-$/g,UM=/(<|>)/g,BM="\u200B$1\u200B";function $M(t){return t.replace(jM,e=>e.replace(UM,BM))}function zI(t){return t instanceof Function?t():t}function qM(t){return(t??R(kt)).get(Xt)==="browser"}var Jn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jn||{}),HM;function qp(t,e){return HM(t,e)}function uo(t,e,n,r,i){if(r!=null){let o,s=!1;er(r)?o=r:ii(r)&&(s=!0,r=r[Xn]);let a=Rn(r);t===0&&n!==null?i==null?JI(e,n,a):El(e,n,a,i||null,!0):t===1&&n!==null?El(e,n,a,i||null,!0):t===2?cP(e,a,s):t===3&&e.destroyNode(a),o!=null&&uP(e,t,o,n,i)}}function GM(t,e){return t.createText(e)}function zM(t,e,n){t.setValue(e,n)}function WM(t,e){return t.createComment($M(e))}function WI(t,e,n){return t.createElement(e,n)}function KM(t,e){KI(t,e),e[Xn]=null,e[mn]=null}function QM(t,e,n,r,i,o){r[Xn]=i,r[mn]=e,Kl(t,r,n,1,i,o)}function KI(t,e){e[Mn].changeDetectionScheduler?.notify(1),Kl(t,e,e[je],2,null,null)}function YM(t){let e=t[Vs];if(!e)return Df(t[ae],t);for(;e;){let n=null;if(ii(e))n=e[Vs];else{let r=e[Kt];r&&(n=r)}if(!n){for(;e&&!e[hn]&&e!==t;)ii(e)&&Df(e[ae],e),e=e[pt];e===null&&(e=t),ii(e)&&Df(e[ae],e),n=e&&e[hn]}e=n}}function JM(t,e,n,r){let i=Kt+r,o=n.length;r>0&&(n[i-1][hn]=e),r<o-Kt?(e[hn]=n[i],$w(n,Kt+r,e)):(n.push(e),e[hn]=null),e[pt]=n;let s=e[Fl];s!==null&&n!==s&&ZM(s,e);let a=e[vo];a!==null&&a.insertView(t),qf(e),e[K]|=128}function ZM(t,e){let n=t[_l],i=e[pt][pt][Pn];e[Pn]!==i&&(t[K]|=xp.HasTransplantedViews),n===null?t[_l]=[e]:n.push(e)}function QI(t,e){let n=t[_l],r=n.indexOf(e);n.splice(r,1)}function Zf(t,e){if(t.length<=Kt)return;let n=Kt+e,r=t[n];if(r){let i=r[Fl];i!==null&&i!==t&&QI(i,r),e>0&&(t[n-1][hn]=r[hn]);let o=fl(t,Kt+e);KM(r[ae],r);let s=o[vo];s!==null&&s.detachView(o[ae]),r[pt]=null,r[hn]=null,r[K]&=-129}return r}function YI(t,e){if(!(e[K]&256)){let n=e[je];n.destroyNode&&Kl(t,e,n,3,null,null),YM(e)}}function Df(t,e){if(e[K]&256)return;let n=me(null);try{e[K]&=-129,e[K]|=256,e[ai]&&b0(e[ai]),eP(t,e),XM(t,e),e[ae].type===1&&e[je].destroy();let r=e[Fl];if(r!==null&&er(e[pt])){r!==e[pt]&&QI(r,e);let i=e[vo];i!==null&&i.detachView(t)}RM(e)}finally{me(n)}}function XM(t,e){let n=t.cleanup,r=e[Fs];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Fs]=null);let i=e[vr];if(i!==null){e[vr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function eP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ui)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Sn(4,a,c);try{c.call(a)}finally{Sn(5,a,c)}}else{Sn(4,i,o);try{o.call(i)}finally{Sn(5,i,o)}}}}}function tP(t,e,n){return nP(t,e.parent,n)}function nP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Xn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===xn.None||o===xn.Emulated)return null}return Jt(r,n)}}function El(t,e,n,r,i){t.insertBefore(e,n,r,i)}function JI(t,e,n){t.appendChild(e,n)}function fw(t,e,n,r,i){r!==null?El(t,e,n,r,i):JI(t,e,n)}function rP(t,e,n,r){t.removeChild(e,n,r)}function Hp(t,e){return t.parentNode(e)}function iP(t,e){return t.nextSibling(e)}function oP(t,e,n){return aP(t,e,n)}function sP(t,e,n){return t.type&40?Jt(t,n):null}var aP=sP,pw;function Wl(t,e,n,r){let i=tP(t,r,e),o=e[je],s=r.parent||e[mn],a=oP(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)fw(o,i,n[c],a,!1);else fw(o,i,n,a,!1);pw!==void 0&&pw(o,r,e,n,i)}function ll(t,e){if(e!==null){let n=e.type;if(n&3)return Jt(e,t);if(n&4)return Xf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ll(t,r);{let i=t[e.index];return er(i)?Xf(-1,i):Rn(i)}}else{if(n&32)return qp(e,t)()||Rn(t[e.index]);{let r=ZI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=js(t[Pn]);return ll(i,r)}else return ll(t,e.next)}}}return null}function ZI(t,e){if(e!==null){let r=t[Pn][mn],i=e.projection;return r.projection[i]}return null}function Xf(t,e){let n=Kt+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return ll(r,i)}return e[ci]}function cP(t,e,n){let r=Hp(t,e);r&&rP(t,r,e,n)}function Gp(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Er(Rn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Gp(t,e,n.child,r,i,o,!1),uo(e,t,i,a,o);else if(c&32){let l=qp(n,r),u;for(;u=l();)uo(e,t,i,u,o);uo(e,t,i,a,o)}else c&16?lP(t,e,r,n,i,o):uo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Kl(t,e,n,r,i,o){Gp(n,r,t.firstChild,e,i,o,!1)}function lP(t,e,n,r,i,o){let s=n[Pn],c=s[mn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];uo(e,t,i,u,o)}else{let l=c,u=s[pt];jI(r)&&(l.flags|=128),Gp(t,e,l,u,i,o,!0)}}function uP(t,e,n,r,i){let o=n[ci],s=Rn(n);o!==s&&uo(e,t,r,o,i);for(let a=Kt;a<n.length;a++){let c=n[a];Kl(c[ae],c,t,e,r,o)}}function dP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Jn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jn.Important),t.setStyle(n,r,i,o))}}function hP(t,e,n){t.setAttribute(e,"style",n)}function XI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function eE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Lf(t,e,r),i!==null&&XI(t,e,i),o!==null&&hP(t,e,o)}var _n={};function h(t=1){tE(at(),pe(),pi()+t,!1)}function tE(t,e,n,r){if(!r)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&al(e,o,n)}else{let o=t.preOrderHooks;o!==null&&cl(e,o,0,n)}li(n)}function q(t,e=re.Default){let n=pe();if(n===null)return U(t,e);let r=Ot();return OI(r,n,It(t),e)}function nE(){let t="invalid";throw new Error(t)}function rE(t,e,n,r,i,o){let s=me(null);try{let a=null;i&st.SignalBased&&(a=e[r][Kh]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&st.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):aI(e,a,r,o)}finally{me(s)}}function fP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)li(~i);else{let o=i,s=n[++r],a=n[++r];sM(s,o);let c=e[o];a(2,c)}}}finally{li(-1)}}function Ql(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Xn]=i,d[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(d[K]|=2048),pI(d),d[pt]=d[Do]=t,d[fn]=n,d[Mn]=s||t&&t[Mn],d[je]=a||t&&t[je],d[yo]=c||t&&t[yo]||null,d[mn]=o,d[Vl]=MM(),d[ml]=u,d[oI]=l,d[Pn]=e.type==2?t[Pn]:d,d}function Gs(t,e,n,r,i){let o=t.data[e];if(o===null)o=pP(t,e,n,r,i),oM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=tM();o.injectorIndex=s===null?-1:s.injectorIndex}return fi(o,!0),o}function pP(t,e,n,r,i){let o=_I(),s=Np(),a=s?o:o&&o.parent,c=t.data[e]=vP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function iE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function oE(t,e,n,r,i){let o=pi(),s=r&2;try{li(-1),s&&e.length>Qt&&tE(t,e,Qt,!1),Sn(s?2:0,i),n(r,i)}finally{li(o),Sn(s?3:1,i)}}function zp(t,e,n){if(Mp(e)){let r=me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{me(r)}}}function Wp(t,e,n){gI()&&(TP(t,e,n,Jt(n,e)),(n.flags&64)===64&&cE(t,e,n))}function Kp(t,e,n=Jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function sE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Qp(t,e,n,r,i,o,s,a,c,l,u){let d=Qt+r,g=d+i,y=mP(d,g),C=typeof l=="function"?l():l;return y[ae]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1,ssrId:u}}function mP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:_n);return n}function gP(t,e,n,r){let o=r.get(LM,GI)||n===xn.ShadowDom,s=t.selectRootElement(e,o);return _P(s),s}function _P(t){yP(t)}var yP=()=>null;function vP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Zx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function mw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=st.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?gw(r,n,l,a,c):gw(r,n,l,a)}return r}function gw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function wP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],g=n?n.get(d):null,y=g?g.inputs:null,C=g?g.outputs:null;c=mw(0,d.inputs,u,c,y),l=mw(1,d.outputs,u,l,C);let T=c!==null&&s!==null&&!Tp(e)?FP(c,u,s):null;a.push(T)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function IP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Yp(t,e,n,r,i,o,s,a){let c=Jt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Zp(t,n,u,r,i),Ll(e)&&EP(n,e.index)):e.type&3?(r=IP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function EP(t,e){let n=Tr(e,t);n[K]&16||(n[K]|=64)}function Jp(t,e,n,r){if(gI()){let i=r===null?null:{"":-1},o=SP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&aE(t,e,n,s,i,a),i&&AP(n,r,i)}n.mergedAttrs=Os(n.mergedAttrs,n.attrs)}function aE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)zf(Il(n,e),t,r[l].type);MP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=iE(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Os(n.mergedAttrs,u.hostAttrs),PP(t,n,e,c,u),xP(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}wP(t,n,o)}function CP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;bP(s)!=a&&s.push(a),s.push(n,r,o)}}function bP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function TP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ll(n)&&RP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Il(n,e),Er(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Io(e,t,a,n);if(Er(l,e),s!==null&&kP(e,a-i,l,c,n,s),Ir(c)){let u=Tr(n.index,e);u[fn]=Io(e,t,a,n)}}}function cE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=aM();try{li(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Hf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&DP(c,l)}}finally{li(-1),Hf(s)}}function DP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function SP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(gx(e,s.selectors,!1))if(r||(r=[]),Ir(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;ep(t,e,c)}else r.unshift(s),ep(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ep(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function AP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}}function xP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ir(e)&&(n[""]=t)}}function MP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function PP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=si(i.type,!0)),s=new ui(o,Ir(i),q);t.blueprint[r]=s,n[r]=s,CP(t,e,r,iE(t,n,i.hostVars,_n),i)}function RP(t,e,n){let r=Jt(e,t),i=sE(n),o=t[Mn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Yl(t,Ql(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function NP(t,e,n,r,i,o){let s=Jt(t,e);OP(e[je],s,o,t.value,n,r,i)}function OP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Rs(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function kP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];rE(r,n,c,l,u,d)}}function FP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function lE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function uE(t,e){let n=t.contentQueries;if(n!==null){let r=me(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];wI(o),a.contentQueries(2,e[s],s)}}}finally{me(r)}}}function Yl(t,e){return t[Vs]?t[sw][hn]=e:t[Vs]=e,t[sw]=e,e}function tp(t,e,n){wI(0);let r=me(null);try{e(t,n)}finally{me(r)}}function VP(t){return t[Fs]||(t[Fs]=[])}function LP(t){return t.cleanup||(t.cleanup=[])}function dE(t,e){let n=t[yo],r=n?n.get(Nn,null):null;r&&r.handleError(e)}function Zp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];rE(u,l,r,a,c,i)}}function hE(t,e,n){let r=dI(e,t);zM(t[je],r,n)}function jP(t,e){let n=Tr(e,t),r=n[ae];UP(r,n);let i=n[Xn];i!==null&&n[ml]===null&&(n[ml]=Bp(i,n[yo])),Xp(r,n,n[fn])}function UP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Xp(t,e,n){Op(e);try{let r=t.viewQuery;r!==null&&tp(1,r,n);let i=t.template;i!==null&&oE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[vo]?.finishViewCreation(t),t.staticContentQueries&&uE(t,e),t.staticViewQueries&&tp(2,t.viewQuery,n);let o=t.components;o!==null&&BP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,kp()}}function BP(t,e){for(let n=0;n<e.length;n++)jP(t,e[n])}function $P(t,e,n,r){let i=me(null);try{let o=e.tView,a=t[K]&4096?4096:16,c=Ql(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Fl]=l;let u=t[vo];return u!==null&&(c[vo]=u.createEmbeddedView(o)),Xp(o,c,n),c}finally{me(i)}}function _w(t,e){return!e||e.firstChild===null||jI(t)}function qP(t,e,n,r=!0){let i=e[ae];if(JM(i,e,t,n),r){let s=Xf(n,t),a=e[je],c=Hp(a,t[ci]);c!==null&&QM(i,t[mn],a,e,c,s)}let o=e[ml];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Cl(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Rn(o)),er(o)&&HP(o,r);let s=n.type;if(s&8)Cl(t,e,n.child,r);else if(s&32){let a=qp(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=ZI(e,n);if(Array.isArray(a))r.push(...a);else{let c=js(e[Pn]);Cl(c[ae],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function HP(t,e){for(let n=Kt;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&Cl(r[ae],r,i,e)}t[ci]!==t[Xn]&&e.push(t[ci])}var fE=[];function GP(t){return t[ai]??zP(t)}function zP(t){let e=fE.pop()??Object.create(KP);return e.lView=t,e}function WP(t){t.lView[ai]!==t&&(t.lView=null,fE.push(t))}var KP=X(P({},I0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ls(t.lView)},consumerOnSignalRead(){this.lView[ai]=this}}),pE=100;function mE(t,e=!0,n=0){let r=t[Mn],i=r.rendererFactory,o=!1;o||i.begin?.();try{QP(t,n)}catch(s){throw e&&dE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function QP(t,e){np(t,e);let n=0;for(;Rp(t);){if(n===pE)throw new B(103,!1);n++,np(t,1)}}function YP(t,e,n,r){let i=e[K];if((i&256)===256)return;let o=!1;!o&&e[Mn].inlineEffectRunner?.flush(),Op(e);let s=null,a=null;!o&&JP(t)&&(a=GP(e),s=E0(a));try{pI(e),iM(t.bindingStartIndex),n!==null&&oE(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&al(e,d,null)}else{let d=t.preOrderHooks;d!==null&&cl(e,d,0,null),Ef(e,0)}if(ZP(e),gE(e,0),t.contentQueries!==null&&uE(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&al(e,d)}else{let d=t.contentHooks;d!==null&&cl(e,d,1),Ef(e,1)}fP(t,e);let l=t.components;l!==null&&yE(e,l,0);let u=t.viewQuery;if(u!==null&&tp(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&al(e,d)}else{let d=t.viewHooks;d!==null&&cl(e,d,2),Ef(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[If]){for(let d of e[If])d();e[If]=null}o||(e[K]&=-73)}catch(c){throw Ls(e),c}finally{a!==null&&(C0(a,s),WP(a)),kp()}}function JP(t){return t.type!==2}function gE(t,e){for(let n=BI(t);n!==null;n=$I(n))for(let r=Kt;r<n.length;r++){let i=n[r];_E(i,e)}}function ZP(t){for(let e=BI(t);e!==null;e=$I(e)){if(!(e[K]&xp.HasTransplantedViews))continue;let n=e[_l];for(let r=0;r<n.length;r++){let i=n[r],o=i[pt];zx(i)}}}function XP(t,e,n){let r=Tr(e,t);_E(r,n)}function _E(t,e){Pp(t)&&np(t,e)}function np(t,e){let r=t[ae],i=t[K],o=t[ai],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Qh(o)),o&&(o.dirty=!1),t[K]&=-9217,s)YP(r,t,r.template,t[fn]);else if(i&8192){gE(t,1);let a=r.components;a!==null&&yE(t,a,1)}}function yE(t,e,n){for(let r=0;r<e.length;r++)XP(t,e[r],n)}function em(t){for(t[Mn].changeDetectionScheduler?.notify();t;){t[K]|=64;let e=js(t);if(Vx(t)&&!e)return t;t=e}return null}var di=class{get rootNodes(){let e=this._lView,n=e[ae];return Cl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pt];if(er(e)){let n=e[gl],r=n?n.indexOf(this):-1;r>-1&&(Zf(e,r),fl(n,r))}this._attachedToViewContainer=!1}YI(this._lView[ae],this._lView)}onDestroy(e){mI(this._lView,e)}markForCheck(){em(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){qf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,mE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,KI(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e,qf(this._lView)}},Jl=(()=>{class t{static{this.__NG_ELEMENT_ID__=nR}}return t})(),eR=Jl,tR=class extends eR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=$P(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new di(i)}};function nR(){return rR(Ot(),pe())}function rR(t,e){return t.type&4?new tR(e,t,zl(t,e)):null}var E8=new RegExp(`^(\\d+)*(${FM}|${kM})*(.*)`);var iR=()=>null;function yw(t,e){return iR(t,e)}var bl=class{},rp=class{},Tl=class{};function oR(t){let e=Error(`No component factory found for ${Et(t)}.`);return e[sR]=t,e}var sR="ngComponent";var ip=class{resolveComponentFactory(e){throw oR(e)}},Zl=(()=>{class t{static{this.NULL=new ip}}return t})(),Us=class{},On=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>aR()}}return t})();function aR(){let t=pe(),e=Ot(),n=Tr(e.index,t);return(ii(n)?n:t)[je]}var cR=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>null})}}return t})(),Sf={};var vw=new Set;function Xl(t){vw.has(t)||(vw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ww(...t){}function lR(){let t=typeof Yn.requestAnimationFrame=="function",e=Yn[t?"requestAnimationFrame":"setTimeout"],n=Yn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ot(!1),this.onMicrotaskEmpty=new ot(!1),this.onStable=new ot(!1),this.onError=new ot(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=lR().nativeRequestAnimationFrame,hR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,uR,ww,ww);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},uR={};function tm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Yn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,op(t),t.isCheckStableRunning=!0,tm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),op(t))}function hR(t){let e=()=>{dR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(fR(a))return n.invokeTask(i,o,s,a);try{return Iw(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Ew(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return Iw(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ew(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,op(t),tm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function op(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Iw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ew(t){t._nesting--,tm(t)}function fR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ho=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ho||{}),pR={destroy(){}};function eu(t,e){!e&&kx(eu);let n=e?.injector??R(kt);if(!qM(n))return pR;Xl("NgAfterNextRender");let r=n.get(nm),i=r.handler??=new ap,o=e?.phase??ho.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(Vp).onDestroy(s),c=pn(n,()=>new sp(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var sp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=R(we),this.errorHandler=R(Nn,{optional:!0}),R(bl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ap=class{constructor(){this.executingCallbacks=!1,this.buckets={[ho.EarlyRead]:new Set,[ho.Write]:new Set,[ho.MixedReadWrite]:new Set,[ho.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},nm=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Dl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Y0(i,a);else if(o==2){let c=a,l=e[++s];r=Y0(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Sl=class extends Zl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wr(e);return new Eo(n,this.ngModule)}};function Cw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function mR(t){let e=t.toLowerCase();return e==="svg"?Bx:e==="math"?$x:null}var cp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ol(r);let i=this.injector.get(e,Sf,r);return i!==Sf||n===Sf?i:this.parentInjector.get(e,n,r)}},Eo=class extends Tl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Cw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Cw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=wx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=me(null);try{i=i||this.ngModule;let s=i instanceof ft?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new cp(e,s):e,c=a.get(Us,null);if(c===null)throw new B(407,!1);let l=a.get(cR,null),u=a.get(nm,null),d=a.get(bl,null),g={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},y=c.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",T=r?gP(y,r,this.componentDef.encapsulation,a):WI(y,C,mR(C)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let O=null;T!==null&&(O=Bp(T,a,!0));let ie=Qp(0,null,null,1,0,null,null,null,null,null,null),G=Ql(null,ie,null,D,null,null,g,y,a,null,O);Op(G);let ve,Ye;try{let fe=this.componentDef,ht,Tn=null;fe.findHostDirectiveDefs?(ht=[],Tn=new Map,fe.findHostDirectiveDefs(fe,ht,Tn),ht.push(fe)):ht=[fe];let Jr=gR(G,T),Wi=_R(Jr,T,fe,ht,G,g,y);Ye=hI(ie,Qt),T&&wR(y,fe,T,r),n!==void 0&&IR(Ye,this.ngContentSelectors,n),ve=vR(Wi,fe,ht,Tn,G,[ER]),Xp(ie,G,null)}finally{kp()}return new lp(this.componentType,ve,zl(Ye,G),G,Ye)}finally{me(o)}}},lp=class extends rp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new di(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Zp(o[ae],o,i,e,n),this.previousInputValues.set(e,n);let s=Tr(this._tNode.index,o);em(s)}}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gR(t,e){let n=t[ae],r=Qt;return t[r]=e,Gs(n,r,2,"#host",null)}function _R(t,e,n,r,i,o,s){let a=i[ae];yR(r,t,e,s);let c=null;e!==null&&(c=Bp(e,i[yo]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Ql(i,sE(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&ep(a,t,r.length-1),Yl(i,d),i[t.index]=d}function yR(t,e,n,r){for(let i of t)e.mergedAttrs=Os(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Dl(e,e.mergedAttrs,!0),n!==null&&eE(r,n,e))}function vR(t,e,n,r,i,o){let s=Ot(),a=i[ae],c=Jt(s,i);aE(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,g=Io(i,a,d,s);Er(g,i)}cE(a,i,s),c&&Er(c,i);let l=Io(i,a,s.directiveStart+s.componentOffset,s);if(t[fn]=i[fn]=l,o!==null)for(let u of o)u(l,e);return zp(a,s,i),l}function wR(t,e,n,r){if(r)Lf(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=Ix(e.selectors[0]);i&&Lf(t,n,i),o&&o.length>0&&XI(t,n,o.join(" "))}}function IR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function ER(){let t=Ot();Gl(pe()[ae],t)}var So=(()=>{class t{static{this.__NG_ELEMENT_ID__=CR}}return t})();function CR(){let t=Ot();return TR(t,pe())}var bR=So,vE=class extends bR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return zl(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fp(this._hostTNode,this._hostLView);if(AI(e)){let n=vl(e,this._hostLView),r=yl(e),i=n[ae].data[r+8];return new oi(i,n)}else return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=bw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=yw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,_w(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Fx(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let c=s?e:new Eo(wr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let T=(s?l:this.parentInjector).get(ft,null);T&&(o=T)}let u=wr(c.componentType??{}),d=yw(this._lContainer,u?.id??null),g=d?.firstChild??null,y=c.create(l,i,g,o);return this.insertImpl(y.hostView,a,_w(this._hostTNode,d)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Gx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[pt],l=new vE(c,c[mn],c[pt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return qP(s,i,o,r),e.attachToViewContainerRef(),$w(Af(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=bw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Zf(this._lContainer,n);r&&(fl(Af(this._lContainer),n),YI(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=Zf(this._lContainer,n);return r&&fl(Af(this._lContainer),n)!=null?new di(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function bw(t){return t[gl]}function Af(t){return t[gl]||(t[gl]=[])}function TR(t,e){let n,r=e[t.index];return er(r)?n=r:(n=lE(r,e,null,t),e[t.index]=n,Yl(e,n)),SR(n,e,t,r),new vE(n,t,e)}function DR(t,e){let n=t[je],r=n.createComment(""),i=Jt(e,t),o=Hp(n,i);return El(n,o,r,iP(n,i),!1),r}var SR=MR,AR=()=>!1;function xR(t,e,n){return AR(t,e,n)}function MR(t,e,n,r){if(t[ci])return;let i;n.type&8?i=Rn(r):i=DR(e,n),t[ci]=i}function PR(t){return typeof t=="function"&&t[Kh]!==void 0}function wE(t){return PR(t)&&typeof t.set=="function"}function RR(t){return Object.getPrototypeOf(t.prototype).constructor}function ct(t){let e=RR(t.type),n=!0,r=[t];for(;e;){let i;if(Ir(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=il(t.inputs),s.inputTransforms=il(t.inputTransforms),s.declaredInputs=il(t.declaredInputs),s.outputs=il(t.outputs);let a=i.hostBindings;a&&VR(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&kR(t,c),l&&FR(t,l),NR(t,i),B1(t.outputs,i.outputs),Ir(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ct&&(n=!1)}}e=Object.getPrototypeOf(e)}OR(r)}function NR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function OR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Os(i.hostAttrs,n=Os(n,i.hostAttrs))}}function il(t){return t===mo?{}:t===Wt?[]:t}function kR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function FR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function VR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Cr=class{},Bs=class{};var up=class extends Cr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sl(this);let i=Jw(e);this._bootstrapComponents=zI(i.bootstrap),this._r3Injector=VI(e,n,[{provide:Cr,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver},...r],Et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},dp=class extends Bs{constructor(e){super(),this.moduleType=e}create(e){return new up(this.moduleType,e,[])}};var Al=class extends Cr{constructor(e){super(),this.componentFactoryResolver=new Sl(this),this.instance=null;let n=new ks([...e.providers,{provide:Cr,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver}],e.parent||Ap(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function tu(t,e,n=null){return new Al({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ao=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new it(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function IE(t){return jR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function LR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function jR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function rm(t,e,n){return t[e]=n}function UR(t,e){return t[e]}function br(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function EE(t,e,n,r){let i=br(t,e,n);return br(t,e+1,r)||i}function BR(t){return(t.flags&32)===32}function $R(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Gs(e,t,4,s||null,wo(l,a));Jp(e,n,u,wo(l,c)),Gl(e,u);let d=u.tView=Qp(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function x(t,e,n,r,i,o,s,a){let c=pe(),l=at(),u=t+Qt,d=l.firstCreatePass?$R(u,l,c,e,n,r,i,o,s):l.data[u];fi(d,!1);let g=qR(l,c,d,t);ql()&&Wl(l,c,g,d),Er(g,c);let y=lE(g,c,g,d);return c[u]=y,Yl(c,y),xR(y,d,c),jl(d)&&Wp(l,c,d),s!=null&&Kp(c,d,a),x}var qR=HR;function HR(t,e,n,r){return Hl(!0),e[je].createComment("")}function Dr(t,e,n,r){let i=pe(),o=Bl();if(br(i,o,e)){let s=at(),a=$l();NP(a,i,t,e,n,r)}return Dr}function CE(t,e,n,r){return br(t,Bl(),n)?e+Rs(n)+r:_n}function GR(t,e,n,r,i,o){let s=rM(),a=EE(t,s,n,i);return vI(2),a?e+Rs(n)+r+Rs(i)+o:_n}function ol(t,e){return t<<17|e<<2}function hi(t){return t>>17&32767}function zR(t){return(t&2)==2}function WR(t,e){return t&131071|e<<17}function hp(t){return t|2}function Co(t){return(t&131068)>>2}function xf(t,e){return t&-131069|e<<2}function KR(t){return(t&1)===1}function fp(t){return t|1}function QR(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=hi(s),c=Co(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Hs(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let g=hi(t[a+1]);t[r+1]=ol(g,a),g!==0&&(t[g+1]=xf(t[g+1],r)),t[a+1]=WR(t[a+1],r)}else t[r+1]=ol(a,0),a!==0&&(t[a+1]=xf(t[a+1],r)),a=r;else t[r+1]=ol(c,0),a===0?a=r:t[c+1]=xf(t[c+1],r),c=r;l&&(t[r+1]=hp(t[r+1])),Tw(t,u,r,!0),Tw(t,u,r,!1),YR(e,u,t,r,o),s=ol(a,c),o?e.classBindings=s:e.styleBindings=s}function YR(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Hs(o,e)>=0&&(n[r+1]=fp(n[r+1]))}function Tw(t,e,n,r){let i=t[n+1],o=e===null,s=r?hi(i):Co(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];JR(c,e)&&(a=!0,t[s+1]=r?fp(l):hp(l)),s=r?hi(l):Co(l)}a&&(t[n+1]=r?hp(i):fp(i))}function JR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Hs(t,e)>=0:!1}function _(t,e,n){let r=pe(),i=Bl();if(br(r,i,e)){let o=at(),s=$l();Yp(o,s,r,t,e,r[je],n,!1)}return _}function Dw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Zp(t,n,o[s],s,r)}function Se(t,e){return ZR(t,e,null,!0),Se}function ZR(t,e,n,r){let i=pe(),o=at(),s=vI(2);if(o.firstUpdatePass&&eN(o,t,s,r),e!==_n&&br(i,s,e)){let a=o.data[pi()];oN(o,a,i,i[je],t,i[s+1]=sN(e,n),r,s)}}function XR(t,e){return e>=t.expandoStartIndex}function eN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[pi()],s=XR(t,n);aN(o,r)&&e===null&&!s&&(e=!1),e=tN(i,o,e,r),QR(i,o,e,n,s,r)}}function tN(t,e,n,r){let i=cM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Mf(null,t,e,n,r),n=$s(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Mf(i,t,e,n,r),o===null){let c=nN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Mf(null,t,e,c[1],r),c=$s(c,e.attrs,r),rN(t,e,r,c))}else o=iN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function nN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Co(r)!==0)return t[hi(r)]}function rN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[hi(i)]=r}function iN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=$s(r,s,n)}return $s(r,e.attrs,n)}function Mf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=$s(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function $s(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ax(t,s,n?!0:e[++o]))}return t===void 0?null:t}function oN(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=KR(l)?Sw(c,e,n,i,Co(l),s):void 0;if(!xl(u)){xl(o)||zR(l)&&(o=Sw(c,null,n,i,a,s));let d=dI(pi(),n);dP(r,s,d,i,o)}}function Sw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,g=n[i+1];g===_n&&(g=d?Wt:void 0);let y=d?vf(g,r):u===r?g:void 0;if(l&&!xl(y)&&(y=vf(c,r)),xl(y)&&(a=y,s))return a;let C=t[i+1];i=s?hi(C):Co(C)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=vf(c,r))}return a}function xl(t){return t!==void 0}function sN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Et($p(t)))),t}function aN(t,e){return(t.flags&(e?8:16))!==0}function cN(t,e,n,r,i,o){let s=e.consts,a=wo(s,i),c=Gs(e,t,2,r,a);return Jp(e,n,c,wo(s,o)),c.attrs!==null&&Dl(c,c.attrs,!1),c.mergedAttrs!==null&&Dl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=pe(),o=at(),s=Qt+t,a=i[je],c=o.firstCreatePass?cN(s,o,i,e,n,r):o.data[s],l=lN(o,i,c,a,e,t);i[s]=l;let u=jl(c);return fi(c,!0),eE(a,l,c),!BR(c)&&ql()&&Wl(o,i,l,c),Qx()===0&&Er(l,i),Yx(),u&&(Wp(o,i,c),zp(o,c,i)),r!==null&&Kp(i,c),f}function p(){let t=Ot();Np()?yI():(t=t.parent,fi(t,!1));let e=t;Xx(e)&&eM(),Jx();let n=at();return n.firstCreatePass&&(Gl(n,t),Mp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&mM(e)&&Dw(n,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gM(e)&&Dw(n,e,pe(),e.stylesWithoutHost,!1),p}function S(t,e,n,r){return f(t,e,n,r),p(),S}var lN=(t,e,n,r,i,o)=>(Hl(!0),WI(r,i,dM()));function uN(t,e,n,r,i){let o=e.consts,s=wo(o,r),a=Gs(e,t,8,"ng-container",s);s!==null&&Dl(a,s,!0);let c=wo(o,i);return Jp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Pe(t,e,n){let r=pe(),i=at(),o=t+Qt,s=i.firstCreatePass?uN(o,i,r,e,n):i.data[o];fi(s,!0);let a=dN(i,r,s,t);return r[o]=a,ql()&&Wl(i,r,a,s),Er(a,r),jl(s)&&(Wp(i,r,s),zp(i,s,r)),n!=null&&Kp(r,s),Pe}function Re(){let t=Ot(),e=at();return Np()?yI():(t=t.parent,fi(t,!1)),e.firstCreatePass&&(Gl(e,t),Mp(t)&&e.queries.elementEnd(t)),Re}var dN=(t,e,n,r)=>(Hl(!0),WM(e[je],""));function $(){return pe()}var ri=void 0;function hN(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var fN=["en",[["a","p"],["AM","PM"],ri],[["AM","PM"],ri,ri],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ri,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ri,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ri,"{1} 'at' {0}",ri],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",hN],Pf={};function en(t){let e=pN(t),n=Aw(e);if(n)return n;let r=e.split("-")[0];if(n=Aw(r),n)return n;if(r==="en")return fN;throw new B(701,!1)}function Aw(t){return t in Pf||(Pf[t]=Yn.ng&&Yn.ng.common&&Yn.ng.common.locales&&Yn.ng.common.locales[t]),Pf[t]}var Ue=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ue||{});function pN(t){return t.toLowerCase().replace(/_/g,"-")}var Ml="en-US";var mN=Ml;function gN(t){typeof t=="string"&&(mN=t.toLowerCase().replace(/_/g,"-"))}function b(t,e,n,r){let i=pe(),o=at(),s=Ot();return bE(o,i,i[je],s,t,e,r),b}function _N(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Fs],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function bE(t,e,n,r,i,o,s){let a=jl(r),l=t.firstCreatePass&&LP(t),u=e[fn],d=VP(e),g=!0;if(r.type&3||s){let T=Jt(r,e),D=s?s(T):T,O=d.length,ie=s?ve=>s(Rn(ve[r.index])):r.index,G=null;if(!s&&a&&(G=_N(t,e,i,r.index)),G!==null){let ve=G.__ngLastListenerFn__||G;ve.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,g=!1}else{o=Mw(r,e,u,o,!1);let ve=n.listen(D,i,o);d.push(o,ve),l&&l.push(i,ie,O,O+1)}}else o=Mw(r,e,u,o,!1);let y=r.outputs,C;if(g&&y!==null&&(C=y[i])){let T=C.length;if(T)for(let D=0;D<T;D+=2){let O=C[D],ie=C[D+1],Ye=e[O][ie].subscribe(o),fe=d.length;d.push(o,Ye),l&&l.push(i,r.index,fe,-(fe+1))}}}function xw(t,e,n,r){let i=me(null);try{return Sn(6,e,n),n(r)!==!1}catch(o){return dE(t,o),!1}finally{Sn(7,e,n),me(i)}}function Mw(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Tr(t.index,e):e;em(a);let c=xw(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=xw(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function v(t=1){return uM(t)}function xo(t,e,n){return TE(t,"",e,"",n),xo}function TE(t,e,n,r,i){let o=pe(),s=CE(o,e,n,r);if(s!==_n){let a=at(),c=$l();Yp(a,c,o,t,s,o[je],i,!1)}return TE}function yN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function im(t){let e=nM();return fI(e,Qt+t)}function m(t,e=""){let n=pe(),r=at(),i=t+Qt,o=r.firstCreatePass?Gs(r,i,1,e,null):r.data[i],s=vN(r,n,o,e,t);n[i]=s,ql()&&Wl(r,n,s,o),fi(o,!1)}var vN=(t,e,n,r,i)=>(Hl(!0),GM(e[je],r));function de(t){return L("",t,""),de}function L(t,e,n){let r=pe(),i=CE(r,t,e,n);return i!==_n&&hE(r,pi(),i),L}function yn(t,e,n,r,i){let o=pe(),s=GR(o,t,e,n,r,i);return s!==_n&&hE(o,pi(),s),yn}function He(t,e,n){wE(e)&&(e=e());let r=pe(),i=Bl();if(br(r,i,e)){let o=at(),s=$l();Yp(o,s,r,t,e,r[je],n,!1)}return He}function Je(t,e){let n=wE(t);return n&&t.set(e),n}function Ge(t,e){let n=pe(),r=at(),i=Ot();return bE(r,n,n[je],i,t,e),Ge}function wN(t,e,n){let r=at();if(r.firstCreatePass){let i=Ir(t);pp(n,r.data,r.blueprint,i,!0),pp(e,r.data,r.blueprint,i,!1)}}function pp(t,e,n,r,i){if(t=It(t),Array.isArray(t))for(let o=0;o<t.length;o++)pp(t[o],e,n,r,i);else{let o=at(),s=pe(),a=Ot(),c=_o(t)?t:It(t.provide),l=rI(t),u=a.providerIndexes&1048575,d=a.directiveStart,g=a.providerIndexes>>20;if(_o(t)||!t.multi){let y=new ui(l,i,q),C=Nf(c,e,i?u:u+g,d);C===-1?(zf(Il(a,s),o,c),Rf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[C]=y,s[C]=y)}else{let y=Nf(c,e,u+g,d),C=Nf(c,e,u,u+g),T=y>=0&&n[y],D=C>=0&&n[C];if(i&&!D||!i&&!T){zf(Il(a,s),o,c);let O=CN(i?EN:IN,n.length,i,r,l);!i&&D&&(n[C].providerFactory=O),Rf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=DE(n[i?C:y],l,!i&&r);Rf(o,t,y>-1?y:C,O)}!i&&r&&D&&n[C].componentProviders++}}}function Rf(t,e,n,r){let i=_o(e),o=Ax(e);if(i||o){let c=(o?It(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function DE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Nf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function IN(t,e,n,r){return mp(this.multi,[])}function EN(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Io(n,n[ae],this.providerFactory.index,r);o=a.slice(0,s),mp(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],mp(i,o);return o}function mp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function CN(t,e,n,r,i){let o=new ui(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,DE(o,i,r&&!n),o}function jt(t,e=[]){return n=>{n.providersResolver=(r,i)=>wN(r,i?i(t):t,e)}}var bN=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=eI(!1,n.type),i=r.length>0?tu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:t,providedIn:"environment",factory:()=>new t(U(ft))})}}return t})();function Mo(t){Xl("NgStandalone"),t.getStandaloneInjector=e=>e.get(bN).getOrCreateStandaloneInjector(t)}function Sr(t,e,n){let r=Ul()+t,i=pe();return i[r]===_n?rm(i,r,n?e.call(n):e()):UR(i,r)}function SE(t,e,n,r){return TN(pe(),Ul(),t,e,n,r)}function AE(t,e,n,r,i){return ME(pe(),Ul(),t,e,n,r,i)}function xE(t,e){let n=t[e];return n===_n?void 0:n}function TN(t,e,n,r,i,o){let s=e+n;return br(t,s,i)?rm(t,s+1,o?r.call(o,i):r(i)):xE(t,s+1)}function ME(t,e,n,r,i,o,s){let a=e+n;return EE(t,a,i,o)?rm(t,a+2,s?r.call(s,i,o):r(i,o)):xE(t,a+2)}function zs(t,e){let n=at(),r,i=t+Qt;n.firstCreatePass?(r=DN(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=si(r.type,!0)),s,a=Pt(q);try{let c=wl(!1),l=o();return wl(c),yN(n,pe(),i,l),l}finally{Pt(a)}}function DN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Ws(t,e,n,r){let i=t+Qt,o=pe(),s=fI(o,i);return SN(o,i)?ME(o,Ul(),e,s.transform,n,r,s):s.transform(n,r)}function SN(t,e){return t[ae].data[e].pure}var Zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},PE=new Zn("17.3.12"),nu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var RE=new j("");function mi(t){return!!t&&typeof t.then=="function"}function NE(t){return!!t&&typeof t.subscribe=="function"}var ru=new j(""),OE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=R(ru,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(mi(o))n.push(o);else if(NE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ks=new j("");function AN(){T0(()=>{throw new B(600,!1)})}function xN(t){return t.isBoundToModule}function MN(t,e,n){try{let r=n();return mi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Po=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(LI),this.afterRenderEffectManager=R(nm),this.externalTestViews=new Set,this.beforeRender=new wt,this.afterTick=new wt,this.componentTypes=[],this.components=[],this.isStable=R(Ao).hasPendingTasks.pipe(ee(n=>!n)),this._injector=R(ft)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Tl;if(!this._injector.get(OE).done){let g=!i&&Yw(n),y=!1;throw new B(405,y)}let s;i?s=n:s=this._injector.get(Zl).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=xN(s)?void 0:this._injector.get(Cr),c=r||s.selector,l=s.create(kt.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(RE,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Of(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new B(101,!1);let r=me(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,me(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===pE)throw new B(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)PN(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>gp(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>gp(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Of(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Ks,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Of(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Of(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PN(t,e,n){!e&&!gp(t)||RN(t,n,e)}function gp(t){return Rp(t)}function RN(t,e,n){let r;n?(r=0,t[K]|=1024):t[K]&64?r=0:r=1,mE(t,e,r)}var _p=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},iu=(()=>{class t{compileModuleSync(n){return new dp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Jw(n),o=zI(i.declarations).reduce((s,a)=>{let c=wr(a);return c&&s.push(new Eo(c)),s},[]);return new _p(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var NN=(()=>{class t{constructor(){this.zone=R(we),this.applicationRef=R(Po)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ON(t){return[{provide:we,useFactory:t},{provide:go,multi:!0,useFactory:()=>{let e=R(NN,{optional:!0});return()=>e.initialize()}},{provide:go,multi:!0,useFactory:()=>{let e=R(LN);return()=>{e.initialize()}}},{provide:LI,useFactory:kN}]}function kN(){let t=R(we),e=R(Nn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function FN(t){let e=ON(()=>new we(VN(t)));return To([[],e])}function VN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var LN=(()=>{class t{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=R(we),this.pendingTasks=R(Ao)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jN(){return typeof $localize<"u"&&$localize.locale||Ml}var ou=new j("",{providedIn:"root",factory:()=>R(ou,re.Optional|re.SkipSelf)||jN()});var kE=new j("");var ul=null;function UN(t=[],e){return kt.create({name:e,providers:[{provide:kl,useValue:"platform"},{provide:kE,useValue:new Set([()=>ul=null])},...t]})}function BN(t=[]){if(ul)return ul;let e=UN(t);return ul=e,AN(),$N(e),e}function $N(t){t.get(jp,null)?.forEach(n=>n())}var gi=(()=>{class t{static{this.__NG_ELEMENT_ID__=qN}}return t})();function qN(t){return HN(Ot(),pe(),(t&16)===16)}function HN(t,e,n){if(Ll(t)&&!n){let r=Tr(t.index,e);return new di(r,r)}else if(t.type&47){let r=e[Pn];return new di(r,e)}return null}var yp=class{constructor(){}supports(e){return IE(e)}create(e){return new vp(e)}},GN=(t,e)=>e,vp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GN}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Pw(r,i,o)?n:r,a=Pw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,C=y+g;u<=C&&C<l&&(o[g]=y+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!IE(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,LR(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new wp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ip=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Pl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ip,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Pw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Rw(){return new om([new yp])}var om=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:Rw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Rw()),deps:[[t,new Cp,new Yt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new B(901,!1)}}return t})();function FE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=BN(r),o=[FN(),...n||[]],a=new Al({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(we);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Nn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:y=>{l.handleError(y)}})});let d=()=>a.destroy(),g=i.get(kE);return g.add(d),a.onDestroy(()=>{u.unsubscribe(),g.delete(d)}),MN(l,c,()=>{let y=a.get(OE);return y.runInitializers(),y.donePromise.then(()=>{let C=a.get(ou,Ml);gN(C||Ml);let T=a.get(Po);return e!==void 0&&T.bootstrap(e),T})})})}catch(e){return Promise.reject(e)}}function Qs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function VE(t){let e=wr(t);if(!e)return null;let n=new Eo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var HE=null;function or(){return HE}function GE(t){HE??=t}var pu=class{};var mt=new j(""),pm=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(KN),providedIn:"platform"})}}return t})(),zE=new j(""),KN=(()=>{class t extends pm{constructor(){super(),this._doc=R(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return or().getBaseHref(this._doc)}onPopState(n){let r=or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function mm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function LE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function rr(t){return t&&t[0]!=="?"?"?"+t:t}var _i=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(gm),providedIn:"root"})}}return t})(),WE=new j(""),gm=(()=>{class t extends _i{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mm(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+rr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+rr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+rr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(U(pm),U(WE,8))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),KE=(()=>{class t extends _i{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=mm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+rr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+rr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(U(pm),U(WE,8))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),No=(()=>{class t{constructor(n){this._subject=new ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=JN(LE(jE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+rr(r))}normalize(n){return t.stripTrailingSlash(YN(this._basePath,jE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=rr}static{this.joinWithSlash=mm}static{this.stripTrailingSlash=LE}static{this.\u0275fac=function(r){return new(r||t)(U(_i))}}static{this.\u0275prov=V({token:t,factory:()=>QN(),providedIn:"root"})}}return t})();function QN(){return new No(U(_i))}function YN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function jE(t){return t.replace(/\/index.html$/,"")}function JN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var bt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(bt||{}),De=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(De||{}),Ut=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ut||{}),Ar={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ZN(t){return en(t)[Ue.LocaleId]}function XN(t,e,n){let r=en(t),i=[r[Ue.DayPeriodsFormat],r[Ue.DayPeriodsStandalone]],o=nn(i,e);return nn(o,n)}function eO(t,e,n){let r=en(t),i=[r[Ue.DaysFormat],r[Ue.DaysStandalone]],o=nn(i,e);return nn(o,n)}function tO(t,e,n){let r=en(t),i=[r[Ue.MonthsFormat],r[Ue.MonthsStandalone]],o=nn(i,e);return nn(o,n)}function nO(t,e){let r=en(t)[Ue.Eras];return nn(r,e)}function su(t,e){let n=en(t);return nn(n[Ue.DateFormat],e)}function au(t,e){let n=en(t);return nn(n[Ue.TimeFormat],e)}function cu(t,e){let r=en(t)[Ue.DateTimeFormat];return nn(r,e)}function gu(t,e){let n=en(t),r=n[Ue.NumberSymbols][e];if(typeof r>"u"){if(e===Ar.CurrencyDecimal)return n[Ue.NumberSymbols][Ar.Decimal];if(e===Ar.CurrencyGroup)return n[Ue.NumberSymbols][Ar.Group]}return r}function QE(t){if(!t[Ue.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ue.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rO(t){let e=en(t);return QE(e),(e[Ue.ExtraData][2]||[]).map(r=>typeof r=="string"?sm(r):[sm(r[0]),sm(r[1])])}function iO(t,e,n){let r=en(t);QE(r);let i=[r[Ue.ExtraData][0],r[Ue.ExtraData][1]],o=nn(i,e)||[];return nn(o,n)||[]}function nn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function sm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var oO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lu={},sO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ir=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(ir||{}),_e=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(_e||{}),ge=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ge||{});function aO(t,e,n,r){let i=gO(t);e=nr(n,e)||e;let s=[],a;for(;e;)if(a=sO.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=JE(r,c),i=mO(i,r,!0));let l="";return s.forEach(u=>{let d=fO(u);l+=d?d(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function mu(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function nr(t,e){let n=ZN(t);if(lu[n]??={},lu[n][e])return lu[n][e];let r="";switch(e){case"shortDate":r=su(t,Ut.Short);break;case"mediumDate":r=su(t,Ut.Medium);break;case"longDate":r=su(t,Ut.Long);break;case"fullDate":r=su(t,Ut.Full);break;case"shortTime":r=au(t,Ut.Short);break;case"mediumTime":r=au(t,Ut.Medium);break;case"longTime":r=au(t,Ut.Long);break;case"fullTime":r=au(t,Ut.Full);break;case"short":let i=nr(t,"shortTime"),o=nr(t,"shortDate");r=uu(cu(t,Ut.Short),[i,o]);break;case"medium":let s=nr(t,"mediumTime"),a=nr(t,"mediumDate");r=uu(cu(t,Ut.Medium),[s,a]);break;case"long":let c=nr(t,"longTime"),l=nr(t,"longDate");r=uu(cu(t,Ut.Long),[c,l]);break;case"full":let u=nr(t,"fullTime"),d=nr(t,"fullDate");r=uu(cu(t,Ut.Full),[u,d]);break}return r&&(lu[n][e]=r),r}function uu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function vn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function cO(t,e){return vn(t,3).substring(0,e)}function ze(t,e,n=0,r=!1,i=!1){return function(o,s){let a=lO(t,o);if((n>0||a>-n)&&(a+=n),t===_e.Hours)a===0&&n===-12&&(a=12);else if(t===_e.FractionalSeconds)return cO(a,e);let c=gu(s,Ar.MinusSign);return vn(a,e,c,r,i)}}function lO(t,e){switch(t){case _e.FullYear:return e.getFullYear();case _e.Month:return e.getMonth();case _e.Date:return e.getDate();case _e.Hours:return e.getHours();case _e.Minutes:return e.getMinutes();case _e.Seconds:return e.getSeconds();case _e.FractionalSeconds:return e.getMilliseconds();case _e.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ae(t,e,n=bt.Format,r=!1){return function(i,o){return uO(i,o,t,e,n,r)}}function uO(t,e,n,r,i,o){switch(n){case ge.Months:return tO(e,i,r)[t.getMonth()];case ge.Days:return eO(e,i,r)[t.getDay()];case ge.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=rO(e),u=iO(e,i,r),d=l.findIndex(g=>{if(Array.isArray(g)){let[y,C]=g,T=s>=y.hours&&a>=y.minutes,D=s<C.hours||s===C.hours&&a<C.minutes;if(y.hours<C.hours){if(T&&D)return!0}else if(T||D)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return XN(e,i,r)[s<12?0:1];case ge.Eras:return nO(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function du(t){return function(e,n,r){let i=-1*r,o=gu(n,Ar.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ir.Short:return(i>=0?"+":"")+vn(s,2,o)+vn(Math.abs(i%60),2,o);case ir.ShortGMT:return"GMT"+(i>=0?"+":"")+vn(s,1,o);case ir.Long:return"GMT"+(i>=0?"+":"")+vn(s,2,o)+":"+vn(Math.abs(i%60),2,o);case ir.Extended:return r===0?"Z":(i>=0?"+":"")+vn(s,2,o)+":"+vn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var dO=0,fu=4;function hO(t){let e=mu(t,dO,1).getDay();return mu(t,0,1+(e<=fu?fu:fu+7)-e)}function YE(t){let e=t.getDay(),n=e===0?-3:fu-e;return mu(t.getFullYear(),t.getMonth(),t.getDate()+n)}function am(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=YE(n),s=hO(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return vn(i,t,gu(r,Ar.MinusSign))}}function hu(t,e=!1){return function(n,r){let o=YE(n).getFullYear();return vn(o,t,gu(r,Ar.MinusSign),e)}}var cm={};function fO(t){if(cm[t])return cm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ae(ge.Eras,De.Abbreviated);break;case"GGGG":e=Ae(ge.Eras,De.Wide);break;case"GGGGG":e=Ae(ge.Eras,De.Narrow);break;case"y":e=ze(_e.FullYear,1,0,!1,!0);break;case"yy":e=ze(_e.FullYear,2,0,!0,!0);break;case"yyy":e=ze(_e.FullYear,3,0,!1,!0);break;case"yyyy":e=ze(_e.FullYear,4,0,!1,!0);break;case"Y":e=hu(1);break;case"YY":e=hu(2,!0);break;case"YYY":e=hu(3);break;case"YYYY":e=hu(4);break;case"M":case"L":e=ze(_e.Month,1,1);break;case"MM":case"LL":e=ze(_e.Month,2,1);break;case"MMM":e=Ae(ge.Months,De.Abbreviated);break;case"MMMM":e=Ae(ge.Months,De.Wide);break;case"MMMMM":e=Ae(ge.Months,De.Narrow);break;case"LLL":e=Ae(ge.Months,De.Abbreviated,bt.Standalone);break;case"LLLL":e=Ae(ge.Months,De.Wide,bt.Standalone);break;case"LLLLL":e=Ae(ge.Months,De.Narrow,bt.Standalone);break;case"w":e=am(1);break;case"ww":e=am(2);break;case"W":e=am(1,!0);break;case"d":e=ze(_e.Date,1);break;case"dd":e=ze(_e.Date,2);break;case"c":case"cc":e=ze(_e.Day,1);break;case"ccc":e=Ae(ge.Days,De.Abbreviated,bt.Standalone);break;case"cccc":e=Ae(ge.Days,De.Wide,bt.Standalone);break;case"ccccc":e=Ae(ge.Days,De.Narrow,bt.Standalone);break;case"cccccc":e=Ae(ge.Days,De.Short,bt.Standalone);break;case"E":case"EE":case"EEE":e=Ae(ge.Days,De.Abbreviated);break;case"EEEE":e=Ae(ge.Days,De.Wide);break;case"EEEEE":e=Ae(ge.Days,De.Narrow);break;case"EEEEEE":e=Ae(ge.Days,De.Short);break;case"a":case"aa":case"aaa":e=Ae(ge.DayPeriods,De.Abbreviated);break;case"aaaa":e=Ae(ge.DayPeriods,De.Wide);break;case"aaaaa":e=Ae(ge.DayPeriods,De.Narrow);break;case"b":case"bb":case"bbb":e=Ae(ge.DayPeriods,De.Abbreviated,bt.Standalone,!0);break;case"bbbb":e=Ae(ge.DayPeriods,De.Wide,bt.Standalone,!0);break;case"bbbbb":e=Ae(ge.DayPeriods,De.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ae(ge.DayPeriods,De.Abbreviated,bt.Format,!0);break;case"BBBB":e=Ae(ge.DayPeriods,De.Wide,bt.Format,!0);break;case"BBBBB":e=Ae(ge.DayPeriods,De.Narrow,bt.Format,!0);break;case"h":e=ze(_e.Hours,1,-12);break;case"hh":e=ze(_e.Hours,2,-12);break;case"H":e=ze(_e.Hours,1);break;case"HH":e=ze(_e.Hours,2);break;case"m":e=ze(_e.Minutes,1);break;case"mm":e=ze(_e.Minutes,2);break;case"s":e=ze(_e.Seconds,1);break;case"ss":e=ze(_e.Seconds,2);break;case"S":e=ze(_e.FractionalSeconds,1);break;case"SS":e=ze(_e.FractionalSeconds,2);break;case"SSS":e=ze(_e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=du(ir.Short);break;case"ZZZZZ":e=du(ir.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=du(ir.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=du(ir.Long);break;default:return null}return cm[t]=e,e}function JE(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function pO(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function mO(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=JE(e,i);return pO(t,r*(o-i))}function gO(t){if(UE(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return mu(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(oO))return _O(r)}let e=new Date(t);if(!UE(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function _O(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function UE(t){return t instanceof Date&&!isNaN(t.valueOf())}function _u(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var lm=/\s+/,BE=[],ZE=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=BE,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(lm):BE}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(lm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(lm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(q(gn),q(On))}}static{this.\u0275dir=Te({type:t,selectors:[["","ngClass",""]],inputs:{klass:[st.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var um=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yu=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new um(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),$E(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$E(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(So),q(Jl),q(om))}}static{this.\u0275dir=Te({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function $E(t,e){t.context.$implicit=e.item}var vu=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new dm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){qE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){qE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(So),q(Jl))}}static{this.\u0275dir=Te({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),dm=class{constructor(){this.$implicit=null,this.ngIf=null}};function qE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Et(e)}'.`)}function yO(t,e){return new B(2100,!1)}var vO="mediumDate",wO=new j(""),IO=new j(""),wu=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??vO,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return aO(n,s,o||this.locale,a)}catch(s){throw yO(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(q(ou,16),q(wO,24),q(IO,24))}}static{this.\u0275pipe=Ww({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Ys=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({})}}return t})(),_m="browser",EO="server";function CO(t){return t===_m}function Iu(t){return t===EO}var XE=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>CO(R(Xt))?new hm(R(mt),window):new fm})}}return t})(),hm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=bO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function bO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var fm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ro=class{};var Zs=class{},Cu=class{},yi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var wm=class{encodeKey(e){return eC(e)}encodeValue(e){return eC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function SO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var AO=/%(\d[a-f0-9])/gi,xO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eC(t){return encodeURIComponent(t).replace(AO,(e,n)=>xO[n]??e)}function Eu(t){return`${t}`}var xr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=SO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Eu):[Eu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Eu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Eu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Im=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function MO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function tC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function nC(t){return typeof Blob<"u"&&t instanceof Blob}function rC(t){return typeof FormData<"u"&&t instanceof FormData}function PO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Js=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(MO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new yi,this.context??=new Im,!this.params)this.params=new xr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||tC(this.body)||nC(this.body)||rC(this.body)||PO(this.body)?this.body:this.body instanceof xr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||rC(this.body)?null:nC(this.body)?this.body.type||null:tC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof xr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),u)),new t(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Oo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Oo||{}),Xs=class{constructor(e,n=Du.Ok,r="OK"){this.headers=e.headers||new yi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Em=class t extends Xs{constructor(e={}){super(e),this.type=Oo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bu=class t extends Xs{constructor(e={}){super(e),this.type=Oo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Tu=class extends Xs{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Du=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Du||{});function vm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Cm=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Js)o=n;else{let c;i.headers instanceof yi?c=i.headers:c=new yi(i.headers);let l;i.params&&(i.params instanceof xr?l=i.params:l=new xr({fromObject:i.params})),o=new Js(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=z(o).pipe(Kn(c=>this.handler.handle(c)));if(n instanceof Js||i.observe==="events")return s;let a=s.pipe(xt(c=>c instanceof bu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ee(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new xr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,vm(i,r))}post(n,r,i={}){return this.request("POST",n,vm(i,r))}put(n,r,i={}){return this.request("PUT",n,vm(i,r))}static{this.\u0275fac=function(r){return new(r||t)(U(Zs))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function RO(t,e){return e(t)}function NO(t,e,n){return(r,i)=>pn(n,()=>e(r,o=>t(o,i)))}var sC=new j(""),OO=new j(""),kO=new j("");var iC=(()=>{class t extends Zs{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=R(Ao);let i=R(kO,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(sC),...this.injector.get(OO,[])]));this.chain=i.reduceRight((o,s)=>NO(o,s,this.injector),RO)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ni(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||t)(U(Cu),U(ft))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();var FO=/^\)\]\}',?\n/;function VO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var oC=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new B(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Me(r.\u0275loadImpl()):z(null)).pipe(Mt(()=>new oe(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((T,D)=>s.setRequestHeader(T,D.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let T=n.detectContentTypeHeader();T!==null&&s.setRequestHeader("Content-Type",T)}if(n.responseType){let T=n.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let T=s.statusText||"OK",D=new yi(s.getAllResponseHeaders()),O=VO(s)||n.url;return c=new Em({headers:D,status:s.status,statusText:T,url:O}),c},u=()=>{let{headers:T,status:D,statusText:O,url:ie}=l(),G=null;D!==Du.NoContent&&(G=typeof s.response>"u"?s.responseText:s.response),D===0&&(D=G?Du.Ok:0);let ve=D>=200&&D<300;if(n.responseType==="json"&&typeof G=="string"){let Ye=G;G=G.replace(FO,"");try{G=G!==""?JSON.parse(G):null}catch(fe){G=Ye,ve&&(ve=!1,G={error:fe,text:G})}}ve?(o.next(new bu({body:G,headers:T,status:D,statusText:O,url:ie||void 0})),o.complete()):o.error(new Tu({error:G,headers:T,status:D,statusText:O,url:ie||void 0}))},d=T=>{let{url:D}=l(),O=new Tu({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});o.error(O)},g=!1,y=T=>{g||(o.next(l()),g=!0);let D={type:Oo.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),n.responseType==="text"&&s.responseText&&(D.partialText=s.responseText),o.next(D)},C=T=>{let D={type:Oo.UploadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),o.next(D)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:Oo.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(U(Ro))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),aC=new j(""),LO="XSRF-TOKEN",jO=new j("",{providedIn:"root",factory:()=>LO}),UO="X-XSRF-TOKEN",BO=new j("",{providedIn:"root",factory:()=>UO}),Su=class{},$O=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_u(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(U(mt),U(Xt),U(jO))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function qO(t,e){let n=t.url.toLowerCase();if(!R(aC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=R(Su).getToken(),i=R(BO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function cC(...t){let e=[Cm,oC,iC,{provide:Zs,useExisting:iC},{provide:Cu,useExisting:oC},{provide:sC,useValue:qO,multi:!0},{provide:aC,useValue:!0},{provide:Su,useClass:$O}];for(let n of t)e.push(...n.\u0275providers);return To(e)}var Dm=class extends pu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sm=class t extends Dm{static makeCurrent(){GE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=GO();return n==null?null:zO(n)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _u(document.cookie,e)}},ea=null;function GO(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}function zO(t){return new URL(t,document.baseURI).pathname}var WO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),Am=new j(""),hC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(U(Am),U(we))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),Au=class{constructor(e){this._doc=e}},bm="ng-app-id",fC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Iu(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${bm}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(bm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(bm,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(U(mt),U(Lp),U(Up,8),U(Xt))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),Tm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mm=/%COMP%/g,pC="%COMP%",KO=`_nghost-${pC}`,QO=`_ngcontent-${pC}`,YO=!0,JO=new j("",{providedIn:"root",factory:()=>YO});function ZO(t){return QO.replace(Mm,t)}function XO(t){return KO.replace(Mm,t)}function mC(t,e){return e.map(n=>n.replace(Mm,t))}var lC=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Iu(a),this.defaultRenderer=new ta(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xn.ShadowDom&&(r=X(P({},r),{encapsulation:xn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof xu?i.applyToHost(n):i instanceof na&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case xn.Emulated:o=new xu(c,l,r,this.appId,u,s,a,d);break;case xn.ShadowDom:return new xm(c,l,n,r,s,a,this.nonce,d);default:o=new na(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(U(hC),U(fC),U(Lp),U(JO),U(mt),U(Xt),U(we),U(Up))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),ta=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(uC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(uC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Tm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Tm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(n,r,i&Jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=or().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function uC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var xm=class extends ta{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=mC(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},na=class extends ta{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?mC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xu=class extends na{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=ZO(l),this.hostAttr=XO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},ek=(()=>{class t extends Au{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(U(mt))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),dC=["alt","control","meta","shift"],tk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},rk=(()=>{class t extends Au{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),dC.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=tk[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),dC.forEach(s=>{if(s!==i){let a=nk[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(U(mt))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function gC(t,e){return FE(P({rootComponent:t},ik(e)))}function ik(t){return{appProviders:[...lk,...t?.providers??[]],platformProviders:ck}}function ok(){Sm.makeCurrent()}function sk(){return new Nn}function ak(){return HI(document),document}var ck=[{provide:Xt,useValue:_m},{provide:jp,useValue:ok,multi:!0},{provide:mt,useFactory:ak,deps:[]}];var lk=[{provide:kl,useValue:"root"},{provide:Nn,useFactory:sk,deps:[]},{provide:Am,useClass:ek,multi:!0,deps:[mt,we,Xt]},{provide:Am,useClass:rk,multi:!0,deps:[mt]},lC,fC,hC,{provide:Us,useExisting:lC},{provide:Ro,useClass:WO,deps:[]},[]];var _C=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(U(mt))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var SC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(q(On),q(gn))}}static{this.\u0275dir=Te({type:t})}}return t})(),Vo=(()=>{class t extends SC{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=Te({type:t,features:[ct]})}}return t})(),Rr=new j(""),dk={provide:Rr,useExisting:Ct(()=>km),multi:!0},km=(()=>{class t extends Vo{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=Te({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&b("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[jt([dk]),ct]})}}return t})(),hk={provide:Rr,useExisting:Ct(()=>Lu),multi:!0};function fk(){let t=or()?or().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var pk=new j(""),Lu=(()=>{class t extends SC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!fk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(q(On),q(gn),q(pk,8))}}static{this.\u0275dir=Te({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&b("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[jt([hk]),ct]})}}return t})();function Mr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function AC(t){return t!=null&&typeof t.length=="number"}var Lo=new j(""),Fm=new j(""),mk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ze=class{static min(e){return xC(e)}static max(e){return MC(e)}static required(e){return PC(e)}static requiredTrue(e){return gk(e)}static email(e){return _k(e)}static minLength(e){return yk(e)}static maxLength(e){return vk(e)}static pattern(e){return wk(e)}static nullValidator(e){return Pu(e)}static compose(e){return VC(e)}static composeAsync(e){return jC(e)}};function xC(t){return e=>{if(Mr(e.value)||Mr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function MC(t){return e=>{if(Mr(e.value)||Mr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function PC(t){return Mr(t.value)?{required:!0}:null}function gk(t){return t.value===!0?null:{required:!0}}function _k(t){return Mr(t.value)||mk.test(t.value)?null:{email:!0}}function yk(t){return e=>Mr(e.value)||!AC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function vk(t){return e=>AC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function wk(t){if(!t)return Pu;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Mr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Pu(t){return null}function RC(t){return t!=null}function NC(t){return mi(t)?Me(t):t}function OC(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function kC(t,e){return e.map(n=>n(t))}function Ik(t){return!t.validate}function FC(t){return t.map(e=>Ik(e)?e:n=>e.validate(n))}function VC(t){if(!t)return null;let e=t.filter(RC);return e.length==0?null:function(n){return OC(kC(n,e))}}function LC(t){return t!=null?VC(FC(t)):null}function jC(t){if(!t)return null;let e=t.filter(RC);return e.length==0?null:function(n){let r=kC(n,e).map(NC);return ff(r).pipe(ee(OC))}}function UC(t){return t!=null?jC(FC(t)):null}function yC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function BC(t){return t._rawValidators}function $C(t){return t._rawAsyncValidators}function Pm(t){return t?Array.isArray(t)?t:[t]:[]}function Ru(t,e){return Array.isArray(t)?t.includes(e):t===e}function vC(t,e){let n=Pm(e);return Pm(t).forEach(i=>{Ru(n,i)||n.push(i)}),n}function wC(t,e){return Pm(e).filter(n=>!Ru(t,n))}var Nu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=UC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},vi=class extends Nu{get formDirective(){return null}get path(){return null}},Pr=class extends Nu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ou=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Ek={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},GW=X(P({},Ek),{"[class.ng-submitted]":"isSubmitted"}),qC=(()=>{class t extends Ou{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Pr,2))}}static{this.\u0275dir=Te({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Se("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ct]})}}return t})(),HC=(()=>{class t extends Ou{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(vi,10))}}static{this.\u0275dir=Te({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Se("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ct]})}}return t})();var ra="VALID",Mu="INVALID",ko="PENDING",ia="DISABLED";function Vm(t){return(ju(t)?t.validators:t)||null}function Ck(t){return Array.isArray(t)?LC(t):t||null}function Lm(t,e){return(ju(e)?e.asyncValidators:t)||null}function bk(t){return Array.isArray(t)?UC(t):t||null}function ju(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function GC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function zC(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Fo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ra}get invalid(){return this.status===Mu}get pending(){return this.status==ko}get disabled(){return this.status===ia}get enabled(){return this.status!==ia}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wC(e,this._rawAsyncValidators))}hasValidator(e){return Ru(this._rawValidators,e)}hasAsyncValidator(e){return Ru(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ko,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ia,this.errors=null,this._forEachChild(r=>{r.disable(X(P({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ra,this._forEachChild(r=>{r.enable(X(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ra||this.status===ko)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ia:ra}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ko,this._hasOwnPendingAsyncValidator=!0;let n=NC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?ia:this.errors?Mu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ko)?ko:this._anyControlsHaveStatus(Mu)?Mu:ra}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ju(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ck(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=bk(this._rawAsyncValidators)}},ku=class extends Fo{constructor(e,n,r){super(Vm(n),Lm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){zC(this,!0,e),Object.keys(e).forEach(r=>{GC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Rm=class extends ku{};var sa=new j("CallSetDisabledState",{providedIn:"root",factory:()=>aa}),aa="always";function WC(t,e){return[...e.path,t]}function Nm(t,e,n=aa){jm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Dk(t,e),Ak(t,e),Sk(t,e),Tk(t,e)}function IC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Vu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Fu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Tk(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function jm(t,e){let n=BC(t);e.validator!==null?t.setValidators(yC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=$C(t);e.asyncValidator!==null?t.setAsyncValidators(yC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Fu(e._rawValidators,i),Fu(e._rawAsyncValidators,i)}function Vu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=BC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=$C(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Fu(e._rawValidators,r),Fu(e._rawAsyncValidators,r),n}function Dk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&KC(t,e)})}function Sk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&KC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function KC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ak(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function xk(t,e){t==null,jm(t,e)}function Mk(t,e){return Vu(t,e)}function QC(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Pk(t){return Object.getPrototypeOf(t.constructor)===Vo}function Rk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function YC(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Lu?n=o:Pk(o)?r=o:i=o}),i||r||n||null}function Nk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function EC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function CC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var oa=class extends Fo{constructor(e=null,n,r){super(Vm(n),Lm(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ju(n)&&(n.nonNullable||n.initialValueIsDefault)&&(CC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){CC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ok=t=>t instanceof oa;var kk={provide:Pr,useExisting:Ct(()=>Um)},bC=Promise.resolve(),Um=(()=>{class t extends Pr{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new oa,this._registered=!1,this.name="",this.update=new ot,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YC(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),QC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Nm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){bC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Qs(r);bC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?WC(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(q(vi,9),q(Lo,10),q(Fm,10),q(Rr,10),q(gi,8),q(sa,8))}}static{this.\u0275dir=Te({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"],options:[st.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jt([kk]),ct,tr]})}}return t})(),JC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Te({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),Fk={provide:Rr,useExisting:Ct(()=>Bm),multi:!0},Bm=(()=>{class t extends Vo{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=Te({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&b("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[jt([Fk]),ct]})}}return t})(),Vk={provide:Rr,useExisting:Ct(()=>$m),multi:!0};var Lk=(()=>{class t{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$m=(()=>{class t extends Vo{constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=R(sa,{optional:!0})??aa}ngOnInit(){this._control=this._injector.get(Pr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||t)(q(On),q(gn),q(Lk),q(kt))}}static{this.\u0275dir=Te({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&b("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[jt([Vk]),ct]})}}return t})();var ZC=new j("");var jk={provide:vi,useExisting:Ct(()=>qm)},qm=(()=>{class t extends vi{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ot,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Nm(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){IC(n.control||null,n,!1),Nk(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,Rk(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(IC(r||null,n),Ok(i)&&(Nm(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);xk(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Mk(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jm(this.form,this),this._oldForm&&Vu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(q(Lo,10),q(Fm,10),q(sa,8))}}static{this.\u0275dir=Te({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&b("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[st.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jt([jk]),ct,tr]})}}return t})();var Uk={provide:Pr,useExisting:Ct(()=>Hm)},Hm=(()=>{class t extends Pr{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ot,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YC(this,o)}ngOnChanges(n){this._added||this._setUpControl(),QC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return WC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(q(vi,13),q(Lo,10),q(Fm,10),q(Rr,10),q(ZC,8))}}static{this.\u0275dir=Te({type:t,selectors:[["","formControlName",""]],inputs:{name:[st.None,"formControlName","name"],isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[jt([Uk]),ct,tr]})}}return t})(),Bk={provide:Rr,useExisting:Ct(()=>Uu),multi:!0};function XC(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $k(t){return t.split(":")[0]}var Uu=(()=>{class t extends Vo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=XC(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=$k(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=Te({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&b("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[jt([Bk]),ct]})}}return t})(),eb=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(XC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(q(gn),q(On),q(Uu,9))}}static{this.\u0275dir=Te({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),qk={provide:Rr,useExisting:Ct(()=>tb),multi:!0};function TC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Hk(t){return t.split(":")[0]}var tb=(()=>{class t extends Vo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Hk(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=Te({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&b("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[jt([qk]),ct]})}}return t})(),nb=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(TC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(TC(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(q(gn),q(On),q(tb,9))}}static{this.\u0275dir=Te({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function rb(t){return typeof t=="number"?t:parseFloat(t)}var Gm=(()=>{class t{constructor(){this._validator=Pu}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Pu,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Te({type:t,features:[tr]})}}return t})(),Gk={provide:Lo,useExisting:Ct(()=>zm),multi:!0},zm=(()=>{class t extends Gm{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>rb(n),this.createValidator=n=>MC(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=Te({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Dr("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[jt([Gk]),ct]})}}return t})(),zk={provide:Lo,useExisting:Ct(()=>Wm),multi:!0},Wm=(()=>{class t extends Gm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>rb(n),this.createValidator=n=>xC(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=Te({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Dr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[jt([zk]),ct]})}}return t})(),Wk={provide:Lo,useExisting:Ct(()=>Km),multi:!0};var Km=(()=>{class t extends Gm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qs,this.createValidator=n=>PC}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=Te({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Dr("required",i._enabled?"":null)},inputs:{required:"required"},features:[jt([Wk]),ct]})}}return t})();var ib=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({})}}return t})(),Om=class extends Fo{constructor(e,n,r){super(Vm(n),Lm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){zC(this,!1,e),e.forEach((r,i)=>{GC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function DC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var ob=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return DC(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ku(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Rm(i,r)}control(n,r,i){let o={};return this.useNonNullable?(DC(r)?o=r:(o.validators=r,o.asyncValidators=i),new oa(n,X(P({},o),{nonNullable:!0}))):new oa(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Om(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof oa)return n;if(n instanceof Fo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var sb=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:sa,useValue:n.callSetDisabledState??aa}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({imports:[ib]})}}return t})(),ab=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ZC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:sa,useValue:n.callSetDisabledState??aa}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({imports:[ib]})}}return t})();var Bu=[{id:1,name:"Stand. Flawinne FC",players:[{name:"Joueur non list\xE9",type:"milieu"}]},{id:2,name:"U10 Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Danielle",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:3,name:"U9 Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]}];function Qm(t){return(!t.players||t.players.length===0)&&(t.players=[{name:"Joueur non list\xE9",type:"milieu"}]),t}var te="primary",Ca=Symbol("RouteTitle"),eg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function qo(t){return new eg(t)}function Qk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Yk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kn(t[n],e[n]))return!1;return!0}function kn(t,e){let n=t?tg(t):void 0,r=e?tg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gb(t[i],e[i]))return!1;return!0}function tg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function _b(t){return t.length>0?t[t.length-1]:null}function Vr(t){return hf(t)?t:mi(t)?Me(Promise.resolve(t)):z(t)}var Jk={exact:vb,subset:wb},yb={exact:Zk,subset:Xk,ignored:()=>!0};function cb(t,e,n){return Jk[n.paths](t.root,e.root,n.matrixParams)&&yb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Zk(t,e){return kn(t,e)}function vb(t,e,n){if(!Ii(t.segments,e.segments)||!Hu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!vb(t.children[r],e.children[r],n))return!1;return!0}function Xk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gb(t[n],e[n]))}function wb(t,e,n){return Ib(t,e,e.segments,n)}function Ib(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ii(i,n)||e.hasChildren()||!Hu(i,n,r))}else if(t.segments.length===n.length){if(!Ii(t.segments,n)||!Hu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!wb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ii(t.segments,i)||!Hu(t.segments,i,r)||!t.children[te]?!1:Ib(t.children[te],e,o,r)}}function Hu(t,e,n){return e.every((r,i)=>yb[n](t[i].parameters,r.parameters))}var Nr=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qo(this.queryParams),this._queryParamMap}toString(){return n2.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gu(this)}},wi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=qo(this.parameters),this._parameterMap}toString(){return Cb(this)}};function e2(t,e){return Ii(t,e)&&t.every((n,r)=>kn(n.parameters,e[r].parameters))}function Ii(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function t2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var ba=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>new pa,providedIn:"root"})}}return t})(),pa=class{parse(e){let n=new rg(e);return new Nr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ca(e.root,!0)}`,r=o2(e.queryParams),i=typeof e.fragment=="string"?`#${r2(e.fragment)}`:"";return`${n}${r}${i}`}},n2=new pa;function Gu(t){return t.segments.map(e=>Cb(e)).join("/")}function ca(t,e){if(!t.hasChildren())return Gu(t);if(e){let n=t.children[te]?ca(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${ca(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=t2(t,(r,i)=>i===te?[ca(t.children[te],!1)]:[`${i}:${ca(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${Gu(t)}/${n[0]}`:`${Gu(t)}/(${n.join("//")})`}}function Eb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $u(t){return Eb(t).replace(/%3B/gi,";")}function r2(t){return encodeURI(t)}function ng(t){return Eb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zu(t){return decodeURIComponent(t)}function lb(t){return zu(t.replace(/\+/g,"%20"))}function Cb(t){return`${ng(t.path)}${i2(t.parameters)}`}function i2(t){return Object.entries(t).map(([e,n])=>`;${ng(e)}=${ng(n)}`).join("")}function o2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${$u(n)}=${$u(i)}`).join("&"):`${$u(n)}=${$u(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var s2=/^[^\/()?;#]+/;function Ym(t){let e=t.match(s2);return e?e[0]:""}var a2=/^[^\/()?;=#]+/;function c2(t){let e=t.match(a2);return e?e[0]:""}var l2=/^[^=?&#]+/;function u2(t){let e=t.match(l2);return e?e[0]:""}var d2=/^[^&#]+/;function h2(t){let e=t.match(d2);return e?e[0]:""}var rg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new Ie(e,n)),r}parseSegment(){let e=Ym(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new wi(zu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=c2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ym(this.remaining);i&&(r=i,this.capture(r))}e[zu(n)]=zu(r)}parseQueryParam(e){let n=u2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=h2(this.remaining);s&&(r=s,this.capture(r))}let i=lb(n),o=lb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ym(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[te]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function bb(t){return t.segments.length>0?new Ie([],{[te]:t}):t}function Tb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Tb(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return f2(n)}function f2(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new Ie(t.segments.concat(e.segments),e.children)}return t}function Ho(t){return t instanceof Nr}function p2(t,e,n=null,r=null){let i=Db(t);return Sb(i,e,n,r)}function Db(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ie(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=bb(r);return e??i}function Sb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Jm(i,i,i,n,r);let o=m2(e);if(o.toRoot())return Jm(i,i,new Ie([],{}),n,r);let s=g2(o,i,t),a=s.processChildren?da(s.segmentGroup,s.index,o.commands):xb(s.segmentGroup,s.index,o.commands);return Jm(i,s.segmentGroup,a,n,r)}function Wu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ma(t){return typeof t=="object"&&t!=null&&t.outlets}function Jm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=Ab(t,e,n);let a=bb(Tb(s));return new Nr(a,o,i)}function Ab(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Ab(o,e,n)}),new Ie(t.segments,r)}var Ku=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wu(r[0]))throw new B(4003,!1);let i=r.find(ma);if(i&&i!==_b(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function m2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ku(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ku(n,e,r)}var Bo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function g2(t,e,n){if(t.isAbsolute)return new Bo(e,!0,0);if(!n)return new Bo(e,!1,NaN);if(n.parent===null)return new Bo(n,!0,0);let r=Wu(t.commands[0])?0:1,i=n.segments.length-1+r;return _2(n,i,t.numberOfDoubleDots)}function _2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Bo(r,!1,i-o)}function y2(t){return ma(t[0])?t[0].outlets:{[te]:t}}function xb(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return da(t,e,n);let r=v2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[te]=new Ie(t.segments.slice(r.pathIndex),t.children),da(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?ig(t,e,n):r.match?da(t,0,i):ig(t,e,n)}function da(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=y2(n),i={};if(Object.keys(r).some(o=>o!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let o=da(t.children[te],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=xb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function v2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ma(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!db(c,l,s))return o;r+=2}else{if(!db(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ig(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ma(o)){let c=w2(o.outlets);return new Ie(r,c)}if(i===0&&Wu(n[0])){let c=t.segments[e];r.push(new wi(c.path,ub(n[0]))),i++;continue}let s=ma(o)?o.outlets[te]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Wu(a)?(r.push(new wi(s,ub(a))),i+=2):(r.push(new wi(s,{})),i++)}return new Ie(r,{})}function w2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ig(new Ie([],{}),0,r))}),e}function ub(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function db(t,e,n){return t==n.path&&kn(e,n.parameters)}var ha="imperative",Xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xe||{}),rn=class{constructor(e,n){this.id=e,this.url=n}},Go=class extends rn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sr=class extends rn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$t=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}($t||{}),Qu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Qu||{}),Or=class extends rn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kr=class extends rn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xe.NavigationSkipped}},ga=class extends rn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yu=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class extends rn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ag=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ug=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fg=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pg=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ju=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Xe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},_a=class{},ya=class{constructor(e){this.url=e}};var mg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ta,this.attachRef=null}},Ta=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new mg,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=gg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=gg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=_g(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _g(e,this._root).map(n=>n.value)}};function gg(t,e){if(t===e.value)return e;for(let n of e.children){let r=gg(t,n);if(r)return r}return null}function _g(t,e){if(t===e.value)return[e];for(let n of e.children){let r=_g(t,n);if(r.length)return r.unshift(e),r}return[]}var Bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Uo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Xu=class extends Zu{constructor(e,n){super(e),this.snapshot=n,Sg(this,e)}toString(){return this.snapshot.toString()}};function Mb(t){let e=I2(t),n=new it([new wi("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),a=new ar(n,r,o,s,i,te,t,e.root);return a.snapshot=e.root,new Xu(new Bt(a,[]),e)}function I2(t){let e={},n={},r={},i="",o=new va([],e,r,i,n,te,t,null,{});return new ed("",new Bt(o,[]))}var ar=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[Ca]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>qo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>qo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),i?.data),t._resolvedData)}:r={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},i&&Rb(i)&&(r.resolve[Ca]=i.title),r}var va=class{get title(){return this.data?.[Ca]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ed=class extends Zu{constructor(e,n){super(n),this.url=e,Sg(this,n)}toString(){return Pb(this._root)}};function Sg(t,e){e.value._routerState=t,e.children.forEach(n=>Sg(t,n))}function Pb(t){let e=t.children.length>0?` { ${t.children.map(Pb).join(", ")} } `:"";return`${t.value}${e}`}function Zm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),kn(e.params,n.params)||t.paramsSubject.next(n.params),Yk(e.url,n.url)||t.urlSubject.next(n.url),kn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function yg(t,e){let n=kn(t.params,e.params)&&e2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||yg(t.parent,e.parent))}function Rb(t){return typeof t.title=="string"||t.title===null}var Ag=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new ot,this.deactivateEvents=new ot,this.attachEvents=new ot,this.detachEvents=new ot,this.parentContexts=R(Ta),this.location=R(So),this.changeDetector=R(gi),this.environmentInjector=R(ft),this.inputBinder=R(id,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new vg(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Te({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tr]})}}return t})(),vg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ar?this.route:e===Ta?this.childContexts:this.parent.get(e,n)}},id=new j(""),hb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Ms([r.queryParams,r.params,r.data]).pipe(Mt(([o,s,a],c)=>(a=P(P(P({},o),s),a),c===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=VE(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function E2(t,e,n){let r=wa(t,e._root,n?n._root:void 0);return new Xu(r,e)}function wa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=C2(t,e,n);return new Bt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>wa(t,a)),s}}let r=b2(e.value),i=e.children.map(o=>wa(t,o));return new Bt(r,i)}}function C2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wa(t,r,i);return wa(t,r)})}function b2(t){return new ar(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var Nb="ngNavigationCancelingError";function Ob(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kb(!1,$t.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function kb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Nb]=!0,n.cancellationCode=e,n}function T2(t){return Fb(t)&&Ho(t.url)}function Fb(t){return!!t&&t[Nb]}var D2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=bo({type:t,selectors:[["ng-component"]],standalone:!0,features:[Mo],decls:1,vars:0,template:function(r,i){r&1&&S(0,"router-outlet")},dependencies:[Ag],encapsulation:2})}}return t})();function S2(t,e){return t.providers&&!t._injector&&(t._injector=tu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function xg(t){let e=t.children&&t.children.map(xg),n=e?X(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=D2),n}function Fn(t){return t.outlet||te}function A2(t,e){let n=t.filter(r=>Fn(r)===e);return n.push(...t.filter(r=>Fn(r)!==e)),n}function Da(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var x2=(t,e,n,r)=>ee(i=>(new wg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),wg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Uo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Uo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Uo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Uo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new pg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new hg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Zm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Zm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Da(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},td=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$o=class{constructor(e,n){this.component=e,this.route=n}};function M2(t,e,n){let r=t._root,i=e?e._root:null;return la(r,i,n,[r.value])}function P2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Wo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!kw(t)?t:e.get(t):r}function la(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Uo(e);return t.children.forEach(s=>{R2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>fa(a,n.getContext(s),i)),i}function R2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=N2(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new td(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?la(t,e,a?a.children:null,r,i):la(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $o(a.outlet.component,s))}else s&&fa(e,a,i),i.canActivateChecks.push(new td(r)),o.component?la(t,null,a?a.children:null,r,i):la(t,null,n,r,i);return i}function N2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ii(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ii(t.url,e.url)||!kn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yg(t,e)||!kn(t.queryParams,e.queryParams);case"paramsChange":default:return!yg(t,e)}}function fa(t,e,n){let r=Uo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?fa(s,e.children.getContext(o),n):fa(s,null,n):fa(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new $o(e.outlet.component,i)):n.canDeactivateChecks.push(new $o(null,i)):n.canDeactivateChecks.push(new $o(null,i))}function Sa(t){return typeof t=="function"}function O2(t){return typeof t=="boolean"}function k2(t){return t&&Sa(t.canLoad)}function F2(t){return t&&Sa(t.canActivate)}function V2(t){return t&&Sa(t.canActivateChild)}function L2(t){return t&&Sa(t.canDeactivate)}function j2(t){return t&&Sa(t.canMatch)}function Vb(t){return t instanceof Wn||t?.name==="EmptyError"}var qu=Symbol("INITIAL_VALUE");function zo(){return Mt(t=>Ms(t.map(e=>e.pipe(Qn(1),_f(qu)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===qu)return qu;if(n===!1||n instanceof Nr)return n}return!0}),xt(e=>e!==qu),Qn(1)))}function U2(t,e){return $e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?z(X(P({},n),{guardsResult:!0})):B2(s,r,i,t).pipe($e(a=>a&&O2(a)?$2(r,o,t,e):z(a)),ee(a=>X(P({},n),{guardsResult:a})))})}function B2(t,e,n,r){return Me(t).pipe($e(i=>W2(i.component,i.route,n,e,r)),Dn(i=>i!==!0,!0))}function $2(t,e,n,r){return Me(e).pipe(Kn(i=>so(H2(i.route.parent,r),q2(i.route,r),z2(t,i.path,n),G2(t,i.route,n))),Dn(i=>i!==!0,!0))}function q2(t,e){return t!==null&&e&&e(new fg(t)),z(!0)}function H2(t,e){return t!==null&&e&&e(new dg(t)),z(!0)}function G2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>tl(()=>{let s=Da(e)??n,a=Wo(o,s),c=F2(a)?a.canActivate(e,t):pn(s,()=>a(e,t));return Vr(c).pipe(Dn())}));return z(i).pipe(zo())}function z2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>P2(s)).filter(s=>s!==null).map(s=>tl(()=>{let a=s.guards.map(c=>{let l=Da(s.node)??n,u=Wo(c,l),d=V2(u)?u.canActivateChild(r,t):pn(l,()=>u(r,t));return Vr(d).pipe(Dn())});return z(a).pipe(zo())}));return z(o).pipe(zo())}function W2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let c=Da(e)??i,l=Wo(a,c),u=L2(l)?l.canDeactivate(t,e,n,r):pn(c,()=>l(t,e,n,r));return Vr(u).pipe(Dn())});return z(s).pipe(zo())}function K2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=Wo(s,t),c=k2(a)?a.canLoad(e,n):pn(t,()=>a(e,n));return Vr(c)});return z(o).pipe(zo(),Lb(r))}function Lb(t){return rf(qe(e=>{if(Ho(e))throw Ob(t,e)}),ee(e=>e===!0))}function Q2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=Wo(s,t),c=j2(a)?a.canMatch(e,n):pn(t,()=>a(e,n));return Vr(c)});return z(o).pipe(zo(),Lb(r))}var Ia=class{constructor(e){this.segmentGroup=e||null}},nd=class extends Error{constructor(e){super(),this.urlTree=e}};function jo(t){return io(new Ia(t))}function Y2(t){return io(new B(4e3,!1))}function J2(t){return io(kb(!1,$t.GuardRejected))}var Ig=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[te])return Y2(e.redirectTo);i=i.children[te]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new nd(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Nr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Eg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Z2(t,e,n,r,i){let o=Mg(t,e,n);return o.matched?(r=S2(e,r),Q2(r,e,n,i).pipe(ee(s=>s===!0?o:P({},Eg)))):z(o)}function Mg(t,e,n){if(e.path==="**")return X2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},Eg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Qk)(n,t,e);if(!i)return P({},Eg);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?P(P({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function X2(t){return{matched:!0,parameters:t.length>0?_b(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function fb(t,e,n,r){return n.length>0&&nF(t,n,r)?{segmentGroup:new Ie(e,tF(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&rF(t,n,r)?{segmentGroup:new Ie(t.segments,eF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function eF(t,e,n,r){let i={};for(let o of n)if(od(t,e,o)&&!r[Fn(o)]){let s=new Ie([],{});i[Fn(o)]=s}return P(P({},r),i)}function tF(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&Fn(r)!==te){let i=new Ie([],{});n[Fn(r)]=i}return n}function nF(t,e,n){return n.some(r=>od(t,e,r)&&Fn(r)!==te)}function rF(t,e,n){return n.some(r=>od(t,e,r))}function od(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function iF(t,e,n,r){return Fn(t)!==r&&(r===te||!od(e,n,t))?!1:Mg(e,t,n).matched}function oF(t,e,n){return e.length===0&&!t.children[n]}var Cg=class{};function sF(t,e,n,r,i,o,s="emptyOnly"){return new bg(t,e,n,r,i,s,o).recognize()}var aF=31,bg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ig(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=fb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(n=>{let r=new va([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),i=new Bt(r,n),o=new ed("",i),s=p2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,te).pipe(gr(r=>{if(r instanceof nd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ia?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Dg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ee(o=>o instanceof Bt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Me(i).pipe(Kn(o=>{let s=r.children[o],a=A2(n,o);return this.processSegmentGroup(e,a,s,o)}),gf((o,s)=>(o.push(...s),o)),_r(null),mf(),$e(o=>{if(o===null)return jo(r);let s=jb(o);return cF(s),z(s)}))}processSegment(e,n,r,i,o,s){return Me(n).pipe(Kn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(gr(c=>{if(c instanceof Ia)return z(null);throw c}))),Dn(a=>!!a),gr(a=>{if(Vb(a))return oF(r,i,o)?z(new Cg):jo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return iF(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):jo(i):jo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Mg(n,i,o);if(!a)return jo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aF&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe($e(g=>this.processSegment(e,r,n,g.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=Z2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Mt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Mt(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:g}=a,y=new va(u,g,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,uF(r),Fn(r),r.component??r._loadedComponent??null,r,dF(r)),{segmentGroup:C,slicedSegments:T}=fb(n,u,d,c);if(T.length===0&&C.hasChildren())return this.processChildren(l,c,C).pipe(ee(O=>O===null?null:new Bt(y,O)));if(c.length===0&&T.length===0)return z(new Bt(y,[]));let D=Fn(r)===o;return this.processSegment(l,c,C,T,D?te:o,!0).pipe(ee(O=>new Bt(y,O instanceof Bt?[O]:[])))}))):jo(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):K2(e,n,r,this.urlSerializer).pipe($e(i=>i?this.configLoader.loadChildren(e,n).pipe(qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):J2(n))):z({routes:[],injector:e})}};function cF(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function lF(t){let e=t.value.routeConfig;return e&&e.path===""}function jb(t){let e=[],n=new Set;for(let r of t){if(!lF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=jb(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!n.has(r))}function uF(t){return t.data||{}}function dF(t){return t.resolve||{}}function hF(t,e,n,r,i,o){return $e(s=>sF(t,e,n,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:c})=>X(P({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function fF(t,e){return $e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Ub(c))s.add(l);let a=0;return Me(s).pipe(Kn(c=>o.has(c)?pF(c,r,t,e):(c.data=Dg(c,c.parent,t).resolve,z(void 0))),qe(()=>a++),ao(1),$e(c=>a===s.size?z(n):Lt))})}function Ub(t){let e=t.children.map(n=>Ub(n)).flat();return[t,...e]}function pF(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Rb(i)&&(o[Ca]=i.title),mF(o,t,e,r).pipe(ee(s=>(t._resolvedData=s,t.data=Dg(t,t.parent,n).resolve,null)))}function mF(t,e,n,r){let i=tg(t);if(i.length===0)return z({});let o={};return Me(i).pipe($e(s=>gF(t[s],e,n,r).pipe(Dn(),qe(a=>{o[s]=a}))),ao(1),pf(o),gr(s=>Vb(s)?Lt:io(s)))}function gF(t,e,n,r){let i=Da(e)??r,o=Wo(t,i),s=o.resolve?o.resolve(e,n):pn(i,()=>o(e,n));return Vr(s)}function Xm(t){return Mt(e=>{let n=t(e);return n?Me(n).pipe(ee(()=>e)):z(e)})}var Bb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[Ca]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(_F),providedIn:"root"})}}return t})(),_F=(()=>{class t extends Bb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(U(_C))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Aa=new j("",{providedIn:"root",factory:()=>({})}),Ea=new j(""),Pg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(iu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Vr(n.loadComponent()).pipe(ee($b),qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ni(()=>{this.componentLoaders.delete(n)})),i=new eo(r,()=>new wt).pipe(Xi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=yF(r,this.compiler,n,this.onLoadEndListener).pipe(ni(()=>{this.childrenLoaders.delete(r)})),s=new eo(o,()=>new wt).pipe(Xi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yF(t,e,n,r){return Vr(t.loadChildren()).pipe(ee($b),$e(i=>i instanceof Bs||Array.isArray(i)?z(i):Me(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ea,[],{optional:!0,self:!0}).flat()),{routes:s.map(xg),injector:o}}))}function vF(t){return t&&typeof t=="object"&&"default"in t}function $b(t){return vF(t)?t.default:t}var Rg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(wF),providedIn:"root"})}}return t})(),wF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qb=new j(""),Hb=new j("");function IF(t,e,n){let r=t.get(Hb),i=t.get(mt);return t.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),EF(t))),{onViewTransitionCreated:c}=r;return c&&pn(t,()=>c({transition:a,from:e,to:n})),s})}function EF(t){return new Promise(e=>{eu(e,{injector:t})})}var Ng=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.transitionAbortSubject=new wt,this.configLoader=R(Pg),this.environmentInjector=R(ft),this.urlSerializer=R(ba),this.rootContexts=R(Ta),this.location=R(No),this.inputBindingEnabled=R(id,{optional:!0})!==null,this.titleStrategy=R(Bb),this.options=R(Aa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(Rg),this.createViewTransition=R(qb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let n=i=>this.events.next(new lg(i)),r=i=>this.events.next(new ug(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(X(P(P({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new it({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ha,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xt(o=>o.id!==0),ee(o=>X(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Mt(o=>{let s=!1,a=!1;return z(o).pipe(Mt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),Lt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?X(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new kr(c.id,this.urlSerializer.serialize(c.rawUrl),d,Qu.IgnoredSameUrlNavigation)),c.resolve(null),Lt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return z(c).pipe(Mt(d=>{let g=this.transitions?.getValue();return this.events.next(new Go(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),g!==this.transitions?.getValue()?Lt:Promise.resolve(d)}),hF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=X(P({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let g=new Yu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:g,source:y,restoredState:C,extras:T}=c,D=new Go(d,this.urlSerializer.serialize(g),y,C);this.events.next(D);let O=Mb(this.rootComponentType).snapshot;return this.currentTransition=o=X(P({},c),{targetSnapshot:O,urlAfterRedirects:g,extras:X(P({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,z(o)}else{let d="";return this.events.next(new kr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Qu.IgnoredByUrlHandlingStrategy)),c.resolve(null),Lt}}),qe(c=>{let l=new og(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ee(c=>(this.currentTransition=o=X(P({},c),{guards:M2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),U2(this.environmentInjector,c=>this.events.next(c)),qe(c=>{if(o.guardsResult=c.guardsResult,Ho(c.guardsResult))throw Ob(this.urlSerializer,c.guardsResult);let l=new sg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),xt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",$t.GuardRejected),!1)),Xm(c=>{if(c.guards.canActivateChecks.length)return z(c).pipe(qe(l=>{let u=new ag(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Mt(l=>{let u=!1;return z(l).pipe(fF(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",$t.NoDataFromResolver)}}))}),qe(l=>{let u=new cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Xm(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(qe(g=>{u.component=g}),ee(()=>{})));for(let g of u.children)d.push(...l(g));return d};return Ms(l(c.targetSnapshot.root)).pipe(_r(null),Qn(1))}),Xm(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Me(u).pipe(ee(()=>o)):z(o)}),ee(c=>{let l=E2(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=X(P({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),qe(()=>{this.events.next(new _a)}),x2(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Qn(1),qe({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),yf(this.transitionAbortSubject.pipe(qe(c=>{throw c}))),ni(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),gr(c=>{if(a=!0,Fb(c))this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),T2(c)?this.events.next(new ya(c.url)):o.resolve(!1);else{this.events.next(new ga(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Lt}))}))}cancelNavigationTransition(n,r,i){let o=new Or(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function CF(t){return t!==ha}var bF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(TF),providedIn:"root"})}}return t})(),Tg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},TF=(()=>{class t extends Tg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Gb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(DF),providedIn:"root"})}}return t})(),DF=(()=>{class t extends Gb{constructor(){super(...arguments),this.location=R(No),this.urlSerializer=R(ba),this.options=R(Aa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(Rg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Mb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Go)this.stateMemento=this.createStateMemento();else if(n instanceof kr)this.rawUrlTree=r.initialUrl;else if(n instanceof Yu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof _a?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Or&&(n.code===$t.GuardRejected||n.code===$t.NoDataFromResolver)?this.restoreHistory(r):n instanceof ga?this.restoreHistory(r,!0):n instanceof sr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=P(P({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=P(P({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ua=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ua||{});function zb(t,e){t.events.pipe(xt(n=>n instanceof sr||n instanceof Or||n instanceof ga||n instanceof kr),ee(n=>n instanceof sr||n instanceof kr?ua.COMPLETE:(n instanceof Or?n.code===$t.Redirect||n.code===$t.SupersededByNewNavigation:!1)?ua.REDIRECTING:ua.FAILED),xt(n=>n!==ua.REDIRECTING),Qn(1)).subscribe(()=>{e()})}function SF(t){throw t}var AF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(nu),this.stateManager=R(Gb),this.options=R(Aa,{optional:!0})||{},this.pendingTasks=R(Ao),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(Ng),this.urlSerializer=R(ba),this.location=R(No),this.urlHandlingStrategy=R(Rg),this._events=new wt,this.errorHandler=this.options.errorHandler||SF,this.navigated=!1,this.routeReuseStrategy=R(bF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(Ea,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(id,{optional:!0}),this.eventsSubscription=new Le,this.isNgZoneEnabled=R(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Or&&r.code!==$t.Redirect&&r.code!==$t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sr)this.navigated=!0;else if(r instanceof ya){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||CF(i.source)};this.scheduleNavigation(s,ha,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}PF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ha,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=P({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(xg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a){case"merge":u=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let g=i?i.snapshot:this.routerState.snapshot.root;d=Db(g)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return Sb(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ho(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ha,null,r)}navigate(n,r={skipLocationChange:!1}){return MF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=P({},AF):r===!1?i=P({},xF):i=r,Ho(n))return cb(this.currentUrlTree,n,i);let o=this.parseUrl(n);return cb(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,g)=>{a=d,c=g});let u=this.pendingTasks.add();return zb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function MF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function PF(t){return!(t instanceof _a)&&!(t instanceof ya)}var rd=class{};var RF=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(xt(n=>n instanceof sr),Kn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=tu(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Me(i).pipe(oo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=z(null);let o=i.pipe($e(s=>s===null?z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Me([o,s]).pipe(oo())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(U(Fr),U(iu),U(ft),U(rd),U(Pg))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wb=new j(""),NF=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=R(ft),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Go?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof sr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof kr&&n.code===Qu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ju&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>w(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),eu(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ju(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){nE()}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function Kb(t,...e){return To([{provide:Ea,multi:!0,useValue:t},[],{provide:ar,useFactory:Qb,deps:[Fr]},{provide:Ks,multi:!0,useFactory:Yb},e.map(n=>n.\u0275providers)])}function Qb(t){return t.routerState.root}function xa(t,e){return{\u0275kind:t,\u0275providers:e}}function Yb(){let t=R(kt);return e=>{let n=t.get(Po);if(e!==n.components[0])return;let r=t.get(Fr),i=t.get(Jb);t.get(Og)===1&&r.initialNavigation(),t.get(Zb,null,re.Optional)?.setUpPreloading(),t.get(Wb,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Jb=new j("",{factory:()=>new wt}),Og=new j("",{providedIn:"root",factory:()=>1});function OF(){return xa(2,[{provide:Og,useValue:0},{provide:ru,multi:!0,deps:[kt],useFactory:e=>{let n=e.get(zE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Fr),o=e.get(Jb);zb(i,()=>{r(!0)}),e.get(Ng).afterPreactivation=()=>(r(!0),o.closed?z(void 0):o),i.initialNavigation()}))}}])}function kF(){return xa(3,[{provide:ru,multi:!0,useFactory:()=>{let e=R(Fr);return()=>{e.setUpLocationChangeListener()}}},{provide:Og,useValue:2}])}var Zb=new j("");function FF(t){return xa(0,[{provide:Zb,useExisting:RF},{provide:rd,useExisting:t}])}function VF(){return xa(8,[hb,{provide:id,useExisting:hb}])}function LF(t){let e=[{provide:qb,useValue:IF},{provide:Hb,useValue:P({skipNextTransition:!!t?.skipInitialTransition},t)}];return xa(9,e)}var pb=new j("ROUTER_FORROOT_GUARD"),jF=[No,{provide:ba,useClass:pa},Fr,Ta,{provide:ar,useFactory:Qb,deps:[Fr]},Pg,[]],Xb=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[jF,[],{provide:Ea,multi:!0,useValue:n},{provide:pb,useFactory:qF,deps:[[Fr,new Yt,new Cp]]},{provide:Aa,useValue:r||{}},r?.useHash?BF():$F(),UF(),r?.preloadingStrategy?FF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?HF(r):[],r?.bindToComponentInputs?VF().\u0275providers:[],r?.enableViewTransitions?LF().\u0275providers:[],GF()]}}static forChild(n){return{ngModule:t,providers:[{provide:Ea,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(U(pb,8))}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({})}}return t})();function UF(){return{provide:Wb,useFactory:()=>{let t=R(XE),e=R(we),n=R(Aa),r=R(Ng),i=R(ba);return n.scrollOffset&&t.setOffset(n.scrollOffset),new NF(i,r,t,e,n)}}}function BF(){return{provide:_i,useClass:KE}}function $F(){return{provide:_i,useClass:gm}}function qF(t){return"guarded"}function HF(t){return[t.initialNavigation==="disabled"?kF().\u0275providers:[],t.initialNavigation==="enabledBlocking"?OF().\u0275providers:[]]}var mb=new j("");function GF(){return[{provide:mb,useFactory:Yb},{provide:Ks,multi:!0,useExisting:mb}]}var nT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;c||(y=64,s||(g=64)),r.push(n[u],n[d],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Fg;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),d!==64){let C=l<<6&192|d;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},WF=function(t){let e=nT(t);return rT.encodeByteArray(e,!0)},Ma=function(t){return WF(t).replace(/\./g,"")},Lg=function(t){try{return rT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var QF=()=>KF().__FIREBASE_DEFAULTS__,YF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Lg(t[1]);return e&&JSON.parse(e)},jg=()=>{try{return QF()||YF()||JF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iT=t=>{var e,n;return(n=(e=jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oT=t=>{let e=iT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ug=()=>{var t;return(t=jg())===null||t===void 0?void 0:t.config},sT=t=>{var e;return(e=jg())===null||e===void 0?void 0:e[`_${t}`]};var sd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function aT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ma(JSON.stringify(n)),Ma(JSON.stringify(s)),""].join(".")}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function lT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bg(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var ZF="FirebaseError",on=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cr.prototype.create)}},cr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?XF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new on(i,a,r)}};function XF(t,e){return t.replace(eV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var eV=/\{\$([^}]+)}/g;function Ko(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(tT(o)&&tT(s)){if(!Ko(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function tT(t){return t!==null&&typeof t=="object"}function $g(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hT(t,e){let n=new Vg(t,e);return n.subscribe.bind(n)}var Vg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kg),i.error===void 0&&(i.error=kg),i.complete===void 0&&(i.complete=kg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function tV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kg(){}var y7=4*60*60*1e3;function Tt(t){return t&&t._delegate?t._delegate:t}var an=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ei="[DEFAULT]";var qg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new sd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rV(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nV(t){return t===Ei?void 0:t}function rV(t){return t.instantiationMode==="EAGER"}var ad=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var iV=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),oV={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},sV=ce.INFO,aV={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},cV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=aV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lr=class{constructor(e){this.name=e,this._logLevel=sV,this._logHandler=cV,this._userLogHandler=null,iV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var lV=(t,e)=>e.some(n=>t instanceof n),fT,pT;function uV(){return fT||(fT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dV(){return pT||(pT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mT=new WeakMap,Gg=new WeakMap,gT=new WeakMap,Hg=new WeakMap,Wg=new WeakMap;function hV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Vn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&mT.set(n,t)}).catch(()=>{}),Wg.set(e,t),e}function fV(t){if(Gg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Gg.set(t,e)}var zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _T(t){zg=t(zg)}function pV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(cd(this),e,...n);return gT.set(r,e.sort?e.sort():[e]),Vn(r)}:dV().includes(t)?function(...e){return t.apply(cd(this),e),Vn(mT.get(this))}:function(...e){return Vn(t.apply(cd(this),e))}}function mV(t){return typeof t=="function"?pV(t):(t instanceof IDBTransaction&&fV(t),lV(t,uV())?new Proxy(t,zg):t)}function Vn(t){if(t instanceof IDBRequest)return hV(t);if(Hg.has(t))return Hg.get(t);let e=mV(t);return e!==t&&(Hg.set(t,e),Wg.set(e,t)),e}var cd=t=>Wg.get(t);function vT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Vn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Vn(s.result),c.oldVersion,c.newVersion,Vn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var gV=["get","getKey","getAll","getAllKeys","count"],_V=["put","add","delete","clear"],Kg=new Map;function yT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kg.get(e))return Kg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=_V.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gV.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Kg.set(e,o),o}_T(t=>X(P({},t),{get:(e,n,r)=>yT(e,n)||t.get(e,n,r),has:(e,n)=>!!yT(e,n)||t.has(e,n)}));var Yg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function yV(t){let e=t.getComponent();return e?.type==="VERSION"}var Jg="@firebase/app",wT="0.9.24";var Ci=new Lr("@firebase/app"),vV="@firebase/app-compat",wV="@firebase/analytics-compat",IV="@firebase/analytics",EV="@firebase/app-check-compat",CV="@firebase/app-check",bV="@firebase/auth",TV="@firebase/auth-compat",DV="@firebase/database",SV="@firebase/database-compat",AV="@firebase/functions",xV="@firebase/functions-compat",MV="@firebase/installations",PV="@firebase/installations-compat",RV="@firebase/messaging",NV="@firebase/messaging-compat",OV="@firebase/performance",kV="@firebase/performance-compat",FV="@firebase/remote-config",VV="@firebase/remote-config-compat",LV="@firebase/storage",jV="@firebase/storage-compat",UV="@firebase/firestore",BV="@firebase/firestore-compat",$V="firebase",qV="10.7.0";var Zg="[DEFAULT]",HV={[Jg]:"fire-core",[vV]:"fire-core-compat",[IV]:"fire-analytics",[wV]:"fire-analytics-compat",[CV]:"fire-app-check",[EV]:"fire-app-check-compat",[bV]:"fire-auth",[TV]:"fire-auth-compat",[DV]:"fire-rtdb",[SV]:"fire-rtdb-compat",[AV]:"fire-fn",[xV]:"fire-fn-compat",[MV]:"fire-iid",[PV]:"fire-iid-compat",[RV]:"fire-fcm",[NV]:"fire-fcm-compat",[OV]:"fire-perf",[kV]:"fire-perf-compat",[FV]:"fire-rc",[VV]:"fire-rc-compat",[LV]:"fire-gcs",[jV]:"fire-gcs-compat",[UV]:"fire-fst",[BV]:"fire-fst-compat","fire-js":"fire-js",[$V]:"fire-js-all"};var Pa=new Map,Xg=new Map;function GV(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ur(t){let e=t.name;if(Xg.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Xg.set(e,t);for(let n of Pa.values())GV(n,t);return!0}function r_(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var zV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},jr=new cr("app","Firebase",zV);var e_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};var Qo=qV;function i_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=Ug()),!n)throw jr.create("no-options");let o=Pa.get(i);if(o){if(Ko(n,o.options)&&Ko(r,o.config))return o;throw jr.create("duplicate-app",{appName:i})}let s=new ad(i);for(let c of Xg.values())s.addComponent(c);let a=new e_(n,r,s);return Pa.set(i,a),a}function Na(t=Zg){let e=Pa.get(t);if(!e&&t===Zg&&Ug())return i_();if(!e)throw jr.create("no-app",{appName:t});return e}function ld(){return Array.from(Pa.values())}function et(t,e,n){var r;let i=(r=HV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(a.join(" "));return}Ur(new an(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var WV="firebase-heartbeat-database",KV=1,Ra="firebase-heartbeat-store",Qg=null;function bT(){return Qg||(Qg=vT(WV,KV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ra)}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),Qg}function QV(t){return w(this,null,function*(){try{return yield(yield bT()).transaction(Ra).objectStore(Ra).get(TT(t))}catch(e){if(e instanceof on)Ci.warn(e.message);else{let n=jr.create("idb-get",{originalErrorMessage:e?.message});Ci.warn(n.message)}}})}function IT(t,e){return w(this,null,function*(){try{let r=(yield bT()).transaction(Ra,"readwrite");yield r.objectStore(Ra).put(e,TT(t)),yield r.done}catch(n){if(n instanceof on)Ci.warn(n.message);else{let r=jr.create("idb-set",{originalErrorMessage:n?.message});Ci.warn(r.message)}}})}function TT(t){return`${t.name}!${t.options.appId}`}var YV=1024,JV=30*24*60*60*1e3,t_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new n_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ET();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=JV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return w(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ET(),{heartbeatsToSend:r,unsentEntries:i}=ZV(this._heartbeatsCache.heartbeats),o=Ma(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function ET(){return new Date().toISOString().substring(0,10)}function ZV(t,e=YV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),CT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var n_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Bg()?dT().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield QV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function CT(t){return Ma(JSON.stringify({version:2,heartbeats:t})).length}function XV(t){Ur(new an("platform-logger",e=>new Yg(e),"PRIVATE")),Ur(new an("heartbeat",e=>new t_(e),"PRIVATE")),et(Jg,wT,t),et(Jg,wT,"esm2017"),et("fire-js","")}XV("");var eL="firebase",tL="10.7.0";et(eL,tL,"app");var Jo=new Zn("ANGULARFIRE2_VERSION");function s_(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ka=(t,e)=>{let n=e?[e]:ld(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Oa=class{constructor(){return ka(nL)}},nL="app-check";function Yo(){}var ud=class{zone;delegate;constructor(e,n=uf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},o_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yo,{},Yo,Yo)),n.pipe(qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Fa=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ud(Zone.current)),this.insideAngular=n.run(()=>new ud(Zone.current,lf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(U(we))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function rL(t){return dd().ngZone.runOutsideAngular(()=>t())}function bi(t){return dd().ngZone.run(()=>t())}function iL(t){return oL(dd())(t)}function oL(t){return function(n){return n=n.lift(new o_(t.ngZone)),n.pipe(mr(t.outsideAngular),pr(t.insideAngular))}}var sL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),bi(()=>t.apply(void 0,r))},qt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=bi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yo,{},Yo,Yo))),r[o]=sL(r[o],n));let i=rL(()=>t.apply(this,r));if(!e)if(i instanceof oe){let o=dd();return i.pipe(mr(o.outsideAngular),pr(o.insideAngular))}else return bi(()=>i);return i instanceof oe?i.pipe(iL):i instanceof Promise?bi(()=>new Promise((o,s)=>i.then(a=>bi(()=>o(a)),a=>bi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:bi(()=>i)};var Ti=class{constructor(e){return e}},Va=class{constructor(){return ld()}};function aL(t){return t&&t.length===1?t[0]:new Ti(Na())}var a_=new j("angularfire2._apps"),cL={provide:Ti,useFactory:aL,deps:[[new Yt,a_]]},lL={provide:Va,deps:[[new Yt,a_]]};function uL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ti(r)}}var dL=(()=>{class t{constructor(n){et("angularfire",Jo.full,"core"),et("angularfire",Jo.full,"app"),et("angular",PE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(U(Xt))};static \u0275mod=Nt({type:t});static \u0275inj=Rt({providers:[cL,lL]})}return t})();function DT(t,...e){return{ngModule:dL,providers:[{provide:a_,useFactory:uL(t),multi:!0,deps:[we,kt,Fa,...e]}]}}var ST=qt(i_,!0);function OT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kT=OT,FT=new cr("auth","Firebase",OT());var pd=new Lr("@firebase/auth");function fL(t,...e){pd.logLevel<=ce.WARN&&pd.warn(`Auth (${Qo}): ${t}`,...e)}function fd(t,...e){pd.logLevel<=ce.ERROR&&pd.error(`Auth (${Qo}): ${t}`,...e)}function AT(t,...e){throw y_(t,...e)}function VT(t,...e){return y_(t,...e)}function pL(t,e,n){let r=Object.assign(Object.assign({},kT()),{[e]:n});return new cr("auth","Firebase",r).create(e,{appName:t.name})}function y_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FT.create(t,...e)}function Ee(t,e,...n){if(!t)throw y_(e,...n)}function La(t){let e="INTERNAL ASSERTION FAILED: "+t;throw fd(e),new Error(e)}function md(t,e){t||La(e)}function mL(){return xT()==="http:"||xT()==="https:"}function xT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function gL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mL()||lT()||"connection"in navigator)?navigator.onLine:!0}function _L(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Si=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,md(n>e,"Short delay should be less than long delay!"),this.isMobile=cT()||uT()}get(){return gL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function yL(t,e){md(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var gd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;La("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;La("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;La("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var vL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var wL=new Si(3e4,6e4);function LT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Cd(o,s,a,c){return w(this,arguments,function*(t,e,n,r,i={}){return jT(t,i,()=>w(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=$g(Object.assign({key:t.config.apiKey},u)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),gd.fetch()(UT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},l))}))})}function jT(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},vL),e);try{let i=new u_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw hd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw hd(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw hd(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw pL(t,u,l);AT(t,u)}}catch(i){if(i instanceof on)throw i;AT(t,"network-request-failed",{message:String(i)})}})}function UT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?yL(t.config,i):`${t.config.apiScheme}://${i}`}var u_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(VT(this.auth,"network-request-failed")),wL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function hd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=VT(t,e,r);return i.customData._tokenResponse=n,i}function IL(t,e){return w(this,null,function*(){return Cd(t,"POST","/v1/accounts:delete",e)})}function EL(t,e){return w(this,null,function*(){return Cd(t,"POST","/v1/accounts:lookup",e)})}function ja(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function v_(t,e=!1){return w(this,null,function*(){let n=Tt(t),r=yield n.getIdToken(e),i=BT(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ja(c_(i.auth_time)),issuedAtTime:ja(c_(i.iat)),expirationTime:ja(c_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function c_(t){return Number(t)*1e3}function BT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Lg(n);return i?JSON.parse(i):(fd("Failed to decode base64 JWT payload"),null)}catch(i){return fd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CL(t){let e=BT(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function d_(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof on&&bL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function bL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var h_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var _d=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function yd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield d_(t,EL(n,{idToken:r}));Ee(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?DL(o.providerUserInfo):[],a=TL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new _d(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function w_(t){return w(this,null,function*(){let e=Tt(t);yield yd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function TL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DL(t){return t.map(e=>{var{providerId:n}=e,r=df(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function SL(t,e){return w(this,null,function*(){let n=yield jT(t,{},()=>w(this,null,function*(){let r=$g({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=UT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function AL(t,e){return w(this,null,function*(){return Cd(t,"POST","/v2/accounts:revokeToken",LT(t,e))})}var vd=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return w(this,null,function*(){return Ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield SL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return La("not implemented")}};function Br(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var wd=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=df(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _d(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield d_(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return v_(this,e)}reload(){return w_(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield yd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){let e=yield this.getIdToken();return yield d_(this,IL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ie=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:G,emailVerified:ve,isAnonymous:Ye,providerData:fe,stsTokenManager:ht}=n;Ee(G&&ht,e,"internal-error");let Tn=vd.fromJSON(this.name,ht);Ee(typeof G=="string",e,"internal-error"),Br(d,e.name),Br(g,e.name),Ee(typeof ve=="boolean",e,"internal-error"),Ee(typeof Ye=="boolean",e,"internal-error"),Br(y,e.name),Br(C,e.name),Br(T,e.name),Br(D,e.name),Br(O,e.name),Br(ie,e.name);let Jr=new t({uid:G,auth:e,email:g,emailVerified:ve,displayName:d,isAnonymous:Ye,photoURL:C,phoneNumber:y,tenantId:T,stsTokenManager:Tn,createdAt:O,lastLoginAt:ie});return fe&&Array.isArray(fe)&&(Jr.providerData=fe.map(Wi=>Object.assign({},Wi))),D&&(Jr._redirectEventId=D),Jr}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new vd;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield yd(o),o})}};var MT=new Map;function Di(t){md(t instanceof Function,"Expected a class definition");let e=MT.get(t);return e?(md(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MT.set(t,e),e)}var xL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),f_=xL;function l_(t,e,n){return`firebase:${t}:${e}:${n}`}var Id=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=l_(this.userKey,i.apiKey,o),this.fullPersistenceKey=l_("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?wd._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Di(f_),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Di(f_),s=l_(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=wd._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function PT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ML(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kL(e))return"Blackberry";if(FL(e))return"Webos";if(PL(e))return"Safari";if((e.includes("chrome/")||RL(e))&&!e.includes("edge/"))return"Chrome";if(OL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ML(t=sn()){return/firefox\//i.test(t)}function PL(t=sn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RL(t=sn()){return/crios\//i.test(t)}function NL(t=sn()){return/iemobile/i.test(t)}function OL(t=sn()){return/android/i.test(t)}function kL(t=sn()){return/blackberry/i.test(t)}function FL(t=sn()){return/webos/i.test(t)}function $T(t,e=[]){let n;switch(t){case"Browser":n=PT(sn());break;case"Worker":n=`${PT(sn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${r}`}var p_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function VL(n){return w(this,arguments,function*(t,e={}){return Cd(t,"GET","/v2/passwordPolicy",LT(t,e))})}var LL=6,m_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:LL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var g_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ed(this),this.idTokenSubscription=new Ed(this),this.beforeStateQueue=new p_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Id.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield yd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_L()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){let n=e?Tt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Di(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield VL(this),n=new m_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield AL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Di(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=yield Id.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&fL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function jL(t){return Tt(t)}var Ed=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=hT(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function UL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function BL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var hK=UL("rcb"),fK=new Si(3e4,6e4);var pK=new Si(2e3,1e4);var mK=10*60*1e3;var gK=new Si(3e4,6e4);var _K=new Si(5e3,15e3);var yK=encodeURIComponent("fac");var RT="@firebase/auth",NT="1.5.0";var __=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $L(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function qL(t){Ur(new an("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$T(t)},l=new g_(r,i,o,c);return BL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ur(new an("auth-internal",e=>{let n=jL(e.getProvider("auth").getImmediate());return(r=>new __(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(RT,NT,$L(t)),et(RT,NT,"esm2017")}var HL=5*60,vK=sT("authIdTokenMaxAge")||HL;qL("Browser");var qj="auth";var bd=class{constructor(){return ka(qj)}};var Hj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},In={},N,$_=$_||{},Q=Hj||self;function Ld(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Gj(t){return Object.prototype.hasOwnProperty.call(t,I_)&&t[I_]||(t[I_]=++zj)}var I_="closure_uid_"+(1e9*Math.random()>>>0),zj=0;function Wj(t,e,n){return t.call.apply(t.bind,arguments)}function Kj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt=Wj:gt=Kj,gt.apply(null,arguments)}function Td(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function $r(){this.s=this.s,this.o=this.o}var Qj=0;$r.prototype.s=!1;$r.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Qj!=0)&&Gj(this)};$r.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var tD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function q_(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qT(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Ld(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function _t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var Yj=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function Ga(t){return/^[\s\xa0]*$/.test(t)}function jd(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Ln(t){return jd().indexOf(t)!=-1}function H_(t){return H_[" "](t),t}H_[" "]=function(){};function Jj(t,e){var n=jU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Zj=Ln("Opera"),ts=Ln("Trident")||Ln("MSIE"),nD=Ln("Edge"),D_=nD||ts,rD=Ln("Gecko")&&!(jd().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),Xj=jd().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge");function iD(){var t=Q.document;return t?t.documentMode:void 0}var S_;e:{if(Dd="",Sd=function(){var t=jd();if(rD)return/rv:([^\);]+)(\)|;)/.exec(t);if(nD)return/Edge\/([\d\.]+)/.exec(t);if(ts)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Xj)return/WebKit\/(\S+)/.exec(t);if(Zj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Sd&&(Dd=Sd?Sd[1]:""),ts&&(Ad=iD(),Ad!=null&&Ad>parseFloat(Dd))){S_=String(Ad);break e}S_=Dd}var Dd,Sd,Ad,A_;Q.document&&ts?(E_=iD(),A_=E_||parseInt(S_,10)||void 0):A_=void 0;var E_,eU=A_;function za(t,e){if(_t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(rD){e:{try{H_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:tU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&za.$.h.call(this)}}nt(za,_t);var tU={2:"touch",3:"pen",4:"mouse"};za.prototype.h=function(){za.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ec="closure_listenable_"+(1e6*Math.random()|0),nU=0;function rU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++nU,this.fa=this.ia=!1}function Ud(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function G_(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function iU(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function oD(t){let e={};for(let n in t)e[n]=t[n];return e}var HT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<HT.length;o++)n=HT[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bd(t){this.src=t,this.g={},this.h=0}Bd.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=M_(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new rU(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function x_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=tD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Ud(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function M_(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var z_="closure_lm_"+(1e6*Math.random()|0),C_={};function aD(t,e,n,r,i){if(r&&r.once)return lD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)aD(t,e[o],n,r,i);return null}return n=Q_(n),t&&t[ec]?t.O(e,n,Xa(r)?!!r.capture:!!r,i):cD(t,e,n,!1,r,i)}function cD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Xa(i)?!!i.capture:!!i,a=K_(t);if(a||(t[z_]=a=new Bd(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=oU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Yj||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oU(){function t(n){return e.call(t.src,t.listener,n)}let e=sU;return t}function lD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)lD(t,e[o],n,r,i);return null}return n=Q_(n),t&&t[ec]?t.P(e,n,Xa(r)?!!r.capture:!!r,i):cD(t,e,n,!0,r,i)}function uD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)uD(t,e[o],n,r,i);else r=Xa(r)?!!r.capture:!!r,n=Q_(n),t&&t[ec]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=M_(o,n,r,i),-1<n&&(Ud(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=K_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=M_(e,n,r,i)),(n=-1<t?e[t]:null)&&W_(n))}function W_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ec])x_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=K_(e))?(x_(n,t),n.h==0&&(n.src=null,e[z_]=null)):Ud(t)}}}function dD(t){return t in C_?C_[t]:C_[t]="on"+t}function sU(t,e){if(t.fa)t=!0;else{e=new za(e,this);var n=t.listener,r=t.la||t.src;t.ia&&W_(t),t=n.call(r,e)}return t}function K_(t){return t=t[z_],t instanceof Bd?t:null}var b_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q_(t){return typeof t=="function"?t:(t[b_]||(t[b_]=function(e){return t.handleEvent(e)}),t[b_])}function tt(){$r.call(this),this.i=new Bd(this),this.S=this,this.J=null}nt(tt,$r);tt.prototype[ec]=!0;tt.prototype.removeEventListener=function(t,e,n,r){uD(this,t,e,n,r)};function ut(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new _t(e,t);else if(e instanceof _t)e.target=e.target||t;else{var i=e;e=new _t(r,t),sD(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=xd(s,r,!0,e)&&i}if(s=e.g=t,i=xd(s,r,!0,e)&&i,i=xd(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=xd(s,r,!1,e)&&i}tt.prototype.N=function(){if(tt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ud(n[r]);delete t.g[e],t.h--}}this.J=null};tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};tt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function xd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&x_(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Y_=Q.JSON.stringify,P_=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function aU(){var t=J_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var R_=class{constructor(){this.h=this.g=null}add(e,n){let r=hD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},hD=new P_(()=>new N_,t=>t.reset()),N_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function cU(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function lU(t){Q.setTimeout(()=>{throw t},0)}var Wa,Ka=!1,J_=new R_,fD=()=>{let t=Q.Promise.resolve(void 0);Wa=()=>{t.then(uU)}},uU=()=>{for(var t;t=aU();){try{t.h.call(t.g)}catch(n){lU(n)}var e=hD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ka=!1};function $d(t,e){tt.call(this),this.h=t||1,this.g=e||Q,this.j=gt(this.qb,this),this.l=Date.now()}nt($d,tt);N=$d.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(Z_(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Z_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){$d.$.N.call(this),Z_(this),delete this.g};function X_(t,e,n){if(typeof t=="function")n&&(t=gt(t,n));else if(t&&typeof t.handleEvent=="function")t=gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function pD(t){t.g=X_(()=>{t.g=null,t.i&&(t.i=!1,pD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var O_=class extends $r{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pD(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Qa(t){$r.call(this),this.h=t,this.g={}}nt(Qa,$r);var GT=[];function mD(t,e,n,r){Array.isArray(n)||(n&&(GT[0]=n.toString()),n=GT);for(var i=0;i<n.length;i++){var o=aD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function gD(t){G_(t.g,function(e,n){this.g.hasOwnProperty(n)&&W_(e)},t),t.g={}}Qa.prototype.N=function(){Qa.$.N.call(this),gD(this)};Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qd(){this.g=!0}qd.prototype.Ea=function(){this.g=!1};function dU(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function hU(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Xo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+pU(t,n)+(r?" "+r:"")})}function fU(t,e){t.info(function(){return"TIMEOUT: "+e})}qd.prototype.info=function(){};function pU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Y_(n)}catch{return e}}var Pi={},zT=null;function Hd(){return zT=zT||new tt}Pi.Ta="serverreachability";function _D(t){_t.call(this,Pi.Ta,t)}nt(_D,_t);function Ya(t){let e=Hd();ut(e,new _D(e))}Pi.STAT_EVENT="statevent";function yD(t,e){_t.call(this,Pi.STAT_EVENT,t),this.stat=e}nt(yD,_t);function Dt(t){let e=Hd();ut(e,new yD(e,t))}Pi.Ua="timingevent";function vD(t,e){_t.call(this,Pi.Ua,t),this.size=e}nt(vD,_t);function tc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var Gd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ey(){}ey.prototype.h=null;function WT(t){return t.h||(t.h=t.i())}function ID(){}var nc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ty(){_t.call(this,"d")}nt(ty,_t);function ny(){_t.call(this,"c")}nt(ny,_t);var k_;function zd(){}nt(zd,ey);zd.prototype.g=function(){return new XMLHttpRequest};zd.prototype.i=function(){return{}};k_=new zd;function rc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qa(this),this.P=mU,t=D_?125:void 0,this.V=new $d(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ED}function ED(){this.i=null,this.g="",this.h=!1}var mU=45e3,CD={},F_={};N=rc.prototype;N.setTimeout=function(t){this.P=t};function V_(t,e,n){t.L=1,t.A=Kd(ur(e)),t.u=n,t.S=!0,bD(t,null)}function bD(t,e){t.G=Date.now(),ic(t),t.B=ur(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),RD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ED,t.g=XD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new O_(gt(t.Pa,t,t.g),t.O)),mD(t.U,t.g,"readystatechange",t.nb),e=t.I?oD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ya(),dU(t.j,t.v,t.B,t.m,t.W,t.u)}N.nb=function(t){t=t.target;let e=this.M;e&&jn(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{let u=jn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||D_||this.g&&(this.h.h||this.g.ja()||JT(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Ya(3):Ya(2)),Wd(this);var n=this.g.da();this.ca=n;t:if(TD(this)){var r=JT(this.g);t="";var i=r.length,o=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),Ha(this);var s="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,hU(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ga(a)){var l=a;break t}}l=null}if(n=l)Xo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,L_(this,n);else{this.i=!1,this.s=3,Dt(12),Ai(this),Ha(this);break e}}this.S?(DD(this,u,s),D_&&this.i&&u==3&&(mD(this.U,this.V,"tick",this.mb),this.V.start())):(Xo(this.j,this.m,s,null),L_(this,s)),u==4&&Ai(this),this.i&&!this.J&&(u==4?QD(this.l,this):(this.i=!1,ic(this)))}else FU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Ai(this),Ha(this)}}}catch{}finally{}};function TD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function DD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=gU(t,n),i==F_){e==4&&(t.s=4,Dt(14),r=!1),Xo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==CD){t.s=4,Dt(15),Xo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xo(t.j,t.m,i,null),L_(t,i);TD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Dt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cy(e),e.M=!0,Dt(11))):(Xo(t.j,t.m,n,"[Invalid Chunked Response]"),Ai(t),Ha(t))}N.mb=function(){if(this.g){var t=jn(this.g),e=this.g.ja();this.o<e.length&&(Wd(this),DD(this,t,e),this.i&&t!=4&&ic(this))}};function gU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?F_:(n=Number(e.substring(n,r)),isNaN(n)?CD:(r+=1,r+n>e.length?F_:(e=e.slice(r,r+n),t.o=r+n,e)))}N.cancel=function(){this.J=!0,Ai(this)};function ic(t){t.Y=Date.now()+t.P,SD(t,t.P)}function SD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=tc(gt(t.lb,t),e)}function Wd(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}N.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(fU(this.j,this.B),this.L!=2&&(Ya(),Dt(17)),Ai(this),this.s=2,Ha(this)):SD(this,this.Y-t)};function Ha(t){t.l.H==0||t.J||QD(t.l,t)}function Ai(t){Wd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Z_(t.V),gD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function L_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||j_(n.i,t))){if(!t.K&&j_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Od(n),Jd(n);else break e;ay(n),Dt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=tc(gt(n.ib,n),6e3));if(1>=kD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xi(n,11)}else if((t.K||n.g==t)&&Od(n),!Ga(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let g=l[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let y=t.g;if(y){let C=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var o=r.i;o.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(ry(o,o.h),o.h=null))}if(r.F){let T=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,Ne(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=ZD(r,r.J?r.pa:null,r.Y),s.K){FD(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(Wd(a),ic(a)),r.g=s}else WD(r);0<n.j.length&&Zd(n)}else l[0]!="stop"&&l[0]!="close"||xi(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?xi(n,7):sy(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Ya(4)}catch{}}function _U(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ld(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function yU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ld(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function AD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ld(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=yU(t),r=_U(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var xD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Mi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mi){this.h=t.h,Rd(this,t.j),this.s=t.s,this.g=t.g,Nd(this,t.m),this.l=t.l;var e=t.i,n=new Ja;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),KT(this,n),this.o=t.o}else t&&(e=String(t).match(xD))?(this.h=!1,Rd(this,e[1]||"",!0),this.s=$a(e[2]||""),this.g=$a(e[3]||"",!0),Nd(this,e[4]),this.l=$a(e[5]||"",!0),KT(this,e[6]||"",!0),this.o=$a(e[7]||"")):(this.h=!1,this.i=new Ja(null,this.h))}Mi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qa(e,QT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(qa(e,QT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(qa(n,n.charAt(0)=="/"?EU:IU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qa(n,bU)),t.join("")};function ur(t){return new Mi(t)}function Rd(t,e,n){t.j=n?$a(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Nd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function KT(t,e,n){e instanceof Ja?(t.i=e,TU(t.i,t.h)):(n||(e=qa(e,CU)),t.i=new Ja(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function Kd(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $a(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,wU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var QT=/[#\/\?@]/g,IU=/[#\?:]/g,EU=/[#\?]/g,CU=/[#\?@]/g,bU=/#/g;function Ja(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qr(t){t.g||(t.g=new Map,t.h=0,t.i&&vU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=Ja.prototype;N.add=function(t,e){qr(this),this.i=null,t=ns(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function MD(t,e){qr(t),e=ns(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function PD(t,e){return qr(t),e=ns(t,e),t.g.has(e)}N.forEach=function(t,e){qr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};N.ta=function(){qr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};N.Z=function(t){qr(this);let e=[];if(typeof t=="string")PD(this,t)&&(e=e.concat(this.g.get(ns(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return qr(this),this.i=null,t=ns(this,t),PD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function RD(t,e,n){MD(t,e),0<n.length&&(t.i=null,t.g.set(ns(t,e),q_(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ns(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function TU(t,e){e&&!t.j&&(qr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(MD(this,r),RD(this,i,n))},t)),t.j=e}var DU=class{constructor(t,e){this.g=t,this.map=e}};function ND(t){this.l=t||SU,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var SU=10;function OD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function kD(t){return t.h?1:t.g?t.g.size:0}function j_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ry(t,e){t.g?t.g.add(e):t.h=e}function FD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ND.prototype.cancel=function(){if(this.i=VD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function VD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return q_(t.i)}var AU=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function xU(){this.g=new AU}function MU(t,e,n){let r=n||"";try{AD(t,function(i,o){let s=i;Xa(i)&&(s=Y_(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function PU(t,e){let n=new qd;if(Q.Image){let r=new Image;r.onload=Td(Md,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Td(Md,n,r,"TestLoadImage: error",!1,e),r.onabort=Td(Md,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Td(Md,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Md(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function oc(t){this.l=t.ec||null,this.j=t.ob||!1}nt(oc,ey);oc.prototype.g=function(){return new Qd(this.l,this.j)};oc.prototype.i=function(t){return function(){return t}}({});function Qd(t,e){tt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=iy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(Qd,tt);var iy=0;N=Qd.prototype;N.open=function(t,e){if(this.readyState!=iy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Za(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sc(this)),this.readyState=iy};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function LD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sc(this):Za(this),this.readyState==3&&LD(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,sc(this))};N.Ya=function(t){this.g&&(this.response=t,sc(this))};N.ka=function(){this.g&&sc(this)};function sc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Za(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Za(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var RU=Q.JSON.parse;function ke(t){tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jD,this.L=this.M=!1}nt(ke,tt);var jD="",NU=/^https?$/i,OU=["POST","PUT"];N=ke.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():k_.g(),this.C=this.u?WT(this.u):WT(k_),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){YT(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Q.FormData&&t instanceof Q.FormData,!(0<=tD(OU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$D(this),0<this.B&&((this.L=kU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=X_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){YT(this,o)}};function kU(t){return ts&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof $_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function YT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,UD(t),Yd(t)}function UD(t){t.F||(t.F=!0,ut(t,"complete"),ut(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),Yd(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yd(this,!0)),ke.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?BD(this):this.kb())};N.kb=function(){BD(this)};function BD(t){if(t.h&&typeof $_<"u"&&(!t.C[1]||jn(t)!=4||t.da()!=2)){if(t.v&&jn(t)==4)X_(t.La,0,t);else if(ut(t,"readystatechange"),jn(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(xD)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!NU.test(i?i.toLowerCase():"")}n=r}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var o=2<jn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",UD(t)}}finally{Yd(t)}}}}function Yd(t,e){if(t.g){$D(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function $D(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function jn(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),RU(e)}};function JT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case jD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function FU(t){let e={};t=(t.g&&2<=jn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ga(t[r]))continue;var n=cU(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}iU(e,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qD(t){let e="";return G_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function oy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ne(t,e,n))}function Ua(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function HD(t){this.Ga=0,this.j=[],this.l=new qd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ua("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ua("baseRetryDelayMs",5e3,t),this.hb=Ua("retryDelaySeedMs",1e4,t),this.eb=Ua("forwardChannelMaxRetries",2,t),this.xa=Ua("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ND(t&&t.concurrentRequestLimit),this.Ja=new xU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=HD.prototype;N.ra=8;N.H=1;function sy(t){if(GD(t),t.H==3){var e=t.W++,n=ur(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),ac(t,n),e=new rc(t,t.l,e),e.L=2,e.A=Kd(ur(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=XD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ic(e)}JD(t)}function Jd(t){t.g&&(cy(t),t.g.cancel(),t.g=null)}function GD(t){Jd(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Od(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function Zd(t){if(!OD(t.i)&&!t.m){t.m=!0;var e=t.Na;Wa||fD(),Ka||(Wa(),Ka=!0),J_.add(e,t),t.C=0}}function VU(t,e){return kD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=tc(gt(t.Na,t,e),YD(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new rc(this,this.l,t),o=this.s;if(this.U&&(o?(o=oD(o),sD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zD(this,i,e),n=ur(this.I),Ne(n,"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),ac(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(qD(o)))+"&"+e:this.o&&oy(n,this.o,o)),ry(this.i,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.aa=!0,V_(i,n,null)):V_(i,n,e),this.H=2}}else this.H==3&&(t?ZT(this,t):this.j.length==0||OD(this.i)||ZT(this))};function ZT(t,e){var n;e?n=e.m:n=t.W++;let r=ur(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),ac(t,r),t.o&&t.s&&oy(r,t.o,t.s),n=new rc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=zD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ry(t.i,n),V_(n,r,e)}function ac(t,e){t.na&&G_(t.na,function(n,r){Ne(e,r,n)}),t.h&&AD({},function(n,r){Ne(e,r,n)})}function zD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?gt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{MU(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function WD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Wa||fD(),Ka||(Wa(),Ka=!0),J_.add(e,t),t.A=0}}function ay(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=tc(gt(t.Ma,t),YD(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,KD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=tc(gt(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dt(10),Jd(this),KD(this))};function cy(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function KD(t){t.g=new rc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ur(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),ac(t,e),t.o&&t.s&&oy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Kd(ur(e)),n.u=null,n.S=!0,bD(n,t)}N.ib=function(){this.v!=null&&(this.v=null,Jd(this),ay(this),Dt(19))};function Od(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function QD(t,e){var n=null;if(t.g==e){Od(t),cy(t),t.g=null;var r=2}else if(j_(t.i,e))n=e.F,FD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Hd(),ut(r,new vD(r,n)),Zd(t)}else WD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&VU(t,e)||r==2&&ay(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xi(t,5);break;case 4:xi(t,10);break;case 3:xi(t,6);break;default:xi(t,2)}}}function YD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function xi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=gt(t.pb,t);n||(n=new Mi("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Rd(n,"https"),Kd(n)),PU(n.toString(),r)}else Dt(2);t.H=0,t.h&&t.h.za(e),JD(t),GD(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dt(2)):(this.l.info("Failed to ping google.com"),Dt(1))};function JD(t){if(t.H=0,t.ma=[],t.h){let e=VD(t.i);(e.length!=0||t.j.length!=0)&&(qT(t.ma,e),qT(t.ma,t.j),t.i.i.length=0,q_(t.j),t.j.length=0),t.h.ya()}}function ZD(t,e,n){var r=n instanceof Mi?ur(n):new Mi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Nd(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Mi(null);r&&Rd(o,r),e&&(o.g=e),i&&Nd(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),ac(t,r),r}function XD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ke(new oc({ob:n})):new ke(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function eS(){}N=eS.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function kd(){if(ts&&!(10<=Number(eU)))throw Error("Environmental error: no available transport.")}kd.prototype.g=function(t,e){return new Ht(t,e)};function Ht(t,e){tt.call(this),this.g=new HD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ga(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ga(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new rs(this)}nt(Ht,tt);Ht.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ZD(t,null,t.Y),Zd(t)};Ht.prototype.close=function(){sy(this.g)};Ht.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Y_(t),t=n);e.j.push(new DU(e.fb++,t)),e.H==3&&Zd(e)};Ht.prototype.N=function(){this.g.h=null,delete this.j,sy(this.g),delete this.g,Ht.$.N.call(this)};function tS(t){ty.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nt(tS,ty);function nS(){ny.call(this),this.status=1}nt(nS,ny);function rs(t){this.g=t}nt(rs,eS);rs.prototype.Ba=function(){ut(this.g,"a")};rs.prototype.Aa=function(t){ut(this.g,new tS(t))};rs.prototype.za=function(t){ut(this.g,new nS)};rs.prototype.ya=function(){ut(this.g,"b")};function LU(){this.blockSize=-1}function wn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}nt(wn,LU);wn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function T_(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}wn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)T_(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){T_(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){T_(this,r),i=0;break}}this.h=i,this.i+=e};wn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var jU={};function ly(t){return-128<=t&&128>t?Jj(t,function(e){return new Ce([e|0],0>e?-1:0)}):new Ce([t|0],0>t?-1:0)}function Un(t){if(isNaN(t)||!isFinite(t))return es;if(0>t)return lt(Un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=U_;return new Ce(e,0)}function rS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return lt(rS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Un(Math.pow(e,8)),r=es,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Un(Math.pow(e,o)),r=r.R(o).add(Un(s))):(r=r.R(n),r=r.add(Un(s)))}return r}var U_=4294967296,es=ly(0),B_=ly(1),XT=ly(16777216);N=Ce.prototype;N.ea=function(){if(cn(this))return-lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:U_+r)*e,e*=U_}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(lr(this))return"0";if(cn(this))return"-"+lt(this).toString(t);for(var e=Un(Math.pow(t,6)),n=this,r="";;){var i=Vd(n,e).g;n=Fd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,lr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function lr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function cn(t){return t.h==-1}N.X=function(t){return t=Fd(this,t),cn(t)?-1:lr(t)?0:1};function lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(B_)}N.abs=function(){return cn(this)?lt(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function Fd(t,e){return t.add(lt(e))}N.R=function(t){if(lr(this)||lr(t))return es;if(cn(this))return cn(t)?lt(this).R(lt(t)):lt(lt(this).R(t));if(cn(t))return lt(this.R(lt(t)));if(0>this.X(XT)&&0>t.X(XT))return Un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Pd(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Pd(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Pd(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Pd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)};function Pd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ba(t,e){this.g=t,this.h=e}function Vd(t,e){if(lr(e))throw Error("division by zero");if(lr(t))return new Ba(es,es);if(cn(t))return e=Vd(lt(t),e),new Ba(lt(e.g),lt(e.h));if(cn(e))return e=Vd(t,lt(e)),new Ba(lt(e.g),e.h);if(30<t.g.length){if(cn(t)||cn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=B_,r=e;0>=r.X(t);)n=eD(n),r=eD(r);var i=Zo(n,1),o=Zo(r,1);for(r=Zo(r,2),n=Zo(n,2);!lr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Zo(r,1),n=Zo(n,1)}return e=Fd(t,i.R(e)),new Ba(i,e)}for(i=es;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Un(n),s=o.R(e);cn(s)||0<s.X(t);)n-=r,o=Un(n),s=o.R(e);lr(o)&&(o=B_),i=i.add(o),t=Fd(t,s)}return new Ba(i,t)}N.gb=function(t){return Vd(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)};function eD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function Zo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ce(i,t.h)}kd.prototype.createWebChannel=kd.prototype.g;Ht.prototype.send=Ht.prototype.u;Ht.prototype.open=Ht.prototype.m;Ht.prototype.close=Ht.prototype.close;Gd.NO_ERROR=0;Gd.TIMEOUT=8;Gd.HTTP_ERROR=6;wD.COMPLETE="complete";ID.EventType=nc;nc.OPEN="a";nc.CLOSE="b";nc.ERROR="c";nc.MESSAGE="d";tt.prototype.listen=tt.prototype.O;ke.prototype.listenOnce=ke.prototype.P;ke.prototype.getLastError=ke.prototype.Sa;ke.prototype.getLastErrorCode=ke.prototype.Ia;ke.prototype.getStatus=ke.prototype.da;ke.prototype.getResponseJson=ke.prototype.Wa;ke.prototype.getResponseText=ke.prototype.ja;ke.prototype.send=ke.prototype.ha;ke.prototype.setWithCredentials=ke.prototype.Oa;wn.prototype.digest=wn.prototype.l;wn.prototype.reset=wn.prototype.reset;wn.prototype.update=wn.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=Un;Ce.fromString=rS;var iS=In.createWebChannelTransport=function(){return new kd},oS=In.getStatEventTarget=function(){return Hd()},Xd=In.ErrorCode=Gd,sS=In.EventType=wD,aS=In.Event=Pi,uy=In.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lQ=In.FetchXmlHttpFactory=oc,cc=In.WebChannel=ID,cS=In.XhrIo=ke,lS=In.Md5=wn,Ri=In.Integer=Ce;var uS="@firebase/firestore";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var bs="10.7.0";var Fi=new Lr("@firebase/firestore");function lc(){return Fi.logLevel}function F(t,...e){if(Fi.logLevel<=ce.DEBUG){let n=e.map(Wv);Fi.debug(`Firestore (${bs}): ${t}`,...n)}}function dr(t,...e){if(Fi.logLevel<=ce.ERROR){let n=e.map(Wv);Fi.error(`Firestore (${bs}): ${t}`,...n)}}function us(t,...e){if(Fi.logLevel<=ce.WARN){let n=e.map(Wv);Fi.warn(`Firestore (${bs}): ${t}`,...n)}}function Wv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+t;throw dr(e),new Error(e)}function xe(t,e){t||W()}function Z(t,e){return t}var A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=class extends on{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var En=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ih=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},my=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}},gy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},_y=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new En;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new En,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new En)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new ih(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new rt(e)}},yy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},vy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Iy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new wy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function UU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var oh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=UU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function ds(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var dt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new dt(0,0))}static max(){return new t(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var sh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Oe=class t extends sh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new k(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},BU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class t extends sh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return BU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new k(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new k(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new k(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new k(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var Ey=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ey.UNKNOWN_ID=-1;function $U(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new Vi(i,H.empty(),e)}function qU(t){return new Vi(t.readTime,t.key,-1)}var Vi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),H.empty(),-1)}static max(){return new t(J.max(),H.empty(),-1)}};function HU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var GU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Dc(t){return w(this,null,function*(){if(t.code!==A.FAILED_PRECONDITION||t.message!==GU)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Sc(t){return t.name==="IndexedDbTransactionError"}var US=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Lh(t){return t==null}function mc(t){return t===0&&1/t==-1/0}function zU(t){return typeof t=="number"&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var WU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wQ=[...WU,"documentOverlays"],KU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QU=KU,IQ=[...QU,"indexConfiguration","indexState","indexEntries"];function dS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ve=class t{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new as(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new as(this.root,e,this.comparator,!1)}getReverseIterator(){return new as(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new as(this.root,e,this.comparator,!0)}},as=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$n=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,o){return this}insert(e,n,r){return new $n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vt=class t{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ah(this.data.getIterator())}getIteratorFrom(e){return new ah(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ah=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ln=class t{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new vt(zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ch=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var St=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ch("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};St.EMPTY_BYTE_STRING=new St("");var YU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(xe(!!t),typeof t=="string"){let e=0,n=YU.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wr(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}function Kv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qv(t){let e=t.mapValue.fields.__previous_value__;return Kv(e)?Qv(e):e}function gc(t){let e=zr(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}var by=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},lh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var eh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kv(t)?4:$S(t)?9007199254740991:10:W()}function Gn(t,e){if(t===e)return!0;let n=Li(t);if(n!==Li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=zr(i.timestampValue),a=zr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Wr(i.bytesValue).isEqual(Wr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?mc(s)===mc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ds(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dS(s)!==dS(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Gn(s[c],a[c])))return!1;return!0}(t,e);default:return W()}}function _c(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function hs(t,e){if(t===e)return 0;let n=Li(t),r=Li(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Fe(o.integerValue||o.doubleValue),c=Fe(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return hS(t.timestampValue,e.timestampValue);case 4:return hS(gc(t),gc(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Wr(o),c=Wr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=ye(a[l],c[l]);if(u!==0)return u}return ye(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ye(Fe(o.latitude),Fe(s.latitude));return a!==0?a:ye(Fe(o.longitude),Fe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=hs(a[l],c[l]);if(u)return u}return ye(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===eh.mapValue&&s===eh.mapValue)return 0;if(o===eh.mapValue)return 1;if(s===eh.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let g=ye(c[d],u[d]);if(g!==0)return g;let y=hs(a[c[d]],l[u[d]]);if(y!==0)return y}return ye(c.length,u.length)}(t.mapValue,e.mapValue);default:throw W()}}function hS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=zr(t),r=zr(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function fs(t){return Ty(t)}function Ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Ty(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ty(n.fields[s])}`;return i+"}"}(t.mapValue):W()}function fS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dy(t){return!!t&&"integerValue"in t}function Yv(t){return!!t&&"arrayValue"in t}function pS(t){return!!t&&"nullValue"in t}function mS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nh(t){return!!t&&"mapValue"in t}function dc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $S(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=dc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(dc(this.value))}};function qS(t){let e=[];return Hi(t.fields,(n,r)=>{let i=new zt([n]);if(nh(r)){let o=qS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new ln(e)}var Cn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ps=class{constructor(e,n){this.position=e,this.inclusive=n}};function gS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=hs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _S(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}var ms=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function JU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var uh=class{},Qe=class t extends uh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ay(e,n,r):n==="array-contains"?new Py(e,r):n==="in"?new Ry(e,r):n==="not-in"?new Ny(e,r):n==="array-contains-any"?new Oy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xy(e,r):new My(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hs(n,this.value)):n!==null&&Li(this.value)===Li(n)&&this.matchesComparison(hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},bn=class t extends uh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return HS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function HS(t){return t.op==="and"}function GS(t){return ZU(t)&&HS(t)}function ZU(t){for(let e of t.filters)if(e instanceof bn)return!1;return!0}function Sy(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+fs(t.value);if(GS(t))return t.filters.map(e=>Sy(e)).join(",");{let e=t.filters.map(n=>Sy(n)).join(",");return`${t.op}(${e})`}}function zS(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)}(t,e):t instanceof bn?function(r,i){return i instanceof bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&zS(s,i.filters[a]),!0):!1}(t,e):void W()}function WS(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${fs(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map(WS).join(" ,")+"}"}(t):"Filter"}var Ay=class extends Qe{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},xy=class extends Qe{constructor(e,n){super(e,"in",n),this.keys=KS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},My=class extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=KS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function KS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var Py=class extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Yv(n)&&_c(n.arrayValue,this.value)}},Ry=class extends Qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}},Ny=class extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!_c(this.value.arrayValue,n)}},Oy=class extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_c(this.value.arrayValue,r))}};var ky=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function yS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ky(t,e,n,r,i,o,s)}function Jv(t){let e=Z(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.ce=n}return e.ce}function Zv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_S(t.startAt,e.startAt)&&_S(t.endAt,e.endAt)}function Fy(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ji=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function XU(t,e,n,r,i,o,s,a){return new ji(t,e,n,r,i,o,s,a)}function Xv(t){return new ji(t)}function vS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QS(t){return t.collectionGroup!==null}function hc(t){let e=Z(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new vt(zt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ms(o,r))}),n.has(zt.keyField().canonicalString())||e.le.push(new ms(zt.keyField(),r))}return e.le}function qn(t){let e=Z(t);return e.he||(e.he=e3(e,hc(t))),e.he}function e3(t,e){if(t.limitType==="F")return yS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ms(i.field,o)});let n=t.endAt?new ps(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ps(t.startAt.position,t.startAt.inclusive):null;return yS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vy(t,e){let n=t.filters.concat([e]);return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ly(t,e,n){return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jh(t,e){return Zv(qn(t),qn(e))&&t.limitType===e.limitType}function YS(t){return`${Jv(qn(t))}|lt:${t.limitType}`}function is(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WS(i)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fs(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of hc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=gS(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,hc(r),i)||r.endAt&&!function(s,a,c){let l=gS(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,hc(r),i))}(t,e)}function t3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JS(t){return(e,n)=>{let r=!1;for(let i of hc(t)){let o=n3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function n3(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?hs(c,l):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}var Kr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return BS(this.inner)}size(){return this.innerSize}};var r3=new Ve(H.comparator);function hr(){return r3}var ZS=new Ve(H.comparator);function uc(...t){let e=ZS;for(let n of t)e=e.insert(n.key,n);return e}function XS(t){let e=ZS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ni(){return fc()}function eA(){return fc()}function fc(){return new Kr(t=>t.toString(),(t,e)=>t.isEqual(e))}var i3=new Ve(H.comparator),o3=new vt(H.comparator);function le(...t){let e=o3;for(let n of t)e=e.add(n);return e}var s3=new vt(ye);function a3(){return s3}function tA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function nA(t){return{integerValue:""+t}}function c3(t,e){return zU(e)?nA(e):tA(t,e)}var gs=class{constructor(){this._=void 0}};function l3(t,e,n){return t instanceof _s?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Kv(o)&&(o=Qv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ui?iA(t,e):t instanceof Bi?oA(t,e):function(i,o){let s=rA(i,o),a=wS(s)+wS(i.Ie);return Dy(s)&&Dy(i.Ie)?nA(a):tA(i.serializer,a)}(t,e)}function u3(t,e,n){return t instanceof Ui?iA(t,e):t instanceof Bi?oA(t,e):n}function rA(t,e){return t instanceof ys?function(r){return Dy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var _s=class extends gs{},Ui=class extends gs{constructor(e){super(),this.elements=e}};function iA(t,e){let n=sA(e);for(let r of t.elements)n.some(i=>Gn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Bi=class extends gs{constructor(e){super(),this.elements=e}};function oA(t,e){let n=sA(e);for(let r of t.elements)n=n.filter(i=>!Gn(i,r));return{arrayValue:{values:n}}}var ys=class extends gs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function wS(t){return Fe(t.integerValue||t.doubleValue)}function sA(t){return Yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function d3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ui&&i instanceof Ui||r instanceof Bi&&i instanceof Bi?ds(r.elements,i.elements,Gn):r instanceof ys&&i instanceof ys?Gn(r.Ie,i.Ie):r instanceof _s&&i instanceof _s}(t.transform,e.transform)}var jy=class{constructor(e,n){this.version=e,this.transformResults=n}},Hr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function rh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var vs=class{};function aA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dh(t.key,Hr.none()):new $i(t.key,t.data,Hr.none());{let n=t.data,r=Gt.empty(),i=new vt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new zn(t.key,r,new ln(i.toArray()),Hr.none())}}function h3(t,e,n){t instanceof $i?function(i,o,s){let a=i.value.clone(),c=ES(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zn?function(i,o,s){if(!rh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=ES(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(cA(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function pc(t,e,n,r){return t instanceof $i?function(o,s,a,c){if(!rh(o.precondition,s))return a;let l=o.value.clone(),u=CS(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof zn?function(o,s,a,c){if(!rh(o.precondition,s))return a;let l=CS(o.fieldTransforms,c,s),u=s.data;return u.setAll(cA(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return rh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function f3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=rA(r.transform,i||null);o!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,o))}return n||null}function IS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ds(r,i,(o,s)=>d3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var $i=class extends vs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},zn=class extends vs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function cA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function ES(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,u3(s,a,n[i]))}return r}function CS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,l3(o,s,e))}return r}var dh=class extends vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Uy=class extends vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var By=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&h3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=eA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=aA(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(n,r)=>IS(n,r))&&ds(this.baseMutations,e.baseMutations,(n,r)=>IS(n,r))}},$y=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return i3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var qy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Hy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var We,he;function p3(t){switch(t){default:return W();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function lA(t){if(t===void 0)return dr("GRPC error has no .code"),A.UNKNOWN;switch(t){case We.OK:return A.OK;case We.CANCELLED:return A.CANCELLED;case We.UNKNOWN:return A.UNKNOWN;case We.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case We.INTERNAL:return A.INTERNAL;case We.UNAVAILABLE:return A.UNAVAILABLE;case We.UNAUTHENTICATED:return A.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case We.NOT_FOUND:return A.NOT_FOUND;case We.ALREADY_EXISTS:return A.ALREADY_EXISTS;case We.PERMISSION_DENIED:return A.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case We.ABORTED:return A.ABORTED;case We.OUT_OF_RANGE:return A.OUT_OF_RANGE;case We.UNIMPLEMENTED:return A.UNIMPLEMENTED;case We.DATA_LOSS:return A.DATA_LOSS;default:return W()}}(he=We||(We={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var bS=null;function m3(){return new TextEncoder}var g3=new Ri([4294967295,4294967295],0);function TS(t){let e=m3().encode(t),n=new lS;return n.update(e),new Uint8Array(n.digest())}function DS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ri([n,r],0),new Ri([i,o],0)]}var Gy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oi(`Invalid padding: ${n}`);if(r<0)throw new Oi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ri.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ri.fromNumber(r)));return i.compare(g3)===1&&(i=new Ri([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=TS(e),[r,i]=DS(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=TS(e),[r,i]=DS(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Oi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var hh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new Ve(ye),hr(),le())}},yc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var cs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},fh=class{constructor(e,n){this.targetId=e,this.fe=n}},ph=class{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},mh=class{constructor(){this.ge=0,this.pe=AS(),this.ye=St.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=le(),n=le(),r=le();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new yc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=AS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},zy=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=hr(),this.Qe=SS(),this.Ke=new Ve(ye)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(Fy(o))if(r===0){let s=new H(o.path);this.We(n,s,Cn.newNoDocument(s,J.min()))}else xe(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}bS?.tt(function(u,d,g,y,C){var T,D,O,ie,G,ve;let Ye={localCacheCount:u,existenceFilterCount:d.count,databaseId:g.database,projectId:g.projectId},fe=d.unchangedNames;return fe&&(Ye.bloomFilter={applied:C===0,hashCount:(T=fe?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(ie=(O=(D=fe?.bits)===null||D===void 0?void 0:D.bitmap)===null||O===void 0?void 0:O.length)!==null&&ie!==void 0?ie:0,padding:(ve=(G=fe?.bits)===null||G===void 0?void 0:G.padding)!==null&&ve!==void 0?ve:0,mightContain:ht=>{var Tn;return(Tn=y?.mightContain(ht))!==null&&Tn!==void 0&&Tn}}),Ye}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Wr(r).toUint8Array()}catch(c){if(c instanceof ch)return us("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Gy(s,i,o)}catch(c){return us(c instanceof Oi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&Fy(a.target)){let c=new H(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,Cn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=le();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new hh(e,n,this.Ke,this.qe,r);return this.qe=hr(),this.Qe=SS(),this.Ke=new Ve(ye),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new mh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new vt(ye),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new mh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function SS(){return new Ve(H.comparator)}function AS(){return new Ve(H.comparator)}var _3={asc:"ASCENDING",desc:"DESCENDING"},y3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v3={and:"AND",or:"OR"},Wy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ky(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w3(t,e){return gh(t,e.toTimestamp())}function Hn(t){return xe(!!t),J.fromTimestamp(function(n){let r=zr(n);return new dt(r.seconds,r.nanos)}(t))}function e0(t,e){return function(r){return new Oe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function dA(t){let e=Oe.fromString(t);return xe(mA(e)),e}function Qy(t,e){return e0(t.databaseId,e.path)}function dy(t,e){let n=dA(e);if(n.get(1)!==t.databaseId.projectId)throw new k(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(hA(n))}function Yy(t,e){return e0(t.databaseId,e)}function I3(t){let e=dA(t);return e.length===4?Oe.emptyPath():hA(e)}function Jy(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hA(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xS(t,e,n){return{name:Qy(t,e),fields:n.value.mapValue.fields}}function E3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(xe(u===void 0||typeof u=="string"),St.fromBase64String(u||"")):(xe(u===void 0||u instanceof Uint8Array),St.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?A.UNKNOWN:lA(l.code);return new k(u,l.message||"")}(s);n=new ph(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=dy(t,r.document.name),o=Hn(r.document.updateTime),s=r.document.createTime?Hn(r.document.createTime):J.min(),a=new Gt({mapValue:{fields:r.document.fields}}),c=Cn.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new cs(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=dy(t,r.document),o=r.readTime?Hn(r.readTime):J.min(),s=Cn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new cs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=dy(t,r.document),o=r.removedTargetIds||[];n=new cs([],o,i,null)}else{if(!("filter"in e))return W();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Hy(i,o),a=r.targetId;n=new fh(a,s)}}return n}function C3(t,e){let n;if(e instanceof $i)n={update:xS(t,e.key,e.value)};else if(e instanceof dh)n={delete:Qy(t,e.key)};else if(e instanceof zn)n={update:xS(t,e.key,e.data),updateMask:R3(e.fieldMask)};else{if(!(e instanceof Uy))return W();n={verify:Qy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof _s)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ui)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ys)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:w3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(t,e.precondition)),n}function b3(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Hn(i.updateTime):Hn(o);return s.isEqual(J.min())&&(s=Hn(o)),new jy(s,i.transformResults||[])}(n,e))):[]}function T3(t,e){return{documents:[Yy(t,e.path)]}}function D3(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Yy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return pA(bn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let o=function(c){if(c.length!==0)return c.map(l=>function(d){return{field:os(d.field),direction:x3(d.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Ky(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function S3(t){let e=I3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){let g=fA(d);return g instanceof bn&&GS(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(g=>function(C){return new ms(ss(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(d){let g;return g=typeof d=="object"?d.value:d,Lh(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(d){let g=!!d.before,y=d.values||[];return new ps(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let g=!d.before,y=d.values||[];return new ps(y,g)}(n.endAt)),XU(e,i,s,o,a,"F",c,l)}function A3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ss(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ss(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ss(n.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ss(n.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(ss(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(r=>fA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function x3(t){return _3[t]}function M3(t){return y3[t]}function P3(t){return v3[t]}function os(t){return{fieldPath:t.canonicalString()}}function ss(t){return zt.fromServerFormat(t.fieldPath)}function pA(t){return t instanceof Qe?function(n){if(n.op==="=="){if(mS(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NAN"}};if(pS(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mS(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NOT_NAN"}};if(pS(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(n.field),op:M3(n.op),value:n.value}}}(t):t instanceof bn?function(n){let r=n.getFilters().map(i=>pA(i));return r.length===1?r[0]:{compositeFilter:{op:P3(n.op),filters:r}}}(t):W()}function R3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var vc=class t{constructor(e,n,r,i,o=J.min(),s=J.min(),a=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Zy=class{constructor(e){this.ut=e}};function N3(t){let e=S3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ly(e,e.limit,"L"):e}var _h=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),mc(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Wr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?$S(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):W()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),H.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};_h.St=new _h;var Xy=class{constructor(){this.on=new ev}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Vi.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},ev=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(Oe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Oe.comparator)).toArray()}};var CQ=new Uint8Array(0);var Bn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);var wc=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var tv=class{constructor(){this.changes=new Kr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var nv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var rv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pc(r.mutation,i,ln.empty(),dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=Ni();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=uc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=hr(),s=fc(),a=function(){return fc()}();return n.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof zn)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),pc(u.mutation,l,u.mutation.getFieldMask(),dt.now())):s.set(l.key,ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new nv(u,(d=s.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=fc(),i=new Ve((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=r.get(c)||ln.empty();u=a.applyToLocalView(l,u),r.set(c,u);let d=(i.get(a.batchId)||le()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=eA();u.forEach(g=>{if(!o.has(g)){let y=aA(n.get(g),r.get(g));y!==null&&d.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(Ni()),a=-1,c=o;return s.next(l=>M.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(g=>{c=c.insert(u,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,le())).next(u=>({batchId:a,changes:XS(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=uc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=uc();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,c=>{let l=function(d,g){return new ji(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,g)=>{s=s.insert(d,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,Cn.newInvalidDocument(u)))});let a=uc();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&pc(u.mutation,l,ln.empty(),dt.now()),Uh(n,l)&&(a=a.insert(c,l))}),a})}};var iv=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:N3(i.bundledQuery),readTime:Hn(i.readTime)}}(n)),M.resolve()}};var ov=class{constructor(){this.overlays=new Ve(H.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ni();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Ni(),o=n.length+1,s=new H(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ve((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=o.get(l.largestBatchId);u===null&&(u=Ni(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Ni(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return M.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new qy(n,r));let o=this.lr.get(n);o===void 0&&(o=le(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}};var Ic=class{constructor(){this.hr=new vt(Ke.Pr),this.Ir=new vt(Ke.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new Ke(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ke(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new H(new Oe([])),r=new Ke(n,e),i=new Ke(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new H(new Oe([])),r=new Ke(n,e),i=new Ke(n,e+1),o=le();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ke(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return H.comparator(e.key,n.key)||ye(e.gr,n.gr)}static Tr(e,n){return ye(e.gr,n.gr)||H.comparator(e.key,n.key)}};var sv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new vt(Ke.Pr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new By(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.yr=this.yr.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{let a=this.wr(s.gr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(ye);return n.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new H(o),0),a=new vt(ye);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),M.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,i=>{let o=new Ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new Ke(n,0),i=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var av=class{constructor(e){this.Cr=e,this.docs=function(){return new Ve(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hr(),s=n.path,a=new H(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||HU(qU(u),r)<=0||(i.has(u.key)||Uh(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){W()}vr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cv(this)}getSize(e){return M.resolve(this.size)}},cv=class extends tv{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var lv=class{constructor(e){this.persistence=e,this.Fr=new Kr(n=>Jv(n),Zv),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Ic,this.targetCount=0,this.Nr=wc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new wc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}};var uv=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new US(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new lv(this),this.indexManager=new Xy,this.remoteDocumentCache=function(i){return new av(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Zy(n),this.Kr=new iv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ov,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new sv(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new dv(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},dv=class extends Cy{constructor(e){super(),this.currentSequenceNumber=e}},hv=class t{constructor(e){this.persistence=e,this.Gr=new Ic,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{let i=H.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var fv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=le(),i=le();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var pv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var mv=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new pv;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(lc()<=ce.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(lc()<=ce.DEBUG&&F("QueryEngine","Query:",is(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(lc()<=ce.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):M.resolve())}zi(e,n){if(vS(n))return M.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ly(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,Ly(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return vS(n)||i.isEqual(J.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,r,i)?M.resolve(null):(lc()<=ce.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),is(n)),this.Xi(e,s,n,$U(i,-1)).next(a=>a))})}Yi(e,n){let r=new vt(JS(e));return n.forEach((i,o)=>{Uh(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return lc()<=ce.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",is(n)),this.Gi.getDocumentsMatchingQuery(e,n,Vi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var gv=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ve(ye),this.ns=new Kr(o=>Jv(o),Zv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rv(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function O3(t,e,n,r){return new gv(t,e,n,r)}function gA(t,e){return w(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=le();for(let l of i){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function k3(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let d=l.batch,g=d.keys(),y=M.resolve();return g.forEach(C=>{y=y.next(()=>u.getEntry(c,C)).next(T=>{let D=l.docVersions.get(C);xe(D!==null),T.version.compareTo(D)<0&&(d.applyToRemoteDocument(T,l),T.isValidDocument()&&(T.setReadTime(l.commitVersion),u.addEntry(T)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _A(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function F3(t,e){let n=Z(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((u,d)=>{let g=i.get(d);if(!g)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,d)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(St.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):u.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(u.resumeToken,r)),i=i.insert(d,y),function(T,D,O){return T.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(g,y,u)&&a.push(n.qr.updateTargetData(o,y))});let c=hr(),l=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(V3(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(J.min())){let u=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}function V3(t,e,n){let r=le(),i=le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=hr();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(J.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}function L3(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j3(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new vc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function _v(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Sc(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function MS(t,e,n){let r=Z(t),i=J.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let d=Z(c),g=d.ns.get(u);return g!==void 0?M.resolve(d.ts.get(g)):d.qr.getTargetData(l,u)}(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:le())).next(a=>(U3(r,t3(e),a),{documents:a,ls:o})))}function U3(t,e,n){let r=t.rs.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}var yh=class{constructor(){this.activeTargetIds=a3()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var yv=class{constructor(){this.eo=new yh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new yh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var vv=class{ro(e){}shutdown(){}};var vh=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var th=null;function hy(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}var B3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var wv=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var yt="WebChannelConnection",Iv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){let a=hy(),c=this.So(n,r);F("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(u=>(F("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw us("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){let i=B3[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let o=hy();return new Promise((s,a)=>{let c=new cS;c.setWithCredentials(!0),c.listenOnce(sS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xd.NO_ERROR:let u=c.getResponseJson();F(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Xd.TIMEOUT:F(yt,`RPC '${e}' ${o} timed out`),a(new k(A.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:let d=c.getStatus();if(F(yt,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let C=function(D){let O=D.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(O)>=0?O:A.UNKNOWN}(y.status);a(new k(C,y.message))}else a(new k(A.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new k(A.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{F(yt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);F(yt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){let i=hy(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iS(),a=oS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let u=o.join("");F(yt,`Creating RPC '${e}' stream ${i}: ${u}`,c);let d=s.createWebChannel(u,c),g=!1,y=!1,C=new wv({co:D=>{y?F(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(g||(F(yt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),F(yt,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},lo:()=>d.close()}),T=(D,O,ie)=>{D.listen(O,G=>{try{ie(G)}catch(ve){setTimeout(()=>{throw ve},0)}})};return T(d,cc.EventType.OPEN,()=>{y||F(yt,`RPC '${e}' stream ${i} transport opened.`)}),T(d,cc.EventType.CLOSE,()=>{y||(y=!0,F(yt,`RPC '${e}' stream ${i} transport closed`),C.Ro())}),T(d,cc.EventType.ERROR,D=>{y||(y=!0,us(yt,`RPC '${e}' stream ${i} transport errored:`,D),C.Ro(new k(A.UNAVAILABLE,"The operation could not be completed")))}),T(d,cc.EventType.MESSAGE,D=>{var O;if(!y){let ie=D.data[0];xe(!!ie);let G=ie,ve=G.error||((O=G[0])===null||O===void 0?void 0:O.error);if(ve){F(yt,`RPC '${e}' stream ${i} received error:`,ve);let Ye=ve.status,fe=function(Jr){let Wi=We[Jr];if(Wi!==void 0)return lA(Wi)}(Ye),ht=ve.message;fe===void 0&&(fe=A.INTERNAL,ht="Unknown error status: "+Ye+" with message "+ve.message),y=!0,C.Ro(new k(fe,ht)),d.close()}else F(yt,`RPC '${e}' stream ${i} received:`,ie),C.Vo(ie)}}),T(a,aS.STAT_EVENT,D=>{D.stat===uy.PROXY?F(yt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===uy.NOPROXY&&F(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.Ao()},0),C}};function fy(){return typeof document<"u"?document:null}function Bh(t){return new Wy(t,!0)}var wh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Ih=class{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new wh(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return w(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return w(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return w(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new k(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>w(this,null,function*(){this.state=0,this.start()}))}o_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ev=class extends Ih{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=E3(this.serializer,e),r=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?Hn(s.readTime):J.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=Jy(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Fy(c)?{documents:T3(o,c)}:{query:D3(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=uA(o,s.resumeToken);let l=Ky(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=gh(o,s.snapshotVersion.toTimestamp());let l=Ky(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=A3(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=Jy(this.serializer),n.removeTarget=e,this.e_(n)}},Cv=class extends Ih{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=b3(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.I_(r,n)}return xe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Jy(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>C3(this.serializer,r))};this.e_(n)}};var bv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new k(A.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new k(A.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(A.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var Tv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(dr(n),this.f_=!1):F("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var Dv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Gi(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let l=Z(c);l.C_.add(4),yield Ac(l),l.M_.set("Unknown"),l.C_.delete(4),yield $h(l)})}(this))}))}),this.M_=new Tv(r,i)}};function $h(t){return w(this,null,function*(){if(Gi(t))for(let e of t.v_)yield e(!0)})}function Ac(t){return w(this,null,function*(){for(let e of t.v_)yield e(!1)})}function yA(t,e){let n=Z(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),r0(n)?n0(n):Ts(n).Ho()&&t0(n,e))}function vA(t,e){let n=Z(t),r=Ts(n);n.D_.delete(e),r.Ho()&&wA(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Gi(n)&&n.M_.set("Unknown"))}function t0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ts(t).u_(e)}function wA(t,e){t.x_.Oe(e),Ts(t).c_(e)}function n0(t){t.x_=new zy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ts(t).start(),t.M_.g_()}function r0(t){return Gi(t)&&!Ts(t).jo()&&t.D_.size>0}function Gi(t){return Z(t).C_.size===0}function IA(t){t.x_=void 0}function $3(t){return w(this,null,function*(){t.D_.forEach((e,n)=>{t0(t,e)})})}function q3(t,e){return w(this,null,function*(){IA(t),r0(t)?(t.M_.w_(e),n0(t)):t.M_.set("Unknown")})}function H3(t,e,n){return w(this,null,function*(){if(t.M_.set("Online"),e instanceof ph&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Eh(t,r)}else if(e instanceof cs?t.x_.$e(e):e instanceof fh?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(J.min()))try{let r=yield _A(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(St.EMPTY_BYTE_STRING,u.snapshotVersion)),wA(o,c);let d=new vc(u.target,c,l,u.sequenceNumber);t0(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Eh(t,r)}})}function Eh(t,e,n){return w(this,null,function*(){if(!Sc(e))throw e;t.C_.add(1),yield Ac(t),t.M_.set("Offline"),n||(n=()=>_A(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield $h(t)}))})}function EA(t,e){return e().catch(n=>Eh(t,n,e))}function qh(t){return w(this,null,function*(){let e=Z(t),n=Qr(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;G3(e);)try{let i=yield L3(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,z3(e,i)}catch(i){yield Eh(e,i)}CA(e)&&bA(e)})}function G3(t){return Gi(t)&&t.b_.length<10}function z3(t,e){t.b_.push(e);let n=Qr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function CA(t){return Gi(t)&&!Qr(t).jo()&&t.b_.length>0}function bA(t){Qr(t).start()}function W3(t){return w(this,null,function*(){Qr(t).E_()})}function K3(t){return w(this,null,function*(){let e=Qr(t);for(let n of t.b_)e.P_(n.mutations)})}function Q3(t,e,n){return w(this,null,function*(){let r=t.b_.shift(),i=$y.from(r,e,n);yield EA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield qh(t)})}function Y3(t,e){return w(this,null,function*(){e&&Qr(t).h_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return p3(s)&&s!==A.ABORTED}(i.code)){let o=r.b_.shift();Qr(r).Yo(),yield EA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield qh(r)}})}(t,e)),CA(t)&&bA(t)})}function PS(t,e){return w(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=Gi(n);n.C_.add(3),yield Ac(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield $h(n)})}function J3(t,e){return w(this,null,function*(){let n=Z(t);e?(n.C_.delete(2),yield $h(n)):e||(n.C_.add(2),yield Ac(n),n.M_.set("Unknown"))})}function Ts(t){return t.O_||(t.O_=function(n,r,i){let o=Z(n);return o.A_(),new Ev(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:$3.bind(null,t),Io:q3.bind(null,t),a_:H3.bind(null,t)}),t.v_.push(e=>w(this,null,function*(){e?(t.O_.Yo(),r0(t)?n0(t):t.M_.set("Unknown")):(yield t.O_.stop(),IA(t))}))),t.O_}function Qr(t){return t.N_||(t.N_=function(n,r,i){let o=Z(n);return o.A_(),new Cv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:W3.bind(null,t),Io:Y3.bind(null,t),T_:K3.bind(null,t),I_:Q3.bind(null,t)}),t.v_.push(e=>w(this,null,function*(){e?(t.N_.Yo(),yield qh(t)):(yield t.N_.stop(),t.b_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var Sv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new En,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function i0(t,e){if(dr("AsyncQueue",`${e}: ${t}`),Sc(t))return new k(A.UNAVAILABLE,`${e}: ${t}`);throw t}var Ch=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=uc(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var bh=class{constructor(){this.B_=new Ve(H.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):W():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},ws=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Ch.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Av=class{constructor(){this.k_=void 0,this.listeners=[]}},xv=class{constructor(){this.queries=new Kr(e=>YS(e),jh),this.onlineState="Unknown",this.q_=new Set}};function TA(t,e){return w(this,null,function*(){let n=Z(t),r=e.query,i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Av),i)try{o.k_=yield n.onListen(r)}catch(s){let a=i0(s,`Initialization of query '${is(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&o0(n)})}function DA(t,e){return w(this,null,function*(){let n=Z(t),r=e.query,i=!1,o=n.queries.get(r);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function Z3(t,e){let n=Z(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&o0(n)}function X3(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let o of i.listeners)o.onError(n);r.queries.delete(e)}function o0(t){t.q_.forEach(e=>{e.next()})}var Th=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Dh=class{constructor(e){this.key=e}},Sh=class{constructor(e){this.key=e}},Mv=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=le(),this.mutatedKeys=le(),this._a=JS(e),this.aa=new Ch(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new bh,i=n?n.aa:this.aa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{let g=i.get(u),y=Uh(this.query,d)?d:null,C=!!g&&this.mutatedKeys.has(g.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),D=!1;g&&y?g.data.isEqual(y.data)?C!==T&&(r.track({type:3,doc:y}),D=!0):this.ha(g,y)||(r.track({type:2,doc:y}),D=!0,(c&&this._a(y,c)>0||l&&this._a(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),D=!0):g&&!y&&(r.track({type:1,doc:g}),D=!0,(c||l)&&(a=!0)),D&&(y?(s=s.add(y),o=T?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((u,d)=>function(y,C){let T=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return T(y)-T(C)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,l=c!==this.sa;return this.sa=c,s.length!==0||l?{snapshot:new ws(this.query,e.aa,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new bh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=le(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Sh(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Dh(r))}),n}da(e){this.ia=e.ls,this.oa=le();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ws.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Pv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Rv=class{constructor(e){this.key=e,this.Ra=!1}},Nv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Kr(a=>YS(a),jh),this.fa=new Map,this.ga=new Set,this.pa=new Ve(H.comparator),this.ya=new Map,this.wa=new Ic,this.Sa={},this.ba=new Map,this.Da=wc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function eB(t,e){return w(this,null,function*(){let n=uB(t),r,i,o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{let s=yield j3(n.localStore,qn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield tB(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&yA(n.remoteStore,s)}return i})}function tB(t,e,n,r,i){return w(this,null,function*(){t.va=(d,g,y)=>function(T,D,O,ie){return w(this,null,function*(){let G=D.view.ca(O);G.Zi&&(G=yield MS(T.localStore,D.query,!1).then(({documents:ht})=>D.view.ca(ht,G)));let ve=ie&&ie.targetChanges.get(D.targetId),Ye=ie&&ie.targetMismatches.get(D.targetId)!=null,fe=D.view.applyChanges(G,T.isPrimaryClient,ve,Ye);return NS(T,D.targetId,fe.Ta),fe.snapshot})}(t,d,g,y);let o=yield MS(t.localStore,e,!0),s=new Mv(e,o.ls),a=s.ca(o.documents),c=yc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);NS(t,n,l.Ta);let u=new Pv(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot})}function nB(t,e){return w(this,null,function*(){let n=Z(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!jh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _v(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vA(n.remoteStore,r.targetId),Ov(n,r.targetId)}).catch(Dc))):(Ov(n,r.targetId),yield _v(n.localStore,r.targetId,!0))})}function rB(t,e,n){return w(this,null,function*(){let r=dB(t);try{let i=yield function(s,a){let c=Z(s),l=dt.now(),u=a.reduce((y,C)=>y.add(C.key),le()),d,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=hr(),T=le();return c.ss.getEntries(y,u).next(D=>{C=D,C.forEach((O,ie)=>{ie.isValidDocument()||(T=T.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,C)).next(D=>{d=D;let O=[];for(let ie of a){let G=f3(ie,d.get(ie.key).overlayedDocument);G!=null&&O.push(new zn(ie.key,G,qS(G.value.mapValue),Hr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,O,a)}).next(D=>{g=D;let O=D.applyToLocalDocumentSet(d,T);return c.documentOverlayCache.saveOverlays(y,D.batchId,O)})}).then(()=>({batchId:g.batchId,changes:XS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Ve(ye)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield xc(r,i.changes),yield qh(r.remoteStore)}catch(i){let o=i0(i,"Failed to persist write");n.reject(o)}})}function SA(t,e){return w(this,null,function*(){let n=Z(t);try{let r=yield F3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.ya.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?xe(s.Ra):i.removedDocuments.size>0&&(xe(s.Ra),s.Ra=!1))}),yield xc(n,r,e)}catch(r){yield Dc(r)}})}function RS(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=Z(s);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let g of d.listeners)g.Q_(a)&&(l=!0)}),l&&o0(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iB(t,e,n){return w(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),o=i&&i.key;if(o){let s=new Ve(H.comparator);s=s.insert(o,Cn.newNoDocument(o,J.min()));let a=le().add(o),c=new hh(J.min(),new Map,new Ve(ye),s,a);yield SA(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),s0(r)}else yield _v(r.localStore,e,!1).then(()=>Ov(r,e,n)).catch(Dc)})}function oB(t,e){return w(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield k3(n.localStore,e);xA(n,r,null),AA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield xc(n,i)}catch(i){yield Dc(i)}})}function sB(t,e,n){return w(this,null,function*(){let r=Z(t);try{let i=yield function(s,a){let c=Z(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(xe(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);xA(r,e,n),AA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield xc(r,i)}catch(i){yield Dc(i)}})}function AA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function xA(t,e,n){let r=Z(t),i=r.Sa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Ov(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||MA(t,r)})}function MA(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(vA(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),s0(t))}function NS(t,e,n){for(let r of n)r instanceof Dh?(t.wa.addReference(r.key,e),aB(t,r)):r instanceof Sh?(F("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||MA(t,r.key)):W()}function aB(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(F("SyncEngine","New document in limbo: "+n),t.ga.add(r),s0(t))}function s0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new H(Oe.fromString(e)),r=t.Da.next();t.ya.set(r,new Rv(n)),t.pa=t.pa.insert(n,r),yA(t.remoteStore,new vc(qn(Xv(n.path)),r,"TargetPurposeLimboResolution",US._e))}}function xc(t,e,n){return w(this,null,function*(){let r=Z(t),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let u=fv.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.Va.a_(i),yield function(c,l){return w(this,null,function*(){let u=Z(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>M.forEach(l,g=>M.forEach(g.ki,y=>u.persistence.referenceDelegate.addReference(d,g.targetId,y)).next(()=>M.forEach(g.qi,y=>u.persistence.referenceDelegate.removeReference(d,g.targetId,y)))))}catch(d){if(!Sc(d))throw d;F("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let g=d.targetId;if(!d.fromCache){let y=u.ts.get(g),C=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(C);u.ts=u.ts.insert(g,T)}}})}(r.localStore,o))})}function cB(t,e){return w(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield gA(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new k(A.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xc(n,r._s)}})}function lB(t,e){let n=Z(t),r=n.ya.get(e);if(r&&r.Ra)return le().add(r.key);{let i=le(),o=n.fa.get(e);if(!o)return i;for(let s of o){let a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function uB(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iB.bind(null,e),e.Va.a_=Z3.bind(null,e.eventManager),e.Va.Fa=X3.bind(null,e.eventManager),e}function dB(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sB.bind(null,e),e}var Ah=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return O3(this.persistence,new mv,e.initialUser,this.serializer)}createPersistence(e){return new uv(hv.jr,this.serializer)}createSharedClientState(e){return new yv}terminate(){return w(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var kv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cB.bind(null,this.syncEngine),yield J3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new xv}()}createDatastore(e){let n=Bh(e.databaseInfo.databaseId),r=function(o){return new Iv(o)}(e.databaseInfo);return function(o,s,a,c){return new bv(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Dv(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RS(this.syncEngine,n,0),function(){return vh.D()?new vh:new vv}())}createSyncEngine(e,n){return function(i,o,s,a,c,l,u){let d=new Nv(i,o,s,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return w(this,null,function*(){let r=Z(n);F("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Ac(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var xh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Fv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=oh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>w(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return w(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new En;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=i0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function py(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield gA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function OS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield fB(t);F("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>PS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>PS(e.remoteStore,o)),t._onlineComponents=e})}function hB(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function fB(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield py(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!hB(n))throw n;us("Error using user provided cache. Falling back to memory cache: "+n),yield py(t,new Ah)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield py(t,new Ah);return t._offlineComponents})}function PA(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield OS(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield OS(t,new kv))),t._onlineComponents})}function pB(t){return PA(t).then(e=>e.syncEngine)}function RA(t){return w(this,null,function*(){let e=yield PA(t),n=e.eventManager;return n.onListen=eB.bind(null,e.syncEngine),n.onUnlisten=nB.bind(null,e.syncEngine),n})}function mB(t,e,n={}){let r=new En;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,c,l){let u=new xh({next:g=>{s.enqueueAndForget(()=>DA(o,d));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new k(A.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?l.reject(new k(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),d=new Th(Xv(a.path),u,{includeMetadataChanges:!0,J_:!0});return TA(o,d)}(yield RA(t),t.asyncQueue,e,n,r)})),r.promise}function gB(t,e,n={}){let r=new En;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,c,l){let u=new xh({next:g=>{s.enqueueAndForget(()=>DA(o,d)),g.fromCache&&c.source==="server"?l.reject(new k(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),d=new Th(a,u,{includeMetadataChanges:!0,J_:!0});return TA(o,d)}(yield RA(t),t.asyncQueue,e,n,r)})),r.promise}function NA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var kS=new Map;function OA(t,e,n){if(!n)throw new k(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _B(t,e,n,r){if(e===!0&&r===!0)throw new k(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FS(t){if(!H.isDocumentKey(t))throw new k(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VS(t){if(H.isDocumentKey(t))throw new k(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Hh(t);throw new k(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Mh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new k(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new k(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_B("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new k(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new k(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new k(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Is=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new k(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new my;switch(r.type){case"firstParty":return new vy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=kS.get(n);r&&(F("ComponentProvider","Removing Datastore"),kS.delete(n),r.terminate())}(this),Promise.resolve()}};function kA(t,e,n,r={}){var i;let o=(t=Yr(t,Is))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=rt.MOCK_USER;else{a=aT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new k(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new rt(l)}t._authCredentials=new gy(new ih(a,c))}}var Es=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ft=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Gr=class t extends Es{constructor(e,n,r){super(e,n,Xv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function FA(t,e,...n){if(t=Tt(t),OA("collection","path",e),t instanceof Is){let r=Oe.fromString(e,...n);return VS(r),new Gr(t,null,r)}{if(!(t instanceof Ft||t instanceof Gr))throw new k(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return VS(r),new Gr(t.firestore,null,r)}}function a0(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=oh.newId()),OA("doc","path",e),t instanceof Is){let r=Oe.fromString(e,...n);return FS(r),new Ft(t,null,new H(r))}{if(!(t instanceof Ft||t instanceof Gr))throw new k(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return FS(r),new Ft(t.firestore,t instanceof Gr?t.converter:null,new H(r))}}var Vv=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new wh(this,"async_queue_retry"),this.iu=()=>{let n=fy();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=fy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=fy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new En;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return w(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Sc(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=Sv.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&W()}verifyOperationInProgress(){}uu(){return w(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};var qi=class extends Is{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Vv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LA(this),this._firestoreClient.terminate()}};function VA(t,e){let n=typeof t=="object"?t:Na(),r=typeof t=="string"?t:e||"(default)",i=r_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=oT("firestore");o&&kA(i,...o)}return i}function c0(t){return t._firestoreClient||LA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LA(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new by(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,NA(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Fv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ec=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(St.fromBase64String(e))}catch(n){throw new k(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Cs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Cc=class{constructor(e){this._methodName=e}};var bc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var yB=/^__.*__$/,Lv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zn(e,this.data,this.fieldMask,n,this.fieldTransforms):new $i(e,this.data,n,this.fieldTransforms)}},Ph=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function jA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var jv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Nh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(jA(this.Iu)&&yB.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},Uv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}pu(e,n,r,i=!1){return new jv({Iu:e,methodName:n,gu:r,path:zt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function l0(t){let e=t._freezeSettings(),n=Bh(t._databaseId);return new Uv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vB(t,e,n,r,i,o={}){let s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);u0("Data must be an object, but it was:",s,r);let a=UA(r,s),c,l;if(o.merge)c=new ln(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let d of o.mergeFields){let g=Bv(e,d,n);if(!s.contains(g))throw new k(A.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);$A(u,g)||u.push(g)}c=new ln(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new Lv(new Gt(a),c,l)}var Rh=class t extends Cc{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function wB(t,e,n,r){let i=t.pu(1,e,n);u0("Data must be an object, but it was:",i,r);let o=[],s=Gt.empty();Hi(r,(c,l)=>{let u=d0(e,c,n);l=Tt(l);let d=i.Ru(u);if(l instanceof Rh)o.push(u);else{let g=Mc(l,d);g!=null&&(o.push(u),s.set(u,g))}});let a=new ln(o);return new Ph(s,a,i.fieldTransforms)}function IB(t,e,n,r,i,o){let s=t.pu(1,e,n),a=[Bv(e,r,n)],c=[i];if(o.length%2!=0)throw new k(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Bv(e,o[g])),c.push(o[g+1]);let l=[],u=Gt.empty();for(let g=a.length-1;g>=0;--g)if(!$A(l,a[g])){let y=a[g],C=c[g];C=Tt(C);let T=s.Ru(y);if(C instanceof Rh)l.push(y);else{let D=Mc(C,T);D!=null&&(l.push(y),u.set(y,D))}}let d=new ln(l);return new Ph(u,d,s.fieldTransforms)}function EB(t,e,n,r=!1){return Mc(n,t.pu(r?4:3,e))}function Mc(t,e){if(BA(t=Tt(t)))return u0("Unsupported field value:",e,t),UA(t,e);if(t instanceof Cc)return function(r,i){if(!jA(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Mc(a,i.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return c3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=dt.fromDate(r);return{timestampValue:gh(i.serializer,o)}}if(r instanceof dt){let o=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(i.serializer,o)}}if(r instanceof bc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ec)return{bytesValue:uA(i.serializer,r._byteString)};if(r instanceof Ft){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:e0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Hh(r)}`)}(t,e)}function UA(t,e){let n={};return BS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(t,(r,i)=>{let o=Mc(i,e.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function BA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof bc||t instanceof Ec||t instanceof Ft||t instanceof Cc)}function u0(t,e,n){if(!BA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Hh(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function Bv(t,e,n){if((e=Tt(e))instanceof Cs)return e._internalPath;if(typeof e=="string")return d0(t,e);throw Nh("Field path arguments must be of type string or ",t,!1,void 0,n)}var CB=new RegExp("[~\\*/\\[\\]]");function d0(t,e,n){if(e.search(CB)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cs(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new k(A.INVALID_ARGUMENT,a+t+c)}function $A(t,e){return t.some(n=>n.isEqual(e))}var Oh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $v(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(h0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},$v=class extends Oh{data(){return super.data()}};function h0(t,e){return typeof e=="string"?d0(t,e):e instanceof Cs?e._internalPath:e._delegate._internalPath}function bB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tc=class{},qv=class extends Tc{};function qA(t,e,...n){let r=[];e instanceof Tc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof Hv).length,a=o.filter(c=>c instanceof kh).length;if(s>1||s>0&&a>0)throw new k(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var kh=class t extends qv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return GA(e._query,n),new Es(e.firestore,e.converter,Vy(e._query,n))}_parse(e){let n=l0(e.firestore);return function(o,s,a,c,l,u,d){let g;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new k(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){jS(d,u);let y=[];for(let C of d)y.push(LS(c,o,C));g={arrayValue:{values:y}}}else g=LS(c,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||jS(d,u),g=EB(a,s,d,u==="in"||u==="not-in");return Qe.create(l,u,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function HA(t,e,n){let r=e,i=h0("where",t);return kh._create(i,r,n)}var Hv=class t extends Tc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:bn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)GA(s,c),s=Vy(s,c)}(e._query,n),new Es(e.firestore,e.converter,Vy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function LS(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new k(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QS(e)&&n.indexOf("/")!==-1)throw new k(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Oe.fromString(n));if(!H.isDocumentKey(r))throw new k(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fS(t,new H(r))}if(n instanceof Ft)return fS(t,n._key);throw new k(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function jS(t,e){if(!Array.isArray(t)||t.length===0)throw new k(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GA(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new k(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Gv=class{convertValue(e,n="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Hi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new bc(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Qv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){let n=zr(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Oe.fromString(e);xe(mA(r));let i=new lh(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||dr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function TB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ki=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fh=class extends Oh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(h0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ls=class extends Fh{data(e={}){return super.data(e)}},zv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ls(this._firestore,this._userDataWriter,r.key,r,new ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:DB(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function DB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function zA(t){t=Yr(t,Ft);let e=Yr(t.firestore,qi);return mB(c0(e),t._key).then(n=>SB(e,t,n))}var Vh=class extends Gv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}};function WA(t){t=Yr(t,Es);let e=Yr(t.firestore,qi),n=c0(e),r=new Vh(e);return bB(t._query),gB(n,t._query).then(i=>new zv(e,r,t,i))}function KA(t,e,n,...r){t=Yr(t,Ft);let i=Yr(t.firestore,qi),o=l0(i),s;return s=typeof(e=Tt(e))=="string"||e instanceof Cs?IB(o,"updateDoc",t._key,e,n,r):wB(o,"updateDoc",t._key,e),YA(i,[s.toMutation(t._key,Hr.exists(!0))])}function QA(t,e){let n=Yr(t.firestore,qi),r=a0(t),i=TB(t.converter,e);return YA(n,[vB(l0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function YA(t,e){return function(r,i){let o=new En;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return rB(yield pB(r),i,o)})),o.promise}(c0(t),e)}function SB(t,e,n){let r=n.docs.get(e._key),i=new Vh(t);return new Fh(t,i,e._key,r,new ki(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){bs=i})(Qo),Ur(new an("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new qi(new _y(r.getProvider("auth-internal")),new Iy(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new k(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),et(uS,"4.4.0",e),et(uS,"4.4.0","esm2017")})();var zi=class{constructor(e){return e}},JA="firestore",f0=class{constructor(){return ka(JA)}};var p0=new j("angularfire2.firestore-instances");function AB(t,e){let n=s_(JA,t,e);return n&&new zi(n)}function xB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zi(r)}}var MB={provide:f0,deps:[[new Yt,p0]]},PB={provide:zi,useFactory:AB,deps:[[new Yt,p0],Ti]},RB=(()=>{class t{constructor(){et("angularfire",Jo.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=Rt({providers:[PB,MB]})}return t})();function ZA(t,...e){return{ngModule:RB,providers:[{provide:p0,useFactory:xB(t),multi:!0,deps:[we,kt,Fa,Va,[new Yt,bd],[new Yt,Oa],...e]}]}}var m0=qt(QA,!0);var Pc=qt(FA,!0);var Gh=qt(a0,!0);var g0=qt(zA,!0);var _0=qt(WA,!0);var XA=qt(VA,!0);var e1=qt(qA,!0);var t1=qt(KA,!0);var n1=qt(HA,!0);var Ds=(()=>{class t{constructor(n){this.firestore=n}saveMatch(n){return w(this,null,function*(){let r=yield m0(Pc(this.firestore,"matches"),X(P({},n),{heureDebut:n.heureDebut.toISOString(),updatedAt:new Date}));return console.log("Match saved:",r.id),r.id})}getAllMatches(){return w(this,null,function*(){let n=Pc(this.firestore,"matches");return(yield _0(n)).docs.map(i=>{let o=i.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date}})})}getMatchById(n){return w(this,null,function*(){let r=yield g0(Gh(this.firestore,"matches",n));if(r.exists()){let i=r.data();return{equipe1:i.equipe1||"",equipe2:i.equipe2||"",score1:i.score1||0,score2:i.score2||0,buteurs:i.buteurs||[],heureDebut:new Date(i.heureDebut),lieu:i.lieu||"",positions:i.positions||{},showElements:i.showElements!==void 0?i.showElements:!0,competition:i.competition||void 0,updatedAt:i.updatedAt?new Date(i.updatedAt):new Date}}return null})}saveCompetition(n){return w(this,null,function*(){let r=yield m0(Pc(this.firestore,"competitions"),X(P({},n),{createdAt:new Date,updatedAt:new Date}));return console.log("Competition saved:",r.id),r.id})}getCompetitionById(n){return w(this,null,function*(){let r=yield g0(Gh(this.firestore,"competitions",n));return r.exists()?X(P({},r.data()),{id:r.id}):null})}getCompetitionByName(n){return w(this,null,function*(){let r=Pc(this.firestore,"competitions"),i=e1(r,n1("name","==",n)),o=yield _0(i);if(!o.empty){let s=o.docs[0];return X(P({},s.data()),{id:s.id})}return null})}addMatchToCompetition(n,r){return w(this,null,function*(){let i=Gh(this.firestore,"competitions",n),o=yield this.getCompetitionById(n);if(o){let s=[...o.matchIds,r];yield t1(i,{matchIds:s,updatedAt:new Date})}})}getMatchesByCompetition(n){return w(this,null,function*(){let r=yield this.getCompetitionById(n);if(!r)return[];let i=[];for(let o of r.matchIds){let s=yield this.getMatchById(o);s&&i.push(s)}return i})}shareCompetition(n,r,i){return w(this,null,function*(){let o={name:n,matchIds:[],createdAt:new Date,updatedAt:new Date},s=yield this.saveCompetition(o);return i?.("Comp\xE9tition cr\xE9\xE9e"),s})}static{this.\u0275fac=function(r){return new(r||t)(U(zi))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ss=()=>({standalone:!0}),OB=t=>({"disabled-goal":t}),kB=()=>[],FB=(t,e)=>({"text-success":t,"text-danger":e});function VB(t,e){if(t&1){let n=$();f(0,"button",24),b("click",function(){I(n);let i=v();return E(i.showMatchForm=!0)}),S(1,"i",25),f(2,"span",26),m(3," Match"),p()()}if(t&2){let n=v();h(2),_("hidden",n.selectedCompetitionFilter)}}function LB(t,e){if(t&1){let n=$();f(0,"button",24),b("click",function(){I(n);let i=v();return E(i.showTeamFilterModal=!0)}),S(1,"i",27),p()}}function jB(t,e){if(t&1){let n=$();f(0,"button",28),b("click",function(){I(n);let i=v();return E(i.showCompetitionFilterModal=!0)}),S(1,"i",29),f(2,"span",30),m(3),p()()}if(t&2){let n=v();_("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info"),h(3),L(" ",n.selectedCompetitionFilter||"Comp\xE9titions","")}}function UB(t,e){if(t&1){let n=$();f(0,"button",31),b("click",function(){I(n);let i=v();return E(i.showRanking())}),S(1,"i",32)(2,"span"),p()}if(t&2){let n=v();_("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter),h(),Se("text-white",n.selectedCompetitionFilter),h(),Se("text-white",n.selectedCompetitionFilter)}}function BB(t,e){if(t&1){let n=$();f(0,"button",33),b("click",function(){I(n);let i=v();return E(i.shareCompetition())}),S(1,"i",34)(2,"span"),p()}if(t&2){let n=v();_("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter)("disabled",n.isSharingCompetition),h(),Se("text-white",n.selectedCompetitionFilter),_("ngClass",n.isSharingCompetition?"fa-spinner fa-spin":"fa-share-alt"),h(),Se("text-white",n.selectedCompetitionFilter)}}function $B(t,e){if(t&1){let n=$();f(0,"div",44)(1,"input",51),Ge("ngModelChange",function(i){I(n);let o=v(2);return Je(o.selectedTeamFilter,i)||(o.selectedTeamFilter=i),E(i)}),p(),f(2,"label",52),m(3),p()()}if(t&2){let n=e.$implicit,r=v(2);h(),xo("id",n.name),_("value",n.name),He("ngModel",r.selectedTeamFilter),h(),xo("for",n.name),h(),de(n.name)}}function qB(t,e){if(t&1){let n=$();f(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"h5",39),m(5,"S\xE9lectionner une \xC9quipe"),p(),f(6,"button",40),b("click",function(){I(n);let i=v();return E(i.closeTeamFilterModal())}),f(7,"span",41),m(8,"\xD7"),p()()(),f(9,"div",42),x(10,$B,4,5,"div",43),f(11,"div",44)(12,"input",45),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.selectedTeamFilter,i)||(o.selectedTeamFilter=i),E(i)}),p(),f(13,"label",46),m(14,"Toutes les \xE9quipes"),p()()(),f(15,"div",47)(16,"button",48),b("click",function(){I(n);let i=v();return E(i.openNewTeamModal())}),S(17,"i",25),m(18," \xC9quipe "),p(),f(19,"button",49),b("click",function(){I(n);let i=v();return E(i.closeTeamFilterModal())}),m(20,"Fermer"),p(),f(21,"button",50),b("click",function(){I(n);let i=v();return E(i.openEditPlayersModal(i.selectedTeamFilter))}),m(22," \xC9diter "),p()()()()()}if(t&2){let n=v();h(10),_("ngForOf",n.teams),h(2),_("value",""),He("ngModel",n.selectedTeamFilter),h(9),_("disabled",!n.selectedTeamFilter||n.selectedTeamFilter==="")}}function HB(t,e){if(t&1){let n=$();f(0,"div",44)(1,"input",51),Ge("ngModelChange",function(i){I(n);let o=v(2);return Je(o.selectedCompetitionFilter,i)||(o.selectedCompetitionFilter=i),E(i)}),p(),f(2,"label",52)(3,"span",58),m(4),p()()()}if(t&2){let n=e.$implicit,r=v(2);h(),xo("id",n),_("value",n),He("ngModel",r.selectedCompetitionFilter),h(),xo("for",n),h(),_("ngClass",r.getCompetitionBadgeColor(n)),h(),de(n)}}function GB(t,e){if(t&1){let n=$();f(0,"div",53)(1,"div",36)(2,"div",37)(3,"div",38)(4,"h5",54),m(5,"S\xE9lectionner une Comp\xE9tition"),p(),f(6,"button",40),b("click",function(){I(n);let i=v();return E(i.closeCompetitionFilterModal())}),f(7,"span",41),m(8,"\xD7"),p()()(),f(9,"div",42),x(10,HB,5,6,"div",43),f(11,"div",44)(12,"input",55),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.selectedCompetitionFilter,i)||(o.selectedCompetitionFilter=i),E(i)}),p(),f(13,"label",56),m(14,"Toutes les comp\xE9titions"),p()()(),f(15,"div",57)(16,"button",49),b("click",function(){I(n);let i=v();return E(i.closeCompetitionFilterModal())}),m(17,"Fermer"),p()()()()()}if(t&2){let n=v();h(10),_("ngForOf",n.uniqueCompetitions),h(2),_("value",""),He("ngModel",n.selectedCompetitionFilter)}}function zB(t,e){if(t&1){let n=$();f(0,"button",92),b("click",function(){let i=I(n).$implicit,o=v(3);return E(o.selectTeam1(i))}),m(1),p()}if(t&2){let n=e.$implicit;h(),de(n)}}function WB(t,e){if(t&1&&(f(0,"div",90),x(1,zB,2,1,"button",91),p()),t&2){let n=v(2);h(),_("ngForOf",n.filteredTeams1)}}function KB(t,e){if(t&1){let n=$();f(0,"div",93)(1,"button",94),b("click",function(){I(n);let i=v(2);return E(i.selectTeam1(i.team1Search))}),m(2),p()()}if(t&2){let n=v(2);h(2),L(' Cr\xE9er "',n.team1Search,'" ')}}function QB(t,e){if(t&1){let n=$();f(0,"button",92),b("click",function(){let i=I(n).$implicit,o=v(3);return E(o.selectTeam2(i))}),m(1),p()}if(t&2){let n=e.$implicit;h(),de(n)}}function YB(t,e){if(t&1&&(f(0,"div",90),x(1,QB,2,1,"button",91),p()),t&2){let n=v(2);h(),_("ngForOf",n.filteredTeams2)}}function JB(t,e){if(t&1){let n=$();f(0,"div",93)(1,"button",94),b("click",function(){I(n);let i=v(2);return E(i.selectTeam2(i.team2Search))}),m(2),p()()}if(t&2){let n=v(2);h(2),L(' Cr\xE9er "',n.team2Search,'" ')}}function ZB(t,e){if(t&1){let n=$();f(0,"button",92),b("click",function(){let i=I(n).$implicit,o=v(3);return E(o.selectCompetition(i))}),m(1),p()}if(t&2){let n=e.$implicit;h(),de(n)}}function XB(t,e){if(t&1&&(f(0,"div",90),x(1,ZB,2,1,"button",91),p()),t&2){let n=v(2);h(),_("ngForOf",n.filteredCompetitions)}}function e$(t,e){if(t&1){let n=$();f(0,"div",93)(1,"button",94),b("click",function(){I(n);let i=v(2);return E(i.selectCompetition(i.competitionSearch))}),m(2),p()()}if(t&2){let n=v(2);h(2),L(' Cr\xE9er "',n.competitionSearch,'" ')}}function t$(t,e){if(t&1){let n=$();f(0,"div",59)(1,"div",60)(2,"div",37)(3,"div",38)(4,"h4",61),S(5,"i",62),m(6,"Ajouter un Match! "),p(),f(7,"button",63),b("click",function(){I(n);let i=v();return E(i.showMatchForm=!1)}),p()(),f(8,"div",42)(9,"form",64),b("ngSubmit",function(){I(n);let i=v();return E(i.onSubmit())}),f(10,"div",65)(11,"div",66)(12,"div",67)(13,"label",68),m(14,"\xC9quipe 1"),p(),f(15,"input",69),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.team1Search,i)||(o.team1Search=i),E(i)}),b("input",function(){I(n);let i=v();return E(i.updateFilteredTeams1())})("focus",function(){I(n);let i=v();return E(i.updateFilteredTeams1())}),p(),S(16,"input",70),x(17,WB,2,1,"div",71)(18,KB,3,1,"div",72),p(),f(19,"div",67)(20,"label",73),m(21,"\xC9quipe 2"),p(),f(22,"input",74),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.team2Search,i)||(o.team2Search=i),E(i)}),b("input",function(){I(n);let i=v();return E(i.updateFilteredTeams2())})("focus",function(){I(n);let i=v();return E(i.updateFilteredTeams2())}),p(),S(23,"input",75),x(24,YB,2,1,"div",71)(25,JB,3,1,"div",72),p()(),f(26,"div",66)(27,"div",76)(28,"label",77),m(29,"Heure de d\xE9but"),p(),S(30,"input",78),p(),f(31,"div",76)(32,"label",79),m(33,"Lieu du match (optionnel)"),p(),S(34,"input",80),p(),f(35,"div",67)(36,"label",81),m(37,"Comp\xE9tition (optionnel)"),p(),f(38,"input",82),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.competitionSearch,i)||(o.competitionSearch=i),E(i)}),b("input",function(){I(n);let i=v();return E(i.updateFilteredCompetitions())})("focus",function(){I(n);let i=v();return E(i.updateFilteredCompetitions())}),p(),S(39,"input",83),x(40,XB,2,1,"div",71)(41,e$,3,1,"div",72),p()()(),f(42,"div",84)(43,"button",85),m(44," Cr\xE9er le match "),p(),f(45,"button",86),b("click",function(){I(n);let i=v();return E(i.showMatchForm=!1)}),m(46," Annuler "),p(),f(47,"button",87),m(48," \u{1F9F0} "),p(),f(49,"ul",88)(50,"li")(51,"a",89),b("click",function(){I(n);let i=v();return E(i.exportMatches())}),m(52,"Exporter les matchs"),p()(),f(53,"li")(54,"a",89),b("click",function(){I(n);let i=v();return E(i.importMatches())}),m(55,"Importer des matchs"),p()()()()()()()()()}if(t&2){let n=v();h(9),_("formGroup",n.matchForm),h(6),He("ngModel",n.team1Search),_("ngModelOptions",Sr(14,Ss)),h(2),_("ngIf",n.filteredTeams1.length>0&&n.team1Search),h(),_("ngIf",n.team1Search&&n.filteredTeams1.length===0),h(4),He("ngModel",n.team2Search),_("ngModelOptions",Sr(15,Ss)),h(2),_("ngIf",n.filteredTeams2.length>0&&n.team2Search),h(),_("ngIf",n.team2Search&&n.filteredTeams2.length===0),h(13),He("ngModel",n.competitionSearch),_("ngModelOptions",Sr(16,Ss)),h(2),_("ngIf",n.filteredCompetitions.length>0&&n.competitionSearch),h(),_("ngIf",n.competitionSearch&&n.filteredCompetitions.length===0),h(2),_("disabled",!n.matchForm.valid)}}function n$(t,e){t&1&&(f(0,"span",109),m(1,"\u2022"),p())}function r$(t,e){if(t&1&&(f(0,"span"),m(1),p()),t&2){let n=v().$implicit;h(),de(n.lieu)}}function i$(t,e){t&1&&(f(0,"span",109),m(1,"\u2022"),p())}function o$(t,e){if(t&1&&(f(0,"span")(1,"span",58),m(2),p()()),t&2){let n=v().$implicit,r=v(2);h(),_("ngClass",r.getCompetitionBadgeColor(n.competition)),h(),de(n.competition)}}function s$(t,e){t&1&&(f(0,"span"),S(1,"br"),p())}function a$(t,e){t&1&&(f(0,"span"),m(1,","),p())}function c$(t,e){if(t&1&&(f(0,"span",118),m(1),p()),t&2){let n=v(2).$implicit;h(),L("(Assist: ",n.assist,")")}}function l$(t,e){if(t&1&&(Pe(0),x(1,s$,2,0,"span",102),m(2),x(3,a$,2,0,"span",102)(4,c$,2,1,"span",117),Re()),t&2){let n=e.$implicit,r=e.index,i=v().$implicit;h(),_("ngIf",r>0&&r%5===0),h(),L(" ",n,"'"),h(),_("ngIf",r<i.minutes.length-1),h(),_("ngIf",i.assist)}}function u$(t,e){if(t&1&&(f(0,"div")(1,"div",115)(2,"span"),m(3),p(),f(4,"span",116),x(5,l$,5,4,"ng-container",113),p()()()),t&2){let n=e.$implicit;h(3),L("\u26BD ",n.nom,":"),h(2),_("ngForOf",n.minutes)}}function d$(t,e){t&1&&(f(0,"span"),S(1,"br"),p())}function h$(t,e){t&1&&(f(0,"span"),m(1,","),p())}function f$(t,e){if(t&1&&(f(0,"span",118),m(1),p()),t&2){let n=v(2).$implicit;h(),L("(Assist: ",n.assist,")")}}function p$(t,e){if(t&1&&(Pe(0),x(1,d$,2,0,"span",102),m(2),x(3,h$,2,0,"span",102)(4,f$,2,1,"span",117),Re()),t&2){let n=e.$implicit,r=e.index,i=v().$implicit;h(),_("ngIf",r>0&&r%5===0),h(),L(" ",n,"'"),h(),_("ngIf",r<i.minutes.length-1),h(),_("ngIf",i.assist)}}function m$(t,e){if(t&1&&(f(0,"div")(1,"div",119)(2,"span"),m(3),p(),f(4,"span",116),x(5,p$,5,4,"ng-container",113),p()()()),t&2){let n=e.$implicit;h(3),L("\u26BD ",n.nom,":"),h(2),_("ngForOf",n.minutes)}}function g$(t,e){t&1&&(f(0,"span"),S(1,"br"),p())}function _$(t,e){t&1&&(f(0,"span"),m(1,","),p())}function y$(t,e){if(t&1&&(f(0,"span",118),m(1),p()),t&2){let n=v(2).$implicit;h(),L("(Assist: ",n.assist,")")}}function v$(t,e){if(t&1&&(Pe(0),x(1,g$,2,0,"span",102),m(2),x(3,_$,2,0,"span",102)(4,y$,2,1,"span",117),Re()),t&2){let n=e.$implicit,r=e.index,i=v().$implicit;h(),_("ngIf",r>0&&r%5===0),h(),L(" ",n,"'"),h(),_("ngIf",r<i.minutes.length-1),h(),_("ngIf",i.assist)}}function w$(t,e){if(t&1&&(f(0,"div")(1,"div",115)(2,"span"),m(3),p(),f(4,"span",120),x(5,v$,5,4,"ng-container",113),p()()()),t&2){let n=e.$implicit;h(3),L("\u26BD ",n.nom,":"),h(2),_("ngForOf",n.minutes)}}function I$(t,e){t&1&&(f(0,"span"),S(1,"br"),p())}function E$(t,e){t&1&&(f(0,"span"),m(1,","),p())}function C$(t,e){if(t&1&&(f(0,"span",118),m(1),p()),t&2){let n=v(2).$implicit;h(),L("(Assist: ",n.assist,")")}}function b$(t,e){if(t&1&&(Pe(0),x(1,I$,2,0,"span",102),m(2),x(3,E$,2,0,"span",102)(4,C$,2,1,"span",117),Re()),t&2){let n=e.$implicit,r=e.index,i=v().$implicit;h(),_("ngIf",r>0&&r%5===0),h(),L(" ",n,"'"),h(),_("ngIf",r<i.minutes.length-1),h(),_("ngIf",i.assist)}}function T$(t,e){if(t&1&&(f(0,"div")(1,"div",119)(2,"span"),m(3),p(),f(4,"span",120),x(5,b$,5,4,"ng-container",113),p()()()),t&2){let n=e.$implicit;h(3),L("\u26BD ",n.nom,":"),h(2),_("ngForOf",n.minutes)}}function D$(t,e){if(t&1&&(f(0,"div",110)(1,"div",111)(2,"div",112),x(3,u$,6,2,"div",113)(4,m$,6,2,"div",113),p(),f(5,"div",114),x(6,w$,6,2,"div",113)(7,T$,6,2,"div",113),p()()()),t&2){let n=v().$implicit,r=v(2);h(3),_("ngForOf",r.getActiveGroupedScorers(n,1)),h(),_("ngForOf",r.getDisabledGroupedScorers(n,1)),h(2),_("ngForOf",r.getActiveGroupedScorers(n,2)),h(),_("ngForOf",r.getDisabledGroupedScorers(n,2))}}function S$(t,e){if(t&1){let n=$();f(0,"div",121)(1,"button",122),b("click",function(){I(n);let i=v().$implicit,o=v(2);return E(o.selectMatch(i))}),S(2,"i",123),p(),f(3,"button",124),b("click",function(){I(n);let i=v().$implicit,o=v(2);return E(o.openDispositionModal(i))}),S(4,"i",125),p(),f(5,"button",126),b("click",function(){I(n);let i=v().$implicit,o=v(2);return E(o.toggleMatchEditForm(i))}),S(6,"i",34),p(),f(7,"button",127),b("click",function(){I(n);let i=v().$implicit,o=v(2);return E(o.shareMatch(i))}),S(8,"i",34),f(9,"span",128),m(10,"Partager"),p()()()}if(t&2){let n=v(3);h(6),_("ngClass",n.showMatchEditForm?"fa-pen-fancy":"fa-edit"),h(),_("disabled",n.isSharingMatch),h(),_("ngClass",n.isSharingMatch?"fa-spinner fa-spin":"fa-share-alt")}}function A$(t,e){if(t&1){let n=$();f(0,"div",98)(1,"div",99)(2,"div",100)(3,"span"),m(4),zs(5,"date"),p(),x(6,n$,2,0,"span",101)(7,r$,2,1,"span",102)(8,i$,2,0,"span",101)(9,o$,3,2,"span",102),f(10,"button",103),b("click",function(){let i=I(n).$implicit,o=v(2);return E(o.toggleVisibility(i))}),S(11,"i",34),p()(),f(12,"div",104)(13,"div",105),m(14),p(),f(15,"button",106),b("click",function(){let i=I(n).$implicit,o=v(2);return E(o.selectMatch(i))}),m(16),p(),f(17,"div",105),m(18),p()(),x(19,D$,8,4,"div",107)(20,S$,11,3,"div",108),p()()}if(t&2){let n=e.$implicit;Dr("data-match-id",n.id),h(4),de(Ws(5,13,n.heureDebut,"EEEE d MMMM yyyy HH:mm")),h(2),_("ngIf",n.lieu),h(),_("ngIf",n.lieu),h(),_("ngIf",n.competition),h(),_("ngIf",n.competition),h(2),_("ngClass",n.showElements?"fa-chevron-up":"fa-chevron-right"),h(3),de(n.equipe1),h(2),yn(" ",n.score1," - ",n.score2," "),h(2),de(n.equipe2),h(),_("ngIf",n.showElements&&n.buteurs.length>0),h(),_("ngIf",n.showElements)}}function x$(t,e){if(t&1&&(f(0,"div",95),S(1,"h2"),f(2,"div",96),x(3,A$,21,16,"div",97),p()()),t&2){let n=v();h(3),_("ngForOf",n.getSortedMatches())}}function M$(t,e){if(t&1&&(Pe(0),m(1),f(2,"div",151),m(3),p(),Re()),t&2){let n=v(2);h(),yn(" ",n.selectedMatch.score1," - ",n.selectedMatch.score2," "),h(2),yn(" (",n.getActiveGoalsCount(1)," - ",n.getActiveGoalsCount(2)," buts actifs) ")}}function P$(t,e){if(t&1){let n=$();Pe(0),f(1,"div",152)(2,"input",153),Ge("ngModelChange",function(i){I(n);let o=v(2);return Je(o.selectedMatch.score1,i)||(o.selectedMatch.score1=i),E(i)}),b("input",function(){I(n);let i=v(2);return i.selectedMatch.score1=i.validateScore(i.selectedMatch.score1),E(i.onScoreChange())}),p(),f(3,"span"),m(4,"-"),p(),f(5,"input",153),Ge("ngModelChange",function(i){I(n);let o=v(2);return Je(o.selectedMatch.score2,i)||(o.selectedMatch.score2=i),E(i)}),b("input",function(){I(n);let i=v(2);return i.selectedMatch.score2=i.validateScore(i.selectedMatch.score2),E(i.onScoreChange())}),p()(),Re()}if(t&2){let n=v(2);h(2),He("ngModel",n.selectedMatch.score1),h(3),He("ngModel",n.selectedMatch.score2)}}function R$(t,e){if(t&1&&(f(0,"option",165),m(1),p()),t&2){let n=e.$implicit;_("value",n),h(),L(" ",n," ")}}function N$(t,e){if(t&1){let n=$();f(0,"div",154)(1,"div",60)(2,"div",37)(3,"div",38)(4,"h5",155),m(5),p(),f(6,"button",156),b("click",function(){I(n);let i=v(2);return E(i.showButeurForm=!1)}),p()(),f(7,"div",42)(8,"form",64),b("ngSubmit",function(){I(n);let i=v(2);return E(i.ajouterButeur())}),f(9,"div",157)(10,"div",158)(11,"label",159),m(12,"Nom du buteur"),p(),S(13,"input",160),p(),f(14,"div",161)(15,"label",159),m(16,"Minute"),p(),S(17,"input",162),p(),f(18,"div",163)(19,"label",159),m(20,"\xC9quipe"),p(),f(21,"select",164)(22,"option",165),m(23),p(),f(24,"option",165),m(25),p()()(),f(26,"div",166)(27,"label",159),m(28,"Assist (optionnel)"),p(),f(29,"select",167)(30,"option",168),m(31,"Aucun assist"),p(),x(32,R$,2,2,"option",169),p()()(),f(33,"div",170)(34,"button",171),b("click",function(){let i;I(n);let o=v(2);return E(o.addNewPlayer((i=o.buteurForm.get("nom"))==null?null:i.value))}),m(35),p(),f(36,"button",49),b("click",function(){I(n);let i=v(2);return E(i.annulerEditionButeur())}),m(37," Annuler "),p()()()()()()()}if(t&2){let n,r=v(2);h(5),de(r.editingButeur?"Modifier le buteur":"Nouveau buteur"),h(3),_("formGroup",r.buteurForm),h(14),_("value",1),h(),de(r.selectedMatch.equipe1),h(),_("value",2),h(),de(r.selectedMatch.equipe2),h(7),_("ngForOf",r.getTeamPlayers((n=r.buteurForm.get("equipe"))==null?null:n.value)),h(2),_("disabled",!r.buteurForm.valid),h(),L(" ",r.editingButeur?"Enregistrer":"Ajouter"," ")}}function O$(t,e){t&1&&S(0,"i",176)}function k$(t,e){t&1&&S(0,"i",177)}function F$(t,e){t&1&&S(0,"i",178)}function V$(t,e){if(t&1){let n=$();f(0,"button",172),b("click",function(){let i=I(n).$implicit,o=v(2);return E(o.quickAddGoal(i.name,1))}),x(1,O$,1,0,"i",173)(2,k$,1,0,"i",174)(3,F$,1,0,"i",175),m(4),p()}if(t&2){let n=e.$implicit;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function L$(t,e){if(t&1){let n=$();f(0,"button",172),b("click",function(){I(n);let i=v(2);return E(i.showButeurForm=!0)}),m(1," + "),p()}}function j$(t,e){t&1&&S(0,"i",176)}function U$(t,e){t&1&&S(0,"i",177)}function B$(t,e){t&1&&S(0,"i",178)}function $$(t,e){if(t&1){let n=$();f(0,"button",179),b("click",function(){let i=I(n).$implicit,o=v(2);return E(o.quickAddGoal(i.name,2))}),x(1,j$,1,0,"i",173)(2,U$,1,0,"i",174)(3,B$,1,0,"i",175),m(4),p()}if(t&2){let n=e.$implicit;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function q$(t,e){if(t&1){let n=$();f(0,"button",179),b("click",function(){I(n);let i=v(2);return E(i.showButeurForm=!0)}),m(1," + "),p()}}function H$(t,e){if(t&1){let n=$();f(0,"div",181)(1,"div",182)(2,"span",183)(3,"strong",184),m(4),p()(),f(5,"div")(6,"button",185),b("click",function(){let i=I(n).index,o=v(3);return E(o.modifierButeur(o.matches.indexOf(o.selectedMatch),i))}),S(7,"i",186),p(),f(8,"button",187),b("click",function(){let i=I(n).index,o=v(3);return E(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),i))}),S(9,"i",188),p()()()()}if(t&2){let n=e.$implicit,r=e.index,i=v(3);h(),_("ngClass",SE(3,OB,i.isGoalDisabled(r))),h(2),_("ngClass",n.equipe===1?"buteur-team1":"buteur-team2"),h(),de(i.getButeurDisplay(n))}}function G$(t,e){if(t&1&&(f(0,"div"),x(1,H$,10,5,"div",180),p()),t&2){let n=v(2);h(),_("ngForOf",n.selectedMatch.buteurs)}}function z$(t,e){t&1&&S(0,"i",176)}function W$(t,e){t&1&&S(0,"i",177)}function K$(t,e){t&1&&S(0,"i",178)}function Q$(t,e){if(t&1){let n=$();f(0,"button",194),b("click",function(){let i=I(n).$implicit,o=v(3);return E(o.assignPlayerToPosition(i.name))}),x(1,z$,1,0,"i",173)(2,W$,1,0,"i",174)(3,K$,1,0,"i",175),m(4),p()}if(t&2){let n=e.$implicit;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function Y$(t,e){if(t&1){let n=$();f(0,"div",189)(1,"div",190)(2,"h6"),m(3),p(),f(4,"div",191),x(5,Q$,5,4,"button",192),p(),f(6,"button",193),b("click",function(){I(n);let i=v(2);return E(i.selectedPosition=null)}),m(7," Annuler "),p()()()}if(t&2){let n=v(2);h(3),L("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),h(2),_("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function J$(t,e){if(t&1){let n=$();f(0,"div",129)(1,"div",130)(2,"button",131),b("click",function(){I(n);let i=v();return E(i.showScoreForm=!1)}),m(3,"\xD7"),p(),f(4,"h3",132),m(5,"Modifier le score"),p(),S(6,"br"),f(7,"div",133)(8,"div",104)(9,"div",105),m(10),p(),f(11,"div",134),b("click",function(){I(n);let i=v();return E(i.showScoreForm=!0)}),x(12,M$,4,4,"ng-container",102)(13,P$,6,2,"ng-container",102),p(),f(14,"div",105),m(15),p()()(),x(16,N$,38,9,"div",135),f(17,"div",95)(18,"div",136)(19,"div",137)(20,"h5",138),m(21),p(),f(22,"div",139),x(23,V$,5,4,"button",140)(24,L$,2,0,"button",141),p()(),f(25,"div",137)(26,"h5",142),m(27),p(),f(28,"div",143),x(29,$$,5,4,"button",144)(30,q$,2,0,"button",145),p()()()(),f(31,"div",146)(32,"div",147),b("click",function(){I(n);let i=v();return E(i.toggleButeursList())}),f(33,"h4")(34,"span",148),m(35),p(),m(36),p()(),x(37,G$,2,1,"div",102),p(),x(38,Y$,8,2,"div",149),f(39,"div",150)(40,"button",49),b("click",function(){I(n);let i=v();return E(i.selectedMatch=null)}),m(41," Fermer "),p()()()()}if(t&2){let n=v();h(10),de(n.selectedMatch.equipe1),h(2),_("ngIf",!n.showScoreForm),h(),_("ngIf",n.showScoreForm),h(2),de(n.selectedMatch.equipe2),h(),_("ngIf",n.showButeurForm),h(5),de(n.selectedMatch.equipe1),h(2),_("ngForOf",n.getTeamPlayers(1)),h(),_("ngIf",!n.showButeurForm),h(3),de(n.selectedMatch.equipe2),h(2),_("ngForOf",n.getTeamPlayers(2)),h(),_("ngIf",!n.showButeurForm),h(5),de(n.showButeursList?"\u25BC":"\u25B6"),h(),L(" Buteurs (",n.selectedMatch.buteurs.length,") "),h(),_("ngIf",n.showButeursList),h(),_("ngIf",n.selectedPosition&&n.selectedMatch)}}function Z$(t,e){if(t&1&&(f(0,"option",165),m(1),p()),t&2){let n=e.$implicit;_("value",n.name),h(),de(n.name)}}function X$(t,e){if(t&1&&(f(0,"option",165),m(1),p()),t&2){let n=e.$implicit;_("value",n.name),h(),de(n.name)}}function e4(t,e){if(t&1){let n=$();f(0,"div",195)(1,"div",37)(2,"span",131),b("click",function(){I(n);let i=v();return E(i.showMatchEditForm=!1)}),m(3,"\xD7"),p(),f(4,"h3"),m(5,"Modifier le match"),p(),f(6,"form",64),b("ngSubmit",function(){I(n);let i=v();return E(i.onSubmitMatchEdit())}),f(7,"div",196)(8,"button",197),b("click",function(){I(n);let i=v();return E(i.supprimerMatch(i.selectedMatch))}),S(9,"i",188),m(10," Supprimer le match "),p()(),f(11,"div",198)(12,"label",199),m(13,"\xC9quipe 1:"),p(),f(14,"select",200,0),b("change",function(){I(n);let i=im(15),o=v();return E(i.value==="new"&&o.editNewTeam(i))}),x(16,Z$,2,2,"option",169),f(17,"option",201),m(18,"+ Ajouter une nouvelle \xE9quipe"),p()()(),f(19,"div",198)(20,"label",202),m(21,"\xC9quipe 2:"),p(),f(22,"select",203,1),b("change",function(){I(n);let i=im(23),o=v();return E(i.value==="new"&&o.editNewTeam(i))}),x(24,X$,2,2,"option",169),f(25,"option",201),m(26,"+ Ajouter une nouvelle \xE9quipe"),p()()(),f(27,"div",198)(28,"label",204),m(29,"Heure de d\xE9but:"),p(),S(30,"input",205),p(),f(31,"div",198)(32,"label",206),m(33,"Lieu:"),p(),S(34,"input",207),p(),f(35,"div",198)(36,"label",208),m(37,"Comp\xE9tition:"),p(),S(38,"input",209),p(),f(39,"div",196)(40,"button",210),b("click",function(){I(n);let i=v();return E(i.onSubmitMatchEdit())}),m(41,"Enregistrer les Modifications"),p()()()()()}if(t&2){let n=v();h(6),_("formGroup",n.matchEditForm),h(10),_("ngForOf",n.teams),h(8),_("ngForOf",n.teams)}}function t4(t,e){if(t&1&&(f(0,"span",224),m(1," \u2022 "),p()),t&2){let n=e.index,r=v(2);Se("fade",n>=r.remainingDots)}}function n4(t,e){if(t&1&&(f(0,"option",225),m(1),p()),t&2){let n=e.$implicit,r=v(2);_("value",n.name)("disabled",n.name===r.lastGoalScorer),h(),L(" ",n.name," ")}}function r4(t,e){if(t&1){let n=$();f(0,"div",211)(1,"div",212)(2,"div",213),m(3,"BUUUT !"),p(),f(4,"div",214),m(5),p(),f(6,"div",215),m(7),p(),f(8,"div",216),m(9,"\u26BD\u26BD"),p(),f(10,"div",217),x(11,t4,2,2,"span",218),p(),f(12,"div",219)(13,"select",220),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.lastGoalAssist,i)||(o.lastGoalAssist=i),E(i)}),f(14,"option",168),m(15,"Aucun assist"),p(),x(16,n4,2,3,"option",221),p(),f(17,"div",222)(18,"button",106),b("click",function(){I(n);let i=v();return E(i.saveGoalWithAssist())}),m(19," Enregistrer "),p(),f(20,"button",223),b("click",function(){I(n);let i=v();return E(i.cancelGoal())}),m(21," Annuler "),p()()()()()}if(t&2){let n=v();h(5),L(" ",n.lastGoalScorer," "),h(2),L(" ",n.lastGoalTeam," "),h(4),_("ngForOf",Sr(5,kB).constructor(5)),h(2),He("ngModel",n.lastGoalAssist),h(3),_("ngForOf",n.getTeamPlayers(n.lastGoalTeam===(n.selectedMatch==null?null:n.selectedMatch.equipe1)?1:2))}}function i4(t,e){t&1&&(f(0,"span",245),m(1,"-"),p())}function o4(t,e){t&1&&S(0,"i",176)}function s4(t,e){t&1&&S(0,"i",177)}function a4(t,e){t&1&&S(0,"i",178)}function c4(t,e){if(t&1&&(Pe(0),x(1,o4,1,0,"i",173)(2,s4,1,0,"i",174)(3,a4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function l4(t,e){t&1&&S(0,"i",176)}function u4(t,e){t&1&&S(0,"i",177)}function d4(t,e){t&1&&S(0,"i",178)}function h4(t,e){if(t&1&&(Pe(0),x(1,l4,1,0,"i",173)(2,u4,1,0,"i",174)(3,d4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function f4(t,e){if(t&1){let n=$();f(0,"div")(1,"div",246),b("click",function(){I(n);let i=v(2);return E(i.selectPosition(1,"milieu-offensif"))}),f(2,"div",234)(3,"span",235),m(4,"MO"),p(),f(5,"span",237),x(6,h4,5,4,"ng-container",102),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),h(4),_("ngIf",n.getPlayerForPosition(1,"milieu-offensif"))}}function p4(t,e){t&1&&S(0,"i",176)}function m4(t,e){t&1&&S(0,"i",177)}function g4(t,e){t&1&&S(0,"i",178)}function _4(t,e){if(t&1&&(Pe(0),x(1,p4,1,0,"i",173)(2,m4,1,0,"i",174)(3,g4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function y4(t,e){t&1&&S(0,"i",176)}function v4(t,e){t&1&&S(0,"i",177)}function w4(t,e){t&1&&S(0,"i",178)}function I4(t,e){if(t&1&&(Pe(0),x(1,y4,1,0,"i",173)(2,v4,1,0,"i",174)(3,w4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function E4(t,e){t&1&&S(0,"i",176)}function C4(t,e){t&1&&S(0,"i",177)}function b4(t,e){t&1&&S(0,"i",178)}function T4(t,e){if(t&1&&(Pe(0),x(1,E4,1,0,"i",173)(2,C4,1,0,"i",174)(3,b4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function D4(t,e){t&1&&S(0,"i",176)}function S4(t,e){t&1&&S(0,"i",177)}function A4(t,e){t&1&&S(0,"i",178)}function x4(t,e){if(t&1&&(Pe(0),x(1,D4,1,0,"i",173)(2,S4,1,0,"i",174)(3,A4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function M4(t,e){if(t&1){let n=$();f(0,"div")(1,"div",247),b("click",function(){I(n);let i=v(2);return E(i.selectPosition(1,"defenseur-gauche"))}),f(2,"div",234)(3,"span",235),m(4,"DG"),p(),f(5,"span",237),x(6,x4,5,4,"ng-container",102),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),h(4),_("ngIf",n.getPlayerForPosition(1,"defenseur-gauche"))}}function P4(t,e){t&1&&S(0,"i",176)}function R4(t,e){t&1&&S(0,"i",177)}function N4(t,e){t&1&&S(0,"i",178)}function O4(t,e){if(t&1&&(Pe(0),x(1,P4,1,0,"i",173)(2,R4,1,0,"i",174)(3,N4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function k4(t,e){if(t&1){let n=$();f(0,"div")(1,"div",248),b("click",function(){I(n);let i=v(2);return E(i.selectPosition(1,"defenseur-droit"))}),f(2,"div",234)(3,"span",235),m(4,"DD"),p(),f(5,"span",237),x(6,O4,5,4,"ng-container",102),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),h(4),_("ngIf",n.getPlayerForPosition(1,"defenseur-droit"))}}function F4(t,e){t&1&&S(0,"i",176)}function V4(t,e){t&1&&S(0,"i",177)}function L4(t,e){t&1&&S(0,"i",178)}function j4(t,e){if(t&1&&(Pe(0),x(1,F4,1,0,"i",173)(2,V4,1,0,"i",174)(3,L4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function U4(t,e){t&1&&(f(0,"span",245),m(1,"-"),p())}function B4(t,e){t&1&&S(0,"i",176)}function $4(t,e){t&1&&S(0,"i",177)}function q4(t,e){t&1&&S(0,"i",178)}function H4(t,e){if(t&1&&(Pe(0),x(1,B4,1,0,"i",173)(2,$4,1,0,"i",174)(3,q4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function G4(t,e){t&1&&S(0,"i",176)}function z4(t,e){t&1&&S(0,"i",177)}function W4(t,e){t&1&&S(0,"i",178)}function K4(t,e){if(t&1&&(Pe(0),x(1,G4,1,0,"i",173)(2,z4,1,0,"i",174)(3,W4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function Q4(t,e){if(t&1){let n=$();f(0,"div")(1,"div",246),b("click",function(){I(n);let i=v(2);return E(i.selectPosition(2,"milieu-offensif"))}),f(2,"div",234)(3,"span",235),m(4,"MO"),p(),f(5,"span",237),x(6,K4,5,4,"ng-container",102),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),h(4),_("ngIf",n.getPlayerForPosition(2,"milieu-offensif"))}}function Y4(t,e){t&1&&S(0,"i",176)}function J4(t,e){t&1&&S(0,"i",177)}function Z4(t,e){t&1&&S(0,"i",178)}function X4(t,e){if(t&1&&(Pe(0),x(1,Y4,1,0,"i",173)(2,J4,1,0,"i",174)(3,Z4,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function eq(t,e){t&1&&S(0,"i",176)}function tq(t,e){t&1&&S(0,"i",177)}function nq(t,e){t&1&&S(0,"i",178)}function rq(t,e){if(t&1&&(Pe(0),x(1,eq,1,0,"i",173)(2,tq,1,0,"i",174)(3,nq,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function iq(t,e){t&1&&S(0,"i",176)}function oq(t,e){t&1&&S(0,"i",177)}function sq(t,e){t&1&&S(0,"i",178)}function aq(t,e){if(t&1&&(Pe(0),x(1,iq,1,0,"i",173)(2,oq,1,0,"i",174)(3,sq,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function cq(t,e){t&1&&S(0,"i",176)}function lq(t,e){t&1&&S(0,"i",177)}function uq(t,e){t&1&&S(0,"i",178)}function dq(t,e){if(t&1&&(Pe(0),x(1,cq,1,0,"i",173)(2,lq,1,0,"i",174)(3,uq,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function hq(t,e){if(t&1){let n=$();f(0,"div")(1,"div",247),b("click",function(){I(n);let i=v(2);return E(i.selectPosition(2,"defenseur-gauche"))}),f(2,"div",234)(3,"span",235),m(4,"DG"),p(),f(5,"span",237),x(6,dq,5,4,"ng-container",102),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),h(4),_("ngIf",n.getPlayerForPosition(2,"defenseur-gauche"))}}function fq(t,e){t&1&&S(0,"i",176)}function pq(t,e){t&1&&S(0,"i",177)}function mq(t,e){t&1&&S(0,"i",178)}function gq(t,e){if(t&1&&(Pe(0),x(1,fq,1,0,"i",173)(2,pq,1,0,"i",174)(3,mq,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function _q(t,e){if(t&1){let n=$();f(0,"div")(1,"div",248),b("click",function(){I(n);let i=v(2);return E(i.selectPosition(2,"defenseur-droit"))}),f(2,"div",234)(3,"span",235),m(4,"DD"),p(),f(5,"span",237),x(6,gq,5,4,"ng-container",102),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),h(4),_("ngIf",n.getPlayerForPosition(2,"defenseur-droit"))}}function yq(t,e){t&1&&S(0,"i",176)}function vq(t,e){t&1&&S(0,"i",177)}function wq(t,e){t&1&&S(0,"i",178)}function Iq(t,e){if(t&1&&(Pe(0),x(1,yq,1,0,"i",173)(2,vq,1,0,"i",174)(3,wq,1,0,"i",175),m(4),Re()),t&2){let n=e.ngIf;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function Eq(t,e){t&1&&S(0,"div")}function Cq(t,e){t&1&&S(0,"i",176)}function bq(t,e){t&1&&S(0,"i",177)}function Tq(t,e){t&1&&S(0,"i",178)}function Dq(t,e){if(t&1){let n=$();f(0,"button",194),b("click",function(){let i=I(n).$implicit,o=v(3);return E(o.assignPlayerToPosition(i.name))}),x(1,Cq,1,0,"i",173)(2,bq,1,0,"i",174)(3,Tq,1,0,"i",175),m(4),p()}if(t&2){let n=e.$implicit;h(),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="defenseur"),h(),_("ngIf",n.type==="milieu"),h(),L(" ",n.name," ")}}function Sq(t,e){if(t&1){let n=$();f(0,"div",189)(1,"div",190)(2,"h6"),m(3),p(),f(4,"div",191),x(5,Dq,5,4,"button",192),p(),f(6,"button",193),b("click",function(){I(n);let i=v(2);return E(i.selectedPosition=null)}),m(7," Annuler "),p()()()}if(t&2){let n=v(2);h(3),L("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),h(2),_("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function Aq(t,e){if(t&1){let n=$();f(0,"div",226)(1,"div",227)(2,"button",131),b("click",function(){I(n);let i=v();return E(i.closeDispositionModal())}),m(3,"\xD7"),p(),f(4,"h3"),m(5,"Disposition tactique"),p(),f(6,"button",228),b("click",function(){I(n);let i=v();return E(i.toggleDefendersAndMidfielders())}),m(7),p(),f(8,"div",229)(9,"div",230)(10,"div",231)(11,"h5",138),m(12),p(),f(13,"div",232)(14,"div",233),b("click",function(){I(n);let i=v();return E(i.selectPosition(1,"attaquant"))}),f(15,"div",234)(16,"span",235),m(17,"AT"),p(),x(18,i4,2,0,"span",236),f(19,"span",237),x(20,c4,5,4,"ng-container",102),p()()(),x(21,f4,7,3,"div",102),f(22,"div",238),b("click",function(){I(n);let i=v();return E(i.selectPosition(1,"milieu-gauche"))}),f(23,"div",234)(24,"span",235),m(25,"MG"),p(),f(26,"span",237),x(27,_4,5,4,"ng-container",102),p()()(),f(28,"div",239),b("click",function(){I(n);let i=v();return E(i.selectPosition(1,"milieu-droit"))}),f(29,"div",234)(30,"span",235),m(31,"MD"),p(),f(32,"span",237),x(33,I4,5,4,"ng-container",102),p()()(),f(34,"div",240),b("click",function(){I(n);let i=v();return E(i.selectPosition(1,"defenseur-central"))}),f(35,"div",234)(36,"span",235),m(37,"DC"),p(),f(38,"span",237),x(39,T4,5,4,"ng-container",102),p()()(),x(40,M4,7,3,"div",102)(41,k4,7,3,"div",102),f(42,"div",241),b("click",function(){I(n);let i=v();return E(i.selectPosition(1,"gardien"))}),f(43,"div",234)(44,"span",235),m(45,"G"),p(),f(46,"span",237),x(47,j4,5,4,"ng-container",102),p()()()()(),f(48,"div",242)(49,"h5",142),m(50),p(),f(51,"div",232)(52,"div",233),b("click",function(){I(n);let i=v();return E(i.selectPosition(2,"attaquant"))}),f(53,"div",234)(54,"span",235),m(55,"AT"),p(),x(56,U4,2,0,"span",236),f(57,"span",237),x(58,H4,5,4,"ng-container",102),p()()(),x(59,Q4,7,3,"div",102),f(60,"div",238),b("click",function(){I(n);let i=v();return E(i.selectPosition(2,"milieu-gauche"))}),f(61,"div",234)(62,"span",235),m(63,"MG"),p(),f(64,"span",237),x(65,X4,5,4,"ng-container",102),p()()(),f(66,"div",239),b("click",function(){I(n);let i=v();return E(i.selectPosition(2,"milieu-droit"))}),f(67,"div",234)(68,"span",235),m(69,"MD"),p(),f(70,"span",237),x(71,rq,5,4,"ng-container",102),p()()(),f(72,"div",240),b("click",function(){I(n);let i=v();return E(i.selectPosition(2,"defenseur-central"))}),f(73,"div",234)(74,"span",235),m(75,"DC"),p(),f(76,"span",237),x(77,aq,5,4,"ng-container",102),p()()(),x(78,hq,7,3,"div",102)(79,_q,7,3,"div",102),f(80,"div",241),b("click",function(){I(n);let i=v();return E(i.selectPosition(2,"gardien"))}),f(81,"div",234)(82,"span",235),m(83,"G"),p(),f(84,"span",237),x(85,Iq,5,4,"ng-container",102),p()()(),x(86,Eq,1,0,"div",102),p()()(),f(87,"div",243)(88,"p",244),m(89," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),p()()(),x(90,Sq,8,2,"div",149),p()()}if(t&2){let n=v();h(7),L(" ",n.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),h(5),de(n.selectedMatch.equipe1),h(3),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),h(3),_("ngIf",n.getPlayerForPosition(1,"attaquant")),h(2),_("ngIf",n.getPlayerForPosition(1,"attaquant")),h(),_("ngIf",n.showDefendersAndMidfielders),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),h(4),_("ngIf",n.getPlayerForPosition(1,"milieu-gauche")),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),h(4),_("ngIf",n.getPlayerForPosition(1,"milieu-droit")),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),h(4),_("ngIf",n.getPlayerForPosition(1,"defenseur-central")),h(),_("ngIf",n.showDefendersAndMidfielders),h(),_("ngIf",n.showDefendersAndMidfielders),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),h(4),_("ngIf",n.getPlayerForPosition(1,"gardien")),h(3),de(n.selectedMatch.equipe2),h(3),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),h(3),_("ngIf",n.getPlayerForPosition(2,"attaquant")),h(2),_("ngIf",n.getPlayerForPosition(2,"attaquant")),h(),_("ngIf",n.showDefendersAndMidfielders),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),h(4),_("ngIf",n.getPlayerForPosition(2,"milieu-gauche")),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),h(4),_("ngIf",n.getPlayerForPosition(2,"milieu-droit")),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),h(4),_("ngIf",n.getPlayerForPosition(2,"defenseur-central")),h(),_("ngIf",n.showDefendersAndMidfielders),h(),_("ngIf",n.showDefendersAndMidfielders),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),h(4),_("ngIf",n.getPlayerForPosition(2,"gardien")),h(),_("ngIf",n.showDefendersAndMidfielders),h(4),_("ngIf",n.selectedPosition&&n.selectedMatch)}}function xq(t,e){if(t&1){let n=$();f(0,"div",129)(1,"div",60)(2,"div",37)(3,"div",38)(4,"h5",155),m(5,"Choisir le format d'export"),p(),f(6,"button",156),b("click",function(){I(n);let i=v();return E(i.closeExportModal())}),p()(),f(7,"div",42)(8,"div",249)(9,"input",250),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.exportFormats.txt,i)||(o.exportFormats.txt=i),E(i)}),p(),f(10,"label",251),m(11," Format TXT "),p()(),f(12,"div",249)(13,"input",252),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.exportFormats.csv,i)||(o.exportFormats.csv=i),E(i)}),p(),f(14,"label",253),m(15," Format CSV "),p()(),f(16,"div",249)(17,"input",254),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.exportFormats.json,i)||(o.exportFormats.json=i),E(i)}),p(),f(18,"label",255),m(19," Format JSON "),p()()(),f(20,"div",57)(21,"button",49),b("click",function(){I(n);let i=v();return E(i.closeExportModal())}),m(22,"Annuler"),p(),f(23,"button",256),b("click",function(){I(n);let i=v();return E(i.confirmExport())}),m(24,"Exporter"),p()()()()()}if(t&2){let n=v();h(9),He("ngModel",n.exportFormats.txt),h(4),He("ngModel",n.exportFormats.csv),h(4),He("ngModel",n.exportFormats.json),h(6),_("disabled",!n.isExportFormatSelected())}}function Mq(t,e){if(t&1){let n=$();f(0,"div",129)(1,"div",60)(2,"div",37)(3,"div",38)(4,"h5",155),m(5,"Comment utiliser BUUUT.be"),p(),f(6,"button",156),b("click",function(){I(n);let i=v();return E(i.showHelpModal=!1)}),p()(),f(7,"div",42)(8,"h6"),m(9,"Fonctionnalit\xE9s principales :"),p(),f(10,"ul",257)(11,"li",76),S(12,"i",258),f(13,"strong"),m(14,"Cr\xE9er un match :"),p(),m(15,' Cliquez sur "Nouveau Match" pour enregistrer un nouveau match. '),p(),f(16,"li",76),S(17,"i",259),f(18,"strong"),m(19,"Enregistrer les buts :"),p(),m(20," Cliquez sur le score pour ajouter les buteurs et leurs minutes. "),p(),f(21,"li",76),S(22,"i",260),f(23,"strong"),m(24,"G\xE9rer les \xE9quipes :"),p(),m(25," Ajoutez des joueurs \xE0 vos \xE9quipes lors de l'enregistrement des buts. "),p(),f(26,"li",76),S(27,"i",261),f(28,"strong"),m(29,"Partager :"),p(),m(30," Partagez vos matchs via le bouton de partage. "),p(),f(31,"li",76),S(32,"i",262),f(33,"strong"),m(34,"Exporter :"),p(),m(35," Exportez vos matchs en TXT, CSV ou JSON. "),p(),f(36,"li",76),S(37,"i",263),f(38,"strong"),m(39,"Importer :"),p(),m(40," Importez des matchs depuis diff\xE9rents formats. "),p()()(),f(41,"div",57)(42,"button",49),b("click",function(){I(n);let i=v();return E(i.showHelpModal=!1)}),m(43,"Fermer"),p()()()()()}}function Pq(t,e){if(t&1&&(f(0,"tr")(1,"td",268),m(2),p(),f(3,"td",268),m(4),p(),f(5,"td",268)(6,"strong"),m(7),p()(),f(8,"td",268),m(9),p(),f(10,"td",268),m(11),p(),f(12,"td",268),m(13),p(),f(14,"td",268),m(15),p(),f(16,"td",268),m(17),p(),f(18,"td",268),m(19),p(),f(20,"td",269),m(21),p()()),t&2){let n=e.$implicit,r=e.index;h(2),de(r+1),h(2),de(n.name),h(3),de(n.points),h(2),de(n.matches),h(2),de(n.wins),h(2),de(n.draws),h(2),de(n.losses),h(2),de(n.goalsFor),h(2),de(n.goalsAgainst),h(),_("ngClass",AE(12,FB,n.goalDifference>0,n.goalDifference<0)),h(),yn(" ",n.goalDifference>0?"+":"","",n.goalDifference," ")}}function Rq(t,e){if(t&1){let n=$();f(0,"div",129)(1,"div",264)(2,"div",37)(3,"div",38)(4,"h5",155),m(5),p(),f(6,"button",156),b("click",function(){I(n);let i=v();return E(i.closeRankingModal())}),p()(),f(7,"div",265)(8,"div",266)(9,"table",267)(10,"thead")(11,"tr")(12,"th",268),m(13,"Pos"),p(),f(14,"th",268),m(15,"\xC9quipe"),p(),f(16,"th",268),m(17,"Pts"),p(),f(18,"th",268),m(19,"J"),p(),f(20,"th",268),m(21,"G"),p(),f(22,"th",268),m(23,"N"),p(),f(24,"th",268),m(25,"P"),p(),f(26,"th",268),m(27,"BP"),p(),f(28,"th",268),m(29,"BC"),p(),f(30,"th",268),m(31,"Diff"),p()()(),f(32,"tbody"),x(33,Pq,22,15,"tr",113),p()()()(),f(34,"div",57)(35,"button",49),b("click",function(){I(n);let i=v();return E(i.closeRankingModal())}),m(36,"Fermer"),p()()()()()}if(t&2){let n=v();h(5),L("Classement - ",n.selectedCompetitionFilter,""),h(28),_("ngForOf",n.currentRanking)}}function Nq(t,e){if(t&1){let n=$();f(0,"i",290),b("click",function(){I(n);let i=v().$implicit,o=v(2);return E(o.cyclePlayerType(i))}),p()}}function Oq(t,e){if(t&1){let n=$();f(0,"i",291),b("click",function(){I(n);let i=v().$implicit,o=v(2);return E(o.cyclePlayerType(i))}),p()}}function kq(t,e){if(t&1){let n=$();f(0,"i",292),b("click",function(){I(n);let i=v().$implicit,o=v(2);return E(o.cyclePlayerType(i))}),p()}}function Fq(t,e){if(t&1){let n=$();f(0,"span",293),b("click",function(){I(n);let i=v().$implicit,o=v(2);return E(o.openPlayerGoalsModal(i))}),m(1),p()}if(t&2){let n=v().$implicit,r=v(2);h(),L(" ",r.getGoalsForPlayer(n.name)," \u26BD ")}}function Vq(t,e){if(t&1){let n=$();f(0,"li",280)(1,"div",281)(2,"span",282),x(3,Nq,1,0,"i",283)(4,Oq,1,0,"i",284)(5,kq,1,0,"i",285),f(6,"input",286),Ge("ngModelChange",function(i){let o=I(n).$implicit;return Je(o.name,i)||(o.name=i),E(i)}),p(),x(7,Fq,2,1,"span",287),p(),f(8,"button",288),b("click",function(){let i=I(n).index,o=v(2);return E(o.removePlayer(i))}),S(9,"i",289),p()()()}if(t&2){let n=e.$implicit,r=v(2);h(3),_("ngIf",n.type==="attaquant"),h(),_("ngIf",n.type==="milieu"),h(),_("ngIf",n.type==="defenseur"),h(),He("ngModel",n.name),h(),_("ngIf",r.getGoalsForPlayer(n.name)>0)}}function Lq(t,e){if(t&1){let n=$();f(0,"i",294),b("click",function(){I(n);let i=v(2);return E(i.cycleNewPlayerType())}),p()}}function jq(t,e){if(t&1){let n=$();f(0,"i",295),b("click",function(){I(n);let i=v(2);return E(i.cycleNewPlayerType())}),p()}}function Uq(t,e){if(t&1){let n=$();f(0,"i",296),b("click",function(){I(n);let i=v(2);return E(i.cycleNewPlayerType())}),p()}}function Bq(t,e){if(t&1){let n=$();f(0,"div",129)(1,"div",270)(2,"div",37)(3,"div",38)(4,"h5",155),m(5),p(),f(6,"button",40),b("click",function(){I(n);let i=v();return E(i.closeEditPlayersModal())}),f(7,"span",41),m(8,"\xD7"),p()()(),f(9,"div",42)(10,"ul",271),x(11,Vq,10,5,"li",272),p(),f(12,"div",273)(13,"input",274),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.newPlayerName,i)||(o.newPlayerName=i),E(i)}),b("keyup.enter",function(){I(n);let i=v();return E(i.addPlayer())}),p(),x(14,Lq,1,0,"i",275)(15,jq,1,0,"i",276)(16,Uq,1,0,"i",277),f(17,"button",278),b("click",function(){I(n);let i=v();return E(i.addPlayer())}),m(18,"Ajouter"),p()()(),f(19,"div",57)(20,"button",49),b("click",function(){I(n);let i=v();return E(i.closeEditPlayersModal())}),m(21,"Fermer"),p(),f(22,"button",279),b("click",function(){I(n);let i=v();return E(i.savePlayersEdit())}),m(23,"Enregistrer"),p()()()()()}if(t&2){let n=v();h(5),L("\xC9diter les joueurs de ",n.teamToEdit.name,""),h(6),_("ngForOf",n.teamToEdit.players),h(2),He("ngModel",n.newPlayerName),h(),_("ngIf",n.newPlayerType==="attaquant"),h(),_("ngIf",n.newPlayerType==="milieu"),h(),_("ngIf",n.newPlayerType==="defenseur")}}function $q(t,e){if(t&1&&(f(0,"div",300),S(1,"i",301),m(2),zs(3,"date"),f(4,"span",302),S(5,"i",303),m(6),p(),f(7,"span",302),m(8),p(),f(9,"span",302),m(10),p()()),t&2){let n=e.$implicit,r=v(3);h(2),L(" ",Ws(3,5,n.match.heureDebut,"dd/MM/yyyy HH:mm")," "),h(4),L(" ",n.minute,"'"),h(2),L("vs ",n.match.equipe1===(r.teamToEdit==null?null:r.teamToEdit.name)?n.match.equipe2:n.match.equipe1,""),h(2),yn("(score: ",n.match.score1," - ",n.match.score2,")")}}function qq(t,e){t&1&&(f(0,"div",304),m(1,"Aucun but trouv\xE9."),p())}function Hq(t,e){if(t&1){let n=$();Pe(0),f(1,"div",42),x(2,$q,11,8,"div",297)(3,qq,2,0,"div",298),p(),f(4,"div",57)(5,"button",299),b("click",function(){I(n);let i=v(2);return E(i.closePlayerGoalsModal())}),m(6,"Fermer"),p()(),Re()}if(t&2){let n=v(2);h(2),_("ngForOf",n.getPlayerGoalsDetails(n.selectedPlayerGoalsModal)),h(),_("ngIf",n.getPlayerGoalsDetails(n.selectedPlayerGoalsModal).length===0)}}function Gq(t,e){if(t&1){let n=$();f(0,"div",59)(1,"div",60)(2,"div",37)(3,"div",38)(4,"h5",155),m(5),p(),f(6,"button",63),b("click",function(){I(n);let i=v();return E(i.closePlayerGoalsModal())}),p()(),x(7,Hq,7,2,"ng-container",102),p()()()}if(t&2){let n=v();h(5),L("Buts de ",n.selectedPlayerGoalsModal.name,""),h(2),_("ngIf",n.selectedPlayerGoalsModal)}}function zq(t,e){if(t&1){let n=$();f(0,"div",311)(1,"input",312),Ge("ngModelChange",function(i){let o=I(n).$implicit;return Je(o.name,i)||(o.name=i),E(i)}),p(),f(2,"select",313),Ge("ngModelChange",function(i){let o=I(n).$implicit;return Je(o.type,i)||(o.type=i),E(i)}),f(3,"option",314),m(4,"Attaquant"),p(),f(5,"option",315),m(6,"Milieu"),p(),f(7,"option",316),m(8,"D\xE9fenseur"),p()(),f(9,"button",317),b("click",function(){let i=I(n).index,o=v(2);return E(o.removeNewTeamPlayer(i))}),S(10,"i",289),p()()}if(t&2){let n=e.$implicit,r=v(2);h(),He("ngModel",n.name),_("ngModelOptions",Sr(5,Ss)),h(),He("ngModel",n.type),_("ngModelOptions",Sr(6,Ss)),h(7),_("disabled",r.newTeamPlayers.length===1)}}function Wq(t,e){if(t&1){let n=$();f(0,"div",59)(1,"div",60)(2,"div",37)(3,"div",38)(4,"h5",155),m(5,"Cr\xE9er une nouvelle \xE9quipe"),p(),f(6,"button",63),b("click",function(){I(n);let i=v();return E(i.closeNewTeamModal())}),p()(),f(7,"div",42)(8,"div",76)(9,"label",305),m(10,"Nom de l\u2019\xE9quipe"),p(),f(11,"input",306),Ge("ngModelChange",function(i){I(n);let o=v();return Je(o.newTeamName,i)||(o.newTeamName=i),E(i)}),p()(),f(12,"div",307),m(13,"Joueurs"),p(),x(14,zq,11,7,"div",308),f(15,"button",309),b("click",function(){I(n);let i=v();return E(i.addNewTeamPlayer())}),m(16,"+ Ajouter un joueur"),p()(),f(17,"div",57)(18,"button",299),b("click",function(){I(n);let i=v();return E(i.closeNewTeamModal())}),m(19,"Annuler"),p(),f(20,"button",310),b("click",function(){I(n);let i=v();return E(i.createNewTeam())}),m(21,"Cr\xE9er l\u2019\xE9quipe"),p()()()()()}if(t&2){let n=v();h(11),He("ngModel",n.newTeamName),_("ngModelOptions",Sr(4,Ss)),h(3),_("ngForOf",n.newTeamPlayers),h(6),_("disabled",n.canCreateNewTeam())}}var zh=class t{static{this.competitionColors=new Map}constructor(e,n){this.fb=e,this.firestoreService=n,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.editingButeur=null,this.teams=Bu,this.selectedTeam=null,this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!0,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.selectedCompetitionFilter="",this.showCompetitionFilterModal=!1,this.remainingDots=5,this.usedColors=[],this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1},this.showHelpModal=!1,this.showRankingModal=!1,this.currentRanking=[],this.isSharingCompetition=!1,this.isSharingMatch=!1,this.sharingLogs=[],this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerType="milieu",this.selectedPlayerGoalsIndex=null,this.selectedPlayerGoalsModal=null,this.team1Search="",this.team2Search="",this.filteredTeams1=[],this.filteredTeams2=[],this.showNewTeamModal=!1,this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}],this.competitionSearch="",this.filteredCompetitions=[],this.disabledGoals=[],this.matchForm=this.fb.group({equipe1:[this.teams[0].name,Ze.required],equipe2:["",Ze.required],heureDebut:[this.getCurrentDateTime(),Ze.required],lieu:[""],competition:[""]}),this.scoreForm=this.fb.group({score1:[0,[Ze.required,Ze.min(0)]],score2:[0,[Ze.required,Ze.min(0)]]}),this.buteurForm=this.fb.group({nom:["",Ze.required],minute:["",[Ze.required,Ze.min(1),Ze.max(90)]],equipe:["",Ze.required],assist:[""]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(r=>{let i=this.buteurForm.get("assist");i&&i.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",Ze.required],equipe2:["",Ze.required],heureDebut:["",Ze.required],lieu:[""],competition:[""]})}ngOnInit(){return w(this,null,function*(){this.loadSavedData(),this.startAutoSave(),yield this.loadMatchFromUrl(),this.updateFilteredTeams1(),this.updateFilteredTeams2()})}getCurrentDateTime(){let e=new Date,n=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-n).toISOString().slice(0,16)}onSubmit(){if(console.log("onSubmit() appel\xE9e"),console.log("matchForm valid:",this.matchForm.valid),console.log("matchForm value:",this.matchForm.value),this.matchForm.valid){let n=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,r=X(P({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],showElements:!0});console.log("Nouveau match cr\xE9\xE9:",r),this.matches.push(r),console.log("matches apr\xE8s ajout:",this.matches),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1,console.log("Match ajout\xE9 avec succ\xE8s")}else console.log("MatchForm invalide - soumission annul\xE9e")}calculateElapsedMinutes(e){let n=new Date,r=new Date(e),i=new Date(r.getTime()),o=Math.floor((n.getTime()-i.getTime())/(1e3*60));return console.log("diffInMinutes",o),console.log("now",n),console.log("localMatchStart",i),o>90?this.getLastScoredMinute()+1:Math.max(1,o)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(e=>e.minute))}selectMatch(e){this.selectedMatch=e,this.scoreForm.patchValue({score1:e.score1,score2:e.score2});let n=this.calculateElapsedMinutes(e.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.buteurForm.patchValue({nom:"",minute:n,equipe:1});let r=this.teams.find(o=>o.name===e.equipe1),i=this.teams.find(o=>o.name===e.equipe2);if(r?Qm(r):this.teams.push({id:this.teams.length+1,name:e.equipe1,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),i?Qm(i):this.teams.push({id:this.teams.length+1,name:e.equipe2,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),e.equipe1==="U10 Stand. Flawinne FC"){let o=this.teams.find(s=>s.name==="U10 Stand. Flawinne FC");this.selectedTeam=o||null}this.maintainScoreConsistency()}updateScore(){if(console.log("updateScore() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - mise \xE0 jour annul\xE9e");return}console.log("Score avant mise \xE0 jour:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2}),this.selectedMatch.score1=0,this.selectedMatch.score2=0,this.selectedMatch.buteurs=[],console.log("Score apr\xE8s mise \xE0 jour:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2,buteurs:this.selectedMatch.buteurs}),this.saveData(),console.log("Score mis \xE0 z\xE9ro avec succ\xE8s")}modifierButeur(e,n){console.log("modifierButeur() appel\xE9e avec matchIndex:",e,"buteurIndex:",n);let r=this.matches[e],i=r.buteurs[n];console.log("Match trouv\xE9:",r),console.log("Buteur \xE0 modifier:",i),this.isGoalDisabled(n)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===r.id&&o.buteurIndex===n)),console.log("But r\xE9activ\xE9 pour \xE9dition")),this.editingButeur={index:n,buteur:P({},i)},this.buteurForm.patchValue({nom:i.nom,minute:i.minute,equipe:i.equipe,assist:i.assist||""}),console.log("editingButeur d\xE9fini:",this.editingButeur),this.showButeurForm=!0}ajouterButeur(){if(console.log("ajouterButeur() appel\xE9e"),console.log("buteurForm valid:",this.buteurForm.valid),console.log("buteurForm value:",this.buteurForm.value),this.buteurForm.valid&&this.selectedMatch){let e=this.buteurForm.value;console.log("Donn\xE9es du buteur:",e);let n={nom:e.nom,minute:e.minute,equipe:e.equipe,assist:e.assist||void 0};if(console.log("Nouveau buteur cr\xE9\xE9:",n),this.editingButeur){console.log("Modification du buteur existant");let r=this.matches.indexOf(this.selectedMatch);this.matches[r].buteurs[this.editingButeur.index]=n,console.log("Buteur modifi\xE9 dans le match")}else console.log("Ajout d'un nouveau buteur"),this.selectedMatch.buteurs.push(n),console.log("Buteur ajout\xE9 au match"),n.equipe===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2));console.log("Match apr\xE8s ajout/modification:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,console.log("Buteur ajout\xE9/modifi\xE9 avec succ\xE8s")}else console.log("ButeurForm invalide ou selectedMatch null - ajout annul\xE9")}annulerEditionButeur(){console.log("annulerEditionButeur() appel\xE9e"),this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,console.log("\xC9dition de buteur annul\xE9e")}supprimerButeur(e,n){console.log("supprimerButeur() appel\xE9e avec matchIndex:",e,"buteurIndex:",n);let r=this.matches[e],i=r.buteurs[n];console.log("Match:",r),console.log("Buteur \xE0 supprimer:",i),this.isGoalDisabled(n)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===r.id&&o.buteurIndex===n)),console.log("But d\xE9sactiv\xE9 retir\xE9 de la liste")),i.equipe===1?(r.score1=Math.max(0,r.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",r.score1)):(r.score2=Math.max(0,r.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",r.score2)),r.buteurs.splice(n,1),console.log("Buteur supprim\xE9 du match"),console.log("Match apr\xE8s suppression:",r),this.maintainScoreConsistency(),this.saveData(),console.log("Buteur supprim\xE9 avec succ\xE8s")}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(i=>i.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let r={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(r),e.value=r.name;let i=e.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(i)?.setValue(r.name)}}editNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let r={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(r),e.value=r.name;let i=e.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(i)?.setValue(r.name)}}addNewPlayer(e){if(e&&e.trim()){let n=this.teams.find(r=>r.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));n&&(n.players.some(r=>r.name===e.trim())||n.players.push({name:e.trim(),type:"milieu"}),this.buteurForm.get("nom")?.setValue(e.trim()))}}getTeamPlayers(e){if(!this.selectedMatch)return[];let n=e===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(i=>i.name===n)?.players||[]}quickAddGoal(e,n){if(console.log("quickAddGoal() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let r=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",r),r<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}let i={nom:e,minute:r,equipe:n};console.log("Nouveau buteur rapide cr\xE9\xE9:",i),this.selectedMatch.buteurs.push(i),console.log("Buteur ajout\xE9 au match"),n===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2)),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.lastGoalScorer=e,this.lastGoalTeam=n===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.showGoalCelebration=!0,this.remainingDots=5,console.log("C\xE9l\xE9bration du but:",{scorer:this.lastGoalScorer,team:this.lastGoalTeam,showCelebration:this.showGoalCelebration}),this.startCelebrationTimer(),console.log("But ajout\xE9 rapidement avec succ\xE8s")}saveGoalWithAssist(){if(console.log("saveGoalWithAssist() appel\xE9e"),console.log("lastGoalScorer:",this.lastGoalScorer),console.log("lastGoalTeam:",this.lastGoalTeam),console.log("lastGoalAssist:",this.lastGoalAssist),!this.selectedMatch||!this.lastGoalScorer){console.log("selectedMatch ou lastGoalScorer null - sauvegarde annul\xE9e");return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.lastGoalScorer&&(e.assist=this.lastGoalAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showGoalCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelGoal(){if(console.log("cancelGoal() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(this.selectedMatch.buteurs.length>0){let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];console.log("Dernier buteur \xE0 supprimer:",e),e.equipe===1?(this.selectedMatch.score1=Math.max(0,this.selectedMatch.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2=Math.max(0,this.selectedMatch.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score2)),this.selectedMatch.buteurs.pop(),console.log("Dernier buteur supprim\xE9")}this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",console.log("But annul\xE9 avec succ\xE8s")}supprimerMatch(e){if(confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?")){let n=this.matches.findIndex(r=>r.id===e.id);n!==-1&&(this.matches.splice(n,1),this.saveData())}}loadSavedData(){let e=localStorage.getItem("footballMatches");if(e){let n=JSON.parse(e);new Date(n.expirationDate)>new Date?this.matches=n.matches.map(i=>X(P({},i),{heureDebut:new Date(i.heureDebut)})):localStorage.removeItem("footballMatches")}}saveData(){let e=new Date;e.setMonth(e.getMonth()+3);let n={matches:this.matches,expirationDate:e.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(n))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(e,n){return e.buteurs.filter(i=>i.equipe===n).reduce((i,o)=>{let s=i.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c),o.assist&&(s.assist=o.assist)):i.push({nom:o.nom,minutes:[o.minute],assist:o.assist}),i},[]).sort((i,o)=>i.minutes[0]-o.minutes[0])}getActiveGroupedScorers(e,n){console.log(`getActiveGroupedScorers() pour \xE9quipe ${n}, match ${e.id}`),console.log("disabledGoals:",this.disabledGoals);let r=e.buteurs.map((i,o)=>({buteur:i,index:o})).filter(i=>i.buteur.equipe===n&&!this.isGoalDisabledForMatch(e,i.index)).reduce((i,o)=>{let s=i.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):i.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),i},[]);return console.log(`Buts actifs trouv\xE9s pour \xE9quipe ${n}:`,r),r.sort((i,o)=>i.minutes[0]-o.minutes[0])}getDisabledGroupedScorers(e,n){console.log(`getDisabledGroupedScorers() pour \xE9quipe ${n}, match ${e.id}`);let r=e.buteurs.map((i,o)=>({buteur:i,index:o})).filter(i=>i.buteur.equipe===n&&this.isGoalDisabledForMatch(e,i.index)&&i.buteur.nom!=="Joueur non list\xE9").reduce((i,o)=>{let s=i.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):i.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),i},[]);return console.log(`Buts d\xE9sactiv\xE9s trouv\xE9s pour \xE9quipe ${n}:`,r),r.sort((i,o)=>i.minutes[0]-o.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(e,n){this.selectedPosition={team:e,position:n}}assignPlayerToPosition(e){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let n=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[n]=e,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(e,n){if(this.selectedMatch?.positions){let r=`${e}_${n}`,i=this.selectedMatch.positions[r];if(i)return this.getPlayerByName(e,i)}return null}getPlayerByName(e,n){let r=this.teams.find(i=>i.name===(e===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));return r&&r.players.find(i=>i.name===n)||null}openDispositionModal(e){this.selectedMatch=e,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(e){e.showElements=!e.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(e){this.selectedMatch=e,this.matchEditForm.patchValue({equipe1:e.equipe1,equipe2:e.equipe2,heureDebut:this.getNearestValidTime(e.heureDebut),lieu:e.lieu,competition:e.competition}),this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(e){let n=new Date(e);return n.getMinutes()<30?n.setMinutes(0):n.setMinutes(30),n.toISOString().slice(0,16)}onSubmitMatchEdit(){if(this.matchEditForm.valid&&this.selectedMatch){let e=this.matchEditForm.value;this.selectedMatch.equipe1=e.equipe1,this.selectedMatch.equipe2=e.equipe2,this.selectedMatch.heureDebut=new Date(e.heureDebut),this.selectedMatch.lieu=e.lieu,this.selectedMatch.competition=e.competition,this.saveData(),this.showMatchEditForm=!1}}get filteredMatches(){return this.matches.filter(e=>{let n=!this.selectedTeamFilter||e.equipe1===this.selectedTeamFilter||e.equipe2===this.selectedTeamFilter,r=!this.selectedCompetitionFilter||e.competition===this.selectedCompetitionFilter;return n&&r})}closeTeamFilterModal(){this.showTeamFilterModal=!1}shareMatch(e){return w(this,null,function*(){this.isSharingMatch=!0;try{let n=yield this.firestoreService.saveMatch(e),r=`${window.location.origin}?matchId=${n}`,i=`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${this.getGroupedScorers(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${e.equipe2}:
${this.getGroupedScorers(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

Lien direct vers le match : ${r}
      `.trim();if(navigator.share)yield navigator.share({title:`${e.equipe1} vs ${e.equipe2}`,text:i,url:r});else{let o=document.createElement("textarea");o.value=i,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}catch(n){console.error("Erreur lors de la sauvegarde ou du partage du match:",n),alert("Une erreur est survenue lors de la sauvegarde ou du partage du match.")}finally{this.isSharingMatch=!1}})}loadMatchFromUrl(){return w(this,null,function*(){let e=new URLSearchParams(window.location.search),n=e.get("competitionId"),r=e.get("matchId");if(n)try{let i=yield this.firestoreService.getCompetitionById(n);if(i){let o=yield this.firestoreService.getMatchesByCompetition(n);o.length>0&&(this.matches=o,this.selectedCompetitionFilter=i.name,this.saveData())}}catch(i){console.error("Erreur lors du chargement de la comp\xE9tition:",i)}else if(r)try{let i=yield this.firestoreService.getMatchById(r);i?(i.heureDebut=new Date(i.heureDebut),this.matches.findIndex(s=>s.id===i.id)===-1&&(this.matches.push(i),this.saveData()),this.selectMatch(i),setTimeout(()=>{let s=document.querySelector(`[data-match-id="${i.id}"]`);s&&s.scrollIntoView({behavior:"smooth"})},100)):console.error("Match non trouv\xE9 dans Firestore")}catch(i){console.error("Erreur lors du chargement du match depuis Firestore:",i)}})}getButeurDisplay(e){let n=`\u26BD ${e.nom} (${e.minute}')`;return e.assist&&(n+=` (Assist: ${e.assist})`),n}saveMatchToFirestore(e){return w(this,null,function*(){try{let n=yield this.firestoreService.saveMatch(e);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",n),window.location.href=`/match/${n}`}catch(n){console.error("Erreur lors de l'enregistrement du match dans Firestore:",n)}})}closeCompetitionFilterModal(){this.showCompetitionFilterModal=!1}get uniqueCompetitions(){let e=this.matches.map(n=>n.competition).filter(n=>n!==void 0&&n!=="");return[...new Set(e)]}getCompetitionBadgeColor(e){let n=["badge-pastel-primary","badge-pastel-secondary","badge-pastel-success","badge-pastel-danger","badge-pastel-warning","badge-pastel-info","badge-pastel-dark","badge-pastel-purple","badge-pastel-pink","badge-pastel-teal"];if(t.competitionColors.has(e))return t.competitionColors.get(e);let r=e.split("").reduce((s,a)=>a.charCodeAt(0)+((s<<5)-s),0),i=Math.abs(r)%n.length,o=n[i];return t.competitionColors.set(e,o),o}exportMatches(){this.showExportModal=!0}closeExportModal(){this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1}}isExportFormatSelected(){return this.exportFormats.txt||this.exportFormats.csv||this.exportFormats.json}confirmExport(){return w(this,null,function*(){if(this.exportFormats.txt){let e=this.exportToTxt();this.downloadFile(e,"matches.txt")}if(this.exportFormats.csv){let e=this.exportToCsv();this.downloadFile(e,"matches.csv")}if(this.exportFormats.json){let e=this.exportToJson();this.downloadFile(e,"matches.json")}this.closeExportModal()})}exportToTxt(){return this.matches.map(e=>{let n=this.getGroupedScorers(e,1),r=this.getGroupedScorers(e,2);return`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${n.map(i=>`- ${i.nom}: ${i.minutes.join(", ")}'${i.assist?` (Assist: ${i.assist})`:""}`).join(`
`)}

${e.equipe2}:
${r.map(i=>`- ${i.nom}: ${i.minutes.join(", ")}'${i.assist?` (Assist: ${i.assist})`:""}`).join(`
`)}
----------------------------------------
`.trim()}).join(`

`)}exportToCsv(){let e=["\xC9quipe 1","\xC9quipe 2","Score 1","Score 2","Date","Lieu","Comp\xE9tition","Buteurs \xC9quipe 1","Buteurs \xC9quipe 2"],n=this.matches.map(r=>{let i=this.getGroupedScorers(r,1),o=this.getGroupedScorers(r,2);return[r.equipe1,r.equipe2,r.score1,r.score2,r.heureDebut.toLocaleString("fr-FR"),r.lieu||"",r.competition||"",i.map(s=>`${s.nom} (${s.minutes.join(", ")}'${s.assist?`, Assist: ${s.assist}`:""})`).join("; "),o.map(s=>`${s.nom} (${s.minutes.join(", ")}'${s.assist?`, Assist: ${s.assist}`:""})`).join("; ")].map(s=>`"${s}"`).join(",")});return[e.map(r=>`"${r}"`).join(","),...n].join(`
`)}exportToJson(){return JSON.stringify(this.matches.map(e=>X(P({},e),{heureDebut:e.heureDebut instanceof Date?e.heureDebut.toISOString():new Date().toISOString(),buteurs:e.buteurs.map(n=>X(P({},n),{assist:n.assist||null}))})),null,2)}downloadFile(e,n){let r=new Blob([e],{type:"text/plain"}),i=window.URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=n,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(i),document.body.removeChild(o)}importMatches(){let e=document.createElement("input");e.type="file",e.accept=".txt,.csv,.json",e.onchange=n=>{let r=n.target.files?.[0];if(r){let i=new FileReader;i.onload=o=>{let s=o.target?.result,a=r.name.split(".").pop()?.toLowerCase();try{let c=[];switch(a){case"txt":c=this.parseTxtImport(s);break;case"csv":c=this.parseCsvImport(s);break;case"json":c=this.parseJsonImport(s);break;default:throw new Error("Format de fichier non support\xE9")}c.length>0?confirm(`Voulez-vous importer ${c.length} match(s) ?`)&&(this.matches.push(...c),this.saveData(),alert("Import r\xE9ussi !")):alert("Aucun match trouv\xE9 dans le fichier.")}catch(c){console.error("Erreur lors de l'import:",c),alert("Erreur lors de l'import du fichier. V\xE9rifiez le format.")}},i.readAsText(r)}},e.click()}parseTxtImport(e){let n=[],r=e.split("----------------------------------------");for(let i of r){if(!i.trim())continue;let o=i.trim().split(`
`),s={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};for(let a of o)if(a.startsWith("Match : ")){let c=a.replace("Match : ","").split(" vs ");s.equipe1=c[0].trim(),s.equipe2=c[1].trim()}else if(a.startsWith("Score : ")){let c=a.replace("Score : ","").split(" - ");s.score1=parseInt(c[0]),s.score2=parseInt(c[1])}else if(a.startsWith("Date : "))s.heureDebut=new Date(a.replace("Date : ",""));else if(a.startsWith("Lieu : "))s.lieu=a.replace("Lieu : ","").trim();else if(a.startsWith("Comp\xE9tition : "))s.competition=a.replace("Comp\xE9tition : ","").trim();else if(a.includes(":")){let[c,l]=a.split(":"),u=c.replace("-","").trim(),d=l.match(/\d+/g),g=l.match(/\(Assist: (.*?)\)/);d&&d.forEach(y=>{s.buteurs?.push({nom:u,minute:parseInt(y),equipe:a.includes(s.equipe1)?1:2,assist:g?g[1]:void 0})})}s.equipe1&&s.equipe2&&n.push(s)}return n}parseCsvImport(e){let n=[],r=e.split(`
`),i=r[0].split(",").map(o=>o.replace(/"/g,"").trim());for(let o=1;o<r.length;o++){if(!r[o].trim())continue;let s=r[o].split(",").map(c=>c.replace(/"/g,"").trim()),a={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};i.forEach((c,l)=>{let u=s[l];switch(c){case"\xC9quipe 1":a.equipe1=u;break;case"\xC9quipe 2":a.equipe2=u;break;case"Score 1":a.score1=parseInt(u);break;case"Score 2":a.score2=parseInt(u);break;case"Date":a.heureDebut=new Date(u);break;case"Lieu":a.lieu=u;break;case"Comp\xE9tition":a.competition=u;break;case"Buteurs \xC9quipe 1":case"Buteurs \xC9quipe 2":let d=c==="Buteurs \xC9quipe 1"?1:2;u.split(";").map(y=>y.trim()).forEach(y=>{let[C,T]=y.split("("),D=T.match(/\d+/g),O=T.match(/Assist: (.*?)\)/);D&&D.forEach(ie=>{a.buteurs?.push({nom:C.trim(),minute:parseInt(ie),equipe:d,assist:O?O[1]:void 0})})});break}}),a.equipe1&&a.equipe2&&n.push(a)}return n}parseJsonImport(e){let n=JSON.parse(e);return Array.isArray(n)?n.map((r,i)=>X(P({},r),{id:this.matches.length+i+1,heureDebut:r.heureDebut?new Date(r.heureDebut):new Date,buteurs:r.buteurs||[]})):[]}getSortedMatches(){return this.filteredMatches.slice().sort((e,n)=>new Date(n.heureDebut).getTime()-new Date(e.heureDebut).getTime())}calculateRanking(e){let n=new Map;return this.matches.filter(i=>i.competition===e).forEach(i=>{[i.equipe1,i.equipe2].forEach(a=>{n.has(a)||n.set(a,{name:a,points:0,matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0})});let o=n.get(i.equipe1),s=n.get(i.equipe2);o.matches++,s.matches++,o.goalsFor+=i.score1,o.goalsAgainst+=i.score2,s.goalsFor+=i.score2,s.goalsAgainst+=i.score1,i.score1>i.score2?(o.wins++,o.points+=3,s.losses++):i.score1<i.score2?(s.wins++,s.points+=3,o.losses++):(o.draws++,s.draws++,o.points+=1,s.points+=1)}),n.forEach(i=>{i.goalDifference=i.goalsFor-i.goalsAgainst}),Array.from(n.values()).sort((i,o)=>o.points!==i.points?o.points-i.points:o.goalDifference!==i.goalDifference?o.goalDifference-i.goalDifference:o.goalsFor-i.goalsFor)}showRanking(){this.selectedCompetitionFilter?(this.currentRanking=this.calculateRanking(this.selectedCompetitionFilter),this.showRankingModal=!0):alert("Veuillez s\xE9lectionner une comp\xE9tition pour voir le classement")}closeRankingModal(){this.showRankingModal=!1}shareCompetition(){return w(this,null,function*(){if(!this.selectedCompetitionFilter){alert("Veuillez s\xE9lectionner une comp\xE9tition");return}this.isSharingCompetition=!0,this.sharingLogs=["Comp\xE9tition en cours de sauvegarde..."];try{let e=this.matches.filter(i=>i.competition===this.selectedCompetitionFilter);if(e.length===0){alert("Aucun match trouv\xE9 pour cette comp\xE9tition");return}let n=yield this.firestoreService.shareCompetition(this.selectedCompetitionFilter,e,i=>{this.sharingLogs.push(i)}),r=`
          Comp\xE9tition : ${this.selectedCompetitionFilter}
          Nombre de matchs : ${e.length}

          Matchs :
          ${e.map(i=>`
          ${i.equipe1} vs ${i.equipe2}
          Score : ${i.score1} - ${i.score2}
          Date : ${i.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          Lieu : ${i.lieu||"Non sp\xE9cifi\xE9"}
          ----------------------------------------`).join(`
`)}

          Lien vers la comp\xE9tition : ${window.location.origin}?competitionId=${n}
                `.trim();if(navigator.share)yield navigator.share({title:`Comp\xE9tition ${this.selectedCompetitionFilter}`,text:r,url:`${window.location.origin}?competitionId=${n}`});else{let i=document.createElement("textarea");i.value=r,document.body.appendChild(i),i.select();try{document.execCommand("copy"),alert("Informations de la comp\xE9tition copi\xE9es dans le presse-papiers !")}catch(o){console.error("Erreur lors de la copie:",o)}document.body.removeChild(i)}this.sharingLogs.push("Association des matchs en cours...");for(let i of e){let o=yield this.firestoreService.saveMatch(i);this.sharingLogs.push(`Match ${i.equipe1} vs ${i.equipe2} sauvegard\xE9`),yield this.firestoreService.addMatchToCompetition(n,o)}this.sharingLogs.push("Comp\xE9tition sauvegard\xE9e avec succ\xE8s !")}catch(e){console.error("Erreur lors de la sauvegarde ou du partage de la comp\xE9tition:",e),this.sharingLogs.push("Erreur lors de la sauvegarde de la comp\xE9tition"),alert("Une erreur est survenue lors de la sauvegarde ou du partage de la comp\xE9tition.")}finally{this.isSharingCompetition=!1}})}validateScore(e){let n=Math.max(0,e);return console.log("validateScore() appel\xE9e avec:",e,"retourne:",n),n}openEditPlayersModal(e){let n=this.teams.find(r=>r.name===e);n&&(this.teamToEdit=X(P({},n),{players:[...n.players]}),this.showEditPlayersModal=!0)}closeEditPlayersModal(){this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerName=""}addPlayer(){this.teamToEdit&&this.newPlayerName.trim()&&(this.teamToEdit.players.some(e=>e.name===this.newPlayerName.trim())||this.teamToEdit.players.push({name:this.newPlayerName.trim(),type:this.newPlayerType}),this.newPlayerName="",this.newPlayerType="milieu")}removePlayer(e){this.teamToEdit&&this.teamToEdit.players.splice(e,1)}savePlayersEdit(){if(this.teamToEdit){let e=this.teams.findIndex(n=>n.name===this.teamToEdit.name);e!==-1&&(this.teams[e].players=[...this.teamToEdit.players],this.saveData())}this.closeEditPlayersModal()}getPlayersSortedByGoals(){if(!this.teamToEdit)return[];let e={};for(let n of this.teamToEdit.players){e[n.name]=0;for(let r of this.matches)if(r.equipe1===this.teamToEdit.name||r.equipe2===this.teamToEdit.name){for(let i of r.buteurs)if(i.nom===n.name){let o=r.equipe1===this.teamToEdit.name&&i.equipe===1,s=r.equipe2===this.teamToEdit.name&&i.equipe===2;(o||s)&&e[n.name]++}}}return[...this.teamToEdit.players].sort((n,r)=>e[r.name]-e[n.name])}getGoalsForPlayer(e){if(!this.teamToEdit)return 0;let n=0;for(let r of this.matches)if(r.equipe1===this.teamToEdit.name||r.equipe2===this.teamToEdit.name){for(let i of r.buteurs)if(i.nom===e){let o=r.equipe1===this.teamToEdit.name&&i.equipe===1,s=r.equipe2===this.teamToEdit.name&&i.equipe===2;(o||s)&&n++}}return n}cyclePlayerType(e){e.type==="attaquant"?e.type="milieu":e.type==="milieu"?e.type="defenseur":e.type="attaquant"}cycleNewPlayerType(){this.newPlayerType==="attaquant"?this.newPlayerType="milieu":this.newPlayerType==="milieu"?this.newPlayerType="defenseur":this.newPlayerType="attaquant"}getPlayerGoalsDetails(e){let n=[];for(let r of this.matches)if(r.equipe1===this.teamToEdit?.name||r.equipe2===this.teamToEdit?.name)for(let i of r.buteurs)i.nom===e.name&&n.push({match:r,minute:i.minute});return n}openPlayerGoalsModal(e){this.selectedPlayerGoalsModal=e}closePlayerGoalsModal(){this.selectedPlayerGoalsModal=null}updateFilteredTeams1(){let e=this.team1Search.toLowerCase();if(e.length<3){this.filteredTeams1=[];return}this.filteredTeams1=Bu.map(n=>n.name).filter(n=>n.toLowerCase().includes(e)).filter(n=>n!==this.matchForm.value.equipe2)}updateFilteredTeams2(){let e=this.team2Search.toLowerCase();if(e.length<3){this.filteredTeams2=[];return}this.filteredTeams2=Bu.map(n=>n.name).filter(n=>n.toLowerCase().includes(e)).filter(n=>n!==this.matchForm.value.equipe1)}selectTeam1(e){this.matchForm.patchValue({equipe1:e}),this.team1Search=e,this.filteredTeams1=[]}selectTeam2(e){this.matchForm.patchValue({equipe2:e}),this.team2Search=e,this.filteredTeams2=[]}openNewTeamModal(){this.showNewTeamModal=!0,this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}]}closeNewTeamModal(){this.showNewTeamModal=!1}addNewTeamPlayer(){this.newTeamPlayers.push({name:"",type:"milieu"})}removeNewTeamPlayer(e){this.newTeamPlayers.length>1&&this.newTeamPlayers.splice(e,1)}createNewTeam(){if(!this.newTeamName.trim()||this.newTeamPlayers.every(n=>!n.name.trim()))return;let e={id:Date.now(),name:this.newTeamName.trim(),players:this.newTeamPlayers.filter(n=>n.name.trim())};this.teams.push(e),this.closeNewTeamModal()}canCreateNewTeam(){return!this.newTeamName.trim()||this.newTeamPlayers.every(e=>!e.name.trim())}updateFilteredCompetitions(){let e=this.competitionSearch.toLowerCase();if(e.length<3){this.filteredCompetitions=[];return}let n=Array.from(new Set(this.matches.map(r=>r.competition).filter(r=>!!r)));this.filteredCompetitions=n.filter(r=>typeof r=="string"&&r.toLowerCase().includes(e))}selectCompetition(e){this.matchForm.patchValue({competition:e}),this.competitionSearch=e,this.filteredCompetitions=[]}startCelebrationTimer(){console.log("startCelebrationTimer() appel\xE9e"),this.celebrationTimer=setInterval(()=>{this.remainingDots--,console.log("Dots restants:",this.remainingDots),this.remainingDots<=0&&(this.showGoalCelebration=!1,clearInterval(this.celebrationTimer),console.log("Timer de c\xE9l\xE9bration termin\xE9"),this.saveGoalWithAssist())},1e3)}onScoreChange(){if(console.log("onScoreChange() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - modification annul\xE9e");return}let e=this.selectedMatch.score1,n=this.selectedMatch.score2;console.log("Scores actuels:",{score1:e,score2:n});let r=this.getActiveGoalsCount(1),i=this.getActiveGoalsCount(2);console.log("Buts actifs:",{team1:r,team2:i}),this.handleTeamScoreChange(1,e,r),this.handleTeamScoreChange(2,n,i),console.log("Match apr\xE8s modification:",this.selectedMatch),this.saveData()}handleTeamScoreChange(e,n,r){console.log(`handleTeamScoreChange() pour \xE9quipe ${e}:`,{newScore:n,currentGoals:r});let i=this.selectedMatch.id;if(n>r){let o=this.disabledGoals.filter(c=>c.matchId===i&&this.selectedMatch.buteurs[c.buteurIndex].equipe===e);console.log(`Buts d\xE9sactiv\xE9s pour \xE9quipe ${e}:`,o.length);let s=Math.min(n-r,o.length);console.log(`R\xE9activation de ${s} buts d\xE9sactiv\xE9s`);for(let c=0;c<s;c++){let l=o[c];this.disabledGoals=this.disabledGoals.filter(u=>!(u.matchId===l.matchId&&u.buteurIndex===l.buteurIndex)),console.log("But r\xE9activ\xE9 \xE0 l'index:",l.buteurIndex)}let a=n-r-s;if(a>0){console.log(`Ajout de ${a} buts "Joueur non list\xE9"`);for(let c=0;c<a;c++){let l={nom:"Joueur non list\xE9",minute:1,equipe:e};this.selectedMatch.buteurs.push(l),console.log("But ajout\xE9:",l)}}}else if(n<r){let o=r-n;console.log(`D\xE9sactivation de ${o} buts de l'\xE9quipe ${e}`),this.selectedMatch.buteurs.map((a,c)=>({buteur:a,index:c})).filter(a=>a.buteur.equipe===e&&!this.isGoalDisabled(a.index)).slice(-o).forEach(a=>{i!==void 0&&(a.buteur.nom==="Joueur non list\xE9"?(this.selectedMatch.buteurs.splice(a.index,1),console.log('"Joueur non list\xE9" supprim\xE9:',a.buteur)):(this.disabledGoals.push({matchId:i,buteurIndex:a.index}),console.log("But d\xE9sactiv\xE9:",a.buteur)))})}}isGoalDisabled(e){return this.selectedMatch?this.disabledGoals.some(n=>n.matchId===this.selectedMatch.id&&n.buteurIndex===e):!1}isGoalDisabledForMatch(e,n){let r=this.disabledGoals.some(i=>i.matchId===e.id&&i.buteurIndex===n);return console.log(`isGoalDisabledForMatch(match ${e.id}, index ${n}): ${r}`),r}maintainScoreConsistency(){if(!this.selectedMatch)return;console.log("maintainScoreConsistency() appel\xE9e");let e=this.getActiveGoalsCount(1),n=this.getActiveGoalsCount(2);console.log("Buts actifs actuels:",{team1:e,team2:n}),console.log("Scores actuels:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2}),this.selectedMatch.score1!==e&&(console.log(`Incoh\xE9rence \xE9quipe 1: score=${this.selectedMatch.score1}, buts actifs=${e}`),this.handleTeamScoreChange(1,this.selectedMatch.score1,e)),this.selectedMatch.score2!==n&&(console.log(`Incoh\xE9rence \xE9quipe 2: score=${this.selectedMatch.score2}, buts actifs=${n}`),this.handleTeamScoreChange(2,this.selectedMatch.score2,n))}getActiveGoalsCount(e){return this.selectedMatch?this.selectedMatch.buteurs.filter((n,r)=>n.equipe===e&&!this.isGoalDisabled(r)).length:0}getActiveGoalsCountForMatch(e,n){return e.buteurs.filter((r,i)=>r.equipe===n&&!this.isGoalDisabledForMatch(e,i)).length}static{this.\u0275fac=function(n){return new(n||t)(q(ob),q(Ds))}}static{this.\u0275cmp=bo({type:t,selectors:[["app-root"]],standalone:!0,features:[Mo],decls:33,vars:19,consts:[["equipe1Select",""],["equipe2Select",""],[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lead","text-muted","mb-0"],[1,"btn","btn-link","ms-2",3,"click"],[1,"fas","fa-question-circle","text-warning"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","btn mt-2",3,"ngClass","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","disabled","click",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","competitionFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade show","tabindex","-1","style","display:block; background:rgba(0,0,0,0.5);",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration","style","margin-top: -100px;",4,"ngIf"],["class","disposition-modal",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-plus-circle","text-white"],[3,"hidden"],[1,"fas","fa-users","text-white"],[1,"btn","mt-2",3,"click","ngClass"],[1,"fas","fa-trophy","text-white"],[1,"text-white"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden"],[1,"fas","fa-list-ol"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden","disabled"],[1,"fas",3,"ngClass"],["tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",1,"score-modal"],["role","document",1,"modal-dialog","modal-body"],[1,"modal-content"],[1,"modal-header"],["id","teamFilterModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"modal-footer","d-flex"],["type","button",1,"btn","btn-success","me-auto",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary","ms-2",3,"click","disabled"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],[1,"form-check-label",3,"for"],["tabindex","-1","aria-labelledby","competitionFilterModalLabel","aria-hidden","true",1,"score-modal"],["id","competitionFilterModalLabel",1,"modal-title"],["type","radio","id","allCompetitions",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allCompetitions",1,"form-check-label"],[1,"modal-footer"],[1,"badge",3,"ngClass"],["tabindex","-1",1,"modal","fade","show",2,"display","block","background","rgba(0,0,0,0.5)"],[1,"modal-dialog"],[1,"modal-title","mb-0","text-primary","fw-bold",2,"font-size","1.8rem","text-shadow","2px 2px 4px rgba(0,0,0,0.1)"],[1,"fas","fa-futbol","me-2"],["type","button","aria-label","Fermer",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"row",2,"width","100%","margin","0 auto","padding","10px","border-radius","10px","background","linear-gradient(to top, rgba(0,0,0,0.1) 0%, transparent 70%)"],[1,"col-md-6"],[1,"mb-3","position-relative"],["for","equipe1",1,"form-label"],["id","equipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe1"],["class","list-group position-absolute w-100",4,"ngIf"],["class","mt-1",4,"ngIf"],["for","equipe2",1,"form-label"],["id","equipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe2"],[1,"mb-3"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["for","competition",1,"form-label","text-muted"],["id","competition","type","text","placeholder","Rechercher ou cr\xE9er une comp\xE9tition...","name","competitionSearch","autocomplete","off",1,"form-control","form-control-sm",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","competition"],[1,"d-flex","gap-2","ms-2","mt-3"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"list-group","position-absolute","w-100"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"mt-1"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"mt-4"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"match-details"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn","btn-primary",3,"click"],["class","match-scorers",4,"ngIf"],["class","match-actions d-flex gap-2 justify-content-center mt-3",4,"ngIf"],[1,"mx-2"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[4,"ngFor","ngForOf"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"buteur-equipe","disabled-scorer"],[1,"minutes-list","right-team"],[1,"match-actions","d-flex","gap-2","justify-content-center","mt-3"],["title","Ajouter un but",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-futbol"],["title","Disposition tactique",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-tshirt"],["title","Modifier le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],["title","Partager le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click","disabled"],[1,"ms-1"],[1,"score-modal"],[1,"score-modal-content"],[1,"close-button",3,"click"],[2,"text-align","center"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center",3,"click"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"row"],[1,"col-sm-6"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],["class","player-selector",4,"ngIf"],[1,"mt-3"],[1,"score-info",2,"font-size","0.7em","opacity","0.8"],[1,"d-flex","align-items-center","justify-content-center","gap-1"],["type","number","min","0","onkeypress","return event.charCode >= 48",1,"form-control","form-control-sm",2,"width","42px","text-align","center","padding","2px 4px",3,"ngModelChange","input","ngModel"],["tabindex","-1",1,"score-modal"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"row","g-3"],[1,"col-md-5"],[1,"form-label","small"],["type","text","placeholder","Nom du buteur","formControlName","nom",1,"form-control"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control"],[1,"col-md-4"],["formControlName","equipe",1,"form-select"],[3,"value"],[1,"col-md-12"],["formControlName","assist",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],["class","fas fa-bolt me-1",4,"ngIf"],["class","fas fa-shield-alt me-1",4,"ngIf"],["class","fas fa-arrows-alt-h me-1",4,"ngIf"],[1,"fas","fa-bolt","me-1"],[1,"fas","fa-shield-alt","me-1"],[1,"fas","fa-arrows-alt-h","me-1"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",3,"ngClass"],[1,"flex-grow-1"],[3,"ngClass"],[1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],[1,"match-edit-modal"],[1,"button-group","mt-3"],[1,"btn","btn-outline-danger",3,"click"],[1,"form-group"],["for","equipe1"],["id","equipe1","formControlName","equipe1","required","",1,"form-select",3,"change"],["value","new"],["for","equipe2"],["id","equipe2","formControlName","equipe2","required","",1,"form-select",3,"change"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["for","competition",1,"form-label"],["id","competition","formControlName","competition","placeholder","Championnat, tournoi, amical...",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"goal-celebration",2,"margin-top","-100px"],[1,"celebration-content",2,"width","300px"],[1,"goal-text",2,"transform","scale(1.5)"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],[1,"assist-section","mt-3"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"button-group","mt-2"],[1,"btn","btn-outline-danger","ms-2",3,"click"],[1,"dot"],[3,"value","disabled"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"],[1,"form-check","mb-2"],["type","checkbox","id","txtFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","txtFormat",1,"form-check-label"],["type","checkbox","id","csvFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","csvFormat",1,"form-check-label"],["type","checkbox","id","jsonFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","jsonFormat",1,"form-check-label"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-unstyled"],[1,"fas","fa-plus-circle","text-primary"],[1,"fas","fa-futbol","text-primary"],[1,"fas","fa-users","text-primary"],[1,"fas","fa-share-alt","text-primary"],[1,"fas","fa-download","text-primary"],[1,"fas","fa-upload","text-primary"],[1,"modal-dialog","modal-xl",2,"min-width","100%","margin-right","0"],[1,"modal-body","p-0"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[1,"px-1"],[1,"px-1",3,"ngClass"],["role","document",1,"modal-dialog"],[1,"list-group","mb-3"],["class","list-group-item d-flex flex-column align-items-start",4,"ngFor","ngForOf"],[1,"input-group"],["placeholder","Ajouter un joueur...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],["class","fas fa-bolt type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield-alt type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"list-group-item","d-flex","flex-column","align-items-start"],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["class","fas fa-bolt me-2 type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h me-2 type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield-alt me-2 type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],[1,"form-control","form-control-sm","me-2",2,"max-width","140px","display","inline-block",3,"ngModelChange","ngModel"],["class","badge bg-primary ms-2","style","cursor:pointer;",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],["title","Changer le type (Attaquant)",1,"fas","fa-bolt","me-2","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","me-2","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield-alt","me-2","type-icon","type-icon-clickable",3,"click"],[1,"badge","bg-primary","ms-2",2,"cursor","pointer",3,"click"],["title","Changer le type (Attaquant)",1,"fas","fa-bolt","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield-alt","type-icon","type-icon-clickable",3,"click"],["class","mb-2",4,"ngFor","ngForOf"],["class","small text-muted",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"mb-2"],[1,"fas","fa-calendar-alt","me-1"],[1,"ms-2"],[1,"fas","fa-stopwatch"],[1,"small","text-muted"],[1,"form-label"],["placeholder","Nom de l\u2019\xE9quipe",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"mb-2","fw-bold"],["class","d-flex align-items-center mb-2 gap-2",4,"ngFor","ngForOf"],[1,"btn","btn-link","p-0","mt-1",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"d-flex","align-items-center","mb-2","gap-2"],["placeholder","Nom du joueur",1,"form-control","form-control-sm",2,"max-width","180px",3,"ngModelChange","ngModel","ngModelOptions"],[1,"form-select","form-select-sm",2,"max-width","120px",3,"ngModelChange","ngModel","ngModelOptions"],["value","attaquant"],["value","milieu"],["value","defenseur"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"]],template:function(n,r){n&1&&(f(0,"div",2)(1,"div",3)(2,"h2",4)(3,"span",5),m(4,"BUUUT"),p(),f(5,"span",6),m(6,".be"),p()(),f(7,"div",7)(8,"p",8),m(9,"Enregistrez maintenant tous vos buts!"),p(),f(10,"button",9),b("click",function(){return r.showHelpModal=!0}),S(11,"i",10),p()()(),f(12,"div",11),x(13,VB,4,1,"button",12)(14,LB,2,0,"button",12)(15,jB,4,2,"button",13)(16,UB,3,6,"button",14)(17,BB,3,8,"button",15)(18,qB,23,4,"div",16)(19,GB,18,3,"div",17),p(),x(20,t$,56,17,"div",18)(21,x$,4,1,"div",19)(22,J$,42,15,"div",20)(23,e4,42,3,"div",21)(24,r4,22,6,"div",22)(25,Aq,91,43,"div",23)(26,xq,25,4,"div",20)(27,Mq,44,0,"div",20)(28,Rq,37,2,"div",20),p(),S(29,"router-outlet"),x(30,Bq,24,6,"div",20)(31,Gq,8,2,"div",18)(32,Wq,22,5,"div",18)),n&2&&(h(13),_("ngIf",!r.showMatchForm&&!r.showTeamFilterModal&&!r.showCompetitionFilterModal),h(),_("ngIf",!r.showMatchForm&&!r.showTeamFilterModal&&!r.showCompetitionFilterModal),h(),_("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),h(),_("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),h(),_("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),h(),_("ngIf",r.showTeamFilterModal),h(),_("ngIf",r.showCompetitionFilterModal),h(),_("ngIf",r.showMatchForm),h(),_("ngIf",r.filteredMatches.length>0),h(),_("ngIf",r.selectedMatch&&r.showScoreForm),h(),_("ngIf",r.selectedMatch&&r.showMatchEditForm),h(),_("ngIf",r.showGoalCelebration),h(),_("ngIf",r.showDispositionModal&&r.selectedMatch),h(),_("ngIf",r.showExportModal),h(),_("ngIf",r.showHelpModal),h(),_("ngIf",r.showRankingModal),h(2),_("ngIf",r.showEditPlayersModal&&r.teamToEdit&&r.teamToEdit.players),h(),_("ngIf",r.selectedPlayerGoalsModal),h(),_("ngIf",r.showNewTeamModal))},dependencies:[Ys,ZE,yu,vu,wu,ab,JC,eb,nb,Lu,Bm,km,Uu,$m,qC,HC,Km,Wm,zm,qm,Hm,sb,Um,Xb,Ag],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-2px)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #4b29b967}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{position:fixed;top:10px;left:0;width:100%;height:calc(100% - 10px);display:flex;justify-content:center;align-items:flex-start;z-index:1000;padding:0;overflow-y:auto}.score-modal-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1000px;margin:1.75rem auto;background:#fff;border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026;padding:1.5rem;outline:0;overflow-y:auto;animation:_ngcontent-%COMP%_fadeIn .3s}.modal-body[_ngcontent-%COMP%]{overflow-y:auto}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4b29b900}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.team-scorers[_ngcontent-%COMP%]{gap:1rem}.scorers-column[_ngcontent-%COMP%]{padding:0 .5rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:2px solid #3498db;width:99%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.buteur-team1[_ngcontent-%COMP%]{color:#3498db}.buteur-team2[_ngcontent-%COMP%]{color:#27ae60}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:90%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:0 1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#191137e6,#40327bcc);padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:8px;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:.5rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:1000px;width:98%;overflow-y:auto}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}.share-icon[_ngcontent-%COMP%]{color:#3498db;font-size:1.2em;margin-right:.5rem;transition:transform .3s ease;display:inline-block;transform:scaleX(-1)}.share-icon[_ngcontent-%COMP%]:hover{transform:scaleX(-1) scale(1.2);color:#2980b9}.badge-pastel-primary[_ngcontent-%COMP%]{background-color:#b3d1ff;color:#2c3e50}.badge-pastel-secondary[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#2c3e50}.badge-pastel-success[_ngcontent-%COMP%]{background-color:#b3ffb3;color:#2c3e50}.badge-pastel-danger[_ngcontent-%COMP%]{background-color:#ffb3b3;color:#2c3e50}.badge-pastel-warning[_ngcontent-%COMP%]{background-color:#ffe6b3;color:#2c3e50}.badge-pastel-info[_ngcontent-%COMP%]{background-color:#b3e6ff;color:#2c3e50}.badge-pastel-dark[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#2c3e50}.badge-pastel-purple[_ngcontent-%COMP%]{background-color:#e6b3ff;color:#2c3e50}.badge-pastel-pink[_ngcontent-%COMP%]{background-color:#ffb3e6;color:#2c3e50}.badge-pastel-teal[_ngcontent-%COMP%]{background-color:#b3ffe6;color:#2c3e50}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{font-size:1.3em;margin:0 .2em;cursor:pointer;color:#bbb;transition:color .2s,background .2s,border .2s;border-radius:50%;padding:.2em .3em}.type-icons[_ngcontent-%COMP%]   .type-icon.active-type[_ngcontent-%COMP%]{color:#fff;background:#3498db;border:2px solid #3498db}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]:hover{color:#3498db;background:#eaf6ff}.type-icon.type-icon-clickable[_ngcontent-%COMP%]{font-size:1em;color:#fff;background:#3498db;border:2px solid #3498db;border-radius:25%;padding:.25em .35em;margin-right:.5em;box-shadow:0 2px 8px #3498db40;cursor:pointer;transition:transform .1s,box-shadow .2s,background .2s;outline:2px solid #fff;outline-offset:2px}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:hover{background:#217dbb;color:#fff;box-shadow:0 4px 16px #3498db59;transform:scale(1.12) rotate(-8deg)}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:active{background:#176093;transform:scale(.95) rotate(4deg);box-shadow:0 2px 8px #3498db26}.list-group.position-absolute[_ngcontent-%COMP%]{z-index:1050;background:#fff;border:1px solid #ddd;box-shadow:0 2px 8px #00000014;max-height:220px;overflow-y:auto}.disabled-goal[_ngcontent-%COMP%]{opacity:.5;background-color:#f8f9fa;border-color:#dee2e6!important}.disabled-goal[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-decoration:line-through;color:#6c757d!important}.disabled-goal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{opacity:.8}.disabled-scorer[_ngcontent-%COMP%]{opacity:.5;text-decoration:line-through;color:#6c757d!important}.disabled-scorer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through}']})}};var i1=(()=>{class t{constructor(n){this.http=n,this.apiUrl="http://localhost:3000/api/matches"}createMatch(n){return this.http.post(this.apiUrl,n)}getAllMatches(){return this.http.get(this.apiUrl)}getMatchById(n){return this.http.get(`${this.apiUrl}/${n}`)}updateMatch(n,r){return this.http.put(`${this.apiUrl}/${n}`,r)}deleteMatch(n){return this.http.delete(`${this.apiUrl}/${n}`)}static{this.\u0275fac=function(r){return new(r||t)(U(Cm))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Kq(t,e){if(t&1&&(f(0,"span"),m(1),p()),t&2){let n=v().$implicit;h(),L("(Assist: ",n.assist,")")}}function Qq(t,e){if(t&1&&(f(0,"div",5)(1,"p"),m(2),x(3,Kq,2,1,"span",6),p()()),t&2){let n=e.$implicit;h(2),yn(" ",n.nom," (",n.minute,"') "),h(),_("ngIf",n.assist)}}function Yq(t,e){if(t&1&&(f(0,"div",1)(1,"h2"),m(2),p(),f(3,"div",2)(4,"p"),m(5),zs(6,"date"),p(),f(7,"p"),m(8),p(),f(9,"p"),m(10),p()(),f(11,"div",3)(12,"h3"),m(13,"Buteurs"),p(),x(14,Qq,4,3,"div",4),p()()),t&2){let n=v();h(2),yn("",n.match.equipe1," vs ",n.match.equipe2,""),h(3),L("Date: ",Ws(6,7,n.match.heureDebut,"medium"),""),h(3),L("Lieu: ",n.match.lieu,""),h(2),yn("Score: ",n.match.score1," - ",n.match.score2,""),h(4),_("ngForOf",n.match.buteurs)}}var o1=(()=>{class t{constructor(n,r){this.route=n,this.firestoreService=r,this.match=null}ngOnInit(){this.route.params.subscribe(n=>{let r=n.id;r&&this.loadMatch(r)})}loadMatch(n){return w(this,null,function*(){try{this.match=yield this.firestoreService.getMatchById(n)}catch(r){console.error("Erreur lors du chargement du match:",r)}})}static{this.\u0275fac=function(r){return new(r||t)(q(ar),q(Ds))}}static{this.\u0275cmp=bo({type:t,selectors:[["app-match-detail"]],standalone:!0,features:[Mo],decls:1,vars:1,consts:[["class","match-detail",4,"ngIf"],[1,"match-detail"],[1,"match-info"],[1,"buteurs"],["class","buteur",4,"ngFor","ngForOf"],[1,"buteur"],[4,"ngIf"]],template:function(r,i){r&1&&x(0,Yq,15,10,"div",0),r&2&&_("ngIf",i.match)},dependencies:[Ys,yu,vu,wu],styles:[".match-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.match-info[_ngcontent-%COMP%]{margin:20px 0}.buteurs[_ngcontent-%COMP%]{margin-top:20px}.buteur[_ngcontent-%COMP%]{margin:10px 0}"]})}}return t})();var s1=[{path:"match/:id",component:o1}];var a1={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var c1={providers:[Kb(s1),Ds,Dp(DT(()=>ST(a1.firebaseConfig)),ZA(()=>XA()))]};gC(zh,{providers:[...c1.providers,cC(),i1]}).catch(t=>console.error(t));
