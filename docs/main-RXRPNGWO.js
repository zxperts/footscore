var sx=Object.defineProperty,ax=Object.defineProperties;var cx=Object.getOwnPropertyDescriptors;var p0=Object.getOwnPropertySymbols;var lx=Object.prototype.hasOwnProperty,ux=Object.prototype.propertyIsEnumerable;var m0=(t,e,n)=>e in t?sx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||={})lx.call(e,n)&&m0(t,n,e[n]);if(p0)for(var n of p0(e))ux.call(e,n)&&m0(t,n,e[n]);return t},J=(t,e)=>ax(t,cx(e));var w=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var g0=null;var Hh=1,zh=Symbol("SIGNAL");function pe(t){let e=g0;return g0=t,e}var _0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dx(t){if(!(Kh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hh)){if(!t.producerMustRecompute(t)&&!Gh(t)){t.dirty=!1,t.lastCleanEpoch=Hh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Hh}}function y0(t){return t&&(t.nextProducerIndex=0),pe(t)}function v0(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Kh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Wh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Gh(t){Pc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dx(n),r!==n.version))return!0}return!1}function w0(t){if(Pc(t),Kh(t))for(let e=0;e<t.producerNode.length;e++)Wh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wh(t,e){if(hx(t),Pc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Wh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pc(i),i.producerIndexOfThis[r]=e}}function Kh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function hx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fx(){throw new Error}var px=fx;function I0(t){px=t}function Y(t){return typeof t=="function"}function Wi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Rc=Wi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Yr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof Rc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{E0(o)}catch(s){e=e??[],s instanceof Rc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)E0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yr(n,e)}remove(e){let{_finalizers:n}=this;n&&Yr(n,e),e instanceof t&&e._removeParent(this)}};Le.EMPTY=(()=>{let t=new Le;return t.closed=!0,t})();var Qh=Le.EMPTY;function Nc(t){return t instanceof Le||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function E0(t){Y(t)?t():t.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ki={setTimeout(t,e,...n){let{delegate:r}=Ki;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ki;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Oc(t){Ki.setTimeout(()=>{let{onUnhandledError:e}=un;if(e)e(t);else throw t})}function Ts(){}var C0=Yh("C",void 0,void 0);function b0(t){return Yh("E",void 0,t)}function D0(t){return Yh("N",t,void 0)}function Yh(t,e,n){return{kind:t,value:e,error:n}}var Jr=null;function Qi(t){if(un.useDeprecatedSynchronousErrorHandling){let e=!Jr;if(e&&(Jr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Jr;if(Jr=null,n)throw r}}else t()}function T0(t){un.useDeprecatedSynchronousErrorHandling&&Jr&&(Jr.errorThrown=!0,Jr.error=t)}var Zr=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nc(e)&&e.add(this)):this.destination=_x}static create(e,n,r){return new Yi(e,n,r)}next(e){this.isStopped?Zh(D0(e),this):this._next(e)}error(e){this.isStopped?Zh(b0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zh(C0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mx=Function.prototype.bind;function Jh(t,e){return mx.call(t,e)}var Xh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){kc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){kc(r)}else kc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){kc(n)}}},Yi=class extends Zr{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Jh(e.next,o),error:e.error&&Jh(e.error,o),complete:e.complete&&Jh(e.complete,o)}):i=e}this.destination=new Xh(i)}};function kc(t){un.useDeprecatedSynchronousErrorHandling?T0(t):Oc(t)}function gx(t){throw t}function Zh(t,e){let{onStoppedNotification:n}=un;n&&Ki.setTimeout(()=>n(t,e))}var _x={closed:!0,next:Ts,error:gx,complete:Ts};var Ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(t){return t}function ef(...t){return tf(t)}function tf(t){return t.length===0?Ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=vx(n)?n:new Yi(n,r,i);return Qi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=S0(r),new r((i,o)=>{let s=new Yi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ji](){return this}pipe(...n){return tf(n)(this)}toPromise(n){return n=S0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function S0(t){var e;return(e=t??un.Promise)!==null&&e!==void 0?e:Promise}function yx(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function vx(t){return t&&t instanceof Zr||yx(t)&&Nc(t)}function nf(t){return Y(t?.lift)}function ue(t){return e=>{if(nf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new rf(t,e,n,r,i)}var rf=class extends Zr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Zi(){return ue((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Xi=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return Zi()(this)}};var A0=Wi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _t=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new A0}next(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Qh:(this.currentObservers=null,o.push(n),new Le(()=>{this.currentObservers=null,Yr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Fc(e,n),t})(),Fc=class extends _t{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Qh}};var tt=class extends _t{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var of={now(){return(of.delegate||Date).now()},delegate:void 0};var Vc=class extends Le{constructor(e,n){super()}schedule(e,n=0){return this}};var Ss={setInterval(t,e,...n){let{delegate:r}=Ss;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ss;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var eo=class extends Vc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ss.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ss.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Yr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var to=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};to.now=of.now;var no=class extends to{constructor(e,n=to.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var sf=new no(eo);var Lc=class extends eo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var jc=class extends no{};var af=new jc(Lc);var Vt=new oe(t=>t.complete());function x0(t){return t&&Y(t.schedule)}function M0(t){return t[t.length-1]}function Uc(t){return Y(M0(t))?t.pop():void 0}function fr(t){return x0(M0(t))?t.pop():void 0}function cf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function R0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function P0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xr(t){return this instanceof Xr?(this.v=t,this):new Xr(t)}function N0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(I){return Promise.resolve(I).then(_,d)}}function a(_,I){r[_]&&(i[_]=function(E){return new Promise(function(C,O){o.push([_,E,C,O])>1||c(_,E)})},I&&(i[_]=I(i[_])))}function c(_,I){try{l(r[_](I))}catch(E){m(o[0][3],E)}}function l(_){_.value instanceof Xr?Promise.resolve(_.value.v).then(u,d):m(o[0][2],_)}function u(_){c("next",_)}function d(_){c("throw",_)}function m(_,I){_(I),o.shift(),o.length&&c(o[0][0],o[0][1])}}function O0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof P0=="function"?P0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Bc=t=>t&&typeof t.length=="number"&&typeof t!="function";function $c(t){return Y(t?.then)}function qc(t){return Y(t[Ji])}function Hc(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function zc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gc=wx();function Wc(t){return Y(t?.[Gc])}function Kc(t){return N0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Xr(n.read());if(i)return yield Xr(void 0);yield yield Xr(r)}}finally{n.releaseLock()}})}function Qc(t){return Y(t?.getReader)}function Be(t){if(t instanceof oe)return t;if(t!=null){if(qc(t))return Ix(t);if(Bc(t))return Ex(t);if($c(t))return Cx(t);if(Hc(t))return k0(t);if(Wc(t))return bx(t);if(Qc(t))return Dx(t)}throw zc(t)}function Ix(t){return new oe(e=>{let n=t[Ji]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ex(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Cx(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Oc)})}function bx(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function k0(t){return new oe(e=>{Tx(t,e).catch(n=>e.error(n))})}function Dx(t){return k0(Kc(t))}function Tx(t,e){var n,r,i,o;return R0(this,void 0,void 0,function*(){try{for(n=O0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Dt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function pr(t,e=0){return ue((n,r)=>{n.subscribe(se(r,i=>Dt(r,t,()=>r.next(i),e),()=>Dt(r,t,()=>r.complete(),e),i=>Dt(r,t,()=>r.error(i),e)))})}function mr(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function F0(t,e){return Be(t).pipe(mr(e),pr(e))}function V0(t,e){return Be(t).pipe(mr(e),pr(e))}function L0(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function j0(t,e){return new oe(n=>{let r;return Dt(n,e,()=>{r=t[Gc](),Dt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Yc(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{Dt(n,e,()=>{let r=t[Symbol.asyncIterator]();Dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function U0(t,e){return Yc(Kc(t),e)}function B0(t,e){if(t!=null){if(qc(t))return F0(t,e);if(Bc(t))return L0(t,e);if($c(t))return V0(t,e);if(Hc(t))return Yc(t,e);if(Wc(t))return j0(t,e);if(Qc(t))return U0(t,e)}throw zc(t)}function Me(t,e){return e?B0(t,e):Be(t)}function z(...t){let e=fr(t);return Me(t,e)}function ro(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function lf(t){return!!t&&(t instanceof oe||Y(t.lift)&&Y(t.subscribe))}var Wn=Wi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Sx}=Array;function Ax(t,e){return Sx(e)?t(...e):t(e)}function Jc(t){return ee(e=>Ax(t,e))}var{isArray:xx}=Array,{getPrototypeOf:Mx,prototype:Px,keys:Rx}=Object;function Zc(t){if(t.length===1){let e=t[0];if(xx(e))return{args:e,keys:null};if(Nx(e)){let n=Rx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Nx(t){return t&&typeof t=="object"&&Mx(t)===Px}function Xc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function As(...t){let e=fr(t),n=Uc(t),{args:r,keys:i}=Zc(t);if(r.length===0)return Me([],e);let o=new oe(Ox(r,e,i?s=>Xc(i,s):Ft));return n?o.pipe(Jc(n)):o}function Ox(t,e,n=Ft){return r=>{$0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)$0(e,()=>{let l=Me(t[c],e),u=!1;l.subscribe(se(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function $0(t,e,n){t?Dt(n,t,e):e()}function q0(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},_=E=>l<r?I(E):c.push(E),I=E=>{o&&e.next(E),l++;let C=!1;Be(n(E,u++)).subscribe(se(e,O=>{i?.(O),o?_(O):e.next(O)},()=>{C=!0},void 0,()=>{if(C)try{for(l--;c.length&&l<r;){let O=c.shift();s?Dt(e,s,()=>I(O)):I(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(se(e,_,()=>{d=!0,m()})),()=>{a?.()}}function $e(t,e,n=1/0){return Y(e)?$e((r,i)=>ee((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>q0(r,i,t,n)))}function io(t=1/0){return $e(Ft,t)}function H0(){return io(1)}function oo(...t){return H0()(Me(t,fr(t)))}function el(t){return new oe(e=>{Be(t()).subscribe(e)})}function uf(...t){let e=Uc(t),{args:n,keys:r}=Zc(t),i=new oe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Be(n[u]).subscribe(se(o,m=>{d||(d=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Xc(r,a):a),o.complete())}))}});return e?i.pipe(Jc(e)):i}function Tt(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function gr(t){return ue((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=Be(t(s,gr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function z0(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(se(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Kn(t,e){return Y(e)?$e(t,e,1):$e(t,1)}function _r(t){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Qn(t){return t<=0?()=>Vt:ue((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function df(t){return ee(()=>t)}function tl(t=kx){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function kx(){return new Wn}function ei(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Dn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,o)=>t(i,o,r)):Ft,Qn(1),n?_r(e):tl(()=>new Wn))}function so(t){return t<=0?()=>Vt:ue((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,o)=>t(i,o,r)):Ft,so(1),n?_r(e):tl(()=>new Wn))}function ff(t,e){return ue(z0(t,e,arguments.length>=2,!0))}function pf(...t){let e=fr(t);return ue((n,r)=>{(e?oo(t,n,e):oo(t,n)).subscribe(r)})}function St(t,e){return ue((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(se(r,c=>{i?.unsubscribe();let l=0,u=o++;Be(t(c,u)).subscribe(i=se(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function mf(t){return ue((e,n)=>{Be(t).subscribe(se(n,()=>n.complete(),Ts)),!n.closed&&e.subscribe(n)})}function qe(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ft}var Fx="https://g.co/ng/security#xss",U=class extends Error{constructor(e,n){super(Pl(e,n)),this.code=e}};function Pl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Bs(t){return{toString:t}.toString()}var nl="__parameters__";function Vx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function xw(t,e,n){return Bs(()=>{let r=Vx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(nl)?c[nl]:Object.defineProperty(c,nl,{value:[]})[nl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Yn=globalThis;function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function Lx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function G0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var jx=be({__forward_ref__:be});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return vt(this())},t}function yt(t){return Mw(t)?t():t}function Mw(t){return typeof t=="function"&&t.hasOwnProperty(jx)&&t.__forward_ref__===wt}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rl(t){return W0(t,Rw)||W0(t,Nw)}function Pw(t){return Rl(t)!==null}function W0(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ux(t){let e=t&&(t[Rw]||t[Nw]);return e||null}function K0(t){return t&&(t.hasOwnProperty(Q0)||t.hasOwnProperty(Bx))?t[Q0]:null}var Rw=be({\u0275prov:be}),Q0=be({\u0275inj:be}),Nw=be({ngInjectableDef:be}),Bx=be({ngInjectorDef:be}),L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ow(t){return t&&!!t.\u0275providers}var $x=be({\u0275cmp:be}),qx=be({\u0275dir:be}),Hx=be({\u0275pipe:be}),zx=be({\u0275mod:be}),ul=be({\u0275fac:be}),xs=be({__NG_ELEMENT_ID__:be}),Y0=be({__NG_ENV_ID__:be});function Ms(t){return typeof t=="string"?t:t==null?"":String(t)}function Gx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ms(t)}function Wx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,t)}function vp(t,e){throw new U(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),Rf;function kw(){return Rf}function At(t){let e=Rf;return Rf=t,e}function Fw(t,e,n){let r=Rl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;vp(t,"Injector")}var Kx={},Ps=Kx,Nf="__NG_DI_FLAG__",dl="ngTempTokenPath",Qx="ngTokenPath",Yx=/\n/gm,Jx="\u0275",J0="__source",ho;function Zx(){return ho}function yr(t){let e=ho;return ho=t,e}function Xx(t,e=re.Default){if(ho===void 0)throw new U(-203,!1);return ho===null?Fw(t,void 0,e):ho.get(t,e&re.Optional?null:void 0,e)}function j(t,e=re.Default){return(kw()||Xx)(yt(t),e)}function R(t,e=re.Default){return j(t,Nl(e))}function Nl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Of(t){let e=[];for(let n=0;n<t.length;n++){let r=yt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){let a=r[s],c=e1(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(j(i,o))}else e.push(j(r))}return e}function Vw(t,e){return t[Nf]=e,t.prototype[Nf]=e,t}function e1(t){return t[Nf]}function t1(t,e,n,r){let i=t[dl];throw e[J0]&&i.unshift(e[J0]),t.message=n1(`
`+t.message,i,n,r),t[Qx]=i,t[dl]=null,t}function n1(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Jx?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):vt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Yx,`
  `)}`}var Yt=Vw(xw("Optional"),8);var wp=Vw(xw("SkipSelf"),4);function ii(t,e){let n=t.hasOwnProperty(ul);return n?t[ul]:null}function Ip(t,e){t.forEach(n=>Array.isArray(n)?Ip(n,e):e(n))}function Lw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function r1(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function i1(t,e,n){let r=$s(t,e);return r>=0?t[r|1]=n:(r=~r,r1(t,r,e,n)),r}function gf(t,e){let n=$s(t,e);if(n>=0)return t[n|1]}function $s(t,e){return o1(t,e,1)}function o1(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var po={},Wt=[],mo=new L(""),jw=new L("",-1),Uw=new L(""),fl=class{get(e,n=Ps){if(n===Ps){let r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}},Bw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bw||{}),An=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(An||{}),rt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(rt||{});function s1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function kf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];c1(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function a1(t){return t===3||t===4||t===6}function c1(t){return t.charCodeAt(0)===64}function Rs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Z0(t,n,i,null,e[++r]):Z0(t,n,i,null,null))}}return t}function Z0(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var $w="ng-template";function l1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&s1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ep(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ep(t){return t.type===4&&t.value!==$w}function u1(t,e,n){let r=t.type===4&&!n?$w:t.value;return e===r}function d1(t,e,n){let r=4,i=t.attrs,o=i!==null?p1(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!dn(r)&&!dn(c))return!1;if(s&&dn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!u1(t,c,n)||c===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!l1(t,i,c,n)){if(dn(r))return!1;s=!0}}else{let l=e[++a],u=h1(c,i,Ep(t),n);if(u===-1){if(dn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(t){return(t&1)===0}function h1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return m1(e,t)}function f1(t,e,n=!1){for(let r=0;r<e.length;r++)if(d1(t,e[r],n))return!0;return!1}function p1(t){for(let e=0;e<t.length;e++){let n=t[e];if(a1(n))return e}return t.length}function m1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function X0(t,e){return t?":not("+e.trim()+")":e}function g1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=X0(o,i),i=""),r=s,o=o||!dn(r);n++}return i!==""&&(e+=X0(o,i)),e}function _1(t){return t.map(g1).join(",")}function y1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dn(i))break;i=o}r++}return{attrs:e,classes:n}}function Co(t){return Bs(()=>{let e=Kw(t),n=J(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||An.Emulated,styles:t.styles||Wt,_:null,schemas:t.schemas||null,tView:null,id:""});Qw(n);let r=t.dependencies;return n.directiveDefs=tw(r,!1),n.pipeDefs=tw(r,!0),n.id=I1(n),n})}function v1(t){return wr(t)||Hw(t)}function w1(t){return t!==null}function Mt(t){return Bs(()=>({type:t.type,bootstrap:t.bootstrap||Wt,declarations:t.declarations||Wt,imports:t.imports||Wt,exports:t.exports||Wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ew(t,e){if(t==null)return po;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=rt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==rt.None?[r,a]:r,e[o]=s):n[o]=r}return n}function De(t){return Bs(()=>{let e=Kw(t);return Qw(e),e})}function qw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function wr(t){return t[$x]||null}function Hw(t){return t[qx]||null}function zw(t){return t[Hx]||null}function Gw(t){let e=wr(t)||Hw(t)||zw(t);return e!==null?e.standalone:!1}function Ww(t,e){let n=t[zx]||null;if(!n&&e===!0)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function Kw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||po,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ew(t.inputs,e),outputs:ew(t.outputs),debugInfo:null}}function Qw(t){t.features?.forEach(e=>e(t))}function tw(t,e){if(!t)return null;let n=e?zw:v1;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(w1)}function I1(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bo(t){return{\u0275providers:t}}function Cp(...t){return{\u0275providers:Yw(!0,t),\u0275fromNgModule:!0}}function Yw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ip(e,s=>{let a=s;Ff(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Jw(i,o),n}function Jw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];bp(i,o=>{e(o,r)})}}function Ff(t,e,n,r){if(t=yt(t),!t)return!1;let i=null,o=K0(t),s=!o&&wr(t);if(!o&&!s){let c=t.ngModule;if(o=K0(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ff(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ip(o.imports,u=>{Ff(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Jw(l,e)}if(!a){let l=ii(i)||(()=>new i);e({provide:i,useFactory:l,deps:Wt},i),e({provide:Uw,useValue:i,multi:!0},i),e({provide:mo,useValue:()=>j(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;bp(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function bp(t,e){for(let n of t)Ow(n)&&(n=n.\u0275providers),Array.isArray(n)?bp(n,e):e(n)}var E1=be({provide:String,useValue:be});function Zw(t){return t!==null&&typeof t=="object"&&E1 in t}function C1(t){return!!(t&&t.useExisting)}function b1(t){return!!(t&&t.useFactory)}function go(t){return typeof t=="function"}function D1(t){return!!t.useClass}var Ol=new L(""),ol={},T1={},_f;function Dp(){return _f===void 0&&(_f=new fl),_f}var ut=class{},Ns=class extends ut{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lf(e,s=>this.processProvider(s)),this.records.set(jw,ao(void 0,this)),i.has("environment")&&this.records.set(ut,ao(void 0,this));let o=this.records.get(Ol);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Uw,Wt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=yr(this),r=At(void 0),i;try{return e()}finally{yr(n),At(r)}}get(e,n=Ps,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Y0))return e[Y0](this);r=Nl(r);let i,o=yr(this),s=At(void 0);try{if(!(r&re.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=P1(e)&&Rl(e);l&&this.injectableDefInScope(l)?c=ao(Vf(e),ol):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&re.Self?Dp():this.parent;return n=r&re.Optional&&n===Ps?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[dl]=a[dl]||[]).unshift(vt(e)),o)throw a;return t1(a,e,"R3InjectorError",this.source)}else throw a}finally{At(s),yr(o)}}resolveInjectorInitializers(){let e=pe(null),n=yr(this),r=At(void 0),i;try{let o=this.get(mo,Wt,re.Self);for(let s of o)s()}finally{yr(n),At(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=yt(e);let n=go(e)?e:yt(e&&e.provide),r=A1(e);if(!go(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ao(void 0,ol,!0),i.factory=()=>Of(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===ol&&(n.value=T1,n.value=n.factory()),typeof n.value=="object"&&n.value&&M1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=yt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vf(t){let e=Rl(t),n=e!==null?e.factory:ii(t);if(n!==null)return n;if(t instanceof L)throw new U(204,!1);if(t instanceof Function)return S1(t);throw new U(204,!1)}function S1(t){if(t.length>0)throw new U(204,!1);let n=Ux(t);return n!==null?()=>n.factory(t):()=>new t}function A1(t){if(Zw(t))return ao(void 0,t.useValue);{let e=Xw(t);return ao(e,ol)}}function Xw(t,e,n){let r;if(go(t)){let i=yt(t);return ii(i)||Vf(i)}else if(Zw(t))r=()=>yt(t.useValue);else if(b1(t))r=()=>t.useFactory(...Of(t.deps||[]));else if(C1(t))r=()=>j(yt(t.useExisting));else{let i=yt(t&&(t.useClass||t.provide));if(x1(t))r=()=>new i(...Of(t.deps));else return ii(i)||Vf(i)}return r}function ao(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function x1(t){return!!t.deps}function M1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function P1(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function Lf(t,e){for(let n of t)Array.isArray(n)?Lf(n,e):n&&Ow(n)?Lf(n.\u0275providers,e):e(n)}function pn(t,e){t instanceof Ns&&t.assertNotDestroyed();let n,r=yr(t),i=At(void 0);try{return e()}finally{yr(r),At(i)}}function eI(){return kw()!==void 0||Zx()!=null}function R1(t){if(!eI())throw new U(-203,!1)}function N1(t){return typeof t=="function"}var Xn=0,ae=1,K=2,dt=3,hn=4,mn=5,pl=6,Os=7,fn=8,_o=9,xn=10,je=11,ks=12,nw=13,Do=14,Mn=15,kl=16,co=17,yo=18,Fl=19,tI=20,vr=21,yf=22,oi=23,Qt=25,nI=1;var si=7,ml=8,gl=9,Kt=10,Tp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Tp||{});function ni(t){return Array.isArray(t)&&typeof t[nI]=="object"}function er(t){return Array.isArray(t)&&t[nI]===!0}function Sp(t){return(t.flags&4)!==0}function Vl(t){return t.componentOffset>-1}function Ll(t){return(t.flags&1)===1}function Ir(t){return!!t.template}function O1(t){return(t[K]&512)!==0}var jf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function rI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function tr(){return iI}function iI(t){return t.type.prototype.ngOnChanges&&(t.setInput=F1),k1}tr.ngInherit=!0;function k1(){let t=sI(this),e=t?.current;if(e){let n=t.previous;if(n===po)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function F1(t,e,n,r,i){let o=this.declaredInputs[r],s=sI(t)||V1(t,{previous:po,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new jf(l&&l.currentValue,n,c===po),rI(t,e,i,n)}var oI="__ngSimpleChanges__";function sI(t){return t[oI]||null}function V1(t,e){return t[oI]=e}var rw=null;var Tn=function(t,e,n){rw?.(t,e,n)},L1="svg",j1="math",U1=!1;function B1(){return U1}function Pn(t){for(;Array.isArray(t);)t=t[Xn];return t}function aI(t,e){return Pn(e[t])}function Jt(t,e){return Pn(e[t.index])}function cI(t,e){return t.data[e]}function lI(t,e){return t[e]}function br(t,e){let n=e[t];return ni(n)?n:n[Xn]}function Ap(t){return(t[K]&128)===128}function $1(t){return er(t[dt])}function vo(t,e){return e==null?null:t[e]}function uI(t){t[co]=0}function q1(t){t[K]&1024||(t[K]|=1024,Ap(t)&&Fs(t))}function H1(t,e){for(;t>0;)e=e[Do],t--;return e}function xp(t){return!!(t[K]&9216||t[oi]?.dirty)}function Uf(t){t[xn].changeDetectionScheduler?.notify(1),xp(t)?Fs(t):t[K]&64&&(B1()?(t[K]|=1024,Fs(t)):t[xn].changeDetectionScheduler?.notify())}function Fs(t){t[xn].changeDetectionScheduler?.notify();let e=Vs(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Ap(e)));)e=Vs(e)}function dI(t,e){if((t[K]&256)===256)throw new U(911,!1);t[vr]===null&&(t[vr]=[]),t[vr].push(e)}function z1(t,e){if(t[vr]===null)return;let n=t[vr].indexOf(e);n!==-1&&t[vr].splice(n,1)}function Vs(t){let e=t[dt];return er(e)?e[dt]:e}var ne={lFrame:vI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function G1(){return ne.lFrame.elementDepthCount}function W1(){ne.lFrame.elementDepthCount++}function K1(){ne.lFrame.elementDepthCount--}function hI(){return ne.bindingsEnabled}function Q1(){return ne.skipHydrationRootTNode!==null}function Y1(t){return ne.skipHydrationRootTNode===t}function J1(){ne.skipHydrationRootTNode=null}function me(){return ne.lFrame.lView}function it(){return ne.lFrame.tView}function D(t){return ne.lFrame.contextLView=t,t[fn]}function T(t){return ne.lFrame.contextLView=null,t}function Pt(){let t=fI();for(;t!==null&&t.type===64;)t=t.parent;return t}function fI(){return ne.lFrame.currentTNode}function Z1(){let t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function hi(t,e){let n=ne.lFrame;n.currentTNode=t,n.isParent=e}function Mp(){return ne.lFrame.isParent}function pI(){ne.lFrame.isParent=!1}function X1(){return ne.lFrame.contextLView}function Pp(){let t=ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function eM(){return ne.lFrame.bindingIndex}function tM(t){return ne.lFrame.bindingIndex=t}function jl(){return ne.lFrame.bindingIndex++}function mI(t){let e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nM(){return ne.lFrame.inI18n}function rM(t,e){let n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bf(e)}function iM(){return ne.lFrame.currentDirectiveIndex}function Bf(t){ne.lFrame.currentDirectiveIndex=t}function oM(t){let e=ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function gI(t){ne.lFrame.currentQueryIndex=t}function sM(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[mn]:null}function _I(t,e,n){if(n&re.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=sM(o),i===null||(o=o[Do],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ne.lFrame=yI();return r.currentTNode=e,r.lView=t,!0}function Rp(t){let e=yI(),n=t[ae];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function yI(){let t=ne.lFrame,e=t===null?null:t.child;return e===null?vI(t):e}function vI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function wI(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var II=wI;function Np(){let t=wI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function aM(t){return(ne.lFrame.contextLView=H1(t,ne.lFrame.contextLView))[fn]}function fi(){return ne.lFrame.selectedIndex}function ai(t){ne.lFrame.selectedIndex=t}function Ul(){let t=ne.lFrame;return cI(t.tView,t.selectedIndex)}function cM(){return ne.lFrame.currentNamespace}var EI=!0;function Bl(){return EI}function $l(t){EI=t}function lM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=iI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ql(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function sl(t,e,n){CI(t,e,3,n)}function al(t,e,n,r){(t[K]&3)===n&&CI(t,e,n,r)}function vf(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function CI(t,e,n,r){let i=r!==void 0?t[co]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[co]+=65536),(a<o||o==-1)&&(uM(t,n,e,c),t[co]=(t[co]&4294901760)+c+2),c++}function iw(t,e){Tn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),Tn(5,t,e)}}function uM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[K]>>14<t[co]>>16&&(t[K]&3)===e&&(t[K]+=16384,iw(a,o)):iw(a,o)}var fo=-1,ci=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function dM(t){return t instanceof ci}function hM(t){return(t.flags&8)!==0}function fM(t){return(t.flags&16)!==0}function bI(t){return t!==fo}function _l(t){return t&32767}function pM(t){return t>>16}function yl(t,e){let n=pM(t),r=e;for(;n>0;)r=r[Do],n--;return r}var $f=!0;function vl(t){let e=$f;return $f=t,e}var mM=256,DI=mM-1,TI=5,gM=0,Sn={};function _M(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(xs)&&(r=n[xs]),r==null&&(r=n[xs]=gM++);let i=r&DI,o=1<<i;e.data[t+(i>>TI)]|=o}function wl(t,e){let n=SI(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,wf(r.data,t),wf(e,null),wf(r.blueprint,null));let i=Op(t,e),o=t.injectorIndex;if(bI(i)){let s=_l(i),a=yl(i,e),c=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function wf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function SI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Op(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=RI(i),r===null)return fo;if(n++,i=i[Do],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return fo}function qf(t,e,n){_M(t,e,n)}function AI(t,e,n){if(n&re.Optional||t!==void 0)return t;vp(e,"NodeInjector")}function xI(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[_o],o=At(void 0);try{return i?i.get(e,r,n&re.Optional):Fw(e,r,n&re.Optional)}finally{At(o)}}return AI(r,e,n)}function MI(t,e,n,r=re.Default,i){if(t!==null){if(e[K]&2048&&!(r&re.Self)){let s=EM(t,e,n,r,Sn);if(s!==Sn)return s}let o=PI(t,e,n,r,Sn);if(o!==Sn)return o}return xI(e,n,r,i)}function PI(t,e,n,r,i){let o=wM(n);if(typeof o=="function"){if(!_I(e,t,r))return r&re.Host?AI(i,n,r):xI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&re.Optional))vp(n);else return s}finally{II()}}else if(typeof o=="number"){let s=null,a=SI(t,e),c=fo,l=r&re.Host?e[Mn][mn]:null;for((a===-1||r&re.SkipSelf)&&(c=a===-1?Op(t,e):e[a+8],c===fo||!sw(r,!1)?a=-1:(s=e[ae],a=_l(c),e=yl(c,e)));a!==-1;){let u=e[ae];if(ow(o,a,u.data)){let d=yM(a,e,n,s,r,l);if(d!==Sn)return d}c=e[a+8],c!==fo&&sw(r,e[ae].data[a+8]===l)&&ow(o,a,e)?(s=u,a=_l(c),e=yl(c,e)):a=-1}}return i}function yM(t,e,n,r,i,o){let s=e[ae],a=s.data[t+8],c=r==null?Vl(a)&&$f:r!=s&&(a.type&3)!==0,l=i&re.Host&&o===a,u=vM(a,s,n,c,l);return u!==null?wo(e,s,u,a):Sn}function vM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:l;for(let _=d;_<m;_++){let I=s[_];if(_<c&&n===I||_>=c&&I.type===n)return _}if(i){let _=s[c];if(_&&Ir(_)&&_.type===n)return c}return null}function wo(t,e,n,r){let i=t[n],o=e.data;if(dM(i)){let s=i;s.resolving&&Wx(Gx(o[n]));let a=vl(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?At(s.injectImpl):null,u=_I(t,r,re.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&lM(n,o[n],e)}finally{l!==null&&At(l),vl(a),s.resolving=!1,II()}}return i}function wM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(xs)?t[xs]:void 0;return typeof e=="number"?e>=0?e&DI:IM:e}function ow(t,e,n){let r=1<<t;return!!(n[e+(t>>TI)]&r)}function sw(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var ri=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return MI(this._tNode,this._lView,e,Nl(r),n)}};function IM(){return new ri(Pt(),me())}function Zt(t){return Bs(()=>{let e=t.prototype.constructor,n=e[ul]||Hf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ul]||Hf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Hf(t){return Mw(t)?()=>{let e=Hf(yt(t));return e&&e()}:ii(t)}function EM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let a=PI(o,s,n,r|re.Self,Sn);if(a!==Sn)return a;let c=o.parent;if(!c){let l=s[tI];if(l){let u=l.get(n,Sn,r);if(u!==Sn)return u}c=RI(s),s=s[Do]}o=c}return i}function RI(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[mn]:null}function aw(t,e=null,n=null,r){let i=NI(t,e,n,r);return i.resolveInjectorInitializers(),i}function NI(t,e=null,n=null,r,i=new Set){let o=[n||Wt,Cp(t)];return r=r||(typeof t=="object"?void 0:vt(t)),new Ns(o,e||Dp(),r||null,i)}var Rt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ps}static{this.NULL=new fl}static create(n,r){if(Array.isArray(n))return aw({name:""},r,n,"");{let i=n.name??"";return aw({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=V({token:t,providedIn:"any",factory:()=>j(jw)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var CM="ngOriginalError";function If(t){return t[CM]}var Rn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&If(e);for(;n&&If(n);)n=If(n);return n||null}},OI=new L("",{providedIn:"root",factory:()=>R(Rn).handleError.bind(void 0)}),kp=(()=>{class t{static{this.__NG_ELEMENT_ID__=bM}static{this.__NG_ENV_ID__=n=>n}}return t})(),zf=class extends kp{constructor(e){super(),this._lView=e}onDestroy(e){return dI(this._lView,e),()=>z1(this._lView,e)}};function bM(){return new zf(me())}function DM(){return Hl(Pt(),me())}function Hl(t,e){return new gn(Jt(t,e))}var gn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=DM}}return t})();var Gf=class extends _t{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,eI()&&(this.destroyRef=R(kp,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Ef(o),i&&(i=Ef(i)),s&&(s=Ef(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}};function Ef(t){return e=>{setTimeout(t,void 0,e)}}var nt=Gf;function kI(t){return(t.flags&128)===128}var FI=new Map,TM=0;function SM(){return TM++}function AM(t){FI.set(t[Fl],t)}function xM(t){FI.delete(t[Fl])}var cw="__ngContext__";function Er(t,e){ni(e)?(t[cw]=e[Fl],AM(e)):t[cw]=e}function VI(t){return jI(t[ks])}function LI(t){return jI(t[hn])}function jI(t){for(;t!==null&&!er(t);)t=t[hn];return t}var Wf;function UI(t){Wf=t}function MM(){if(Wf!==void 0)return Wf;if(typeof document<"u")return document;throw new U(210,!1)}var Fp=new L("",{providedIn:"root",factory:()=>PM}),PM="ng",Vp=new L(""),Xt=new L("",{providedIn:"platform",factory:()=>"unknown"});var Lp=new L("",{providedIn:"root",factory:()=>MM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var RM="h",NM="b";var OM=()=>null;function jp(t,e,n=!1){return OM(t,e,n)}var BI=!1,kM=new L("",{providedIn:"root",factory:()=>BI});var Kf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fx})`}};function Up(t){return t instanceof Kf?t.changingThisBreaksApplicationSecurity:t}var FM=/^>|^->|<!--|-->|--!>|<!-$/g,VM=/(<|>)/g,LM="\u200B$1\u200B";function jM(t){return t.replace(FM,e=>e.replace(VM,LM))}function $I(t){return t instanceof Function?t():t}function UM(t){return(t??R(Rt)).get(Xt)==="browser"}var Jn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jn||{}),BM;function Bp(t,e){return BM(t,e)}function lo(t,e,n,r,i){if(r!=null){let o,s=!1;er(r)?o=r:ni(r)&&(s=!0,r=r[Xn]);let a=Pn(r);t===0&&n!==null?i==null?WI(e,n,a):Il(e,n,a,i||null,!0):t===1&&n!==null?Il(e,n,a,i||null,!0):t===2?oP(e,a,s):t===3&&e.destroyNode(a),o!=null&&aP(e,t,o,n,i)}}function $M(t,e){return t.createText(e)}function qM(t,e,n){t.setValue(e,n)}function HM(t,e){return t.createComment(jM(e))}function qI(t,e,n){return t.createElement(e,n)}function zM(t,e){HI(t,e),e[Xn]=null,e[mn]=null}function GM(t,e,n,r,i,o){r[Xn]=i,r[mn]=e,Gl(t,r,n,1,i,o)}function HI(t,e){e[xn].changeDetectionScheduler?.notify(1),Gl(t,e,e[je],2,null,null)}function WM(t){let e=t[ks];if(!e)return Cf(t[ae],t);for(;e;){let n=null;if(ni(e))n=e[ks];else{let r=e[Kt];r&&(n=r)}if(!n){for(;e&&!e[hn]&&e!==t;)ni(e)&&Cf(e[ae],e),e=e[dt];e===null&&(e=t),ni(e)&&Cf(e[ae],e),n=e&&e[hn]}e=n}}function KM(t,e,n,r){let i=Kt+r,o=n.length;r>0&&(n[i-1][hn]=e),r<o-Kt?(e[hn]=n[i],Lw(n,Kt+r,e)):(n.push(e),e[hn]=null),e[dt]=n;let s=e[kl];s!==null&&n!==s&&QM(s,e);let a=e[yo];a!==null&&a.insertView(t),Uf(e),e[K]|=128}function QM(t,e){let n=t[gl],i=e[dt][dt][Mn];e[Mn]!==i&&(t[K]|=Tp.HasTransplantedViews),n===null?t[gl]=[e]:n.push(e)}function zI(t,e){let n=t[gl],r=n.indexOf(e);n.splice(r,1)}function Qf(t,e){if(t.length<=Kt)return;let n=Kt+e,r=t[n];if(r){let i=r[kl];i!==null&&i!==t&&zI(i,r),e>0&&(t[n-1][hn]=r[hn]);let o=hl(t,Kt+e);zM(r[ae],r);let s=o[yo];s!==null&&s.detachView(o[ae]),r[dt]=null,r[hn]=null,r[K]&=-129}return r}function GI(t,e){if(!(e[K]&256)){let n=e[je];n.destroyNode&&Gl(t,e,n,3,null,null),WM(e)}}function Cf(t,e){if(e[K]&256)return;let n=pe(null);try{e[K]&=-129,e[K]|=256,e[oi]&&w0(e[oi]),JM(t,e),YM(t,e),e[ae].type===1&&e[je].destroy();let r=e[kl];if(r!==null&&er(e[dt])){r!==e[dt]&&zI(r,e);let i=e[yo];i!==null&&i.detachView(t)}xM(e)}finally{pe(n)}}function YM(t,e){let n=t.cleanup,r=e[Os];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Os]=null);let i=e[vr];if(i!==null){e[vr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function JM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ci)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Tn(4,a,c);try{c.call(a)}finally{Tn(5,a,c)}}else{Tn(4,i,o);try{o.call(i)}finally{Tn(5,i,o)}}}}}function ZM(t,e,n){return XM(t,e.parent,n)}function XM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Xn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===An.None||o===An.Emulated)return null}return Jt(r,n)}}function Il(t,e,n,r,i){t.insertBefore(e,n,r,i)}function WI(t,e,n){t.appendChild(e,n)}function lw(t,e,n,r,i){r!==null?Il(t,e,n,r,i):WI(t,e,n)}function eP(t,e,n,r){t.removeChild(e,n,r)}function $p(t,e){return t.parentNode(e)}function tP(t,e){return t.nextSibling(e)}function nP(t,e,n){return iP(t,e,n)}function rP(t,e,n){return t.type&40?Jt(t,n):null}var iP=rP,uw;function zl(t,e,n,r){let i=ZM(t,r,e),o=e[je],s=r.parent||e[mn],a=nP(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)lw(o,i,n[c],a,!1);else lw(o,i,n,a,!1);uw!==void 0&&uw(o,r,e,n,i)}function cl(t,e){if(e!==null){let n=e.type;if(n&3)return Jt(e,t);if(n&4)return Yf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return cl(t,r);{let i=t[e.index];return er(i)?Yf(-1,i):Pn(i)}}else{if(n&32)return Bp(e,t)()||Pn(t[e.index]);{let r=KI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Vs(t[Mn]);return cl(i,r)}else return cl(t,e.next)}}}return null}function KI(t,e){if(e!==null){let r=t[Mn][mn],i=e.projection;return r.projection[i]}return null}function Yf(t,e){let n=Kt+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return cl(r,i)}return e[si]}function oP(t,e,n){let r=$p(t,e);r&&eP(t,r,e,n)}function qp(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Er(Pn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)qp(t,e,n.child,r,i,o,!1),lo(e,t,i,a,o);else if(c&32){let l=Bp(n,r),u;for(;u=l();)lo(e,t,i,u,o);lo(e,t,i,a,o)}else c&16?sP(t,e,r,n,i,o):lo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Gl(t,e,n,r,i,o){qp(n,r,t.firstChild,e,i,o,!1)}function sP(t,e,n,r,i,o){let s=n[Mn],c=s[mn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];lo(e,t,i,u,o)}else{let l=c,u=s[dt];kI(r)&&(l.flags|=128),qp(t,e,l,u,i,o,!0)}}function aP(t,e,n,r,i){let o=n[si],s=Pn(n);o!==s&&lo(e,t,r,o,i);for(let a=Kt;a<n.length;a++){let c=n[a];Gl(c[ae],c,t,e,r,o)}}function cP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Jn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jn.Important),t.setStyle(n,r,i,o))}}function lP(t,e,n){t.setAttribute(e,"style",n)}function QI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function YI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&kf(t,e,r),i!==null&&QI(t,e,i),o!==null&&lP(t,e,o)}var _n={};function h(t=1){JI(it(),me(),fi()+t,!1)}function JI(t,e,n,r){if(!r)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&sl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&al(e,o,0,n)}ai(n)}function B(t,e=re.Default){let n=me();if(n===null)return j(t,e);let r=Pt();return MI(r,n,yt(t),e)}function ZI(){let t="invalid";throw new Error(t)}function XI(t,e,n,r,i,o){let s=pe(null);try{let a=null;i&rt.SignalBased&&(a=e[r][zh]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&rt.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):rI(e,a,r,o)}finally{pe(s)}}function uP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ai(~i);else{let o=i,s=n[++r],a=n[++r];rM(s,o);let c=e[o];a(2,c)}}}finally{ai(-1)}}function Wl(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Xn]=i,d[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(d[K]|=2048),uI(d),d[dt]=d[Do]=t,d[fn]=n,d[xn]=s||t&&t[xn],d[je]=a||t&&t[je],d[_o]=c||t&&t[_o]||null,d[mn]=o,d[Fl]=SM(),d[pl]=u,d[tI]=l,d[Mn]=e.type==2?t[Mn]:d,d}function qs(t,e,n,r,i){let o=t.data[e];if(o===null)o=dP(t,e,n,r,i),nM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Z1();o.injectorIndex=s===null?-1:s.injectorIndex}return hi(o,!0),o}function dP(t,e,n,r,i){let o=fI(),s=Mp(),a=s?o:o&&o.parent,c=t.data[e]=gP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function eE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function tE(t,e,n,r,i){let o=fi(),s=r&2;try{ai(-1),s&&e.length>Qt&&JI(t,e,Qt,!1),Tn(s?2:0,i),n(r,i)}finally{ai(o),Tn(s?3:1,i)}}function Hp(t,e,n){if(Sp(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{pe(r)}}}function zp(t,e,n){hI()&&(EP(t,e,n,Jt(n,e)),(n.flags&64)===64&&iE(t,e,n))}function Gp(t,e,n=Jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function nE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Wp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Wp(t,e,n,r,i,o,s,a,c,l,u){let d=Qt+r,m=d+i,_=hP(d,m),I=typeof l=="function"?l():l;return _[ae]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:u}}function hP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:_n);return n}function fP(t,e,n,r){let o=r.get(kM,BI)||n===An.ShadowDom,s=t.selectRootElement(e,o);return pP(s),s}function pP(t){mP(t)}var mP=()=>null;function gP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Q1()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=rt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?hw(r,n,l,a,c):hw(r,n,l,a)}return r}function hw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function _P(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],m=n?n.get(d):null,_=m?m.inputs:null,I=m?m.outputs:null;c=dw(0,d.inputs,u,c,_),l=dw(1,d.outputs,u,l,I);let E=c!==null&&s!==null&&!Ep(e)?NP(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function yP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Kp(t,e,n,r,i,o,s,a){let c=Jt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Yp(t,n,u,r,i),Vl(e)&&vP(n,e.index)):e.type&3?(r=yP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function vP(t,e){let n=br(e,t);n[K]&16||(n[K]|=64)}function Qp(t,e,n,r){if(hI()){let i=r===null?null:{"":-1},o=bP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&rE(t,e,n,s,i,a),i&&DP(n,r,i)}n.mergedAttrs=Rs(n.mergedAttrs,n.attrs)}function rE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)qf(wl(n,e),t,r[l].type);SP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=eE(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Rs(n.mergedAttrs,u.hostAttrs),AP(t,n,e,c,u),TP(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}_P(t,n,o)}function wP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;IP(s)!=a&&s.push(a),s.push(n,r,o)}}function IP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function EP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Vl(n)&&xP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||wl(n,e),Er(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=wo(e,t,a,n);if(Er(l,e),s!==null&&RP(e,a-i,l,c,n,s),Ir(c)){let u=br(n.index,e);u[fn]=wo(e,t,a,n)}}}function iE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=iM();try{ai(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Bf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&CP(c,l)}}finally{ai(-1),Bf(s)}}function CP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function bP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(f1(e,s.selectors,!1))if(r||(r=[]),Ir(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Jf(t,e,c)}else r.unshift(s),Jf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Jf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function DP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}}function TP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ir(e)&&(n[""]=t)}}function SP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function AP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ii(i.type,!0)),s=new ci(o,Ir(i),B);t.blueprint[r]=s,n[r]=s,wP(t,e,r,eE(t,n,i.hostVars,_n),i)}function xP(t,e,n){let r=Jt(e,t),i=nE(n),o=t[xn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Kl(t,Wl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function MP(t,e,n,r,i,o){let s=Jt(t,e);PP(e[je],s,o,t.value,n,r,i)}function PP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ms(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function RP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];XI(r,n,c,l,u,d)}}function NP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function oE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sE(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];gI(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Kl(t,e){return t[ks]?t[nw][hn]=e:t[ks]=e,t[nw]=e,e}function Zf(t,e,n){gI(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function OP(t){return t[Os]||(t[Os]=[])}function kP(t){return t.cleanup||(t.cleanup=[])}function aE(t,e){let n=t[_o],r=n?n.get(Rn,null):null;r&&r.handleError(e)}function Yp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];XI(u,l,r,a,c,i)}}function cE(t,e,n){let r=aI(e,t);qM(t[je],r,n)}function FP(t,e){let n=br(e,t),r=n[ae];VP(r,n);let i=n[Xn];i!==null&&n[pl]===null&&(n[pl]=jp(i,n[_o])),Jp(r,n,n[fn])}function VP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jp(t,e,n){Rp(e);try{let r=t.viewQuery;r!==null&&Zf(1,r,n);let i=t.template;i!==null&&tE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[yo]?.finishViewCreation(t),t.staticContentQueries&&sE(t,e),t.staticViewQueries&&Zf(2,t.viewQuery,n);let o=t.components;o!==null&&LP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,Np()}}function LP(t,e){for(let n=0;n<e.length;n++)FP(t,e[n])}function jP(t,e,n,r){let i=pe(null);try{let o=e.tView,a=t[K]&4096?4096:16,c=Wl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[kl]=l;let u=t[yo];return u!==null&&(c[yo]=u.createEmbeddedView(o)),Jp(o,c,n),c}finally{pe(i)}}function fw(t,e){return!e||e.firstChild===null||kI(t)}function UP(t,e,n,r=!0){let i=e[ae];if(KM(i,e,t,n),r){let s=Yf(n,t),a=e[je],c=$p(a,t[si]);c!==null&&GM(i,t[mn],a,e,c,s)}let o=e[pl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function El(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Pn(o)),er(o)&&BP(o,r);let s=n.type;if(s&8)El(t,e,n.child,r);else if(s&32){let a=Bp(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=KI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Vs(e[Mn]);El(c[ae],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function BP(t,e){for(let n=Kt;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&El(r[ae],r,i,e)}t[si]!==t[Xn]&&e.push(t[si])}var lE=[];function $P(t){return t[oi]??qP(t)}function qP(t){let e=lE.pop()??Object.create(zP);return e.lView=t,e}function HP(t){t.lView[oi]!==t&&(t.lView=null,lE.push(t))}var zP=J(P({},_0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Fs(t.lView)},consumerOnSignalRead(){this.lView[oi]=this}}),uE=100;function dE(t,e=!0,n=0){let r=t[xn],i=r.rendererFactory,o=!1;o||i.begin?.();try{GP(t,n)}catch(s){throw e&&aE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function GP(t,e){Xf(t,e);let n=0;for(;xp(t);){if(n===uE)throw new U(103,!1);n++,Xf(t,1)}}function WP(t,e,n,r){let i=e[K];if((i&256)===256)return;let o=!1;!o&&e[xn].inlineEffectRunner?.flush(),Rp(e);let s=null,a=null;!o&&KP(t)&&(a=$P(e),s=y0(a));try{uI(e),tM(t.bindingStartIndex),n!==null&&tE(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&sl(e,d,null)}else{let d=t.preOrderHooks;d!==null&&al(e,d,0,null),vf(e,0)}if(QP(e),hE(e,0),t.contentQueries!==null&&sE(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&sl(e,d)}else{let d=t.contentHooks;d!==null&&al(e,d,1),vf(e,1)}uP(t,e);let l=t.components;l!==null&&pE(e,l,0);let u=t.viewQuery;if(u!==null&&Zf(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&sl(e,d)}else{let d=t.viewHooks;d!==null&&al(e,d,2),vf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[yf]){for(let d of e[yf])d();e[yf]=null}o||(e[K]&=-73)}catch(c){throw Fs(e),c}finally{a!==null&&(v0(a,s),HP(a)),Np()}}function KP(t){return t.type!==2}function hE(t,e){for(let n=VI(t);n!==null;n=LI(n))for(let r=Kt;r<n.length;r++){let i=n[r];fE(i,e)}}function QP(t){for(let e=VI(t);e!==null;e=LI(e)){if(!(e[K]&Tp.HasTransplantedViews))continue;let n=e[gl];for(let r=0;r<n.length;r++){let i=n[r],o=i[dt];q1(i)}}}function YP(t,e,n){let r=br(e,t);fE(r,n)}function fE(t,e){Ap(t)&&Xf(t,e)}function Xf(t,e){let r=t[ae],i=t[K],o=t[oi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Gh(o)),o&&(o.dirty=!1),t[K]&=-9217,s)WP(r,t,r.template,t[fn]);else if(i&8192){hE(t,1);let a=r.components;a!==null&&pE(t,a,1)}}function pE(t,e,n){for(let r=0;r<e.length;r++)YP(t,e[r],n)}function Zp(t){for(t[xn].changeDetectionScheduler?.notify();t;){t[K]|=64;let e=Vs(t);if(O1(t)&&!e)return t;t=e}return null}var li=class{get rootNodes(){let e=this._lView,n=e[ae];return El(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[dt];if(er(e)){let n=e[ml],r=n?n.indexOf(this):-1;r>-1&&(Qf(e,r),hl(n,r))}this._attachedToViewContainer=!1}GI(this._lView[ae],this._lView)}onDestroy(e){dI(this._lView,e)}markForCheck(){Zp(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){Uf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,dE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,HI(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e,Uf(this._lView)}},Ql=(()=>{class t{static{this.__NG_ELEMENT_ID__=XP}}return t})(),JP=Ql,ZP=class extends JP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=jP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new li(i)}};function XP(){return eR(Pt(),me())}function eR(t,e){return t.type&4?new ZP(e,t,Hl(t,e)):null}var e8=new RegExp(`^(\\d+)*(${NM}|${RM})*(.*)`);var tR=()=>null;function pw(t,e){return tR(t,e)}var Cl=class{},ep=class{},bl=class{};function nR(t){let e=Error(`No component factory found for ${vt(t)}.`);return e[rR]=t,e}var rR="ngComponent";var tp=class{resolveComponentFactory(e){throw nR(e)}},Yl=(()=>{class t{static{this.NULL=new tp}}return t})(),Ls=class{},Nn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>iR()}}return t})();function iR(){let t=me(),e=Pt(),n=br(e.index,t);return(ni(n)?n:t)[je]}var oR=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>null})}}return t})(),bf={};var mw=new Set;function Jl(t){mw.has(t)||(mw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gw(...t){}function sR(){let t=typeof Yn.requestAnimationFrame=="function",e=Yn[t?"requestAnimationFrame":"setTimeout"],n=Yn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=sR().nativeRequestAnimationFrame,lR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,aR,gw,gw);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},aR={};function Xp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Yn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,np(t),t.isCheckStableRunning=!0,Xp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),np(t))}function lR(t){let e=()=>{cR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(uR(a))return n.invokeTask(i,o,s,a);try{return _w(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yw(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return _w(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),yw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,np(t),Xp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function np(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function _w(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yw(t){t._nesting--,Xp(t)}function uR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var uo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(uo||{}),dR={destroy(){}};function Zl(t,e){!e&&R1(Zl);let n=e?.injector??R(Rt);if(!UM(n))return dR;Jl("NgAfterNextRender");let r=n.get(em),i=r.handler??=new ip,o=e?.phase??uo.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(kp).onDestroy(s),c=pn(n,()=>new rp(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var rp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=R(we),this.errorHandler=R(Rn,{optional:!0}),R(Cl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ip=class{constructor(){this.executingCallbacks=!1,this.buckets={[uo.EarlyRead]:new Set,[uo.Write]:new Set,[uo.MixedReadWrite]:new Set,[uo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},em=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Dl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=G0(i,a);else if(o==2){let c=a,l=e[++s];r=G0(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Tl=class extends Yl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wr(e);return new Io(n,this.ngModule)}};function vw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function hR(t){let e=t.toLowerCase();return e==="svg"?L1:e==="math"?j1:null}var op=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Nl(r);let i=this.injector.get(e,bf,r);return i!==bf||n===bf?i:this.parentInjector.get(e,n,r)}},Io=class extends bl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=vw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return vw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=_1(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=pe(null);try{i=i||this.ngModule;let s=i instanceof ut?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new op(e,s):e,c=a.get(Ls,null);if(c===null)throw new U(407,!1);let l=a.get(oR,null),u=a.get(em,null),d=a.get(Cl,null),m={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},_=c.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",E=r?fP(_,r,this.componentDef.encapsulation,a):qI(_,I,hR(I)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let O=null;E!==null&&(O=jp(E,a,!0));let ie=Wp(0,null,null,1,0,null,null,null,null,null,null),q=Wl(null,ie,null,C,null,null,m,_,a,null,O);Rp(q);let ve,Ke;try{let fe=this.componentDef,lt,bn=null;fe.findHostDirectiveDefs?(lt=[],bn=new Map,fe.findHostDirectiveDefs(fe,lt,bn),lt.push(fe)):lt=[fe];let Qr=fR(q,E),Gi=pR(Qr,E,fe,lt,q,m,_);Ke=cI(ie,Qt),E&&_R(_,fe,E,r),n!==void 0&&yR(Ke,this.ngContentSelectors,n),ve=gR(Gi,fe,lt,bn,q,[vR]),Jp(ie,q,null)}finally{Np()}return new sp(this.componentType,ve,Hl(Ke,q),q,Ke)}finally{pe(o)}}},sp=class extends ep{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new li(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Yp(o[ae],o,i,e,n),this.previousInputValues.set(e,n);let s=br(this._tNode.index,o);Zp(s)}}get injector(){return new ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fR(t,e){let n=t[ae],r=Qt;return t[r]=e,qs(n,r,2,"#host",null)}function pR(t,e,n,r,i,o,s){let a=i[ae];mR(r,t,e,s);let c=null;e!==null&&(c=jp(e,i[_o]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Wl(i,nE(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Jf(a,t,r.length-1),Kl(i,d),i[t.index]=d}function mR(t,e,n,r){for(let i of t)e.mergedAttrs=Rs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Dl(e,e.mergedAttrs,!0),n!==null&&YI(r,n,e))}function gR(t,e,n,r,i,o){let s=Pt(),a=i[ae],c=Jt(s,i);rE(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,m=wo(i,a,d,s);Er(m,i)}iE(a,i,s),c&&Er(c,i);let l=wo(i,a,s.directiveStart+s.componentOffset,s);if(t[fn]=i[fn]=l,o!==null)for(let u of o)u(l,e);return Hp(a,s,i),l}function _R(t,e,n,r){if(r)kf(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=y1(e.selectors[0]);i&&kf(t,n,i),o&&o.length>0&&QI(t,n,o.join(" "))}}function yR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function vR(){let t=Pt();ql(me()[ae],t)}var To=(()=>{class t{static{this.__NG_ELEMENT_ID__=wR}}return t})();function wR(){let t=Pt();return ER(t,me())}var IR=To,mE=class extends IR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Hl(this._hostTNode,this._hostLView)}get injector(){return new ri(this._hostTNode,this._hostLView)}get parentInjector(){let e=Op(this._hostTNode,this._hostLView);if(bI(e)){let n=yl(e,this._hostLView),r=_l(e),i=n[ae].data[r+8];return new ri(i,n)}else return new ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ww(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,fw(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!N1(e),a;if(s)a=n;else{let I=n||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}let c=s?e:new Io(wr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(ut,null);E&&(o=E)}let u=wr(c.componentType??{}),d=pw(this._lContainer,u?.id??null),m=d?.firstChild??null,_=c.create(l,i,m,o);return this.insertImpl(_.hostView,a,fw(this._hostTNode,d)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if($1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[dt],l=new mE(c,c[mn],c[dt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return UP(s,i,o,r),e.attachToViewContainerRef(),Lw(Df(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ww(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Qf(this._lContainer,n);r&&(hl(Df(this._lContainer),n),GI(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=Qf(this._lContainer,n);return r&&hl(Df(this._lContainer),n)!=null?new li(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ww(t){return t[ml]}function Df(t){return t[ml]||(t[ml]=[])}function ER(t,e){let n,r=e[t.index];return er(r)?n=r:(n=oE(r,e,null,t),e[t.index]=n,Kl(e,n)),bR(n,e,t,r),new mE(n,t,e)}function CR(t,e){let n=t[je],r=n.createComment(""),i=Jt(e,t),o=$p(n,i);return Il(n,o,r,tP(n,i),!1),r}var bR=SR,DR=()=>!1;function TR(t,e,n){return DR(t,e,n)}function SR(t,e,n,r){if(t[si])return;let i;n.type&8?i=Pn(r):i=CR(e,n),t[si]=i}function AR(t){return typeof t=="function"&&t[zh]!==void 0}function gE(t){return AR(t)&&typeof t.set=="function"}function xR(t){return Object.getPrototypeOf(t.prototype).constructor}function ot(t){let e=xR(t.type),n=!0,r=[t];for(;e;){let i;if(Ir(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=rl(t.inputs),s.inputTransforms=rl(t.inputTransforms),s.declaredInputs=rl(t.declaredInputs),s.outputs=rl(t.outputs);let a=i.hostBindings;a&&OR(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&RR(t,c),l&&NR(t,l),MR(t,i),Lx(t.outputs,i.outputs),Ir(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ot&&(n=!1)}}e=Object.getPrototypeOf(e)}PR(r)}function MR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function PR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rs(i.hostAttrs,n=Rs(n,i.hostAttrs))}}function rl(t){return t===po?{}:t===Wt?[]:t}function RR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function NR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function OR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Cr=class{},js=class{};var ap=class extends Cr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tl(this);let i=Ww(e);this._bootstrapComponents=$I(i.bootstrap),this._r3Injector=NI(e,n,[{provide:Cr,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cp=class extends js{constructor(e){super(),this.moduleType=e}create(e){return new ap(this.moduleType,e,[])}};var Sl=class extends Cr{constructor(e){super(),this.componentFactoryResolver=new Tl(this),this.instance=null;let n=new Ns([...e.providers,{provide:Cr,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],e.parent||Dp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Xl(t,e,n=null){return new Sl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var So=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _E(t){return FR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function kR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function FR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function yE(t,e,n){return t[e]=n}function VR(t,e){return t[e]}function ui(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function vE(t,e,n,r){let i=ui(t,e,n);return ui(t,e+1,r)||i}function LR(t){return(t.flags&32)===32}function jR(t,e,n,r,i,o,s,a,c){let l=e.consts,u=qs(e,t,4,s||null,vo(l,a));Qp(e,n,u,vo(l,c)),ql(e,u);let d=u.tView=Wp(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function x(t,e,n,r,i,o,s,a){let c=me(),l=it(),u=t+Qt,d=l.firstCreatePass?jR(u,l,c,e,n,r,i,o,s):l.data[u];hi(d,!1);let m=UR(l,c,d,t);Bl()&&zl(l,c,m,d),Er(m,c);let _=oE(m,c,m,d);return c[u]=_,Kl(c,_),TR(_,d,c),Ll(d)&&zp(l,c,d),s!=null&&Gp(c,d,a),x}var UR=BR;function BR(t,e,n,r){return $l(!0),e[je].createComment("")}function Dr(t,e,n,r){let i=me(),o=jl();if(ui(i,o,e)){let s=it(),a=Ul();MP(a,i,t,e,n,r)}return Dr}function wE(t,e,n,r){return ui(t,jl(),n)?e+Ms(n)+r:_n}function $R(t,e,n,r,i,o){let s=eM(),a=vE(t,s,n,i);return mI(2),a?e+Ms(n)+r+Ms(i)+o:_n}function il(t,e){return t<<17|e<<2}function di(t){return t>>17&32767}function qR(t){return(t&2)==2}function HR(t,e){return t&131071|e<<17}function lp(t){return t|2}function Eo(t){return(t&131068)>>2}function Tf(t,e){return t&-131069|e<<2}function zR(t){return(t&1)===1}function up(t){return t|1}function GR(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=di(s),c=Eo(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||$s(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let m=di(t[a+1]);t[r+1]=il(m,a),m!==0&&(t[m+1]=Tf(t[m+1],r)),t[a+1]=HR(t[a+1],r)}else t[r+1]=il(a,0),a!==0&&(t[a+1]=Tf(t[a+1],r)),a=r;else t[r+1]=il(c,0),a===0?a=r:t[c+1]=Tf(t[c+1],r),c=r;l&&(t[r+1]=lp(t[r+1])),Iw(t,u,r,!0),Iw(t,u,r,!1),WR(e,u,t,r,o),s=il(a,c),o?e.classBindings=s:e.styleBindings=s}function WR(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&$s(o,e)>=0&&(n[r+1]=up(n[r+1]))}function Iw(t,e,n,r){let i=t[n+1],o=e===null,s=r?di(i):Eo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];KR(c,e)&&(a=!0,t[s+1]=r?up(l):lp(l)),s=r?di(l):Eo(l)}a&&(t[n+1]=r?lp(i):up(i))}function KR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?$s(t,e)>=0:!1}function y(t,e,n){let r=me(),i=jl();if(ui(r,i,e)){let o=it(),s=Ul();Kp(o,s,r,t,e,r[je],n,!1)}return y}function Ew(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Yp(t,n,o[s],s,r)}function Se(t,e){return QR(t,e,null,!0),Se}function QR(t,e,n,r){let i=me(),o=it(),s=mI(2);if(o.firstUpdatePass&&JR(o,t,s,r),e!==_n&&ui(i,s,e)){let a=o.data[fi()];nN(o,a,i,i[je],t,i[s+1]=rN(e,n),r,s)}}function YR(t,e){return e>=t.expandoStartIndex}function JR(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[fi()],s=YR(t,n);iN(o,r)&&e===null&&!s&&(e=!1),e=ZR(i,o,e,r),GR(i,o,e,n,s,r)}}function ZR(t,e,n,r){let i=oM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Sf(null,t,e,n,r),n=Us(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Sf(i,t,e,n,r),o===null){let c=XR(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Sf(null,t,e,c[1],r),c=Us(c,e.attrs,r),eN(t,e,r,c))}else o=tN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function XR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Eo(r)!==0)return t[di(r)]}function eN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[di(i)]=r}function tN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Us(r,s,n)}return Us(r,e.attrs,n)}function Sf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Us(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Us(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),i1(t,s,n?!0:e[++o]))}return t===void 0?null:t}function nN(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=zR(l)?Cw(c,e,n,i,Eo(l),s):void 0;if(!Al(u)){Al(o)||qR(l)&&(o=Cw(c,null,n,i,a,s));let d=aI(fi(),n);cP(r,s,d,i,o)}}function Cw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,m=n[i+1];m===_n&&(m=d?Wt:void 0);let _=d?gf(m,r):u===r?m:void 0;if(l&&!Al(_)&&(_=gf(c,r)),Al(_)&&(a=_,s))return a;let I=t[i+1];i=s?di(I):Eo(I)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=gf(c,r))}return a}function Al(t){return t!==void 0}function rN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=vt(Up(t)))),t}function iN(t,e){return(t.flags&(e?8:16))!==0}function oN(t,e,n,r,i,o){let s=e.consts,a=vo(s,i),c=qs(e,t,2,r,a);return Qp(e,n,c,vo(s,o)),c.attrs!==null&&Dl(c,c.attrs,!1),c.mergedAttrs!==null&&Dl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=me(),o=it(),s=Qt+t,a=i[je],c=o.firstCreatePass?oN(s,o,i,e,n,r):o.data[s],l=sN(o,i,c,a,e,t);i[s]=l;let u=Ll(c);return hi(c,!0),YI(a,l,c),!LR(c)&&Bl()&&zl(o,i,l,c),G1()===0&&Er(l,i),W1(),u&&(zp(o,i,c),Hp(o,c,i)),r!==null&&Gp(i,c),f}function p(){let t=Pt();Mp()?pI():(t=t.parent,hi(t,!1));let e=t;Y1(e)&&J1(),K1();let n=it();return n.firstCreatePass&&(ql(n,t),Sp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&hM(e)&&Ew(n,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&fM(e)&&Ew(n,e,me(),e.stylesWithoutHost,!1),p}function S(t,e,n,r){return f(t,e,n,r),p(),S}var sN=(t,e,n,r,i,o)=>($l(!0),qI(r,i,cM()));function aN(t,e,n,r,i){let o=e.consts,s=vo(o,r),a=qs(e,t,8,"ng-container",s);s!==null&&Dl(a,s,!0);let c=vo(o,i);return Qp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Re(t,e,n){let r=me(),i=it(),o=t+Qt,s=i.firstCreatePass?aN(o,i,r,e,n):i.data[o];hi(s,!0);let a=cN(i,r,s,t);return r[o]=a,Bl()&&zl(i,r,a,s),Er(a,r),Ll(s)&&(zp(i,r,s),Hp(i,s,r)),n!=null&&Gp(r,s),Re}function Ne(){let t=Pt(),e=it();return Mp()?pI():(t=t.parent,hi(t,!1)),e.firstCreatePass&&(ql(e,t),Sp(t)&&e.queries.elementEnd(t)),Ne}var cN=(t,e,n,r)=>($l(!0),HM(e[je],""));function G(){return me()}var ti=void 0;function lN(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var uN=["en",[["a","p"],["AM","PM"],ti],[["AM","PM"],ti,ti],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ti,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ti,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ti,"{1} 'at' {0}",ti],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",lN],Af={};function en(t){let e=dN(t),n=bw(e);if(n)return n;let r=e.split("-")[0];if(n=bw(r),n)return n;if(r==="en")return uN;throw new U(701,!1)}function bw(t){return t in Af||(Af[t]=Yn.ng&&Yn.ng.common&&Yn.ng.common.locales&&Yn.ng.common.locales[t]),Af[t]}var Ue=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ue||{});function dN(t){return t.toLowerCase().replace(/_/g,"-")}var xl="en-US";var hN=xl;function fN(t){typeof t=="string"&&(hN=t.toLowerCase().replace(/_/g,"-"))}function A(t,e,n,r){let i=me(),o=it(),s=Pt();return IE(o,i,i[je],s,t,e,r),A}function pN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Os],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function IE(t,e,n,r,i,o,s){let a=Ll(r),l=t.firstCreatePass&&kP(t),u=e[fn],d=OP(e),m=!0;if(r.type&3||s){let E=Jt(r,e),C=s?s(E):E,O=d.length,ie=s?ve=>s(Pn(ve[r.index])):r.index,q=null;if(!s&&a&&(q=pN(t,e,i,r.index)),q!==null){let ve=q.__ngLastListenerFn__||q;ve.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,m=!1}else{o=Tw(r,e,u,o,!1);let ve=n.listen(C,i,o);d.push(o,ve),l&&l.push(i,ie,O,O+1)}}else o=Tw(r,e,u,o,!1);let _=r.outputs,I;if(m&&_!==null&&(I=_[i])){let E=I.length;if(E)for(let C=0;C<E;C+=2){let O=I[C],ie=I[C+1],Ke=e[O][ie].subscribe(o),fe=d.length;d.push(o,Ke),l&&l.push(i,r.index,fe,-(fe+1))}}}function Dw(t,e,n,r){let i=pe(null);try{return Tn(6,e,n),n(r)!==!1}catch(o){return aE(t,o),!1}finally{Tn(7,e,n),pe(i)}}function Tw(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?br(t.index,e):e;Zp(a);let c=Dw(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=Dw(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function v(t=1){return aM(t)}function Ao(t,e,n){return EE(t,"",e,"",n),Ao}function EE(t,e,n,r,i){let o=me(),s=wE(o,e,n,r);if(s!==_n){let a=it(),c=Ul();Kp(a,c,o,t,s,o[je],i,!1)}return EE}function mN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Hs(t){let e=X1();return lI(e,Qt+t)}function g(t,e=""){let n=me(),r=it(),i=t+Qt,o=r.firstCreatePass?qs(r,i,1,e,null):r.data[i],s=gN(r,n,o,e,t);n[i]=s,Bl()&&zl(r,n,s,o),hi(o,!1)}var gN=(t,e,n,r,i)=>($l(!0),$M(e[je],r));function de(t){return H("",t,""),de}function H(t,e,n){let r=me(),i=wE(r,t,e,n);return i!==_n&&cE(r,fi(),i),H}function On(t,e,n,r,i){let o=me(),s=$R(o,t,e,n,r,i);return s!==_n&&cE(o,fi(),s),On}function Nt(t,e,n){gE(e)&&(e=e());let r=me(),i=jl();if(ui(r,i,e)){let o=it(),s=Ul();Kp(o,s,r,t,e,r[je],n,!1)}return Nt}function Lt(t,e){let n=gE(t);return n&&t.set(e),n}function Ot(t,e){let n=me(),r=it(),i=Pt();return IE(r,n,n[je],i,t,e),Ot}function _N(t,e,n){let r=it();if(r.firstCreatePass){let i=Ir(t);dp(n,r.data,r.blueprint,i,!0),dp(e,r.data,r.blueprint,i,!1)}}function dp(t,e,n,r,i){if(t=yt(t),Array.isArray(t))for(let o=0;o<t.length;o++)dp(t[o],e,n,r,i);else{let o=it(),s=me(),a=Pt(),c=go(t)?t:yt(t.provide),l=Xw(t),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(go(t)||!t.multi){let _=new ci(l,i,B),I=Mf(c,e,i?u:u+m,d);I===-1?(qf(wl(a,s),o,c),xf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),s.push(_)):(n[I]=_,s[I]=_)}else{let _=Mf(c,e,u+m,d),I=Mf(c,e,u,u+m),E=_>=0&&n[_],C=I>=0&&n[I];if(i&&!C||!i&&!E){qf(wl(a,s),o,c);let O=wN(i?vN:yN,n.length,i,r,l);!i&&C&&(n[I].providerFactory=O),xf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=CE(n[i?I:_],l,!i&&r);xf(o,t,_>-1?_:I,O)}!i&&r&&C&&n[I].componentProviders++}}}function xf(t,e,n,r){let i=go(e),o=D1(e);if(i||o){let c=(o?yt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function CE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function yN(t,e,n,r){return hp(this.multi,[])}function vN(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=wo(n,n[ae],this.providerFactory.index,r);o=a.slice(0,s),hp(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],hp(i,o);return o}function hp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function wN(t,e,n,r,i){let o=new ci(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,CE(o,i,r&&!n),o}function jt(t,e=[]){return n=>{n.providersResolver=(r,i)=>_N(r,i?i(t):t,e)}}var IN=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Yw(!1,n.type),i=r.length>0?Xl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:t,providedIn:"environment",factory:()=>new t(j(ut))})}}return t})();function xo(t){Jl("NgStandalone"),t.getStandaloneInjector=e=>e.get(IN).getOrCreateStandaloneInjector(t)}function bE(t,e,n){let r=Pp()+t,i=me();return i[r]===_n?yE(i,r,n?e.call(n):e()):VR(i,r)}function DE(t,e,n,r,i){return TE(me(),Pp(),t,e,n,r,i)}function EN(t,e){let n=t[e];return n===_n?void 0:n}function TE(t,e,n,r,i,o,s){let a=e+n;return vE(t,a,i,o)?yE(t,a+2,s?r.call(s,i,o):r(i,o)):EN(t,a+2)}function zs(t,e){let n=it(),r,i=t+Qt;n.firstCreatePass?(r=CN(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ii(r.type,!0)),s,a=At(B);try{let c=vl(!1),l=o();return vl(c),mN(n,me(),i,l),l}finally{At(a)}}function CN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Gs(t,e,n,r){let i=t+Qt,o=me(),s=lI(o,i);return bN(o,i)?TE(o,Pp(),e,s.transform,n,r,s):s.transform(n,r)}function bN(t,e){return t[ae].data[e].pure}var Zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},SE=new Zn("17.3.12"),eu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var AE=new L("");function pi(t){return!!t&&typeof t.then=="function"}function xE(t){return!!t&&typeof t.subscribe=="function"}var tu=new L(""),ME=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=R(tu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(pi(o))n.push(o);else if(xE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ws=new L("");function DN(){I0(()=>{throw new U(600,!1)})}function TN(t){return t.isBoundToModule}function SN(t,e,n){try{let r=n();return pi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Mo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(OI),this.afterRenderEffectManager=R(em),this.externalTestViews=new Set,this.beforeRender=new _t,this.afterTick=new _t,this.componentTypes=[],this.components=[],this.isStable=R(So).hasPendingTasks.pipe(ee(n=>!n)),this._injector=R(ut)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof bl;if(!this._injector.get(ME).done){let m=!i&&Gw(n),_=!1;throw new U(405,_)}let s;i?s=n:s=this._injector.get(Yl).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=TN(s)?void 0:this._injector.get(Cr),c=r||s.selector,l=s.create(Rt.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(AE,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Pf(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new U(101,!1);let r=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,pe(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===uE)throw new U(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)AN(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>fp(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>fp(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Pf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Ws,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Pf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Pf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AN(t,e,n){!e&&!fp(t)||xN(t,n,e)}function fp(t){return xp(t)}function xN(t,e,n){let r;n?(r=0,t[K]|=1024):t[K]&64?r=0:r=1,dE(t,e,r)}var pp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},nu=(()=>{class t{compileModuleSync(n){return new cp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Ww(n),o=$I(i.declarations).reduce((s,a)=>{let c=wr(a);return c&&s.push(new Io(c)),s},[]);return new pp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var MN=(()=>{class t{constructor(){this.zone=R(we),this.applicationRef=R(Mo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PN(t){return[{provide:we,useFactory:t},{provide:mo,multi:!0,useFactory:()=>{let e=R(MN,{optional:!0});return()=>e.initialize()}},{provide:mo,multi:!0,useFactory:()=>{let e=R(kN);return()=>{e.initialize()}}},{provide:OI,useFactory:RN}]}function RN(){let t=R(we),e=R(Rn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function NN(t){let e=PN(()=>new we(ON(t)));return bo([[],e])}function ON(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var kN=(()=>{class t{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=R(we),this.pendingTasks=R(So)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FN(){return typeof $localize<"u"&&$localize.locale||xl}var ru=new L("",{providedIn:"root",factory:()=>R(ru,re.Optional|re.SkipSelf)||FN()});var PE=new L("");var ll=null;function VN(t=[],e){return Rt.create({name:e,providers:[{provide:Ol,useValue:"platform"},{provide:PE,useValue:new Set([()=>ll=null])},...t]})}function LN(t=[]){if(ll)return ll;let e=VN(t);return ll=e,DN(),jN(e),e}function jN(t){t.get(Vp,null)?.forEach(n=>n())}var mi=(()=>{class t{static{this.__NG_ELEMENT_ID__=UN}}return t})();function UN(t){return BN(Pt(),me(),(t&16)===16)}function BN(t,e,n){if(Vl(t)&&!n){let r=br(t.index,e);return new li(r,r)}else if(t.type&47){let r=e[Mn];return new li(r,e)}return null}var mp=class{constructor(){}supports(e){return _E(e)}create(e){return new gp(e)}},$N=(t,e)=>e,gp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$N}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Sw(r,i,o)?n:r,a=Sw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let m=0;m<l;m++){let _=m<o.length?o[m]:o[m]=0,I=_+m;u<=I&&I<l&&(o[m]=_+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!_E(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,kR(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new _p(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ml),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ml),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},_p=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},yp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ml=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new yp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Sw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Aw(){return new tm([new mp])}var tm=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:Aw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Aw()),deps:[[t,new wp,new Yt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new U(901,!1)}}return t})();function RE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=LN(r),o=[NN(),...n||[]],a=new Sl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(we);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Rn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:_=>{l.handleError(_)}})});let d=()=>a.destroy(),m=i.get(PE);return m.add(d),a.onDestroy(()=>{u.unsubscribe(),m.delete(d)}),SN(l,c,()=>{let _=a.get(ME);return _.runInitializers(),_.donePromise.then(()=>{let I=a.get(ru,xl);fN(I||xl);let E=a.get(Mo);return e!==void 0&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}function Ks(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function NE(t){let e=wr(t);if(!e)return null;let n=new Io(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var UE=null;function or(){return UE}function BE(t){UE??=t}var hu=class{};var ht=new L(""),um=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(zN),providedIn:"platform"})}}return t})(),$E=new L(""),zN=(()=>{class t extends um{constructor(){super(),this._doc=R(ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return or().getBaseHref(this._doc)}onPopState(n){let r=or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function dm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function OE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function rr(t){return t&&t[0]!=="?"?"?"+t:t}var gi=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(hm),providedIn:"root"})}}return t})(),qE=new L(""),hm=(()=>{class t extends gi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return dm(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+rr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+rr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+rr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(j(um),j(qE,8))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),HE=(()=>{class t extends gi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=dm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+rr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+rr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(j(um),j(qE,8))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),Ro=(()=>{class t{constructor(n){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=KN(OE(kE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+rr(r))}normalize(n){return t.stripTrailingSlash(WN(this._basePath,kE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=rr}static{this.joinWithSlash=dm}static{this.stripTrailingSlash=OE}static{this.\u0275fac=function(r){return new(r||t)(j(gi))}}static{this.\u0275prov=V({token:t,factory:()=>GN(),providedIn:"root"})}}return t})();function GN(){return new Ro(j(gi))}function WN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function kE(t){return t.replace(/\/index.html$/,"")}function KN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var It=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(It||{}),Te=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Te||{}),Ut=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ut||{}),Tr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function QN(t){return en(t)[Ue.LocaleId]}function YN(t,e,n){let r=en(t),i=[r[Ue.DayPeriodsFormat],r[Ue.DayPeriodsStandalone]],o=nn(i,e);return nn(o,n)}function JN(t,e,n){let r=en(t),i=[r[Ue.DaysFormat],r[Ue.DaysStandalone]],o=nn(i,e);return nn(o,n)}function ZN(t,e,n){let r=en(t),i=[r[Ue.MonthsFormat],r[Ue.MonthsStandalone]],o=nn(i,e);return nn(o,n)}function XN(t,e){let r=en(t)[Ue.Eras];return nn(r,e)}function iu(t,e){let n=en(t);return nn(n[Ue.DateFormat],e)}function ou(t,e){let n=en(t);return nn(n[Ue.TimeFormat],e)}function su(t,e){let r=en(t)[Ue.DateTimeFormat];return nn(r,e)}function pu(t,e){let n=en(t),r=n[Ue.NumberSymbols][e];if(typeof r>"u"){if(e===Tr.CurrencyDecimal)return n[Ue.NumberSymbols][Tr.Decimal];if(e===Tr.CurrencyGroup)return n[Ue.NumberSymbols][Tr.Group]}return r}function zE(t){if(!t[Ue.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ue.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function eO(t){let e=en(t);return zE(e),(e[Ue.ExtraData][2]||[]).map(r=>typeof r=="string"?nm(r):[nm(r[0]),nm(r[1])])}function tO(t,e,n){let r=en(t);zE(r);let i=[r[Ue.ExtraData][0],r[Ue.ExtraData][1]],o=nn(i,e)||[];return nn(o,n)||[]}function nn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function nm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var nO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,au={},rO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ir=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(ir||{}),_e=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(_e||{}),ge=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ge||{});function iO(t,e,n,r){let i=fO(t);e=nr(n,e)||e;let s=[],a;for(;e;)if(a=rO.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=WE(r,c),i=hO(i,r,!0));let l="";return s.forEach(u=>{let d=uO(u);l+=d?d(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function fu(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function nr(t,e){let n=QN(t);if(au[n]??={},au[n][e])return au[n][e];let r="";switch(e){case"shortDate":r=iu(t,Ut.Short);break;case"mediumDate":r=iu(t,Ut.Medium);break;case"longDate":r=iu(t,Ut.Long);break;case"fullDate":r=iu(t,Ut.Full);break;case"shortTime":r=ou(t,Ut.Short);break;case"mediumTime":r=ou(t,Ut.Medium);break;case"longTime":r=ou(t,Ut.Long);break;case"fullTime":r=ou(t,Ut.Full);break;case"short":let i=nr(t,"shortTime"),o=nr(t,"shortDate");r=cu(su(t,Ut.Short),[i,o]);break;case"medium":let s=nr(t,"mediumTime"),a=nr(t,"mediumDate");r=cu(su(t,Ut.Medium),[s,a]);break;case"long":let c=nr(t,"longTime"),l=nr(t,"longDate");r=cu(su(t,Ut.Long),[c,l]);break;case"full":let u=nr(t,"fullTime"),d=nr(t,"fullDate");r=cu(su(t,Ut.Full),[u,d]);break}return r&&(au[n][e]=r),r}function cu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function yn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function oO(t,e){return yn(t,3).substring(0,e)}function He(t,e,n=0,r=!1,i=!1){return function(o,s){let a=sO(t,o);if((n>0||a>-n)&&(a+=n),t===_e.Hours)a===0&&n===-12&&(a=12);else if(t===_e.FractionalSeconds)return oO(a,e);let c=pu(s,Tr.MinusSign);return yn(a,e,c,r,i)}}function sO(t,e){switch(t){case _e.FullYear:return e.getFullYear();case _e.Month:return e.getMonth();case _e.Date:return e.getDate();case _e.Hours:return e.getHours();case _e.Minutes:return e.getMinutes();case _e.Seconds:return e.getSeconds();case _e.FractionalSeconds:return e.getMilliseconds();case _e.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ae(t,e,n=It.Format,r=!1){return function(i,o){return aO(i,o,t,e,n,r)}}function aO(t,e,n,r,i,o){switch(n){case ge.Months:return ZN(e,i,r)[t.getMonth()];case ge.Days:return JN(e,i,r)[t.getDay()];case ge.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=eO(e),u=tO(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){let[_,I]=m,E=s>=_.hours&&a>=_.minutes,C=s<I.hours||s===I.hours&&a<I.minutes;if(_.hours<I.hours){if(E&&C)return!0}else if(E||C)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return YN(e,i,r)[s<12?0:1];case ge.Eras:return XN(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function lu(t){return function(e,n,r){let i=-1*r,o=pu(n,Tr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ir.Short:return(i>=0?"+":"")+yn(s,2,o)+yn(Math.abs(i%60),2,o);case ir.ShortGMT:return"GMT"+(i>=0?"+":"")+yn(s,1,o);case ir.Long:return"GMT"+(i>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(i%60),2,o);case ir.Extended:return r===0?"Z":(i>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var cO=0,du=4;function lO(t){let e=fu(t,cO,1).getDay();return fu(t,0,1+(e<=du?du:du+7)-e)}function GE(t){let e=t.getDay(),n=e===0?-3:du-e;return fu(t.getFullYear(),t.getMonth(),t.getDate()+n)}function rm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=GE(n),s=lO(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return yn(i,t,pu(r,Tr.MinusSign))}}function uu(t,e=!1){return function(n,r){let o=GE(n).getFullYear();return yn(o,t,pu(r,Tr.MinusSign),e)}}var im={};function uO(t){if(im[t])return im[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ae(ge.Eras,Te.Abbreviated);break;case"GGGG":e=Ae(ge.Eras,Te.Wide);break;case"GGGGG":e=Ae(ge.Eras,Te.Narrow);break;case"y":e=He(_e.FullYear,1,0,!1,!0);break;case"yy":e=He(_e.FullYear,2,0,!0,!0);break;case"yyy":e=He(_e.FullYear,3,0,!1,!0);break;case"yyyy":e=He(_e.FullYear,4,0,!1,!0);break;case"Y":e=uu(1);break;case"YY":e=uu(2,!0);break;case"YYY":e=uu(3);break;case"YYYY":e=uu(4);break;case"M":case"L":e=He(_e.Month,1,1);break;case"MM":case"LL":e=He(_e.Month,2,1);break;case"MMM":e=Ae(ge.Months,Te.Abbreviated);break;case"MMMM":e=Ae(ge.Months,Te.Wide);break;case"MMMMM":e=Ae(ge.Months,Te.Narrow);break;case"LLL":e=Ae(ge.Months,Te.Abbreviated,It.Standalone);break;case"LLLL":e=Ae(ge.Months,Te.Wide,It.Standalone);break;case"LLLLL":e=Ae(ge.Months,Te.Narrow,It.Standalone);break;case"w":e=rm(1);break;case"ww":e=rm(2);break;case"W":e=rm(1,!0);break;case"d":e=He(_e.Date,1);break;case"dd":e=He(_e.Date,2);break;case"c":case"cc":e=He(_e.Day,1);break;case"ccc":e=Ae(ge.Days,Te.Abbreviated,It.Standalone);break;case"cccc":e=Ae(ge.Days,Te.Wide,It.Standalone);break;case"ccccc":e=Ae(ge.Days,Te.Narrow,It.Standalone);break;case"cccccc":e=Ae(ge.Days,Te.Short,It.Standalone);break;case"E":case"EE":case"EEE":e=Ae(ge.Days,Te.Abbreviated);break;case"EEEE":e=Ae(ge.Days,Te.Wide);break;case"EEEEE":e=Ae(ge.Days,Te.Narrow);break;case"EEEEEE":e=Ae(ge.Days,Te.Short);break;case"a":case"aa":case"aaa":e=Ae(ge.DayPeriods,Te.Abbreviated);break;case"aaaa":e=Ae(ge.DayPeriods,Te.Wide);break;case"aaaaa":e=Ae(ge.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":e=Ae(ge.DayPeriods,Te.Abbreviated,It.Standalone,!0);break;case"bbbb":e=Ae(ge.DayPeriods,Te.Wide,It.Standalone,!0);break;case"bbbbb":e=Ae(ge.DayPeriods,Te.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ae(ge.DayPeriods,Te.Abbreviated,It.Format,!0);break;case"BBBB":e=Ae(ge.DayPeriods,Te.Wide,It.Format,!0);break;case"BBBBB":e=Ae(ge.DayPeriods,Te.Narrow,It.Format,!0);break;case"h":e=He(_e.Hours,1,-12);break;case"hh":e=He(_e.Hours,2,-12);break;case"H":e=He(_e.Hours,1);break;case"HH":e=He(_e.Hours,2);break;case"m":e=He(_e.Minutes,1);break;case"mm":e=He(_e.Minutes,2);break;case"s":e=He(_e.Seconds,1);break;case"ss":e=He(_e.Seconds,2);break;case"S":e=He(_e.FractionalSeconds,1);break;case"SS":e=He(_e.FractionalSeconds,2);break;case"SSS":e=He(_e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=lu(ir.Short);break;case"ZZZZZ":e=lu(ir.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=lu(ir.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=lu(ir.Long);break;default:return null}return im[t]=e,e}function WE(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function dO(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function hO(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=WE(e,i);return dO(t,r*(o-i))}function fO(t){if(FE(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return fu(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(nO))return pO(r)}let e=new Date(t);if(!FE(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function pO(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function FE(t){return t instanceof Date&&!isNaN(t.valueOf())}function mu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var om=/\s+/,VE=[],KE=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=VE,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(om):VE}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(om):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(om).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(B(gn),B(Nn))}}static{this.\u0275dir=De({type:t,selectors:[["","ngClass",""]],inputs:{klass:[rt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var sm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gu=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new sm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),LE(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);LE(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(B(To),B(Ql),B(tm))}}static{this.\u0275dir=De({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function LE(t,e){t.context.$implicit=e.item}var _u=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new am,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){jE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){jE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(B(To),B(Ql))}}static{this.\u0275dir=De({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),am=class{constructor(){this.$implicit=null,this.ngIf=null}};function jE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}function mO(t,e){return new U(2100,!1)}var gO="mediumDate",_O=new L(""),yO=new L(""),yu=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??gO,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return iO(n,s,o||this.locale,a)}catch(s){throw mO(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(B(ru,16),B(_O,24),B(yO,24))}}static{this.\u0275pipe=qw({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Qs=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Mt({type:t})}static{this.\u0275inj=xt({})}}return t})(),fm="browser",vO="server";function wO(t){return t===fm}function vu(t){return t===vO}var QE=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>wO(R(Xt))?new cm(R(ht),window):new lm})}}return t})(),cm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=IO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function IO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var lm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Po=class{};var Js=class{},Iu=class{},_i=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var gm=class{encodeKey(e){return YE(e)}encodeValue(e){return YE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function bO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var DO=/%(\d[a-f0-9])/gi,TO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YE(t){return encodeURIComponent(t).replace(DO,(e,n)=>TO[n]??e)}function wu(t){return`${t}`}var Sr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=bO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(wu):[wu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(wu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(wu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var _m=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function SO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function ZE(t){return typeof Blob<"u"&&t instanceof Blob}function XE(t){return typeof FormData<"u"&&t instanceof FormData}function AO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ys=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(SO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new _i,this.context??=new _m,!this.params)this.params=new Sr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||JE(this.body)||ZE(this.body)||XE(this.body)||AO(this.body)?this.body:this.body instanceof Sr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||XE(this.body)?null:ZE(this.body)?this.body.type||null:JE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Sr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,_)=>m.set(_,e.setHeaders[_]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,_)=>m.set(_,e.setParams[_]),u)),new t(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},No=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(No||{}),Zs=class{constructor(e,n=bu.Ok,r="OK"){this.headers=e.headers||new _i,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ym=class t extends Zs{constructor(e={}){super(e),this.type=No.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Eu=class t extends Zs{constructor(e={}){super(e),this.type=No.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cu=class extends Zs{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},bu=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(bu||{});function mm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var vm=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ys)o=n;else{let c;i.headers instanceof _i?c=i.headers:c=new _i(i.headers);let l;i.params&&(i.params instanceof Sr?l=i.params:l=new Sr({fromObject:i.params})),o=new Ys(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=z(o).pipe(Kn(c=>this.handler.handle(c)));if(n instanceof Ys||i.observe==="events")return s;let a=s.pipe(Tt(c=>c instanceof Eu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ee(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Sr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,mm(i,r))}post(n,r,i={}){return this.request("POST",n,mm(i,r))}put(n,r,i={}){return this.request("PUT",n,mm(i,r))}static{this.\u0275fac=function(r){return new(r||t)(j(Js))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function xO(t,e){return e(t)}function MO(t,e,n){return(r,i)=>pn(n,()=>e(r,o=>t(o,i)))}var nC=new L(""),PO=new L(""),RO=new L("");var eC=(()=>{class t extends Js{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=R(So);let i=R(RO,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(nC),...this.injector.get(PO,[])]));this.chain=i.reduceRight((o,s)=>MO(o,s,this.injector),xO)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ei(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||t)(j(Iu),j(ut))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();var NO=/^\)\]\}',?\n/;function OO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var tC=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new U(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Me(r.\u0275loadImpl()):z(null)).pipe(St(()=>new oe(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((E,C)=>s.setRequestHeader(E,C.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let E=n.detectContentTypeHeader();E!==null&&s.setRequestHeader("Content-Type",E)}if(n.responseType){let E=n.responseType.toLowerCase();s.responseType=E!=="json"?E:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let E=s.statusText||"OK",C=new _i(s.getAllResponseHeaders()),O=OO(s)||n.url;return c=new ym({headers:C,status:s.status,statusText:E,url:O}),c},u=()=>{let{headers:E,status:C,statusText:O,url:ie}=l(),q=null;C!==bu.NoContent&&(q=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=q?bu.Ok:0);let ve=C>=200&&C<300;if(n.responseType==="json"&&typeof q=="string"){let Ke=q;q=q.replace(NO,"");try{q=q!==""?JSON.parse(q):null}catch(fe){q=Ke,ve&&(ve=!1,q={error:fe,text:q})}}ve?(o.next(new Eu({body:q,headers:E,status:C,statusText:O,url:ie||void 0})),o.complete()):o.error(new Cu({error:q,headers:E,status:C,statusText:O,url:ie||void 0}))},d=E=>{let{url:C}=l(),O=new Cu({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(O)},m=!1,_=E=>{m||(o.next(l()),m=!0);let C={type:No.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(C.total=E.total),n.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),o.next(C)},I=E=>{let C={type:No.UploadProgress,loaded:E.loaded};E.lengthComputable&&(C.total=E.total),o.next(C)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",I)),s.send(a),o.next({type:No.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",I)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(j(Po))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),rC=new L(""),kO="XSRF-TOKEN",FO=new L("",{providedIn:"root",factory:()=>kO}),VO="X-XSRF-TOKEN",LO=new L("",{providedIn:"root",factory:()=>VO}),Du=class{},jO=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=mu(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(j(ht),j(Xt),j(FO))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function UO(t,e){let n=t.url.toLowerCase();if(!R(rC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=R(Du).getToken(),i=R(LO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function iC(...t){let e=[vm,tC,eC,{provide:Js,useExisting:eC},{provide:Iu,useExisting:tC},{provide:nC,useValue:UO,multi:!0},{provide:rC,useValue:!0},{provide:Du,useClass:jO}];for(let n of t)e.push(...n.\u0275providers);return bo(e)}var Em=class extends hu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cm=class t extends Em{static makeCurrent(){BE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=$O();return n==null?null:qO(n)}resetBaseElement(){Xs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mu(document.cookie,e)}},Xs=null;function $O(){return Xs=Xs||document.querySelector("base"),Xs?Xs.getAttribute("href"):null}function qO(t){return new URL(t,document.baseURI).pathname}var HO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),bm=new L(""),cC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(j(bm),j(we))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),Tu=class{constructor(e){this._doc=e}},wm="ng-app-id",lC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vu(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${wm}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(wm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(wm,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(j(ht),j(Fp),j(Lp,8),j(Xt))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),Im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tm=/%COMP%/g,uC="%COMP%",zO=`_nghost-${uC}`,GO=`_ngcontent-${uC}`,WO=!0,KO=new L("",{providedIn:"root",factory:()=>WO});function QO(t){return GO.replace(Tm,t)}function YO(t){return zO.replace(Tm,t)}function dC(t,e){return e.map(n=>n.replace(Tm,t))}var oC=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=vu(a),this.defaultRenderer=new ea(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===An.ShadowDom&&(r=J(P({},r),{encapsulation:An.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Su?i.applyToHost(n):i instanceof ta&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case An.Emulated:o=new Su(c,l,r,this.appId,u,s,a,d);break;case An.ShadowDom:return new Dm(c,l,n,r,s,a,this.nonce,d);default:o=new ta(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(j(cC),j(lC),j(Fp),j(KO),j(ht),j(Xt),j(we),j(Lp))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),ea=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Im[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Im[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Im[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(n,r,i&Jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=or().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function sC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Dm=class extends ea{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=dC(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ta=class extends ea{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?dC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Su=class extends ta{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=QO(l),this.hostAttr=YO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},JO=(()=>{class t extends Tu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(j(ht))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),aC=["alt","control","meta","shift"],ZO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ek=(()=>{class t extends Tu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),aC.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=ZO[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),aC.forEach(s=>{if(s!==i){let a=XO[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(j(ht))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function hC(t,e){return RE(P({rootComponent:t},tk(e)))}function tk(t){return{appProviders:[...sk,...t?.providers??[]],platformProviders:ok}}function nk(){Cm.makeCurrent()}function rk(){return new Rn}function ik(){return UI(document),document}var ok=[{provide:Xt,useValue:fm},{provide:Vp,useValue:nk,multi:!0},{provide:ht,useFactory:ik,deps:[]}];var sk=[{provide:Ol,useValue:"root"},{provide:Rn,useFactory:rk,deps:[]},{provide:bm,useClass:JO,multi:!0,deps:[ht,we,Xt]},{provide:bm,useClass:ek,multi:!0,deps:[ht]},oC,lC,cC,{provide:Ls,useExisting:oC},{provide:Po,useClass:HO,deps:[]},[]];var fC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(j(ht))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var CC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(B(Nn),B(gn))}}static{this.\u0275dir=De({type:t})}}return t})(),Fo=(()=>{class t extends CC{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,features:[ot]})}}return t})(),Mr=new L(""),ck={provide:Mr,useExisting:wt(()=>Pm),multi:!0},Pm=(()=>{class t extends Fo{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[jt([ck]),ot]})}}return t})(),lk={provide:Mr,useExisting:wt(()=>Fu),multi:!0};function uk(){let t=or()?or().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var dk=new L(""),Fu=(()=>{class t extends CC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!uk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(B(Nn),B(gn),B(dk,8))}}static{this.\u0275dir=De({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[jt([lk]),ot]})}}return t})();function Ar(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function bC(t){return t!=null&&typeof t.length=="number"}var Vo=new L(""),Rm=new L(""),hk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Qe=class{static min(e){return DC(e)}static max(e){return TC(e)}static required(e){return SC(e)}static requiredTrue(e){return fk(e)}static email(e){return pk(e)}static minLength(e){return mk(e)}static maxLength(e){return gk(e)}static pattern(e){return _k(e)}static nullValidator(e){return xu(e)}static compose(e){return NC(e)}static composeAsync(e){return kC(e)}};function DC(t){return e=>{if(Ar(e.value)||Ar(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function TC(t){return e=>{if(Ar(e.value)||Ar(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function SC(t){return Ar(t.value)?{required:!0}:null}function fk(t){return t.value===!0?null:{required:!0}}function pk(t){return Ar(t.value)||hk.test(t.value)?null:{email:!0}}function mk(t){return e=>Ar(e.value)||!bC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function gk(t){return e=>bC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function _k(t){if(!t)return xu;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ar(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function xu(t){return null}function AC(t){return t!=null}function xC(t){return pi(t)?Me(t):t}function MC(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function PC(t,e){return e.map(n=>n(t))}function yk(t){return!t.validate}function RC(t){return t.map(e=>yk(e)?e:n=>e.validate(n))}function NC(t){if(!t)return null;let e=t.filter(AC);return e.length==0?null:function(n){return MC(PC(n,e))}}function OC(t){return t!=null?NC(RC(t)):null}function kC(t){if(!t)return null;let e=t.filter(AC);return e.length==0?null:function(n){let r=PC(n,e).map(xC);return uf(r).pipe(ee(MC))}}function FC(t){return t!=null?kC(RC(t)):null}function pC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function VC(t){return t._rawValidators}function LC(t){return t._rawAsyncValidators}function Sm(t){return t?Array.isArray(t)?t:[t]:[]}function Mu(t,e){return Array.isArray(t)?t.includes(e):t===e}function mC(t,e){let n=Sm(e);return Sm(t).forEach(i=>{Mu(n,i)||n.push(i)}),n}function gC(t,e){return Sm(e).filter(n=>!Mu(t,n))}var Pu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=OC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=FC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},yi=class extends Pu{get formDirective(){return null}get path(){return null}},xr=class extends Pu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ru=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},vk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},CW=J(P({},vk),{"[class.ng-submitted]":"isSubmitted"}),jC=(()=>{class t extends Ru{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(B(xr,2))}}static{this.\u0275dir=De({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Se("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ot]})}}return t})(),UC=(()=>{class t extends Ru{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(B(yi,10))}}static{this.\u0275dir=De({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Se("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ot]})}}return t})();var na="VALID",Au="INVALID",Oo="PENDING",ra="DISABLED";function Nm(t){return(Vu(t)?t.validators:t)||null}function wk(t){return Array.isArray(t)?OC(t):t||null}function Om(t,e){return(Vu(e)?e.asyncValidators:t)||null}function Ik(t){return Array.isArray(t)?FC(t):t||null}function Vu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function BC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function $C(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new U(1002,"")})}var ko=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===na}get invalid(){return this.status===Au}get pending(){return this.status==Oo}get disabled(){return this.status===ra}get enabled(){return this.status!==ra}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gC(e,this._rawAsyncValidators))}hasValidator(e){return Mu(this._rawValidators,e)}hasAsyncValidator(e){return Mu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ra,this.errors=null,this._forEachChild(r=>{r.disable(J(P({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=na,this._forEachChild(r=>{r.enable(J(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(J(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===na||this.status===Oo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ra:na}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oo,this._hasOwnPendingAsyncValidator=!0;let n=xC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?ra:this.errors?Au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oo)?Oo:this._anyControlsHaveStatus(Au)?Au:na}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ik(this._rawAsyncValidators)}},Nu=class extends ko{constructor(e,n,r){super(Nm(n),Om(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){$C(this,!0,e),Object.keys(e).forEach(r=>{BC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Am=class extends Nu{};var oa=new L("CallSetDisabledState",{providedIn:"root",factory:()=>sa}),sa="always";function qC(t,e){return[...e.path,t]}function xm(t,e,n=sa){km(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ck(t,e),Dk(t,e),bk(t,e),Ek(t,e)}function _C(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ku(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ou(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ek(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function km(t,e){let n=VC(t);e.validator!==null?t.setValidators(pC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=LC(t);e.asyncValidator!==null?t.setAsyncValidators(pC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ou(e._rawValidators,i),Ou(e._rawAsyncValidators,i)}function ku(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=VC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=LC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Ou(e._rawValidators,r),Ou(e._rawAsyncValidators,r),n}function Ck(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&HC(t,e)})}function bk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&HC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function HC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Dk(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Tk(t,e){t==null,km(t,e)}function Sk(t,e){return ku(t,e)}function zC(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Ak(t){return Object.getPrototypeOf(t.constructor)===Fo}function xk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GC(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Fu?n=o:Ak(o)?r=o:i=o}),i||r||n||null}function Mk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function yC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ia=class extends ko{constructor(e=null,n,r){super(Nm(n),Om(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Pk=t=>t instanceof ia;var Rk={provide:xr,useExisting:wt(()=>Fm)},wC=Promise.resolve(),Fm=(()=>{class t extends xr{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new ia,this._registered=!1,this.name="",this.update=new nt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GC(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),zC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){wC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ks(r);wC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?qC(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(B(yi,9),B(Vo,10),B(Rm,10),B(Mr,10),B(mi,8),B(oa,8))}}static{this.\u0275dir=De({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[rt.None,"disabled","isDisabled"],model:[rt.None,"ngModel","model"],options:[rt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jt([Rk]),ot,tr]})}}return t})(),WC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=De({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),Nk={provide:Mr,useExisting:wt(()=>Vm),multi:!0},Vm=(()=>{class t extends Fo{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[jt([Nk]),ot]})}}return t})(),Ok={provide:Mr,useExisting:wt(()=>Lm),multi:!0};var kk=(()=>{class t{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Lm=(()=>{class t extends Fo{constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=R(oa,{optional:!0})??sa}ngOnInit(){this._control=this._injector.get(xr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||t)(B(Nn),B(gn),B(kk),B(Rt))}}static{this.\u0275dir=De({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[jt([Ok]),ot]})}}return t})();var KC=new L("");var Fk={provide:yi,useExisting:wt(()=>jm)},jm=(()=>{class t extends yi{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ku(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return xm(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){_C(n.control||null,n,!1),Mk(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,xk(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(_C(r||null,n),Pk(i)&&(xm(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Tk(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Sk(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){km(this.form,this),this._oldForm&&ku(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(B(Vo,10),B(Rm,10),B(oa,8))}}static{this.\u0275dir=De({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&A("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[rt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jt([Fk]),ot,tr]})}}return t})();var Vk={provide:xr,useExisting:wt(()=>Um)},Um=(()=>{class t extends xr{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new nt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GC(this,o)}ngOnChanges(n){this._added||this._setUpControl(),zC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return qC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(B(yi,13),B(Vo,10),B(Rm,10),B(Mr,10),B(KC,8))}}static{this.\u0275dir=De({type:t,selectors:[["","formControlName",""]],inputs:{name:[rt.None,"formControlName","name"],isDisabled:[rt.None,"disabled","isDisabled"],model:[rt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[jt([Vk]),ot,tr]})}}return t})(),Lk={provide:Mr,useExisting:wt(()=>Lu),multi:!0};function QC(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function jk(t){return t.split(":")[0]}var Lu=(()=>{class t extends Fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=QC(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=jk(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[jt([Lk]),ot]})}}return t})(),YC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(QC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(B(gn),B(Nn),B(Lu,9))}}static{this.\u0275dir=De({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),Uk={provide:Mr,useExisting:wt(()=>JC),multi:!0};function IC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Bk(t){return t.split(":")[0]}var JC=(()=>{class t extends Fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Bk(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[jt([Uk]),ot]})}}return t})(),ZC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(IC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(IC(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(B(gn),B(Nn),B(JC,9))}}static{this.\u0275dir=De({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function XC(t){return typeof t=="number"?t:parseFloat(t)}var Bm=(()=>{class t{constructor(){this._validator=xu}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xu,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=De({type:t,features:[tr]})}}return t})(),$k={provide:Vo,useExisting:wt(()=>$m),multi:!0},$m=(()=>{class t extends Bm{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>XC(n),this.createValidator=n=>TC(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Dr("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[jt([$k]),ot]})}}return t})(),qk={provide:Vo,useExisting:wt(()=>qm),multi:!0},qm=(()=>{class t extends Bm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>XC(n),this.createValidator=n=>DC(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Dr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[jt([qk]),ot]})}}return t})(),Hk={provide:Vo,useExisting:wt(()=>Hm),multi:!0};var Hm=(()=>{class t extends Bm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ks,this.createValidator=n=>SC}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Dr("required",i._enabled?"":null)},inputs:{required:"required"},features:[jt([Hk]),ot]})}}return t})();var eb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Mt({type:t})}static{this.\u0275inj=xt({})}}return t})(),Mm=class extends ko{constructor(e,n,r){super(Nm(n),Om(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){$C(this,!1,e),e.forEach((r,i)=>{BC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function EC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var tb=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return EC(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Nu(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Am(i,r)}control(n,r,i){let o={};return this.useNonNullable?(EC(r)?o=r:(o.validators=r,o.asyncValidators=i),new ia(n,J(P({},o),{nonNullable:!0}))):new ia(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Mm(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof ia)return n;if(n instanceof ko)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var nb=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:oa,useValue:n.callSetDisabledState??sa}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Mt({type:t})}static{this.\u0275inj=xt({imports:[eb]})}}return t})(),rb=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:KC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:oa,useValue:n.callSetDisabledState??sa}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Mt({type:t})}static{this.\u0275inj=xt({imports:[eb]})}}return t})();var ib=[{id:1,name:"Stand. Flawinne FC",players:[{name:"Joueur non list\xE9",type:"milieu"}]},{id:2,name:"U10 Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Danielle",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:3,name:"U9 Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]}];function zm(t){return(!t.players||t.players.length===0)&&(t.players=[{name:"Joueur non list\xE9",type:"milieu"}]),t}var te="primary",Ea=Symbol("RouteTitle"),Ym=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $o(t){return new Ym(t)}function Gk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Wk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kn(t[n],e[n]))return!1;return!0}function kn(t,e){let n=t?Jm(t):void 0,r=e?Jm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fb(t[i],e[i]))return!1;return!0}function Jm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function pb(t){return t.length>0?t[t.length-1]:null}function kr(t){return lf(t)?t:pi(t)?Me(Promise.resolve(t)):z(t)}var Kk={exact:gb,subset:_b},mb={exact:Qk,subset:Yk,ignored:()=>!0};function ob(t,e,n){return Kk[n.paths](t.root,e.root,n.matrixParams)&&mb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Qk(t,e){return kn(t,e)}function gb(t,e,n){if(!wi(t.segments,e.segments)||!Bu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!gb(t.children[r],e.children[r],n))return!1;return!0}function Yk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fb(t[n],e[n]))}function _b(t,e,n){return yb(t,e,e.segments,n)}function yb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!wi(i,n)||e.hasChildren()||!Bu(i,n,r))}else if(t.segments.length===n.length){if(!wi(t.segments,n)||!Bu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!_b(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!wi(t.segments,i)||!Bu(t.segments,i,r)||!t.children[te]?!1:yb(t.children[te],e,o,r)}}function Bu(t,e,n){return e.every((r,i)=>mb[n](t[i].parameters,r.parameters))}var Pr=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){return Xk.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $u(this)}},vi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$o(this.parameters),this._parameterMap}toString(){return wb(this)}};function Jk(t,e){return wi(t,e)&&t.every((n,r)=>kn(n.parameters,e[r].parameters))}function wi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Zk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var Ca=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>new fa,providedIn:"root"})}}return t})(),fa=class{parse(e){let n=new Xm(e);return new Pr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${aa(e.root,!0)}`,r=nF(e.queryParams),i=typeof e.fragment=="string"?`#${eF(e.fragment)}`:"";return`${n}${r}${i}`}},Xk=new fa;function $u(t){return t.segments.map(e=>wb(e)).join("/")}function aa(t,e){if(!t.hasChildren())return $u(t);if(e){let n=t.children[te]?aa(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${aa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Zk(t,(r,i)=>i===te?[aa(t.children[te],!1)]:[`${i}:${aa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${$u(t)}/${n[0]}`:`${$u(t)}/(${n.join("//")})`}}function vb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ju(t){return vb(t).replace(/%3B/gi,";")}function eF(t){return encodeURI(t)}function Zm(t){return vb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qu(t){return decodeURIComponent(t)}function sb(t){return qu(t.replace(/\+/g,"%20"))}function wb(t){return`${Zm(t.path)}${tF(t.parameters)}`}function tF(t){return Object.entries(t).map(([e,n])=>`;${Zm(e)}=${Zm(n)}`).join("")}function nF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ju(n)}=${ju(i)}`).join("&"):`${ju(n)}=${ju(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var rF=/^[^\/()?;#]+/;function Gm(t){let e=t.match(rF);return e?e[0]:""}var iF=/^[^\/()?;=#]+/;function oF(t){let e=t.match(iF);return e?e[0]:""}var sF=/^[^=?&#]+/;function aF(t){let e=t.match(sF);return e?e[0]:""}var cF=/^[^&#]+/;function lF(t){let e=t.match(cF);return e?e[0]:""}var Xm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new Ie(e,n)),r}parseSegment(){let e=Gm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new vi(qu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=oF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Gm(this.remaining);i&&(r=i,this.capture(r))}e[qu(n)]=qu(r)}parseQueryParam(e){let n=aF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=lF(this.remaining);s&&(r=s,this.capture(r))}let i=sb(n),o=sb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[te]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function Ib(t){return t.segments.length>0?new Ie([],{[te]:t}):t}function Eb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Eb(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return uF(n)}function uF(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new Ie(t.segments.concat(e.segments),e.children)}return t}function qo(t){return t instanceof Pr}function dF(t,e,n=null,r=null){let i=Cb(t);return bb(i,e,n,r)}function Cb(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ie(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Ib(r);return e??i}function bb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Wm(i,i,i,n,r);let o=hF(e);if(o.toRoot())return Wm(i,i,new Ie([],{}),n,r);let s=fF(o,i,t),a=s.processChildren?ua(s.segmentGroup,s.index,o.commands):Tb(s.segmentGroup,s.index,o.commands);return Wm(i,s.segmentGroup,a,n,r)}function Hu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function pa(t){return typeof t=="object"&&t!=null&&t.outlets}function Wm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=Db(t,e,n);let a=Ib(Eb(s));return new Pr(a,o,i)}function Db(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Db(o,e,n)}),new Ie(t.segments,r)}var zu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hu(r[0]))throw new U(4003,!1);let i=r.find(pa);if(i&&i!==pb(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zu(n,e,r)}var Uo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function fF(t,e,n){if(t.isAbsolute)return new Uo(e,!0,0);if(!n)return new Uo(e,!1,NaN);if(n.parent===null)return new Uo(n,!0,0);let r=Hu(t.commands[0])?0:1,i=n.segments.length-1+r;return pF(n,i,t.numberOfDoubleDots)}function pF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Uo(r,!1,i-o)}function mF(t){return pa(t[0])?t[0].outlets:{[te]:t}}function Tb(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return ua(t,e,n);let r=gF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[te]=new Ie(t.segments.slice(r.pathIndex),t.children),ua(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?eg(t,e,n):r.match?ua(t,0,i):eg(t,e,n)}function ua(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=mF(n),i={};if(Object.keys(r).some(o=>o!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let o=ua(t.children[te],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Tb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function gF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(pa(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!cb(c,l,s))return o;r+=2}else{if(!cb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function eg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(pa(o)){let c=_F(o.outlets);return new Ie(r,c)}if(i===0&&Hu(n[0])){let c=t.segments[e];r.push(new vi(c.path,ab(n[0]))),i++;continue}let s=pa(o)?o.outlets[te]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Hu(a)?(r.push(new vi(s,ab(a))),i+=2):(r.push(new vi(s,{})),i++)}return new Ie(r,{})}function _F(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=eg(new Ie([],{}),0,r))}),e}function ab(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function cb(t,e,n){return t==n.path&&kn(e,n.parameters)}var da="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),rn=class{constructor(e,n){this.id=e,this.url=n}},Ho=class extends rn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ye.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sr=class extends rn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$t=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}($t||{}),Gu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Gu||{}),Rr=class extends rn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nr=class extends rn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationSkipped}},ma=class extends rn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wu=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tg=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ng=class extends rn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rg=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ig=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sg=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ag=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cg=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lg=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ug=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ku=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ye.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ga=class{},_a=class{constructor(e){this.url=e}};var dg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ba,this.attachRef=null}},ba=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new dg,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=hg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=hg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=fg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fg(e,this._root).map(n=>n.value)}};function hg(t,e){if(t===e.value)return e;for(let n of e.children){let r=hg(t,n);if(r)return r}return null}function fg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=fg(t,n);if(r.length)return r.unshift(e),r}return[]}var Bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function jo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Yu=class extends Qu{constructor(e,n){super(e),this.snapshot=n,Cg(this,e)}toString(){return this.snapshot.toString()}};function Sb(t){let e=yF(t),n=new tt([new vi("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new ar(n,r,o,s,i,te,t,e.root);return a.snapshot=e.root,new Yu(new Bt(a,[]),e)}function yF(t){let e={},n={},r={},i="",o=new ya([],e,r,i,n,te,t,null,{});return new Ju("",new Bt(o,[]))}var ar=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[Ea]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>$o(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>$o(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Eg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),i?.data),t._resolvedData)}:r={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},i&&xb(i)&&(r.resolve[Ea]=i.title),r}var ya=class{get title(){return this.data?.[Ea]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$o(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ju=class extends Qu{constructor(e,n){super(n),this.url=e,Cg(this,n)}toString(){return Ab(this._root)}};function Cg(t,e){e.value._routerState=t,e.children.forEach(n=>Cg(t,n))}function Ab(t){let e=t.children.length>0?` { ${t.children.map(Ab).join(", ")} } `:"";return`${t.value}${e}`}function Km(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),kn(e.params,n.params)||t.paramsSubject.next(n.params),Wk(e.url,n.url)||t.urlSubject.next(n.url),kn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pg(t,e){let n=kn(t.params,e.params)&&Jk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||pg(t.parent,e.parent))}function xb(t){return typeof t.title=="string"||t.title===null}var bg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=R(ba),this.location=R(To),this.changeDetector=R(mi),this.environmentInjector=R(ut),this.inputBinder=R(td,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new mg(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=De({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tr]})}}return t})(),mg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ar?this.route:e===ba?this.childContexts:this.parent.get(e,n)}},td=new L(""),lb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=As([r.queryParams,r.params,r.data]).pipe(St(([o,s,a],c)=>(a=P(P(P({},o),s),a),c===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=NE(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function vF(t,e,n){let r=va(t,e._root,n?n._root:void 0);return new Yu(r,e)}function va(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=wF(t,e,n);return new Bt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>va(t,a)),s}}let r=IF(e.value),i=e.children.map(o=>va(t,o));return new Bt(r,i)}}function wF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return va(t,r,i);return va(t,r)})}function IF(t){return new ar(new tt(t.url),new tt(t.params),new tt(t.queryParams),new tt(t.fragment),new tt(t.data),t.outlet,t.component,t)}var Mb="ngNavigationCancelingError";function Pb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=qo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Rb(!1,$t.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Rb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Mb]=!0,n.cancellationCode=e,n}function EF(t){return Nb(t)&&qo(t.url)}function Nb(t){return!!t&&t[Mb]}var CF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Co({type:t,selectors:[["ng-component"]],standalone:!0,features:[xo],decls:1,vars:0,template:function(r,i){r&1&&S(0,"router-outlet")},dependencies:[bg],encapsulation:2})}}return t})();function bF(t,e){return t.providers&&!t._injector&&(t._injector=Xl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Dg(t){let e=t.children&&t.children.map(Dg),n=e?J(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=CF),n}function Fn(t){return t.outlet||te}function DF(t,e){let n=t.filter(r=>Fn(r)===e);return n.push(...t.filter(r=>Fn(r)!==e)),n}function Da(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var TF=(t,e,n,r)=>ee(i=>(new gg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),gg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Km(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=jo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=jo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ug(o.value.snapshot))}),e.children.length&&this.forwardEvent(new cg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Km(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Km(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Da(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Zu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bo=class{constructor(e,n){this.component=e,this.route=n}};function SF(t,e,n){let r=t._root,i=e?e._root:null;return ca(r,i,n,[r.value])}function AF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Go(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Pw(t)?t:e.get(t):r}function ca(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=jo(e);return t.children.forEach(s=>{xF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ha(a,n.getContext(s),i)),i}function xF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=MF(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Zu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ca(t,e,a?a.children:null,r,i):ca(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bo(a.outlet.component,s))}else s&&ha(e,a,i),i.canActivateChecks.push(new Zu(r)),o.component?ca(t,null,a?a.children:null,r,i):ca(t,null,n,r,i);return i}function MF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wi(t.url,e.url)||!kn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pg(t,e)||!kn(t.queryParams,e.queryParams);case"paramsChange":default:return!pg(t,e)}}function ha(t,e,n){let r=jo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ha(s,e.children.getContext(o),n):ha(s,null,n):ha(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Bo(e.outlet.component,i)):n.canDeactivateChecks.push(new Bo(null,i)):n.canDeactivateChecks.push(new Bo(null,i))}function Ta(t){return typeof t=="function"}function PF(t){return typeof t=="boolean"}function RF(t){return t&&Ta(t.canLoad)}function NF(t){return t&&Ta(t.canActivate)}function OF(t){return t&&Ta(t.canActivateChild)}function kF(t){return t&&Ta(t.canDeactivate)}function FF(t){return t&&Ta(t.canMatch)}function Ob(t){return t instanceof Wn||t?.name==="EmptyError"}var Uu=Symbol("INITIAL_VALUE");function zo(){return St(t=>As(t.map(e=>e.pipe(Qn(1),pf(Uu)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===Uu)return Uu;if(n===!1||n instanceof Pr)return n}return!0}),Tt(e=>e!==Uu),Qn(1)))}function VF(t,e){return $e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?z(J(P({},n),{guardsResult:!0})):LF(s,r,i,t).pipe($e(a=>a&&PF(a)?jF(r,o,t,e):z(a)),ee(a=>J(P({},n),{guardsResult:a})))})}function LF(t,e,n,r){return Me(t).pipe($e(i=>HF(i.component,i.route,n,e,r)),Dn(i=>i!==!0,!0))}function jF(t,e,n,r){return Me(e).pipe(Kn(i=>oo(BF(i.route.parent,r),UF(i.route,r),qF(t,i.path,n),$F(t,i.route,n))),Dn(i=>i!==!0,!0))}function UF(t,e){return t!==null&&e&&e(new lg(t)),z(!0)}function BF(t,e){return t!==null&&e&&e(new ag(t)),z(!0)}function $F(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>el(()=>{let s=Da(e)??n,a=Go(o,s),c=NF(a)?a.canActivate(e,t):pn(s,()=>a(e,t));return kr(c).pipe(Dn())}));return z(i).pipe(zo())}function qF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>AF(s)).filter(s=>s!==null).map(s=>el(()=>{let a=s.guards.map(c=>{let l=Da(s.node)??n,u=Go(c,l),d=OF(u)?u.canActivateChild(r,t):pn(l,()=>u(r,t));return kr(d).pipe(Dn())});return z(a).pipe(zo())}));return z(o).pipe(zo())}function HF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let c=Da(e)??i,l=Go(a,c),u=kF(l)?l.canDeactivate(t,e,n,r):pn(c,()=>l(t,e,n,r));return kr(u).pipe(Dn())});return z(s).pipe(zo())}function zF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=Go(s,t),c=RF(a)?a.canLoad(e,n):pn(t,()=>a(e,n));return kr(c)});return z(o).pipe(zo(),kb(r))}function kb(t){return ef(qe(e=>{if(qo(e))throw Pb(t,e)}),ee(e=>e===!0))}function GF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=Go(s,t),c=FF(a)?a.canMatch(e,n):pn(t,()=>a(e,n));return kr(c)});return z(o).pipe(zo(),kb(r))}var wa=class{constructor(e){this.segmentGroup=e||null}},Xu=class extends Error{constructor(e){super(),this.urlTree=e}};function Lo(t){return ro(new wa(t))}function WF(t){return ro(new U(4e3,!1))}function KF(t){return ro(Rb(!1,$t.GuardRejected))}var _g=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[te])return WF(e.redirectTo);i=i.children[te]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Xu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Pr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},yg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QF(t,e,n,r,i){let o=Tg(t,e,n);return o.matched?(r=bF(e,r),GF(r,e,n,i).pipe(ee(s=>s===!0?o:P({},yg)))):z(o)}function Tg(t,e,n){if(e.path==="**")return YF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},yg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Gk)(n,t,e);if(!i)return P({},yg);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?P(P({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function YF(t){return{matched:!0,parameters:t.length>0?pb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ub(t,e,n,r){return n.length>0&&XF(t,n,r)?{segmentGroup:new Ie(e,ZF(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&e2(t,n,r)?{segmentGroup:new Ie(t.segments,JF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function JF(t,e,n,r){let i={};for(let o of n)if(nd(t,e,o)&&!r[Fn(o)]){let s=new Ie([],{});i[Fn(o)]=s}return P(P({},r),i)}function ZF(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&Fn(r)!==te){let i=new Ie([],{});n[Fn(r)]=i}return n}function XF(t,e,n){return n.some(r=>nd(t,e,r)&&Fn(r)!==te)}function e2(t,e,n){return n.some(r=>nd(t,e,r))}function nd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function t2(t,e,n,r){return Fn(t)!==r&&(r===te||!nd(e,n,t))?!1:Tg(e,t,n).matched}function n2(t,e,n){return e.length===0&&!t.children[n]}var vg=class{};function r2(t,e,n,r,i,o,s="emptyOnly"){return new wg(t,e,n,r,i,s,o).recognize()}var i2=31,wg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new _g(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=ub(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(n=>{let r=new ya([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),i=new Bt(r,n),o=new Ju("",i),s=dF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,te).pipe(gr(r=>{if(r instanceof Xu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Eg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ee(o=>o instanceof Bt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Me(i).pipe(Kn(o=>{let s=r.children[o],a=DF(n,o);return this.processSegmentGroup(e,a,s,o)}),ff((o,s)=>(o.push(...s),o)),_r(null),hf(),$e(o=>{if(o===null)return Lo(r);let s=Fb(o);return o2(s),z(s)}))}processSegment(e,n,r,i,o,s){return Me(n).pipe(Kn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(gr(c=>{if(c instanceof wa)return z(null);throw c}))),Dn(a=>!!a),gr(a=>{if(Ob(a))return n2(r,i,o)?z(new vg):Lo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return t2(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Lo(i):Lo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Tg(n,i,o);if(!a)return Lo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>i2&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe($e(m=>this.processSegment(e,r,n,m.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=QF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(St(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(St(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:m}=a,_=new ya(u,m,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,a2(r),Fn(r),r.component??r._loadedComponent??null,r,c2(r)),{segmentGroup:I,slicedSegments:E}=ub(n,u,d,c);if(E.length===0&&I.hasChildren())return this.processChildren(l,c,I).pipe(ee(O=>O===null?null:new Bt(_,O)));if(c.length===0&&E.length===0)return z(new Bt(_,[]));let C=Fn(r)===o;return this.processSegment(l,c,I,E,C?te:o,!0).pipe(ee(O=>new Bt(_,O instanceof Bt?[O]:[])))}))):Lo(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):zF(e,n,r,this.urlSerializer).pipe($e(i=>i?this.configLoader.loadChildren(e,n).pipe(qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):KF(n))):z({routes:[],injector:e})}};function o2(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function s2(t){let e=t.value.routeConfig;return e&&e.path===""}function Fb(t){let e=[],n=new Set;for(let r of t){if(!s2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Fb(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!n.has(r))}function a2(t){return t.data||{}}function c2(t){return t.resolve||{}}function l2(t,e,n,r,i,o){return $e(s=>r2(t,e,n,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:c})=>J(P({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function u2(t,e){return $e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Vb(c))s.add(l);let a=0;return Me(s).pipe(Kn(c=>o.has(c)?d2(c,r,t,e):(c.data=Eg(c,c.parent,t).resolve,z(void 0))),qe(()=>a++),so(1),$e(c=>a===s.size?z(n):Vt))})}function Vb(t){let e=t.children.map(n=>Vb(n)).flat();return[t,...e]}function d2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!xb(i)&&(o[Ea]=i.title),h2(o,t,e,r).pipe(ee(s=>(t._resolvedData=s,t.data=Eg(t,t.parent,n).resolve,null)))}function h2(t,e,n,r){let i=Jm(t);if(i.length===0)return z({});let o={};return Me(i).pipe($e(s=>f2(t[s],e,n,r).pipe(Dn(),qe(a=>{o[s]=a}))),so(1),df(o),gr(s=>Ob(s)?Vt:ro(s)))}function f2(t,e,n,r){let i=Da(e)??r,o=Go(t,i),s=o.resolve?o.resolve(e,n):pn(i,()=>o(e,n));return kr(s)}function Qm(t){return St(e=>{let n=t(e);return n?Me(n).pipe(ee(()=>e)):z(e)})}var Lb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[Ea]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(p2),providedIn:"root"})}}return t})(),p2=(()=>{class t extends Lb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(j(fC))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Sa=new L("",{providedIn:"root",factory:()=>({})}),Ia=new L(""),Sg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(nu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=kr(n.loadComponent()).pipe(ee(jb),qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ei(()=>{this.componentLoaders.delete(n)})),i=new Xi(r,()=>new _t).pipe(Zi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=m2(r,this.compiler,n,this.onLoadEndListener).pipe(ei(()=>{this.childrenLoaders.delete(r)})),s=new Xi(o,()=>new _t).pipe(Zi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function m2(t,e,n,r){return kr(t.loadChildren()).pipe(ee(jb),$e(i=>i instanceof js||Array.isArray(i)?z(i):Me(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ia,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dg),injector:o}}))}function g2(t){return t&&typeof t=="object"&&"default"in t}function jb(t){return g2(t)?t.default:t}var Ag=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(_2),providedIn:"root"})}}return t})(),_2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ub=new L(""),Bb=new L("");function y2(t,e,n){let r=t.get(Bb),i=t.get(ht);return t.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),v2(t))),{onViewTransitionCreated:c}=r;return c&&pn(t,()=>c({transition:a,from:e,to:n})),s})}function v2(t){return new Promise(e=>{Zl(e,{injector:t})})}var xg=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _t,this.transitionAbortSubject=new _t,this.configLoader=R(Sg),this.environmentInjector=R(ut),this.urlSerializer=R(Ca),this.rootContexts=R(ba),this.location=R(Ro),this.inputBindingEnabled=R(td,{optional:!0})!==null,this.titleStrategy=R(Lb),this.options=R(Sa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(Ag),this.createViewTransition=R(Ub,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let n=i=>this.events.next(new og(i)),r=i=>this.events.next(new sg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(J(P(P({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new tt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:da,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Tt(o=>o.id!==0),ee(o=>J(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),St(o=>{let s=!1,a=!1;return z(o).pipe(St(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),Vt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?J(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Nr(c.id,this.urlSerializer.serialize(c.rawUrl),d,Gu.IgnoredSameUrlNavigation)),c.resolve(null),Vt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return z(c).pipe(St(d=>{let m=this.transitions?.getValue();return this.events.next(new Ho(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?Vt:Promise.resolve(d)}),l2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=J(P({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Wu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:_,restoredState:I,extras:E}=c,C=new Ho(d,this.urlSerializer.serialize(m),_,I);this.events.next(C);let O=Sb(this.rootComponentType).snapshot;return this.currentTransition=o=J(P({},c),{targetSnapshot:O,urlAfterRedirects:m,extras:J(P({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,z(o)}else{let d="";return this.events.next(new Nr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Gu.IgnoredByUrlHandlingStrategy)),c.resolve(null),Vt}}),qe(c=>{let l=new tg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ee(c=>(this.currentTransition=o=J(P({},c),{guards:SF(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),VF(this.environmentInjector,c=>this.events.next(c)),qe(c=>{if(o.guardsResult=c.guardsResult,qo(c.guardsResult))throw Pb(this.urlSerializer,c.guardsResult);let l=new ng(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Tt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",$t.GuardRejected),!1)),Qm(c=>{if(c.guards.canActivateChecks.length)return z(c).pipe(qe(l=>{let u=new rg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),St(l=>{let u=!1;return z(l).pipe(u2(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",$t.NoDataFromResolver)}}))}),qe(l=>{let u=new ig(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Qm(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(qe(m=>{u.component=m}),ee(()=>{})));for(let m of u.children)d.push(...l(m));return d};return As(l(c.targetSnapshot.root)).pipe(_r(null),Qn(1))}),Qm(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Me(u).pipe(ee(()=>o)):z(o)}),ee(c=>{let l=vF(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=J(P({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),qe(()=>{this.events.next(new ga)}),TF(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Qn(1),qe({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),mf(this.transitionAbortSubject.pipe(qe(c=>{throw c}))),ei(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),gr(c=>{if(a=!0,Nb(c))this.events.next(new Rr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),EF(c)?this.events.next(new _a(c.url)):o.resolve(!1);else{this.events.next(new ma(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Vt}))}))}cancelNavigationTransition(n,r,i){let o=new Rr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function w2(t){return t!==da}var I2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(E2),providedIn:"root"})}}return t})(),Ig=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},E2=(()=>{class t extends Ig{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$b=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>R(C2),providedIn:"root"})}}return t})(),C2=(()=>{class t extends $b{constructor(){super(...arguments),this.location=R(Ro),this.urlSerializer=R(Ca),this.options=R(Sa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(Ag),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Sb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ho)this.stateMemento=this.createStateMemento();else if(n instanceof Nr)this.rawUrlTree=r.initialUrl;else if(n instanceof Wu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof ga?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Rr&&(n.code===$t.GuardRejected||n.code===$t.NoDataFromResolver)?this.restoreHistory(r):n instanceof ma?this.restoreHistory(r,!0):n instanceof sr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=P(P({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=P(P({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zt(t)))(i||t)}})()}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),la=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(la||{});function qb(t,e){t.events.pipe(Tt(n=>n instanceof sr||n instanceof Rr||n instanceof ma||n instanceof Nr),ee(n=>n instanceof sr||n instanceof Nr?la.COMPLETE:(n instanceof Rr?n.code===$t.Redirect||n.code===$t.SupersededByNewNavigation:!1)?la.REDIRECTING:la.FAILED),Tt(n=>n!==la.REDIRECTING),Qn(1)).subscribe(()=>{e()})}function b2(t){throw t}var D2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Or=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(eu),this.stateManager=R($b),this.options=R(Sa,{optional:!0})||{},this.pendingTasks=R(So),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(xg),this.urlSerializer=R(Ca),this.location=R(Ro),this.urlHandlingStrategy=R(Ag),this._events=new _t,this.errorHandler=this.options.errorHandler||b2,this.navigated=!1,this.routeReuseStrategy=R(I2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(Ia,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(td,{optional:!0}),this.eventsSubscription=new Le,this.isNgZoneEnabled=R(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rr&&r.code!==$t.Redirect&&r.code!==$t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sr)this.navigated=!0;else if(r instanceof _a){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||w2(i.source)};this.scheduleNavigation(s,da,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}A2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),da,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=P({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Dg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a){case"merge":u=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=Cb(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return bb(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=qo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,da,null,r)}navigate(n,r={skipLocationChange:!1}){return S2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=P({},D2):r===!1?i=P({},T2):i=r,qo(n))return ob(this.currentUrlTree,n,i);let o=this.parseUrl(n);return ob(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,c=m});let u=this.pendingTasks.add();return qb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function S2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function A2(t){return!(t instanceof ga)&&!(t instanceof _a)}var ed=class{};var x2=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Tt(n=>n instanceof sr),Kn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Xl(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Me(i).pipe(io())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=z(null);let o=i.pipe($e(s=>s===null?z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Me([o,s]).pipe(io())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(j(Or),j(nu),j(ut),j(ed),j(Sg))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hb=new L(""),M2=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=R(ut),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ho?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof sr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Nr&&n.code===Gu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ku&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>w(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),Zl(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ku(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){ZI()}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function zb(t,...e){return bo([{provide:Ia,multi:!0,useValue:t},[],{provide:ar,useFactory:Gb,deps:[Or]},{provide:Ws,multi:!0,useFactory:Wb},e.map(n=>n.\u0275providers)])}function Gb(t){return t.routerState.root}function Aa(t,e){return{\u0275kind:t,\u0275providers:e}}function Wb(){let t=R(Rt);return e=>{let n=t.get(Mo);if(e!==n.components[0])return;let r=t.get(Or),i=t.get(Kb);t.get(Mg)===1&&r.initialNavigation(),t.get(Qb,null,re.Optional)?.setUpPreloading(),t.get(Hb,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Kb=new L("",{factory:()=>new _t}),Mg=new L("",{providedIn:"root",factory:()=>1});function P2(){return Aa(2,[{provide:Mg,useValue:0},{provide:tu,multi:!0,deps:[Rt],useFactory:e=>{let n=e.get($E,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Or),o=e.get(Kb);qb(i,()=>{r(!0)}),e.get(xg).afterPreactivation=()=>(r(!0),o.closed?z(void 0):o),i.initialNavigation()}))}}])}function R2(){return Aa(3,[{provide:tu,multi:!0,useFactory:()=>{let e=R(Or);return()=>{e.setUpLocationChangeListener()}}},{provide:Mg,useValue:2}])}var Qb=new L("");function N2(t){return Aa(0,[{provide:Qb,useExisting:x2},{provide:ed,useExisting:t}])}function O2(){return Aa(8,[lb,{provide:td,useExisting:lb}])}function k2(t){let e=[{provide:Ub,useValue:y2},{provide:Bb,useValue:P({skipNextTransition:!!t?.skipInitialTransition},t)}];return Aa(9,e)}var db=new L("ROUTER_FORROOT_GUARD"),F2=[Ro,{provide:Ca,useClass:fa},Or,ba,{provide:ar,useFactory:Gb,deps:[Or]},Sg,[]],Yb=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[F2,[],{provide:Ia,multi:!0,useValue:n},{provide:db,useFactory:U2,deps:[[Or,new Yt,new wp]]},{provide:Sa,useValue:r||{}},r?.useHash?L2():j2(),V2(),r?.preloadingStrategy?N2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?B2(r):[],r?.bindToComponentInputs?O2().\u0275providers:[],r?.enableViewTransitions?k2().\u0275providers:[],$2()]}}static forChild(n){return{ngModule:t,providers:[{provide:Ia,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(j(db,8))}}static{this.\u0275mod=Mt({type:t})}static{this.\u0275inj=xt({})}}return t})();function V2(){return{provide:Hb,useFactory:()=>{let t=R(QE),e=R(we),n=R(Sa),r=R(xg),i=R(Ca);return n.scrollOffset&&t.setOffset(n.scrollOffset),new M2(i,r,t,e,n)}}}function L2(){return{provide:gi,useClass:HE}}function j2(){return{provide:gi,useClass:hm}}function U2(t){return"guarded"}function B2(t){return[t.initialNavigation==="disabled"?R2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?P2().\u0275providers:[]]}var hb=new L("");function $2(){return[{provide:hb,useFactory:Wb},{provide:Ws,multi:!0,useExisting:hb}]}var Xb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},q2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},eD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,_=l&63;c||(_=64,s||(m=64)),r.push(n[u],n[d],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Rg;let m=o<<2|a>>4;if(r.push(m),l!==64){let _=a<<4&240|l>>2;if(r.push(_),d!==64){let I=l<<6&192|d;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},H2=function(t){let e=Xb(t);return eD.encodeByteArray(e,!0)},xa=function(t){return H2(t).replace(/\./g,"")},Og=function(t){try{return eD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function z2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var G2=()=>z2().__FIREBASE_DEFAULTS__,W2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},K2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Og(t[1]);return e&&JSON.parse(e)},kg=()=>{try{return G2()||W2()||K2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tD=t=>{var e,n;return(n=(e=kg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nD=t=>{let e=tD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fg=()=>{var t;return(t=kg())===null||t===void 0?void 0:t.config},rD=t=>{var e;return(e=kg())===null||e===void 0?void 0:e[`_${t}`]};var rd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function iD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xa(JSON.stringify(n)),xa(JSON.stringify(s)),""].join(".")}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function sD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vg(){try{return typeof indexedDB=="object"}catch{return!1}}function cD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var Q2="FirebaseError",on=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Q2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cr.prototype.create)}},cr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Y2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new on(i,a,r)}};function Y2(t,e){return t.replace(J2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var J2=/\{\$([^}]+)}/g;function Wo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Zb(o)&&Zb(s)){if(!Wo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Zb(t){return t!==null&&typeof t=="object"}function Lg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lD(t,e){let n=new Ng(t,e);return n.subscribe.bind(n)}var Ng=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Z2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pg),i.error===void 0&&(i.error=Pg),i.complete===void 0&&(i.complete=Pg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Z2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pg(){}var YW=4*60*60*1e3;function Et(t){return t&&t._delegate?t._delegate:t}var an=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ii="[DEFAULT]";var jg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eV(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function X2(t){return t===Ii?void 0:t}function eV(t){return t.instantiationMode==="EAGER"}var id=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new jg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var tV=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),nV={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},rV=ce.INFO,iV={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},oV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=iV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Fr=class{constructor(e){this.name=e,this._logLevel=rV,this._logHandler=oV,this._userLogHandler=null,tV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var sV=(t,e)=>e.some(n=>t instanceof n),uD,dD;function aV(){return uD||(uD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cV(){return dD||(dD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hD=new WeakMap,Bg=new WeakMap,fD=new WeakMap,Ug=new WeakMap,qg=new WeakMap;function lV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Vn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&hD.set(n,t)}).catch(()=>{}),qg.set(e,t),e}function uV(t){if(Bg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Bg.set(t,e)}var $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pD(t){$g=t($g)}function dV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(od(this),e,...n);return fD.set(r,e.sort?e.sort():[e]),Vn(r)}:cV().includes(t)?function(...e){return t.apply(od(this),e),Vn(hD.get(this))}:function(...e){return Vn(t.apply(od(this),e))}}function hV(t){return typeof t=="function"?dV(t):(t instanceof IDBTransaction&&uV(t),sV(t,aV())?new Proxy(t,$g):t)}function Vn(t){if(t instanceof IDBRequest)return lV(t);if(Ug.has(t))return Ug.get(t);let e=hV(t);return e!==t&&(Ug.set(t,e),qg.set(e,t)),e}var od=t=>qg.get(t);function gD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Vn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Vn(s.result),c.oldVersion,c.newVersion,Vn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var fV=["get","getKey","getAll","getAllKeys","count"],pV=["put","add","delete","clear"],Hg=new Map;function mD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hg.get(e))return Hg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=pV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fV.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Hg.set(e,o),o}pD(t=>J(P({},t),{get:(e,n,r)=>mD(e,n)||t.get(e,n,r),has:(e,n)=>!!mD(e,n)||t.has(e,n)}));var Gg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function mV(t){let e=t.getComponent();return e?.type==="VERSION"}var Wg="@firebase/app",_D="0.9.24";var Ei=new Fr("@firebase/app"),gV="@firebase/app-compat",_V="@firebase/analytics-compat",yV="@firebase/analytics",vV="@firebase/app-check-compat",wV="@firebase/app-check",IV="@firebase/auth",EV="@firebase/auth-compat",CV="@firebase/database",bV="@firebase/database-compat",DV="@firebase/functions",TV="@firebase/functions-compat",SV="@firebase/installations",AV="@firebase/installations-compat",xV="@firebase/messaging",MV="@firebase/messaging-compat",PV="@firebase/performance",RV="@firebase/performance-compat",NV="@firebase/remote-config",OV="@firebase/remote-config-compat",kV="@firebase/storage",FV="@firebase/storage-compat",VV="@firebase/firestore",LV="@firebase/firestore-compat",jV="firebase",UV="10.7.0";var Kg="[DEFAULT]",BV={[Wg]:"fire-core",[gV]:"fire-core-compat",[yV]:"fire-analytics",[_V]:"fire-analytics-compat",[wV]:"fire-app-check",[vV]:"fire-app-check-compat",[IV]:"fire-auth",[EV]:"fire-auth-compat",[CV]:"fire-rtdb",[bV]:"fire-rtdb-compat",[DV]:"fire-fn",[TV]:"fire-fn-compat",[SV]:"fire-iid",[AV]:"fire-iid-compat",[xV]:"fire-fcm",[MV]:"fire-fcm-compat",[PV]:"fire-perf",[RV]:"fire-perf-compat",[NV]:"fire-rc",[OV]:"fire-rc-compat",[kV]:"fire-gcs",[FV]:"fire-gcs-compat",[VV]:"fire-fst",[LV]:"fire-fst-compat","fire-js":"fire-js",[jV]:"fire-js-all"};var Ma=new Map,Qg=new Map;function $V(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){let e=t.name;if(Qg.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,t);for(let n of Ma.values())$V(n,t);return!0}function Xg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var qV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vr=new cr("app","Firebase",qV);var Yg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}};var Ko=UV;function e_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Kg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(n||(n=Fg()),!n)throw Vr.create("no-options");let o=Ma.get(i);if(o){if(Wo(n,o.options)&&Wo(r,o.config))return o;throw Vr.create("duplicate-app",{appName:i})}let s=new id(i);for(let c of Qg.values())s.addComponent(c);let a=new Yg(n,r,s);return Ma.set(i,a),a}function Ra(t=Kg){let e=Ma.get(t);if(!e&&t===Kg&&Fg())return e_();if(!e)throw Vr.create("no-app",{appName:t});return e}function sd(){return Array.from(Ma.values())}function Je(t,e,n){var r;let i=(r=BV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}Lr(new an(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var HV="firebase-heartbeat-database",zV=1,Pa="firebase-heartbeat-store",zg=null;function ID(){return zg||(zg=gD(HV,zV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pa)}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),zg}function GV(t){return w(this,null,function*(){try{return yield(yield ID()).transaction(Pa).objectStore(Pa).get(ED(t))}catch(e){if(e instanceof on)Ei.warn(e.message);else{let n=Vr.create("idb-get",{originalErrorMessage:e?.message});Ei.warn(n.message)}}})}function yD(t,e){return w(this,null,function*(){try{let r=(yield ID()).transaction(Pa,"readwrite");yield r.objectStore(Pa).put(e,ED(t)),yield r.done}catch(n){if(n instanceof on)Ei.warn(n.message);else{let r=Vr.create("idb-set",{originalErrorMessage:n?.message});Ei.warn(r.message)}}})}function ED(t){return`${t.name}!${t.options.appId}`}var WV=1024,KV=30*24*60*60*1e3,Jg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Zg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=KV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return w(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=vD(),{heartbeatsToSend:r,unsentEntries:i}=QV(this._heartbeatsCache.heartbeats),o=xa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function vD(){return new Date().toISOString().substring(0,10)}function QV(t,e=WV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),wD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Zg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Vg()?cD().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield GV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function wD(t){return xa(JSON.stringify({version:2,heartbeats:t})).length}function YV(t){Lr(new an("platform-logger",e=>new Gg(e),"PRIVATE")),Lr(new an("heartbeat",e=>new Jg(e),"PRIVATE")),Je(Wg,_D,t),Je(Wg,_D,"esm2017"),Je("fire-js","")}YV("");var JV="firebase",ZV="10.7.0";Je(JV,ZV,"app");var Yo=new Zn("ANGULARFIRE2_VERSION");function n_(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Oa=(t,e)=>{let n=e?[e]:sd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Na=class{constructor(){return Oa(XV)}},XV="app-check";function Qo(){}var ad=class{zone;delegate;constructor(e,n=af){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},t_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qo,{},Qo,Qo)),n.pipe(qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ka=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ad(Zone.current)),this.insideAngular=n.run(()=>new ad(Zone.current,sf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(j(we))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function eL(t){return cd().ngZone.runOutsideAngular(()=>t())}function Ci(t){return cd().ngZone.run(()=>t())}function tL(t){return nL(cd())(t)}function nL(t){return function(n){return n=n.lift(new t_(t.ngZone)),n.pipe(mr(t.outsideAngular),pr(t.insideAngular))}}var rL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ci(()=>t.apply(void 0,r))},qt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qo,{},Qo,Qo))),r[o]=rL(r[o],n));let i=eL(()=>t.apply(this,r));if(!e)if(i instanceof oe){let o=cd();return i.pipe(mr(o.outsideAngular),pr(o.insideAngular))}else return Ci(()=>i);return i instanceof oe?i.pipe(tL):i instanceof Promise?Ci(()=>new Promise((o,s)=>i.then(a=>Ci(()=>o(a)),a=>Ci(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ci(()=>i)};var bi=class{constructor(e){return e}},Fa=class{constructor(){return sd()}};function iL(t){return t&&t.length===1?t[0]:new bi(Ra())}var r_=new L("angularfire2._apps"),oL={provide:bi,useFactory:iL,deps:[[new Yt,r_]]},sL={provide:Fa,deps:[[new Yt,r_]]};function aL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new bi(r)}}var cL=(()=>{class t{constructor(n){Je("angularfire",Yo.full,"core"),Je("angularfire",Yo.full,"app"),Je("angular",SE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(j(Xt))};static \u0275mod=Mt({type:t});static \u0275inj=xt({providers:[oL,sL]})}return t})();function CD(t,...e){return{ngModule:cL,providers:[{provide:r_,useFactory:aL(t),multi:!0,deps:[we,Rt,ka,...e]}]}}var bD=qt(e_,!0);function PD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var RD=PD,ND=new cr("auth","Firebase",PD());var dd=new Fr("@firebase/auth");function uL(t,...e){dd.logLevel<=ce.WARN&&dd.warn(`Auth (${Ko}): ${t}`,...e)}function ud(t,...e){dd.logLevel<=ce.ERROR&&dd.error(`Auth (${Ko}): ${t}`,...e)}function DD(t,...e){throw p_(t,...e)}function OD(t,...e){return p_(t,...e)}function dL(t,e,n){let r=Object.assign(Object.assign({},RD()),{[e]:n});return new cr("auth","Firebase",r).create(e,{appName:t.name})}function p_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ND.create(t,...e)}function Ee(t,e,...n){if(!t)throw p_(e,...n)}function Va(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ud(e),new Error(e)}function hd(t,e){t||Va(e)}function hL(){return TD()==="http:"||TD()==="https:"}function TD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function fL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hL()||sD()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ti=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,hd(n>e,"Short delay should be less than long delay!"),this.isMobile=oD()||aD()}get(){return fL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function mL(t,e){hd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var fd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var gL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _L=new Ti(3e4,6e4);function kD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function wd(o,s,a,c){return w(this,arguments,function*(t,e,n,r,i={}){return FD(t,i,()=>w(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Lg(Object.assign({key:t.config.apiKey},u)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),fd.fetch()(VD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function FD(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},gL),e);try{let i=new s_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ld(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ld(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ld(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw ld(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw dL(t,u,l);DD(t,u)}}catch(i){if(i instanceof on)throw i;DD(t,"network-request-failed",{message:String(i)})}})}function VD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?mL(t.config,i):`${t.config.apiScheme}://${i}`}var s_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(OD(this.auth,"network-request-failed")),_L.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ld(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=OD(t,e,r);return i.customData._tokenResponse=n,i}function yL(t,e){return w(this,null,function*(){return wd(t,"POST","/v1/accounts:delete",e)})}function vL(t,e){return w(this,null,function*(){return wd(t,"POST","/v1/accounts:lookup",e)})}function La(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function m_(t,e=!1){return w(this,null,function*(){let n=Et(t),r=yield n.getIdToken(e),i=LD(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:La(i_(i.auth_time)),issuedAtTime:La(i_(i.iat)),expirationTime:La(i_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function i_(t){return Number(t)*1e3}function LD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{let i=Og(n);return i?JSON.parse(i):(ud("Failed to decode base64 JWT payload"),null)}catch(i){return ud("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wL(t){let e=LD(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function a_(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof on&&IL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function IL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var c_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var pd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=La(this.lastLoginAt),this.creationTime=La(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function md(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield a_(t,vL(n,{idToken:r}));Ee(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CL(o.providerUserInfo):[],a=EL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pd(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function g_(t){return w(this,null,function*(){let e=Et(t);yield md(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function EL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CL(t){return t.map(e=>{var{providerId:n}=e,r=cf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bL(t,e){return w(this,null,function*(){let n=yield FD(t,{},()=>w(this,null,function*(){let r=Lg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=VD(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function DL(t,e){return w(this,null,function*(){return wd(t,"POST","/v2/accounts:revokeToken",kD(t,e))})}var gd=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return w(this,null,function*(){return Ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield bL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Va("not implemented")}};function jr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var _d=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=cf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new c_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield a_(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return m_(this,e)}reload(){return g_(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield md(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){let e=yield this.getIdToken();return yield a_(this,yL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,_=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ie=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:q,emailVerified:ve,isAnonymous:Ke,providerData:fe,stsTokenManager:lt}=n;Ee(q&&lt,e,"internal-error");let bn=gd.fromJSON(this.name,lt);Ee(typeof q=="string",e,"internal-error"),jr(d,e.name),jr(m,e.name),Ee(typeof ve=="boolean",e,"internal-error"),Ee(typeof Ke=="boolean",e,"internal-error"),jr(_,e.name),jr(I,e.name),jr(E,e.name),jr(C,e.name),jr(O,e.name),jr(ie,e.name);let Qr=new t({uid:q,auth:e,email:m,emailVerified:ve,displayName:d,isAnonymous:Ke,photoURL:I,phoneNumber:_,tenantId:E,stsTokenManager:bn,createdAt:O,lastLoginAt:ie});return fe&&Array.isArray(fe)&&(Qr.providerData=fe.map(Gi=>Object.assign({},Gi))),C&&(Qr._redirectEventId=C),Qr}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new gd;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield md(o),o})}};var SD=new Map;function Di(t){hd(t instanceof Function,"Expected a class definition");let e=SD.get(t);return e?(hd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SD.set(t,e),e)}var TL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),l_=TL;function o_(t,e,n){return`firebase:${t}:${e}:${n}`}var yd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=o_(this.userKey,i.apiKey,o),this.fullPersistenceKey=o_("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?_d._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Di(l_),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Di(l_),s=o_(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=_d._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function AD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ML(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RL(e))return"Blackberry";if(NL(e))return"Webos";if(AL(e))return"Safari";if((e.includes("chrome/")||xL(e))&&!e.includes("edge/"))return"Chrome";if(PL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function SL(t=sn()){return/firefox\//i.test(t)}function AL(t=sn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xL(t=sn()){return/crios\//i.test(t)}function ML(t=sn()){return/iemobile/i.test(t)}function PL(t=sn()){return/android/i.test(t)}function RL(t=sn()){return/blackberry/i.test(t)}function NL(t=sn()){return/webos/i.test(t)}function jD(t,e=[]){let n;switch(t){case"Browser":n=AD(sn());break;case"Worker":n=`${AD(sn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${r}`}var u_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function OL(n){return w(this,arguments,function*(t,e={}){return wd(t,"GET","/v2/passwordPolicy",kD(t,e))})}var kL=6,d_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:kL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var h_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vd(this),this.idTokenSubscription=new vd(this),this.beforeStateQueue=new u_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ND,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield yd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield md(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pL()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){let n=e?Et(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Di(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield OL(this),n=new d_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield DL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Di(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=yield yd.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&uL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function FL(t){return Et(t)}var vd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lD(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function VL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function LL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var H7=VL("rcb"),z7=new Ti(3e4,6e4);var G7=new Ti(2e3,1e4);var W7=10*60*1e3;var K7=new Ti(3e4,6e4);var Q7=new Ti(5e3,15e3);var Y7=encodeURIComponent("fac");var xD="@firebase/auth",MD="1.5.0";var f_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function jL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function UL(t){Lr(new an("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jD(t)},l=new h_(r,i,o,c);return LL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lr(new an("auth-internal",e=>{let n=FL(e.getProvider("auth").getImmediate());return(r=>new f_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(xD,MD,jL(t)),Je(xD,MD,"esm2017")}var BL=5*60,J7=rD("authIdTokenMaxAge")||BL;UL("Browser");var Uj="auth";var Id=class{constructor(){return Oa(Uj)}};var Bj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wn={},N,L_=L_||{},Q=Bj||self;function kd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Za(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $j(t){return Object.prototype.hasOwnProperty.call(t,__)&&t[__]||(t[__]=++qj)}var __="closure_uid_"+(1e9*Math.random()>>>0),qj=0;function Hj(t,e,n){return t.call.apply(t.bind,arguments)}function zj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ft(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ft=Hj:ft=zj,ft.apply(null,arguments)}function Ed(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Xe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Ur(){this.s=this.s,this.o=this.o}var Gj=0;Ur.prototype.s=!1;Ur.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Gj!=0)&&$j(this)};Ur.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ZD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function j_(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function UD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(kd(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var Wj=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function Ha(t){return/^[\s\xa0]*$/.test(t)}function Fd(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Ln(t){return Fd().indexOf(t)!=-1}function U_(t){return U_[" "](t),t}U_[" "]=function(){};function Kj(t,e){var n=FU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Qj=Ln("Opera"),es=Ln("Trident")||Ln("MSIE"),XD=Ln("Edge"),E_=XD||es,eT=Ln("Gecko")&&!(Fd().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),Yj=Fd().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge");function tT(){var t=Q.document;return t?t.documentMode:void 0}var C_;e:{if(Cd="",bd=function(){var t=Fd();if(eT)return/rv:([^\);]+)(\)|;)/.exec(t);if(XD)return/Edge\/([\d\.]+)/.exec(t);if(es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Yj)return/WebKit\/(\S+)/.exec(t);if(Qj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),bd&&(Cd=bd?bd[1]:""),es&&(Dd=tT(),Dd!=null&&Dd>parseFloat(Cd))){C_=String(Dd);break e}C_=Cd}var Cd,bd,Dd,b_;Q.document&&es?(y_=tT(),b_=y_||parseInt(C_,10)||void 0):b_=void 0;var y_,Jj=b_;function za(t,e){if(pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(eT){e:{try{U_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Zj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&za.$.h.call(this)}}Xe(za,pt);var Zj={2:"touch",3:"pen",4:"mouse"};za.prototype.h=function(){za.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xa="closure_listenable_"+(1e6*Math.random()|0),Xj=0;function eU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Xj,this.fa=this.ia=!1}function Vd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function B_(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function tU(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function nT(t){let e={};for(let n in t)e[n]=t[n];return e}var BD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<BD.length;o++)n=BD[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ld(t){this.src=t,this.g={},this.h=0}Ld.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=T_(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new eU(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function D_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ZD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Vd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function T_(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var $_="closure_lm_"+(1e6*Math.random()|0),v_={};function iT(t,e,n,r,i){if(r&&r.once)return sT(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)iT(t,e[o],n,r,i);return null}return n=z_(n),t&&t[Xa]?t.O(e,n,Za(r)?!!r.capture:!!r,i):oT(t,e,n,!1,r,i)}function oT(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Za(i)?!!i.capture:!!i,a=H_(t);if(a||(t[$_]=a=new Ld(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=nU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Wj||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nU(){function t(n){return e.call(t.src,t.listener,n)}let e=rU;return t}function sT(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sT(t,e[o],n,r,i);return null}return n=z_(n),t&&t[Xa]?t.P(e,n,Za(r)?!!r.capture:!!r,i):oT(t,e,n,!0,r,i)}function aT(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)aT(t,e[o],n,r,i);else r=Za(r)?!!r.capture:!!r,n=z_(n),t&&t[Xa]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=T_(o,n,r,i),-1<n&&(Vd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=H_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=T_(e,n,r,i)),(n=-1<t?e[t]:null)&&q_(n))}function q_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Xa])D_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=H_(e))?(D_(n,t),n.h==0&&(n.src=null,e[$_]=null)):Vd(t)}}}function cT(t){return t in v_?v_[t]:v_[t]="on"+t}function rU(t,e){if(t.fa)t=!0;else{e=new za(e,this);var n=t.listener,r=t.la||t.src;t.ia&&q_(t),t=n.call(r,e)}return t}function H_(t){return t=t[$_],t instanceof Ld?t:null}var w_="__closure_events_fn_"+(1e9*Math.random()>>>0);function z_(t){return typeof t=="function"?t:(t[w_]||(t[w_]=function(e){return t.handleEvent(e)}),t[w_])}function Ze(){Ur.call(this),this.i=new Ld(this),this.S=this,this.J=null}Xe(Ze,Ur);Ze.prototype[Xa]=!0;Ze.prototype.removeEventListener=function(t,e,n,r){aT(this,t,e,n,r)};function at(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new pt(e,t);else if(e instanceof pt)e.target=e.target||t;else{var i=e;e=new pt(r,t),rT(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Td(s,r,!0,e)&&i}if(s=e.g=t,i=Td(s,r,!0,e)&&i,i=Td(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Td(s,r,!1,e)&&i}Ze.prototype.N=function(){if(Ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vd(n[r]);delete t.g[e],t.h--}}this.J=null};Ze.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ze.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Td(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&D_(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var G_=Q.JSON.stringify,S_=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function iU(){var t=W_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var A_=class{constructor(){this.h=this.g=null}add(e,n){let r=lT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},lT=new S_(()=>new x_,t=>t.reset()),x_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function oU(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function sU(t){Q.setTimeout(()=>{throw t},0)}var Ga,Wa=!1,W_=new A_,uT=()=>{let t=Q.Promise.resolve(void 0);Ga=()=>{t.then(aU)}},aU=()=>{for(var t;t=iU();){try{t.h.call(t.g)}catch(n){sU(n)}var e=lT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wa=!1};function jd(t,e){Ze.call(this),this.h=t||1,this.g=e||Q,this.j=ft(this.qb,this),this.l=Date.now()}Xe(jd,Ze);N=jd.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),at(this,"tick"),this.ga&&(K_(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function K_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){jd.$.N.call(this),K_(this),delete this.g};function Q_(t,e,n){if(typeof t=="function")n&&(t=ft(t,n));else if(t&&typeof t.handleEvent=="function")t=ft(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function dT(t){t.g=Q_(()=>{t.g=null,t.i&&(t.i=!1,dT(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var M_=class extends Ur{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dT(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ka(t){Ur.call(this),this.h=t,this.g={}}Xe(Ka,Ur);var $D=[];function hT(t,e,n,r){Array.isArray(n)||(n&&($D[0]=n.toString()),n=$D);for(var i=0;i<n.length;i++){var o=iT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function fT(t){B_(t.g,function(e,n){this.g.hasOwnProperty(n)&&q_(e)},t),t.g={}}Ka.prototype.N=function(){Ka.$.N.call(this),fT(this)};Ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ud(){this.g=!0}Ud.prototype.Ea=function(){this.g=!1};function cU(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function lU(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Zo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dU(t,n)+(r?" "+r:"")})}function uU(t,e){t.info(function(){return"TIMEOUT: "+e})}Ud.prototype.info=function(){};function dU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return G_(n)}catch{return e}}var Mi={},qD=null;function Bd(){return qD=qD||new Ze}Mi.Ta="serverreachability";function pT(t){pt.call(this,Mi.Ta,t)}Xe(pT,pt);function Qa(t){let e=Bd();at(e,new pT(e))}Mi.STAT_EVENT="statevent";function mT(t,e){pt.call(this,Mi.STAT_EVENT,t),this.stat=e}Xe(mT,pt);function Ct(t){let e=Bd();at(e,new mT(e,t))}Mi.Ua="timingevent";function gT(t,e){pt.call(this,Mi.Ua,t),this.size=e}Xe(gT,pt);function ec(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var $d={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_T={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Y_(){}Y_.prototype.h=null;function HD(t){return t.h||(t.h=t.i())}function yT(){}var tc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function J_(){pt.call(this,"d")}Xe(J_,pt);function Z_(){pt.call(this,"c")}Xe(Z_,pt);var P_;function qd(){}Xe(qd,Y_);qd.prototype.g=function(){return new XMLHttpRequest};qd.prototype.i=function(){return{}};P_=new qd;function nc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ka(this),this.P=hU,t=E_?125:void 0,this.V=new jd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vT}function vT(){this.i=null,this.g="",this.h=!1}var hU=45e3,wT={},R_={};N=nc.prototype;N.setTimeout=function(t){this.P=t};function N_(t,e,n){t.L=1,t.A=zd(ur(e)),t.u=n,t.S=!0,IT(t,null)}function IT(t,e){t.G=Date.now(),rc(t),t.B=ur(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),xT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new vT,t.g=YT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new M_(ft(t.Pa,t,t.g),t.O)),hT(t.U,t.g,"readystatechange",t.nb),e=t.I?nT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Qa(),cU(t.j,t.v,t.B,t.m,t.W,t.u)}N.nb=function(t){t=t.target;let e=this.M;e&&jn(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{let u=jn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||E_||this.g&&(this.h.h||this.g.ja()||KD(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Qa(3):Qa(2)),Hd(this);var n=this.g.da();this.ca=n;t:if(ET(this)){var r=KD(this.g);t="";var i=r.length,o=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),qa(this);var s="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,lU(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ha(a)){var l=a;break t}}l=null}if(n=l)Zo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,O_(this,n);else{this.i=!1,this.s=3,Ct(12),Si(this),qa(this);break e}}this.S?(CT(this,u,s),E_&&this.i&&u==3&&(hT(this.U,this.V,"tick",this.mb),this.V.start())):(Zo(this.j,this.m,s,null),O_(this,s)),u==4&&Si(this),this.i&&!this.J&&(u==4?GT(this.l,this):(this.i=!1,rc(this)))}else NU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Si(this),qa(this)}}}catch{}finally{}};function ET(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function CT(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=fU(t,n),i==R_){e==4&&(t.s=4,Ct(14),r=!1),Zo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==wT){t.s=4,Ct(15),Zo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Zo(t.j,t.m,i,null),O_(t,i);ET(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ct(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),iy(e),e.M=!0,Ct(11))):(Zo(t.j,t.m,n,"[Invalid Chunked Response]"),Si(t),qa(t))}N.mb=function(){if(this.g){var t=jn(this.g),e=this.g.ja();this.o<e.length&&(Hd(this),CT(this,t,e),this.i&&t!=4&&rc(this))}};function fU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?R_:(n=Number(e.substring(n,r)),isNaN(n)?wT:(r+=1,r+n>e.length?R_:(e=e.slice(r,r+n),t.o=r+n,e)))}N.cancel=function(){this.J=!0,Si(this)};function rc(t){t.Y=Date.now()+t.P,bT(t,t.P)}function bT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ec(ft(t.lb,t),e)}function Hd(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}N.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(uU(this.j,this.B),this.L!=2&&(Qa(),Ct(17)),Si(this),this.s=2,qa(this)):bT(this,this.Y-t)};function qa(t){t.l.H==0||t.J||GT(t.l,t)}function Si(t){Hd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,K_(t.V),fT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function O_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||k_(n.i,t))){if(!t.K&&k_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Pd(n),Kd(n);else break e;ry(n),Ct(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ec(ft(n.ib,n),6e3));if(1>=RT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ai(n,11)}else if((t.K||n.g==t)&&Pd(n),!Ha(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let m=l[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let _=t.g;if(_){let I=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var o=r.i;o.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(X_(o,o.h),o.h=null))}if(r.F){let E=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Pe(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=QT(r,r.J?r.pa:null,r.Y),s.K){NT(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(Hd(a),rc(a)),r.g=s}else HT(r);0<n.j.length&&Qd(n)}else l[0]!="stop"&&l[0]!="close"||Ai(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Ai(n,7):ny(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Qa(4)}catch{}}function pU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(kd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function mU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function DT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(kd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=mU(t),r=pU(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var TT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function xi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof xi){this.h=t.h,xd(this,t.j),this.s=t.s,this.g=t.g,Md(this,t.m),this.l=t.l;var e=t.i,n=new Ya;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),zD(this,n),this.o=t.o}else t&&(e=String(t).match(TT))?(this.h=!1,xd(this,e[1]||"",!0),this.s=Ba(e[2]||""),this.g=Ba(e[3]||"",!0),Md(this,e[4]),this.l=Ba(e[5]||"",!0),zD(this,e[6]||"",!0),this.o=Ba(e[7]||"")):(this.h=!1,this.i=new Ya(null,this.h))}xi.prototype.toString=function(){var t=[],e=this.j;e&&t.push($a(e,GD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($a(e,GD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($a(n,n.charAt(0)=="/"?vU:yU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$a(n,IU)),t.join("")};function ur(t){return new xi(t)}function xd(t,e,n){t.j=n?Ba(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Md(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function zD(t,e,n){e instanceof Ya?(t.i=e,EU(t.i,t.h)):(n||(e=$a(e,wU)),t.i=new Ya(e,t.h))}function Pe(t,e,n){t.i.set(e,n)}function zd(t){return Pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ba(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $a(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,_U),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _U(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var GD=/[#\/\?@]/g,yU=/[#\?:]/g,vU=/[#\?]/g,wU=/[#\?@]/g,IU=/#/g;function Ya(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Br(t){t.g||(t.g=new Map,t.h=0,t.i&&gU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=Ya.prototype;N.add=function(t,e){Br(this),this.i=null,t=ts(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ST(t,e){Br(t),e=ts(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function AT(t,e){return Br(t),e=ts(t,e),t.g.has(e)}N.forEach=function(t,e){Br(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};N.ta=function(){Br(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};N.Z=function(t){Br(this);let e=[];if(typeof t=="string")AT(this,t)&&(e=e.concat(this.g.get(ts(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return Br(this),this.i=null,t=ts(this,t),AT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function xT(t,e,n){ST(t,e),0<n.length&&(t.i=null,t.g.set(ts(t,e),j_(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ts(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function EU(t,e){e&&!t.j&&(Br(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ST(this,r),xT(this,i,n))},t)),t.j=e}var CU=class{constructor(t,e){this.g=t,this.map=e}};function MT(t){this.l=t||bU,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bU=10;function PT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function RT(t){return t.h?1:t.g?t.g.size:0}function k_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function X_(t,e){t.g?t.g.add(e):t.h=e}function NT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}MT.prototype.cancel=function(){if(this.i=OT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function OT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return j_(t.i)}var DU=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function TU(){this.g=new DU}function SU(t,e,n){let r=n||"";try{DT(t,function(i,o){let s=i;Za(i)&&(s=G_(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function AU(t,e){let n=new Ud;if(Q.Image){let r=new Image;r.onload=Ed(Sd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ed(Sd,n,r,"TestLoadImage: error",!1,e),r.onabort=Ed(Sd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ed(Sd,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Sd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ic(t){this.l=t.ec||null,this.j=t.ob||!1}Xe(ic,Y_);ic.prototype.g=function(){return new Gd(this.l,this.j)};ic.prototype.i=function(t){return function(){return t}}({});function Gd(t,e){Ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ey,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xe(Gd,Ze);var ey=0;N=Gd.prototype;N.open=function(t,e){if(this.readyState!=ey)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ja(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oc(this)),this.readyState=ey};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ja(this)),this.g&&(this.readyState=3,Ja(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function kT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?oc(this):Ja(this),this.readyState==3&&kT(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,oc(this))};N.Ya=function(t){this.g&&(this.response=t,oc(this))};N.ka=function(){this.g&&oc(this)};function oc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ja(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ja(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Gd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var xU=Q.JSON.parse;function ke(t){Ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=FT,this.L=this.M=!1}Xe(ke,Ze);var FT="",MU=/^https?$/i,PU=["POST","PUT"];N=ke.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():P_.g(),this.C=this.u?HD(this.u):HD(P_),this.g.onreadystatechange=ft(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){WD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Q.FormData&&t instanceof Q.FormData,!(0<=ZD(PU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jT(this),0<this.B&&((this.L=RU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.ua,this)):this.A=Q_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){WD(this,o)}};function RU(t){return es&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof L_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,at(this,"timeout"),this.abort(8))};function WD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,VT(t),Wd(t)}function VT(t){t.F||(t.F=!0,at(t,"complete"),at(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,at(this,"complete"),at(this,"abort"),Wd(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wd(this,!0)),ke.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?LT(this):this.kb())};N.kb=function(){LT(this)};function LT(t){if(t.h&&typeof L_<"u"&&(!t.C[1]||jn(t)!=4||t.da()!=2)){if(t.v&&jn(t)==4)Q_(t.La,0,t);else if(at(t,"readystatechange"),jn(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(TT)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!MU.test(i?i.toLowerCase():"")}n=r}if(n)at(t,"complete"),at(t,"success");else{t.m=6;try{var o=2<jn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",VT(t)}}finally{Wd(t)}}}}function Wd(t,e){if(t.g){jT(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||at(t,"ready");try{n.onreadystatechange=r}catch{}}}function jT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function jn(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),xU(e)}};function KD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case FT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function NU(t){let e={};t=(t.g&&2<=jn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ha(t[r]))continue;var n=oU(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}tU(e,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function UT(t){let e="";return B_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ty(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=UT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Pe(t,e,n))}function ja(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function BT(t){this.Ga=0,this.j=[],this.l=new Ud,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ja("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ja("baseRetryDelayMs",5e3,t),this.hb=ja("retryDelaySeedMs",1e4,t),this.eb=ja("forwardChannelMaxRetries",2,t),this.xa=ja("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new MT(t&&t.concurrentRequestLimit),this.Ja=new TU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=BT.prototype;N.ra=8;N.H=1;function ny(t){if($T(t),t.H==3){var e=t.W++,n=ur(t.I);if(Pe(n,"SID",t.K),Pe(n,"RID",e),Pe(n,"TYPE","terminate"),sc(t,n),e=new nc(t,t.l,e),e.L=2,e.A=zd(ur(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=YT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),rc(e)}KT(t)}function Kd(t){t.g&&(iy(t),t.g.cancel(),t.g=null)}function $T(t){Kd(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Pd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function Qd(t){if(!PT(t.i)&&!t.m){t.m=!0;var e=t.Na;Ga||uT(),Wa||(Ga(),Wa=!0),W_.add(e,t),t.C=0}}function OU(t,e){return RT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ec(ft(t.Na,t,e),WT(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new nc(this,this.l,t),o=this.s;if(this.U&&(o?(o=nT(o),rT(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qT(this,i,e),n=ur(this.I),Pe(n,"RID",t),Pe(n,"CVER",22),this.F&&Pe(n,"X-HTTP-Session-Id",this.F),sc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(UT(o)))+"&"+e:this.o&&ty(n,this.o,o)),X_(this.i,i),this.bb&&Pe(n,"TYPE","init"),this.P?(Pe(n,"$req",e),Pe(n,"SID","null"),i.aa=!0,N_(i,n,null)):N_(i,n,e),this.H=2}}else this.H==3&&(t?QD(this,t):this.j.length==0||PT(this.i)||QD(this))};function QD(t,e){var n;e?n=e.m:n=t.W++;let r=ur(t.I);Pe(r,"SID",t.K),Pe(r,"RID",n),Pe(r,"AID",t.V),sc(t,r),t.o&&t.s&&ty(r,t.o,t.s),n=new nc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=qT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),X_(t.i,n),N_(n,r,e)}function sc(t,e){t.na&&B_(t.na,function(n,r){Pe(e,r,n)}),t.h&&DT({},function(n,r){Pe(e,r,n)})}function qT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ft(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{SU(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function HT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ga||uT(),Wa||(Ga(),Wa=!0),W_.add(e,t),t.A=0}}function ry(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ec(ft(t.Ma,t),WT(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,zT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ec(ft(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ct(10),Kd(this),zT(this))};function iy(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function zT(t){t.g=new nc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ur(t.wa);Pe(e,"RID","rpc"),Pe(e,"SID",t.K),Pe(e,"AID",t.V),Pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pe(e,"TO",t.qa),Pe(e,"TYPE","xmlhttp"),sc(t,e),t.o&&t.s&&ty(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=zd(ur(e)),n.u=null,n.S=!0,IT(n,t)}N.ib=function(){this.v!=null&&(this.v=null,Kd(this),ry(this),Ct(19))};function Pd(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function GT(t,e){var n=null;if(t.g==e){Pd(t),iy(t),t.g=null;var r=2}else if(k_(t.i,e))n=e.F,NT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Bd(),at(r,new gT(r,n)),Qd(t)}else HT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&OU(t,e)||r==2&&ry(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ai(t,5);break;case 4:Ai(t,10);break;case 3:Ai(t,6);break;default:Ai(t,2)}}}function WT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ft(t.pb,t);n||(n=new xi("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||xd(n,"https"),zd(n)),AU(n.toString(),r)}else Ct(2);t.H=0,t.h&&t.h.za(e),KT(t),$T(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ct(2)):(this.l.info("Failed to ping google.com"),Ct(1))};function KT(t){if(t.H=0,t.ma=[],t.h){let e=OT(t.i);(e.length!=0||t.j.length!=0)&&(UD(t.ma,e),UD(t.ma,t.j),t.i.i.length=0,j_(t.j),t.j.length=0),t.h.ya()}}function QT(t,e,n){var r=n instanceof xi?ur(n):new xi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Md(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new xi(null);r&&xd(o,r),e&&(o.g=e),i&&Md(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Pe(r,n,e),Pe(r,"VER",t.ra),sc(t,r),r}function YT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ke(new ic({ob:n})):new ke(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function JT(){}N=JT.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function Rd(){if(es&&!(10<=Number(Jj)))throw Error("Environmental error: no available transport.")}Rd.prototype.g=function(t,e){return new Ht(t,e)};function Ht(t,e){Ze.call(this),this.g=new BT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ha(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ha(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ns(this)}Xe(Ht,Ze);Ht.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ct(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=QT(t,null,t.Y),Qd(t)};Ht.prototype.close=function(){ny(this.g)};Ht.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=G_(t),t=n);e.j.push(new CU(e.fb++,t)),e.H==3&&Qd(e)};Ht.prototype.N=function(){this.g.h=null,delete this.j,ny(this.g),delete this.g,Ht.$.N.call(this)};function ZT(t){J_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Xe(ZT,J_);function XT(){Z_.call(this),this.status=1}Xe(XT,Z_);function ns(t){this.g=t}Xe(ns,JT);ns.prototype.Ba=function(){at(this.g,"a")};ns.prototype.Aa=function(t){at(this.g,new ZT(t))};ns.prototype.za=function(t){at(this.g,new XT)};ns.prototype.ya=function(){at(this.g,"b")};function kU(){this.blockSize=-1}function vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Xe(vn,kU);vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function I_(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}vn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)I_(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){I_(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){I_(this,r),i=0;break}}this.h=i,this.i+=e};vn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var FU={};function oy(t){return-128<=t&&128>t?Kj(t,function(e){return new Ce([e|0],0>e?-1:0)}):new Ce([t|0],0>t?-1:0)}function Un(t){if(isNaN(t)||!isFinite(t))return Xo;if(0>t)return st(Un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=F_;return new Ce(e,0)}function eS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return st(eS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Un(Math.pow(e,8)),r=Xo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Un(Math.pow(e,o)),r=r.R(o).add(Un(s))):(r=r.R(n),r=r.add(Un(s)))}return r}var F_=4294967296,Xo=oy(0),V_=oy(1),YD=oy(16777216);N=Ce.prototype;N.ea=function(){if(cn(this))return-st(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:F_+r)*e,e*=F_}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(lr(this))return"0";if(cn(this))return"-"+st(this).toString(t);for(var e=Un(Math.pow(t,6)),n=this,r="";;){var i=Od(n,e).g;n=Nd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,lr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function lr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function cn(t){return t.h==-1}N.X=function(t){return t=Nd(this,t),cn(t)?-1:lr(t)?0:1};function st(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(V_)}N.abs=function(){return cn(this)?st(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function Nd(t,e){return t.add(st(e))}N.R=function(t){if(lr(this)||lr(t))return Xo;if(cn(this))return cn(t)?st(this).R(st(t)):st(st(this).R(t));if(cn(t))return st(this.R(st(t)));if(0>this.X(YD)&&0>t.X(YD))return Un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Ad(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Ad(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ad(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ad(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)};function Ad(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ua(t,e){this.g=t,this.h=e}function Od(t,e){if(lr(e))throw Error("division by zero");if(lr(t))return new Ua(Xo,Xo);if(cn(t))return e=Od(st(t),e),new Ua(st(e.g),st(e.h));if(cn(e))return e=Od(t,st(e)),new Ua(st(e.g),e.h);if(30<t.g.length){if(cn(t)||cn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=V_,r=e;0>=r.X(t);)n=JD(n),r=JD(r);var i=Jo(n,1),o=Jo(r,1);for(r=Jo(r,2),n=Jo(n,2);!lr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Jo(r,1),n=Jo(n,1)}return e=Nd(t,i.R(e)),new Ua(i,e)}for(i=Xo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Un(n),s=o.R(e);cn(s)||0<s.X(t);)n-=r,o=Un(n),s=o.R(e);lr(o)&&(o=V_),i=i.add(o),t=Nd(t,s)}return new Ua(i,t)}N.gb=function(t){return Od(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)};function JD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function Jo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ce(i,t.h)}Rd.prototype.createWebChannel=Rd.prototype.g;Ht.prototype.send=Ht.prototype.u;Ht.prototype.open=Ht.prototype.m;Ht.prototype.close=Ht.prototype.close;$d.NO_ERROR=0;$d.TIMEOUT=8;$d.HTTP_ERROR=6;_T.COMPLETE="complete";yT.EventType=tc;tc.OPEN="a";tc.CLOSE="b";tc.ERROR="c";tc.MESSAGE="d";Ze.prototype.listen=Ze.prototype.O;ke.prototype.listenOnce=ke.prototype.P;ke.prototype.getLastError=ke.prototype.Sa;ke.prototype.getLastErrorCode=ke.prototype.Ia;ke.prototype.getStatus=ke.prototype.da;ke.prototype.getResponseJson=ke.prototype.Wa;ke.prototype.getResponseText=ke.prototype.ja;ke.prototype.send=ke.prototype.ha;ke.prototype.setWithCredentials=ke.prototype.Oa;vn.prototype.digest=vn.prototype.l;vn.prototype.reset=vn.prototype.reset;vn.prototype.update=vn.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=Un;Ce.fromString=eS;var tS=wn.createWebChannelTransport=function(){return new Rd},nS=wn.getStatEventTarget=function(){return Bd()},Yd=wn.ErrorCode=$d,rS=wn.EventType=_T,iS=wn.Event=Mi,sy=wn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},BK=wn.FetchXmlHttpFactory=ic,ac=wn.WebChannel=yT,oS=wn.XhrIo=ke,sS=wn.Md5=vn,Pi=wn.Integer=Ce;var aS="@firebase/firestore";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var Cs="10.7.0";var ki=new Fr("@firebase/firestore");function cc(){return ki.logLevel}function F(t,...e){if(ki.logLevel<=ce.DEBUG){let n=e.map(qv);ki.debug(`Firestore (${Cs}): ${t}`,...n)}}function dr(t,...e){if(ki.logLevel<=ce.ERROR){let n=e.map(qv);ki.error(`Firestore (${Cs}): ${t}`,...n)}}function ls(t,...e){if(ki.logLevel<=ce.WARN){let n=e.map(qv);ki.warn(`Firestore (${Cs}): ${t}`,...n)}}function qv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: `+t;throw dr(e),new Error(e)}function xe(t,e){t||W()}function X(t,e){return t}var b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=class extends on{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var In=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var th=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}},hy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},fy=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new In;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new In,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new In)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new th(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new et(e)}},py=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},my=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new py(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},gy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_y=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new gy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function VU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var nh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=VU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ct=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Z=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ct(0,0))}static max(){return new t(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Oe=class t extends rh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new k(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},LU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class t extends rh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return LU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new k(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new k(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new k(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new k(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var $=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var yy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};yy.UNKNOWN_ID=-1;function jU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Fi(i,$.empty(),e)}function UU(t){return new Fi(t.readTime,t.key,-1)}var Fi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Z.min(),$.empty(),-1)}static max(){return new t(Z.max(),$.empty(),-1)}};function BU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var $U="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Dc(t){return w(this,null,function*(){if(t.code!==b.FAILED_PRECONDITION||t.message!==$U)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Tc(t){return t.name==="IndexedDbTransactionError"}var VS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function kh(t){return t==null}function pc(t){return t===0&&1/t==-1/0}function qU(t){return typeof t=="number"&&Number.isInteger(t)&&!pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var HU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ZK=[...HU,"documentOverlays"],zU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GU=zU,XK=[...GU,"indexConfiguration","indexState","indexEntries"];function cS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ve=class t{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ss(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ss(this.root,e,this.comparator,!1)}getReverseIterator(){return new ss(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ss(this.root,e,this.comparator,!0)}},ss=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$n=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,o){return this}insert(e,n,r){return new $n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var gt=class t{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ih(this.data.getIterator())}getIteratorFrom(e){return new ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ih=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ln=class t{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new t([])}unionWith(e){let n=new gt(Gt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var oh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var WU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(xe(!!t),typeof t=="string"){let e=0,n=WU.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}function Hv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zv(t){let e=t.mapValue.fields.__previous_value__;return Hv(e)?zv(e):e}function mc(t){let e=Hr(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}var wy=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},sh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hv(t)?4:jS(t)?9007199254740991:10:W()}function zn(t,e){if(t===e)return!0;let n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Hr(i.timestampValue),a=Hr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return zr(i.bytesValue).isEqual(zr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?pc(s)===pc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return us(t.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(cS(s)!==cS(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!zn(s[c],a[c])))return!1;return!0}(t,e);default:return W()}}function gc(t,e){return(t.values||[]).find(n=>zn(n,e))!==void 0}function ds(t,e){if(t===e)return 0;let n=Vi(t),r=Vi(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Fe(o.integerValue||o.doubleValue),c=Fe(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return lS(t.timestampValue,e.timestampValue);case 4:return lS(mc(t),mc(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(o,s){let a=zr(o),c=zr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=ye(a[l],c[l]);if(u!==0)return u}return ye(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ye(Fe(o.latitude),Fe(s.latitude));return a!==0?a:ye(Fe(o.longitude),Fe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=ds(a[l],c[l]);if(u)return u}return ye(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Jd.mapValue&&s===Jd.mapValue)return 0;if(o===Jd.mapValue)return 1;if(s===Jd.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let m=ye(c[d],u[d]);if(m!==0)return m;let _=ds(a[c[d]],l[u[d]]);if(_!==0)return _}return ye(c.length,u.length)}(t.mapValue,e.mapValue);default:throw W()}}function lS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=Hr(t),r=Hr(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function hs(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Iy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Iy(n.fields[s])}`;return i+"}"}(t.mapValue):W()}function uS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ey(t){return!!t&&"integerValue"in t}function Gv(t){return!!t&&"arrayValue"in t}function dS(t){return!!t&&"nullValue"in t}function hS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xd(t){return!!t&&"mapValue"in t}function uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=uc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(uc(this.value))}};function US(t){let e=[];return qi(t.fields,(n,r)=>{let i=new Gt([n]);if(Xd(r)){let o=US(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new ln(e)}var En=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Z.min(),Z.min(),Z.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Z.min(),Z.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Z.min(),Z.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fs=class{constructor(e,n){this.position=e,this.inclusive=n}};function fS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=$.comparator($.fromName(s.referenceValue),n.key):r=ds(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function pS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zn(t.position[n],e.position[n]))return!1;return!0}var ps=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function KU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ah=class{},We=class t extends ah{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new by(e,n,r):n==="array-contains"?new Sy(e,r):n==="in"?new Ay(e,r):n==="not-in"?new xy(e,r):n==="array-contains-any"?new My(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dy(e,r):new Ty(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ds(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Cn=class t extends ah{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return BS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function BS(t){return t.op==="and"}function $S(t){return QU(t)&&BS(t)}function QU(t){for(let e of t.filters)if(e instanceof Cn)return!1;return!0}function Cy(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+hs(t.value);if($S(t))return t.filters.map(e=>Cy(e)).join(",");{let e=t.filters.map(n=>Cy(n)).join(",");return`${t.op}(${e})`}}function qS(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&zn(r.value,i.value)}(t,e):t instanceof Cn?function(r,i){return i instanceof Cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qS(s,i.filters[a]),!0):!1}(t,e):void W()}function HS(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${hs(n.value)}`}(t):t instanceof Cn?function(n){return n.op.toString()+" {"+n.getFilters().map(HS).join(" ,")+"}"}(t):"Filter"}var by=class extends We{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){let n=$.comparator(e.key,this.key);return this.matchesComparison(n)}},Dy=class extends We{constructor(e,n){super(e,"in",n),this.keys=zS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ty=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=zS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function zS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}var Sy=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Gv(n)&&gc(n.arrayValue,this.value)}},Ay=class extends We{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&gc(this.value.arrayValue,n)}},xy=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!gc(this.value.arrayValue,n)}},My=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gc(this.value.arrayValue,r))}};var Py=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function mS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Py(t,e,n,r,i,o,s)}function Wv(t){let e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hs(r)).join(",")),e.ce=n}return e.ce}function Kv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pS(t.startAt,e.startAt)&&pS(t.endAt,e.endAt)}function Ry(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Li=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function YU(t,e,n,r,i,o,s,a){return new Li(t,e,n,r,i,o,s,a)}function Qv(t){return new Li(t)}function gS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GS(t){return t.collectionGroup!==null}function dc(t){let e=X(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new gt(Gt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ps(o,r))}),n.has(Gt.keyField().canonicalString())||e.le.push(new ps(Gt.keyField(),r))}return e.le}function qn(t){let e=X(t);return e.he||(e.he=JU(e,dc(t))),e.he}function JU(t,e){if(t.limitType==="F")return mS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ps(i.field,o)});let n=t.endAt?new fs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fs(t.startAt.position,t.startAt.inclusive):null;return mS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ny(t,e){let n=t.filters.concat([e]);return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Oy(t,e,n){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return Kv(qn(t),qn(e))&&t.limitType===e.limitType}function WS(t){return`${Wv(qn(t))}|lt:${t.limitType}`}function rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HS(i)).join(", ")}]`),kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hs(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function Vh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of dc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=fS(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,dc(r),i)||r.endAt&&!function(s,a,c){let l=fS(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,dc(r),i))}(t,e)}function ZU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KS(t){return(e,n)=>{let r=!1;for(let i of dc(t)){let o=XU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function XU(t,e,n){let r=t.field.isKeyField()?$.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ds(c,l):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}var Gr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return LS(this.inner)}size(){return this.innerSize}};var eB=new Ve($.comparator);function hr(){return eB}var QS=new Ve($.comparator);function lc(...t){let e=QS;for(let n of t)e=e.insert(n.key,n);return e}function YS(t){let e=QS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ri(){return hc()}function JS(){return hc()}function hc(){return new Gr(t=>t.toString(),(t,e)=>t.isEqual(e))}var tB=new Ve($.comparator),nB=new gt($.comparator);function le(...t){let e=nB;for(let n of t)e=e.add(n);return e}var rB=new gt(ye);function iB(){return rB}function ZS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function XS(t){return{integerValue:""+t}}function oB(t,e){return qU(e)?XS(e):ZS(t,e)}var ms=class{constructor(){this._=void 0}};function sB(t,e,n){return t instanceof gs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Hv(o)&&(o=zv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ji?tA(t,e):t instanceof Ui?nA(t,e):function(i,o){let s=eA(i,o),a=_S(s)+_S(i.Ie);return Ey(s)&&Ey(i.Ie)?XS(a):ZS(i.serializer,a)}(t,e)}function aB(t,e,n){return t instanceof ji?tA(t,e):t instanceof Ui?nA(t,e):n}function eA(t,e){return t instanceof _s?function(r){return Ey(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var gs=class extends ms{},ji=class extends ms{constructor(e){super(),this.elements=e}};function tA(t,e){let n=rA(e);for(let r of t.elements)n.some(i=>zn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ui=class extends ms{constructor(e){super(),this.elements=e}};function nA(t,e){let n=rA(e);for(let r of t.elements)n=n.filter(i=>!zn(i,r));return{arrayValue:{values:n}}}var _s=class extends ms{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function _S(t){return Fe(t.integerValue||t.doubleValue)}function rA(t){return Gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ji&&i instanceof ji||r instanceof Ui&&i instanceof Ui?us(r.elements,i.elements,zn):r instanceof _s&&i instanceof _s?zn(r.Ie,i.Ie):r instanceof gs&&i instanceof gs}(t.transform,e.transform)}var ky=class{constructor(e,n){this.version=e,this.transformResults=n}},$r=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ys=class{};function iA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ch(t.key,$r.none()):new Bi(t.key,t.data,$r.none());{let n=t.data,r=zt.empty(),i=new gt(Gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gn(t.key,r,new ln(i.toArray()),$r.none())}}function lB(t,e,n){t instanceof Bi?function(i,o,s){let a=i.value.clone(),c=vS(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gn?function(i,o,s){if(!eh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=vS(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(oA(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function fc(t,e,n,r){return t instanceof Bi?function(o,s,a,c){if(!eh(o.precondition,s))return a;let l=o.value.clone(),u=wS(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gn?function(o,s,a,c){if(!eh(o.precondition,s))return a;let l=wS(o.fieldTransforms,c,s),u=s.data;return u.setAll(oA(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return eh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function uB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=eA(r.transform,i||null);o!=null&&(n===null&&(n=zt.empty()),n.set(r.field,o))}return n||null}function yS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&us(r,i,(o,s)=>cB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Bi=class extends ys{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gn=class extends ys{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function oA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function vS(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,aB(s,a,n[i]))}return r}function wS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,sB(o,s,e))}return r}var ch=class extends ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fy=class extends ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Vy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&lB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=JS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=iA(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(n,r)=>yS(n,r))&&us(this.baseMutations,e.baseMutations,(n,r)=>yS(n,r))}},Ly=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return tB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var jy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Uy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ze,he;function dB(t){switch(t){default:return W();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function sA(t){if(t===void 0)return dr("GRPC error has no .code"),b.UNKNOWN;switch(t){case ze.OK:return b.OK;case ze.CANCELLED:return b.CANCELLED;case ze.UNKNOWN:return b.UNKNOWN;case ze.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case ze.INTERNAL:return b.INTERNAL;case ze.UNAVAILABLE:return b.UNAVAILABLE;case ze.UNAUTHENTICATED:return b.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case ze.NOT_FOUND:return b.NOT_FOUND;case ze.ALREADY_EXISTS:return b.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return b.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case ze.ABORTED:return b.ABORTED;case ze.OUT_OF_RANGE:return b.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return b.UNIMPLEMENTED;case ze.DATA_LOSS:return b.DATA_LOSS;default:return W()}}(he=ze||(ze={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var IS=null;function hB(){return new TextEncoder}var fB=new Pi([4294967295,4294967295],0);function ES(t){let e=hB().encode(t),n=new sS;return n.update(e),new Uint8Array(n.digest())}function CS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pi([n,r],0),new Pi([i,o],0)]}var By=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ni(`Invalid padding: ${n}`);if(r<0)throw new Ni(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ni(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ni(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Pi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Pi.fromNumber(r)));return i.compare(fB)===1&&(i=new Pi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=ES(e),[r,i]=CS(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=ES(e),[r,i]=CS(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ni=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var lh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Z.min(),i,new Ve(ye),hr(),le())}},_c=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var as=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},uh=class{constructor(e,n){this.targetId=e,this.fe=n}},dh=class{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},hh=class{constructor(){this.ge=0,this.pe=DS(),this.ye=bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=le(),n=le(),r=le();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new _c(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=DS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},$y=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=hr(),this.Qe=bS(),this.Ke=new Ve(ye)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(Ry(o))if(r===0){let s=new $(o.path);this.We(n,s,En.newNoDocument(s,Z.min()))}else xe(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}IS?.tt(function(u,d,m,_,I){var E,C,O,ie,q,ve;let Ke={localCacheCount:u,existenceFilterCount:d.count,databaseId:m.database,projectId:m.projectId},fe=d.unchangedNames;return fe&&(Ke.bloomFilter={applied:I===0,hashCount:(E=fe?.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(ie=(O=(C=fe?.bits)===null||C===void 0?void 0:C.bitmap)===null||O===void 0?void 0:O.length)!==null&&ie!==void 0?ie:0,padding:(ve=(q=fe?.bits)===null||q===void 0?void 0:q.padding)!==null&&ve!==void 0?ve:0,mightContain:lt=>{var bn;return(bn=_?.mightContain(lt))!==null&&bn!==void 0&&bn}}),Ke}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=zr(r).toUint8Array()}catch(c){if(c instanceof oh)return ls("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new By(s,i,o)}catch(c){return ls(c instanceof Ni?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&Ry(a.target)){let c=new $(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,En.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=le();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new lh(e,n,this.Ke,this.qe,r);return this.qe=hr(),this.Qe=bS(),this.Ke=new Ve(ye),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new hh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new gt(ye),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new hh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function bS(){return new Ve($.comparator)}function DS(){return new Ve($.comparator)}var pB={asc:"ASCENDING",desc:"DESCENDING"},mB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gB={and:"AND",or:"OR"},qy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Hy(t,e){return t.useProto3Json||kh(e)?e:{value:e}}function fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _B(t,e){return fh(t,e.toTimestamp())}function Hn(t){return xe(!!t),Z.fromTimestamp(function(n){let r=Hr(n);return new ct(r.seconds,r.nanos)}(t))}function Yv(t,e){return function(r){return new Oe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function cA(t){let e=Oe.fromString(t);return xe(hA(e)),e}function zy(t,e){return Yv(t.databaseId,e.path)}function ay(t,e){let n=cA(e);if(n.get(1)!==t.databaseId.projectId)throw new k(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(lA(n))}function Gy(t,e){return Yv(t.databaseId,e)}function yB(t){let e=cA(t);return e.length===4?Oe.emptyPath():lA(e)}function Wy(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lA(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TS(t,e,n){return{name:zy(t,e),fields:n.value.mapValue.fields}}function vB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(xe(u===void 0||typeof u=="string"),bt.fromBase64String(u||"")):(xe(u===void 0||u instanceof Uint8Array),bt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?b.UNKNOWN:sA(l.code);return new k(u,l.message||"")}(s);n=new dh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ay(t,r.document.name),o=Hn(r.document.updateTime),s=r.document.createTime?Hn(r.document.createTime):Z.min(),a=new zt({mapValue:{fields:r.document.fields}}),c=En.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new as(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ay(t,r.document),o=r.readTime?Hn(r.readTime):Z.min(),s=En.newNoDocument(i,o),a=r.removedTargetIds||[];n=new as([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ay(t,r.document),o=r.removedTargetIds||[];n=new as([],o,i,null)}else{if(!("filter"in e))return W();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Uy(i,o),a=r.targetId;n=new uh(a,s)}}return n}function wB(t,e){let n;if(e instanceof Bi)n={update:TS(t,e.key,e.value)};else if(e instanceof ch)n={delete:zy(t,e.key)};else if(e instanceof Gn)n={update:TS(t,e.key,e.data),updateMask:xB(e.fieldMask)};else{if(!(e instanceof Fy))return W();n={verify:zy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof gs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ji)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ui)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _s)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_B(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(t,e.precondition)),n}function IB(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Hn(i.updateTime):Hn(o);return s.isEqual(Z.min())&&(s=Hn(o)),new ky(s,i.transformResults||[])}(n,e))):[]}function EB(t,e){return{documents:[Gy(t,e.path)]}}function CB(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Gy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return dA(Cn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let o=function(c){if(c.length!==0)return c.map(l=>function(d){return{field:is(d.field),direction:TB(d.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Hy(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function bB(t){let e=yB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){let m=uA(d);return m instanceof Cn&&$S(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(m=>function(I){return new ps(os(I.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(d){let m;return m=typeof d=="object"?d.value:d,kh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(d){let m=!!d.before,_=d.values||[];return new fs(_,m)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let m=!d.before,_=d.values||[];return new fs(_,m)}(n.endAt)),YU(e,i,s,o,a,"F",c,l)}function DB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=os(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=os(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=os(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=os(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return We.create(os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cn.create(n.compositeFilter.filters.map(r=>uA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function TB(t){return pB[t]}function SB(t){return mB[t]}function AB(t){return gB[t]}function is(t){return{fieldPath:t.canonicalString()}}function os(t){return Gt.fromServerFormat(t.fieldPath)}function dA(t){return t instanceof We?function(n){if(n.op==="=="){if(hS(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NAN"}};if(dS(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hS(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NAN"}};if(dS(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(n.field),op:SB(n.op),value:n.value}}}(t):t instanceof Cn?function(n){let r=n.getFilters().map(i=>dA(i));return r.length===1?r[0]:{compositeFilter:{op:AB(n.op),filters:r}}}(t):W()}function xB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var yc=class t{constructor(e,n,r,i,o=Z.min(),s=Z.min(),a=bt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ky=class{constructor(e){this.ut=e}};function MB(t){let e=bB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oy(e,e.limit,"L"):e}var ph=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),pc(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(zr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?jS(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):W()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),$.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};ph.St=new ph;var Qy=class{constructor(){this.on=new Yy}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Fi.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},Yy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Oe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Oe.comparator)).toArray()}};var tQ=new Uint8Array(0);var Bn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);var vc=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var Jy=class{constructor(){this.changes=new Gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Zy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Xy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fc(r.mutation,i,ln.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=Ri();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=lc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ri();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=hr(),s=hc(),a=function(){return hc()}();return n.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Gn)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),fc(u.mutation,l,u.mutation.getFieldMask(),ct.now())):s.set(l.key,ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Zy(u,(d=s.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=hc(),i=new Ve((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=r.get(c)||ln.empty();u=a.applyToLocalView(l,u),r.set(c,u);let d=(i.get(a.batchId)||le()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=JS();u.forEach(m=>{if(!o.has(m)){let _=iA(n.get(m),r.get(m));_!==null&&d.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return $.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(Ri()),a=-1,c=o;return s.next(l=>M.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(m=>{c=c.insert(u,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,le())).next(u=>({batchId:a,changes:YS(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=lc();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,c=>{let l=function(d,m){return new Li(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,m)=>{s=s.insert(d,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,En.newInvalidDocument(u)))});let a=lc();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&fc(u.mutation,l,ln.empty(),ct.now()),Vh(n,l)&&(a=a.insert(c,l))}),a})}};var ev=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:MB(i.bundledQuery),readTime:Hn(i.readTime)}}(n)),M.resolve()}};var tv=class{constructor(){this.overlays=new Ve($.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ri();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Ri(),o=n.length+1,s=new $(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ve((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=o.get(l.largestBatchId);u===null&&(u=Ri(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Ri(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return M.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jy(n,r));let o=this.lr.get(n);o===void 0&&(o=le(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}};var wc=class{constructor(){this.hr=new gt(Ge.Pr),this.Ir=new gt(Ge.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new Ge(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ge(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new $(new Oe([])),r=new Ge(n,e),i=new Ge(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new $(new Oe([])),r=new Ge(n,e),i=new Ge(n,e+1),o=le();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ge(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ge=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return $.comparator(e.key,n.key)||ye(e.gr,n.gr)}static Tr(e,n){return ye(e.gr,n.gr)||$.comparator(e.key,n.key)}};var nv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new gt(Ge.Pr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Vy(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.yr=this.yr.add(new Ge(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ge(n,0),i=new Ge(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{let a=this.wr(s.gr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(ye);return n.forEach(i=>{let o=new Ge(i,0),s=new Ge(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;$.isDocumentKey(o)||(o=o.child(""));let s=new Ge(new $(o),0),a=new gt(ye);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),M.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,i=>{let o=new Ge(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new Ge(n,0),i=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var rv=class{constructor(e){this.Cr=e,this.docs=function(){return new Ve($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():En.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hr(),s=n.path,a=new $(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||BU(UU(u),r)<=0||(i.has(u.key)||Vh(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){W()}vr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iv(this)}getSize(e){return M.resolve(this.size)}},iv=class extends Jy{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var ov=class{constructor(e){this.persistence=e,this.Fr=new Gr(n=>Wv(n),Kv),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new wc,this.targetCount=0,this.Nr=vc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new vc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}};var sv=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new VS(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new ov(this),this.indexManager=new Qy,this.remoteDocumentCache=function(i){return new rv(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Ky(n),this.Kr=new ev(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new nv(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new av(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},av=class extends vy{constructor(e){super(),this.currentSequenceNumber=e}},cv=class t{constructor(e){this.persistence=e,this.Gr=new wc,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{let i=$.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Z.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var lv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=le(),i=le();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var uv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var dv=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new uv;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(cc()<=ce.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(cc()<=ce.DEBUG&&F("QueryEngine","Query:",rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(cc()<=ce.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):M.resolve())}zi(e,n){if(gS(n))return M.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Oy(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,Oy(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return gS(n)||i.isEqual(Z.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,r,i)?M.resolve(null):(cc()<=ce.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rs(n)),this.Xi(e,s,n,jU(i,-1)).next(a=>a))})}Yi(e,n){let r=new gt(KS(e));return n.forEach((i,o)=>{Vh(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return cc()<=ce.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",rs(n)),this.Gi.getDocumentsMatchingQuery(e,n,Fi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var hv=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ve(ye),this.ns=new Gr(o=>Wv(o),Kv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xy(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function PB(t,e,n,r){return new hv(t,e,n,r)}function fA(t,e){return w(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=le();for(let l of i){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function RB(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let d=l.batch,m=d.keys(),_=M.resolve();return m.forEach(I=>{_=_.next(()=>u.getEntry(c,I)).next(E=>{let C=l.docVersions.get(I);xe(C!==null),E.version.compareTo(C)<0&&(d.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),u.addEntry(E)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pA(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function NB(t,e){let n=X(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((u,d)=>{let m=i.get(d);if(!m)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,d)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?_=_.withResumeToken(bt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):u.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(u.resumeToken,r)),i=i.insert(d,_),function(E,C,O){return E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,_,u)&&a.push(n.qr.updateTargetData(o,_))});let c=hr(),l=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(OB(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(Z.min())){let u=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}function OB(t,e,n){let r=le(),i=le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=hr();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Z.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}function kB(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FB(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new yc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function fv(t,e,n){return w(this,null,function*(){let r=X(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Tc(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function SS(t,e,n){let r=X(t),i=Z.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let d=X(c),m=d.ns.get(u);return m!==void 0?M.resolve(d.ts.get(m)):d.qr.getTargetData(l,u)}(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Z.min(),n?o:le())).next(a=>(VB(r,ZU(e),a),{documents:a,ls:o})))}function VB(t,e,n){let r=t.rs.get(e)||Z.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}var mh=class{constructor(){this.activeTargetIds=iB()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var pv=class{constructor(){this.eo=new mh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new mh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var mv=class{ro(e){}shutdown(){}};var gh=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zd=null;function cy(){return Zd===null?Zd=function(){return 268435456+Math.round(2147483648*Math.random())}():Zd++,"0x"+Zd.toString(16)}var LB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var gv=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var mt="WebChannelConnection",_v=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){let a=cy(),c=this.So(n,r);F("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(u=>(F("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ls("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){let i=LB[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let o=cy();return new Promise((s,a)=>{let c=new oS;c.setWithCredentials(!0),c.listenOnce(rS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Yd.NO_ERROR:let u=c.getResponseJson();F(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Yd.TIMEOUT:F(mt,`RPC '${e}' ${o} timed out`),a(new k(b.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:let d=c.getStatus();if(F(mt,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let _=m?.error;if(_&&_.status&&_.message){let I=function(C){let O=C.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(O)>=0?O:b.UNKNOWN}(_.status);a(new k(I,_.message))}else a(new k(b.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new k(b.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{F(mt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);F(mt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){let i=cy(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tS(),a=nS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let u=o.join("");F(mt,`Creating RPC '${e}' stream ${i}: ${u}`,c);let d=s.createWebChannel(u,c),m=!1,_=!1,I=new gv({co:C=>{_?F(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(m||(F(mt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),F(mt,`RPC '${e}' stream ${i} sending:`,C),d.send(C))},lo:()=>d.close()}),E=(C,O,ie)=>{C.listen(O,q=>{try{ie(q)}catch(ve){setTimeout(()=>{throw ve},0)}})};return E(d,ac.EventType.OPEN,()=>{_||F(mt,`RPC '${e}' stream ${i} transport opened.`)}),E(d,ac.EventType.CLOSE,()=>{_||(_=!0,F(mt,`RPC '${e}' stream ${i} transport closed`),I.Ro())}),E(d,ac.EventType.ERROR,C=>{_||(_=!0,ls(mt,`RPC '${e}' stream ${i} transport errored:`,C),I.Ro(new k(b.UNAVAILABLE,"The operation could not be completed")))}),E(d,ac.EventType.MESSAGE,C=>{var O;if(!_){let ie=C.data[0];xe(!!ie);let q=ie,ve=q.error||((O=q[0])===null||O===void 0?void 0:O.error);if(ve){F(mt,`RPC '${e}' stream ${i} received error:`,ve);let Ke=ve.status,fe=function(Qr){let Gi=ze[Qr];if(Gi!==void 0)return sA(Gi)}(Ke),lt=ve.message;fe===void 0&&(fe=b.INTERNAL,lt="Unknown error status: "+Ke+" with message "+ve.message),_=!0,I.Ro(new k(fe,lt)),d.close()}else F(mt,`RPC '${e}' stream ${i} received:`,ie),I.Vo(ie)}}),E(a,iS.STAT_EVENT,C=>{C.stat===sy.PROXY?F(mt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===sy.NOPROXY&&F(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.Ao()},0),I}};function ly(){return typeof document<"u"?document:null}function Lh(t){return new qy(t,!0)}var _h=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var yh=class{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new _h(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return w(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return w(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return w(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new k(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>w(this,null,function*(){this.state=0,this.start()}))}o_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yv=class extends yh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=vB(this.serializer,e),r=function(o){if(!("targetChange"in o))return Z.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?Hn(s.readTime):Z.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=Wy(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Ry(c)?{documents:EB(o,c)}:{query:CB(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=aA(o,s.resumeToken);let l=Hy(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=fh(o,s.snapshotVersion.toTimestamp());let l=Hy(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=DB(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=Wy(this.serializer),n.removeTarget=e,this.e_(n)}},vv=class extends yh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=IB(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.I_(r,n)}return xe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Wy(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>wB(this.serializer,r))};this.e_(n)}};var wv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new k(b.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new k(b.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(b.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var Iv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(dr(n),this.f_=!1):F("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var Ev=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Hi(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let l=X(c);l.C_.add(4),yield Sc(l),l.M_.set("Unknown"),l.C_.delete(4),yield jh(l)})}(this))}))}),this.M_=new Iv(r,i)}};function jh(t){return w(this,null,function*(){if(Hi(t))for(let e of t.v_)yield e(!0)})}function Sc(t){return w(this,null,function*(){for(let e of t.v_)yield e(!1)})}function mA(t,e){let n=X(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Xv(n)?Zv(n):bs(n).Ho()&&Jv(n,e))}function gA(t,e){let n=X(t),r=bs(n);n.D_.delete(e),r.Ho()&&_A(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Hi(n)&&n.M_.set("Unknown"))}function Jv(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bs(t).u_(e)}function _A(t,e){t.x_.Oe(e),bs(t).c_(e)}function Zv(t){t.x_=new $y({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),bs(t).start(),t.M_.g_()}function Xv(t){return Hi(t)&&!bs(t).jo()&&t.D_.size>0}function Hi(t){return X(t).C_.size===0}function yA(t){t.x_=void 0}function jB(t){return w(this,null,function*(){t.D_.forEach((e,n)=>{Jv(t,e)})})}function UB(t,e){return w(this,null,function*(){yA(t),Xv(t)?(t.M_.w_(e),Zv(t)):t.M_.set("Unknown")})}function BB(t,e,n){return w(this,null,function*(){if(t.M_.set("Online"),e instanceof dh&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vh(t,r)}else if(e instanceof as?t.x_.$e(e):e instanceof uh?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Z.min()))try{let r=yield pA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(bt.EMPTY_BYTE_STRING,u.snapshotVersion)),_A(o,c);let d=new yc(u.target,c,l,u.sequenceNumber);Jv(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield vh(t,r)}})}function vh(t,e,n){return w(this,null,function*(){if(!Tc(e))throw e;t.C_.add(1),yield Sc(t),t.M_.set("Offline"),n||(n=()=>pA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield jh(t)}))})}function vA(t,e){return e().catch(n=>vh(t,n,e))}function Uh(t){return w(this,null,function*(){let e=X(t),n=Wr(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;$B(e);)try{let i=yield kB(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,qB(e,i)}catch(i){yield vh(e,i)}wA(e)&&IA(e)})}function $B(t){return Hi(t)&&t.b_.length<10}function qB(t,e){t.b_.push(e);let n=Wr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function wA(t){return Hi(t)&&!Wr(t).jo()&&t.b_.length>0}function IA(t){Wr(t).start()}function HB(t){return w(this,null,function*(){Wr(t).E_()})}function zB(t){return w(this,null,function*(){let e=Wr(t);for(let n of t.b_)e.P_(n.mutations)})}function GB(t,e,n){return w(this,null,function*(){let r=t.b_.shift(),i=Ly.from(r,e,n);yield vA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Uh(t)})}function WB(t,e){return w(this,null,function*(){e&&Wr(t).h_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return dB(s)&&s!==b.ABORTED}(i.code)){let o=r.b_.shift();Wr(r).Yo(),yield vA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Uh(r)}})}(t,e)),wA(t)&&IA(t)})}function AS(t,e){return w(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=Hi(n);n.C_.add(3),yield Sc(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield jh(n)})}function KB(t,e){return w(this,null,function*(){let n=X(t);e?(n.C_.delete(2),yield jh(n)):e||(n.C_.add(2),yield Sc(n),n.M_.set("Unknown"))})}function bs(t){return t.O_||(t.O_=function(n,r,i){let o=X(n);return o.A_(),new yv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:jB.bind(null,t),Io:UB.bind(null,t),a_:BB.bind(null,t)}),t.v_.push(e=>w(this,null,function*(){e?(t.O_.Yo(),Xv(t)?Zv(t):t.M_.set("Unknown")):(yield t.O_.stop(),yA(t))}))),t.O_}function Wr(t){return t.N_||(t.N_=function(n,r,i){let o=X(n);return o.A_(),new vv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:HB.bind(null,t),Io:WB.bind(null,t),T_:zB.bind(null,t),I_:GB.bind(null,t)}),t.v_.push(e=>w(this,null,function*(){e?(t.N_.Yo(),yield Uh(t)):(yield t.N_.stop(),t.b_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var Cv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function e0(t,e){if(dr("AsyncQueue",`${e}: ${t}`),Tc(t))return new k(b.UNAVAILABLE,`${e}: ${t}`);throw t}var wh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ih=class{constructor(){this.B_=new Ve($.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):W():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},vs=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,wh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var bv=class{constructor(){this.k_=void 0,this.listeners=[]}},Dv=class{constructor(){this.queries=new Gr(e=>WS(e),Fh),this.onlineState="Unknown",this.q_=new Set}};function EA(t,e){return w(this,null,function*(){let n=X(t),r=e.query,i=!1,o=n.queries.get(r);if(o||(i=!0,o=new bv),i)try{o.k_=yield n.onListen(r)}catch(s){let a=e0(s,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&t0(n)})}function CA(t,e){return w(this,null,function*(){let n=X(t),r=e.query,i=!1,o=n.queries.get(r);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function QB(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&t0(n)}function YB(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.listeners)o.onError(n);r.queries.delete(e)}function t0(t){t.q_.forEach(e=>{e.next()})}var Eh=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Ch=class{constructor(e){this.key=e}},bh=class{constructor(e){this.key=e}},Tv=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=le(),this.mutatedKeys=le(),this._a=KS(e),this.aa=new wh(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new Ih,i=n?n.aa:this.aa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{let m=i.get(u),_=Vh(this.query,d)?d:null,I=!!m&&this.mutatedKeys.has(m.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),C=!1;m&&_?m.data.isEqual(_.data)?I!==E&&(r.track({type:3,doc:_}),C=!0):this.ha(m,_)||(r.track({type:2,doc:_}),C=!0,(c&&this._a(_,c)>0||l&&this._a(_,l)<0)&&(a=!0)):!m&&_?(r.track({type:0,doc:_}),C=!0):m&&!_&&(r.track({type:1,doc:m}),C=!0,(c||l)&&(a=!0)),C&&(_?(s=s.add(_),o=E?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((u,d)=>function(_,I){let E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return E(_)-E(I)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,l=c!==this.sa;return this.sa=c,s.length!==0||l?{snapshot:new vs(this.query,e.aa,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Ih,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=le(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new bh(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Ch(r))}),n}da(e){this.ia=e.ls,this.oa=le();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return vs.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Sv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Av=class{constructor(e){this.key=e,this.Ra=!1}},xv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Gr(a=>WS(a),Fh),this.fa=new Map,this.ga=new Set,this.pa=new Ve($.comparator),this.ya=new Map,this.wa=new wc,this.Sa={},this.ba=new Map,this.Da=vc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function JB(t,e){return w(this,null,function*(){let n=a$(t),r,i,o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{let s=yield FB(n.localStore,qn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield ZB(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&mA(n.remoteStore,s)}return i})}function ZB(t,e,n,r,i){return w(this,null,function*(){t.va=(d,m,_)=>function(E,C,O,ie){return w(this,null,function*(){let q=C.view.ca(O);q.Zi&&(q=yield SS(E.localStore,C.query,!1).then(({documents:lt})=>C.view.ca(lt,q)));let ve=ie&&ie.targetChanges.get(C.targetId),Ke=ie&&ie.targetMismatches.get(C.targetId)!=null,fe=C.view.applyChanges(q,E.isPrimaryClient,ve,Ke);return MS(E,C.targetId,fe.Ta),fe.snapshot})}(t,d,m,_);let o=yield SS(t.localStore,e,!0),s=new Tv(e,o.ls),a=s.ca(o.documents),c=_c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);MS(t,n,l.Ta);let u=new Sv(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot})}function XB(t,e){return w(this,null,function*(){let n=X(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Fh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield fv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gA(n.remoteStore,r.targetId),Mv(n,r.targetId)}).catch(Dc))):(Mv(n,r.targetId),yield fv(n.localStore,r.targetId,!0))})}function e$(t,e,n){return w(this,null,function*(){let r=c$(t);try{let i=yield function(s,a){let c=X(s),l=ct.now(),u=a.reduce((_,I)=>_.add(I.key),le()),d,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let I=hr(),E=le();return c.ss.getEntries(_,u).next(C=>{I=C,I.forEach((O,ie)=>{ie.isValidDocument()||(E=E.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,I)).next(C=>{d=C;let O=[];for(let ie of a){let q=uB(ie,d.get(ie.key).overlayedDocument);q!=null&&O.push(new Gn(ie.key,q,US(q.value.mapValue),$r.exists(!0)))}return c.mutationQueue.addMutationBatch(_,l,O,a)}).next(C=>{m=C;let O=C.applyToLocalDocumentSet(d,E);return c.documentOverlayCache.saveOverlays(_,C.batchId,O)})}).then(()=>({batchId:m.batchId,changes:YS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Ve(ye)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Ac(r,i.changes),yield Uh(r.remoteStore)}catch(i){let o=e0(i,"Failed to persist write");n.reject(o)}})}function bA(t,e){return w(this,null,function*(){let n=X(t);try{let r=yield NB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.ya.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?xe(s.Ra):i.removedDocuments.size>0&&(xe(s.Ra),s.Ra=!1))}),yield Ac(n,r,e)}catch(r){yield Dc(r)}})}function xS(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=X(s);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let m of d.listeners)m.Q_(a)&&(l=!0)}),l&&t0(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function t$(t,e,n){return w(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),o=i&&i.key;if(o){let s=new Ve($.comparator);s=s.insert(o,En.newNoDocument(o,Z.min()));let a=le().add(o),c=new lh(Z.min(),new Map,new Ve(ye),s,a);yield bA(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),n0(r)}else yield fv(r.localStore,e,!1).then(()=>Mv(r,e,n)).catch(Dc)})}function n$(t,e){return w(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield RB(n.localStore,e);TA(n,r,null),DA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ac(n,i)}catch(i){yield Dc(i)}})}function r$(t,e,n){return w(this,null,function*(){let r=X(t);try{let i=yield function(s,a){let c=X(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(xe(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);TA(r,e,n),DA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ac(r,i)}catch(i){yield Dc(i)}})}function DA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function TA(t,e,n){let r=X(t),i=r.Sa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Mv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||SA(t,r)})}function SA(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(gA(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),n0(t))}function MS(t,e,n){for(let r of n)r instanceof Ch?(t.wa.addReference(r.key,e),i$(t,r)):r instanceof bh?(F("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||SA(t,r.key)):W()}function i$(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(F("SyncEngine","New document in limbo: "+n),t.ga.add(r),n0(t))}function n0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new $(Oe.fromString(e)),r=t.Da.next();t.ya.set(r,new Av(n)),t.pa=t.pa.insert(n,r),mA(t.remoteStore,new yc(qn(Qv(n.path)),r,"TargetPurposeLimboResolution",VS._e))}}function Ac(t,e,n){return w(this,null,function*(){let r=X(t),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let u=lv.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.Va.a_(i),yield function(c,l){return w(this,null,function*(){let u=X(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>M.forEach(l,m=>M.forEach(m.ki,_=>u.persistence.referenceDelegate.addReference(d,m.targetId,_)).next(()=>M.forEach(m.qi,_=>u.persistence.referenceDelegate.removeReference(d,m.targetId,_)))))}catch(d){if(!Tc(d))throw d;F("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let m=d.targetId;if(!d.fromCache){let _=u.ts.get(m),I=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(I);u.ts=u.ts.insert(m,E)}}})}(r.localStore,o))})}function o$(t,e){return w(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield fA(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new k(b.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ac(n,r._s)}})}function s$(t,e){let n=X(t),r=n.ya.get(e);if(r&&r.Ra)return le().add(r.key);{let i=le(),o=n.fa.get(e);if(!o)return i;for(let s of o){let a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function a$(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t$.bind(null,e),e.Va.a_=QB.bind(null,e.eventManager),e.Va.Fa=YB.bind(null,e.eventManager),e}function c$(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r$.bind(null,e),e}var Dh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return PB(this.persistence,new dv,e.initialUser,this.serializer)}createPersistence(e){return new sv(cv.jr,this.serializer)}createSharedClientState(e){return new pv}terminate(){return w(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Pv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o$.bind(null,this.syncEngine),yield KB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Dv}()}createDatastore(e){let n=Lh(e.databaseInfo.databaseId),r=function(o){return new _v(o)}(e.databaseInfo);return function(o,s,a,c){return new wv(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Ev(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xS(this.syncEngine,n,0),function(){return gh.D()?new gh:new mv}())}createSyncEngine(e,n){return function(i,o,s,a,c,l,u){let d=new xv(i,o,s,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return w(this,null,function*(){let r=X(n);F("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Sc(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var Th=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Rv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=nh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>w(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return w(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=e0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function uy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield fA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function PS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield u$(t);F("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>AS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>AS(e.remoteStore,o)),t._onlineComponents=e})}function l$(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function u$(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!l$(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),yield uy(t,new Dh)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield uy(t,new Dh);return t._offlineComponents})}function AA(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield PS(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield PS(t,new Pv))),t._onlineComponents})}function d$(t){return AA(t).then(e=>e.syncEngine)}function xA(t){return w(this,null,function*(){let e=yield AA(t),n=e.eventManager;return n.onListen=JB.bind(null,e.syncEngine),n.onUnlisten=XB.bind(null,e.syncEngine),n})}function h$(t,e,n={}){let r=new In;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,c,l){let u=new Th({next:m=>{s.enqueueAndForget(()=>CA(o,d));let _=m.docs.has(a);!_&&m.fromCache?l.reject(new k(b.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&c&&c.source==="server"?l.reject(new k(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),d=new Eh(Qv(a.path),u,{includeMetadataChanges:!0,J_:!0});return EA(o,d)}(yield xA(t),t.asyncQueue,e,n,r)})),r.promise}function f$(t,e,n={}){let r=new In;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,c,l){let u=new Th({next:m=>{s.enqueueAndForget(()=>CA(o,d)),m.fromCache&&c.source==="server"?l.reject(new k(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),d=new Eh(a,u,{includeMetadataChanges:!0,J_:!0});return EA(o,d)}(yield xA(t),t.asyncQueue,e,n,r)})),r.promise}function MA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var RS=new Map;function PA(t,e,n){if(!n)throw new k(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p$(t,e,n,r){if(e===!0&&r===!0)throw new k(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NS(t){if(!$.isDocumentKey(t))throw new k(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OS(t){if($.isDocumentKey(t))throw new k(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Bh(t);throw new k(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Sh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new k(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new k(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new k(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new k(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new k(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ws=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new k(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dy;switch(r.type){case"firstParty":return new my(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=RS.get(n);r&&(F("ComponentProvider","Removing Datastore"),RS.delete(n),r.terminate())}(this),Promise.resolve()}};function RA(t,e,n,r={}){var i;let o=(t=Kr(t,ws))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=et.MOCK_USER;else{a=iD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new k(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new et(l)}t._authCredentials=new hy(new th(a,c))}}var Is=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},kt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},qr=class t extends Is{constructor(e,n,r){super(e,n,Qv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new $(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function NA(t,e,...n){if(t=Et(t),PA("collection","path",e),t instanceof ws){let r=Oe.fromString(e,...n);return OS(r),new qr(t,null,r)}{if(!(t instanceof kt||t instanceof qr))throw new k(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return OS(r),new qr(t.firestore,null,r)}}function r0(t,e,...n){if(t=Et(t),arguments.length===1&&(e=nh.newId()),PA("doc","path",e),t instanceof ws){let r=Oe.fromString(e,...n);return NS(r),new kt(t,null,new $(r))}{if(!(t instanceof kt||t instanceof qr))throw new k(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return NS(r),new kt(t.firestore,t instanceof qr?t.converter:null,new $(r))}}var Nv=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new _h(this,"async_queue_retry"),this.iu=()=>{let n=ly();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=ly();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new In;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return w(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Tc(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=Cv.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&W()}verifyOperationInProgress(){}uu(){return w(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};var $i=class extends ws{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Nv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kA(this),this._firestoreClient.terminate()}};function OA(t,e){let n=typeof t=="object"?t:Ra(),r=typeof t=="string"?t:e||"(default)",i=Xg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=nD("firestore");o&&RA(i,...o)}return i}function i0(t){return t._firestoreClient||kA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kA(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new wy(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,MA(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Rv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ic=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(bt.fromBase64String(e))}catch(n){throw new k(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Es=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ec=class{constructor(e){this._methodName=e}};var Cc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var m$=/^__.*__$/,Ov=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bi(e,this.data,n,this.fieldTransforms)}},Ah=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function FA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var kv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Mh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(FA(this.Iu)&&m$.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},Fv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}pu(e,n,r,i=!1){return new kv({Iu:e,methodName:n,gu:r,path:Gt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function o0(t){let e=t._freezeSettings(),n=Lh(t._databaseId);return new Fv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g$(t,e,n,r,i,o={}){let s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);s0("Data must be an object, but it was:",s,r);let a=VA(r,s),c,l;if(o.merge)c=new ln(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let d of o.mergeFields){let m=Vv(e,d,n);if(!s.contains(m))throw new k(b.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);jA(u,m)||u.push(m)}c=new ln(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new Ov(new zt(a),c,l)}var xh=class t extends Ec{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function _$(t,e,n,r){let i=t.pu(1,e,n);s0("Data must be an object, but it was:",i,r);let o=[],s=zt.empty();qi(r,(c,l)=>{let u=a0(e,c,n);l=Et(l);let d=i.Ru(u);if(l instanceof xh)o.push(u);else{let m=xc(l,d);m!=null&&(o.push(u),s.set(u,m))}});let a=new ln(o);return new Ah(s,a,i.fieldTransforms)}function y$(t,e,n,r,i,o){let s=t.pu(1,e,n),a=[Vv(e,r,n)],c=[i];if(o.length%2!=0)throw new k(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Vv(e,o[m])),c.push(o[m+1]);let l=[],u=zt.empty();for(let m=a.length-1;m>=0;--m)if(!jA(l,a[m])){let _=a[m],I=c[m];I=Et(I);let E=s.Ru(_);if(I instanceof xh)l.push(_);else{let C=xc(I,E);C!=null&&(l.push(_),u.set(_,C))}}let d=new ln(l);return new Ah(u,d,s.fieldTransforms)}function v$(t,e,n,r=!1){return xc(n,t.pu(r?4:3,e))}function xc(t,e){if(LA(t=Et(t)))return s0("Unsupported field value:",e,t),VA(t,e);if(t instanceof Ec)return function(r,i){if(!FA(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=xc(a,i.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ct.fromDate(r);return{timestampValue:fh(i.serializer,o)}}if(r instanceof ct){let o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(i.serializer,o)}}if(r instanceof Cc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ic)return{bytesValue:aA(i.serializer,r._byteString)};if(r instanceof kt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Yv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Bh(r)}`)}(t,e)}function VA(t,e){let n={};return LS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(t,(r,i)=>{let o=xc(i,e.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function LA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Cc||t instanceof Ic||t instanceof kt||t instanceof Ec)}function s0(t,e,n){if(!LA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Bh(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function Vv(t,e,n){if((e=Et(e))instanceof Es)return e._internalPath;if(typeof e=="string")return a0(t,e);throw Mh("Field path arguments must be of type string or ",t,!1,void 0,n)}var w$=new RegExp("[~\\*/\\[\\]]");function a0(t,e,n){if(e.search(w$)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Es(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new k(b.INVALID_ARGUMENT,a+t+c)}function jA(t,e){return t.some(n=>n.isEqual(e))}var Ph=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Lv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(c0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Lv=class extends Ph{data(){return super.data()}};function c0(t,e){return typeof e=="string"?a0(t,e):e instanceof Es?e._internalPath:e._delegate._internalPath}function I$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bc=class{},jv=class extends bc{};function UA(t,e,...n){let r=[];e instanceof bc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof Uv).length,a=o.filter(c=>c instanceof Rh).length;if(s>1||s>0&&a>0)throw new k(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Rh=class t extends jv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return $A(e._query,n),new Is(e.firestore,e.converter,Ny(e._query,n))}_parse(e){let n=o0(e.firestore);return function(o,s,a,c,l,u,d){let m;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new k(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){FS(d,u);let _=[];for(let I of d)_.push(kS(c,o,I));m={arrayValue:{values:_}}}else m=kS(c,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||FS(d,u),m=v$(a,s,d,u==="in"||u==="not-in");return We.create(l,u,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function BA(t,e,n){let r=e,i=c0("where",t);return Rh._create(i,r,n)}var Uv=class t extends bc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Cn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)$A(s,c),s=Ny(s,c)}(e._query,n),new Is(e.firestore,e.converter,Ny(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function kS(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new k(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GS(e)&&n.indexOf("/")!==-1)throw new k(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Oe.fromString(n));if(!$.isDocumentKey(r))throw new k(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uS(t,new $(r))}if(n instanceof kt)return uS(t,n._key);throw new k(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function FS(t,e){if(!Array.isArray(t)||t.length===0)throw new k(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $A(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new k(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Bv=class{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return qi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Cc(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=zv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){let n=Hr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Oe.fromString(e);xe(hA(r));let i=new sh(r.get(1),r.get(3)),o=new $(r.popFirst(5));return i.isEqual(n)||dr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function E$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Oi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Nh=class extends Ph{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new cs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(c0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},cs=class extends Nh{data(e={}){return super.data(e)}},$v=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cs(this._firestore,this._userDataWriter,r.key,r,new Oi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:C$(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function C$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function qA(t){t=Kr(t,kt);let e=Kr(t.firestore,$i);return h$(i0(e),t._key).then(n=>b$(e,t,n))}var Oh=class extends Bv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}};function HA(t){t=Kr(t,Is);let e=Kr(t.firestore,$i),n=i0(e),r=new Oh(e);return I$(t._query),f$(n,t._query).then(i=>new $v(e,r,t,i))}function zA(t,e,n,...r){t=Kr(t,kt);let i=Kr(t.firestore,$i),o=o0(i),s;return s=typeof(e=Et(e))=="string"||e instanceof Es?y$(o,"updateDoc",t._key,e,n,r):_$(o,"updateDoc",t._key,e),WA(i,[s.toMutation(t._key,$r.exists(!0))])}function GA(t,e){let n=Kr(t.firestore,$i),r=r0(t),i=E$(t.converter,e);return WA(n,[g$(o0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function WA(t,e){return function(r,i){let o=new In;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return e$(yield d$(r),i,o)})),o.promise}(i0(t),e)}function b$(t,e,n){let r=n.docs.get(e._key),i=new Oh(t);return new Nh(t,i,e._key,r,new Oi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Cs=i})(Ko),Lr(new an("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new $i(new fy(r.getProvider("auth-internal")),new _y(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new k(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sh(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Je(aS,"4.4.0",e),Je(aS,"4.4.0","esm2017")})();var zi=class{constructor(e){return e}},KA="firestore",l0=class{constructor(){return Oa(KA)}};var u0=new L("angularfire2.firestore-instances");function D$(t,e){let n=n_(KA,t,e);return n&&new zi(n)}function T$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zi(r)}}var S$={provide:l0,deps:[[new Yt,u0]]},A$={provide:zi,useFactory:D$,deps:[[new Yt,u0],bi]},x$=(()=>{class t{constructor(){Je("angularfire",Yo.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Mt({type:t});static \u0275inj=xt({providers:[A$,S$]})}return t})();function QA(t,...e){return{ngModule:x$,providers:[{provide:u0,useFactory:T$(t),multi:!0,deps:[we,Rt,ka,Fa,[new Yt,Id],[new Yt,Na],...e]}]}}var d0=qt(GA,!0);var Mc=qt(NA,!0);var $h=qt(r0,!0);var h0=qt(qA,!0);var f0=qt(HA,!0);var YA=qt(OA,!0);var JA=qt(UA,!0);var ZA=qt(zA,!0);var XA=qt(BA,!0);var Ds=(()=>{class t{constructor(n){this.firestore=n}saveMatch(n){return w(this,null,function*(){let r=yield d0(Mc(this.firestore,"matches"),J(P({},n),{heureDebut:n.heureDebut.toISOString(),updatedAt:new Date}));return console.log("Match saved:",r.id),r.id})}getAllMatches(){return w(this,null,function*(){let n=Mc(this.firestore,"matches");return(yield f0(n)).docs.map(i=>{let o=i.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date}})})}getMatchById(n){return w(this,null,function*(){let r=yield h0($h(this.firestore,"matches",n));if(r.exists()){let i=r.data();return{equipe1:i.equipe1||"",equipe2:i.equipe2||"",score1:i.score1||0,score2:i.score2||0,buteurs:i.buteurs||[],heureDebut:new Date(i.heureDebut),lieu:i.lieu||"",positions:i.positions||{},showElements:i.showElements!==void 0?i.showElements:!0,competition:i.competition||void 0,updatedAt:i.updatedAt?new Date(i.updatedAt):new Date}}return null})}saveCompetition(n){return w(this,null,function*(){let r=yield d0(Mc(this.firestore,"competitions"),J(P({},n),{createdAt:new Date,updatedAt:new Date}));return console.log("Competition saved:",r.id),r.id})}getCompetitionById(n){return w(this,null,function*(){let r=yield h0($h(this.firestore,"competitions",n));return r.exists()?J(P({},r.data()),{id:r.id}):null})}getCompetitionByName(n){return w(this,null,function*(){let r=Mc(this.firestore,"competitions"),i=JA(r,XA("name","==",n)),o=yield f0(i);if(!o.empty){let s=o.docs[0];return J(P({},s.data()),{id:s.id})}return null})}addMatchToCompetition(n,r){return w(this,null,function*(){let i=$h(this.firestore,"competitions",n),o=yield this.getCompetitionById(n);if(o){let s=[...o.matchIds,r];yield ZA(i,{matchIds:s,updatedAt:new Date})}})}getMatchesByCompetition(n){return w(this,null,function*(){let r=yield this.getCompetitionById(n);if(!r)return[];let i=[];for(let o of r.matchIds){let s=yield this.getMatchById(o);s&&i.push(s)}return i})}shareCompetition(n,r,i){return w(this,null,function*(){let o={name:n,matchIds:[],createdAt:new Date,updatedAt:new Date},s=yield this.saveCompetition(o);return i?.("Comp\xE9tition cr\xE9\xE9e"),s})}static{this.\u0275fac=function(r){return new(r||t)(j(zi))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var P$=()=>[],R$=(t,e)=>({"text-success":t,"text-danger":e});function N$(t,e){if(t&1){let n=G();f(0,"button",25),A("click",function(){D(n);let i=v();return T(i.showMatchForm=!0)}),S(1,"i",26),f(2,"span",27),g(3," Match"),p()()}if(t&2){let n=v();h(2),y("hidden",n.selectedCompetitionFilter)}}function O$(t,e){if(t&1){let n=G();f(0,"button",25),A("click",function(){D(n);let i=v();return T(i.showTeamFilterModal=!0)}),S(1,"i",28),p()}}function k$(t,e){if(t&1){let n=G();f(0,"button",29),A("click",function(){D(n);let i=v();return T(i.showCompetitionFilterModal=!0)}),S(1,"i",30),f(2,"span",31),g(3),p()()}if(t&2){let n=v();y("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info"),h(3),H(" ",n.selectedCompetitionFilter||"Comp\xE9titions","")}}function F$(t,e){if(t&1){let n=G();f(0,"button",32),A("click",function(){D(n);let i=v();return T(i.showRanking())}),S(1,"i",33)(2,"span"),p()}if(t&2){let n=v();y("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter),h(),Se("text-white",n.selectedCompetitionFilter),h(),Se("text-white",n.selectedCompetitionFilter)}}function V$(t,e){if(t&1){let n=G();f(0,"button",34),A("click",function(){D(n);let i=v();return T(i.shareCompetition())}),S(1,"i",35)(2,"span"),p()}if(t&2){let n=v();y("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter)("disabled",n.isSharingCompetition),h(),Se("text-white",n.selectedCompetitionFilter),y("ngClass",n.isSharingCompetition?"fa-spinner fa-spin":"fa-share-alt"),h(),Se("text-white",n.selectedCompetitionFilter)}}function L$(t,e){if(t&1){let n=G();f(0,"div",45)(1,"input",51),Ot("ngModelChange",function(i){D(n);let o=v(2);return Lt(o.selectedTeamFilter,i)||(o.selectedTeamFilter=i),T(i)}),p(),f(2,"label",52),g(3),p()()}if(t&2){let n=e.$implicit,r=v(2);h(),Ao("id",n.name),y("value",n.name),Nt("ngModel",r.selectedTeamFilter),h(),Ao("for",n.name),h(),de(n.name)}}function j$(t,e){if(t&1){let n=G();f(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",40),g(5,"S\xE9lectionner une \xC9quipe"),p(),f(6,"button",41),A("click",function(){D(n);let i=v();return T(i.closeTeamFilterModal())}),f(7,"span",42),g(8,"\xD7"),p()()(),f(9,"div",43),x(10,L$,4,5,"div",44),f(11,"div",45)(12,"input",46),Ot("ngModelChange",function(i){D(n);let o=v();return Lt(o.selectedTeamFilter,i)||(o.selectedTeamFilter=i),T(i)}),p(),f(13,"label",47),g(14,"Toutes les \xE9quipes"),p()()(),f(15,"div",48)(16,"button",49),A("click",function(){D(n);let i=v();return T(i.closeTeamFilterModal())}),g(17,"Fermer"),p(),f(18,"button",50),A("click",function(){D(n);let i=v();return T(i.openEditPlayersModal(i.selectedTeamFilter))}),g(19," \xC9diter "),p()()()()()}if(t&2){let n=v();h(10),y("ngForOf",n.teams),h(2),y("value",""),Nt("ngModel",n.selectedTeamFilter),h(6),y("disabled",!n.selectedTeamFilter||n.selectedTeamFilter==="")}}function U$(t,e){if(t&1){let n=G();f(0,"div",45)(1,"input",51),Ot("ngModelChange",function(i){D(n);let o=v(2);return Lt(o.selectedCompetitionFilter,i)||(o.selectedCompetitionFilter=i),T(i)}),p(),f(2,"label",52)(3,"span",57),g(4),p()()()}if(t&2){let n=e.$implicit,r=v(2);h(),Ao("id",n),y("value",n),Nt("ngModel",r.selectedCompetitionFilter),h(),Ao("for",n),h(),y("ngClass",r.getCompetitionBadgeColor(n)),h(),de(n)}}function B$(t,e){if(t&1){let n=G();f(0,"div",53)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",54),g(5,"S\xE9lectionner une Comp\xE9tition"),p(),f(6,"button",41),A("click",function(){D(n);let i=v();return T(i.closeCompetitionFilterModal())}),f(7,"span",42),g(8,"\xD7"),p()()(),f(9,"div",43),x(10,U$,5,6,"div",44),f(11,"div",45)(12,"input",55),Ot("ngModelChange",function(i){D(n);let o=v();return Lt(o.selectedCompetitionFilter,i)||(o.selectedCompetitionFilter=i),T(i)}),p(),f(13,"label",56),g(14,"Toutes les comp\xE9titions"),p()()(),f(15,"div",48)(16,"button",49),A("click",function(){D(n);let i=v();return T(i.closeCompetitionFilterModal())}),g(17,"Fermer"),p()()()()()}if(t&2){let n=v();h(10),y("ngForOf",n.uniqueCompetitions),h(2),y("value",""),Nt("ngModel",n.selectedCompetitionFilter)}}function $$(t,e){if(t&1&&(f(0,"option",84),g(1),p()),t&2){let n=e.$implicit;y("value",n.name),h(),de(n.name)}}function q$(t,e){if(t&1&&(f(0,"option",84),g(1),p()),t&2){let n=e.$implicit;y("value",n.name),h(),de(n.name)}}function H$(t,e){if(t&1){let n=G();f(0,"form",58),A("ngSubmit",function(){D(n);let i=v();return T(i.onSubmit())}),f(1,"div",59)(2,"div",60)(3,"h4",61),S(4,"i",62),g(5,"Ajouter un Match! "),p(),f(6,"div",63)(7,"label",64),g(8,"\xC9quipe 1"),p(),f(9,"select",65,0),A("change",function(){D(n);let i=Hs(10),o=v();return T(i.value==="new1"&&o.addNewTeam(i))}),x(11,$$,2,2,"option",66),f(12,"option",67),g(13,"+ Ajouter une nouvelle \xE9quipe"),p()()(),f(14,"div",63)(15,"label",68),g(16,"\xC9quipe 2"),p(),f(17,"select",69,1),A("change",function(){D(n);let i=Hs(18),o=v();return T(i.value==="new2"&&o.addNewTeam(i))}),f(19,"option",70),g(20,"S\xE9lectionner une \xE9quipe"),p(),x(21,q$,2,2,"option",66),f(22,"option",71),g(23,"+ Ajouter une nouvelle \xE9quipe"),p()()()(),f(24,"div",60)(25,"div",63)(26,"label",72),g(27,"Heure de d\xE9but"),p(),S(28,"input",73),p(),f(29,"div",63)(30,"label",74),g(31,"Lieu du match (optionnel)"),p(),S(32,"input",75),p(),f(33,"div",63)(34,"label",76),g(35,"Comp\xE9tition (optionnel)"),p(),S(36,"input",77),p()(),f(37,"div")(38,"div",78)(39,"button",79),g(40," Cr\xE9er le match "),p(),f(41,"button",80),A("click",function(){D(n);let i=v();return T(i.showMatchForm=!1)}),g(42," Annuler "),p(),f(43,"button",81),g(44," \u{1F9F0} "),p(),f(45,"ul",82)(46,"li")(47,"a",83),A("click",function(){D(n);let i=v();return T(i.exportMatches())}),g(48,"Exporter les matchs"),p()(),f(49,"li")(50,"a",83),A("click",function(){D(n);let i=v();return T(i.importMatches())}),g(51,"Importer des matchs"),p()()()()()()()}if(t&2){let n=v();y("formGroup",n.matchForm),h(11),y("ngForOf",n.teams),h(10),y("ngForOf",n.teams),h(18),y("disabled",!n.matchForm.valid)}}function z$(t,e){t&1&&(f(0,"span",99),g(1,"\u2022"),p())}function G$(t,e){if(t&1&&(f(0,"span"),g(1),p()),t&2){let n=v().$implicit;h(),de(n.lieu)}}function W$(t,e){t&1&&(f(0,"span",99),g(1,"\u2022"),p())}function K$(t,e){if(t&1&&(f(0,"span")(1,"span",57),g(2),p()()),t&2){let n=v().$implicit,r=v(2);h(),y("ngClass",r.getCompetitionBadgeColor(n.competition)),h(),de(n.competition)}}function Q$(t,e){t&1&&(f(0,"span"),S(1,"br"),p())}function Y$(t,e){t&1&&(f(0,"span"),g(1,","),p())}function J$(t,e){if(t&1&&(f(0,"span",108),g(1),p()),t&2){let n=v(2).$implicit;h(),H("(Assist: ",n.assist,")")}}function Z$(t,e){if(t&1&&(Re(0),x(1,Q$,2,0,"span",92),g(2),x(3,Y$,2,0,"span",92)(4,J$,2,1,"span",107),Ne()),t&2){let n=e.$implicit,r=e.index,i=v().$implicit;h(),y("ngIf",r>0&&r%5===0),h(),H(" ",n,"'"),h(),y("ngIf",r<i.minutes.length-1),h(),y("ngIf",i.assist)}}function X$(t,e){if(t&1&&(f(0,"div")(1,"div",105)(2,"span"),g(3),p(),f(4,"span",106),x(5,Z$,5,4,"ng-container",103),p()()()),t&2){let n=e.$implicit;h(3),H("\u26BD ",n.nom,":"),h(2),y("ngForOf",n.minutes)}}function e3(t,e){t&1&&(f(0,"span"),S(1,"br"),p())}function t3(t,e){t&1&&(f(0,"span"),g(1,","),p())}function n3(t,e){if(t&1&&(f(0,"span",108),g(1),p()),t&2){let n=v(2).$implicit;h(),H("(Assist: ",n.assist,")")}}function r3(t,e){if(t&1&&(Re(0),x(1,e3,2,0,"span",92),g(2),x(3,t3,2,0,"span",92)(4,n3,2,1,"span",107),Ne()),t&2){let n=e.$implicit,r=e.index,i=v().$implicit;h(),y("ngIf",r>0&&r%5===0),h(),H(" ",n,"'"),h(),y("ngIf",r<i.minutes.length-1),h(),y("ngIf",i.assist)}}function i3(t,e){if(t&1&&(f(0,"div")(1,"div",105)(2,"span"),g(3),p(),f(4,"span",109),x(5,r3,5,4,"ng-container",103),p()()()),t&2){let n=e.$implicit;h(3),H("\u26BD ",n.nom,":"),h(2),y("ngForOf",n.minutes)}}function o3(t,e){if(t&1&&(f(0,"div",100)(1,"div",101)(2,"div",102),x(3,X$,6,2,"div",103),p(),f(4,"div",104),x(5,i3,6,2,"div",103),p()()()),t&2){let n=v().$implicit,r=v(2);h(3),y("ngForOf",r.getGroupedScorers(n,1)),h(2),y("ngForOf",r.getGroupedScorers(n,2))}}function s3(t,e){if(t&1){let n=G();f(0,"div",110)(1,"button",111),A("click",function(){D(n);let i=v().$implicit,o=v(2);return T(o.selectMatch(i))}),S(2,"i",112),p(),f(3,"button",113),A("click",function(){D(n);let i=v().$implicit,o=v(2);return T(o.openDispositionModal(i))}),S(4,"i",114),p(),f(5,"button",115),A("click",function(){D(n);let i=v().$implicit,o=v(2);return T(o.toggleMatchEditForm(i))}),S(6,"i",35),p(),f(7,"button",116),A("click",function(){D(n);let i=v().$implicit,o=v(2);return T(o.shareMatch(i))}),S(8,"i",35),f(9,"span",117),g(10,"Partager"),p()()()}if(t&2){let n=v(3);h(6),y("ngClass",n.showMatchEditForm?"fa-pen-fancy":"fa-edit"),h(),y("disabled",n.isSharingMatch),h(),y("ngClass",n.isSharingMatch?"fa-spinner fa-spin":"fa-share-alt")}}function a3(t,e){if(t&1){let n=G();f(0,"div",88)(1,"div",89)(2,"div",90)(3,"span"),g(4),zs(5,"date"),p(),x(6,z$,2,0,"span",91)(7,G$,2,1,"span",92)(8,W$,2,0,"span",91)(9,K$,3,2,"span",92),f(10,"button",93),A("click",function(){let i=D(n).$implicit,o=v(2);return T(o.toggleVisibility(i))}),S(11,"i",35),p()(),f(12,"div",94)(13,"div",95),g(14),p(),f(15,"button",96),A("click",function(){let i=D(n).$implicit,o=v(2);return T(o.selectMatch(i))}),g(16),p(),f(17,"div",95),g(18),p()(),x(19,o3,6,2,"div",97)(20,s3,11,3,"div",98),p()()}if(t&2){let n=e.$implicit;Dr("data-match-id",n.id),h(4),de(Gs(5,13,n.heureDebut,"EEEE d MMMM yyyy HH:mm")),h(2),y("ngIf",n.lieu),h(),y("ngIf",n.lieu),h(),y("ngIf",n.competition),h(),y("ngIf",n.competition),h(2),y("ngClass",n.showElements?"fa-chevron-up":"fa-chevron-right"),h(3),de(n.equipe1),h(2),On(" ",n.score1," - ",n.score2," "),h(2),de(n.equipe2),h(),y("ngIf",n.showElements&&n.buteurs.length>0),h(),y("ngIf",n.showElements)}}function c3(t,e){if(t&1&&(f(0,"div",85),S(1,"h2"),f(2,"div",86),x(3,a3,21,16,"div",87),p()()),t&2){let n=v();h(3),y("ngForOf",n.getSortedMatches())}}function l3(t,e){if(t&1&&(Re(0),g(1),Ne()),t&2){let n=v(2);h(),On(" ",n.selectedMatch.score1," - ",n.selectedMatch.score2," ")}}function u3(t,e){if(t&1){let n=G();Re(0),f(1,"div",140)(2,"input",141),Ot("ngModelChange",function(i){D(n);let o=v(2);return Lt(o.selectedMatch.score1,i)||(o.selectedMatch.score1=i),T(i)}),A("input",function(){D(n);let i=v(2);return T(i.selectedMatch.score1=i.validateScore(i.selectedMatch.score1))}),p(),f(3,"span"),g(4,"-"),p(),f(5,"input",141),Ot("ngModelChange",function(i){D(n);let o=v(2);return Lt(o.selectedMatch.score2,i)||(o.selectedMatch.score2=i),T(i)}),A("input",function(){D(n);let i=v(2);return T(i.selectedMatch.score2=i.validateScore(i.selectedMatch.score2))}),p()(),Ne()}if(t&2){let n=v(2);h(2),Nt("ngModel",n.selectedMatch.score1),h(3),Nt("ngModel",n.selectedMatch.score2)}}function d3(t,e){if(t&1&&(f(0,"option",84),g(1),p()),t&2){let n=e.$implicit;y("value",n),h(),H(" ",n," ")}}function h3(t,e){if(t&1){let n=G();f(0,"div",142)(1,"div",143)(2,"div",38)(3,"div",39)(4,"h5",144),g(5),p(),f(6,"button",145),A("click",function(){D(n);let i=v(2);return T(i.showButeurForm=!1)}),p()(),f(7,"div",43)(8,"form",146),A("ngSubmit",function(){D(n);let i=v(2);return T(i.ajouterButeur())}),f(9,"div",147)(10,"div",148)(11,"label",149),g(12,"Nom du buteur"),p(),S(13,"input",150),p(),f(14,"div",151)(15,"label",149),g(16,"Minute"),p(),S(17,"input",152),p(),f(18,"div",153)(19,"label",149),g(20,"\xC9quipe"),p(),f(21,"select",154)(22,"option",84),g(23),p(),f(24,"option",84),g(25),p()()(),f(26,"div",155)(27,"label",149),g(28,"Assist (optionnel)"),p(),f(29,"select",156)(30,"option",70),g(31,"Aucun assist"),p(),x(32,d3,2,2,"option",66),p()()(),f(33,"div",157)(34,"button",158),A("click",function(){let i;D(n);let o=v(2);return T(o.addNewPlayer((i=o.buteurForm.get("nom"))==null?null:i.value))}),g(35),p(),f(36,"button",49),A("click",function(){D(n);let i=v(2);return T(i.annulerEditionButeur())}),g(37," Annuler "),p()()()()()()()}if(t&2){let n,r=v(2);h(5),de(r.editingButeur?"Modifier le buteur":"Nouveau buteur"),h(3),y("formGroup",r.buteurForm),h(14),y("value",1),h(),de(r.selectedMatch.equipe1),h(),y("value",2),h(),de(r.selectedMatch.equipe2),h(7),y("ngForOf",r.getTeamPlayers((n=r.buteurForm.get("equipe"))==null?null:n.value)),h(2),y("disabled",!r.buteurForm.valid),h(),H(" ",r.editingButeur?"Enregistrer":"Ajouter"," ")}}function f3(t,e){t&1&&S(0,"i",163)}function p3(t,e){t&1&&S(0,"i",164)}function m3(t,e){t&1&&S(0,"i",165)}function g3(t,e){if(t&1){let n=G();f(0,"button",159),A("click",function(){let i=D(n).$implicit,o=v(2);return T(o.quickAddGoal(i.name,1))}),x(1,f3,1,0,"i",160)(2,p3,1,0,"i",161)(3,m3,1,0,"i",162),g(4),p()}if(t&2){let n=e.$implicit;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function _3(t,e){if(t&1){let n=G();f(0,"button",159),A("click",function(){D(n);let i=v(2);return T(i.showButeurForm=!0)}),g(1," + "),p()}}function y3(t,e){t&1&&S(0,"i",163)}function v3(t,e){t&1&&S(0,"i",164)}function w3(t,e){t&1&&S(0,"i",165)}function I3(t,e){if(t&1){let n=G();f(0,"button",166),A("click",function(){let i=D(n).$implicit,o=v(2);return T(o.quickAddGoal(i.name,2))}),x(1,y3,1,0,"i",160)(2,v3,1,0,"i",161)(3,w3,1,0,"i",162),g(4),p()}if(t&2){let n=e.$implicit;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function E3(t,e){if(t&1){let n=G();f(0,"button",166),A("click",function(){D(n);let i=v(2);return T(i.showButeurForm=!0)}),g(1," + "),p()}}function C3(t,e){if(t&1){let n=G();f(0,"div",168)(1,"div",169)(2,"span",170)(3,"strong",171),g(4),p(),g(5," - "),f(6,"em",171),g(7),p()(),f(8,"div")(9,"button",172),A("click",function(){let i=D(n).index,o=v(3);return T(o.modifierButeur(o.matches.indexOf(o.selectedMatch),i))}),S(10,"i",173),p(),f(11,"button",174),A("click",function(){let i=D(n).index,o=v(3);return T(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),i))}),S(12,"i",175),p()()()()}if(t&2){let n=e.$implicit,r=v(3);h(3),y("ngClass",n.equipe===1?"buteur-team1":"buteur-team2"),h(),de(r.getButeurDisplay(n)),h(2),y("ngClass",n.equipe===1?"buteur-team1":"buteur-team2"),h(),de(n.equipe===1?r.selectedMatch.equipe1:r.selectedMatch.equipe2)}}function b3(t,e){if(t&1&&(f(0,"div"),x(1,C3,13,4,"div",167),p()),t&2){let n=v(2);h(),y("ngForOf",n.selectedMatch.buteurs)}}function D3(t,e){t&1&&S(0,"i",163)}function T3(t,e){t&1&&S(0,"i",164)}function S3(t,e){t&1&&S(0,"i",165)}function A3(t,e){if(t&1){let n=G();f(0,"button",181),A("click",function(){let i=D(n).$implicit,o=v(3);return T(o.assignPlayerToPosition(i.name))}),x(1,D3,1,0,"i",160)(2,T3,1,0,"i",161)(3,S3,1,0,"i",162),g(4),p()}if(t&2){let n=e.$implicit;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function x3(t,e){if(t&1){let n=G();f(0,"div",176)(1,"div",177)(2,"h6"),g(3),p(),f(4,"div",178),x(5,A3,5,4,"button",179),p(),f(6,"button",180),A("click",function(){D(n);let i=v(2);return T(i.selectedPosition=null)}),g(7," Annuler "),p()()()}if(t&2){let n=v(2);h(3),H("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),h(2),y("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function M3(t,e){if(t&1){let n=G();f(0,"div",118)(1,"div",119)(2,"button",120),A("click",function(){D(n);let i=v();return T(i.showScoreForm=!1)}),g(3,"\xD7"),p(),f(4,"h3",121),g(5,"Modifier le score"),p(),S(6,"br"),f(7,"div",122)(8,"div",94)(9,"div",95),g(10),p(),f(11,"div",123),A("click",function(){D(n);let i=v();return T(i.showScoreForm=!0)}),x(12,l3,2,2,"ng-container",92)(13,u3,6,2,"ng-container",92),p(),f(14,"div",95),g(15),p()()(),x(16,h3,38,9,"div",124),f(17,"div",85)(18,"div",125)(19,"div",126)(20,"h5",127),g(21),p(),f(22,"div",128),x(23,g3,5,4,"button",129)(24,_3,2,0,"button",130),p()(),f(25,"div",126)(26,"h5",131),g(27),p(),f(28,"div",132),x(29,I3,5,4,"button",133)(30,E3,2,0,"button",134),p()()()(),f(31,"div",135)(32,"div",136),A("click",function(){D(n);let i=v();return T(i.toggleButeursList())}),f(33,"h4")(34,"span",137),g(35),p(),g(36),p()(),x(37,b3,2,1,"div",92),p(),x(38,x3,8,2,"div",138),f(39,"div",139)(40,"button",49),A("click",function(){D(n);let i=v();return T(i.selectedMatch=null)}),g(41," Fermer "),p()()()()}if(t&2){let n=v();h(10),de(n.selectedMatch.equipe1),h(2),y("ngIf",!n.showScoreForm),h(),y("ngIf",n.showScoreForm),h(2),de(n.selectedMatch.equipe2),h(),y("ngIf",n.showButeurForm),h(5),de(n.selectedMatch.equipe1),h(2),y("ngForOf",n.getTeamPlayers(1)),h(),y("ngIf",!n.showButeurForm),h(3),de(n.selectedMatch.equipe2),h(2),y("ngForOf",n.getTeamPlayers(2)),h(),y("ngIf",!n.showButeurForm),h(5),de(n.showButeursList?"\u25BC":"\u25B6"),h(),H(" Buteurs (",n.selectedMatch.buteurs.length,") "),h(),y("ngIf",n.showButeursList),h(),y("ngIf",n.selectedPosition&&n.selectedMatch)}}function P3(t,e){if(t&1&&(f(0,"option",84),g(1),p()),t&2){let n=e.$implicit;y("value",n.name),h(),de(n.name)}}function R3(t,e){if(t&1&&(f(0,"option",84),g(1),p()),t&2){let n=e.$implicit;y("value",n.name),h(),de(n.name)}}function N3(t,e){if(t&1){let n=G();f(0,"div",182)(1,"div",38)(2,"span",120),A("click",function(){D(n);let i=v();return T(i.showMatchEditForm=!1)}),g(3,"\xD7"),p(),f(4,"h3"),g(5,"Modifier le match"),p(),f(6,"form",146),A("ngSubmit",function(){D(n);let i=v();return T(i.onSubmitMatchEdit())}),f(7,"div",183)(8,"button",184),A("click",function(){D(n);let i=v();return T(i.supprimerMatch(i.selectedMatch))}),S(9,"i",175),g(10," Supprimer le match "),p()(),f(11,"div",185)(12,"label",186),g(13,"\xC9quipe 1:"),p(),f(14,"select",187,0),A("change",function(){D(n);let i=Hs(15),o=v();return T(i.value==="new"&&o.editNewTeam(i))}),x(16,P3,2,2,"option",66),f(17,"option",188),g(18,"+ Ajouter une nouvelle \xE9quipe"),p()()(),f(19,"div",185)(20,"label",189),g(21,"\xC9quipe 2:"),p(),f(22,"select",190,1),A("change",function(){D(n);let i=Hs(23),o=v();return T(i.value==="new"&&o.editNewTeam(i))}),x(24,R3,2,2,"option",66),f(25,"option",188),g(26,"+ Ajouter une nouvelle \xE9quipe"),p()()(),f(27,"div",185)(28,"label",191),g(29,"Heure de d\xE9but:"),p(),S(30,"input",192),p(),f(31,"div",185)(32,"label",193),g(33,"Lieu:"),p(),S(34,"input",194),p(),f(35,"div",185)(36,"label",195),g(37,"Comp\xE9tition:"),p(),S(38,"input",196),p(),f(39,"div",183)(40,"button",197),A("click",function(){D(n);let i=v();return T(i.onSubmitMatchEdit())}),g(41,"Enregistrer les Modifications"),p()()()()()}if(t&2){let n=v();h(6),y("formGroup",n.matchEditForm),h(10),y("ngForOf",n.teams),h(8),y("ngForOf",n.teams)}}function O3(t,e){if(t&1&&(f(0,"span",211),g(1," \u2022 "),p()),t&2){let n=e.index,r=v(2);Se("fade",n>=r.remainingDots)}}function k3(t,e){if(t&1&&(f(0,"option",212),g(1),p()),t&2){let n=e.$implicit,r=v(2);y("value",n.name)("disabled",n.name===r.lastGoalScorer),h(),H(" ",n.name," ")}}function F3(t,e){if(t&1){let n=G();f(0,"div",198)(1,"div",199)(2,"div",200),g(3,"BUUUT !"),p(),f(4,"div",201),g(5),p(),f(6,"div",202),g(7),p(),f(8,"div",203),g(9,"\u26BD\u26BD"),p(),f(10,"div",204),x(11,O3,2,2,"span",205),p(),f(12,"div",206)(13,"select",207),Ot("ngModelChange",function(i){D(n);let o=v();return Lt(o.lastGoalAssist,i)||(o.lastGoalAssist=i),T(i)}),f(14,"option",70),g(15,"Aucun assist"),p(),x(16,k3,2,3,"option",208),p(),f(17,"div",209)(18,"button",96),A("click",function(){D(n);let i=v();return T(i.saveGoalWithAssist())}),g(19," Enregistrer "),p(),f(20,"button",210),A("click",function(){D(n);let i=v();return T(i.cancelGoal())}),g(21," Annuler "),p()()()()()}if(t&2){let n=v();h(5),H(" ",n.lastGoalScorer," "),h(2),H(" ",n.lastGoalTeam," "),h(4),y("ngForOf",bE(5,P$).constructor(5)),h(2),Nt("ngModel",n.lastGoalAssist),h(3),y("ngForOf",n.getTeamPlayers(n.lastGoalTeam===(n.selectedMatch==null?null:n.selectedMatch.equipe1)?1:2))}}function V3(t,e){t&1&&(f(0,"span",232),g(1,"-"),p())}function L3(t,e){t&1&&S(0,"i",163)}function j3(t,e){t&1&&S(0,"i",164)}function U3(t,e){t&1&&S(0,"i",165)}function B3(t,e){if(t&1&&(Re(0),x(1,L3,1,0,"i",160)(2,j3,1,0,"i",161)(3,U3,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function $3(t,e){t&1&&(f(0,"span",232),g(1,"-"),p())}function q3(t,e){t&1&&S(0,"i",163)}function H3(t,e){t&1&&S(0,"i",164)}function z3(t,e){t&1&&S(0,"i",165)}function G3(t,e){if(t&1&&(Re(0),x(1,q3,1,0,"i",160)(2,H3,1,0,"i",161)(3,z3,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function W3(t,e){if(t&1){let n=G();f(0,"div")(1,"div",233),A("click",function(){D(n);let i=v(2);return T(i.selectPosition(1,"milieu-offensif"))}),f(2,"div",221)(3,"span",222),g(4,"MO"),p(),x(5,$3,2,0,"span",223),f(6,"span",224),x(7,G3,5,4,"ng-container",92),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),h(3),y("ngIf",n.getPlayerForPosition(1,"milieu-offensif")),h(2),y("ngIf",n.getPlayerForPosition(1,"milieu-offensif"))}}function K3(t,e){t&1&&S(0,"i",163)}function Q3(t,e){t&1&&S(0,"i",164)}function Y3(t,e){t&1&&S(0,"i",165)}function J3(t,e){if(t&1&&(Re(0),x(1,K3,1,0,"i",160)(2,Q3,1,0,"i",161)(3,Y3,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function Z3(t,e){t&1&&S(0,"i",163)}function X3(t,e){t&1&&S(0,"i",164)}function e4(t,e){t&1&&S(0,"i",165)}function t4(t,e){if(t&1&&(Re(0),x(1,Z3,1,0,"i",160)(2,X3,1,0,"i",161)(3,e4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function n4(t,e){t&1&&S(0,"i",163)}function r4(t,e){t&1&&S(0,"i",164)}function i4(t,e){t&1&&S(0,"i",165)}function o4(t,e){if(t&1&&(Re(0),x(1,n4,1,0,"i",160)(2,r4,1,0,"i",161)(3,i4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function s4(t,e){t&1&&S(0,"i",163)}function a4(t,e){t&1&&S(0,"i",164)}function c4(t,e){t&1&&S(0,"i",165)}function l4(t,e){if(t&1&&(Re(0),x(1,s4,1,0,"i",160)(2,a4,1,0,"i",161)(3,c4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function u4(t,e){if(t&1){let n=G();f(0,"div")(1,"div",234),A("click",function(){D(n);let i=v(2);return T(i.selectPosition(1,"defenseur-gauche"))}),f(2,"div",221)(3,"span",222),g(4,"DG"),p(),f(5,"span",224),x(6,l4,5,4,"ng-container",92),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),h(4),y("ngIf",n.getPlayerForPosition(1,"defenseur-gauche"))}}function d4(t,e){t&1&&S(0,"i",163)}function h4(t,e){t&1&&S(0,"i",164)}function f4(t,e){t&1&&S(0,"i",165)}function p4(t,e){if(t&1&&(Re(0),x(1,d4,1,0,"i",160)(2,h4,1,0,"i",161)(3,f4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function m4(t,e){if(t&1){let n=G();f(0,"div")(1,"div",235),A("click",function(){D(n);let i=v(2);return T(i.selectPosition(1,"defenseur-droit"))}),f(2,"div",221)(3,"span",222),g(4,"DD"),p(),f(5,"span",224),x(6,p4,5,4,"ng-container",92),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),h(4),y("ngIf",n.getPlayerForPosition(1,"defenseur-droit"))}}function g4(t,e){t&1&&S(0,"i",163)}function _4(t,e){t&1&&S(0,"i",164)}function y4(t,e){t&1&&S(0,"i",165)}function v4(t,e){if(t&1&&(Re(0),x(1,g4,1,0,"i",160)(2,_4,1,0,"i",161)(3,y4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function w4(t,e){t&1&&(f(0,"span",232),g(1,"-"),p())}function I4(t,e){t&1&&S(0,"i",163)}function E4(t,e){t&1&&S(0,"i",164)}function C4(t,e){t&1&&S(0,"i",165)}function b4(t,e){if(t&1&&(Re(0),x(1,I4,1,0,"i",160)(2,E4,1,0,"i",161)(3,C4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function D4(t,e){t&1&&S(0,"i",163)}function T4(t,e){t&1&&S(0,"i",164)}function S4(t,e){t&1&&S(0,"i",165)}function A4(t,e){if(t&1&&(Re(0),x(1,D4,1,0,"i",160)(2,T4,1,0,"i",161)(3,S4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function x4(t,e){if(t&1){let n=G();f(0,"div")(1,"div",233),A("click",function(){D(n);let i=v(2);return T(i.selectPosition(2,"milieu-offensif"))}),f(2,"div",221)(3,"span",222),g(4,"MO"),p(),f(5,"span",224),x(6,A4,5,4,"ng-container",92),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),h(4),y("ngIf",n.getPlayerForPosition(2,"milieu-offensif"))}}function M4(t,e){t&1&&S(0,"i",163)}function P4(t,e){t&1&&S(0,"i",164)}function R4(t,e){t&1&&S(0,"i",165)}function N4(t,e){if(t&1&&(Re(0),x(1,M4,1,0,"i",160)(2,P4,1,0,"i",161)(3,R4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function O4(t,e){t&1&&S(0,"i",163)}function k4(t,e){t&1&&S(0,"i",164)}function F4(t,e){t&1&&S(0,"i",165)}function V4(t,e){if(t&1&&(Re(0),x(1,O4,1,0,"i",160)(2,k4,1,0,"i",161)(3,F4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function L4(t,e){t&1&&S(0,"i",163)}function j4(t,e){t&1&&S(0,"i",164)}function U4(t,e){t&1&&S(0,"i",165)}function B4(t,e){if(t&1&&(Re(0),x(1,L4,1,0,"i",160)(2,j4,1,0,"i",161)(3,U4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function $4(t,e){t&1&&S(0,"i",163)}function q4(t,e){t&1&&S(0,"i",164)}function H4(t,e){t&1&&S(0,"i",165)}function z4(t,e){if(t&1&&(Re(0),x(1,$4,1,0,"i",160)(2,q4,1,0,"i",161)(3,H4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function G4(t,e){if(t&1){let n=G();f(0,"div")(1,"div",234),A("click",function(){D(n);let i=v(2);return T(i.selectPosition(2,"defenseur-gauche"))}),f(2,"div",221)(3,"span",222),g(4,"DG"),p(),f(5,"span",224),x(6,z4,5,4,"ng-container",92),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),h(4),y("ngIf",n.getPlayerForPosition(2,"defenseur-gauche"))}}function W4(t,e){t&1&&S(0,"i",163)}function K4(t,e){t&1&&S(0,"i",164)}function Q4(t,e){t&1&&S(0,"i",165)}function Y4(t,e){if(t&1&&(Re(0),x(1,W4,1,0,"i",160)(2,K4,1,0,"i",161)(3,Q4,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function J4(t,e){if(t&1){let n=G();f(0,"div")(1,"div",235),A("click",function(){D(n);let i=v(2);return T(i.selectPosition(2,"defenseur-droit"))}),f(2,"div",221)(3,"span",222),g(4,"DD"),p(),f(5,"span",224),x(6,Y4,5,4,"ng-container",92),p()()()()}if(t&2){let n=v(2);h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),h(4),y("ngIf",n.getPlayerForPosition(2,"defenseur-droit"))}}function Z4(t,e){t&1&&S(0,"i",163)}function X4(t,e){t&1&&S(0,"i",164)}function eq(t,e){t&1&&S(0,"i",165)}function tq(t,e){if(t&1&&(Re(0),x(1,Z4,1,0,"i",160)(2,X4,1,0,"i",161)(3,eq,1,0,"i",162),g(4),Ne()),t&2){let n=e.ngIf;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function nq(t,e){t&1&&S(0,"div")}function rq(t,e){t&1&&S(0,"i",163)}function iq(t,e){t&1&&S(0,"i",164)}function oq(t,e){t&1&&S(0,"i",165)}function sq(t,e){if(t&1){let n=G();f(0,"button",181),A("click",function(){let i=D(n).$implicit,o=v(3);return T(o.assignPlayerToPosition(i.name))}),x(1,rq,1,0,"i",160)(2,iq,1,0,"i",161)(3,oq,1,0,"i",162),g(4),p()}if(t&2){let n=e.$implicit;h(),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="defenseur"),h(),y("ngIf",n.type==="milieu"),h(),H(" ",n.name," ")}}function aq(t,e){if(t&1){let n=G();f(0,"div",176)(1,"div",177)(2,"h6"),g(3),p(),f(4,"div",178),x(5,sq,5,4,"button",179),p(),f(6,"button",180),A("click",function(){D(n);let i=v(2);return T(i.selectedPosition=null)}),g(7," Annuler "),p()()()}if(t&2){let n=v(2);h(3),H("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),h(2),y("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function cq(t,e){if(t&1){let n=G();f(0,"div",213)(1,"div",214)(2,"button",120),A("click",function(){D(n);let i=v();return T(i.closeDispositionModal())}),g(3,"\xD7"),p(),f(4,"h3"),g(5,"Disposition tactique"),p(),f(6,"button",215),A("click",function(){D(n);let i=v();return T(i.toggleDefendersAndMidfielders())}),g(7),p(),f(8,"div",216)(9,"div",217)(10,"div",218)(11,"h5",127),g(12),p(),f(13,"div",219)(14,"div",220),A("click",function(){D(n);let i=v();return T(i.selectPosition(1,"attaquant"))}),f(15,"div",221)(16,"span",222),g(17,"AT"),p(),x(18,V3,2,0,"span",223),f(19,"span",224),x(20,B3,5,4,"ng-container",92),p()()(),x(21,W3,8,4,"div",92),f(22,"div",225),A("click",function(){D(n);let i=v();return T(i.selectPosition(1,"milieu-gauche"))}),f(23,"div",221)(24,"span",222),g(25,"MG"),p(),f(26,"span",224),x(27,J3,5,4,"ng-container",92),p()()(),f(28,"div",226),A("click",function(){D(n);let i=v();return T(i.selectPosition(1,"milieu-droit"))}),f(29,"div",221)(30,"span",222),g(31,"MD"),p(),f(32,"span",224),x(33,t4,5,4,"ng-container",92),p()()(),f(34,"div",227),A("click",function(){D(n);let i=v();return T(i.selectPosition(1,"defenseur-central"))}),f(35,"div",221)(36,"span",222),g(37,"DC"),p(),f(38,"span",224),x(39,o4,5,4,"ng-container",92),p()()(),x(40,u4,7,3,"div",92)(41,m4,7,3,"div",92),f(42,"div",228),A("click",function(){D(n);let i=v();return T(i.selectPosition(1,"gardien"))}),f(43,"div",221)(44,"span",222),g(45,"G"),p(),f(46,"span",224),x(47,v4,5,4,"ng-container",92),p()()()()(),f(48,"div",229)(49,"h5",131),g(50),p(),f(51,"div",219)(52,"div",220),A("click",function(){D(n);let i=v();return T(i.selectPosition(2,"attaquant"))}),f(53,"div",221)(54,"span",222),g(55,"AT"),p(),x(56,w4,2,0,"span",223),f(57,"span",224),x(58,b4,5,4,"ng-container",92),p()()(),x(59,x4,7,3,"div",92),f(60,"div",225),A("click",function(){D(n);let i=v();return T(i.selectPosition(2,"milieu-gauche"))}),f(61,"div",221)(62,"span",222),g(63,"MG"),p(),f(64,"span",224),x(65,N4,5,4,"ng-container",92),p()()(),f(66,"div",226),A("click",function(){D(n);let i=v();return T(i.selectPosition(2,"milieu-droit"))}),f(67,"div",221)(68,"span",222),g(69,"MD"),p(),f(70,"span",224),x(71,V4,5,4,"ng-container",92),p()()(),f(72,"div",227),A("click",function(){D(n);let i=v();return T(i.selectPosition(2,"defenseur-central"))}),f(73,"div",221)(74,"span",222),g(75,"DC"),p(),f(76,"span",224),x(77,B4,5,4,"ng-container",92),p()()(),x(78,G4,7,3,"div",92)(79,J4,7,3,"div",92),f(80,"div",228),A("click",function(){D(n);let i=v();return T(i.selectPosition(2,"gardien"))}),f(81,"div",221)(82,"span",222),g(83,"G"),p(),f(84,"span",224),x(85,tq,5,4,"ng-container",92),p()()(),x(86,nq,1,0,"div",92),p()()(),f(87,"div",230)(88,"p",231),g(89," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),p()()(),x(90,aq,8,2,"div",138),p()()}if(t&2){let n=v();h(7),H(" ",n.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),h(5),de(n.selectedMatch.equipe1),h(3),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),h(3),y("ngIf",n.getPlayerForPosition(1,"attaquant")),h(2),y("ngIf",n.getPlayerForPosition(1,"attaquant")),h(),y("ngIf",n.showDefendersAndMidfielders),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),h(4),y("ngIf",n.getPlayerForPosition(1,"milieu-gauche")),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),h(4),y("ngIf",n.getPlayerForPosition(1,"milieu-droit")),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),h(4),y("ngIf",n.getPlayerForPosition(1,"defenseur-central")),h(),y("ngIf",n.showDefendersAndMidfielders),h(),y("ngIf",n.showDefendersAndMidfielders),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),h(4),y("ngIf",n.getPlayerForPosition(1,"gardien")),h(3),de(n.selectedMatch.equipe2),h(3),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),h(3),y("ngIf",n.getPlayerForPosition(2,"attaquant")),h(2),y("ngIf",n.getPlayerForPosition(2,"attaquant")),h(),y("ngIf",n.showDefendersAndMidfielders),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),h(4),y("ngIf",n.getPlayerForPosition(2,"milieu-gauche")),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),h(4),y("ngIf",n.getPlayerForPosition(2,"milieu-droit")),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),h(4),y("ngIf",n.getPlayerForPosition(2,"defenseur-central")),h(),y("ngIf",n.showDefendersAndMidfielders),h(),y("ngIf",n.showDefendersAndMidfielders),h(2),Se("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),h(4),y("ngIf",n.getPlayerForPosition(2,"gardien")),h(),y("ngIf",n.showDefendersAndMidfielders),h(4),y("ngIf",n.selectedPosition&&n.selectedMatch)}}function lq(t,e){if(t&1){let n=G();f(0,"div",118)(1,"div",143)(2,"div",38)(3,"div",39)(4,"h5",144),g(5,"Choisir le format d'export"),p(),f(6,"button",145),A("click",function(){D(n);let i=v();return T(i.closeExportModal())}),p()(),f(7,"div",43)(8,"div",236)(9,"input",237),Ot("ngModelChange",function(i){D(n);let o=v();return Lt(o.exportFormats.txt,i)||(o.exportFormats.txt=i),T(i)}),p(),f(10,"label",238),g(11," Format TXT "),p()(),f(12,"div",236)(13,"input",239),Ot("ngModelChange",function(i){D(n);let o=v();return Lt(o.exportFormats.csv,i)||(o.exportFormats.csv=i),T(i)}),p(),f(14,"label",240),g(15," Format CSV "),p()(),f(16,"div",236)(17,"input",241),Ot("ngModelChange",function(i){D(n);let o=v();return Lt(o.exportFormats.json,i)||(o.exportFormats.json=i),T(i)}),p(),f(18,"label",242),g(19," Format JSON "),p()()(),f(20,"div",48)(21,"button",49),A("click",function(){D(n);let i=v();return T(i.closeExportModal())}),g(22,"Annuler"),p(),f(23,"button",243),A("click",function(){D(n);let i=v();return T(i.confirmExport())}),g(24,"Exporter"),p()()()()()}if(t&2){let n=v();h(9),Nt("ngModel",n.exportFormats.txt),h(4),Nt("ngModel",n.exportFormats.csv),h(4),Nt("ngModel",n.exportFormats.json),h(6),y("disabled",!n.isExportFormatSelected())}}function uq(t,e){if(t&1){let n=G();f(0,"div",118)(1,"div",143)(2,"div",38)(3,"div",39)(4,"h5",144),g(5,"Comment utiliser BUUUT.be"),p(),f(6,"button",145),A("click",function(){D(n);let i=v();return T(i.showHelpModal=!1)}),p()(),f(7,"div",43)(8,"h6"),g(9,"Fonctionnalit\xE9s principales :"),p(),f(10,"ul",244)(11,"li",63),S(12,"i",245),f(13,"strong"),g(14,"Cr\xE9er un match :"),p(),g(15,' Cliquez sur "Nouveau Match" pour enregistrer un nouveau match. '),p(),f(16,"li",63),S(17,"i",246),f(18,"strong"),g(19,"Enregistrer les buts :"),p(),g(20," Cliquez sur le score pour ajouter les buteurs et leurs minutes. "),p(),f(21,"li",63),S(22,"i",247),f(23,"strong"),g(24,"G\xE9rer les \xE9quipes :"),p(),g(25," Ajoutez des joueurs \xE0 vos \xE9quipes lors de l'enregistrement des buts. "),p(),f(26,"li",63),S(27,"i",248),f(28,"strong"),g(29,"Partager :"),p(),g(30," Partagez vos matchs via le bouton de partage. "),p(),f(31,"li",63),S(32,"i",249),f(33,"strong"),g(34,"Exporter :"),p(),g(35," Exportez vos matchs en TXT, CSV ou JSON. "),p(),f(36,"li",63),S(37,"i",250),f(38,"strong"),g(39,"Importer :"),p(),g(40," Importez des matchs depuis diff\xE9rents formats. "),p()()(),f(41,"div",48)(42,"button",49),A("click",function(){D(n);let i=v();return T(i.showHelpModal=!1)}),g(43,"Fermer"),p()()()()()}}function dq(t,e){if(t&1&&(f(0,"tr")(1,"td",255),g(2),p(),f(3,"td",255),g(4),p(),f(5,"td",255)(6,"strong"),g(7),p()(),f(8,"td",255),g(9),p(),f(10,"td",255),g(11),p(),f(12,"td",255),g(13),p(),f(14,"td",255),g(15),p(),f(16,"td",255),g(17),p(),f(18,"td",255),g(19),p(),f(20,"td",256),g(21),p()()),t&2){let n=e.$implicit,r=e.index;h(2),de(r+1),h(2),de(n.name),h(3),de(n.points),h(2),de(n.matches),h(2),de(n.wins),h(2),de(n.draws),h(2),de(n.losses),h(2),de(n.goalsFor),h(2),de(n.goalsAgainst),h(),y("ngClass",DE(12,R$,n.goalDifference>0,n.goalDifference<0)),h(),On(" ",n.goalDifference>0?"+":"","",n.goalDifference," ")}}function hq(t,e){if(t&1){let n=G();f(0,"div",118)(1,"div",251)(2,"div",38)(3,"div",39)(4,"h5",144),g(5),p(),f(6,"button",145),A("click",function(){D(n);let i=v();return T(i.closeRankingModal())}),p()(),f(7,"div",252)(8,"div",253)(9,"table",254)(10,"thead")(11,"tr")(12,"th",255),g(13,"Pos"),p(),f(14,"th",255),g(15,"\xC9quipe"),p(),f(16,"th",255),g(17,"Pts"),p(),f(18,"th",255),g(19,"J"),p(),f(20,"th",255),g(21,"G"),p(),f(22,"th",255),g(23,"N"),p(),f(24,"th",255),g(25,"P"),p(),f(26,"th",255),g(27,"BP"),p(),f(28,"th",255),g(29,"BC"),p(),f(30,"th",255),g(31,"Diff"),p()()(),f(32,"tbody"),x(33,dq,22,15,"tr",103),p()()()(),f(34,"div",48)(35,"button",49),A("click",function(){D(n);let i=v();return T(i.closeRankingModal())}),g(36,"Fermer"),p()()()()()}if(t&2){let n=v();h(5),H("Classement - ",n.selectedCompetitionFilter,""),h(28),y("ngForOf",n.currentRanking)}}function fq(t,e){if(t&1){let n=G();f(0,"i",277),A("click",function(){D(n);let i=v().$implicit,o=v(2);return T(o.cyclePlayerType(i))}),p()}}function pq(t,e){if(t&1){let n=G();f(0,"i",278),A("click",function(){D(n);let i=v().$implicit,o=v(2);return T(o.cyclePlayerType(i))}),p()}}function mq(t,e){if(t&1){let n=G();f(0,"i",279),A("click",function(){D(n);let i=v().$implicit,o=v(2);return T(o.cyclePlayerType(i))}),p()}}function gq(t,e){if(t&1){let n=G();f(0,"span",280),A("click",function(){D(n);let i=v().$implicit,o=v(2);return T(o.openPlayerGoalsModal(i))}),g(1),p()}if(t&2){let n=v().$implicit,r=v(2);h(),H(" ",r.getGoalsForPlayer(n.name)," \u26BD ")}}function _q(t,e){if(t&1){let n=G();f(0,"li",267)(1,"div",268)(2,"span",269),x(3,fq,1,0,"i",270)(4,pq,1,0,"i",271)(5,mq,1,0,"i",272),f(6,"input",273),Ot("ngModelChange",function(i){let o=D(n).$implicit;return Lt(o.name,i)||(o.name=i),T(i)}),p(),x(7,gq,2,1,"span",274),p(),f(8,"button",275),A("click",function(){let i=D(n).index,o=v(2);return T(o.removePlayer(i))}),S(9,"i",276),p()()()}if(t&2){let n=e.$implicit,r=v(2);h(3),y("ngIf",n.type==="attaquant"),h(),y("ngIf",n.type==="milieu"),h(),y("ngIf",n.type==="defenseur"),h(),Nt("ngModel",n.name),h(),y("ngIf",r.getGoalsForPlayer(n.name)>0)}}function yq(t,e){if(t&1){let n=G();f(0,"i",281),A("click",function(){D(n);let i=v(2);return T(i.cycleNewPlayerType())}),p()}}function vq(t,e){if(t&1){let n=G();f(0,"i",282),A("click",function(){D(n);let i=v(2);return T(i.cycleNewPlayerType())}),p()}}function wq(t,e){if(t&1){let n=G();f(0,"i",283),A("click",function(){D(n);let i=v(2);return T(i.cycleNewPlayerType())}),p()}}function Iq(t,e){if(t&1){let n=G();f(0,"div",118)(1,"div",257)(2,"div",38)(3,"div",39)(4,"h5",144),g(5),p(),f(6,"button",41),A("click",function(){D(n);let i=v();return T(i.closeEditPlayersModal())}),f(7,"span",42),g(8,"\xD7"),p()()(),f(9,"div",43)(10,"ul",258),x(11,_q,10,5,"li",259),p(),f(12,"div",260)(13,"input",261),Ot("ngModelChange",function(i){D(n);let o=v();return Lt(o.newPlayerName,i)||(o.newPlayerName=i),T(i)}),A("keyup.enter",function(){D(n);let i=v();return T(i.addPlayer())}),p(),x(14,yq,1,0,"i",262)(15,vq,1,0,"i",263)(16,wq,1,0,"i",264),f(17,"button",265),A("click",function(){D(n);let i=v();return T(i.addPlayer())}),g(18,"Ajouter"),p()()(),f(19,"div",48)(20,"button",49),A("click",function(){D(n);let i=v();return T(i.closeEditPlayersModal())}),g(21,"Fermer"),p(),f(22,"button",266),A("click",function(){D(n);let i=v();return T(i.savePlayersEdit())}),g(23,"Enregistrer"),p()()()()()}if(t&2){let n=v();h(5),H("\xC9diter les joueurs de ",n.teamToEdit.name,""),h(6),y("ngForOf",n.teamToEdit.players),h(2),Nt("ngModel",n.newPlayerName),h(),y("ngIf",n.newPlayerType==="attaquant"),h(),y("ngIf",n.newPlayerType==="milieu"),h(),y("ngIf",n.newPlayerType==="defenseur")}}function Eq(t,e){if(t&1&&(f(0,"div",289),S(1,"i",290),g(2),zs(3,"date"),f(4,"span",291),S(5,"i",292),g(6),p(),f(7,"span",291),g(8),p(),f(9,"span",291),g(10),p()()),t&2){let n=e.$implicit,r=v(3);h(2),H(" ",Gs(3,5,n.match==null?null:n.match.heureDebut,"dd/MM/yyyy HH:mm")," "),h(4),H(" ",n.minute,"'"),h(2),H("vs ",(n.match==null?null:n.match.equipe1)===(r.teamToEdit==null?null:r.teamToEdit.name)?n.match==null?null:n.match.equipe2:n.match==null?null:n.match.equipe1,""),h(2),On("(score: ",n.match==null?null:n.match.score1," - ",n.match==null?null:n.match.score2,")")}}function Cq(t,e){t&1&&(f(0,"div",293),g(1,"Aucun but trouv\xE9."),p())}function bq(t,e){if(t&1){let n=G();Re(0),f(1,"div",43),x(2,Eq,11,8,"div",286)(3,Cq,2,0,"div",287),p(),f(4,"div",48)(5,"button",288),A("click",function(){D(n);let i=v(2);return T(i.closePlayerGoalsModal())}),g(6,"Fermer"),p()(),Ne()}if(t&2){let n=v(2);h(2),y("ngForOf",n.getPlayerGoalsDetails(n.selectedPlayerGoalsModal)),h(),y("ngIf",n.getPlayerGoalsDetails(n.selectedPlayerGoalsModal).length===0)}}function Dq(t,e){if(t&1){let n=G();f(0,"div",284)(1,"div",143)(2,"div",38)(3,"div",39)(4,"h5",144),g(5),p(),f(6,"button",285),A("click",function(){D(n);let i=v();return T(i.closePlayerGoalsModal())}),p()(),x(7,bq,7,2,"ng-container",92),p()()()}if(t&2){let n=v();h(5),H("Buts de ",n.selectedPlayerGoalsModal==null?null:n.selectedPlayerGoalsModal.name,""),h(2),y("ngIf",n.selectedPlayerGoalsModal)}}var qh=class t{static{this.competitionColors=new Map}constructor(e,n){this.fb=e,this.firestoreService=n,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.editingButeur=null,this.teams=ib,this.selectedTeam=null,this.newTeamName="",this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!0,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.selectedCompetitionFilter="",this.showCompetitionFilterModal=!1,this.remainingDots=5,this.usedColors=[],this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1},this.showHelpModal=!1,this.showRankingModal=!1,this.currentRanking=[],this.isSharingCompetition=!1,this.isSharingMatch=!1,this.sharingLogs=[],this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerType="milieu",this.selectedPlayerGoalsIndex=null,this.selectedPlayerGoalsModal=null,this.matchForm=this.fb.group({equipe1:[this.teams[0].name,Qe.required],equipe2:["",Qe.required],heureDebut:[this.getCurrentDateTime(),Qe.required],lieu:[""],competition:[""]}),this.scoreForm=this.fb.group({score1:[0,[Qe.required,Qe.min(0)]],score2:[0,[Qe.required,Qe.min(0)]]}),this.buteurForm=this.fb.group({nom:["",Qe.required],minute:["",[Qe.required,Qe.min(1),Qe.max(90)]],equipe:["",Qe.required],assist:[""]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(r=>{let i=this.buteurForm.get("assist");i&&i.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",Qe.required],equipe2:["",Qe.required],heureDebut:["",Qe.required],lieu:[""],competition:[""]})}ngOnInit(){return w(this,null,function*(){this.loadSavedData(),this.startAutoSave(),yield this.loadMatchFromUrl()})}getCurrentDateTime(){let e=new Date,n=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-n).toISOString().slice(0,16)}onSubmit(){if(this.matchForm.valid){let n=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,r=J(P({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],showElements:!0});this.matches.push(r),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1}}calculateElapsedMinutes(e){let n=new Date,r=new Date(e),i=new Date(r.getTime()),o=Math.floor((n.getTime()-i.getTime())/(1e3*60));return console.log("diffInMinutes",o),console.log("now",n),console.log("localMatchStart",i),o>90?this.getLastScoredMinute()+1:Math.max(1,o)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(e=>e.minute))}selectMatch(e){this.selectedMatch=e,this.scoreForm.patchValue({score1:e.score1,score2:e.score2});let n=this.calculateElapsedMinutes(e.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.buteurForm.patchValue({nom:"",minute:n,equipe:1});let r=this.teams.find(o=>o.name===e.equipe1),i=this.teams.find(o=>o.name===e.equipe2);if(r?zm(r):this.teams.push({id:this.teams.length+1,name:e.equipe1,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),i?zm(i):this.teams.push({id:this.teams.length+1,name:e.equipe2,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),e.equipe1==="U10 Stand. Flawinne FC"){let o=this.teams.find(s=>s.name==="U10 Stand. Flawinne FC");this.selectedTeam=o||null}}updateScore(){if(this.selectedMatch){let e=Math.max(0,this.selectedMatch.score1),n=Math.max(0,this.selectedMatch.score2),r=this.matches.findIndex(i=>i.id===this.selectedMatch.id);r!==-1&&(this.matches[r]=J(P({},this.matches[r]),{score1:e,score2:n}),this.selectedMatch.score1=e,this.selectedMatch.score2=n,this.saveData(),this.showScoreForm=!1)}}modifierButeur(e,n){let i=this.matches[e].buteurs[n];this.editingButeur={index:n,buteur:P({},i)},this.buteurForm.patchValue({nom:i.nom,minute:i.minute,equipe:i.equipe}),this.showButeurForm=!0}ajouterButeur(){if(this.buteurForm.valid&&this.selectedMatch){let e={nom:this.buteurForm.value.nom,minute:this.buteurForm.value.minute,equipe:this.buteurForm.value.equipe,assist:this.buteurForm.value.assist||void 0},n=this.matches.findIndex(r=>r.id===this.selectedMatch.id);n!==-1&&(this.editingButeur!==null?this.matches[n].buteurs[this.editingButeur.index]=e:this.matches[n].buteurs.push(e),e.equipe===1?(this.matches[n].score1++,this.lastGoalTeam=this.selectedMatch.equipe1):(this.matches[n].score2++,this.lastGoalTeam=this.selectedMatch.equipe2),this.lastGoalScorer=e.nom,this.buteurForm.reset(),this.editingButeur=null,this.showButeurForm=!1,this.saveData())}}annulerEditionButeur(){if(this.editingButeur&&this.selectedMatch){let e=this.matches.findIndex(n=>n.id===this.selectedMatch.id);e!==-1&&(this.editingButeur.buteur.equipe===1?this.matches[e].score1++:this.matches[e].score2++)}this.editingButeur=null,this.buteurForm.reset(),this.showButeurForm=!1}supprimerButeur(e,n){let r=this.matches[e];r.buteurs[n].equipe===1?r.score1=this.validateScore(r.score1-1):r.score2=this.validateScore(r.score2-1),r.buteurs.splice(n,1),this.saveData()}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(i=>i.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let r={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(r),e.value=r.name;let i=e.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(i)?.setValue(r.name)}}editNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let r={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(r),e.value=r.name;let i=e.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(i)?.setValue(r.name)}}addNewPlayer(e){if(e&&e.trim()){let n=this.teams.find(r=>r.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));n&&(n.players.some(r=>r.name===e.trim())||n.players.push({name:e.trim(),type:"milieu"}),this.buteurForm.get("nom")?.setValue(e.trim()))}}getTeamPlayers(e){if(!this.selectedMatch)return[];let n=e===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(i=>i.name===n)?.players||[]}quickAddGoal(e,n){if(this.selectedMatch){let r=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);this.lastGoalScorer=e,this.lastGoalTeam=n===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.lastGoalAssist="",this.remainingDots=5,this.showGoalCelebration=!0,this.celebrationTimer=setInterval(()=>{this.remainingDots--,this.remainingDots<=0&&(this.showGoalCelebration=!1,clearInterval(this.celebrationTimer),this.saveGoalWithAssist())},1e3)}}saveGoalWithAssist(){if(this.selectedMatch){let e={nom:this.lastGoalScorer,minute:this.calculateElapsedMinutes(this.selectedMatch.heureDebut),equipe:this.lastGoalTeam===this.selectedMatch.equipe1?1:2,assist:this.lastGoalAssist||void 0},n=this.matches.findIndex(r=>r.id===this.selectedMatch.id);n!==-1&&(this.matches[n].buteurs.push(e),e.equipe===1?this.matches[n].score1++:this.matches[n].score2++,this.saveData(),clearInterval(this.celebrationTimer),this.showGoalCelebration=!1)}}cancelGoal(){this.showGoalCelebration=!1,clearInterval(this.celebrationTimer),this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist=""}supprimerMatch(e){if(confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?")){let n=this.matches.findIndex(r=>r.id===e.id);n!==-1&&(this.matches.splice(n,1),this.saveData())}}loadSavedData(){let e=localStorage.getItem("footballMatches");if(e){let n=JSON.parse(e);new Date(n.expirationDate)>new Date?this.matches=n.matches.map(i=>J(P({},i),{heureDebut:new Date(i.heureDebut)})):localStorage.removeItem("footballMatches")}}saveData(){let e=new Date;e.setMonth(e.getMonth()+3);let n={matches:this.matches,expirationDate:e.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(n))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(e,n){return e.buteurs.filter(i=>i.equipe===n).reduce((i,o)=>{let s=i.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c),o.assist&&(s.assist=o.assist)):i.push({nom:o.nom,minutes:[o.minute],assist:o.assist}),i},[]).sort((i,o)=>i.minutes[0]-o.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(e,n){this.selectedPosition={team:e,position:n}}assignPlayerToPosition(e){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let n=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[n]=e,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(e,n){if(this.selectedMatch?.positions){let r=`${e}_${n}`,i=this.selectedMatch.positions[r];if(i)return this.getPlayerByName(e,i)}return null}getPlayerByName(e,n){let r=this.teams.find(i=>i.name===(e===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));return r&&r.players.find(i=>i.name===n)||null}openDispositionModal(e){this.selectedMatch=e,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(e){e.showElements=!e.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(e){this.selectedMatch=e,this.matchEditForm.patchValue({equipe1:e.equipe1,equipe2:e.equipe2,heureDebut:this.getNearestValidTime(e.heureDebut),lieu:e.lieu,competition:e.competition}),this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(e){let n=new Date(e);return n.getMinutes()<30?n.setMinutes(0):n.setMinutes(30),n.toISOString().slice(0,16)}onSubmitMatchEdit(){if(this.matchEditForm.valid&&this.selectedMatch){let e=this.matchEditForm.value;this.selectedMatch.equipe1=e.equipe1,this.selectedMatch.equipe2=e.equipe2,this.selectedMatch.heureDebut=new Date(e.heureDebut),this.selectedMatch.lieu=e.lieu,this.selectedMatch.competition=e.competition,this.saveData(),this.showMatchEditForm=!1}}get filteredMatches(){return this.matches.filter(e=>{let n=!this.selectedTeamFilter||e.equipe1===this.selectedTeamFilter||e.equipe2===this.selectedTeamFilter,r=!this.selectedCompetitionFilter||e.competition===this.selectedCompetitionFilter;return n&&r})}closeTeamFilterModal(){this.showTeamFilterModal=!1}shareMatch(e){return w(this,null,function*(){this.isSharingMatch=!0;try{let n=yield this.firestoreService.saveMatch(e),r=`${window.location.origin}?matchId=${n}`,i=`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${this.getGroupedScorers(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${e.equipe2}:
${this.getGroupedScorers(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

Lien direct vers le match : ${r}
      `.trim();if(navigator.share)yield navigator.share({title:`${e.equipe1} vs ${e.equipe2}`,text:i,url:r});else{let o=document.createElement("textarea");o.value=i,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}catch(n){console.error("Erreur lors de la sauvegarde ou du partage du match:",n),alert("Une erreur est survenue lors de la sauvegarde ou du partage du match.")}finally{this.isSharingMatch=!1}})}loadMatchFromUrl(){return w(this,null,function*(){let e=new URLSearchParams(window.location.search),n=e.get("competitionId"),r=e.get("matchId");if(n)try{let i=yield this.firestoreService.getCompetitionById(n);if(i){let o=yield this.firestoreService.getMatchesByCompetition(n);o.length>0&&(this.matches=o,this.selectedCompetitionFilter=i.name,this.saveData())}}catch(i){console.error("Erreur lors du chargement de la comp\xE9tition:",i)}else if(r)try{let i=yield this.firestoreService.getMatchById(r);i?(i.heureDebut=new Date(i.heureDebut),this.matches.findIndex(s=>s.id===i.id)===-1&&(this.matches.push(i),this.saveData()),this.selectMatch(i),setTimeout(()=>{let s=document.querySelector(`[data-match-id="${i.id}"]`);s&&s.scrollIntoView({behavior:"smooth"})},100)):console.error("Match non trouv\xE9 dans Firestore")}catch(i){console.error("Erreur lors du chargement du match depuis Firestore:",i)}})}getButeurDisplay(e){let n=`\u26BD ${e.nom} (${e.minute}')`;return e.assist&&(n+=` (Assist: ${e.assist})`),n}saveMatchToFirestore(e){return w(this,null,function*(){try{let n=yield this.firestoreService.saveMatch(e);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",n),window.location.href=`/match/${n}`}catch(n){console.error("Erreur lors de l'enregistrement du match dans Firestore:",n)}})}closeCompetitionFilterModal(){this.showCompetitionFilterModal=!1}get uniqueCompetitions(){let e=this.matches.map(n=>n.competition).filter(n=>n!==void 0&&n!=="");return[...new Set(e)]}getCompetitionBadgeColor(e){let n=["badge-pastel-primary","badge-pastel-secondary","badge-pastel-success","badge-pastel-danger","badge-pastel-warning","badge-pastel-info","badge-pastel-dark","badge-pastel-purple","badge-pastel-pink","badge-pastel-teal"];if(t.competitionColors.has(e))return t.competitionColors.get(e);let r=e.split("").reduce((s,a)=>a.charCodeAt(0)+((s<<5)-s),0),i=Math.abs(r)%n.length,o=n[i];return t.competitionColors.set(e,o),o}exportMatches(){this.showExportModal=!0}closeExportModal(){this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1}}isExportFormatSelected(){return this.exportFormats.txt||this.exportFormats.csv||this.exportFormats.json}confirmExport(){return w(this,null,function*(){if(this.exportFormats.txt){let e=this.exportToTxt();this.downloadFile(e,"matches.txt")}if(this.exportFormats.csv){let e=this.exportToCsv();this.downloadFile(e,"matches.csv")}if(this.exportFormats.json){let e=this.exportToJson();this.downloadFile(e,"matches.json")}this.closeExportModal()})}exportToTxt(){return this.matches.map(e=>{let n=this.getGroupedScorers(e,1),r=this.getGroupedScorers(e,2);return`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${n.map(i=>`- ${i.nom}: ${i.minutes.join(", ")}'${i.assist?` (Assist: ${i.assist})`:""}`).join(`
`)}

${e.equipe2}:
${r.map(i=>`- ${i.nom}: ${i.minutes.join(", ")}'${i.assist?` (Assist: ${i.assist})`:""}`).join(`
`)}
----------------------------------------
`.trim()}).join(`

`)}exportToCsv(){let e=["\xC9quipe 1","\xC9quipe 2","Score 1","Score 2","Date","Lieu","Comp\xE9tition","Buteurs \xC9quipe 1","Buteurs \xC9quipe 2"],n=this.matches.map(r=>{let i=this.getGroupedScorers(r,1),o=this.getGroupedScorers(r,2);return[r.equipe1,r.equipe2,r.score1,r.score2,r.heureDebut.toLocaleString("fr-FR"),r.lieu||"",r.competition||"",i.map(s=>`${s.nom} (${s.minutes.join(", ")}'${s.assist?`, Assist: ${s.assist}`:""})`).join("; "),o.map(s=>`${s.nom} (${s.minutes.join(", ")}'${s.assist?`, Assist: ${s.assist}`:""})`).join("; ")].map(s=>`"${s}"`).join(",")});return[e.map(r=>`"${r}"`).join(","),...n].join(`
`)}exportToJson(){return JSON.stringify(this.matches.map(e=>J(P({},e),{heureDebut:e.heureDebut instanceof Date?e.heureDebut.toISOString():new Date().toISOString(),buteurs:e.buteurs.map(n=>J(P({},n),{assist:n.assist||null}))})),null,2)}downloadFile(e,n){let r=new Blob([e],{type:"text/plain"}),i=window.URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=n,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(i),document.body.removeChild(o)}importMatches(){let e=document.createElement("input");e.type="file",e.accept=".txt,.csv,.json",e.onchange=n=>{let r=n.target.files?.[0];if(r){let i=new FileReader;i.onload=o=>{let s=o.target?.result,a=r.name.split(".").pop()?.toLowerCase();try{let c=[];switch(a){case"txt":c=this.parseTxtImport(s);break;case"csv":c=this.parseCsvImport(s);break;case"json":c=this.parseJsonImport(s);break;default:throw new Error("Format de fichier non support\xE9")}c.length>0?confirm(`Voulez-vous importer ${c.length} match(s) ?`)&&(this.matches.push(...c),this.saveData(),alert("Import r\xE9ussi !")):alert("Aucun match trouv\xE9 dans le fichier.")}catch(c){console.error("Erreur lors de l'import:",c),alert("Erreur lors de l'import du fichier. V\xE9rifiez le format.")}},i.readAsText(r)}},e.click()}parseTxtImport(e){let n=[],r=e.split("----------------------------------------");for(let i of r){if(!i.trim())continue;let o=i.trim().split(`
`),s={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};for(let a of o)if(a.startsWith("Match : ")){let c=a.replace("Match : ","").split(" vs ");s.equipe1=c[0].trim(),s.equipe2=c[1].trim()}else if(a.startsWith("Score : ")){let c=a.replace("Score : ","").split(" - ");s.score1=parseInt(c[0]),s.score2=parseInt(c[1])}else if(a.startsWith("Date : "))s.heureDebut=new Date(a.replace("Date : ",""));else if(a.startsWith("Lieu : "))s.lieu=a.replace("Lieu : ","").trim();else if(a.startsWith("Comp\xE9tition : "))s.competition=a.replace("Comp\xE9tition : ","").trim();else if(a.includes(":")){let[c,l]=a.split(":"),u=c.replace("-","").trim(),d=l.match(/\d+/g),m=l.match(/\(Assist: (.*?)\)/);d&&d.forEach(_=>{s.buteurs?.push({nom:u,minute:parseInt(_),equipe:a.includes(s.equipe1)?1:2,assist:m?m[1]:void 0})})}s.equipe1&&s.equipe2&&n.push(s)}return n}parseCsvImport(e){let n=[],r=e.split(`
`),i=r[0].split(",").map(o=>o.replace(/"/g,"").trim());for(let o=1;o<r.length;o++){if(!r[o].trim())continue;let s=r[o].split(",").map(c=>c.replace(/"/g,"").trim()),a={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};i.forEach((c,l)=>{let u=s[l];switch(c){case"\xC9quipe 1":a.equipe1=u;break;case"\xC9quipe 2":a.equipe2=u;break;case"Score 1":a.score1=parseInt(u);break;case"Score 2":a.score2=parseInt(u);break;case"Date":a.heureDebut=new Date(u);break;case"Lieu":a.lieu=u;break;case"Comp\xE9tition":a.competition=u;break;case"Buteurs \xC9quipe 1":case"Buteurs \xC9quipe 2":let d=c==="Buteurs \xC9quipe 1"?1:2;u.split(";").map(_=>_.trim()).forEach(_=>{let[I,E]=_.split("("),C=E.match(/\d+/g),O=E.match(/Assist: (.*?)\)/);C&&C.forEach(ie=>{a.buteurs?.push({nom:I.trim(),minute:parseInt(ie),equipe:d,assist:O?O[1]:void 0})})});break}}),a.equipe1&&a.equipe2&&n.push(a)}return n}parseJsonImport(e){let n=JSON.parse(e);return Array.isArray(n)?n.map((r,i)=>J(P({},r),{id:this.matches.length+i+1,heureDebut:r.heureDebut?new Date(r.heureDebut):new Date,buteurs:r.buteurs||[]})):[]}getSortedMatches(){return this.filteredMatches.slice().sort((e,n)=>new Date(n.heureDebut).getTime()-new Date(e.heureDebut).getTime())}calculateRanking(e){let n=new Map;return this.matches.filter(i=>i.competition===e).forEach(i=>{[i.equipe1,i.equipe2].forEach(a=>{n.has(a)||n.set(a,{name:a,points:0,matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0})});let o=n.get(i.equipe1),s=n.get(i.equipe2);o.matches++,s.matches++,o.goalsFor+=i.score1,o.goalsAgainst+=i.score2,s.goalsFor+=i.score2,s.goalsAgainst+=i.score1,i.score1>i.score2?(o.wins++,o.points+=3,s.losses++):i.score1<i.score2?(s.wins++,s.points+=3,o.losses++):(o.draws++,s.draws++,o.points+=1,s.points+=1)}),n.forEach(i=>{i.goalDifference=i.goalsFor-i.goalsAgainst}),Array.from(n.values()).sort((i,o)=>o.points!==i.points?o.points-i.points:o.goalDifference!==i.goalDifference?o.goalDifference-i.goalDifference:o.goalsFor-i.goalsFor)}showRanking(){this.selectedCompetitionFilter?(this.currentRanking=this.calculateRanking(this.selectedCompetitionFilter),this.showRankingModal=!0):alert("Veuillez s\xE9lectionner une comp\xE9tition pour voir le classement")}closeRankingModal(){this.showRankingModal=!1}shareCompetition(){return w(this,null,function*(){if(!this.selectedCompetitionFilter){alert("Veuillez s\xE9lectionner une comp\xE9tition");return}this.isSharingCompetition=!0,this.sharingLogs=["Comp\xE9tition en cours de sauvegarde..."];try{let e=this.matches.filter(i=>i.competition===this.selectedCompetitionFilter);if(e.length===0){alert("Aucun match trouv\xE9 pour cette comp\xE9tition");return}let n=yield this.firestoreService.shareCompetition(this.selectedCompetitionFilter,e,i=>{this.sharingLogs.push(i)}),r=`
          Comp\xE9tition : ${this.selectedCompetitionFilter}
          Nombre de matchs : ${e.length}

          Matchs :
          ${e.map(i=>`
          ${i.equipe1} vs ${i.equipe2}
          Score : ${i.score1} - ${i.score2}
          Date : ${i.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          Lieu : ${i.lieu||"Non sp\xE9cifi\xE9"}
          ----------------------------------------`).join(`
`)}

          Lien vers la comp\xE9tition : ${window.location.origin}?competitionId=${n}
                `.trim();if(navigator.share)yield navigator.share({title:`Comp\xE9tition ${this.selectedCompetitionFilter}`,text:r,url:`${window.location.origin}?competitionId=${n}`});else{let i=document.createElement("textarea");i.value=r,document.body.appendChild(i),i.select();try{document.execCommand("copy"),alert("Informations de la comp\xE9tition copi\xE9es dans le presse-papiers !")}catch(o){console.error("Erreur lors de la copie:",o)}document.body.removeChild(i)}this.sharingLogs.push("Association des matchs en cours...");for(let i of e){let o=yield this.firestoreService.saveMatch(i);this.sharingLogs.push(`Match ${i.equipe1} vs ${i.equipe2} sauvegard\xE9`),yield this.firestoreService.addMatchToCompetition(n,o)}this.sharingLogs.push("Comp\xE9tition sauvegard\xE9e avec succ\xE8s !")}catch(e){console.error("Erreur lors de la sauvegarde ou du partage de la comp\xE9tition:",e),this.sharingLogs.push("Erreur lors de la sauvegarde de la comp\xE9tition"),alert("Une erreur est survenue lors de la sauvegarde ou du partage de la comp\xE9tition.")}finally{this.isSharingCompetition=!1}})}validateScore(e){return Math.max(0,e)}openEditPlayersModal(e){let n=this.teams.find(r=>r.name===e);n&&(this.teamToEdit=J(P({},n),{players:[...n.players]}),this.showEditPlayersModal=!0)}closeEditPlayersModal(){this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerName=""}addPlayer(){this.teamToEdit&&this.newPlayerName.trim()&&(this.teamToEdit.players.some(e=>e.name===this.newPlayerName.trim())||this.teamToEdit.players.push({name:this.newPlayerName.trim(),type:this.newPlayerType}),this.newPlayerName="",this.newPlayerType="milieu")}removePlayer(e){this.teamToEdit&&this.teamToEdit.players.splice(e,1)}savePlayersEdit(){if(this.teamToEdit){let e=this.teams.findIndex(n=>n.name===this.teamToEdit.name);e!==-1&&(this.teams[e].players=[...this.teamToEdit.players],this.saveData())}this.closeEditPlayersModal()}getPlayersSortedByGoals(){if(!this.teamToEdit)return[];let e={};for(let n of this.teamToEdit.players){e[n.name]=0;for(let r of this.matches)if(r.equipe1===this.teamToEdit.name||r.equipe2===this.teamToEdit.name){for(let i of r.buteurs)if(i.nom===n.name){let o=r.equipe1===this.teamToEdit.name&&i.equipe===1,s=r.equipe2===this.teamToEdit.name&&i.equipe===2;(o||s)&&e[n.name]++}}}return[...this.teamToEdit.players].sort((n,r)=>e[r.name]-e[n.name])}getGoalsForPlayer(e){if(!this.teamToEdit)return 0;let n=0;for(let r of this.matches)if(r.equipe1===this.teamToEdit.name||r.equipe2===this.teamToEdit.name){for(let i of r.buteurs)if(i.nom===e){let o=r.equipe1===this.teamToEdit.name&&i.equipe===1,s=r.equipe2===this.teamToEdit.name&&i.equipe===2;(o||s)&&n++}}return n}cyclePlayerType(e){e.type==="attaquant"?e.type="milieu":e.type==="milieu"?e.type="defenseur":e.type="attaquant"}cycleNewPlayerType(){this.newPlayerType==="attaquant"?this.newPlayerType="milieu":this.newPlayerType==="milieu"?this.newPlayerType="defenseur":this.newPlayerType="attaquant"}getPlayerGoalsDetails(e){let n=[];for(let r of this.matches)if(r.equipe1===this.teamToEdit?.name||r.equipe2===this.teamToEdit?.name)for(let i of r.buteurs)i.nom===e.name&&n.push({match:r,minute:i.minute});return n}openPlayerGoalsModal(e){this.selectedPlayerGoalsModal=e}closePlayerGoalsModal(){this.selectedPlayerGoalsModal=null}static{this.\u0275fac=function(n){return new(n||t)(B(tb),B(Ds))}}static{this.\u0275cmp=Co({type:t,selectors:[["app-root"]],standalone:!0,features:[xo],decls:32,vars:18,consts:[["equipe1Select",""],["equipe2Select",""],[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lead","text-muted","mb-0"],[1,"btn","btn-link","ms-2",3,"click"],[1,"fas","fa-question-circle","text-warning"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","btn mt-2",3,"ngClass","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","disabled","click",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","competitionFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","mt-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration","style","margin-top: -100px;",4,"ngIf"],["class","disposition-modal",4,"ngIf"],["class","modal fade show","tabindex","-1","style","display:block; background:rgba(0,0,0,0.5);",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-plus-circle","text-white"],[3,"hidden"],[1,"fas","fa-users","text-white"],[1,"btn","mt-2",3,"click","ngClass"],[1,"fas","fa-trophy","text-white"],[1,"text-white"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden"],[1,"fas","fa-list-ol"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden","disabled"],[1,"fas",3,"ngClass"],["tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",1,"score-modal"],["role","document",1,"modal-dialog","modal-body"],[1,"modal-content"],[1,"modal-header"],["id","teamFilterModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary","ms-2",3,"click","disabled"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],[1,"form-check-label",3,"for"],["tabindex","-1","aria-labelledby","competitionFilterModalLabel","aria-hidden","true",1,"score-modal"],["id","competitionFilterModalLabel",1,"modal-title"],["type","radio","id","allCompetitions",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allCompetitions",1,"form-check-label"],[1,"badge",3,"ngClass"],[1,"mt-4",3,"ngSubmit","formGroup"],[1,"row",2,"width","95%","margin","0 auto","padding","20px","border-radius","10px","background","linear-gradient(to top, rgba(0,0,0,0.1) 0%, transparent 70%)"],[1,"col-md-6"],[1,"mb-4","text-primary","text-center","fw-bold",2,"font-size","1.8rem","text-shadow","2px 2px 4px rgba(0,0,0,0.1)"],[1,"fas","fa-futbol","me-2"],[1,"mb-3"],["for","equipe1",1,"form-label"],["id","equipe1","formControlName","equipe1",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["value","new1"],["for","equipe2",1,"form-label"],["id","equipe2","formControlName","equipe2",1,"form-select",3,"change"],["value",""],["value","new2"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["for","competition",1,"form-label","text-muted"],["type","text","id","competition","formControlName","competition","placeholder","Championnat, tournoi, amical...",1,"form-control","form-control-sm"],[1,"d-flex","gap-2","ms-2"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[3,"value"],[1,"mt-4"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"match-details"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn","btn-primary",3,"click"],["class","match-scorers",4,"ngIf"],["class","match-actions d-flex gap-2 justify-content-center mt-3",4,"ngIf"],[1,"mx-2"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[4,"ngFor","ngForOf"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"minutes-list","right-team"],[1,"match-actions","d-flex","gap-2","justify-content-center","mt-3"],["title","Ajouter un but",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-futbol"],["title","Disposition tactique",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-tshirt"],["title","Modifier le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],["title","Partager le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click","disabled"],[1,"ms-1"],[1,"score-modal"],[1,"score-modal-content"],[1,"close-button",3,"click"],[2,"text-align","center"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center",3,"click"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"row"],[1,"col-sm-6"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],["class","player-selector",4,"ngIf"],[1,"mt-3"],[1,"d-flex","align-items-center","justify-content-center","gap-1"],["type","number","min","0","onkeypress","return event.charCode >= 48",1,"form-control","form-control-sm",2,"width","42px","text-align","center","padding","2px 4px",3,"ngModelChange","input","ngModel"],["tabindex","-1",1,"score-modal"],[1,"modal-dialog"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-5"],[1,"form-label","small"],["type","text","placeholder","Nom du buteur","formControlName","nom",1,"form-control"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control"],[1,"col-md-4"],["formControlName","equipe",1,"form-select"],[1,"col-md-12"],["formControlName","assist",1,"form-select"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],["class","fas fa-futbol me-1",4,"ngIf"],["class","fas fa-shield-alt me-1",4,"ngIf"],["class","fas fa-arrows-alt-h me-1",4,"ngIf"],[1,"fas","fa-futbol","me-1"],[1,"fas","fa-shield-alt","me-1"],[1,"fas","fa-arrows-alt-h","me-1"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2"],[1,"flex-grow-1"],[3,"ngClass"],[1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],[1,"match-edit-modal"],[1,"button-group","mt-3"],[1,"btn","btn-outline-danger",3,"click"],[1,"form-group"],["for","equipe1"],["id","equipe1","formControlName","equipe1","required","",1,"form-select",3,"change"],["value","new"],["for","equipe2"],["id","equipe2","formControlName","equipe2","required","",1,"form-select",3,"change"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["for","competition",1,"form-label"],["id","competition","formControlName","competition","placeholder","Championnat, tournoi, amical...",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"goal-celebration",2,"margin-top","-100px"],[1,"celebration-content",2,"width","300px"],[1,"goal-text",2,"transform","scale(1.5)"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],[1,"assist-section","mt-3"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"button-group","mt-2"],[1,"btn","btn-outline-danger","ms-2",3,"click"],[1,"dot"],[3,"value","disabled"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"],[1,"form-check","mb-2"],["type","checkbox","id","txtFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","txtFormat",1,"form-check-label"],["type","checkbox","id","csvFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","csvFormat",1,"form-check-label"],["type","checkbox","id","jsonFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","jsonFormat",1,"form-check-label"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-unstyled"],[1,"fas","fa-plus-circle","text-primary"],[1,"fas","fa-futbol","text-primary"],[1,"fas","fa-users","text-primary"],[1,"fas","fa-share-alt","text-primary"],[1,"fas","fa-download","text-primary"],[1,"fas","fa-upload","text-primary"],[1,"modal-dialog","modal-xl",2,"min-width","100%","margin-right","0"],[1,"modal-body","p-0"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[1,"px-1"],[1,"px-1",3,"ngClass"],["role","document",1,"modal-dialog"],[1,"list-group","mb-3"],["class","list-group-item d-flex flex-column align-items-start",4,"ngFor","ngForOf"],[1,"input-group"],["placeholder","Ajouter un joueur...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],["class","fas fa-futbol type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield-alt type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"list-group-item","d-flex","flex-column","align-items-start"],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["class","fas fa-futbol me-2 type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h me-2 type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield-alt me-2 type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],[1,"form-control","form-control-sm","me-2",2,"max-width","140px","display","inline-block",3,"ngModelChange","ngModel"],["class","badge bg-primary ms-2","style","cursor:pointer;",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],["title","Changer le type (Attaquant)",1,"fas","fa-futbol","me-2","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","me-2","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield-alt","me-2","type-icon","type-icon-clickable",3,"click"],[1,"badge","bg-primary","ms-2",2,"cursor","pointer",3,"click"],["title","Changer le type (Attaquant)",1,"fas","fa-futbol","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield-alt","type-icon","type-icon-clickable",3,"click"],["tabindex","-1",1,"modal","fade","show",2,"display","block","background","rgba(0,0,0,0.5)"],["type","button","aria-label","Fermer",1,"btn-close",3,"click"],["class","mb-2",4,"ngFor","ngForOf"],["class","small text-muted",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"mb-2"],[1,"fas","fa-calendar-alt","me-1"],[1,"ms-2"],[1,"fas","fa-stopwatch"],[1,"small","text-muted"]],template:function(n,r){n&1&&(f(0,"div",2)(1,"div",3)(2,"h2",4)(3,"span",5),g(4,"BUUUT"),p(),f(5,"span",6),g(6,".be"),p()(),f(7,"div",7)(8,"p",8),g(9,"Enregistrez maintenant tous vos buts!"),p(),f(10,"button",9),A("click",function(){return r.showHelpModal=!0}),S(11,"i",10),p()()(),f(12,"div",11),x(13,N$,4,1,"button",12)(14,O$,2,0,"button",12)(15,k$,4,2,"button",13)(16,F$,3,6,"button",14)(17,V$,3,8,"button",15)(18,j$,20,4,"div",16)(19,B$,18,3,"div",17),p(),x(20,H$,52,4,"form",18)(21,c3,4,1,"div",19)(22,M3,42,15,"div",20)(23,N3,42,3,"div",21)(24,F3,22,6,"div",22)(25,cq,91,43,"div",23)(26,lq,25,4,"div",20)(27,uq,44,0,"div",20)(28,hq,37,2,"div",20),p(),S(29,"router-outlet"),x(30,Iq,24,6,"div",20)(31,Dq,8,2,"div",24)),n&2&&(h(13),y("ngIf",!r.showMatchForm&&!r.showTeamFilterModal&&!r.showCompetitionFilterModal),h(),y("ngIf",!r.showMatchForm&&!r.showTeamFilterModal&&!r.showCompetitionFilterModal),h(),y("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),h(),y("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),h(),y("ngIf",!r.showCompetitionFilterModal&&!r.showTeamFilterModal&&!r.showMatchForm),h(),y("ngIf",r.showTeamFilterModal),h(),y("ngIf",r.showCompetitionFilterModal),h(),y("ngIf",r.showMatchForm),h(),y("ngIf",r.filteredMatches.length>0),h(),y("ngIf",r.selectedMatch&&r.showScoreForm),h(),y("ngIf",r.selectedMatch&&r.showMatchEditForm),h(),y("ngIf",r.showGoalCelebration),h(),y("ngIf",r.showDispositionModal&&r.selectedMatch),h(),y("ngIf",r.showExportModal),h(),y("ngIf",r.showHelpModal),h(),y("ngIf",r.showRankingModal),h(2),y("ngIf",r.showEditPlayersModal&&r.teamToEdit&&r.teamToEdit.players),h(),y("ngIf",r.selectedPlayerGoalsModal))},dependencies:[Qs,KE,gu,_u,yu,rb,WC,YC,ZC,Fu,Vm,Pm,Lu,Lm,jC,UC,Hm,qm,$m,jm,Um,nb,Fm,Yb,bg],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-2px)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #4b29b967}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{position:fixed;top:10px;left:0;width:100%;height:calc(100% - 10px);display:flex;justify-content:center;align-items:flex-start;z-index:1000;padding:0;overflow-y:auto}.score-modal-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1000px;margin:1.75rem auto;background:#fff;border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026;padding:1.5rem;outline:0;overflow-y:auto;animation:_ngcontent-%COMP%_fadeIn .3s}.modal-body[_ngcontent-%COMP%]{overflow-y:auto}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4b29b900}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.team-scorers[_ngcontent-%COMP%]{gap:1rem}.scorers-column[_ngcontent-%COMP%]{padding:0 .5rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:2px solid #3498db;width:99%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.buteur-team1[_ngcontent-%COMP%]{color:#3498db}.buteur-team2[_ngcontent-%COMP%]{color:#27ae60}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:90%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:0 1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#191137e6,#40327bcc);padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:8px;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:.5rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:1000px;width:98%;overflow-y:auto}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}.share-icon[_ngcontent-%COMP%]{color:#3498db;font-size:1.2em;margin-right:.5rem;transition:transform .3s ease;display:inline-block;transform:scaleX(-1)}.share-icon[_ngcontent-%COMP%]:hover{transform:scaleX(-1) scale(1.2);color:#2980b9}.badge-pastel-primary[_ngcontent-%COMP%]{background-color:#b3d1ff;color:#2c3e50}.badge-pastel-secondary[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#2c3e50}.badge-pastel-success[_ngcontent-%COMP%]{background-color:#b3ffb3;color:#2c3e50}.badge-pastel-danger[_ngcontent-%COMP%]{background-color:#ffb3b3;color:#2c3e50}.badge-pastel-warning[_ngcontent-%COMP%]{background-color:#ffe6b3;color:#2c3e50}.badge-pastel-info[_ngcontent-%COMP%]{background-color:#b3e6ff;color:#2c3e50}.badge-pastel-dark[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#2c3e50}.badge-pastel-purple[_ngcontent-%COMP%]{background-color:#e6b3ff;color:#2c3e50}.badge-pastel-pink[_ngcontent-%COMP%]{background-color:#ffb3e6;color:#2c3e50}.badge-pastel-teal[_ngcontent-%COMP%]{background-color:#b3ffe6;color:#2c3e50}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{font-size:1.3em;margin:0 .2em;cursor:pointer;color:#bbb;transition:color .2s,background .2s,border .2s;border-radius:50%;padding:.2em .3em}.type-icons[_ngcontent-%COMP%]   .type-icon.active-type[_ngcontent-%COMP%]{color:#fff;background:#3498db;border:2px solid #3498db}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]:hover{color:#3498db;background:#eaf6ff}.type-icon.type-icon-clickable[_ngcontent-%COMP%]{font-size:1em;color:#fff;background:#3498db;border:2px solid #3498db;border-radius:25%;padding:.25em .35em;margin-right:.5em;box-shadow:0 2px 8px #3498db40;cursor:pointer;transition:transform .1s,box-shadow .2s,background .2s;outline:2px solid #fff;outline-offset:2px}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:hover{background:#217dbb;color:#fff;box-shadow:0 4px 16px #3498db59;transform:scale(1.12) rotate(-8deg)}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:active{background:#176093;transform:scale(.95) rotate(4deg);box-shadow:0 2px 8px #3498db26}']})}};var tx=(()=>{class t{constructor(n){this.http=n,this.apiUrl="http://localhost:3000/api/matches"}createMatch(n){return this.http.post(this.apiUrl,n)}getAllMatches(){return this.http.get(this.apiUrl)}getMatchById(n){return this.http.get(`${this.apiUrl}/${n}`)}updateMatch(n,r){return this.http.put(`${this.apiUrl}/${n}`,r)}deleteMatch(n){return this.http.delete(`${this.apiUrl}/${n}`)}static{this.\u0275fac=function(r){return new(r||t)(j(vm))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Tq(t,e){if(t&1&&(f(0,"span"),g(1),p()),t&2){let n=v().$implicit;h(),H("(Assist: ",n.assist,")")}}function Sq(t,e){if(t&1&&(f(0,"div",5)(1,"p"),g(2),x(3,Tq,2,1,"span",6),p()()),t&2){let n=e.$implicit;h(2),On(" ",n.nom," (",n.minute,"') "),h(),y("ngIf",n.assist)}}function Aq(t,e){if(t&1&&(f(0,"div",1)(1,"h2"),g(2),p(),f(3,"div",2)(4,"p"),g(5),zs(6,"date"),p(),f(7,"p"),g(8),p(),f(9,"p"),g(10),p()(),f(11,"div",3)(12,"h3"),g(13,"Buteurs"),p(),x(14,Sq,4,3,"div",4),p()()),t&2){let n=v();h(2),On("",n.match.equipe1," vs ",n.match.equipe2,""),h(3),H("Date: ",Gs(6,7,n.match.heureDebut,"medium"),""),h(3),H("Lieu: ",n.match.lieu,""),h(2),On("Score: ",n.match.score1," - ",n.match.score2,""),h(4),y("ngForOf",n.match.buteurs)}}var nx=(()=>{class t{constructor(n,r){this.route=n,this.firestoreService=r,this.match=null}ngOnInit(){this.route.params.subscribe(n=>{let r=n.id;r&&this.loadMatch(r)})}loadMatch(n){return w(this,null,function*(){try{this.match=yield this.firestoreService.getMatchById(n)}catch(r){console.error("Erreur lors du chargement du match:",r)}})}static{this.\u0275fac=function(r){return new(r||t)(B(ar),B(Ds))}}static{this.\u0275cmp=Co({type:t,selectors:[["app-match-detail"]],standalone:!0,features:[xo],decls:1,vars:1,consts:[["class","match-detail",4,"ngIf"],[1,"match-detail"],[1,"match-info"],[1,"buteurs"],["class","buteur",4,"ngFor","ngForOf"],[1,"buteur"],[4,"ngIf"]],template:function(r,i){r&1&&x(0,Aq,15,10,"div",0),r&2&&y("ngIf",i.match)},dependencies:[Qs,gu,_u,yu],styles:[".match-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.match-info[_ngcontent-%COMP%]{margin:20px 0}.buteurs[_ngcontent-%COMP%]{margin-top:20px}.buteur[_ngcontent-%COMP%]{margin:10px 0}"]})}}return t})();var rx=[{path:"match/:id",component:nx}];var ix={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var ox={providers:[zb(rx),Ds,Cp(CD(()=>bD(ix.firebaseConfig)),QA(()=>YA()))]};hC(qh,{providers:[...ox.providers,iC(),tx]}).catch(t=>console.error(t));
