var gS=Object.defineProperty,_S=Object.defineProperties;var vS=Object.getOwnPropertyDescriptors;var xy=Object.getOwnPropertySymbols;var yS=Object.prototype.hasOwnProperty,wS=Object.prototype.propertyIsEnumerable;var Sy=(n,e,t)=>e in n?gS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M=(n,e)=>{for(var t in e||={})yS.call(e,t)&&Sy(n,t,e[t]);if(xy)for(var t of xy(e))wS.call(e,t)&&Sy(n,t,e[t]);return n},Y=(n,e)=>_S(n,vS(e));var I=(n,e,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(l){r(l)}},s=c=>{try{a(t.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Ay=null;var tf=1,nf=Symbol("SIGNAL");function ve(n){let e=Ay;return Ay=n,e}var My={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function CS(n){if(!(sf(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===tf)){if(!n.producerMustRecompute(n)&&!rf(n)){n.dirty=!1,n.lastCleanEpoch=tf;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=tf}}function Py(n){return n&&(n.nextProducerIndex=0),ve(n)}function Ry(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(sf(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)of(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function rf(n){jc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(CS(t),i!==t.version))return!0}return!1}function Ny(n){if(jc(n),sf(n))for(let e=0;e<n.producerNode.length;e++)of(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function of(n,e){if(bS(n),jc(n),n.liveConsumerNode.length===1)for(let i=0;i<n.producerNode.length;i++)of(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];jc(r),r.producerIndexOfThis[i]=e}}function sf(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function jc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function bS(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ES(){throw new Error}var IS=ES;function Oy(n){IS=n}function J(n){return typeof n=="function"}function eo(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Uc=eo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function rr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(J(i))try{i()}catch(o){e=o instanceof Uc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{ky(o)}catch(s){e=e??[],s instanceof Uc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Uc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ky(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&rr(t,e)}remove(e){let{_finalizers:t}=this;t&&rr(t,e),e instanceof n&&e._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();var af=$e.EMPTY;function Bc(n){return n instanceof $e||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function ky(n){J(n)?n():n.unsubscribe()}var mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var to={setTimeout(n,e,...t){let{delegate:i}=to;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=to;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function $c(n){to.setTimeout(()=>{let{onUnhandledError:e}=mn;if(e)e(n);else throw n})}function ks(){}var Fy=cf("C",void 0,void 0);function Vy(n){return cf("E",void 0,n)}function Ly(n){return cf("N",n,void 0)}function cf(n,e,t){return{kind:n,value:e,error:t}}var or=null;function no(n){if(mn.useDeprecatedSynchronousErrorHandling){let e=!or;if(e&&(or={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=or;if(or=null,t)throw i}}else n()}function jy(n){mn.useDeprecatedSynchronousErrorHandling&&or&&(or.errorThrown=!0,or.error=n)}var sr=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bc(e)&&e.add(this)):this.destination=xS}static create(e,t,i){return new io(e,t,i)}next(e){this.isStopped?uf(Ly(e),this):this._next(e)}error(e){this.isStopped?uf(Vy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?uf(Fy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TS=Function.prototype.bind;function lf(n,e){return TS.call(n,e)}var df=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){qc(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){qc(i)}else qc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){qc(t)}}},io=class extends sr{constructor(e,t,i){super();let r;if(J(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&lf(e.next,o),error:e.error&&lf(e.error,o),complete:e.complete&&lf(e.complete,o)}):r=e}this.destination=new df(r)}};function qc(n){mn.useDeprecatedSynchronousErrorHandling?jy(n):$c(n)}function DS(n){throw n}function uf(n,e){let{onStoppedNotification:t}=mn;t&&to.setTimeout(()=>t(n,e))}var xS={closed:!0,next:ks,error:DS,complete:ks};var ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(n){return n}function hf(...n){return ff(n)}function ff(n){return n.length===0?Lt:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=AS(t)?t:new io(t,i,r);return no(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Uy(i),new i((r,o)=>{let s=new io({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[ro](){return this}pipe(...t){return ff(t)(this)}toPromise(t){return t=Uy(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Uy(n){var e;return(e=n??mn.Promise)!==null&&e!==void 0?e:Promise}function SS(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}function AS(n){return n&&n instanceof sr||SS(n)&&Bc(n)}function pf(n){return J(n?.lift)}function de(n){return e=>{if(pf(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,e,t,i,r){return new mf(n,e,t,i,r)}var mf=class extends sr{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oo(){return de((n,e)=>{let t=null;n._refCount++;let i=se(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var so=class extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,pf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let t=this.getSubject();e.add(this.source.subscribe(se(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return oo()(this)}};var By=eo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wt=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Gc(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new By}next(t){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?af:(this.currentObservers=null,o.push(t),new $e(()=>{this.currentObservers=null,rr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new oe;return t.source=this,t}}return n.create=(e,t)=>new Gc(e,t),n})(),Gc=class extends wt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:af}};var ot=class extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var gf={now(){return(gf.delegate||Date).now()},delegate:void 0};var zc=class extends $e{constructor(e,t){super()}schedule(e,t=0){return this}};var Fs={setInterval(n,e,...t){let{delegate:i}=Fs;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Fs;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ao=class extends zc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Fs.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Fs.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,rr(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var co=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};co.now=gf.now;var lo=class extends co{constructor(e,t=co.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var _f=new lo(ao);var Hc=class extends ao{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Wc=class extends lo{};var vf=new Wc(Hc);var jt=new oe(n=>n.complete());function $y(n){return n&&J(n.schedule)}function qy(n){return n[n.length-1]}function Kc(n){return J(qy(n))?n.pop():void 0}function yi(n){return $y(qy(n))?n.pop():void 0}function yf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function zy(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(p){s(p)}}function c(u){try{l(i.throw(u))}catch(p){s(p)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}function Gy(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ar(n){return this instanceof ar?(this.v=n,this):new ar(n)}function Hy(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){i[y]&&(r[y]=function(x){return new Promise(function(A,F){o.push([y,x,A,F])>1||c(y,x)})},D&&(r[y]=D(r[y])))}function c(y,D){try{l(i[y](D))}catch(x){v(o[0][3],x)}}function l(y){y.value instanceof ar?Promise.resolve(y.value.v).then(u,p):v(o[0][2],y)}function u(y){c("next",y)}function p(y){c("throw",y)}function v(y,D){y(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Wy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Gy=="function"?Gy(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Qc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Yc(n){return J(n?.then)}function Jc(n){return J(n[ro])}function Zc(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function Xc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var el=MS();function tl(n){return J(n?.[el])}function nl(n){return Hy(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield ar(t.read());if(r)return yield ar(void 0);yield yield ar(i)}}finally{t.releaseLock()}})}function il(n){return J(n?.getReader)}function Ge(n){if(n instanceof oe)return n;if(n!=null){if(Jc(n))return PS(n);if(Qc(n))return RS(n);if(Yc(n))return NS(n);if(Zc(n))return Ky(n);if(tl(n))return OS(n);if(il(n))return kS(n)}throw Xc(n)}function PS(n){return new oe(e=>{let t=n[ro]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RS(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function NS(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,$c)})}function OS(n){return new oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Ky(n){return new oe(e=>{FS(n,e).catch(t=>e.error(t))})}function kS(n){return Ky(nl(n))}function FS(n,e){var t,i,r,o;return zy(this,void 0,void 0,function*(){try{for(t=Wy(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function St(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function wi(n,e=0){return de((t,i)=>{t.subscribe(se(i,r=>St(i,n,()=>i.next(r),e),()=>St(i,n,()=>i.complete(),e),r=>St(i,n,()=>i.error(r),e)))})}function Ci(n,e=0){return de((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Qy(n,e){return Ge(n).pipe(Ci(e),wi(e))}function Yy(n,e){return Ge(n).pipe(Ci(e),wi(e))}function Jy(n,e){return new oe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function Zy(n,e){return new oe(t=>{let i;return St(t,e,()=>{i=n[el](),St(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>J(i?.return)&&i.return()})}function rl(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{St(t,e,()=>{let i=n[Symbol.asyncIterator]();St(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Xy(n,e){return rl(nl(n),e)}function ew(n,e){if(n!=null){if(Jc(n))return Qy(n,e);if(Qc(n))return Jy(n,e);if(Yc(n))return Yy(n,e);if(Zc(n))return rl(n,e);if(tl(n))return Zy(n,e);if(il(n))return Xy(n,e)}throw Xc(n)}function ke(n,e){return e?ew(n,e):Ge(n)}function H(...n){let e=yi(n);return ke(n,e)}function uo(n,e){let t=J(n)?n:()=>n,i=r=>r.error(t());return new oe(e?r=>e.schedule(i,0,r):i)}function wf(n){return!!n&&(n instanceof oe||J(n.lift)&&J(n.subscribe))}var Jn=eo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return de((t,i)=>{let r=0;t.subscribe(se(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:VS}=Array;function LS(n,e){return VS(e)?n(...e):n(e)}function ol(n){return ee(e=>LS(n,e))}var{isArray:jS}=Array,{getPrototypeOf:US,prototype:BS,keys:$S}=Object;function sl(n){if(n.length===1){let e=n[0];if(jS(e))return{args:e,keys:null};if(qS(e)){let t=$S(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function qS(n){return n&&typeof n=="object"&&US(n)===BS}function al(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Vs(...n){let e=yi(n),t=Kc(n),{args:i,keys:r}=sl(n);if(i.length===0)return ke([],e);let o=new oe(GS(i,e,r?s=>al(r,s):Lt));return t?o.pipe(ol(t)):o}function GS(n,e,t=Lt){return i=>{tw(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)tw(e,()=>{let l=ke(n[c],e),u=!1;l.subscribe(se(i,p=>{o[c]=p,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function tw(n,e,t){n?St(t,n,e):e()}function nw(n,e,t,i,r,o,s,a){let c=[],l=0,u=0,p=!1,v=()=>{p&&!c.length&&!l&&e.complete()},y=x=>l<i?D(x):c.push(x),D=x=>{o&&e.next(x),l++;let A=!1;Ge(t(x,u++)).subscribe(se(e,F=>{r?.(F),o?y(F):e.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<i;){let F=c.shift();s?St(e,s,()=>D(F)):D(F)}v()}catch(F){e.error(F)}}))};return n.subscribe(se(e,y,()=>{p=!0,v()})),()=>{a?.()}}function ze(n,e,t=1/0){return J(e)?ze((i,r)=>ee((o,s)=>e(i,o,r,s))(Ge(n(i,r))),t):(typeof e=="number"&&(t=e),de((i,r)=>nw(i,r,n,t)))}function ho(n=1/0){return ze(Lt,n)}function iw(){return ho(1)}function fo(...n){return iw()(ke(n,yi(n)))}function cl(n){return new oe(e=>{Ge(n()).subscribe(e)})}function Cf(...n){let e=Kc(n),{args:t,keys:i}=sl(n),r=new oe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let p=!1;Ge(t[u]).subscribe(se(o,v=>{p||(p=!0,l--),a[u]=v},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(i?al(i,a):a),o.complete())}))}});return e?r.pipe(ol(e)):r}function At(n,e){return de((t,i)=>{let r=0;t.subscribe(se(i,o=>n.call(e,o,r++)&&i.next(o)))})}function bi(n){return de((e,t)=>{let i=null,r=!1,o;i=e.subscribe(se(t,void 0,void 0,s=>{o=Ge(n(s,bi(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function rw(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(se(s,u=>{let p=l++;c=a?n(c,u,p):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Zn(n,e){return J(e)?ze(n,e,1):ze(n,1)}function Ei(n){return de((e,t)=>{let i=!1;e.subscribe(se(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Xn(n){return n<=0?()=>jt:de((e,t)=>{let i=0;e.subscribe(se(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function bf(n){return ee(()=>n)}function ll(n=zS){return de((e,t)=>{let i=!1;e.subscribe(se(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function zS(){return new Jn}function cr(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Mn(n,e){let t=arguments.length>=2;return i=>i.pipe(n?At((r,o)=>n(r,o,i)):Lt,Xn(1),t?Ei(e):ll(()=>new Jn))}function po(n){return n<=0?()=>jt:de((e,t)=>{let i=[];e.subscribe(se(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ef(n,e){let t=arguments.length>=2;return i=>i.pipe(n?At((r,o)=>n(r,o,i)):Lt,po(1),t?Ei(e):ll(()=>new Jn))}function If(n,e){return de(rw(n,e,arguments.length>=2,!0))}function Tf(...n){let e=yi(n);return de((t,i)=>{(e?fo(n,t,e):fo(n,t)).subscribe(i)})}function Mt(n,e){return de((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(se(i,c=>{r?.unsubscribe();let l=0,u=o++;Ge(n(c,u)).subscribe(r=se(i,p=>i.next(e?e(c,p,u,l++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Df(n){return de((e,t)=>{Ge(n).subscribe(se(t,()=>t.complete(),ks)),!t.closed&&e.subscribe(t)})}function He(n,e,t){let i=J(n)||e||t?{next:n,error:e,complete:t}:n;return i?de((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(se(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Lt}var HS="https://g.co/ng/security#xss",$=class extends Error{constructor(e,t){super(jl(e,t)),this.code=e}};function jl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ys(n){return{toString:n}.toString()}var ul="__parameters__";function WS(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function $w(n,e,t){return Ys(()=>{let i=WS(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let p=c.hasOwnProperty(ul)?c[ul]:Object.defineProperty(c,ul,{value:[]})[ul];for(;p.length<=u;)p.push(null);return(p[u]=p[u]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var ei=globalThis;function Me(n){for(let e in n)if(n[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function KS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function bt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(bt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function ow(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var QS=Me({__forward_ref__:Me});function Et(n){return n.__forward_ref__=Et,n.toString=function(){return bt(this())},n}function Ct(n){return qw(n)?n():n}function qw(n){return typeof n=="function"&&n.hasOwnProperty(QS)&&n.__forward_ref__===Et}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ul(n){return sw(n,zw)||sw(n,Hw)}function Gw(n){return Ul(n)!==null}function sw(n,e){return n.hasOwnProperty(e)?n[e]:null}function YS(n){let e=n&&(n[zw]||n[Hw]);return e||null}function aw(n){return n&&(n.hasOwnProperty(cw)||n.hasOwnProperty(JS))?n[cw]:null}var zw=Me({\u0275prov:Me}),cw=Me({\u0275inj:Me}),Hw=Me({ngInjectableDef:Me}),JS=Me({ngInjectorDef:Me}),U=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ww(n){return n&&!!n.\u0275providers}var ZS=Me({\u0275cmp:Me}),XS=Me({\u0275dir:Me}),eA=Me({\u0275pipe:Me}),tA=Me({\u0275mod:Me}),vl=Me({\u0275fac:Me}),Ls=Me({__NG_ELEMENT_ID__:Me}),lw=Me({__NG_ENV_ID__:Me});function Yt(n){return typeof n=="string"?n:n==null?"":String(n)}function nA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Yt(n)}function iA(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new $(-200,n)}function Mp(n,e){throw new $(-201,!1)}var ie=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ie||{}),qf;function Kw(){return qf}function Pt(n){let e=qf;return qf=n,e}function Qw(n,e,t){let i=Ul(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&ie.Optional)return null;if(e!==void 0)return e;Mp(n,"Injector")}var rA={},js=rA,Gf="__NG_DI_FLAG__",yl="ngTempTokenPath",oA="ngTokenPath",sA=/\n/gm,aA="\u0275",uw="__source",yo;function cA(){return yo}function Ii(n){let e=yo;return yo=n,e}function lA(n,e=ie.Default){if(yo===void 0)throw new $(-203,!1);return yo===null?Qw(n,void 0,e):yo.get(n,e&ie.Optional?null:void 0,e)}function B(n,e=ie.Default){return(Kw()||lA)(Ct(n),e)}function N(n,e=ie.Default){return B(n,Bl(e))}function Bl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function zf(n){let e=[];for(let t=0;t<n.length;t++){let i=Ct(n[t]);if(Array.isArray(i)){if(i.length===0)throw new $(900,!1);let r,o=ie.Default;for(let s=0;s<i.length;s++){let a=i[s],c=uA(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(B(r,o))}else e.push(B(i))}return e}function Yw(n,e){return n[Gf]=e,n.prototype[Gf]=e,n}function uA(n){return n[Gf]}function dA(n,e,t,i){let r=n[yl];throw e[uw]&&r.unshift(e[uw]),n.message=hA(`
`+n.message,r,t,i),n[oA]=r,n[yl]=null,n}function hA(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==aA?n.slice(2):n;let r=bt(e);if(Array.isArray(e))r=e.map(bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):bt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(sA,`
  `)}`}var en=Yw($w("Optional"),8);var Pp=Yw($w("SkipSelf"),4);function hr(n,e){let t=n.hasOwnProperty(vl);return t?n[vl]:null}function Rp(n,e){n.forEach(t=>Array.isArray(t)?Rp(t,e):e(t))}function Jw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function fA(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function pA(n,e,t){let i=Js(n,e);return i>=0?n[i|1]=t:(i=~i,fA(n,i,e,t)),i}function xf(n,e){let t=Js(n,e);if(t>=0)return n[t|1]}function Js(n,e){return mA(n,e,1)}function mA(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var Co={},Jt=[],bo=new U(""),Zw=new U("",-1),Xw=new U(""),Cl=class{get(e,t=js){if(t===js){let i=new Error(`NullInjectorError: No provider for ${bt(e)}!`);throw i.name="NullInjectorError",i}return t}},eC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(eC||{}),Nn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Nn||{}),st=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(st||{});function gA(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Hf(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];vA(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function _A(n){return n===3||n===4||n===6}function vA(n){return n.charCodeAt(0)===64}function Us(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?dw(n,t,r,null,e[++i]):dw(n,t,r,null,null))}}return n}function dw(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var tC="ng-template";function yA(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&gA(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Np(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Np(n){return n.type===4&&n.value!==tC}function wA(n,e,t){let i=n.type===4&&!t?tC:n.value;return e===i}function CA(n,e,t){let i=4,r=n.attrs,o=r!==null?IA(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!gn(i)&&!gn(c))return!1;if(s&&gn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!wA(n,c,t)||c===""&&e.length===1){if(gn(i))return!1;s=!0}}else if(i&8){if(r===null||!yA(n,r,c,t)){if(gn(i))return!1;s=!0}}else{let l=e[++a],u=bA(c,r,Np(n),t);if(u===-1){if(gn(i))return!1;s=!0;continue}if(l!==""){let p;if(u>o?p="":p=r[u+1].toLowerCase(),i&2&&l!==p){if(gn(i))return!1;s=!0}}}}return gn(i)||s}function gn(n){return(n&1)===0}function bA(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return TA(e,n)}function EA(n,e,t=!1){for(let i=0;i<e.length;i++)if(CA(n,e[i],t))return!0;return!1}function IA(n){for(let e=0;e<n.length;e++){let t=n[e];if(_A(t))return e}return n.length}function TA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function hw(n,e){return n?":not("+e.trim()+")":e}function DA(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!gn(s)&&(e+=hw(o,r),r=""),i=s,o=o||!gn(i);t++}return r!==""&&(e+=hw(o,r)),e}function xA(n){return n.map(DA).join(",")}function SA(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!gn(r))break;r=o}i++}return{attrs:e,classes:t}}function Mi(n){return Ys(()=>{let e=sC(n),t=Y(M({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===eC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Nn.Emulated,styles:n.styles||Jt,_:null,schemas:n.schemas||null,tView:null,id:""});aC(t);let i=n.dependencies;return t.directiveDefs=pw(i,!1),t.pipeDefs=pw(i,!0),t.id=PA(t),t})}function AA(n){return Di(n)||nC(n)}function MA(n){return n!==null}function Nt(n){return Ys(()=>({type:n.type,bootstrap:n.bootstrap||Jt,declarations:n.declarations||Jt,imports:n.imports||Jt,exports:n.exports||Jt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function fw(n,e){if(n==null)return Co;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=st.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==st.None?[i,a]:i,e[o]=s):t[o]=i}return t}function Pe(n){return Ys(()=>{let e=sC(n);return aC(e),e})}function Op(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Di(n){return n[ZS]||null}function nC(n){return n[XS]||null}function iC(n){return n[eA]||null}function rC(n){let e=Di(n)||nC(n)||iC(n);return e!==null?e.standalone:!1}function oC(n,e){let t=n[tA]||null;if(!t&&e===!0)throw new Error(`Type ${bt(n)} does not have '\u0275mod' property.`);return t}function sC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Co,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Jt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fw(n.inputs,e),outputs:fw(n.outputs),debugInfo:null}}function aC(n){n.features?.forEach(e=>e(n))}function pw(n,e){if(!n)return null;let t=e?iC:AA;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(MA)}function PA(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Mo(n){return{\u0275providers:n}}function kp(...n){return{\u0275providers:cC(!0,n),\u0275fromNgModule:!0}}function cC(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return Rp(e,s=>{let a=s;Wf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&lC(r,o),t}function lC(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Fp(r,o=>{e(o,i)})}}function Wf(n,e,t,i){if(n=Ct(n),!n)return!1;let r=null,o=aw(n),s=!o&&Di(n);if(!o&&!s){let c=n.ngModule;if(o=aw(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Wf(l,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{Rp(o.imports,u=>{Wf(u,e,t,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&lC(l,e)}if(!a){let l=hr(r)||(()=>new r);e({provide:r,useFactory:l,deps:Jt},r),e({provide:Xw,useValue:r,multi:!0},r),e({provide:bo,useValue:()=>B(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=n;Fp(c,u=>{e(u,l)})}}else return!1;return r!==n&&n.providers!==void 0}function Fp(n,e){for(let t of n)Ww(t)&&(t=t.\u0275providers),Array.isArray(t)?Fp(t,e):e(t)}var RA=Me({provide:String,useValue:Me});function uC(n){return n!==null&&typeof n=="object"&&RA in n}function NA(n){return!!(n&&n.useExisting)}function OA(n){return!!(n&&n.useFactory)}function Eo(n){return typeof n=="function"}function kA(n){return!!n.useClass}var $l=new U(""),fl={},FA={},Sf;function Vp(){return Sf===void 0&&(Sf=new Cl),Sf}var ht=class{},Bs=class extends ht{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qf(e,s=>this.processProvider(s)),this.records.set(Zw,mo(void 0,this)),r.has("environment")&&this.records.set(ht,mo(void 0,this));let o=this.records.get($l);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xw,Jt,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Ii(this),i=Pt(void 0),r;try{return e()}finally{Ii(t),Pt(i)}}get(e,t=js,i=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lw))return e[lw](this);i=Bl(i);let r,o=Ii(this),s=Pt(void 0);try{if(!(i&ie.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=BA(e)&&Ul(e);l&&this.injectableDefInScope(l)?c=mo(Kf(e),fl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&ie.Self?Vp():this.parent;return t=i&ie.Optional&&t===js?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[yl]=a[yl]||[]).unshift(bt(e)),o)throw a;return dA(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(s),Ii(o)}}resolveInjectorInitializers(){let e=ve(null),t=Ii(this),i=Pt(void 0),r;try{let o=this.get(bo,Jt,ie.Self);for(let s of o)s()}finally{Ii(t),Pt(i),ve(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(bt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=Ct(e);let t=Eo(e)?e:Ct(e&&e.provide),i=LA(e);if(!Eo(e)&&e.multi===!0){let r=this.records.get(t);r||(r=mo(void 0,fl,!0),r.factory=()=>zf(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=ve(null);try{return t.value===fl&&(t.value=FA,t.value=t.factory()),typeof t.value=="object"&&t.value&&UA(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Kf(n){let e=Ul(n),t=e!==null?e.factory:hr(n);if(t!==null)return t;if(n instanceof U)throw new $(204,!1);if(n instanceof Function)return VA(n);throw new $(204,!1)}function VA(n){if(n.length>0)throw new $(204,!1);let t=YS(n);return t!==null?()=>t.factory(n):()=>new n}function LA(n){if(uC(n))return mo(void 0,n.useValue);{let e=dC(n);return mo(e,fl)}}function dC(n,e,t){let i;if(Eo(n)){let r=Ct(n);return hr(r)||Kf(r)}else if(uC(n))i=()=>Ct(n.useValue);else if(OA(n))i=()=>n.useFactory(...zf(n.deps||[]));else if(NA(n))i=()=>B(Ct(n.useExisting));else{let r=Ct(n&&(n.useClass||n.provide));if(jA(n))i=()=>new r(...zf(n.deps));else return hr(r)||Kf(r)}return i}function mo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jA(n){return!!n.deps}function UA(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function BA(n){return typeof n=="function"||typeof n=="object"&&n instanceof U}function Qf(n,e){for(let t of n)Array.isArray(t)?Qf(t,e):t&&Ww(t)?Qf(t.\u0275providers,e):e(t)}function yn(n,e){n instanceof Bs&&n.assertNotDestroyed();let t,i=Ii(n),r=Pt(void 0);try{return e()}finally{Ii(i),Pt(r)}}function hC(){return Kw()!==void 0||cA()!=null}function $A(n){if(!hC())throw new $(-203,!1)}function qA(n){return typeof n=="function"}var ri=0,ae=1,K=2,ft=3,_n=4,wn=5,bl=6,$s=7,vn=8,Io=9,On=10,We=11,qs=12,mw=13,Po=14,kn=15,ql=16,go=17,To=18,Gl=19,fC=20,Ti=21,Af=22,fr=23,Xt=25,pC=1;var pr=7,El=8,Il=9,Zt=10,Lp=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Lp||{});function ur(n){return Array.isArray(n)&&typeof n[pC]=="object"}function oi(n){return Array.isArray(n)&&n[pC]===!0}function jp(n){return(n.flags&4)!==0}function zl(n){return n.componentOffset>-1}function Hl(n){return(n.flags&1)===1}function xi(n){return!!n.template}function GA(n){return(n[K]&512)!==0}var Yf=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function mC(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function si(){return gC}function gC(n){return n.type.prototype.ngOnChanges&&(n.setInput=HA),zA}si.ngInherit=!0;function zA(){let n=vC(this),e=n?.current;if(e){let t=n.previous;if(t===Co)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function HA(n,e,t,i,r){let o=this.declaredInputs[i],s=vC(n)||WA(n,{previous:Co,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Yf(l&&l.currentValue,t,c===Co),mC(n,e,r,t)}var _C="__ngSimpleChanges__";function vC(n){return n[_C]||null}function WA(n,e){return n[_C]=e}var gw=null;var Pn=function(n,e,t){gw?.(n,e,t)},KA="svg",QA="math",YA=!1;function JA(){return YA}function Fn(n){for(;Array.isArray(n);)n=n[ri];return n}function yC(n,e){return Fn(e[n])}function tn(n,e){return Fn(e[n.index])}function wC(n,e){return n.data[e]}function CC(n,e){return n[e]}function Pi(n,e){let t=e[n];return ur(t)?t:t[ri]}function Up(n){return(n[K]&128)===128}function ZA(n){return oi(n[ft])}function Do(n,e){return e==null?null:n[e]}function bC(n){n[go]=0}function XA(n){n[K]&1024||(n[K]|=1024,Up(n)&&Gs(n))}function eM(n,e){for(;n>0;)e=e[Po],n--;return e}function Bp(n){return!!(n[K]&9216||n[fr]?.dirty)}function Jf(n){n[On].changeDetectionScheduler?.notify(1),Bp(n)?Gs(n):n[K]&64&&(JA()?(n[K]|=1024,Gs(n)):n[On].changeDetectionScheduler?.notify())}function Gs(n){n[On].changeDetectionScheduler?.notify();let e=zs(n);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Up(e)));)e=zs(e)}function EC(n,e){if((n[K]&256)===256)throw new $(911,!1);n[Ti]===null&&(n[Ti]=[]),n[Ti].push(e)}function tM(n,e){if(n[Ti]===null)return;let t=n[Ti].indexOf(e);t!==-1&&n[Ti].splice(t,1)}function zs(n){let e=n[ft];return oi(e)?e[ft]:e}var re={lFrame:MC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nM(){return re.lFrame.elementDepthCount}function iM(){re.lFrame.elementDepthCount++}function rM(){re.lFrame.elementDepthCount--}function IC(){return re.bindingsEnabled}function oM(){return re.skipHydrationRootTNode!==null}function sM(n){return re.skipHydrationRootTNode===n}function aM(){re.skipHydrationRootTNode=null}function he(){return re.lFrame.lView}function pt(){return re.lFrame.tView}function w(n){return re.lFrame.contextLView=n,n[vn]}function C(n){return re.lFrame.contextLView=null,n}function Ot(){let n=TC();for(;n!==null&&n.type===64;)n=n.parent;return n}function TC(){return re.lFrame.currentTNode}function cM(){let n=re.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function yr(n,e){let t=re.lFrame;t.currentTNode=n,t.isParent=e}function $p(){return re.lFrame.isParent}function DC(){re.lFrame.isParent=!1}function Zs(){let n=re.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function qp(){return re.lFrame.bindingIndex}function lM(n){return re.lFrame.bindingIndex=n}function Wl(){return re.lFrame.bindingIndex++}function Kl(n){let e=re.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function uM(){return re.lFrame.inI18n}function dM(n,e){let t=re.lFrame;t.bindingIndex=t.bindingRootIndex=n,Zf(e)}function hM(){return re.lFrame.currentDirectiveIndex}function Zf(n){re.lFrame.currentDirectiveIndex=n}function fM(n){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function xC(n){re.lFrame.currentQueryIndex=n}function pM(n){let e=n[ae];return e.type===2?e.declTNode:e.type===1?n[wn]:null}function SC(n,e,t){if(t&ie.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&ie.Host);)if(r=pM(o),r===null||(o=o[Po],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=re.lFrame=AC();return i.currentTNode=e,i.lView=n,!0}function Gp(n){let e=AC(),t=n[ae];re.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function AC(){let n=re.lFrame,e=n===null?null:n.child;return e===null?MC(n):e}function MC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function PC(){let n=re.lFrame;return re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var RC=PC;function zp(){let n=PC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mM(n){return(re.lFrame.contextLView=eM(n,re.lFrame.contextLView))[vn]}function ai(){return re.lFrame.selectedIndex}function mr(n){re.lFrame.selectedIndex=n}function Hp(){let n=re.lFrame;return wC(n.tView,n.selectedIndex)}function gM(){return re.lFrame.currentNamespace}var NC=!0;function Ql(){return NC}function Yl(n){NC=n}function _M(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=gC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Jl(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function pl(n,e,t){OC(n,e,3,t)}function ml(n,e,t,i){(n[K]&3)===t&&OC(n,e,t,i)}function Mf(n,e){let t=n[K];(t&3)===e&&(t&=16383,t+=1,n[K]=t)}function OC(n,e,t,i){let r=i!==void 0?n[go]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[go]+=65536),(a<o||o==-1)&&(vM(n,t,e,c),n[go]=(n[go]&4294901760)+c+2),c++}function _w(n,e){Pn(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),Pn(5,n,e)}}function vM(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[K]>>14<n[go]>>16&&(n[K]&3)===e&&(n[K]+=16384,_w(a,o)):_w(a,o)}var wo=-1,gr=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function yM(n){return n instanceof gr}function wM(n){return(n.flags&8)!==0}function CM(n){return(n.flags&16)!==0}function kC(n){return n!==wo}function Tl(n){return n&32767}function bM(n){return n>>16}function Dl(n,e){let t=bM(n),i=e;for(;t>0;)i=i[Po],t--;return i}var Xf=!0;function xl(n){let e=Xf;return Xf=n,e}var EM=256,FC=EM-1,VC=5,IM=0,Rn={};function TM(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ls)&&(i=t[Ls]),i==null&&(i=t[Ls]=IM++);let r=i&FC,o=1<<r;e.data[n+(r>>VC)]|=o}function Sl(n,e){let t=LC(n,e);if(t!==-1)return t;let i=e[ae];i.firstCreatePass&&(n.injectorIndex=e.length,Pf(i.data,n),Pf(e,null),Pf(i.blueprint,null));let r=Wp(n,e),o=n.injectorIndex;if(kC(r)){let s=Tl(r),a=Dl(r,e),c=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Pf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function LC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Wp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=qC(r),i===null)return wo;if(t++,r=r[Po],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return wo}function ep(n,e,t){TM(n,e,t)}function jC(n,e,t){if(t&ie.Optional||n!==void 0)return n;Mp(e,"NodeInjector")}function UC(n,e,t,i){if(t&ie.Optional&&i===void 0&&(i=null),!(t&(ie.Self|ie.Host))){let r=n[Io],o=Pt(void 0);try{return r?r.get(e,i,t&ie.Optional):Qw(e,i,t&ie.Optional)}finally{Pt(o)}}return jC(i,e,t)}function BC(n,e,t,i=ie.Default,r){if(n!==null){if(e[K]&2048&&!(i&ie.Self)){let s=MM(n,e,t,i,Rn);if(s!==Rn)return s}let o=$C(n,e,t,i,Rn);if(o!==Rn)return o}return UC(e,t,i,r)}function $C(n,e,t,i,r){let o=SM(t);if(typeof o=="function"){if(!SC(e,n,i))return i&ie.Host?jC(r,t,i):UC(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&ie.Optional))Mp(t);else return s}finally{RC()}}else if(typeof o=="number"){let s=null,a=LC(n,e),c=wo,l=i&ie.Host?e[kn][wn]:null;for((a===-1||i&ie.SkipSelf)&&(c=a===-1?Wp(n,e):e[a+8],c===wo||!yw(i,!1)?a=-1:(s=e[ae],a=Tl(c),e=Dl(c,e)));a!==-1;){let u=e[ae];if(vw(o,a,u.data)){let p=DM(a,e,t,s,i,l);if(p!==Rn)return p}c=e[a+8],c!==wo&&yw(i,e[ae].data[a+8]===l)&&vw(o,a,e)?(s=u,a=Tl(c),e=Dl(c,e)):a=-1}}return r}function DM(n,e,t,i,r,o){let s=e[ae],a=s.data[n+8],c=i==null?zl(a)&&Xf:i!=s&&(a.type&3)!==0,l=r&ie.Host&&o===a,u=xM(a,s,t,c,l);return u!==null?xo(e,s,u,a):Rn}function xM(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,p=i?a:a+u,v=r?a+u:l;for(let y=p;y<v;y++){let D=s[y];if(y<c&&t===D||y>=c&&D.type===t)return y}if(r){let y=s[c];if(y&&xi(y)&&y.type===t)return c}return null}function xo(n,e,t,i){let r=n[t],o=e.data;if(yM(r)){let s=r;s.resolving&&iA(nA(o[t]));let a=xl(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Pt(s.injectImpl):null,u=SC(n,i,ie.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&_M(t,o[t],e)}finally{l!==null&&Pt(l),xl(a),s.resolving=!1,RC()}}return r}function SM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ls)?n[Ls]:void 0;return typeof e=="number"?e>=0?e&FC:AM:e}function vw(n,e,t){let i=1<<n;return!!(t[e+(n>>VC)]&i)}function yw(n,e){return!(n&ie.Self)&&!(n&ie.Host&&e)}var dr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return BC(this._tNode,this._lView,e,Bl(i),t)}};function AM(){return new dr(Ot(),he())}function nn(n){return Ys(()=>{let e=n.prototype.constructor,t=e[vl]||tp(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[vl]||tp(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function tp(n){return qw(n)?()=>{let e=tp(Ct(n));return e&&e()}:hr(n)}function MM(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let a=$C(o,s,t,i|ie.Self,Rn);if(a!==Rn)return a;let c=o.parent;if(!c){let l=s[fC];if(l){let u=l.get(t,Rn,i);if(u!==Rn)return u}c=qC(s),s=s[Po]}o=c}return r}function qC(n){let e=n[ae],t=e.type;return t===2?e.declTNode:t===1?n[wn]:null}function ww(n,e=null,t=null,i){let r=GC(n,e,t,i);return r.resolveInjectorInitializers(),r}function GC(n,e=null,t=null,i,r=new Set){let o=[t||Jt,kp(n)];return i=i||(typeof n=="object"?void 0:bt(n)),new Bs(o,e||Vp(),i||null,r)}var kt=(()=>{class n{static{this.THROW_IF_NOT_FOUND=js}static{this.NULL=new Cl}static create(t,i){if(Array.isArray(t))return ww({name:""},i,t,"");{let r=t.name??"";return ww({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=j({token:n,providedIn:"any",factory:()=>B(Zw)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var PM="ngOriginalError";function Rf(n){return n[PM]}var Vn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Rf(e);for(;t&&Rf(t);)t=Rf(t);return t||null}},zC=new U("",{providedIn:"root",factory:()=>N(Vn).handleError.bind(void 0)}),Kp=(()=>{class n{static{this.__NG_ELEMENT_ID__=RM}static{this.__NG_ENV_ID__=t=>t}}return n})(),np=class extends Kp{constructor(e){super(),this._lView=e}onDestroy(e){return EC(this._lView,e),()=>tM(this._lView,e)}};function RM(){return new np(he())}function NM(){return Zl(Ot(),he())}function Zl(n,e){return new Cn(tn(n,e))}var Cn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=NM}}return n})();var ip=class extends wt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,hC()&&(this.destroyRef=N(Kp,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Nf(o),r&&(r=Nf(r)),s&&(s=Nf(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof $e&&e.add(a),a}};function Nf(n){return e=>{setTimeout(n,void 0,e)}}var Fe=ip;function HC(n){return(n.flags&128)===128}var WC=new Map,OM=0;function kM(){return OM++}function FM(n){WC.set(n[Gl],n)}function VM(n){WC.delete(n[Gl])}var Cw="__ngContext__";function Si(n,e){ur(e)?(n[Cw]=e[Gl],FM(e)):n[Cw]=e}function KC(n){return YC(n[qs])}function QC(n){return YC(n[_n])}function YC(n){for(;n!==null&&!oi(n);)n=n[_n];return n}var rp;function JC(n){rp=n}function LM(){if(rp!==void 0)return rp;if(typeof document<"u")return document;throw new $(210,!1)}var Qp=new U("",{providedIn:"root",factory:()=>jM}),jM="ng",Yp=new U(""),rn=new U("",{providedIn:"platform",factory:()=>"unknown"});var Jp=new U("",{providedIn:"root",factory:()=>LM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var UM="h",BM="b";var $M=()=>null;function Zp(n,e,t=!1){return $M(n,e,t)}var ZC=!1,qM=new U("",{providedIn:"root",factory:()=>ZC});var op=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${HS})`}};function Xp(n){return n instanceof op?n.changingThisBreaksApplicationSecurity:n}var GM=/^>|^->|<!--|-->|--!>|<!-$/g,zM=/(<|>)/g,HM="\u200B$1\u200B";function WM(n){return n.replace(GM,e=>e.replace(zM,HM))}function XC(n){return n instanceof Function?n():n}function KM(n){return(n??N(kt)).get(rn)==="browser"}var ti=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ti||{}),QM;function em(n,e){return QM(n,e)}function _o(n,e,t,i,r){if(i!=null){let o,s=!1;oi(i)?o=i:ur(i)&&(s=!0,i=i[ri]);let a=Fn(i);n===0&&t!==null?r==null?rb(e,t,a):Al(e,t,a,r||null,!0):n===1&&t!==null?Al(e,t,a,r||null,!0):n===2?fP(e,a,s):n===3&&e.destroyNode(a),o!=null&&mP(e,n,o,t,r)}}function YM(n,e){return n.createText(e)}function JM(n,e,t){n.setValue(e,t)}function ZM(n,e){return n.createComment(WM(e))}function eb(n,e,t){return n.createElement(e,t)}function XM(n,e){tb(n,e),e[ri]=null,e[wn]=null}function eP(n,e,t,i,r,o){i[ri]=r,i[wn]=e,eu(n,i,t,1,r,o)}function tb(n,e){e[On].changeDetectionScheduler?.notify(1),eu(n,e,e[We],2,null,null)}function tP(n){let e=n[qs];if(!e)return Of(n[ae],n);for(;e;){let t=null;if(ur(e))t=e[qs];else{let i=e[Zt];i&&(t=i)}if(!t){for(;e&&!e[_n]&&e!==n;)ur(e)&&Of(e[ae],e),e=e[ft];e===null&&(e=n),ur(e)&&Of(e[ae],e),t=e&&e[_n]}e=t}}function nP(n,e,t,i){let r=Zt+i,o=t.length;i>0&&(t[r-1][_n]=e),i<o-Zt?(e[_n]=t[r],Jw(t,Zt+i,e)):(t.push(e),e[_n]=null),e[ft]=t;let s=e[ql];s!==null&&t!==s&&iP(s,e);let a=e[To];a!==null&&a.insertView(n),Jf(e),e[K]|=128}function iP(n,e){let t=n[Il],r=e[ft][ft][kn];e[kn]!==r&&(n[K]|=Lp.HasTransplantedViews),t===null?n[Il]=[e]:t.push(e)}function nb(n,e){let t=n[Il],i=t.indexOf(e);t.splice(i,1)}function sp(n,e){if(n.length<=Zt)return;let t=Zt+e,i=n[t];if(i){let r=i[ql];r!==null&&r!==n&&nb(r,i),e>0&&(n[t-1][_n]=i[_n]);let o=wl(n,Zt+e);XM(i[ae],i);let s=o[To];s!==null&&s.detachView(o[ae]),i[ft]=null,i[_n]=null,i[K]&=-129}return i}function ib(n,e){if(!(e[K]&256)){let t=e[We];t.destroyNode&&eu(n,e,t,3,null,null),tP(e)}}function Of(n,e){if(e[K]&256)return;let t=ve(null);try{e[K]&=-129,e[K]|=256,e[fr]&&Ny(e[fr]),oP(n,e),rP(n,e),e[ae].type===1&&e[We].destroy();let i=e[ql];if(i!==null&&oi(e[ft])){i!==e[ft]&&nb(i,e);let r=e[To];r!==null&&r.detachView(n)}VM(e)}finally{ve(t)}}function rP(n,e){let t=n.cleanup,i=e[$s];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[$s]=null);let r=e[Ti];if(r!==null){e[Ti]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function oP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof gr)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Pn(4,a,c);try{c.call(a)}finally{Pn(5,a,c)}}else{Pn(4,r,o);try{o.call(r)}finally{Pn(5,r,o)}}}}}function sP(n,e,t){return aP(n,e.parent,t)}function aP(n,e,t){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return t[ri];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Nn.None||o===Nn.Emulated)return null}return tn(i,t)}}function Al(n,e,t,i,r){n.insertBefore(e,t,i,r)}function rb(n,e,t){n.appendChild(e,t)}function bw(n,e,t,i,r){i!==null?Al(n,e,t,i,r):rb(n,e,t)}function cP(n,e,t,i){n.removeChild(e,t,i)}function tm(n,e){return n.parentNode(e)}function lP(n,e){return n.nextSibling(e)}function uP(n,e,t){return hP(n,e,t)}function dP(n,e,t){return n.type&40?tn(n,t):null}var hP=dP,Ew;function Xl(n,e,t,i){let r=sP(n,i,e),o=e[We],s=i.parent||e[wn],a=uP(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)bw(o,r,t[c],a,!1);else bw(o,r,t,a,!1);Ew!==void 0&&Ew(o,i,e,t,r)}function gl(n,e){if(e!==null){let t=e.type;if(t&3)return tn(e,n);if(t&4)return ap(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return gl(n,i);{let r=n[e.index];return oi(r)?ap(-1,r):Fn(r)}}else{if(t&32)return em(e,n)()||Fn(n[e.index]);{let i=ob(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=zs(n[kn]);return gl(r,i)}else return gl(n,e.next)}}}return null}function ob(n,e){if(e!==null){let i=n[kn][wn],r=e.projection;return i.projection[r]}return null}function ap(n,e){let t=Zt+n+1;if(t<e.length){let i=e[t],r=i[ae].firstChild;if(r!==null)return gl(i,r)}return e[pr]}function fP(n,e,t){let i=tm(n,e);i&&cP(n,i,e,t)}function nm(n,e,t,i,r,o,s){for(;t!=null;){let a=i[t.index],c=t.type;if(s&&e===0&&(a&&Si(Fn(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)nm(n,e,t.child,i,r,o,!1),_o(e,n,r,a,o);else if(c&32){let l=em(t,i),u;for(;u=l();)_o(e,n,r,u,o);_o(e,n,r,a,o)}else c&16?pP(n,e,i,t,r,o):_o(e,n,r,a,o);t=s?t.projectionNext:t.next}}function eu(n,e,t,i,r,o){nm(t,i,n.firstChild,e,r,o,!1)}function pP(n,e,t,i,r,o){let s=t[kn],c=s[wn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];_o(e,n,r,u,o)}else{let l=c,u=s[ft];HC(i)&&(l.flags|=128),nm(n,e,l,u,r,o,!0)}}function mP(n,e,t,i,r){let o=t[pr],s=Fn(t);o!==s&&_o(e,n,i,o,r);for(let a=Zt;a<t.length;a++){let c=t[a];eu(c[ae],c,n,e,i,o)}}function gP(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:ti.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ti.Important),n.setStyle(t,i,r,o))}}function _P(n,e,t){n.setAttribute(e,"style",t)}function sb(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ab(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Hf(n,e,i),r!==null&&sb(n,e,r),o!==null&&_P(n,e,o)}var Ft={};function d(n=1){cb(pt(),he(),ai()+n,!1)}function cb(n,e,t,i){if(!i)if((e[K]&3)===3){let o=n.preOrderCheckHooks;o!==null&&pl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ml(e,o,0,t)}mr(t)}function q(n,e=ie.Default){let t=he();if(t===null)return B(n,e);let i=Ot();return BC(i,t,Ct(n),e)}function lb(){let n="invalid";throw new Error(n)}function ub(n,e,t,i,r,o){let s=ve(null);try{let a=null;r&st.SignalBased&&(a=e[i][nf]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&st.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):mC(e,a,i,o)}finally{ve(s)}}function vP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)mr(~r);else{let o=r,s=t[++i],a=t[++i];dM(s,o);let c=e[o];a(2,c)}}}finally{mr(-1)}}function tu(n,e,t,i,r,o,s,a,c,l,u){let p=e.blueprint.slice();return p[ri]=r,p[K]=i|4|128|8|64,(l!==null||n&&n[K]&2048)&&(p[K]|=2048),bC(p),p[ft]=p[Po]=n,p[vn]=t,p[On]=s||n&&n[On],p[We]=a||n&&n[We],p[Io]=c||n&&n[Io]||null,p[wn]=o,p[Gl]=kM(),p[bl]=u,p[fC]=l,p[kn]=e.type==2?n[kn]:p,p}function Xs(n,e,t,i,r){let o=n.data[e];if(o===null)o=yP(n,e,t,i,r),uM()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=cM();o.injectorIndex=s===null?-1:s.injectorIndex}return yr(o,!0),o}function yP(n,e,t,i,r){let o=TC(),s=$p(),a=s?o:o&&o.parent,c=n.data[e]=IP(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function db(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function hb(n,e,t,i,r){let o=ai(),s=i&2;try{mr(-1),s&&e.length>Xt&&cb(n,e,Xt,!1),Pn(s?2:0,r),t(i,r)}finally{mr(o),Pn(s?3:1,r)}}function im(n,e,t){if(jp(e)){let i=ve(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ve(i)}}}function rm(n,e,t){IC()&&(MP(n,e,t,tn(t,e)),(t.flags&64)===64&&gb(n,e,t))}function om(n,e,t=tn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function fb(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=sm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function sm(n,e,t,i,r,o,s,a,c,l,u){let p=Xt+i,v=p+r,y=wP(p,v),D=typeof l=="function"?l():l;return y[ae]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:u}}function wP(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ft);return t}function CP(n,e,t,i){let o=i.get(qM,ZC)||t===Nn.ShadowDom,s=n.selectRootElement(e,o);return bP(s),s}function bP(n){EP(n)}var EP=()=>null;function IP(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return oM()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Iw(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=st.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}n===0?Tw(i,t,l,a,c):Tw(i,t,l,a)}return i}function Tw(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function TP(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let p=o[u],v=t?t.get(p):null,y=v?v.inputs:null,D=v?v.outputs:null;c=Iw(0,p.inputs,u,c,y),l=Iw(1,p.outputs,u,l,D);let x=c!==null&&s!==null&&!Np(e)?BP(c,u,s):null;a.push(x)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function DP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function pb(n,e,t,i,r,o,s,a){let c=tn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(cm(n,t,u,i,r),zl(e)&&xP(t,e.index)):e.type&3?(i=DP(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function xP(n,e){let t=Pi(e,n);t[K]&16||(t[K]|=64)}function am(n,e,t,i){if(IC()){let r=i===null?null:{"":-1},o=RP(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&mb(n,e,t,s,r,a),r&&NP(t,i,r)}t.mergedAttrs=Us(t.mergedAttrs,t.attrs)}function mb(n,e,t,i,r,o){for(let l=0;l<i.length;l++)ep(Sl(t,e),n,i[l].type);kP(t,n.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=db(n,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];t.mergedAttrs=Us(t.mergedAttrs,u.hostAttrs),FP(n,t,e,c,u),OP(c,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let p=u.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}TP(n,t,o)}function SP(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;AP(s)!=a&&s.push(a),s.push(t,i,o)}}function AP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function MP(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;zl(t)&&VP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Sl(t,e),Si(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let c=n.data[a],l=xo(e,n,a,t);if(Si(l,e),s!==null&&UP(e,a-r,l,c,t,s),xi(c)){let u=Pi(t.index,e);u[vn]=xo(e,n,a,t)}}}function gb(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=hM();try{mr(o);for(let a=i;a<r;a++){let c=n.data[a],l=e[a];Zf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&PP(c,l)}}finally{mr(-1),Zf(s)}}function PP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function RP(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(EA(e,s.selectors,!1))if(i||(i=[]),xi(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;cp(n,e,c)}else i.unshift(s),cp(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function cp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function NP(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new $(-301,!1);i.push(e[r],o)}}}function OP(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;xi(e)&&(t[""]=n)}}function kP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function FP(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=hr(r.type,!0)),s=new gr(o,xi(r),q);n.blueprint[i]=s,t[i]=s,SP(n,e,i,db(n,t,r.hostVars,Ft),r)}function VP(n,e,t){let i=tn(e,n),r=fb(t),o=n[On].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=nu(n,tu(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function LP(n,e,t,i,r,o){let s=tn(n,e);jP(e[We],s,o,n.value,t,i,r)}function jP(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Yt(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function UP(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],p=s[a++];ub(i,t,c,l,u,p)}}function BP(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function _b(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function vb(n,e){let t=n.contentQueries;if(t!==null){let i=ve(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];xC(o),a.contentQueries(2,e[s],s)}}}finally{ve(i)}}}function nu(n,e){return n[qs]?n[mw][_n]=e:n[qs]=e,n[mw]=e,e}function lp(n,e,t){xC(0);let i=ve(null);try{e(n,t)}finally{ve(i)}}function $P(n){return n[$s]||(n[$s]=[])}function qP(n){return n.cleanup||(n.cleanup=[])}function yb(n,e){let t=n[Io],i=t?t.get(Vn,null):null;i&&i.handleError(e)}function cm(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];ub(u,l,i,a,c,r)}}function iu(n,e,t){let i=yC(e,n);JM(n[We],i,t)}function GP(n,e){let t=Pi(e,n),i=t[ae];zP(i,t);let r=t[ri];r!==null&&t[bl]===null&&(t[bl]=Zp(r,t[Io])),lm(i,t,t[vn])}function zP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function lm(n,e,t){Gp(e);try{let i=n.viewQuery;i!==null&&lp(1,i,t);let r=n.template;r!==null&&hb(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[To]?.finishViewCreation(n),n.staticContentQueries&&vb(n,e),n.staticViewQueries&&lp(2,n.viewQuery,t);let o=n.components;o!==null&&HP(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[K]&=-5,zp()}}function HP(n,e){for(let t=0;t<e.length;t++)GP(n,e[t])}function WP(n,e,t,i){let r=ve(null);try{let o=e.tView,a=n[K]&4096?4096:16,c=tu(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];c[ql]=l;let u=n[To];return u!==null&&(c[To]=u.createEmbeddedView(o)),lm(o,c,t),c}finally{ve(r)}}function Dw(n,e){return!e||e.firstChild===null||HC(n)}function KP(n,e,t,i=!0){let r=e[ae];if(nP(r,e,n,t),i){let s=ap(t,n),a=e[We],c=tm(a,n[pr]);c!==null&&eP(r,n[wn],a,e,c,s)}let o=e[bl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ml(n,e,t,i,r=!1){for(;t!==null;){let o=e[t.index];o!==null&&i.push(Fn(o)),oi(o)&&QP(o,i);let s=t.type;if(s&8)Ml(n,e,t.child,i);else if(s&32){let a=em(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=ob(e,t);if(Array.isArray(a))i.push(...a);else{let c=zs(e[kn]);Ml(c[ae],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function QP(n,e){for(let t=Zt;t<n.length;t++){let i=n[t],r=i[ae].firstChild;r!==null&&Ml(i[ae],i,r,e)}n[pr]!==n[ri]&&e.push(n[pr])}var wb=[];function YP(n){return n[fr]??JP(n)}function JP(n){let e=wb.pop()??Object.create(XP);return e.lView=n,e}function ZP(n){n.lView[fr]!==n&&(n.lView=null,wb.push(n))}var XP=Y(M({},My),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Gs(n.lView)},consumerOnSignalRead(){this.lView[fr]=this}}),Cb=100;function bb(n,e=!0,t=0){let i=n[On],r=i.rendererFactory,o=!1;o||r.begin?.();try{eR(n,t)}catch(s){throw e&&yb(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function eR(n,e){up(n,e);let t=0;for(;Bp(n);){if(t===Cb)throw new $(103,!1);t++,up(n,1)}}function tR(n,e,t,i){let r=e[K];if((r&256)===256)return;let o=!1;!o&&e[On].inlineEffectRunner?.flush(),Gp(e);let s=null,a=null;!o&&nR(n)&&(a=YP(e),s=Py(a));try{bC(e),lM(n.bindingStartIndex),t!==null&&hb(n,e,t,2,i);let c=(r&3)===3;if(!o)if(c){let p=n.preOrderCheckHooks;p!==null&&pl(e,p,null)}else{let p=n.preOrderHooks;p!==null&&ml(e,p,0,null),Mf(e,0)}if(iR(e),Eb(e,0),n.contentQueries!==null&&vb(n,e),!o)if(c){let p=n.contentCheckHooks;p!==null&&pl(e,p)}else{let p=n.contentHooks;p!==null&&ml(e,p,1),Mf(e,1)}vP(n,e);let l=n.components;l!==null&&Tb(e,l,0);let u=n.viewQuery;if(u!==null&&lp(2,u,i),!o)if(c){let p=n.viewCheckHooks;p!==null&&pl(e,p)}else{let p=n.viewHooks;p!==null&&ml(e,p,2),Mf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Af]){for(let p of e[Af])p();e[Af]=null}o||(e[K]&=-73)}catch(c){throw Gs(e),c}finally{a!==null&&(Ry(a,s),ZP(a)),zp()}}function nR(n){return n.type!==2}function Eb(n,e){for(let t=KC(n);t!==null;t=QC(t))for(let i=Zt;i<t.length;i++){let r=t[i];Ib(r,e)}}function iR(n){for(let e=KC(n);e!==null;e=QC(e)){if(!(e[K]&Lp.HasTransplantedViews))continue;let t=e[Il];for(let i=0;i<t.length;i++){let r=t[i],o=r[ft];XA(r)}}}function rR(n,e,t){let i=Pi(e,n);Ib(i,t)}function Ib(n,e){Up(n)&&up(n,e)}function up(n,e){let i=n[ae],r=n[K],o=n[fr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&rf(o)),o&&(o.dirty=!1),n[K]&=-9217,s)tR(i,n,i.template,n[vn]);else if(r&8192){Eb(n,1);let a=i.components;a!==null&&Tb(n,a,1)}}function Tb(n,e,t){for(let i=0;i<e.length;i++)rR(n,e[i],t)}function um(n){for(n[On].changeDetectionScheduler?.notify();n;){n[K]|=64;let e=zs(n);if(GA(n)&&!e)return n;n=e}return null}var _r=class{get rootNodes(){let e=this._lView,t=e[ae];return Ml(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vn]}set context(e){this._lView[vn]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ft];if(oi(e)){let t=e[El],i=t?t.indexOf(this):-1;i>-1&&(sp(e,i),wl(t,i))}this._attachedToViewContainer=!1}ib(this._lView[ae],this._lView)}onDestroy(e){EC(this._lView,e)}markForCheck(){um(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){Jf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,bb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,tb(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e,Jf(this._lView)}},ru=(()=>{class n{static{this.__NG_ELEMENT_ID__=aR}}return n})(),oR=ru,sR=class extends oR{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=WP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new _r(r)}};function aR(){return cR(Ot(),he())}function cR(n,e){return n.type&4?new sR(e,n,Zl(n,e)):null}var E7=new RegExp(`^(\\d+)*(${BM}|${UM})*(.*)`);var lR=()=>null;function xw(n,e){return lR(n,e)}var Pl=class{},dp=class{},Rl=class{};function uR(n){let e=Error(`No component factory found for ${bt(n)}.`);return e[dR]=n,e}var dR="ngComponent";var hp=class{resolveComponentFactory(e){throw uR(e)}},ou=(()=>{class n{static{this.NULL=new hp}}return n})(),Hs=class{},Ln=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>hR()}}return n})();function hR(){let n=he(),e=Ot(),t=Pi(e.index,n);return(ur(t)?t:n)[We]}var fR=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>null})}}return n})(),kf={};var Sw=new Set;function su(n){Sw.has(n)||(Sw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Aw(...n){}function pR(){let n=typeof ei.requestAnimationFrame=="function",e=ei[n?"requestAnimationFrame":"setTimeout"],t=ei[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Ee=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=pR().nativeRequestAnimationFrame,_R(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,mR,Aw,Aw);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},mR={};function dm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gR(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ei,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,fp(n),n.isCheckStableRunning=!0,dm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),fp(n))}function _R(n){let e=()=>{gR(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(vR(a))return t.invokeTask(r,o,s,a);try{return Mw(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Pw(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return Mw(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),Pw(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,fp(n),dm(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function fp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Mw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Pw(n){n._nesting--,dm(n)}function vR(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var vo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(vo||{}),yR={destroy(){}};function au(n,e){!e&&$A(au);let t=e?.injector??N(kt);if(!KM(t))return yR;su("NgAfterNextRender");let i=t.get(hm),r=i.handler??=new mp,o=e?.phase??vo.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Kp).onDestroy(s),c=yn(t,()=>new pp(o,()=>{s(),n()}));return r.register(c),{destroy:s}}var pp=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=N(Ee),this.errorHandler=N(Vn,{optional:!0}),N(Pl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},mp=class{constructor(){this.executingCallbacks=!1,this.buckets={[vo.EarlyRead]:new Set,[vo.Write]:new Set,[vo.MixedReadWrite]:new Set,[vo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},hm=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Nl(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=ow(r,a);else if(o==2){let c=a,l=e[++s];i=ow(i,c+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Ol=class extends ou{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Di(e);return new So(t,this.ngModule)}};function Rw(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}function wR(n){let e=n.toLowerCase();return e==="svg"?KA:e==="math"?QA:null}var gp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Bl(i);let r=this.injector.get(e,kf,i);return r!==kf||t===kf?r:this.parentInjector.get(e,t,i)}},So=class extends Rl{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=Rw(e.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Rw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=xA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=ve(null);try{r=r||this.ngModule;let s=r instanceof ht?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new gp(e,s):e,c=a.get(Hs,null);if(c===null)throw new $(407,!1);let l=a.get(fR,null),u=a.get(hm,null),p=a.get(Pl,null),v={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:p},y=c.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",x=i?CP(y,i,this.componentDef.encapsulation,a):eb(y,D,wR(D)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let F=null;x!==null&&(F=Zp(x,a,!0));let ue=sm(0,null,null,1,0,null,null,null,null,null,null),z=tu(null,ue,null,A,null,null,v,y,a,null,F);Gp(z);let be,Ze;try{let ge=this.componentDef,dt,An=null;ge.findHostDirectiveDefs?(dt=[],An=new Map,ge.findHostDirectiveDefs(ge,dt,An),dt.push(ge)):dt=[ge];let ir=CR(z,x),Xr=bR(ir,x,ge,dt,z,v,y);Ze=wC(ue,Xt),x&&TR(y,ge,x,i),t!==void 0&&DR(Ze,this.ngContentSelectors,t),be=IR(Xr,ge,dt,An,z,[xR]),lm(ue,z,null)}finally{zp()}return new _p(this.componentType,be,Zl(Ze,z),z,Ze)}finally{ve(o)}}},_p=class extends dp{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new _r(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;cm(o[ae],o,r,e,t),this.previousInputValues.set(e,t);let s=Pi(this._tNode.index,o);um(s)}}get injector(){return new dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function CR(n,e){let t=n[ae],i=Xt;return n[i]=e,Xs(t,i,2,"#host",null)}function bR(n,e,t,i,r,o,s){let a=r[ae];ER(i,n,e,s);let c=null;e!==null&&(c=Zp(e,r[Io]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let p=tu(r,fb(t),null,u,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&cp(a,n,i.length-1),nu(r,p),r[n.index]=p}function ER(n,e,t,i){for(let r of n)e.mergedAttrs=Us(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Nl(e,e.mergedAttrs,!0),t!==null&&ab(i,t,e))}function IR(n,e,t,i,r,o){let s=Ot(),a=r[ae],c=tn(s,r);mb(a,r,s,t,null,i);for(let u=0;u<t.length;u++){let p=s.directiveStart+u,v=xo(r,a,p,s);Si(v,r)}gb(a,r,s),c&&Si(c,r);let l=xo(r,a,s.directiveStart+s.componentOffset,s);if(n[vn]=r[vn]=l,o!==null)for(let u of o)u(l,e);return im(a,s,r),l}function TR(n,e,t,i){if(i)Hf(n,t,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=SA(e.selectors[0]);r&&Hf(n,t,r),o&&o.length>0&&sb(n,t,o.join(" "))}}function DR(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function xR(){let n=Ot();Jl(he()[ae],n)}var Ro=(()=>{class n{static{this.__NG_ELEMENT_ID__=SR}}return n})();function SR(){let n=Ot();return MR(n,he())}var AR=Ro,Db=class extends AR{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new dr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Wp(this._hostTNode,this._hostLView);if(kC(e)){let t=Dl(e,this._hostLView),i=Tl(e),r=t[ae].data[i+8];return new dr(r,t)}else return new dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Nw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=xw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Dw(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!qA(e),a;if(s)a=t;else{let D=t||{};a=D.index,i=D.injector,r=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let c=s?e:new So(Di(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let x=(s?l:this.parentInjector).get(ht,null);x&&(o=x)}let u=Di(c.componentType??{}),p=xw(this._lContainer,u?.id??null),v=p?.firstChild??null,y=c.create(l,r,v,o);return this.insertImpl(y.hostView,a,Dw(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(ZA(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[ft],l=new Db(c,c[wn],c[ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return KP(s,r,o,i),e.attachToViewContainerRef(),Jw(Ff(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Nw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=sp(this._lContainer,t);i&&(wl(Ff(this._lContainer),t),ib(i[ae],i))}detach(e){let t=this._adjustIndex(e,-1),i=sp(this._lContainer,t);return i&&wl(Ff(this._lContainer),t)!=null?new _r(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Nw(n){return n[El]}function Ff(n){return n[El]||(n[El]=[])}function MR(n,e){let t,i=e[n.index];return oi(i)?t=i:(t=_b(i,e,null,n),e[n.index]=t,nu(e,t)),RR(t,e,n,i),new Db(t,n,e)}function PR(n,e){let t=n[We],i=t.createComment(""),r=tn(e,n),o=tm(t,r);return Al(t,o,i,lP(t,r),!1),i}var RR=kR,NR=()=>!1;function OR(n,e,t){return NR(n,e,t)}function kR(n,e,t,i){if(n[pr])return;let r;t.type&8?r=Fn(i):r=PR(e,t),n[pr]=r}function FR(n){return typeof n=="function"&&n[nf]!==void 0}function xb(n){return FR(n)&&typeof n.set=="function"}function VR(n){return Object.getPrototypeOf(n.prototype).constructor}function at(n){let e=VR(n.type),t=!0,i=[n];for(;e;){let r;if(xi(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=dl(n.inputs),s.inputTransforms=dl(n.inputTransforms),s.declaredInputs=dl(n.declaredInputs),s.outputs=dl(n.outputs);let a=r.hostBindings;a&&$R(n,a);let c=r.viewQuery,l=r.contentQueries;if(c&&UR(n,c),l&&BR(n,l),LR(n,r),KS(n.outputs,r.outputs),xi(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===at&&(t=!1)}}e=Object.getPrototypeOf(e)}jR(i)}function LR(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function jR(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Us(r.hostAttrs,t=Us(t,r.hostAttrs))}}function dl(n){return n===Co?{}:n===Jt?[]:n}function UR(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function BR(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function $R(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}var Ai=class{},Ws=class{};var vp=class extends Ai{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ol(this);let r=oC(e);this._bootstrapComponents=XC(r.bootstrap),this._r3Injector=GC(e,t,[{provide:Ai,useValue:this},{provide:ou,useValue:this.componentFactoryResolver},...i],bt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yp=class extends Ws{constructor(e){super(),this.moduleType=e}create(e){return new vp(this.moduleType,e,[])}};var kl=class extends Ai{constructor(e){super(),this.componentFactoryResolver=new Ol(this),this.instance=null;let t=new Bs([...e.providers,{provide:Ai,useValue:this},{provide:ou,useValue:this.componentFactoryResolver}],e.parent||Vp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cu(n,e,t=null){return new kl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var No=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sb(n){return GR(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function qR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function GR(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function fm(n,e,t){return n[e]=t}function zR(n,e){return n[e]}function ni(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function Ks(n,e,t,i){let r=ni(n,e,t);return ni(n,e+1,i)||r}function HR(n,e,t,i,r){let o=Ks(n,e,t,i);return ni(n,e+2,r)||o}function WR(n,e,t,i,r,o){let s=Ks(n,e,t,i);return Ks(n,e+2,r,o)||s}function KR(n){return(n.flags&32)===32}function QR(n,e,t,i,r,o,s,a,c){let l=e.consts,u=Xs(e,n,4,s||null,Do(l,a));am(e,t,u,Do(l,c)),Jl(e,u);let p=u.tView=sm(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),p.queries=e.queries.embeddedTView(u)),u}function T(n,e,t,i,r,o,s,a){let c=he(),l=pt(),u=n+Xt,p=l.firstCreatePass?QR(u,l,c,e,t,i,r,o,s):l.data[u];yr(p,!1);let v=YR(l,c,p,n);Ql()&&Xl(l,c,v,p),Si(v,c);let y=_b(v,c,v,p);return c[u]=y,nu(c,y),OR(y,p,c),Hl(p)&&rm(l,c,p),s!=null&&om(c,p,a),T}var YR=JR;function JR(n,e,t,i){return Yl(!0),e[We].createComment("")}function Ri(n,e,t,i){let r=he(),o=Wl();if(ni(r,o,e)){let s=pt(),a=Hp();LP(a,r,n,e,t,i)}return Ri}function ZR(n,e,t,i){return ni(n,Wl(),t)?e+Yt(t)+i:Ft}function XR(n,e,t,i,r,o){let s=qp(),a=Ks(n,s,t,r);return Kl(2),a?e+Yt(t)+i+Yt(r)+o:Ft}function eN(n,e,t,i,r,o,s,a){let c=qp(),l=HR(n,c,t,r,s);return Kl(3),l?e+Yt(t)+i+Yt(r)+o+Yt(s)+a:Ft}function tN(n,e,t,i,r,o,s,a,c,l){let u=qp(),p=WR(n,u,t,r,s,c);return Kl(4),p?e+Yt(t)+i+Yt(r)+o+Yt(s)+a+Yt(c)+l:Ft}function hl(n,e){return n<<17|e<<2}function vr(n){return n>>17&32767}function nN(n){return(n&2)==2}function iN(n,e){return n&131071|e<<17}function wp(n){return n|2}function Ao(n){return(n&131068)>>2}function Vf(n,e){return n&-131069|e<<2}function rN(n){return(n&1)===1}function Cp(n){return n|1}function oN(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=vr(s),c=Ao(s);n[i]=t;let l=!1,u;if(Array.isArray(t)){let p=t;u=p[1],(u===null||Js(p,u)>0)&&(l=!0)}else u=t;if(r)if(c!==0){let v=vr(n[a+1]);n[i+1]=hl(v,a),v!==0&&(n[v+1]=Vf(n[v+1],i)),n[a+1]=iN(n[a+1],i)}else n[i+1]=hl(a,0),a!==0&&(n[a+1]=Vf(n[a+1],i)),a=i;else n[i+1]=hl(c,0),a===0?a=i:n[c+1]=Vf(n[c+1],i),c=i;l&&(n[i+1]=wp(n[i+1])),Ow(n,u,i,!0),Ow(n,u,i,!1),sN(e,u,n,i,o),s=hl(a,c),o?e.classBindings=s:e.styleBindings=s}function sN(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Js(o,e)>=0&&(t[i+1]=Cp(t[i+1]))}function Ow(n,e,t,i){let r=n[t+1],o=e===null,s=i?vr(r):Ao(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];aN(c,e)&&(a=!0,n[s+1]=i?Cp(l):wp(l)),s=i?vr(l):Ao(l)}a&&(n[t+1]=i?wp(r):Cp(r))}function aN(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Js(n,e)>=0:!1}function _(n,e,t){let i=he(),r=Wl();if(ni(i,r,e)){let o=pt(),s=Hp();pb(o,s,i,n,e,i[We],t,!1)}return _}function kw(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";cm(n,t,o[s],s,i)}function on(n,e,t){return Ab(n,e,t,!1),on}function Te(n,e){return Ab(n,e,null,!0),Te}function Ab(n,e,t,i){let r=he(),o=pt(),s=Kl(2);if(o.firstUpdatePass&&lN(o,n,s,i),e!==Ft&&ni(r,s,e)){let a=o.data[ai()];pN(o,a,r,r[We],n,r[s+1]=mN(e,t),i,s)}}function cN(n,e){return e>=n.expandoStartIndex}function lN(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[ai()],s=cN(n,t);gN(o,i)&&e===null&&!s&&(e=!1),e=uN(r,o,e,i),oN(r,o,e,t,s,i)}}function uN(n,e,t,i){let r=fM(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Lf(null,n,e,t,i),t=Qs(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=Lf(r,n,e,t,i),o===null){let c=dN(n,e,i);c!==void 0&&Array.isArray(c)&&(c=Lf(null,n,e,c[1],i),c=Qs(c,e.attrs,i),hN(n,e,i,c))}else o=fN(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function dN(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Ao(i)!==0)return n[vr(i)]}function hN(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[vr(r)]=i}function fN(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Qs(i,s,t)}return Qs(i,e.attrs,t)}function Lf(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Qs(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Qs(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),pA(n,s,t?!0:e[++o]))}return n===void 0?null:n}function pN(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=rN(l)?Fw(c,e,t,r,Ao(l),s):void 0;if(!Fl(u)){Fl(o)||nN(l)&&(o=Fw(c,null,t,r,a,s));let p=yC(ai(),t);gP(i,s,p,r,o)}}function Fw(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],l=Array.isArray(c),u=l?c[1]:c,p=u===null,v=t[r+1];v===Ft&&(v=p?Jt:void 0);let y=p?xf(v,i):u===i?v:void 0;if(l&&!Fl(y)&&(y=xf(c,i)),Fl(y)&&(a=y,s))return a;let D=n[r+1];r=s?vr(D):Ao(D)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=xf(c,i))}return a}function Fl(n){return n!==void 0}function mN(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=bt(Xp(n)))),n}function gN(n,e){return(n.flags&(e?8:16))!==0}function _N(n,e,t,i,r,o){let s=e.consts,a=Do(s,r),c=Xs(e,n,2,i,a);return am(e,t,c,Do(s,o)),c.attrs!==null&&Nl(c,c.attrs,!1),c.mergedAttrs!==null&&Nl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(n,e,t,i){let r=he(),o=pt(),s=Xt+n,a=r[We],c=o.firstCreatePass?_N(s,o,r,e,t,i):o.data[s],l=vN(o,r,c,a,e,n);r[s]=l;let u=Hl(c);return yr(c,!0),ab(a,l,c),!KR(c)&&Ql()&&Xl(o,r,l,c),nM()===0&&Si(l,r),iM(),u&&(rm(o,r,c),im(o,c,r)),i!==null&&om(r,c),f}function h(){let n=Ot();$p()?DC():(n=n.parent,yr(n,!1));let e=n;sM(e)&&aM(),rM();let t=pt();return t.firstCreatePass&&(Jl(t,n),jp(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&wM(e)&&kw(t,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&CM(e)&&kw(t,e,he(),e.stylesWithoutHost,!1),h}function E(n,e,t,i){return f(n,e,t,i),h(),E}var vN=(n,e,t,i,r,o)=>(Yl(!0),eb(i,r,gM()));function yN(n,e,t,i,r){let o=e.consts,s=Do(o,i),a=Xs(e,n,8,"ng-container",s);s!==null&&Nl(a,s,!0);let c=Do(o,r);return am(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Se(n,e,t){let i=he(),r=pt(),o=n+Xt,s=r.firstCreatePass?yN(o,r,i,e,t):r.data[o];yr(s,!0);let a=wN(r,i,s,n);return i[o]=a,Ql()&&Xl(r,i,a,s),Si(a,i),Hl(s)&&(rm(r,i,s),im(r,s,i)),t!=null&&om(i,s),Se}function Ae(){let n=Ot(),e=pt();return $p()?DC():(n=n.parent,yr(n,!1)),e.firstCreatePass&&(Jl(e,n),jp(n)&&e.queries.elementEnd(n)),Ae}var wN=(n,e,t,i)=>(Yl(!0),ZM(e[We],""));function R(){return he()}var lr=void 0;function CN(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var bN=["en",[["a","p"],["AM","PM"],lr],[["AM","PM"],lr,lr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lr,"{1} 'at' {0}",lr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",CN],jf={};function sn(n){let e=EN(n),t=Vw(e);if(t)return t;let i=e.split("-")[0];if(t=Vw(i),t)return t;if(i==="en")return bN;throw new $(701,!1)}function Vw(n){return n in jf||(jf[n]=ei.ng&&ei.ng.common&&ei.ng.common.locales&&ei.ng.common.locales[n]),jf[n]}var qe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(qe||{});function EN(n){return n.toLowerCase().replace(/_/g,"-")}var Vl="en-US";var IN=Vl;function TN(n){typeof n=="string"&&(IN=n.toLowerCase().replace(/_/g,"-"))}function b(n,e,t,i){let r=he(),o=pt(),s=Ot();return Mb(o,r,r[We],s,n,e,i),b}function DN(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[$s],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Mb(n,e,t,i,r,o,s){let a=Hl(i),l=n.firstCreatePass&&qP(n),u=e[vn],p=$P(e),v=!0;if(i.type&3||s){let x=tn(i,e),A=s?s(x):x,F=p.length,ue=s?be=>s(Fn(be[i.index])):i.index,z=null;if(!s&&a&&(z=DN(n,e,r,i.index)),z!==null){let be=z.__ngLastListenerFn__||z;be.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,v=!1}else{o=jw(i,e,u,o,!1);let be=t.listen(A,r,o);p.push(o,be),l&&l.push(r,ue,F,F+1)}}else o=jw(i,e,u,o,!1);let y=i.outputs,D;if(v&&y!==null&&(D=y[r])){let x=D.length;if(x)for(let A=0;A<x;A+=2){let F=D[A],ue=D[A+1],Ze=e[F][ue].subscribe(o),ge=p.length;p.push(o,Ze),l&&l.push(r,i.index,ge,-(ge+1))}}}function Lw(n,e,t,i){let r=ve(null);try{return Pn(6,e,t),t(i)!==!1}catch(o){return yb(n,o),!1}finally{Pn(7,e,t),ve(r)}}function jw(n,e,t,i,r){return function o(s){if(s===Function)return i;let a=n.componentOffset>-1?Pi(n.index,e):e;um(a);let c=Lw(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=Lw(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function g(n=1){return mM(n)}function xN(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function m(n,e=""){let t=he(),i=pt(),r=n+Xt,o=i.firstCreatePass?Xs(i,r,1,e,null):i.data[r],s=SN(i,t,o,e,n);t[r]=s,Ql()&&Xl(i,t,s,o),yr(o,!1)}var SN=(n,e,t,i,r)=>(Yl(!0),YM(e[We],i));function te(n){return O("",n,""),te}function O(n,e,t){let i=he(),r=ZR(i,n,e,t);return r!==Ft&&iu(i,ai(),r),O}function an(n,e,t,i,r){let o=he(),s=XR(o,n,e,t,i,r);return s!==Ft&&iu(o,ai(),s),an}function lu(n,e,t,i,r,o,s){let a=he(),c=eN(a,n,e,t,i,r,o,s);return c!==Ft&&iu(a,ai(),c),lu}function pm(n,e,t,i,r,o,s,a,c){let l=he(),u=tN(l,n,e,t,i,r,o,s,a,c);return u!==Ft&&iu(l,ai(),u),pm}function pe(n,e,t){xb(e)&&(e=e());let i=he(),r=Wl();if(ni(i,r,e)){let o=pt(),s=Hp();pb(o,s,i,n,e,i[We],t,!1)}return pe}function _e(n,e){let t=xb(n);return t&&n.set(e),t}function me(n,e){let t=he(),i=pt(),r=Ot();return Mb(i,t,t[We],r,n,e),me}function AN(n,e,t){let i=pt();if(i.firstCreatePass){let r=xi(n);bp(t,i.data,i.blueprint,r,!0),bp(e,i.data,i.blueprint,r,!1)}}function bp(n,e,t,i,r){if(n=Ct(n),Array.isArray(n))for(let o=0;o<n.length;o++)bp(n[o],e,t,i,r);else{let o=pt(),s=he(),a=Ot(),c=Eo(n)?n:Ct(n.provide),l=dC(n),u=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(Eo(n)||!n.multi){let y=new gr(l,r,q),D=Bf(c,e,r?u:u+v,p);D===-1?(ep(Sl(a,s),o,c),Uf(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[D]=y,s[D]=y)}else{let y=Bf(c,e,u+v,p),D=Bf(c,e,u,u+v),x=y>=0&&t[y],A=D>=0&&t[D];if(r&&!A||!r&&!x){ep(Sl(a,s),o,c);let F=RN(r?PN:MN,t.length,r,i,l);!r&&A&&(t[D].providerFactory=F),Uf(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=Pb(t[r?D:y],l,!r&&i);Uf(o,n,y>-1?y:D,F)}!r&&i&&A&&t[D].componentProviders++}}}function Uf(n,e,t,i){let r=Eo(e),o=kA(e);if(r||o){let c=(o?Ct(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function Pb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Bf(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function MN(n,e,t,i){return Ep(this.multi,[])}function PN(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=xo(t,t[ae],this.providerFactory.index,i);o=a.slice(0,s),Ep(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Ep(r,o);return o}function Ep(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function RN(n,e,t,i,r){let o=new gr(n,t,q);return o.multi=[],o.index=e,o.componentProviders=0,Pb(o,r,i&&!t),o}function Ut(n,e=[]){return t=>{t.providersResolver=(i,r)=>AN(i,r?r(n):n,e)}}var NN=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=cC(!1,t.type),r=i.length>0?cu([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(B(ht))})}}return n})();function Ni(n){su("NgStandalone"),n.getStandaloneInjector=e=>e.get(NN).getOrCreateStandaloneInjector(n)}function Bt(n,e,t){let i=Zs()+n,r=he();return r[i]===Ft?fm(r,i,t?e.call(t):e()):zR(r,i)}function Rb(n,e,t,i){return kb(he(),Zs(),n,e,t,i)}function Nb(n,e,t,i,r){return Fb(he(),Zs(),n,e,t,i,r)}function Ob(n,e){let t=n[e];return t===Ft?void 0:t}function kb(n,e,t,i,r,o){let s=e+t;return ni(n,s,r)?fm(n,s+1,o?i.call(o,r):i(r)):Ob(n,s+1)}function Fb(n,e,t,i,r,o,s){let a=e+t;return Ks(n,a,r,o)?fm(n,a+2,s?i.call(s,r,o):i(r,o)):Ob(n,a+2)}function Oo(n,e){let t=pt(),i,r=n+Xt;t.firstCreatePass?(i=ON(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=hr(i.type,!0)),s,a=Pt(q);try{let c=xl(!1),l=o();return xl(c),xN(t,he(),r,l),l}finally{Pt(a)}}function ON(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function Vb(n,e,t){let i=n+Xt,r=he(),o=CC(r,i);return Lb(r,i)?kb(r,Zs(),e,o.transform,t,o):o.transform(t)}function ea(n,e,t,i){let r=n+Xt,o=he(),s=CC(o,r);return Lb(o,r)?Fb(o,Zs(),e,s.transform,t,i,s):s.transform(t,i)}function Lb(n,e){return n[ae].data[e].pure}var ii=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},jb=new ii("17.3.12"),uu=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Ub=new U("");function wr(n){return!!n&&typeof n.then=="function"}function Bb(n){return!!n&&typeof n.subscribe=="function"}var du=new U(""),$b=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=N(du,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(wr(o))t.push(o);else if(Bb(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ta=new U("");function kN(){Oy(()=>{throw new $(600,!1)})}function FN(n){return n.isBoundToModule}function VN(n,e,t){try{let i=t();return wr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var ko=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(zC),this.afterRenderEffectManager=N(hm),this.externalTestViews=new Set,this.beforeRender=new wt,this.afterTick=new wt,this.componentTypes=[],this.components=[],this.isStable=N(No).hasPendingTasks.pipe(ee(t=>!t)),this._injector=N(ht)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Rl;if(!this._injector.get($b).done){let v=!r&&rC(t),y=!1;throw new $(405,y)}let s;r?s=t:s=this._injector.get(ou).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=FN(s)?void 0:this._injector.get(Ai),c=i||s.selector,l=s.create(kt.NULL,[],c,a),u=l.location.nativeElement,p=l.injector.get(Ub,null);return p?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),$f(this.components,l),p?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new $(101,!1);let i=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,ve(i)}}detectChangesInAttachedViews(t){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===Cb)throw new $(103,!1);if(t){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)LN(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ip(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ip(o))))break}}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;$f(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(ta,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$f(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $f(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function LN(n,e,t){!e&&!Ip(n)||jN(n,t,e)}function Ip(n){return Bp(n)}function jN(n,e,t){let i;t?(i=0,n[K]|=1024):n[K]&64?i=0:i=1,bb(n,e,i)}var Tp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},hu=(()=>{class n{compileModuleSync(t){return new yp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=oC(t),o=XC(r.declarations).reduce((s,a)=>{let c=Di(a);return c&&s.push(new So(c)),s},[]);return new Tp(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var UN=(()=>{class n{constructor(){this.zone=N(Ee),this.applicationRef=N(ko)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function BN(n){return[{provide:Ee,useFactory:n},{provide:bo,multi:!0,useFactory:()=>{let e=N(UN,{optional:!0});return()=>e.initialize()}},{provide:bo,multi:!0,useFactory:()=>{let e=N(zN);return()=>{e.initialize()}}},{provide:zC,useFactory:$N}]}function $N(){let n=N(Ee),e=N(Vn);return t=>n.runOutsideAngular(()=>e.handleError(t))}function qN(n){let e=BN(()=>new Ee(GN(n)));return Mo([[],e])}function GN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var zN=(()=>{class n{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=N(Ee),this.pendingTasks=N(No)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function HN(){return typeof $localize<"u"&&$localize.locale||Vl}var fu=new U("",{providedIn:"root",factory:()=>N(fu,ie.Optional|ie.SkipSelf)||HN()});var qb=new U("");var _l=null;function WN(n=[],e){return kt.create({name:e,providers:[{provide:$l,useValue:"platform"},{provide:qb,useValue:new Set([()=>_l=null])},...n]})}function KN(n=[]){if(_l)return _l;let e=WN(n);return _l=e,kN(),QN(e),e}function QN(n){n.get(Yp,null)?.forEach(t=>t())}var Cr=(()=>{class n{static{this.__NG_ELEMENT_ID__=YN}}return n})();function YN(n){return JN(Ot(),he(),(n&16)===16)}function JN(n,e,t){if(zl(n)&&!t){let i=Pi(n.index,e);return new _r(i,i)}else if(n.type&47){let i=e[kn];return new _r(i,e)}return null}var Dp=class{constructor(){}supports(e){return Sb(e)}create(e){return new xp(e)}},ZN=(n,e)=>e,xp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ZN}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<Uw(i,r,o)?t:i,a=Uw(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let v=0;v<l;v++){let y=v<o.length?o[v]:o[v]=0,D=y+v;u<=D&&D<l&&(o[v]=y+1)}let p=s.previousIndex;o[p]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Sb(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,qR(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Sp(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ll),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ll),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Sp=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ap=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Ll=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Ap,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Uw(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function Bw(){return new mm([new Dp])}var mm=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:Bw})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Bw()),deps:[[n,new Pp,new en]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new $(901,!1)}}return n})();function Gb(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=KN(i),o=[qN(),...t||[]],a=new kl({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ee);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Vn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),v=r.get(qb);return v.add(p),a.onDestroy(()=>{u.unsubscribe(),v.delete(p)}),VN(l,c,()=>{let y=a.get($b);return y.runInitializers(),y.donePromise.then(()=>{let D=a.get(fu,Vl);TN(D||Vl);let x=a.get(ko);return e!==void 0&&x.bootstrap(e),x})})})}catch(e){return Promise.reject(e)}}function na(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function zb(n){let e=Di(n);if(!e)return null;let t=new So(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Zb=null;function di(){return Zb}function Xb(n){Zb??=n}var bu=class{};var mt=new U(""),Im=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(tO),providedIn:"platform"})}}return n})(),eE=new U(""),tO=(()=>{class n extends Im{constructor(){super(),this._doc=N(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return di().getBaseHref(this._doc)}onPopState(t){let i=di().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=di().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Tm(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function Hb(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function li(n){return n&&n[0]!=="?"?"?"+n:n}var br=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(Dm),providedIn:"root"})}}return n})(),tE=new U(""),Dm=(()=>{class n extends br{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Tm(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+li(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+li(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+li(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(B(Im),B(tE,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nE=(()=>{class n extends br{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=Tm(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+li(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+li(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(B(Im),B(tE,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Vo=(()=>{class n{constructor(t){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=rO(Hb(Wb(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+li(i))}normalize(t){return n.stripTrailingSlash(iO(this._basePath,Wb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+li(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+li(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=li}static{this.joinWithSlash=Tm}static{this.stripTrailingSlash=Hb}static{this.\u0275fac=function(i){return new(i||n)(B(br))}}static{this.\u0275prov=j({token:n,factory:()=>nO(),providedIn:"root"})}}return n})();function nO(){return new Vo(B(br))}function iO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Wb(n){return n.replace(/\/index.html$/,"")}function rO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var It=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(It||{}),Re=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Re||{}),qt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(qt||{}),Oi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function oO(n){return sn(n)[qe.LocaleId]}function sO(n,e,t){let i=sn(n),r=[i[qe.DayPeriodsFormat],i[qe.DayPeriodsStandalone]],o=cn(r,e);return cn(o,t)}function aO(n,e,t){let i=sn(n),r=[i[qe.DaysFormat],i[qe.DaysStandalone]],o=cn(r,e);return cn(o,t)}function cO(n,e,t){let i=sn(n),r=[i[qe.MonthsFormat],i[qe.MonthsStandalone]],o=cn(r,e);return cn(o,t)}function lO(n,e){let i=sn(n)[qe.Eras];return cn(i,e)}function pu(n,e){let t=sn(n);return cn(t[qe.DateFormat],e)}function mu(n,e){let t=sn(n);return cn(t[qe.TimeFormat],e)}function gu(n,e){let i=sn(n)[qe.DateTimeFormat];return cn(i,e)}function Iu(n,e){let t=sn(n),i=t[qe.NumberSymbols][e];if(typeof i>"u"){if(e===Oi.CurrencyDecimal)return t[qe.NumberSymbols][Oi.Decimal];if(e===Oi.CurrencyGroup)return t[qe.NumberSymbols][Oi.Group]}return i}function iE(n){if(!n[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function uO(n){let e=sn(n);return iE(e),(e[qe.ExtraData][2]||[]).map(i=>typeof i=="string"?gm(i):[gm(i[0]),gm(i[1])])}function dO(n,e,t){let i=sn(n);iE(i);let r=[i[qe.ExtraData][0],i[qe.ExtraData][1]],o=cn(r,e)||[];return cn(o,t)||[]}function cn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function gm(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var hO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_u={},fO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ui=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(ui||{}),we=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(we||{}),ye=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(ye||{});function pO(n,e,t,i){let r=EO(n);e=ci(t,e)||e;let s=[],a;for(;e;)if(a=fO.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=r.getTimezoneOffset();i&&(c=oE(i,c),r=bO(r,i,!0));let l="";return s.forEach(u=>{let p=wO(u);l+=p?p(r,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Eu(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function ci(n,e){let t=oO(n);if(_u[t]??={},_u[t][e])return _u[t][e];let i="";switch(e){case"shortDate":i=pu(n,qt.Short);break;case"mediumDate":i=pu(n,qt.Medium);break;case"longDate":i=pu(n,qt.Long);break;case"fullDate":i=pu(n,qt.Full);break;case"shortTime":i=mu(n,qt.Short);break;case"mediumTime":i=mu(n,qt.Medium);break;case"longTime":i=mu(n,qt.Long);break;case"fullTime":i=mu(n,qt.Full);break;case"short":let r=ci(n,"shortTime"),o=ci(n,"shortDate");i=vu(gu(n,qt.Short),[r,o]);break;case"medium":let s=ci(n,"mediumTime"),a=ci(n,"mediumDate");i=vu(gu(n,qt.Medium),[s,a]);break;case"long":let c=ci(n,"longTime"),l=ci(n,"longDate");i=vu(gu(n,qt.Long),[c,l]);break;case"full":let u=ci(n,"fullTime"),p=ci(n,"fullDate");i=vu(gu(n,qt.Full),[u,p]);break}return i&&(_u[t][e]=i),i}function vu(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function bn(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function mO(n,e){return bn(n,3).substring(0,e)}function Ke(n,e,t=0,i=!1,r=!1){return function(o,s){let a=gO(n,o);if((t>0||a>-t)&&(a+=t),n===we.Hours)a===0&&t===-12&&(a=12);else if(n===we.FractionalSeconds)return mO(a,e);let c=Iu(s,Oi.MinusSign);return bn(a,e,c,i,r)}}function gO(n,e){switch(n){case we.FullYear:return e.getFullYear();case we.Month:return e.getMonth();case we.Date:return e.getDate();case we.Hours:return e.getHours();case we.Minutes:return e.getMinutes();case we.Seconds:return e.getSeconds();case we.FractionalSeconds:return e.getMilliseconds();case we.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ne(n,e,t=It.Format,i=!1){return function(r,o){return _O(r,o,n,e,t,i)}}function _O(n,e,t,i,r,o){switch(t){case ye.Months:return cO(e,r,i)[n.getMonth()];case ye.Days:return aO(e,r,i)[n.getDay()];case ye.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=uO(e),u=dO(e,r,i),p=l.findIndex(v=>{if(Array.isArray(v)){let[y,D]=v,x=s>=y.hours&&a>=y.minutes,A=s<D.hours||s===D.hours&&a<D.minutes;if(y.hours<D.hours){if(x&&A)return!0}else if(x||A)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return u[p]}return sO(e,r,i)[s<12?0:1];case ye.Eras:return lO(e,i)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function yu(n){return function(e,t,i){let r=-1*i,o=Iu(t,Oi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ui.Short:return(r>=0?"+":"")+bn(s,2,o)+bn(Math.abs(r%60),2,o);case ui.ShortGMT:return"GMT"+(r>=0?"+":"")+bn(s,1,o);case ui.Long:return"GMT"+(r>=0?"+":"")+bn(s,2,o)+":"+bn(Math.abs(r%60),2,o);case ui.Extended:return i===0?"Z":(r>=0?"+":"")+bn(s,2,o)+":"+bn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var vO=0,Cu=4;function yO(n){let e=Eu(n,vO,1).getDay();return Eu(n,0,1+(e<=Cu?Cu:Cu+7)-e)}function rE(n){let e=n.getDay(),t=e===0?-3:Cu-e;return Eu(n.getFullYear(),n.getMonth(),n.getDate()+t)}function _m(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=rE(t),s=yO(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return bn(r,n,Iu(i,Oi.MinusSign))}}function wu(n,e=!1){return function(t,i){let o=rE(t).getFullYear();return bn(o,n,Iu(i,Oi.MinusSign),e)}}var vm={};function wO(n){if(vm[n])return vm[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ne(ye.Eras,Re.Abbreviated);break;case"GGGG":e=Ne(ye.Eras,Re.Wide);break;case"GGGGG":e=Ne(ye.Eras,Re.Narrow);break;case"y":e=Ke(we.FullYear,1,0,!1,!0);break;case"yy":e=Ke(we.FullYear,2,0,!0,!0);break;case"yyy":e=Ke(we.FullYear,3,0,!1,!0);break;case"yyyy":e=Ke(we.FullYear,4,0,!1,!0);break;case"Y":e=wu(1);break;case"YY":e=wu(2,!0);break;case"YYY":e=wu(3);break;case"YYYY":e=wu(4);break;case"M":case"L":e=Ke(we.Month,1,1);break;case"MM":case"LL":e=Ke(we.Month,2,1);break;case"MMM":e=Ne(ye.Months,Re.Abbreviated);break;case"MMMM":e=Ne(ye.Months,Re.Wide);break;case"MMMMM":e=Ne(ye.Months,Re.Narrow);break;case"LLL":e=Ne(ye.Months,Re.Abbreviated,It.Standalone);break;case"LLLL":e=Ne(ye.Months,Re.Wide,It.Standalone);break;case"LLLLL":e=Ne(ye.Months,Re.Narrow,It.Standalone);break;case"w":e=_m(1);break;case"ww":e=_m(2);break;case"W":e=_m(1,!0);break;case"d":e=Ke(we.Date,1);break;case"dd":e=Ke(we.Date,2);break;case"c":case"cc":e=Ke(we.Day,1);break;case"ccc":e=Ne(ye.Days,Re.Abbreviated,It.Standalone);break;case"cccc":e=Ne(ye.Days,Re.Wide,It.Standalone);break;case"ccccc":e=Ne(ye.Days,Re.Narrow,It.Standalone);break;case"cccccc":e=Ne(ye.Days,Re.Short,It.Standalone);break;case"E":case"EE":case"EEE":e=Ne(ye.Days,Re.Abbreviated);break;case"EEEE":e=Ne(ye.Days,Re.Wide);break;case"EEEEE":e=Ne(ye.Days,Re.Narrow);break;case"EEEEEE":e=Ne(ye.Days,Re.Short);break;case"a":case"aa":case"aaa":e=Ne(ye.DayPeriods,Re.Abbreviated);break;case"aaaa":e=Ne(ye.DayPeriods,Re.Wide);break;case"aaaaa":e=Ne(ye.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=Ne(ye.DayPeriods,Re.Abbreviated,It.Standalone,!0);break;case"bbbb":e=Ne(ye.DayPeriods,Re.Wide,It.Standalone,!0);break;case"bbbbb":e=Ne(ye.DayPeriods,Re.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(ye.DayPeriods,Re.Abbreviated,It.Format,!0);break;case"BBBB":e=Ne(ye.DayPeriods,Re.Wide,It.Format,!0);break;case"BBBBB":e=Ne(ye.DayPeriods,Re.Narrow,It.Format,!0);break;case"h":e=Ke(we.Hours,1,-12);break;case"hh":e=Ke(we.Hours,2,-12);break;case"H":e=Ke(we.Hours,1);break;case"HH":e=Ke(we.Hours,2);break;case"m":e=Ke(we.Minutes,1);break;case"mm":e=Ke(we.Minutes,2);break;case"s":e=Ke(we.Seconds,1);break;case"ss":e=Ke(we.Seconds,2);break;case"S":e=Ke(we.FractionalSeconds,1);break;case"SS":e=Ke(we.FractionalSeconds,2);break;case"SSS":e=Ke(we.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=yu(ui.Short);break;case"ZZZZZ":e=yu(ui.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=yu(ui.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=yu(ui.Long);break;default:return null}return vm[n]=e,e}function oE(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function CO(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function bO(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),o=oE(e,r);return CO(n,i*(o-r))}function EO(n){if(Kb(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return Eu(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(hO))return IO(i)}let e=new Date(n);if(!Kb(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function IO(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function Kb(n){return n instanceof Date&&!isNaN(n.valueOf())}function Tu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var ym=/\s+/,Qb=[],sE=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=Qb,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(ym):Qb}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ym):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(ym).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(q(Cn),q(Ln))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[st.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var wm=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Lo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new wm(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),Yb(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Yb(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(q(Ro),q(ru),q(mm))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Yb(n,e){n.context.$implicit=e.item}var jo=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Cm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(q(Ro),q(ru))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Cm=class{constructor(){this.$implicit=null,this.ngIf=null}};function Jb(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${bt(e)}'.`)}function TO(n,e){return new $(2100,!1)}var DO="mediumDate",xO=new U(""),SO=new U(""),Du=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??DO,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return pO(t,s,o||this.locale,a)}catch(s){throw TO(n,s.message)}}static{this.\u0275fac=function(i){return new(i||n)(q(fu,16),q(xO,24),q(SO,24))}}static{this.\u0275pipe=Op({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var aE=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=Op({name:"json",type:n,pure:!1,standalone:!0})}}return n})();var Er=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({})}}return n})(),xm="browser",AO="server";function MO(n){return n===xm}function xu(n){return n===AO}var cE=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>MO(N(rn))?new bm(N(mt),window):new Em})}}return n})(),bm=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=PO(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function PO(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var Em=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Fo=class{};var ra=class{},Mu=class{},Ir=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Am=class{encodeKey(e){return lE(e)}encodeValue(e){return lE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function OO(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var kO=/%(\d[a-f0-9])/gi,FO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lE(n){return encodeURIComponent(n).replace(kO,(e,t)=>FO[t]??e)}function Au(n){return`${n}`}var ki=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Am,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=OO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Au):[Au(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Au(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Au(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Mm=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function VO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function uE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function dE(n){return typeof Blob<"u"&&n instanceof Blob}function hE(n){return typeof FormData<"u"&&n instanceof FormData}function LO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ia=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(VO(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ir,this.context??=new Mm,!this.params)this.params=new ki,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||uE(this.body)||dE(this.body)||hE(this.body)||LO(this.body)?this.body:this.body instanceof ki?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hE(this.body)?null:dE(this.body)?this.body.type||null:uE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ki?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),u)),new n(t,i,s,{params:u,headers:l,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},Uo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Uo||{}),oa=class{constructor(e,t=Nu.Ok,i="OK"){this.headers=e.headers||new Ir,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Pm=class n extends oa{constructor(e={}){super(e),this.type=Uo.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Pu=class n extends oa{constructor(e={}){super(e),this.type=Uo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ru=class extends oa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Nu=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Nu||{});function Sm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Rm=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof ia)o=t;else{let c;r.headers instanceof Ir?c=r.headers:c=new Ir(r.headers);let l;r.params&&(r.params instanceof ki?l=r.params:l=new ki({fromObject:r.params})),o=new ia(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=H(o).pipe(Zn(c=>this.handler.handle(c)));if(t instanceof ia||r.observe==="events")return s;let a=s.pipe(At(c=>c instanceof Pu));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ee(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new ki().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Sm(r,i))}post(t,i,r={}){return this.request("POST",t,Sm(r,i))}put(t,i,r={}){return this.request("PUT",t,Sm(r,i))}static{this.\u0275fac=function(i){return new(i||n)(B(ra))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function jO(n,e){return e(n)}function UO(n,e,t){return(i,r)=>yn(t,()=>e(i,o=>n(o,r)))}var mE=new U(""),BO=new U(""),$O=new U("");var fE=(()=>{class n extends ra{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=N(No);let r=N($O,{optional:!0});this.backend=r??t}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(mE),...this.injector.get(BO,[])]));this.chain=r.reduceRight((o,s)=>UO(o,s,this.injector),jO)}let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(cr(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(B(Mu),B(ht))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();var qO=/^\)\]\}',?\n/;function GO(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var pE=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ke(i.\u0275loadImpl()):H(null)).pipe(Mt(()=>new oe(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,A)=>s.setRequestHeader(x,A.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let x=t.detectContentTypeHeader();x!==null&&s.setRequestHeader("Content-Type",x)}if(t.responseType){let x=t.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let x=s.statusText||"OK",A=new Ir(s.getAllResponseHeaders()),F=GO(s)||t.url;return c=new Pm({headers:A,status:s.status,statusText:x,url:F}),c},u=()=>{let{headers:x,status:A,statusText:F,url:ue}=l(),z=null;A!==Nu.NoContent&&(z=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=z?Nu.Ok:0);let be=A>=200&&A<300;if(t.responseType==="json"&&typeof z=="string"){let Ze=z;z=z.replace(qO,"");try{z=z!==""?JSON.parse(z):null}catch(ge){z=Ze,be&&(be=!1,z={error:ge,text:z})}}be?(o.next(new Pu({body:z,headers:x,status:A,statusText:F,url:ue||void 0})),o.complete()):o.error(new Ru({error:z,headers:x,status:A,statusText:F,url:ue||void 0}))},p=x=>{let{url:A}=l(),F=new Ru({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(F)},v=!1,y=x=>{v||(o.next(l()),v=!0);let A={type:Uo.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(A.total=x.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},D=x=>{let A={type:Uo.UploadProgress,loaded:x.loaded};x.lengthComputable&&(A.total=x.total),o.next(A)};return s.addEventListener("load",u),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:Uo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",u),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(B(Fo))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),gE=new U(""),zO="XSRF-TOKEN",HO=new U("",{providedIn:"root",factory:()=>zO}),WO="X-XSRF-TOKEN",KO=new U("",{providedIn:"root",factory:()=>WO}),Ou=class{},QO=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(B(mt),B(rn),B(HO))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function YO(n,e){let t=n.url.toLowerCase();if(!N(gE)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=N(Ou).getToken(),r=N(KO);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function _E(...n){let e=[Rm,pE,fE,{provide:ra,useExisting:fE},{provide:Mu,useExisting:pE},{provide:mE,useValue:YO,multi:!0},{provide:gE,useValue:!0},{provide:Ou,useClass:QO}];for(let t of n)e.push(...t.\u0275providers);return Mo(e)}var km=class extends bu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Fm=class n extends km{static makeCurrent(){Xb(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=ZO();return t==null?null:XO(t)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Tu(document.cookie,e)}},sa=null;function ZO(){return sa=sa||document.querySelector("base"),sa?sa.getAttribute("href"):null}function XO(n){return new URL(n,document.baseURI).pathname}var e2=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Vm=new U(""),CE=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(B(Vm),B(Ee))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),ku=class{constructor(e){this._doc=e}},Nm="ng-app-id",bE=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xu(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Nm}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(Nm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Nm,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(B(mt),B(Qp),B(Jp,8),B(rn))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Om={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jm=/%COMP%/g,EE="%COMP%",t2=`_nghost-${EE}`,n2=`_ngcontent-${EE}`,i2=!0,r2=new U("",{providedIn:"root",factory:()=>i2});function o2(n){return n2.replace(jm,n)}function s2(n){return t2.replace(jm,n)}function IE(n,e){return e.map(t=>t.replace(jm,n))}var vE=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=xu(a),this.defaultRenderer=new aa(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Nn.ShadowDom&&(i=Y(M({},i),{encapsulation:Nn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Fu?r.applyToHost(t):r instanceof ca&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Nn.Emulated:o=new Fu(c,l,i,this.appId,u,s,a,p);break;case Nn.ShadowDom:return new Lm(c,l,t,i,s,a,this.nonce,p);default:o=new ca(c,l,i,u,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(B(CE),B(bE),B(Qp),B(r2),B(mt),B(rn),B(Ee),B(Jp))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),aa=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Om[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(yE(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(yE(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new $(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=Om[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Om[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ti.DashCase|ti.Important)?e.style.setProperty(t,i,r&ti.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ti.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=di().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function yE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Lm=class extends aa{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=IE(r.id,r.styles);for(let u of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=u,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ca=class extends aa{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?IE(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Fu=class extends ca{constructor(e,t,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=o2(l),this.hostAttr=s2(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},a2=(()=>{class n extends ku{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(B(mt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),wE=["alt","control","meta","shift"],c2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},l2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},u2=(()=>{class n extends ku{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>di().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),wE.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=c2[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),wE.forEach(s=>{if(s!==r){let a=l2[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(B(mt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function TE(n,e){return Gb(M({rootComponent:n},d2(e)))}function d2(n){return{appProviders:[...g2,...n?.providers??[]],platformProviders:m2}}function h2(){Fm.makeCurrent()}function f2(){return new Vn}function p2(){return JC(document),document}var m2=[{provide:rn,useValue:xm},{provide:Yp,useValue:h2,multi:!0},{provide:mt,useFactory:p2,deps:[]}];var g2=[{provide:$l,useValue:"root"},{provide:Vn,useFactory:f2,deps:[]},{provide:Vm,useClass:a2,multi:!0,deps:[mt,Ee,rn]},{provide:Vm,useClass:u2,multi:!0,deps:[mt]},vE,bE,CE,{provide:Hs,useExisting:vE},{provide:Fo,useClass:e2,deps:[]},[]];var DE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(B(mt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var FE=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(q(Ln),q(Cn))}}static{this.\u0275dir=Pe({type:n})}}return n})(),qo=(()=>{class n extends FE{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=nn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,features:[at]})}}return n})(),Li=new U(""),v2={provide:Li,useExisting:Et(()=>Gm),multi:!0},Gm=(()=>{class n extends qo{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=nn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&b("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Ut([v2]),at]})}}return n})(),y2={provide:Li,useExisting:Et(()=>Go),multi:!0};function w2(){let n=di()?di().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var C2=new U(""),Go=(()=>{class n extends FE{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!w2())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(q(Ln),q(Cn),q(C2,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&b("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ut([y2]),at]})}}return n})();function Fi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function VE(n){return n!=null&&typeof n.length=="number"}var zo=new U(""),zm=new U(""),b2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xe=class{static min(e){return LE(e)}static max(e){return jE(e)}static required(e){return UE(e)}static requiredTrue(e){return E2(e)}static email(e){return I2(e)}static minLength(e){return T2(e)}static maxLength(e){return D2(e)}static pattern(e){return x2(e)}static nullValidator(e){return Lu(e)}static compose(e){return HE(e)}static composeAsync(e){return KE(e)}};function LE(n){return e=>{if(Fi(e.value)||Fi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function jE(n){return e=>{if(Fi(e.value)||Fi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function UE(n){return Fi(n.value)?{required:!0}:null}function E2(n){return n.value===!0?null:{required:!0}}function I2(n){return Fi(n.value)||b2.test(n.value)?null:{email:!0}}function T2(n){return e=>Fi(e.value)||!VE(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function D2(n){return e=>VE(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function x2(n){if(!n)return Lu;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Fi(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Lu(n){return null}function BE(n){return n!=null}function $E(n){return wr(n)?ke(n):n}function qE(n){let e={};return n.forEach(t=>{e=t!=null?M(M({},e),t):e}),Object.keys(e).length===0?null:e}function GE(n,e){return e.map(t=>t(n))}function S2(n){return!n.validate}function zE(n){return n.map(e=>S2(e)?e:t=>e.validate(t))}function HE(n){if(!n)return null;let e=n.filter(BE);return e.length==0?null:function(t){return qE(GE(t,e))}}function WE(n){return n!=null?HE(zE(n)):null}function KE(n){if(!n)return null;let e=n.filter(BE);return e.length==0?null:function(t){let i=GE(t,e).map($E);return Cf(i).pipe(ee(qE))}}function QE(n){return n!=null?KE(zE(n)):null}function xE(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YE(n){return n._rawValidators}function JE(n){return n._rawAsyncValidators}function Um(n){return n?Array.isArray(n)?n:[n]:[]}function ju(n,e){return Array.isArray(n)?n.includes(e):n===e}function SE(n,e){let t=Um(e);return Um(n).forEach(r=>{ju(t,r)||t.push(r)}),t}function AE(n,e){return Um(e).filter(t=>!ju(n,t))}var Uu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Tr=class extends Uu{get formDirective(){return null}get path(){return null}},Vi=class extends Uu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Bu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},A2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},zW=Y(M({},A2),{"[class.ng-submitted]":"isSubmitted"}),zu=(()=>{class n extends Bu{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(q(Vi,2))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Te("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[at]})}}return n})(),ZE=(()=>{class n extends Bu{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(q(Tr,10))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Te("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[at]})}}return n})();var la="VALID",Vu="INVALID",Bo="PENDING",ua="DISABLED";function Hm(n){return(Hu(n)?n.validators:n)||null}function M2(n){return Array.isArray(n)?WE(n):n||null}function Wm(n,e){return(Hu(e)?e.asyncValidators:n)||null}function P2(n){return Array.isArray(n)?QE(n):n||null}function Hu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function XE(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new $(1e3,"");if(!i[t])throw new $(1001,"")}function eI(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new $(1002,"")})}var $o=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===la}get invalid(){return this.status===Vu}get pending(){return this.status==Bo}get disabled(){return this.status===ua}get enabled(){return this.status!==ua}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(SE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AE(e,this._rawAsyncValidators))}hasValidator(e){return ju(this._rawValidators,e)}hasAsyncValidator(e){return ju(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ua,this.errors=null,this._forEachChild(i=>{i.disable(Y(M({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(M({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=la,this._forEachChild(i=>{i.enable(Y(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Y(M({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===Bo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ua:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bo,this._hasOwnPendingAsyncValidator=!0;let t=$E(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?ua:this.errors?Vu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bo)?Bo:this._anyControlsHaveStatus(Vu)?Vu:la}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=M2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=P2(this._rawAsyncValidators)}},$u=class extends $o{constructor(e,t,i){super(Hm(t),Wm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){eI(this,!0,e),Object.keys(e).forEach(i=>{XE(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Bm=class extends $u{};var ha=new U("CallSetDisabledState",{providedIn:"root",factory:()=>fa}),fa="always";function tI(n,e){return[...e.path,n]}function $m(n,e,t=fa){Km(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),N2(n,e),k2(n,e),O2(n,e),R2(n,e)}function ME(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Gu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function R2(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Km(n,e){let t=YE(n);e.validator!==null?n.setValidators(xE(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=JE(n);e.asyncValidator!==null?n.setAsyncValidators(xE(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();qu(e._rawValidators,r),qu(e._rawAsyncValidators,r)}function Gu(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=YE(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=JE(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return qu(e._rawValidators,i),qu(e._rawAsyncValidators,i),t}function N2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&nI(n,e)})}function O2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&nI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function nI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function k2(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function F2(n,e){n==null,Km(n,e)}function V2(n,e){return Gu(n,e)}function iI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function L2(n){return Object.getPrototypeOf(n.constructor)===qo}function j2(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rI(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Go?t=o:L2(o)?i=o:r=o}),r||i||t||null}function U2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function PE(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function RE(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var da=class extends $o{constructor(e=null,t,i){super(Hm(t),Wm(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(RE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var B2=n=>n instanceof da;var $2={provide:Vi,useExisting:Et(()=>pa)},NE=Promise.resolve(),pa=(()=>{class n extends Vi{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new da,this._registered=!1,this.name="",this.update=new Fe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rI(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),iI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$m(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){NE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&na(i);NE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?tI(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(q(Tr,9),q(zo,10),q(zm,10),q(Li,10),q(Cr,8),q(ha,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"],options:[st.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([$2]),at,si]})}}return n})(),oI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Pe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),q2={provide:Li,useExisting:Et(()=>Qm),multi:!0},Qm=(()=>{class n extends qo{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=nn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&b("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ut([q2]),at]})}}return n})(),G2={provide:Li,useExisting:Et(()=>Ym),multi:!0};var z2=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ym=(()=>{class n extends qo{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=N(ha,{optional:!0})??fa}ngOnInit(){this._control=this._injector.get(Vi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(q(Ln),q(Cn),q(z2),q(kt))}}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&b("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ut([G2]),at]})}}return n})();var sI=new U("");var H2={provide:Tr,useExisting:Et(()=>Jm)},Jm=(()=>{class n extends Tr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return $m(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ME(t.control||null,t,!1),U2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,j2(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(ME(i||null,t),B2(r)&&($m(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);F2(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&V2(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Km(this.form,this),this._oldForm&&Gu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(q(zo,10),q(zm,10),q(ha,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&b("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[st.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([H2]),at,si]})}}return n})();var W2={provide:Vi,useExisting:Et(()=>Zm)},Zm=(()=>{class n extends Vi{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rI(this,o)}ngOnChanges(t){this._added||this._setUpControl(),iI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return tI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(q(Tr,13),q(zo,10),q(zm,10),q(Li,10),q(sI,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formControlName",""]],inputs:{name:[st.None,"formControlName","name"],isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ut([W2]),at,si]})}}return n})(),K2={provide:Li,useExisting:Et(()=>Ho),multi:!0};function aI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Q2(n){return n.split(":")[0]}var Ho=(()=>{class n extends qo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=aI(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Q2(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=nn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&b("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([K2]),at]})}}return n})(),Wu=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(aI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(q(Cn),q(Ln),q(Ho,9))}}static{this.\u0275dir=Pe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Y2={provide:Li,useExisting:Et(()=>cI),multi:!0};function OE(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function J2(n){return n.split(":")[0]}var cI=(()=>{class n extends qo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=J2(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=nn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&b("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([Y2]),at]})}}return n})(),Ku=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(OE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(OE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(q(Cn),q(Ln),q(cI,9))}}static{this.\u0275dir=Pe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function lI(n){return typeof n=="number"?n:parseFloat(n)}var Xm=(()=>{class n{constructor(){this._validator=Lu}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Lu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Pe({type:n,features:[si]})}}return n})(),Z2={provide:zo,useExisting:Et(()=>eg),multi:!0},eg=(()=>{class n extends Xm{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>lI(t),this.createValidator=t=>jE(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=nn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ut([Z2]),at]})}}return n})(),X2={provide:zo,useExisting:Et(()=>tg),multi:!0},tg=(()=>{class n extends Xm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>lI(t),this.createValidator=t=>LE(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=nn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ut([X2]),at]})}}return n})(),ek={provide:zo,useExisting:Et(()=>ng),multi:!0};var ng=(()=>{class n extends Xm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=na,this.createValidator=t=>UE}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=nn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ut([ek]),at]})}}return n})();var uI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({})}}return n})(),qm=class extends $o{constructor(e,t,i){super(Hm(t),Wm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){eI(this,!1,e),e.forEach((i,r)=>{XE(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function kE(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var dI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return kE(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new $u(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Bm(r,i)}control(t,i,r){let o={};return this.useNonNullable?(kE(i)?o=i:(o.validators=i,o.asyncValidators=r),new da(t,Y(M({},o),{nonNullable:!0}))):new da(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new qm(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof da)return t;if(t instanceof $o)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Qu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ha,useValue:t.callSetDisabledState??fa}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({imports:[uI]})}}return n})(),hI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ha,useValue:t.callSetDisabledState??fa}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({imports:[uI]})}}return n})();var ig=[{id:1,name:"Stand. Flawinne FC",players:[{name:"Joueur non list\xE9",type:"milieu"}]},{id:2,name:"U10 Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Daniel",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:3,name:"U9 Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]},{id:4,name:"U11B Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Daniel",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:5,name:"U10A Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]}];function rg(n){return(!n.players||n.players.length===0)&&(n.players=[{name:"Joueur non list\xE9",type:"milieu"}]),n}var ne="primary",Ma=Symbol("RouteTitle"),lg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Jo(n){return new lg(n)}function tk(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function nk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jn(n[t],e[t]))return!1;return!0}function jn(n,e){let t=n?ug(n):void 0,i=e?ug(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!bI(n[r],e[r]))return!1;return!0}function ug(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function bI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function EI(n){return n.length>0?n[n.length-1]:null}function qi(n){return wf(n)?n:wr(n)?ke(Promise.resolve(n)):H(n)}var ik={exact:TI,subset:DI},II={exact:rk,subset:ok,ignored:()=>!0};function pI(n,e,t){return ik[t.paths](n.root,e.root,t.matrixParams)&&II[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function rk(n,e){return jn(n,e)}function TI(n,e,t){if(!xr(n.segments,e.segments)||!Zu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!TI(n.children[i],e.children[i],t))return!1;return!0}function ok(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bI(n[t],e[t]))}function DI(n,e,t){return xI(n,e,e.segments,t)}function xI(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!xr(r,t)||e.hasChildren()||!Zu(r,t,i))}else if(n.segments.length===t.length){if(!xr(n.segments,t)||!Zu(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!DI(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!xr(n.segments,r)||!Zu(n.segments,r,i)||!n.children[ne]?!1:xI(n.children[ne],e,o,i)}}function Zu(n,e,t){return e.every((i,r)=>II[t](n[r].parameters,i.parameters))}var ji=class{constructor(e=new Ie([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Jo(this.queryParams),this._queryParamMap}toString(){return ck.serialize(this)}},Ie=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xu(this)}},Dr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Jo(this.parameters),this._parameterMap}toString(){return AI(this)}};function sk(n,e){return xr(n,e)&&n.every((t,i)=>jn(t.parameters,e[i].parameters))}function xr(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function ak(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ne&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ne&&(t=t.concat(e(r,i)))}),t}var Pa=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>new Ca,providedIn:"root"})}}return n})(),Ca=class{parse(e){let t=new hg(e);return new ji(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ma(e.root,!0)}`,i=dk(e.queryParams),r=typeof e.fragment=="string"?`#${lk(e.fragment)}`:"";return`${t}${i}${r}`}},ck=new Ca;function Xu(n){return n.segments.map(e=>AI(e)).join("/")}function ma(n,e){if(!n.hasChildren())return Xu(n);if(e){let t=n.children[ne]?ma(n.children[ne],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ne&&i.push(`${r}:${ma(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=ak(n,(i,r)=>r===ne?[ma(n.children[ne],!1)]:[`${r}:${ma(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ne]!=null?`${Xu(n)}/${t[0]}`:`${Xu(n)}/(${t.join("//")})`}}function SI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yu(n){return SI(n).replace(/%3B/gi,";")}function lk(n){return encodeURI(n)}function dg(n){return SI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ed(n){return decodeURIComponent(n)}function mI(n){return ed(n.replace(/\+/g,"%20"))}function AI(n){return`${dg(n.path)}${uk(n.parameters)}`}function uk(n){return Object.entries(n).map(([e,t])=>`;${dg(e)}=${dg(t)}`).join("")}function dk(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Yu(t)}=${Yu(r)}`).join("&"):`${Yu(t)}=${Yu(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var hk=/^[^\/()?;#]+/;function og(n){let e=n.match(hk);return e?e[0]:""}var fk=/^[^\/()?;=#]+/;function pk(n){let e=n.match(fk);return e?e[0]:""}var mk=/^[^=?&#]+/;function gk(n){let e=n.match(mk);return e?e[0]:""}var _k=/^[^&#]+/;function vk(n){let e=n.match(_k);return e?e[0]:""}var hg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ne]=new Ie(e,t)),i}parseSegment(){let e=og(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Dr(ed(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=pk(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=og(this.remaining);r&&(i=r,this.capture(i))}e[ed(t)]=ed(i)}parseQueryParam(e){let t=gk(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=vk(this.remaining);s&&(i=s,this.capture(i))}let r=mI(t),o=mI(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=og(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new $(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ne]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function MI(n){return n.segments.length>0?new Ie([],{[ne]:n}):n}function PI(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=PI(r);if(i===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Ie(n.segments,e);return yk(t)}function yk(n){if(n.numberOfChildren===1&&n.children[ne]){let e=n.children[ne];return new Ie(n.segments.concat(e.segments),e.children)}return n}function Zo(n){return n instanceof ji}function wk(n,e,t=null,i=null){let r=RI(n);return NI(r,e,t,i)}function RI(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ie(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=MI(i);return e??r}function NI(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return sg(r,r,r,t,i);let o=Ck(e);if(o.toRoot())return sg(r,r,new Ie([],{}),t,i);let s=bk(o,r,n),a=s.processChildren?va(s.segmentGroup,s.index,o.commands):kI(s.segmentGroup,s.index,o.commands);return sg(r,s.segmentGroup,a,t,i)}function td(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ba(n){return typeof n=="object"&&n!=null&&n.outlets}function sg(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=OI(n,e,t);let a=MI(PI(s));return new ji(a,o,r)}function OI(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=OI(o,e,t)}),new Ie(n.segments,i)}var nd=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&td(i[0]))throw new $(4003,!1);let r=i.find(ba);if(r&&r!==EI(i))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ck(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new nd(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new nd(t,e,i)}var Qo=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function bk(n,e,t){if(n.isAbsolute)return new Qo(e,!0,0);if(!t)return new Qo(e,!1,NaN);if(t.parent===null)return new Qo(t,!0,0);let i=td(n.commands[0])?0:1,r=t.segments.length-1+i;return Ek(t,r,n.numberOfDoubleDots)}function Ek(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $(4005,!1);r=i.segments.length}return new Qo(i,!1,r-o)}function Ik(n){return ba(n[0])?n[0].outlets:{[ne]:n}}function kI(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return va(n,e,t);let i=Tk(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,i.pathIndex),{});return o.children[ne]=new Ie(n.segments.slice(i.pathIndex),n.children),va(o,0,r)}else return i.match&&r.length===0?new Ie(n.segments,{}):i.match&&!n.hasChildren()?fg(n,e,t):i.match?va(n,0,r):fg(n,e,t)}function va(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let i=Ik(t),r={};if(Object.keys(i).some(o=>o!==ne)&&n.children[ne]&&n.numberOfChildren===1&&n.children[ne].segments.length===0){let o=va(n.children[ne],e,t);return new Ie(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=kI(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ie(n.segments,r)}}function Tk(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(ba(a))break;let c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!_I(c,l,s))return o;i+=2}else{if(!_I(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function fg(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(ba(o)){let c=Dk(o.outlets);return new Ie(i,c)}if(r===0&&td(t[0])){let c=n.segments[e];i.push(new Dr(c.path,gI(t[0]))),r++;continue}let s=ba(o)?o.outlets[ne]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&td(a)?(i.push(new Dr(s,gI(a))),r+=2):(i.push(new Dr(s,{})),r++)}return new Ie(i,{})}function Dk(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=fg(new Ie([],{}),0,i))}),e}function gI(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function _I(n,e,t){return n==t.path&&jn(e,t.parameters)}var ya="imperative",et=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(et||{}),ln=class{constructor(e,t){this.id=e,this.url=t}},Xo=class extends ln{constructor(e,t,i="imperative",r=null){super(e,t),this.type=et.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hi=class extends ln{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(zt||{}),id=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(id||{}),Ui=class extends ln{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bi=class extends ln{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=et.NavigationSkipped}},Ea=class extends ln{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rd=class extends ln{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pg=class extends ln{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class extends ln{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gg=class extends ln{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class extends ln{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vg=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yg=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bg=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eg=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},od=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=et.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ia=class{},Ta=class{constructor(e){this.url=e}};var Ig=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ra,this.attachRef=null}},Ra=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Ig,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Tg(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Tg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Dg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Dg(e,this._root).map(t=>t.value)}};function Tg(n,e){if(n===e.value)return e;for(let t of e.children){let i=Tg(n,t);if(i)return i}return null}function Dg(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Dg(n,t);if(i.length)return i.unshift(e),i}return[]}var Gt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ko(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ad=class extends sd{constructor(e,t){super(e),this.snapshot=t,Fg(this,e)}toString(){return this.snapshot.toString()}};function FI(n){let e=xk(n),t=new ot([new Dr("",{})]),i=new ot({}),r=new ot({}),o=new ot({}),s=new ot(""),a=new fi(t,i,o,s,r,ne,n,e.root);return a.snapshot=e.root,new ad(new Gt(a,[]),e)}function xk(n){let e={},t={},i={},r="",o=new Da([],e,i,r,t,ne,n,null,{});return new cd("",new Gt(o,[]))}var fi=class{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[Ma]))??H(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Jo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Jo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kg(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:M(M({},e.params),n.params),data:M(M({},e.data),n.data),resolve:M(M(M(M({},n.data),e.data),r?.data),n._resolvedData)}:i={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},r&&LI(r)&&(i.resolve[Ma]=r.title),i}var Da=class{get title(){return this.data?.[Ma]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},cd=class extends sd{constructor(e,t){super(t),this.url=e,Fg(this,t)}toString(){return VI(this._root)}};function Fg(n,e){e.value._routerState=n,e.children.forEach(t=>Fg(n,t))}function VI(n){let e=n.children.length>0?` { ${n.children.map(VI).join(", ")} } `:"";return`${n.value}${e}`}function ag(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),jn(e.params,t.params)||n.paramsSubject.next(t.params),nk(e.url,t.url)||n.urlSubject.next(t.url),jn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function xg(n,e){let t=jn(n.params,e.params)&&sk(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||xg(n.parent,e.parent))}function LI(n){return typeof n.title=="string"||n.title===null}var Vg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=N(Ra),this.location=N(Ro),this.changeDetector=N(Cr),this.environmentInjector=N(ht),this.inputBinder=N(hd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Sg(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Pe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[si]})}}return n})(),Sg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===fi?this.route:e===Ra?this.childContexts:this.parent.get(e,t)}},hd=new U(""),vI=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Vs([i.queryParams,i.params,i.data]).pipe(Mt(([o,s,a],c)=>(a=M(M(M({},o),s),a),c===0?H(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=zb(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function Sk(n,e,t){let i=xa(n,e._root,t?t._root:void 0);return new ad(i,e)}function xa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=Ak(n,e,t);return new Gt(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xa(n,a)),s}}let i=Mk(e.value),r=e.children.map(o=>xa(n,o));return new Gt(i,r)}}function Ak(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xa(n,i,r);return xa(n,i)})}function Mk(n){return new fi(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}var jI="ngNavigationCancelingError";function UI(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=BI(!1,zt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function BI(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[jI]=!0,t.cancellationCode=e,t}function Pk(n){return $I(n)&&Zo(n.url)}function $I(n){return!!n&&n[jI]}var Rk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Mi({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ni],decls:1,vars:0,template:function(i,r){i&1&&E(0,"router-outlet")},dependencies:[Vg],encapsulation:2})}}return n})();function Nk(n,e){return n.providers&&!n._injector&&(n._injector=cu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Lg(n){let e=n.children&&n.children.map(Lg),t=e?Y(M({},n),{children:e}):M({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=Rk),t}function Un(n){return n.outlet||ne}function Ok(n,e){let t=n.filter(i=>Un(i)===e);return t.push(...n.filter(i=>Un(i)!==e)),t}function Na(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var kk=(n,e,t,i)=>ee(r=>(new Ag(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Ag=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ag(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Ko(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Ko(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Eg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Cg(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(ag(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ag(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Na(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},ld=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yo=class{constructor(e,t){this.component=e,this.route=t}};function Fk(n,e,t){let i=n._root,r=e?e._root:null;return ga(i,r,t,[i.value])}function Vk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ts(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!Gw(n)?n:e.get(n):i}function ga(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ko(e);return n.children.forEach(s=>{Lk(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wa(a,t.getContext(s),r)),r}function Lk(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=jk(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new ld(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ga(n,e,a?a.children:null,i,r):ga(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Yo(a.outlet.component,s))}else s&&wa(e,a,r),r.canActivateChecks.push(new ld(i)),o.component?ga(n,null,a?a.children:null,i,r):ga(n,null,t,i,r);return r}function jk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!xr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xr(n.url,e.url)||!jn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xg(n,e)||!jn(n.queryParams,e.queryParams);case"paramsChange":default:return!xg(n,e)}}function wa(n,e,t){let i=Ko(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?wa(s,e.children.getContext(o),t):wa(s,null,t):wa(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Yo(e.outlet.component,r)):t.canDeactivateChecks.push(new Yo(null,r)):t.canDeactivateChecks.push(new Yo(null,r))}function Oa(n){return typeof n=="function"}function Uk(n){return typeof n=="boolean"}function Bk(n){return n&&Oa(n.canLoad)}function $k(n){return n&&Oa(n.canActivate)}function qk(n){return n&&Oa(n.canActivateChild)}function Gk(n){return n&&Oa(n.canDeactivate)}function zk(n){return n&&Oa(n.canMatch)}function qI(n){return n instanceof Jn||n?.name==="EmptyError"}var Ju=Symbol("INITIAL_VALUE");function es(){return Mt(n=>Vs(n.map(e=>e.pipe(Xn(1),Tf(Ju)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===Ju)return Ju;if(t===!1||t instanceof ji)return t}return!0}),At(e=>e!==Ju),Xn(1)))}function Hk(n,e){return ze(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?H(Y(M({},t),{guardsResult:!0})):Wk(s,i,r,n).pipe(ze(a=>a&&Uk(a)?Kk(i,o,n,e):H(a)),ee(a=>Y(M({},t),{guardsResult:a})))})}function Wk(n,e,t,i){return ke(n).pipe(ze(r=>Xk(r.component,r.route,t,e,i)),Mn(r=>r!==!0,!0))}function Kk(n,e,t,i){return ke(e).pipe(Zn(r=>fo(Yk(r.route.parent,i),Qk(r.route,i),Zk(n,r.path,t),Jk(n,r.route,t))),Mn(r=>r!==!0,!0))}function Qk(n,e){return n!==null&&e&&e(new bg(n)),H(!0)}function Yk(n,e){return n!==null&&e&&e(new wg(n)),H(!0)}function Jk(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return H(!0);let r=i.map(o=>cl(()=>{let s=Na(e)??t,a=ts(o,s),c=$k(a)?a.canActivate(e,n):yn(s,()=>a(e,n));return qi(c).pipe(Mn())}));return H(r).pipe(es())}function Zk(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Vk(s)).filter(s=>s!==null).map(s=>cl(()=>{let a=s.guards.map(c=>{let l=Na(s.node)??t,u=ts(c,l),p=qk(u)?u.canActivateChild(i,n):yn(l,()=>u(i,n));return qi(p).pipe(Mn())});return H(a).pipe(es())}));return H(o).pipe(es())}function Xk(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let c=Na(e)??r,l=ts(a,c),u=Gk(l)?l.canDeactivate(n,e,t,i):yn(c,()=>l(n,e,t,i));return qi(u).pipe(Mn())});return H(s).pipe(es())}function eF(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return H(!0);let o=r.map(s=>{let a=ts(s,n),c=Bk(a)?a.canLoad(e,t):yn(n,()=>a(e,t));return qi(c)});return H(o).pipe(es(),GI(i))}function GI(n){return hf(He(e=>{if(Zo(e))throw UI(n,e)}),ee(e=>e===!0))}function tF(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return H(!0);let o=r.map(s=>{let a=ts(s,n),c=zk(a)?a.canMatch(e,t):yn(n,()=>a(e,t));return qi(c)});return H(o).pipe(es(),GI(i))}var Sa=class{constructor(e){this.segmentGroup=e||null}},ud=class extends Error{constructor(e){super(),this.urlTree=e}};function Wo(n){return uo(new Sa(n))}function nF(n){return uo(new $(4e3,!1))}function iF(n){return uo(BI(!1,zt.GuardRejected))}var Mg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return H(i);if(r.numberOfChildren>1||!r.children[ne])return nF(e.redirectTo);r=r.children[ne]}}applyRedirectCommands(e,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new ud(r);return r}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new ji(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Ie(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new $(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Pg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rF(n,e,t,i,r){let o=jg(n,e,t);return o.matched?(i=Nk(e,i),tF(i,e,t,r).pipe(ee(s=>s===!0?o:M({},Pg)))):H(o)}function jg(n,e,t){if(e.path==="**")return oF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?M({},Pg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||tk)(t,n,e);if(!r)return M({},Pg);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?M(M({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function oF(n){return{matched:!0,parameters:n.length>0?EI(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function yI(n,e,t,i){return t.length>0&&cF(n,t,i)?{segmentGroup:new Ie(e,aF(i,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&lF(n,t,i)?{segmentGroup:new Ie(n.segments,sF(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function sF(n,e,t,i){let r={};for(let o of t)if(fd(n,e,o)&&!i[Un(o)]){let s=new Ie([],{});r[Un(o)]=s}return M(M({},i),r)}function aF(n,e){let t={};t[ne]=e;for(let i of n)if(i.path===""&&Un(i)!==ne){let r=new Ie([],{});t[Un(i)]=r}return t}function cF(n,e,t){return t.some(i=>fd(n,e,i)&&Un(i)!==ne)}function lF(n,e,t){return t.some(i=>fd(n,e,i))}function fd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function uF(n,e,t,i){return Un(n)!==i&&(i===ne||!fd(e,t,n))?!1:jg(e,n,t).matched}function dF(n,e,t){return e.length===0&&!n.children[t]}var Rg=class{};function hF(n,e,t,i,r,o,s="emptyOnly"){return new Ng(n,e,t,i,r,s,o).recognize()}var fF=31,Ng=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Mg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=yI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(t=>{let i=new Da([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),r=new Gt(i,t),o=new cd("",r),s=wk(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(bi(i=>{if(i instanceof ud)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Sa?this.noMatchError(i):i}))}inheritParamsAndData(e,t){let i=e.value,r=kg(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ee(o=>o instanceof Gt?[o]:[]))}processChildren(e,t,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return ke(r).pipe(Zn(o=>{let s=i.children[o],a=Ok(t,o);return this.processSegmentGroup(e,a,s,o)}),If((o,s)=>(o.push(...s),o)),Ei(null),Ef(),ze(o=>{if(o===null)return Wo(i);let s=zI(o);return pF(s),H(s)}))}processSegment(e,t,i,r,o,s){return ke(t).pipe(Zn(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(bi(c=>{if(c instanceof Sa)return H(null);throw c}))),Mn(a=>!!a),bi(a=>{if(qI(a))return dF(i,r,o)?H(new Rg):Wo(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return uF(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Wo(r):Wo(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=jg(t,r,o);if(!a)return Wo(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fF&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,p).pipe(ze(v=>this.processSegment(e,i,t,v.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s=rF(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),s.pipe(Mt(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Mt(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:p,parameters:v}=a,y=new Da(u,v,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,gF(i),Un(i),i.component??i._loadedComponent??null,i,_F(i)),{segmentGroup:D,slicedSegments:x}=yI(t,u,p,c);if(x.length===0&&D.hasChildren())return this.processChildren(l,c,D).pipe(ee(F=>F===null?null:new Gt(y,F)));if(c.length===0&&x.length===0)return H(new Gt(y,[]));let A=Un(i)===o;return this.processSegment(l,c,D,x,A?ne:o,!0).pipe(ee(F=>new Gt(y,F instanceof Gt?[F]:[])))}))):Wo(t)))}getChildConfig(e,t,i){return t.children?H({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?H({routes:t._loadedRoutes,injector:t._loadedInjector}):eF(e,t,i,this.urlSerializer).pipe(ze(r=>r?this.configLoader.loadChildren(e,t).pipe(He(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):iF(t))):H({routes:[],injector:e})}};function pF(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}function mF(n){let e=n.value.routeConfig;return e&&e.path===""}function zI(n){let e=[],t=new Set;for(let i of n){if(!mF(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=zI(i.children);e.push(new Gt(i.value,r))}return e.filter(i=>!t.has(i))}function gF(n){return n.data||{}}function _F(n){return n.resolve||{}}function vF(n,e,t,i,r,o){return ze(s=>hF(n,e,t,i,s.extractedUrl,r,o).pipe(ee(({state:a,tree:c})=>Y(M({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function yF(n,e){return ze(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return H(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of HI(c))s.add(l);let a=0;return ke(s).pipe(Zn(c=>o.has(c)?wF(c,i,n,e):(c.data=kg(c,c.parent,n).resolve,H(void 0))),He(()=>a++),po(1),ze(c=>a===s.size?H(t):jt))})}function HI(n){let e=n.children.map(t=>HI(t)).flat();return[n,...e]}function wF(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!LI(r)&&(o[Ma]=r.title),CF(o,n,e,i).pipe(ee(s=>(n._resolvedData=s,n.data=kg(n,n.parent,t).resolve,null)))}function CF(n,e,t,i){let r=ug(n);if(r.length===0)return H({});let o={};return ke(r).pipe(ze(s=>bF(n[s],e,t,i).pipe(Mn(),He(a=>{o[s]=a}))),po(1),bf(o),bi(s=>qI(s)?jt:uo(s)))}function bF(n,e,t,i){let r=Na(e)??i,o=ts(n,r),s=o.resolve?o.resolve(e,t):yn(r,()=>o(e,t));return qi(s)}function cg(n){return Mt(e=>{let t=n(e);return t?ke(t).pipe(ee(()=>e)):H(e)})}var WI=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ne);return i}getResolvedTitleForRoute(t){return t.data[Ma]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(EF),providedIn:"root"})}}return n})(),EF=(()=>{class n extends WI{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(B(DE))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ka=new U("",{providedIn:"root",factory:()=>({})}),Aa=new U(""),Ug=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(hu)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return H(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=qi(t.loadComponent()).pipe(ee(KI),He(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),cr(()=>{this.componentLoaders.delete(t)})),r=new so(i,()=>new wt).pipe(oo());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return H({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=IF(i,this.compiler,t,this.onLoadEndListener).pipe(cr(()=>{this.childrenLoaders.delete(i)})),s=new so(o,()=>new wt).pipe(oo());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function IF(n,e,t,i){return qi(n.loadChildren()).pipe(ee(KI),ze(r=>r instanceof Ws||Array.isArray(r)?H(r):ke(e.compileModuleAsync(r))),ee(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Aa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lg),injector:o}}))}function TF(n){return n&&typeof n=="object"&&"default"in n}function KI(n){return TF(n)?n.default:n}var Bg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(DF),providedIn:"root"})}}return n})(),DF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QI=new U(""),YI=new U("");function xF(n,e,t){let i=n.get(YI),r=n.get(mt);return n.get(Ee).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),SF(n))),{onViewTransitionCreated:c}=i;return c&&yn(n,()=>c({transition:a,from:e,to:t})),s})}function SF(n){return new Promise(e=>{au(e,{injector:n})})}var $g=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.transitionAbortSubject=new wt,this.configLoader=N(Ug),this.environmentInjector=N(ht),this.urlSerializer=N(Pa),this.rootContexts=N(Ra),this.location=N(Vo),this.inputBindingEnabled=N(hd,{optional:!0})!==null,this.titleStrategy=N(WI),this.options=N(ka,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Bg),this.createViewTransition=N(QI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null;let t=r=>this.events.next(new vg(r)),i=r=>this.events.next(new yg(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Y(M(M({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new ot({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ya,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),ee(o=>Y(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Mt(o=>{let s=!1,a=!1;return H(o).pipe(Mt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",zt.SupersededByNewNavigation),jt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Y(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let p="";return this.events.next(new Bi(c.id,this.urlSerializer.serialize(c.rawUrl),p,id.IgnoredSameUrlNavigation)),c.resolve(null),jt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return H(c).pipe(Mt(p=>{let v=this.transitions?.getValue();return this.events.next(new Xo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?jt:Promise.resolve(p)}),vF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),He(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Y(M({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new rd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:v,source:y,restoredState:D,extras:x}=c,A=new Xo(p,this.urlSerializer.serialize(v),y,D);this.events.next(A);let F=FI(this.rootComponentType).snapshot;return this.currentTransition=o=Y(M({},c),{targetSnapshot:F,urlAfterRedirects:v,extras:Y(M({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,H(o)}else{let p="";return this.events.next(new Bi(c.id,this.urlSerializer.serialize(c.extractedUrl),p,id.IgnoredByUrlHandlingStrategy)),c.resolve(null),jt}}),He(c=>{let l=new pg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ee(c=>(this.currentTransition=o=Y(M({},c),{guards:Fk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Hk(this.environmentInjector,c=>this.events.next(c)),He(c=>{if(o.guardsResult=c.guardsResult,Zo(c.guardsResult))throw UI(this.urlSerializer,c.guardsResult);let l=new mg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),At(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",zt.GuardRejected),!1)),cg(c=>{if(c.guards.canActivateChecks.length)return H(c).pipe(He(l=>{let u=new gg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Mt(l=>{let u=!1;return H(l).pipe(yF(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",zt.NoDataFromResolver)}}))}),He(l=>{let u=new _g(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),cg(c=>{let l=u=>{let p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(He(v=>{u.component=v}),ee(()=>{})));for(let v of u.children)p.push(...l(v));return p};return Vs(l(c.targetSnapshot.root)).pipe(Ei(null),Xn(1))}),cg(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?ke(u).pipe(ee(()=>o)):H(o)}),ee(c=>{let l=Sk(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Y(M({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),He(()=>{this.events.next(new Ia)}),kk(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Xn(1),He({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Df(this.transitionAbortSubject.pipe(He(c=>{throw c}))),cr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",zt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),bi(c=>{if(a=!0,$I(c))this.events.next(new Ui(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Pk(c)?this.events.next(new Ta(c.url)):o.resolve(!1);else{this.events.next(new Ea(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return jt}))}))}cancelNavigationTransition(t,i,r){let o=new Ui(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function AF(n){return n!==ya}var MF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(PF),providedIn:"root"})}}return n})(),Og=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},PF=(()=>{class n extends Og{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=nn(n)))(r||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(RF),providedIn:"root"})}}return n})(),RF=(()=>{class n extends JI{constructor(){super(...arguments),this.location=N(Vo),this.urlSerializer=N(Pa),this.options=N(ka,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Bg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ji,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=FI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Xo)this.stateMemento=this.createStateMemento();else if(t instanceof Bi)this.rawUrlTree=i.initialUrl;else if(t instanceof rd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof Ia?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Ui&&(t.code===zt.GuardRejected||t.code===zt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Ea?this.restoreHistory(i,!0):t instanceof hi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=M(M({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=M(M({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=nn(n)))(r||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_a=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(_a||{});function ZI(n,e){n.events.pipe(At(t=>t instanceof hi||t instanceof Ui||t instanceof Ea||t instanceof Bi),ee(t=>t instanceof hi||t instanceof Bi?_a.COMPLETE:(t instanceof Ui?t.code===zt.Redirect||t.code===zt.SupersededByNewNavigation:!1)?_a.REDIRECTING:_a.FAILED),At(t=>t!==_a.REDIRECTING),Xn(1)).subscribe(()=>{e()})}function NF(n){throw n}var OF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$i=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(uu),this.stateManager=N(JI),this.options=N(ka,{optional:!0})||{},this.pendingTasks=N(No),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N($g),this.urlSerializer=N(Pa),this.location=N(Vo),this.urlHandlingStrategy=N(Bg),this._events=new wt,this.errorHandler=this.options.errorHandler||NF,this.navigated=!1,this.routeReuseStrategy=N(MF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Aa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(hd,{optional:!0}),this.eventsSubscription=new $e,this.isNgZoneEnabled=N(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ui&&i.code!==zt.Redirect&&i.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof hi)this.navigated=!0;else if(i instanceof Ta){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||AF(r.source)};this.scheduleNavigation(s,ya,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}VF(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ya,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=M({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Lg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,u=null;switch(a){case"merge":u=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let v=r?r.snapshot:this.routerState.snapshot.root;p=RI(v)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return NI(p,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Zo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ya,null,i)}navigate(t,i={skipLocationChange:!1}){return FF(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=M({},OF):i===!1?r=M({},kF):r=i,Zo(t))return pI(this.currentUrlTree,t,r);let o=this.parseUrl(t);return pI(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,v)=>{a=p,c=v});let u=this.pendingTasks.add();return ZI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function FF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}function VF(n){return!(n instanceof Ia)&&!(n instanceof Ta)}var dd=class{};var LF=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(At(t=>t instanceof hi),Zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=cu(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ke(r).pipe(ho())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=H(null);let o=r.pipe(ze(s=>s===null?H(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ke([o,s]).pipe(ho())}else return o})}static{this.\u0275fac=function(i){return new(i||n)(B($i),B(hu),B(ht),B(dd),B(Ug))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XI=new U(""),jF=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=N(ht),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bi&&t.code===id.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof od&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>I(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),au(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new od(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){lb()}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function eT(n,...e){return Mo([{provide:Aa,multi:!0,useValue:n},[],{provide:fi,useFactory:tT,deps:[$i]},{provide:ta,multi:!0,useFactory:nT},e.map(t=>t.\u0275providers)])}function tT(n){return n.routerState.root}function Fa(n,e){return{\u0275kind:n,\u0275providers:e}}function nT(){let n=N(kt);return e=>{let t=n.get(ko);if(e!==t.components[0])return;let i=n.get($i),r=n.get(iT);n.get(qg)===1&&i.initialNavigation(),n.get(rT,null,ie.Optional)?.setUpPreloading(),n.get(XI,null,ie.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var iT=new U("",{factory:()=>new wt}),qg=new U("",{providedIn:"root",factory:()=>1});function UF(){return Fa(2,[{provide:qg,useValue:0},{provide:du,multi:!0,deps:[kt],useFactory:e=>{let t=e.get(eE,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get($i),o=e.get(iT);ZI(r,()=>{i(!0)}),e.get($g).afterPreactivation=()=>(i(!0),o.closed?H(void 0):o),r.initialNavigation()}))}}])}function BF(){return Fa(3,[{provide:du,multi:!0,useFactory:()=>{let e=N($i);return()=>{e.setUpLocationChangeListener()}}},{provide:qg,useValue:2}])}var rT=new U("");function $F(n){return Fa(0,[{provide:rT,useExisting:LF},{provide:dd,useExisting:n}])}function qF(){return Fa(8,[vI,{provide:hd,useExisting:vI}])}function GF(n){let e=[{provide:QI,useValue:xF},{provide:YI,useValue:M({skipNextTransition:!!n?.skipInitialTransition},n)}];return Fa(9,e)}var wI=new U("ROUTER_FORROOT_GUARD"),zF=[Vo,{provide:Pa,useClass:Ca},$i,Ra,{provide:fi,useFactory:tT,deps:[$i]},Ug,[]],oT=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[zF,[],{provide:Aa,multi:!0,useValue:t},{provide:wI,useFactory:QF,deps:[[$i,new en,new Pp]]},{provide:ka,useValue:i||{}},i?.useHash?WF():KF(),HF(),i?.preloadingStrategy?$F(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?YF(i):[],i?.bindToComponentInputs?qF().\u0275providers:[],i?.enableViewTransitions?GF().\u0275providers:[],JF()]}}static forChild(t){return{ngModule:n,providers:[{provide:Aa,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(B(wI,8))}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({})}}return n})();function HF(){return{provide:XI,useFactory:()=>{let n=N(cE),e=N(Ee),t=N(ka),i=N($g),r=N(Pa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new jF(r,i,n,e,t)}}}function WF(){return{provide:br,useClass:nE}}function KF(){return{provide:br,useClass:Dm}}function QF(n){return"guarded"}function YF(n){return[n.initialNavigation==="disabled"?BF().\u0275providers:[],n.initialNavigation==="enabledBlocking"?UF().\u0275providers:[]]}var CI=new U("");function JF(){return[{provide:CI,useFactory:nT},{provide:ta,multi:!0,useExisting:CI}]}function ZF(n,e){if(n&1&&(f(0,"option",12),m(1),h()),n&2){let t=e.$implicit;_("value",t),d(),O(" ",t," ")}}function XF(n,e){if(n&1&&(f(0,"option",12),m(1),h()),n&2){let t=e.$implicit;_("value",t),d(),O(" ",t," ")}}function eV(n,e){if(n&1){let t=R();f(0,"div",19)(1,"div",20)(2,"div",21)(3,"h6",22),E(4,"i",23),m(5,"Nouvelle Comp\xE9tition "),h()(),f(6,"div",24)(7,"div",25)(8,"div",26)(9,"label",27),m(10,"Nom de la comp\xE9tition *"),h(),f(11,"input",28),me("ngModelChange",function(r){w(t);let o=g();return _e(o.competitionForm.name,r)||(o.competitionForm.name=r),C(r)}),h()(),f(12,"div",26)(13,"label",29),m(14,"Type"),h(),f(15,"select",30),me("ngModelChange",function(r){w(t);let o=g();return _e(o.competitionForm.type,r)||(o.competitionForm.type=r),C(r)}),T(16,XF,2,2,"option",13),h()(),f(17,"div",26)(18,"label",31),m(19,"Saison (lecture seule)"),h(),f(20,"input",32),me("ngModelChange",function(r){w(t);let o=g();return _e(o.competitionForm.season,r)||(o.competitionForm.season=r),C(r)}),h()()(),f(21,"div",33)(22,"label",34),m(23,"Description"),h(),f(24,"textarea",35),me("ngModelChange",function(r){w(t);let o=g();return _e(o.competitionForm.description,r)||(o.competitionForm.description=r),C(r)}),h()(),f(25,"div",36)(26,"button",37),b("click",function(){w(t);let r=g();return C(r.submitForm())}),E(27,"i",38),m(28,"Cr\xE9er "),h(),f(29,"button",17),b("click",function(){w(t);let r=g();return C(r.cancelForm())}),E(30,"i",18),m(31,"Annuler "),h()()()()()}if(n&2){let t=g();d(11),pe("ngModel",t.competitionForm.name),d(4),pe("ngModel",t.competitionForm.type),d(),_("ngForOf",t.competitionTypes),d(4),pe("ngModel",t.competitionForm.season),d(4),pe("ngModel",t.competitionForm.description)}}function tV(n,e){if(n&1&&(f(0,"option",12),m(1),h()),n&2){let t=e.$implicit;_("value",t),d(),O(" ",t," ")}}function nV(n,e){if(n&1){let t=R();f(0,"div",19)(1,"div",20)(2,"div",39)(3,"h6",22),E(4,"i",40),m(5,"Modifier la Comp\xE9tition "),h()(),f(6,"div",24)(7,"div",25)(8,"div",26)(9,"label",41),m(10,"Nom de la comp\xE9tition *"),h(),f(11,"input",42),me("ngModelChange",function(r){w(t);let o=g();return _e(o.competitionForm.name,r)||(o.competitionForm.name=r),C(r)}),h()(),f(12,"div",26)(13,"label",43),m(14,"Type"),h(),f(15,"select",44),me("ngModelChange",function(r){w(t);let o=g();return _e(o.competitionForm.type,r)||(o.competitionForm.type=r),C(r)}),T(16,tV,2,2,"option",13),h()(),f(17,"div",26)(18,"label",45),m(19,"Saison (lecture seule)"),h(),f(20,"input",46),me("ngModelChange",function(r){w(t);let o=g();return _e(o.competitionForm.season,r)||(o.competitionForm.season=r),C(r)}),h()()(),f(21,"div",33)(22,"label",47),m(23,"Description"),h(),f(24,"textarea",48),me("ngModelChange",function(r){w(t);let o=g();return _e(o.competitionForm.description,r)||(o.competitionForm.description=r),C(r)}),h()(),f(25,"div",36)(26,"button",49),b("click",function(){w(t);let r=g();return C(r.submitForm())}),E(27,"i",38),m(28,"Mettre \xE0 jour "),h(),f(29,"button",17),b("click",function(){w(t);let r=g();return C(r.cancelForm())}),E(30,"i",18),m(31,"Annuler "),h()()()()()}if(n&2){let t=g();d(11),pe("ngModel",t.competitionForm.name),d(4),pe("ngModel",t.competitionForm.type),d(),_("ngForOf",t.competitionTypes),d(4),pe("ngModel",t.competitionForm.season),d(4),pe("ngModel",t.competitionForm.description)}}function iV(n,e){if(n&1&&(f(0,"span",74),E(1,"i",75),m(2),h()),n&2){let t=g(2).$implicit,i=g(2);d(2),O("",i.getSuggestedSeason(t)," ")}}function rV(n,e){if(n&1&&(f(0,"span",71),E(1,"i",72),m(2,"Sans saison "),T(3,iV,3,1,"span",73),h()),n&2){let t=g().$implicit,i=g(2);d(3),_("ngIf",i.getSuggestedSeason(t))}}function oV(n,e){if(n&1){let t=R();f(0,"button",76),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.openSeasonAssignment(r))}),E(1,"i",77),h()}}function sV(n,e){if(n&1){let t=R();f(0,"button",78),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.deleteCompetition(r))}),E(1,"i",79),h()}}function aV(n,e){if(n&1){let t=R();f(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54)(4,"input",63),b("change",function(){let r=w(t).$implicit,o=g(2);return C(o.selectCompetition(r))}),h(),f(5,"label",64)(6,"span",65),m(7),h(),T(8,rV,4,1,"span",66),h()()(),f(9,"div",58),T(10,oV,2,0,"button",67),f(11,"button",68),b("click",function(){let r=w(t).$implicit,o=g(2);return C(o.openEditForm(r))}),E(12,"i",69),h(),T(13,sV,2,0,"button",70),h()()()}if(n&2){let t=e.$implicit,i=g(2);d(4),_("value",t)("checked",i.selectedCompetition===t)("id","comp-"+t),d(3),te(t),d(),_("ngIf",i.isCompetitionWithoutSeason(t)),d(2),_("ngIf",i.isCompetitionWithoutSeason(t)),d(3),_("ngIf",i.showDeleteButtons)}}function cV(n,e){n&1&&(f(0,"div",80)(1,"div",81),E(2,"i",82),f(3,"p"),m(4,"Aucune comp\xE9tition trouv\xE9e pour cette saison."),h(),f(5,"p"),m(6,"Cr\xE9ez votre premi\xE8re comp\xE9tition !"),h()()())}function lV(n,e){if(n&1){let t=R();f(0,"button",83),b("click",function(){w(t);let r=g(2);return C(r.openAddForm())}),E(1,"i",23),m(2," Ajouter une nouvelle comp\xE9tition "),h()}}function uV(n,e){if(n&1){let t=R();f(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53)(4,"div",54)(5,"input",55),b("change",function(){w(t);let r=g();return C(r.selectCompetition(""))}),h(),f(6,"label",56)(7,"span",57),m(8),h()()()(),E(9,"div",58),h()(),T(10,aV,14,7,"div",59)(11,cV,7,0,"div",60),f(12,"div",61),T(13,lV,3,0,"button",62),h()()}if(n&2){let t=g();d(5),_("value","")("checked",t.selectedCompetition===""||t.selectedCompetition===t.selectedSeason),d(3),O("Toutes les comp\xE9titions de ",t.selectedSeason||"toutes les saisons",""),d(2),_("ngForOf",t.competitions),d(),_("ngIf",t.competitions.length===0),d(2),_("ngIf",!t.showAddForm&&!t.showEditForm)}}var aT=(()=>{class n{constructor(){this.competitions=[],this.selectedSeason="",this.selectedCompetition="",this.isCompetitionWithoutSeason=()=>!1,this.getSuggestedSeason=()=>null,this.showDeleteButtons=!1,this.availableSeasons=[],this.competitionSelected=new Fe,this.competitionAdded=new Fe,this.competitionUpdated=new Fe,this.competitionDeleted=new Fe,this.assignSeason=new Fe,this.closeModal=new Fe,this.seasonChanged=new Fe,this.showAddForm=!1,this.showEditForm=!1,this.editingCompetition=null,this.competitionForm={name:"",description:"",season:"",type:""},this.competitionTypes=["Championnat","Coupe","Tournoi","Match amical","Playoff","Autre"]}ngOnInit(){(!this.availableSeasons||this.availableSeasons.length===0)&&(this.availableSeasons=this.generateSeasons()),this.competitionForm.season=this.selectedSeason}generateSeasons(){let t=new Date().getFullYear(),i=[];for(let r=-5;r<=2;r++){let o=t+r;o>=2020&&i.push(`${o}-${o+1}`)}return i}selectCompetition(t){this.selectedCompetition=t,t===""?this.competitionSelected.emit(this.selectedSeason):this.competitionSelected.emit(t),this.closeModal.emit()}openAddForm(){this.showAddForm=!0,this.showEditForm=!1,this.resetForm()}openEditForm(t){this.editingCompetition={name:t,season:this.selectedSeason},this.competitionForm=M({},this.editingCompetition),this.showEditForm=!0,this.showAddForm=!1}cancelForm(){this.showAddForm=!1,this.showEditForm=!1,this.resetForm()}submitForm(){this.competitionForm.name.trim()&&(this.showAddForm?this.competitionAdded.emit(Y(M({},this.competitionForm),{createdAt:new Date,updatedAt:new Date})):this.showEditForm&&this.editingCompetition&&this.competitionUpdated.emit({oldName:this.editingCompetition.name,newCompetition:Y(M({},this.competitionForm),{id:this.editingCompetition.id,updatedAt:new Date})}),this.cancelForm())}deleteCompetition(t){confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la comp\xE9tition "${t}" ?

Attention : Cette action supprimera \xE9galement tous les matchs associ\xE9s.`)&&this.competitionDeleted.emit(t)}assignSeasonToCompetition(t,i){this.assignSeason.emit({competition:t,season:i})}openSeasonAssignment(t){let i=this.getSuggestedSeason(t),r=`Attribuer une saison \xE0 la comp\xE9tition "${t}"

`;i&&(r+=`Saison sugg\xE9r\xE9e (bas\xE9e sur le premier match) : ${i}

`),r+=`Saisons disponibles :
${this.availableSeasons.join(`
`)}

Entrez la saison souhait\xE9e :`;let o=prompt(r);o&&this.availableSeasons.includes(o)?this.assignSeasonToCompetition(t,o):o&&alert("Saison invalide. Veuillez choisir une saison de la liste.")}resetForm(){this.competitionForm={name:"",description:"",season:this.selectedSeason,type:"Championnat"},this.editingCompetition=null}close(){this.closeModal.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Mi({type:n,selectors:[["app-competition-filter-modal"]],inputs:{competitions:"competitions",selectedSeason:"selectedSeason",selectedCompetition:"selectedCompetition",isCompetitionWithoutSeason:"isCompetitionWithoutSeason",getSuggestedSeason:"getSuggestedSeason",showDeleteButtons:"showDeleteButtons",availableSeasons:"availableSeasons"},outputs:{competitionSelected:"competitionSelected",competitionAdded:"competitionAdded",competitionUpdated:"competitionUpdated",competitionDeleted:"competitionDeleted",assignSeason:"assignSeason",closeModal:"closeModal",seasonChanged:"seasonChanged"},standalone:!0,features:[Ni],decls:25,vars:6,consts:[[1,"modal-overlay"],[1,"competition-modal"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-trophy","me-2"],["type","button","aria-label","Fermer",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"season-selector","mb-4","d-flex","align-items-center"],["for","seasonSelect",1,"form-label","fw-bold","mb-0","me-3"],[1,"fas","fa-calendar-alt","me-2"],["id","seasonSelect",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","competition-form mb-4",4,"ngIf"],["class","competitions-list",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],[1,"competition-form","mb-4"],[1,"card"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"fas","fa-plus","me-2"],[1,"card-body"],[1,"row"],[1,"col-md-6","mb-3"],["for","compName",1,"form-label"],["type","text","id","compName","placeholder","Ex: Ligue 1, Coupe de France...",1,"form-control",3,"ngModelChange","ngModel"],["for","compType",1,"form-label"],["id","compType",1,"form-select",3,"ngModelChange","ngModel"],["for","compSeason",1,"form-label"],["type","text","id","compSeason","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],["for","compDescription",1,"form-label"],["id","compDescription","rows","2","placeholder","Description optionnelle de la comp\xE9tition...",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-save","me-2"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-edit","me-2"],["for","editCompName",1,"form-label"],["type","text","id","editCompName","placeholder","Ex: Ligue 1, Coupe de France...",1,"form-control",3,"ngModelChange","ngModel"],["for","editCompType",1,"form-label"],["id","editCompType",1,"form-select",3,"ngModelChange","ngModel"],["for","editCompSeason",1,"form-label"],["type","text","id","editCompSeason","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","editCompDescription",1,"form-label"],["id","editCompDescription","rows","2","placeholder","Description optionnelle de la comp\xE9tition...",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"competitions-list"],[1,"competition-item","mb-2"],[1,"competition-card"],[1,"competition-info"],[1,"form-check"],["type","radio","id","allCompetitions",1,"form-check-input",3,"change","value","checked"],["for","allCompetitions",1,"form-check-label"],[1,"badge","bg-secondary"],[1,"competition-actions"],["class","competition-item mb-2",4,"ngFor","ngForOf"],["class","no-competitions",4,"ngIf"],[1,"add-competition-section","mt-4"],["type","button","class","btn btn-success w-100",3,"click",4,"ngIf"],["type","radio",1,"form-check-input",3,"change","value","checked","id"],["for","'comp-' + competition",1,"form-check-label"],[1,"badge","competition-badge"],["class","badge bg-warning ms-2",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-warning","title","Attribuer une saison",3,"click",4,"ngIf"],["type","button","title","Modifier la comp\xE9tition",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["type","button","class","btn btn-sm btn-outline-danger","title","Supprimer la comp\xE9tition",3,"click",4,"ngIf"],[1,"badge","bg-warning","ms-2"],[1,"fas","fa-exclamation-triangle","me-1"],["class","badge bg-info ms-1",4,"ngIf"],[1,"badge","bg-info","ms-1"],[1,"fas","fa-lightbulb","me-1"],["type","button","title","Attribuer une saison",1,"btn","btn-sm","btn-outline-warning",3,"click"],[1,"fas","fa-calendar-plus"],["type","button","title","Supprimer la comp\xE9tition",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[1,"no-competitions"],[1,"text-center","text-muted","py-4"],[1,"fas","fa-trophy","fa-3x","mb-3"],["type","button",1,"btn","btn-success","w-100",3,"click"]],template:function(i,r){i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),E(4,"i",4),m(5," Gestion des Comp\xE9titions "),h(),f(6,"button",5),b("click",function(){return r.close()}),f(7,"span",6),m(8,"\xD7"),h()()(),f(9,"div",7)(10,"div",8)(11,"label",9),E(12,"i",10),m(13,"Saison : "),h(),f(14,"select",11),me("ngModelChange",function(s){return _e(r.selectedSeason,s)||(r.selectedSeason=s),s}),b("ngModelChange",function(s){return r.seasonChanged.emit(s)}),f(15,"option",12),m(16,"Toutes les saisons"),h(),T(17,ZF,2,2,"option",13),h()(),T(18,eV,32,5,"div",14)(19,nV,32,5,"div",14)(20,uV,14,6,"div",15),h(),f(21,"div",16)(22,"button",17),b("click",function(){return r.close()}),E(23,"i",18),m(24,"Fermer "),h()()()()),i&2&&(d(14),pe("ngModel",r.selectedSeason),d(),_("value",""),d(2),_("ngForOf",r.availableSeasons),d(),_("ngIf",r.showAddForm),d(),_("ngIf",r.showEditForm),d(),_("ngIf",!r.showAddForm&&!r.showEditForm))},dependencies:[Er,Lo,jo,Qu,Wu,Ku,Go,Ho,zu,pa],styles:[".competition-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:800px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.5rem;border-bottom:none}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.season-selector[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}.season-selector[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#495057}.season-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #dee2e6;border-radius:8px;padding:.5rem;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.season-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.add-competition-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:1rem;font-size:1.1rem;font-weight:600;border-radius:10px;transition:all .3s ease;box-shadow:0 4px 15px #28a7454d}.add-competition-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #28a74566}.competition-form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 4px 20px #0000001a;overflow:hidden}.competition-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:none}.competition-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-weight:600}.competition-form[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.competition-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin-bottom:.5rem}.competition-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .competition-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:8px;padding:.75rem;transition:border-color .3s ease,box-shadow .3s ease}.competition-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .competition-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.competition-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;border-radius:8px;transition:all .3s ease}.competition-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.competitions-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.competition-item[_ngcontent-%COMP%]{transition:all .3s ease}.competition-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.competition-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.competition-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0}.competition-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.competition-badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem;border-radius:20px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}.badge.bg-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#495057)!important}.form-check[_ngcontent-%COMP%]{margin-bottom:0}.form-check-input[_ngcontent-%COMP%]{width:1.2em;height:1.2em;margin-top:.1em;cursor:pointer}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#667eea;border-color:#667eea}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem;font-weight:500}.no-competitions[_ngcontent-%COMP%]{padding:2rem}.no-competitions[_ngcontent-%COMP%]   .fa-trophy[_ngcontent-%COMP%]{color:#dee2e6}.no-competitions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1.1rem}@media (max-width: 768px){.competition-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.modal-body[_ngcontent-%COMP%], .competition-form[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.competition-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;text-align:left;min-height:55px}.competition-actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-end;gap:.5rem;flex-shrink:0}.competition-info[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.competition-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}@media (max-width: 480px){.competition-card[_ngcontent-%COMP%]{flex-direction:row;text-align:left;min-height:50px;padding:.75rem}.competition-actions[_ngcontent-%COMP%]{justify-content:flex-end;width:auto;gap:.4rem}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.competition-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.competition-form[_ngcontent-%COMP%], .competitions-list[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1040;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]})}}return n})();var lT=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},dV=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0,u=o>>2,p=(o&3)<<4|a>>4,v=(a&15)<<2|l>>6,y=l&63;c||(y=64,s||(v=64)),i.push(t[u],t[p],t[v],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let l=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||l==null||p==null)throw new zg;let v=o<<2|a>>4;if(i.push(v),l!==64){let y=a<<4&240|l>>2;if(i.push(y),p!==64){let D=l<<6&192|p;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},zg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hV=function(n){let e=lT(n);return uT.encodeByteArray(e,!0)},Va=function(n){return hV(n).replace(/\./g,"")},Wg=function(n){try{return uT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pV=()=>fV().__FIREBASE_DEFAULTS__,mV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Wg(n[1]);return e&&JSON.parse(e)},Kg=()=>{try{return pV()||mV()||gV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dT=n=>{var e,t;return(t=(e=Kg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hT=n=>{let e=dT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Qg=()=>{var n;return(n=Kg())===null||n===void 0?void 0:n.config},fT=n=>{var e;return(e=Kg())===null||e===void 0?void 0:e[`_${n}`]};var pd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function pT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Va(JSON.stringify(t)),Va(JSON.stringify(s)),""].join(".")}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function gT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _T(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yg(){try{return typeof indexedDB=="object"}catch{return!1}}function vT(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var _V="FirebaseError",un=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=_V,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pi.prototype.create)}},pi=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?vV(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new un(r,a,i)}};function vV(n,e){return n.replace(yV,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var yV=/\{\$([^}]+)}/g;function ns(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(cT(o)&&cT(s)){if(!ns(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function cT(n){return n!==null&&typeof n=="object"}function Jg(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function yT(n,e){let t=new Hg(n,e);return t.subscribe.bind(t)}var Hg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");wV(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Gg),r.error===void 0&&(r.error=Gg),r.complete===void 0&&(r.complete=Gg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gg(){}var DK=4*60*60*1e3;function Tt(n){return n&&n._delegate?n._delegate:n}var hn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Sr="[DEFAULT]";var Zg=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new pd;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bV(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CV(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CV(n){return n===Sr?void 0:n}function bV(n){return n.instantiationMode==="EAGER"}var md=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Zg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var EV=[],ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ce||{}),IV={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},TV=ce.INFO,DV={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},xV=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=DV[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gi=class{constructor(e){this.name=e,this._logLevel=TV,this._logHandler=xV,this._userLogHandler=null,EV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var SV=(n,e)=>e.some(t=>n instanceof t),wT,CT;function AV(){return wT||(wT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MV(){return CT||(CT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bT=new WeakMap,e_=new WeakMap,ET=new WeakMap,Xg=new WeakMap,n_=new WeakMap;function PV(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Bn(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&bT.set(t,n)}).catch(()=>{}),n_.set(e,n),e}function RV(n){if(e_.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});e_.set(n,e)}var t_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return e_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ET.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function IT(n){t_=n(t_)}function NV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(gd(this),e,...t);return ET.set(i,e.sort?e.sort():[e]),Bn(i)}:MV().includes(n)?function(...e){return n.apply(gd(this),e),Bn(bT.get(this))}:function(...e){return Bn(n.apply(gd(this),e))}}function OV(n){return typeof n=="function"?NV(n):(n instanceof IDBTransaction&&RV(n),SV(n,AV())?new Proxy(n,t_):n)}function Bn(n){if(n instanceof IDBRequest)return PV(n);if(Xg.has(n))return Xg.get(n);let e=OV(n);return e!==n&&(Xg.set(n,e),n_.set(e,n)),e}var gd=n=>n_.get(n);function DT(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=Bn(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Bn(s.result),c.oldVersion,c.newVersion,Bn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var kV=["get","getKey","getAll","getAllKeys","count"],FV=["put","add","delete","clear"],i_=new Map;function TT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(i_.get(e))return i_.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=FV.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||kV.includes(t)))return;let o=function(s,...a){return I(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),r&&c.done]))[0]})};return i_.set(e,o),o}IT(n=>Y(M({},n),{get:(e,t,i)=>TT(e,t)||n.get(e,t,i),has:(e,t)=>!!TT(e,t)||n.has(e,t)}));var o_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VV(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function VV(n){let e=n.getComponent();return e?.type==="VERSION"}var s_="@firebase/app",xT="0.9.24";var Ar=new Gi("@firebase/app"),LV="@firebase/app-compat",jV="@firebase/analytics-compat",UV="@firebase/analytics",BV="@firebase/app-check-compat",$V="@firebase/app-check",qV="@firebase/auth",GV="@firebase/auth-compat",zV="@firebase/database",HV="@firebase/database-compat",WV="@firebase/functions",KV="@firebase/functions-compat",QV="@firebase/installations",YV="@firebase/installations-compat",JV="@firebase/messaging",ZV="@firebase/messaging-compat",XV="@firebase/performance",eL="@firebase/performance-compat",tL="@firebase/remote-config",nL="@firebase/remote-config-compat",iL="@firebase/storage",rL="@firebase/storage-compat",oL="@firebase/firestore",sL="@firebase/firestore-compat",aL="firebase",cL="10.7.0";var a_="[DEFAULT]",lL={[s_]:"fire-core",[LV]:"fire-core-compat",[UV]:"fire-analytics",[jV]:"fire-analytics-compat",[$V]:"fire-app-check",[BV]:"fire-app-check-compat",[qV]:"fire-auth",[GV]:"fire-auth-compat",[zV]:"fire-rtdb",[HV]:"fire-rtdb-compat",[WV]:"fire-fn",[KV]:"fire-fn-compat",[QV]:"fire-iid",[YV]:"fire-iid-compat",[JV]:"fire-fcm",[ZV]:"fire-fcm-compat",[XV]:"fire-perf",[eL]:"fire-perf-compat",[tL]:"fire-rc",[nL]:"fire-rc-compat",[iL]:"fire-gcs",[rL]:"fire-gcs-compat",[oL]:"fire-fst",[sL]:"fire-fst-compat","fire-js":"fire-js",[aL]:"fire-js-all"};var La=new Map,c_=new Map;function uL(n,e){try{n.container.addComponent(e)}catch(t){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hi(n){let e=n.name;if(c_.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;c_.set(e,n);for(let t of La.values())uL(t,n);return!0}function h_(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}var dL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zi=new pi("app","Firebase",dL);var l_=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}};var is=cL;function f_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:a_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw zi.create("bad-app-name",{appName:String(r)});if(t||(t=Qg()),!t)throw zi.create("no-options");let o=La.get(r);if(o){if(ns(t,o.options)&&ns(i,o.config))return o;throw zi.create("duplicate-app",{appName:r})}let s=new md(r);for(let c of c_.values())s.addComponent(c);let a=new l_(t,i,s);return La.set(r,a),a}function Ua(n=a_){let e=La.get(n);if(!e&&n===a_&&Qg())return f_();if(!e)throw zi.create("no-app",{appName:n});return e}function _d(){return Array.from(La.values())}function tt(n,e,t){var i;let r=(i=lL[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(a.join(" "));return}Hi(new hn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var hL="firebase-heartbeat-database",fL=1,ja="firebase-heartbeat-store",r_=null;function PT(){return r_||(r_=DT(hL,fL,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ja)}}}).catch(n=>{throw zi.create("idb-open",{originalErrorMessage:n.message})})),r_}function pL(n){return I(this,null,function*(){try{return yield(yield PT()).transaction(ja).objectStore(ja).get(RT(n))}catch(e){if(e instanceof un)Ar.warn(e.message);else{let t=zi.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(t.message)}}})}function ST(n,e){return I(this,null,function*(){try{let i=(yield PT()).transaction(ja,"readwrite");yield i.objectStore(ja).put(e,RT(n)),yield i.done}catch(t){if(t instanceof un)Ar.warn(t.message);else{let i=zi.create("idb-set",{originalErrorMessage:t?.message});Ar.warn(i.message)}}})}function RT(n){return`${n.name}!${n.options.appId}`}var mL=1024,gL=30*24*60*60*1e3,u_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new d_(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return I(this,null,function*(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=gL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return I(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=AT(),{heartbeatsToSend:i,unsentEntries:r}=_L(this._heartbeatsCache.heartbeats),o=Va(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function AT(){return new Date().toISOString().substring(0,10)}function _L(n,e=mL){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),MT(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),MT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var d_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Yg()?vT().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield pL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return ST(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return ST(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function MT(n){return Va(JSON.stringify({version:2,heartbeats:n})).length}function vL(n){Hi(new hn("platform-logger",e=>new o_(e),"PRIVATE")),Hi(new hn("heartbeat",e=>new u_(e),"PRIVATE")),tt(s_,xT,n),tt(s_,xT,"esm2017"),tt("fire-js","")}vL("");var yL="firebase",wL="10.7.0";tt(yL,wL,"app");var os=new ii("ANGULARFIRE2_VERSION");function m_(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var $a=(n,e)=>{let t=e?[e]:_d(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Ba=class{constructor(){return $a(CL)}},CL="app-check";function rs(){}var vd=class{zone;delegate;constructor(e,t=vf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},p_=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs)),t.pipe(He({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},qa=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new vd(Zone.current)),this.insideAngular=t.run(()=>new vd(Zone.current,_f)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(B(Ee))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function bL(n){return yd().ngZone.runOutsideAngular(()=>n())}function Mr(n){return yd().ngZone.run(()=>n())}function EL(n){return IL(yd())(n)}function IL(n){return function(t){return t=t.lift(new p_(n.ngZone)),t.pipe(Ci(n.outsideAngular),wi(n.insideAngular))}}var TL=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Mr(()=>n.apply(void 0,i))},Ht=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=Mr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs))),i[o]=TL(i[o],t));let r=bL(()=>n.apply(this,i));if(!e)if(r instanceof oe){let o=yd();return r.pipe(Ci(o.outsideAngular),wi(o.insideAngular))}else return Mr(()=>r);return r instanceof oe?r.pipe(EL):r instanceof Promise?Mr(()=>new Promise((o,s)=>r.then(a=>Mr(()=>o(a)),a=>Mr(()=>s(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Mr(()=>r)};var Pr=class{constructor(e){return e}},Ga=class{constructor(){return _d()}};function DL(n){return n&&n.length===1?n[0]:new Pr(Ua())}var g_=new U("angularfire2._apps"),xL={provide:Pr,useFactory:DL,deps:[[new en,g_]]},SL={provide:Ga,deps:[[new en,g_]]};function AL(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Pr(i)}}var ML=(()=>{class n{constructor(t){tt("angularfire",os.full,"core"),tt("angularfire",os.full,"app"),tt("angular",jb.full,t.toString())}static \u0275fac=function(i){return new(i||n)(B(rn))};static \u0275mod=Nt({type:n});static \u0275inj=Rt({providers:[xL,SL]})}return n})();function NT(n,...e){return{ngModule:ML,providers:[{provide:g_,useFactory:AL(n),multi:!0,deps:[Ee,kt,qa,...e]}]}}var OT=Ht(f_,!0);function BT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $T=BT,qT=new pi("auth","Firebase",BT());var bd=new Gi("@firebase/auth");function RL(n,...e){bd.logLevel<=ce.WARN&&bd.warn(`Auth (${is}): ${n}`,...e)}function Cd(n,...e){bd.logLevel<=ce.ERROR&&bd.error(`Auth (${is}): ${n}`,...e)}function kT(n,...e){throw x_(n,...e)}function GT(n,...e){return x_(n,...e)}function NL(n,e,t){let i=Object.assign(Object.assign({},$T()),{[e]:t});return new pi("auth","Firebase",i).create(e,{appName:n.name})}function x_(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return qT.create(n,...e)}function De(n,e,...t){if(!n)throw x_(e,...t)}function za(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Cd(e),new Error(e)}function Ed(n,e){n||za(e)}function OL(){return FT()==="http:"||FT()==="https:"}function FT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function kL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OL()||gT()||"connection"in navigator)?navigator.onLine:!0}function FL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Nr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ed(t>e,"Short delay should be less than long delay!"),this.isMobile=mT()||_T()}get(){return kL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function VL(n,e){Ed(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Id=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var LL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var jL=new Nr(3e4,6e4);function zT(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Pd(o,s,a,c){return I(this,arguments,function*(n,e,t,i,r={}){return HT(n,r,()=>I(this,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let p=Jg(Object.assign({key:n.config.apiKey},u)).slice(1),v=yield n._getAdditionalHeaders();return v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode),Id.fetch()(WT(n,n.config.apiHost,t,p),Object.assign({method:e,headers:v,referrerPolicy:"no-referrer"},l))}))})}function HT(n,e,t){return I(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},LL),e);try{let r=new y_(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw wd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw wd(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw wd(n,"user-disabled",s);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw NL(n,u,l);kT(n,u)}}catch(r){if(r instanceof un)throw r;kT(n,"network-request-failed",{message:String(r)})}})}function WT(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?VL(n.config,r):`${n.config.apiScheme}://${r}`}var y_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(GT(this.auth,"network-request-failed")),jL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function wd(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=GT(n,e,i);return r.customData._tokenResponse=t,r}function UL(n,e){return I(this,null,function*(){return Pd(n,"POST","/v1/accounts:delete",e)})}function BL(n,e){return I(this,null,function*(){return Pd(n,"POST","/v1/accounts:lookup",e)})}function Ha(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function S_(n,e=!1){return I(this,null,function*(){let t=Tt(n),i=yield t.getIdToken(e),r=KT(i);De(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Ha(__(r.auth_time)),issuedAtTime:Ha(__(r.iat)),expirationTime:Ha(__(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function __(n){return Number(n)*1e3}function KT(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Cd("JWT malformed, contained fewer than 3 sections"),null;try{let r=Wg(t);return r?JSON.parse(r):(Cd("Failed to decode base64 JWT payload"),null)}catch(r){return Cd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function $L(n){let e=KT(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function w_(n,e,t=!1){return I(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof un&&qL(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function qL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var C_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),t)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Td=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Dd(n){return I(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield w_(n,BL(t,{idToken:i}));De(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?zL(o.providerUserInfo):[],a=GL(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,u=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Td(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,p)})}function A_(n){return I(this,null,function*(){let e=Tt(n);yield Dd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function GL(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function zL(n){return n.map(e=>{var{providerId:t}=e,i=yf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function HL(n,e){return I(this,null,function*(){let t=yield HT(n,{},()=>I(this,null,function*(){let i=Jg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=WT(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Id.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function WL(n,e){return I(this,null,function*(){return Pd(n,"POST","/v2/accounts:revokeToken",zT(n,e))})}var xd=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$L(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){return I(this,null,function*(){return De(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return I(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield HL(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(De(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(De(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(De(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return za("not implemented")}};function Wi(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Sd=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=yf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Td(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let t=yield w_(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return S_(this,e)}reload(){return A_(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return I(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Dd(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){let e=yield this.getIdToken();return yield w_(this,UL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,u;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,v=(r=t.email)!==null&&r!==void 0?r:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,ue=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:z,emailVerified:be,isAnonymous:Ze,providerData:ge,stsTokenManager:dt}=t;De(z&&dt,e,"internal-error");let An=xd.fromJSON(this.name,dt);De(typeof z=="string",e,"internal-error"),Wi(p,e.name),Wi(v,e.name),De(typeof be=="boolean",e,"internal-error"),De(typeof Ze=="boolean",e,"internal-error"),Wi(y,e.name),Wi(D,e.name),Wi(x,e.name),Wi(A,e.name),Wi(F,e.name),Wi(ue,e.name);let ir=new n({uid:z,auth:e,email:v,emailVerified:be,displayName:p,isAnonymous:Ze,photoURL:D,phoneNumber:y,tenantId:x,stsTokenManager:An,createdAt:F,lastLoginAt:ue});return ge&&Array.isArray(ge)&&(ir.providerData=ge.map(Xr=>Object.assign({},Xr))),A&&(ir._redirectEventId=A),ir}static _fromIdTokenResponse(e,t,i=!1){return I(this,null,function*(){let r=new xd;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Dd(o),o})}};var VT=new Map;function Rr(n){Ed(n instanceof Function,"Expected a class definition");let e=VT.get(n);return e?(Ed(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VT.set(n,e),e)}var KL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(t,i){return I(this,null,function*(){this.storage[t]=i})}_get(t){return I(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return I(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),b_=KL;function v_(n,e,t){return`firebase:${n}:${e}:${t}`}var Ad=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=v_(this.userKey,r.apiKey,o),this.fullPersistenceKey=v_("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Sd._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return I(this,null,function*(){if(!t.length)return new n(Rr(b_),e,i);let r=(yield Promise.all(t.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Rr(b_),s=v_(i,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(s);if(u){let p=Sd._fromJSON(e,u);l!==o&&(a=p),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>I(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,i))})}};function LT(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e3(e))return"Blackberry";if(t3(e))return"Webos";if(YL(e))return"Safari";if((e.includes("chrome/")||JL(e))&&!e.includes("edge/"))return"Chrome";if(XL(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function QL(n=dn()){return/firefox\//i.test(n)}function YL(n=dn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JL(n=dn()){return/crios\//i.test(n)}function ZL(n=dn()){return/iemobile/i.test(n)}function XL(n=dn()){return/android/i.test(n)}function e3(n=dn()){return/blackberry/i.test(n)}function t3(n=dn()){return/webos/i.test(n)}function QT(n,e=[]){let t;switch(n){case"Browser":t=LT(dn());break;case"Worker":t=`${LT(dn())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${is}/${i}`}var E_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function n3(t){return I(this,arguments,function*(n,e={}){return Pd(n,"GET","/v2/passwordPolicy",zT(n,e))})}var i3=6,I_=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:i3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var T_=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Md(this),this.idTokenSubscription=new Md(this),this.beforeStateQueue=new E_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rr(t)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Ad.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return I(this,null,function*(){var t;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return I(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Dd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=FL()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){let t=e?Tt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return I(this,null,function*(){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Rr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield n3(this),t=new I_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield WL(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return I(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Rr(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=yield Ad.create(this,[Rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return I(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&RL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function r3(n){return Tt(n)}var Md=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yT(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function o3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function s3(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Rr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}var wQ=o3("rcb"),CQ=new Nr(3e4,6e4);var bQ=new Nr(2e3,1e4);var EQ=10*60*1e3;var IQ=new Nr(3e4,6e4);var TQ=new Nr(5e3,15e3);var DQ=encodeURIComponent("fac");var jT="@firebase/auth",UT="1.5.0";var D_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function a3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function c3(n){Hi(new hn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;De(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(n)},l=new T_(i,r,o,c);return s3(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Hi(new hn("auth-internal",e=>{let t=r3(e.getProvider("auth").getImmediate());return(i=>new D_(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(jT,UT,a3(n)),tt(jT,UT,"esm2017")}var l3=5*60,xQ=fT("authIdTokenMaxAge")||l3;c3("Browser");var cj="auth";var Rd=class{constructor(){return $a(cj)}};var lj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},In={},k,J_=J_||{},Q=lj||self;function Hd(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function sc(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function uj(n){return Object.prototype.hasOwnProperty.call(n,M_)&&n[M_]||(n[M_]=++dj)}var M_="closure_uid_"+(1e9*Math.random()>>>0),dj=0;function hj(n,e,t){return n.call.apply(n.bind,arguments)}function fj(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function gt(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt=hj:gt=fj,gt.apply(null,arguments)}function Nd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function it(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Ki(){this.s=this.s,this.o=this.o}var pj=0;Ki.prototype.s=!1;Ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),pj!=0)&&uj(this)};Ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var cD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Z_(n){let e=n.length;if(0<e){let t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function YT(n,e){for(let t=1;t<arguments.length;t++){let i=arguments[t];if(Hd(i)){let r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function _t(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var mj=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{let t=()=>{};Q.addEventListener("test",t,e),Q.removeEventListener("test",t,e)}catch{}return n}();function Za(n){return/^[\s\xa0]*$/.test(n)}function Wd(){var n=Q.navigator;return n&&(n=n.userAgent)?n:""}function $n(n){return Wd().indexOf(n)!=-1}function X_(n){return X_[" "](n),n}X_[" "]=function(){};function gj(n,e){var t=rU;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}var _j=$n("Opera"),ls=$n("Trident")||$n("MSIE"),lD=$n("Edge"),k_=lD||ls,uD=$n("Gecko")&&!(Wd().toLowerCase().indexOf("webkit")!=-1&&!$n("Edge"))&&!($n("Trident")||$n("MSIE"))&&!$n("Edge"),vj=Wd().toLowerCase().indexOf("webkit")!=-1&&!$n("Edge");function dD(){var n=Q.document;return n?n.documentMode:void 0}var F_;e:{if(Od="",kd=function(){var n=Wd();if(uD)return/rv:([^\);]+)(\)|;)/.exec(n);if(lD)return/Edge\/([\d\.]+)/.exec(n);if(ls)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(vj)return/WebKit\/(\S+)/.exec(n);if(_j)return/(?:Version)[ \/]?(\S+)/.exec(n)}(),kd&&(Od=kd?kd[1]:""),ls&&(Fd=dD(),Fd!=null&&Fd>parseFloat(Od))){F_=String(Fd);break e}F_=Od}var Od,kd,Fd,V_;Q.document&&ls?(P_=dD(),V_=P_||parseInt(F_,10)||void 0):V_=void 0;var P_,yj=V_;function Xa(n,e){if(_t.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(uD){e:{try{X_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:wj[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Xa.$.h.call(this)}}it(Xa,_t);var wj={2:"touch",3:"pen",4:"mouse"};Xa.prototype.h=function(){Xa.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ac="closure_listenable_"+(1e6*Math.random()|0),Cj=0;function bj(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Cj,this.fa=this.ia=!1}function Kd(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function e0(n,e,t){for(let i in n)e.call(t,n[i],i,n)}function Ej(n,e){for(let t in n)e.call(void 0,n[t],t,n)}function hD(n){let e={};for(let t in n)e[t]=n[t];return e}var JT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fD(n,e){let t,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(t in i)n[t]=i[t];for(let o=0;o<JT.length;o++)t=JT[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Qd(n){this.src=n,this.g={},this.h=0}Qd.prototype.add=function(n,e,t,i,r){var o=n.toString();n=this.g[o],n||(n=this.g[o]=[],this.h++);var s=j_(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):(e=new bj(e,this.src,o,!!i,r),e.ia=t,n.push(e)),e};function L_(n,e){var t=e.type;if(t in n.g){var i=n.g[t],r=cD(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Kd(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function j_(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}var t0="closure_lm_"+(1e6*Math.random()|0),R_={};function pD(n,e,t,i,r){if(i&&i.once)return gD(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pD(n,e[o],t,i,r);return null}return t=r0(t),n&&n[ac]?n.O(e,t,sc(i)?!!i.capture:!!i,r):mD(n,e,t,!1,i,r)}function mD(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=sc(r)?!!r.capture:!!r,a=i0(n);if(a||(n[t0]=a=new Qd(n)),t=a.add(e,t,i,s,o),t.proxy)return t;if(i=Ij(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)mj||(r=s),r===void 0&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(vD(e.toString()),i);else if(n.addListener&&n.removeListener)n.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return t}function Ij(){function n(t){return e.call(n.src,n.listener,t)}let e=Tj;return n}function gD(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gD(n,e[o],t,i,r);return null}return t=r0(t),n&&n[ac]?n.P(e,t,sc(i)?!!i.capture:!!i,r):mD(n,e,t,!0,i,r)}function _D(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)_D(n,e[o],t,i,r);else i=sc(i)?!!i.capture:!!i,t=r0(t),n&&n[ac]?(n=n.i,e=String(e).toString(),e in n.g&&(o=n.g[e],t=j_(o,t,i,r),-1<t&&(Kd(o[t]),Array.prototype.splice.call(o,t,1),o.length==0&&(delete n.g[e],n.h--)))):n&&(n=i0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=j_(e,t,i,r)),(t=-1<n?e[n]:null)&&n0(t))}function n0(n){if(typeof n!="number"&&n&&!n.fa){var e=n.src;if(e&&e[ac])L_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(vD(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=i0(e))?(L_(t,n),t.h==0&&(t.src=null,e[t0]=null)):Kd(n)}}}function vD(n){return n in R_?R_[n]:R_[n]="on"+n}function Tj(n,e){if(n.fa)n=!0;else{e=new Xa(e,this);var t=n.listener,i=n.la||n.src;n.ia&&n0(n),n=t.call(i,e)}return n}function i0(n){return n=n[t0],n instanceof Qd?n:null}var N_="__closure_events_fn_"+(1e9*Math.random()>>>0);function r0(n){return typeof n=="function"?n:(n[N_]||(n[N_]=function(e){return n.handleEvent(e)}),n[N_])}function nt(){Ki.call(this),this.i=new Qd(this),this.S=this,this.J=null}it(nt,Ki);nt.prototype[ac]=!0;nt.prototype.removeEventListener=function(n,e,t,i){_D(this,n,e,t,i)};function lt(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,typeof e=="string")e=new _t(e,n);else if(e instanceof _t)e.target=e.target||n;else{var r=e;e=new _t(i,n),fD(e,r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Vd(s,i,!0,e)&&r}if(s=e.g=n,r=Vd(s,i,!0,e)&&r,r=Vd(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)s=e.g=t[o],r=Vd(s,i,!1,e)&&r}nt.prototype.N=function(){if(nt.$.N.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Kd(t[i]);delete n.g[e],n.h--}}this.J=null};nt.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)};nt.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};function Vd(n,e,t,i){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&L_(n.i,s),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var o0=Q.JSON.stringify,U_=class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Dj(){var n=s0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var B_=class{constructor(){this.h=this.g=null}add(e,t){let i=yD.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},yD=new U_(()=>new $_,n=>n.reset()),$_=class{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}};function xj(n){var e=1;n=n.split(":");let t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Sj(n){Q.setTimeout(()=>{throw n},0)}var ec,tc=!1,s0=new B_,wD=()=>{let n=Q.Promise.resolve(void 0);ec=()=>{n.then(Aj)}},Aj=()=>{for(var n;n=Dj();){try{n.h.call(n.g)}catch(t){Sj(t)}var e=yD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}tc=!1};function Yd(n,e){nt.call(this),this.h=n||1,this.g=e||Q,this.j=gt(this.qb,this),this.l=Date.now()}it(Yd,nt);k=Yd.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lt(this,"tick"),this.ga&&(a0(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function a0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}k.N=function(){Yd.$.N.call(this),a0(this),delete this.g};function c0(n,e,t){if(typeof n=="function")t&&(n=gt(n,t));else if(n&&typeof n.handleEvent=="function")n=gt(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(n,e||0)}function CD(n){n.g=c0(()=>{n.g=null,n.i&&(n.i=!1,CD(n))},n.j);let e=n.h;n.h=null,n.m.apply(null,e)}var q_=class extends Ki{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CD(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function nc(n){Ki.call(this),this.h=n,this.g={}}it(nc,Ki);var ZT=[];function bD(n,e,t,i){Array.isArray(t)||(t&&(ZT[0]=t.toString()),t=ZT);for(var r=0;r<t.length;r++){var o=pD(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function ED(n){e0(n.g,function(e,t){this.g.hasOwnProperty(t)&&n0(e)},n),n.g={}}nc.prototype.N=function(){nc.$.N.call(this),ED(this)};nc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jd(){this.g=!0}Jd.prototype.Ea=function(){this.g=!1};function Mj(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var p=u.split("_");s=2<=p.length&&p[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+t+`
`+s})}function Pj(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+t+`
`+o+" "+s})}function as(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+Nj(n,t)+(i?" "+i:"")})}function Rj(n,e){n.info(function(){return"TIMEOUT: "+e})}Jd.prototype.info=function(){};function Nj(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return o0(t)}catch{return e}}var Vr={},XT=null;function Zd(){return XT=XT||new nt}Vr.Ta="serverreachability";function ID(n){_t.call(this,Vr.Ta,n)}it(ID,_t);function ic(n){let e=Zd();lt(e,new ID(e))}Vr.STAT_EVENT="statevent";function TD(n,e){_t.call(this,Vr.STAT_EVENT,n),this.stat=e}it(TD,_t);function Dt(n){let e=Zd();lt(e,new TD(e,n))}Vr.Ua="timingevent";function DD(n,e){_t.call(this,Vr.Ua,n),this.size=e}it(DD,_t);function cc(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){n()},e)}var Xd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function l0(){}l0.prototype.h=null;function eD(n){return n.h||(n.h=n.i())}function SD(){}var lc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function u0(){_t.call(this,"d")}it(u0,_t);function d0(){_t.call(this,"c")}it(d0,_t);var G_;function eh(){}it(eh,l0);eh.prototype.g=function(){return new XMLHttpRequest};eh.prototype.i=function(){return{}};G_=new eh;function uc(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new nc(this),this.P=Oj,n=k_?125:void 0,this.V=new Yd(n),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AD}function AD(){this.i=null,this.g="",this.h=!1}var Oj=45e3,MD={},z_={};k=uc.prototype;k.setTimeout=function(n){this.P=n};function H_(n,e,t){n.L=1,n.A=nh(gi(e)),n.u=t,n.S=!0,PD(n,null)}function PD(n,e){n.G=Date.now(),dc(n),n.B=gi(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),jD(t.i,"t",i),n.o=0,t=n.l.J,n.h=new AD,n.g=s1(n.l,t?e:null,!n.u),0<n.O&&(n.M=new q_(gt(n.Pa,n,n.g),n.O)),bD(n.U,n.g,"readystatechange",n.nb),e=n.I?hD(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),ic(),Mj(n.j,n.v,n.B,n.m,n.W,n.u)}k.nb=function(n){n=n.target;let e=this.M;e&&qn(n)==3?e.l():this.Pa(n)};k.Pa=function(n){try{if(n==this.g)e:{let u=qn(this.g);var e=this.g.Ia();let p=this.g.da();if(!(3>u)&&(u!=3||k_||this.g&&(this.h.h||this.g.ja()||rD(this.g)))){this.J||u!=4||e==7||(e==8||0>=p?ic(3):ic(2)),th(this);var t=this.g.da();this.ca=t;t:if(RD(this)){var i=rD(this.g);n="";var r=i.length,o=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),Ja(this);var s="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=t==200,Pj(this.j,this.v,this.B,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Za(a)){var l=a;break t}}l=null}if(t=l)as(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,W_(this,t);else{this.i=!1,this.s=3,Dt(12),Or(this),Ja(this);break e}}this.S?(ND(this,u,s),k_&&this.i&&u==3&&(bD(this.U,this.V,"tick",this.mb),this.V.start())):(as(this.j,this.m,s,null),W_(this,s)),u==4&&Or(this),this.i&&!this.J&&(u==4?n1(this.l,this):(this.i=!1,dc(this)))}else tU(this.g),t==400&&0<s.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Or(this),Ja(this)}}}catch{}finally{}};function RD(n){return n.g?n.v=="GET"&&n.L!=2&&n.l.Ha:!1}function ND(n,e,t){let i=!0,r;for(;!n.J&&n.o<t.length;)if(r=kj(n,t),r==z_){e==4&&(n.s=4,Dt(14),i=!1),as(n.j,n.m,null,"[Incomplete Response]");break}else if(r==MD){n.s=4,Dt(15),as(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}else as(n.j,n.m,r,null),W_(n,r);RD(n)&&n.o!=0&&(n.h.g=n.h.g.slice(n.o),n.o=0),e!=4||t.length!=0||n.h.h||(n.s=1,Dt(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,e=n.l,e.g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),_0(e),e.M=!0,Dt(11))):(as(n.j,n.m,t,"[Invalid Chunked Response]"),Or(n),Ja(n))}k.mb=function(){if(this.g){var n=qn(this.g),e=this.g.ja();this.o<e.length&&(th(this),ND(this,n,e),this.i&&n!=4&&dc(this))}};function kj(n,e){var t=n.o,i=e.indexOf(`
`,t);return i==-1?z_:(t=Number(e.substring(t,i)),isNaN(t)?MD:(i+=1,i+t>e.length?z_:(e=e.slice(i,i+t),n.o=i+t,e)))}k.cancel=function(){this.J=!0,Or(this)};function dc(n){n.Y=Date.now()+n.P,OD(n,n.P)}function OD(n,e){if(n.C!=null)throw Error("WatchDog timer not null");n.C=cc(gt(n.lb,n),e)}function th(n){n.C&&(Q.clearTimeout(n.C),n.C=null)}k.lb=function(){this.C=null;let n=Date.now();0<=n-this.Y?(Rj(this.j,this.B),this.L!=2&&(ic(),Dt(17)),Or(this),this.s=2,Ja(this)):OD(this,this.Y-n)};function Ja(n){n.l.H==0||n.J||n1(n.l,n)}function Or(n){th(n);var e=n.M;e&&typeof e.sa=="function"&&e.sa(),n.M=null,a0(n.V),ED(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function W_(n,e){try{var t=n.l;if(t.H!=0&&(t.g==n||K_(t.i,n))){if(!n.K&&K_(t.i,n)&&t.H==3){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!t.u){if(t.g)if(t.g.G+3e3<n.G)$d(t),oh(t);else break e;g0(t),Dt(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&t.A==0&&!t.v&&(t.v=cc(gt(t.ib,t),6e3));if(1>=$D(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else kr(t,11)}else if((n.K||t.g==n)&&$d(t),!Za(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],t.H==2)if(l[0]=="c"){t.K=l[1],t.pa=l[2];let u=l[3];u!=null&&(t.ra=u,t.l.info("VER="+t.ra));let p=l[4];p!=null&&(t.Ga=p,t.l.info("SVER="+t.Ga));let v=l[5];v!=null&&typeof v=="number"&&0<v&&(i=1.5*v,t.L=i,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;let y=n.g;if(y){let D=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var o=i.i;o.g||D.indexOf("spdy")==-1&&D.indexOf("quic")==-1&&D.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(h0(o,o.h),o.h=null))}if(i.F){let x=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.Da=x,Ve(i.I,i.F,x))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms")),i=t;var s=n;if(i.wa=o1(i,i.J?i.pa:null,i.Y),s.K){qD(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.C&&(th(a),dc(a)),i.g=s}else e1(i);0<t.j.length&&sh(t)}else l[0]!="stop"&&l[0]!="close"||kr(t,7);else t.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?kr(t,7):m0(t):l[0]!="noop"&&t.h&&t.h.Aa(l),t.A=0)}}ic(4)}catch{}}function Fj(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(Hd(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}e=[],t=0;for(i in n)e[t++]=n[i];return e}function Vj(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Hd(n)||typeof n=="string"){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(let i in n)e[t++]=i;return e}}}function kD(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(Hd(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var t=Vj(n),i=Fj(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}var FD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lj(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Fr(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Fr){this.h=n.h,Ud(this,n.j),this.s=n.s,this.g=n.g,Bd(this,n.m),this.l=n.l;var e=n.i,t=new rc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),tD(this,t),this.o=n.o}else n&&(e=String(n).match(FD))?(this.h=!1,Ud(this,e[1]||"",!0),this.s=Qa(e[2]||""),this.g=Qa(e[3]||"",!0),Bd(this,e[4]),this.l=Qa(e[5]||"",!0),tD(this,e[6]||"",!0),this.o=Qa(e[7]||"")):(this.h=!1,this.i=new rc(null,this.h))}Fr.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ya(e,nD,!0),":");var t=this.g;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(Ya(e,nD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&n.push("/"),n.push(Ya(t,t.charAt(0)=="/"?Bj:Uj,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ya(t,qj)),n.join("")};function gi(n){return new Fr(n)}function Ud(n,e,t){n.j=t?Qa(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function tD(n,e,t){e instanceof rc?(n.i=e,Gj(n.i,n.h)):(t||(e=Ya(e,$j)),n.i=new rc(e,n.h))}function Ve(n,e,t){n.i.set(e,t)}function nh(n){return Ve(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qa(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ya(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,jj),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jj(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var nD=/[#\/\?@]/g,Uj=/[#\?:]/g,Bj=/[#\?]/g,$j=/[#\?@]/g,qj=/#/g;function rc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qi(n){n.g||(n.g=new Map,n.h=0,n.i&&Lj(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}k=rc.prototype;k.add=function(n,e){Qi(this),this.i=null,n=us(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function VD(n,e){Qi(n),e=us(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function LD(n,e){return Qi(n),e=us(n,e),n.g.has(e)}k.forEach=function(n,e){Qi(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)};k.ta=function(){Qi(this);let n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){let r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t};k.Z=function(n){Qi(this);let e=[];if(typeof n=="string")LD(this,n)&&(e=e.concat(this.g.get(us(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e};k.set=function(n,e){return Qi(this),this.i=null,n=us(this,n),LD(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};k.get=function(n,e){return n?(n=this.Z(n),0<n.length?String(n[0]):e):e};function jD(n,e,t){VD(n,e),0<t.length&&(n.i=null,n.g.set(us(n,e),Z_(t)),n.h+=t.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";let n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];let o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};function us(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Gj(n,e){e&&!n.j&&(Qi(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(VD(this,i),jD(this,r,t))},n)),n.j=e}var zj=class{constructor(n,e){this.g=n,this.map=e}};function UD(n){this.l=n||Hj,Q.PerformanceNavigationTiming?(n=Q.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hj=10;function BD(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function $D(n){return n.h?1:n.g?n.g.size:0}function K_(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function h0(n,e){n.g?n.g.add(e):n.h=e}function qD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}UD.prototype.cancel=function(){if(this.i=GD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let n of this.g.values())n.cancel();this.g.clear()}};function GD(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let e=n.i;for(let t of n.g.values())e=e.concat(t.F);return e}return Z_(n.i)}var Wj=class{stringify(n){return Q.JSON.stringify(n,void 0)}parse(n){return Q.JSON.parse(n,void 0)}};function Kj(){this.g=new Wj}function Qj(n,e,t){let i=t||"";try{kD(n,function(r,o){let s=r;sc(r)&&(s=o0(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Yj(n,e){let t=new Jd;if(Q.Image){let i=new Image;i.onload=Nd(Ld,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Nd(Ld,t,i,"TestLoadImage: error",!1,e),i.onabort=Nd(Ld,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Nd(Ld,t,i,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}function Ld(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function hc(n){this.l=n.ec||null,this.j=n.ob||!1}it(hc,l0);hc.prototype.g=function(){return new ih(this.l,this.j)};hc.prototype.i=function(n){return function(){return n}}({});function ih(n,e){nt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=f0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(ih,nt);var f0=0;k=ih.prototype;k.open=function(n,e){if(this.readyState!=f0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,oc(this)};k.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fc(this)),this.readyState=f0};k.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,oc(this)),this.g&&(this.readyState=3,oc(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function zD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}k.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fc(this):oc(this),this.readyState==3&&zD(this)}};k.Za=function(n){this.g&&(this.response=this.responseText=n,fc(this))};k.Ya=function(n){this.g&&(this.response=n,fc(this))};k.ka=function(){this.g&&fc(this)};function fc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,oc(n)}k.setRequestHeader=function(n,e){this.v.append(n,e)};k.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";let n=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function oc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(ih.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var Jj=Q.JSON.parse;function je(n){nt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HD,this.L=this.M=!1}it(je,nt);var HD="",Zj=/^https?$/i,Xj=["POST","PUT"];k=je.prototype;k.Oa=function(n){this.M=n};k.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():G_.g(),this.C=this.u?eD(this.u):eD(G_),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){iD(this,o);return}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())t.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(t.keys()).find(o=>o.toLowerCase()=="content-type"),r=Q.FormData&&n instanceof Q.FormData,!(0<=cD(Xj,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QD(this),0<this.B&&((this.L=eU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=c0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){iD(this,o)}};function eU(n){return ls&&typeof n.timeout=="number"&&n.ontimeout!==void 0}k.ua=function(){typeof J_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function iD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,WD(n),rh(n)}function WD(n){n.F||(n.F=!0,lt(n,"complete"),lt(n,"error"))}k.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,lt(this,"complete"),lt(this,"abort"),rh(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rh(this,!0)),je.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?KD(this):this.kb())};k.kb=function(){KD(this)};function KD(n){if(n.h&&typeof J_<"u"&&(!n.C[1]||qn(n)!=4||n.da()!=2)){if(n.v&&qn(n)==4)c0(n.La,0,n);else if(lt(n,"readystatechange"),qn(n)==4){n.h=!1;try{let s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=s===0){var r=String(n.I).match(FD)[1]||null;!r&&Q.self&&Q.self.location&&(r=Q.self.location.protocol.slice(0,-1)),i=!Zj.test(r?r.toLowerCase():"")}t=i}if(t)lt(n,"complete"),lt(n,"success");else{n.m=6;try{var o=2<qn(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",WD(n)}}finally{rh(n)}}}}function rh(n,e){if(n.g){QD(n);let t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||lt(n,"ready");try{t.onreadystatechange=i}catch{}}}function QD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Q.clearTimeout(n.A),n.A=null)}k.isActive=function(){return!!this.g};function qn(n){return n.g?n.g.readyState:0}k.da=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),Jj(e)}};function rD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case HD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function tU(n){let e={};n=(n.g&&2<=qn(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<n.length;i++){if(Za(n[i]))continue;var t=xj(n[i]);let r=t[0];if(t=t[1],typeof t!="string")continue;t=t.trim();let o=e[r]||[];e[r]=o,o.push(t)}Ej(e,function(i){return i.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function YD(n){let e="";return e0(n,function(t,i){e+=i,e+=":",e+=t,e+=`\r
`}),e}function p0(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=YD(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):Ve(n,e,t))}function Wa(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function JD(n){this.Ga=0,this.j=[],this.l=new Jd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wa("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wa("baseRetryDelayMs",5e3,n),this.hb=Wa("retryDelaySeedMs",1e4,n),this.eb=Wa("forwardChannelMaxRetries",2,n),this.xa=Wa("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new UD(n&&n.concurrentRequestLimit),this.Ja=new Kj,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=JD.prototype;k.ra=8;k.H=1;function m0(n){if(ZD(n),n.H==3){var e=n.W++,t=gi(n.I);if(Ve(t,"SID",n.K),Ve(t,"RID",e),Ve(t,"TYPE","terminate"),pc(n,t),e=new uc(n,n.l,e),e.L=2,e.A=nh(gi(t)),t=!1,Q.navigator&&Q.navigator.sendBeacon)try{t=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&Q.Image&&(new Image().src=e.A,t=!0),t||(e.g=s1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),dc(e)}r1(n)}function oh(n){n.g&&(_0(n),n.g.cancel(),n.g=null)}function ZD(n){oh(n),n.u&&(Q.clearTimeout(n.u),n.u=null),$d(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&Q.clearTimeout(n.m),n.m=null)}function sh(n){if(!BD(n.i)&&!n.m){n.m=!0;var e=n.Na;ec||wD(),tc||(ec(),tc=!0),s0.add(e,n),n.C=0}}function nU(n,e){return $D(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=e.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=cc(gt(n.Na,n,e),i1(n,n.C)),n.C++,!0)}k.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;let r=new uc(this,this.l,n),o=this.s;if(this.U&&(o?(o=hD(o),fD(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){t:{var i=this.j[t];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=t;break e}if(e===4096||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=XD(this,r,e),t=gi(this.I),Ve(t,"RID",n),Ve(t,"CVER",22),this.F&&Ve(t,"X-HTTP-Session-Id",this.F),pc(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(YD(o)))+"&"+e:this.o&&p0(t,this.o,o)),h0(this.i,r),this.bb&&Ve(t,"TYPE","init"),this.P?(Ve(t,"$req",e),Ve(t,"SID","null"),r.aa=!0,H_(r,t,null)):H_(r,t,e),this.H=2}}else this.H==3&&(n?oD(this,n):this.j.length==0||BD(this.i)||oD(this))};function oD(n,e){var t;e?t=e.m:t=n.W++;let i=gi(n.I);Ve(i,"SID",n.K),Ve(i,"RID",t),Ve(i,"AID",n.V),pc(n,i),n.o&&n.s&&p0(i,n.o,n.s),t=new uc(n,n.l,t,n.C+1),n.o===null&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=XD(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),h0(n.i,t),H_(t,i,e)}function pc(n,e){n.na&&e0(n.na,function(t,i){Ve(e,i,t)}),n.h&&kD({},function(t,i){Ve(e,i,t)})}function XD(n,e,t){t=Math.min(n.j.length,t);var i=n.h?gt(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){let s=["count="+t];o==-1?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g,u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{Qj(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function e1(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;ec||wD(),tc||(ec(),tc=!0),s0.add(e,n),n.A=0}}function g0(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=cc(gt(n.Ma,n),i1(n,n.A)),n.A++,!0)}k.Ma=function(){if(this.u=null,t1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=cc(gt(this.jb,this),n)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dt(10),oh(this),t1(this))};function _0(n){n.B!=null&&(Q.clearTimeout(n.B),n.B=null)}function t1(n){n.g=new uc(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var e=gi(n.wa);Ve(e,"RID","rpc"),Ve(e,"SID",n.K),Ve(e,"AID",n.V),Ve(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ve(e,"TO",n.qa),Ve(e,"TYPE","xmlhttp"),pc(n,e),n.o&&n.s&&p0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=nh(gi(e)),t.u=null,t.S=!0,PD(t,n)}k.ib=function(){this.v!=null&&(this.v=null,oh(this),g0(this),Dt(19))};function $d(n){n.v!=null&&(Q.clearTimeout(n.v),n.v=null)}function n1(n,e){var t=null;if(n.g==e){$d(n),_0(n),n.g=null;var i=2}else if(K_(n.i,e))t=e.F,qD(n.i,e),i=1;else return;if(n.H!=0){if(e.i)if(i==1){t=e.u?e.u.length:0,e=Date.now()-e.G;var r=n.C;i=Zd(),lt(i,new DD(i,t)),sh(n)}else e1(n);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&nU(n,e)||i==2&&g0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:kr(n,5);break;case 4:kr(n,10);break;case 3:kr(n,6);break;default:kr(n,2)}}}function i1(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function kr(n,e){if(n.l.info("Error code "+e),e==2){var t=null;n.h&&(t=null);var i=gt(n.pb,n);t||(t=new Fr("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Ud(t,"https"),nh(t)),Yj(t.toString(),i)}else Dt(2);n.H=0,n.h&&n.h.za(e),r1(n),ZD(n)}k.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Dt(2)):(this.l.info("Failed to ping google.com"),Dt(1))};function r1(n){if(n.H=0,n.ma=[],n.h){let e=GD(n.i);(e.length!=0||n.j.length!=0)&&(YT(n.ma,e),YT(n.ma,n.j),n.i.i.length=0,Z_(n.j),n.j.length=0),n.h.ya()}}function o1(n,e,t){var i=t instanceof Fr?gi(t):new Fr(t);if(i.g!="")e&&(i.g=e+"."+i.g),Bd(i,i.m);else{var r=Q.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Fr(null);i&&Ud(o,i),e&&(o.g=e),r&&Bd(o,r),t&&(o.l=t),i=o}return t=n.F,e=n.Da,t&&e&&Ve(i,t,e),Ve(i,"VER",n.ra),pc(n,i),i}function s1(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n.Ha&&!n.va?new je(new hc({ob:t})):new je(n.va),e.Oa(n.J),e}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function a1(){}k=a1.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function qd(){if(ls&&!(10<=Number(yj)))throw Error("Environmental error: no available transport.")}qd.prototype.g=function(n,e){return new Wt(n,e)};function Wt(n,e){nt.call(this),this.g=new JD(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Za(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Za(e)&&(this.g.F=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new ds(this)}it(Wt,nt);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Dt(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=o1(n,null,n.Y),sh(n)};Wt.prototype.close=function(){m0(this.g)};Wt.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var t={};t.__data__=n,n=t}else this.v&&(t={},t.__data__=o0(n),n=t);e.j.push(new zj(e.fb++,n)),e.H==3&&sh(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,m0(this.g),delete this.g,Wt.$.N.call(this)};function c1(n){u0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(let t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}it(c1,u0);function l1(){d0.call(this),this.status=1}it(l1,d0);function ds(n){this.g=n}it(ds,a1);ds.prototype.Ba=function(){lt(this.g,"a")};ds.prototype.Aa=function(n){lt(this.g,new c1(n))};ds.prototype.za=function(n){lt(this.g,new l1)};ds.prototype.ya=function(){lt(this.g,"b")};function iU(){this.blockSize=-1}function En(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(En,iU);En.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function O_(n,e,t){t||(t=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;e=n.g[0],t=n.g[1],r=n.g[2];var o=n.g[3],s=e+(o^t&(r^o))+i[0]+3614090360&4294967295;e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[3]+3250441966&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(o^t&(r^o))+i[4]+4118548399&4294967295,e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[7]+4249261313&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(o^t&(r^o))+i[8]+1770035416&4294967295,e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[11]+2304563134&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(o^t&(r^o))+i[12]+1804603682&4294967295,e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[15]+1236535329&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(t^r))+i[1]+4129170786&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[0]+3921069994&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(t^r))+i[5]+3593408605&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[4]+3889429448&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(t^r))+i[9]+568446438&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[8]+1163531501&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(t^r))+i[13]+2850285829&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[12]+2368359562&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(t^r^o)+i[5]+4294588738&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[14]+4259657740&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(t^r^o)+i[1]+2763975236&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[10]+3200236656&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(t^r^o)+i[13]+681279174&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[6]+76029189&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(t^r^o)+i[9]+3654602809&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[2]+3299628645&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(r^(t|~o))+i[0]+4096336452&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[5]+4237533241&4294967295,t=r+(s<<21&4294967295|s>>>11),s=e+(r^(t|~o))+i[12]+1700485571&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[1]+2240044497&4294967295,t=r+(s<<21&4294967295|s>>>11),s=e+(r^(t|~o))+i[8]+1873313359&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[13]+1309151649&4294967295,t=r+(s<<21&4294967295|s>>>11),s=e+(r^(t|~o))+i[4]+4149444226&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}En.prototype.j=function(n,e){e===void 0&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=t;)O_(this,n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){O_(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){O_(this,i),r=0;break}}this.h=r,this.i+=e};En.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=t&255,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};function xe(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=n[r]|0;i&&o==e||(t[r]=o,i=!1)}this.g=t}var rU={};function v0(n){return-128<=n&&128>n?gj(n,function(e){return new xe([e|0],0>e?-1:0)}):new xe([n|0],0>n?-1:0)}function Gn(n){if(isNaN(n)||!isFinite(n))return cs;if(0>n)return ct(Gn(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Q_;return new xe(e,0)}function u1(n,e){if(n.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(n.charAt(0)=="-")return ct(u1(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Gn(Math.pow(e,8)),i=cs,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Gn(Math.pow(e,o)),i=i.R(o).add(Gn(s))):(i=i.R(t),i=i.add(Gn(s)))}return i}var Q_=4294967296,cs=v0(0),Y_=v0(1),sD=v0(16777216);k=xe.prototype;k.ea=function(){if(fn(this))return-ct(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Q_+i)*e,e*=Q_}return n};k.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(mi(this))return"0";if(fn(this))return"-"+ct(this).toString(n);for(var e=Gn(Math.pow(n,6)),t=this,i="";;){var r=zd(t,e).g;t=Gd(t,r.R(e));var o=((0<t.g.length?t.g[0]:t.h)>>>0).toString(n);if(t=r,mi(t))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};k.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function mi(n){if(n.h!=0)return!1;for(var e=0;e<n.g.length;e++)if(n.g[e]!=0)return!1;return!0}function fn(n){return n.h==-1}k.X=function(n){return n=Gd(this,n),fn(n)?-1:mi(n)?0:1};function ct(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new xe(t,~n.h).add(Y_)}k.abs=function(){return fn(this)?ct(this):this};k.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(n.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,t[r]=s<<16|o}return new xe(t,t[t.length-1]&-2147483648?-1:0)};function Gd(n,e){return n.add(ct(e))}k.R=function(n){if(mi(this)||mi(n))return cs;if(fn(this))return fn(n)?ct(this).R(ct(n)):ct(ct(this).R(n));if(fn(n))return ct(this.R(ct(n)));if(0>this.X(sD)&&0>n.X(sD))return Gn(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=n.D(r)>>>16,c=n.D(r)&65535;t[2*i+2*r]+=s*c,jd(t,2*i+2*r),t[2*i+2*r+1]+=o*c,jd(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,jd(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,jd(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new xe(t,0)};function jd(n,e){for(;(n[e]&65535)!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ka(n,e){this.g=n,this.h=e}function zd(n,e){if(mi(e))throw Error("division by zero");if(mi(n))return new Ka(cs,cs);if(fn(n))return e=zd(ct(n),e),new Ka(ct(e.g),ct(e.h));if(fn(e))return e=zd(n,ct(e)),new Ka(ct(e.g),e.h);if(30<n.g.length){if(fn(n)||fn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Y_,i=e;0>=i.X(n);)t=aD(t),i=aD(i);var r=ss(t,1),o=ss(i,1);for(i=ss(i,2),t=ss(t,2);!mi(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=ss(i,1),t=ss(t,1)}return e=Gd(n,r.R(e)),new Ka(r,e)}for(r=cs;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=Math.ceil(Math.log(t)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Gn(t),s=o.R(e);fn(s)||0<s.X(n);)t-=i,o=Gn(t),s=o.R(e);mi(o)&&(o=Y_),r=r.add(o),n=Gd(n,s)}return new Ka(r,n)}k.gb=function(n){return zd(this,n).h};k.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new xe(t,this.h&n.h)};k.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new xe(t,this.h|n.h)};k.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new xe(t,this.h^n.h)};function aD(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new xe(t,n.h)}function ss(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new xe(r,n.h)}qd.prototype.createWebChannel=qd.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;Xd.NO_ERROR=0;Xd.TIMEOUT=8;Xd.HTTP_ERROR=6;xD.COMPLETE="complete";SD.EventType=lc;lc.OPEN="a";lc.CLOSE="b";lc.ERROR="c";lc.MESSAGE="d";nt.prototype.listen=nt.prototype.O;je.prototype.listenOnce=je.prototype.P;je.prototype.getLastError=je.prototype.Sa;je.prototype.getLastErrorCode=je.prototype.Ia;je.prototype.getStatus=je.prototype.da;je.prototype.getResponseJson=je.prototype.Wa;je.prototype.getResponseText=je.prototype.ja;je.prototype.send=je.prototype.ha;je.prototype.setWithCredentials=je.prototype.Oa;En.prototype.digest=En.prototype.l;En.prototype.reset=En.prototype.reset;En.prototype.update=En.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=Gn;xe.fromString=u1;var d1=In.createWebChannelTransport=function(){return new qd},h1=In.getStatEventTarget=function(){return Zd()},ah=In.ErrorCode=Xd,f1=In.EventType=xD,p1=In.Event=Vr,y0=In.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_Y=In.FetchXmlHttpFactory=hc,mc=In.WebChannel=SD,m1=In.XhrIo=je,g1=In.Md5=En,Lr=In.Integer=xe;var _1="@firebase/firestore";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var Rs="10.7.0";var $r=new Gi("@firebase/firestore");function gc(){return $r.logLevel}function L(n,...e){if($r.logLevel<=ce.DEBUG){let t=e.map(ny);$r.debug(`Firestore (${Rs}): ${n}`,...t)}}function _i(n,...e){if($r.logLevel<=ce.ERROR){let t=e.map(ny);$r.error(`Firestore (${Rs}): ${n}`,...t)}}function vs(n,...e){if($r.logLevel<=ce.WARN){let t=e.map(ny);$r.warn(`Firestore (${Rs}): ${n}`,...t)}}function ny(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function W(n="Unexpected state"){let e=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: `+n;throw _i(e),new Error(e)}function Oe(n,e){n||W()}function X(n,e){return n}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Tn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var hh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},I0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rt.UNAUTHENTICATED))}shutdown(){}},T0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},D0=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),o=new Tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tn,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>I(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Oe(typeof i.accessToken=="string"),new hh(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new rt(e)}},x0=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},S0=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new x0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},A0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},M0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe(typeof t.token=="string"),this.R=t.token,new A0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function oU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var fh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=oU(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function Ce(n,e){return n<e?-1:n>e?1:0}function ys(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var ut=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Z=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ut(0,0))}static max(){return new n(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ph=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&W(),i===void 0?i=e.length-t:i>e.length-t&&W(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Le=class n extends ph{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new V(S.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},sU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends ph{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return sU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new V(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new V(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new V(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Le.fromString(e))}static fromName(e){return new n(Le.fromString(e).popFirst(5))}static empty(){return new n(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Le(e.slice()))}};var P0=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};P0.UNKNOWN_ID=-1;function aU(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Z.fromTimestamp(i===1e9?new ut(t+1,0):new ut(t,i));return new qr(r,G.empty(),e)}function cU(n){return new qr(n.readTime,n.key,-1)}var qr=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Z.min(),G.empty(),-1)}static max(){return new n(Z.max(),G.empty(),-1)}};function lU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}var uU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",R0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Nc(n){return I(this,null,function*(){if(n.code!==S.FAILED_PRECONDITION||n.message!==uU)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function Oc(n){return n.name==="IndexedDbTransactionError"}var W1=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Hh(n){return n==null}function bc(n){return n===0&&1/n==-1/0}function dU(n){return typeof n=="number"&&Number.isInteger(n)&&!bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var hU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SY=[...hU,"documentOverlays"],fU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pU=fU,AY=[...pU,"indexConfiguration","indexState","indexEntries"];function v1(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yr(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function K1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Be=class n{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ms(this.root,e,this.comparator,!0)}},ms=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Hn=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class n{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mh(this.data.getIterator())}getIteratorFrom(e){return new mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},mh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new yt(Qt.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var gh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xt.EMPTY_BYTE_STRING=new xt("");var mU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(n){if(Oe(!!n),typeof n=="string"){let e=0,t=mU.exec(n);if(Oe(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ue(n.seconds),nanos:Ue(n.nanos)}}function Ue(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xi(n){return typeof n=="string"?xt.fromBase64String(n):xt.fromUint8Array(n)}function iy(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ry(n){let e=n.mapValue.fields.__previous_value__;return iy(e)?ry(e):e}function Ec(n){let e=Zi(n.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}var N0=class{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},_h=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ch={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iy(n)?4:Q1(n)?9007199254740991:10:W()}function Qn(n,e){if(n===e)return!0;let t=Gr(n);if(t!==Gr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ec(n).isEqual(Ec(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Zi(r.timestampValue),a=Zi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Xi(r.bytesValue).isEqual(Xi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ue(r.geoPointValue.latitude)===Ue(o.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ue(r.integerValue)===Ue(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Ue(r.doubleValue),a=Ue(o.doubleValue);return s===a?bc(s)===bc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ys(n.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(v1(s)!==v1(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Qn(s[c],a[c])))return!1;return!0}(n,e);default:return W()}}function Ic(n,e){return(n.values||[]).find(t=>Qn(t,e))!==void 0}function ws(n,e){if(n===e)return 0;let t=Gr(n),i=Gr(e);if(t!==i)return Ce(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ue(o.integerValue||o.doubleValue),c=Ue(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return y1(n.timestampValue,e.timestampValue);case 4:return y1(Ec(n),Ec(e));case 5:return Ce(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Xi(o),c=Xi(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Ce(a[l],c[l]);if(u!==0)return u}return Ce(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ce(Ue(o.latitude),Ue(s.latitude));return a!==0?a:Ce(Ue(o.longitude),Ue(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=ws(a[l],c[l]);if(u)return u}return Ce(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===ch.mapValue&&s===ch.mapValue)return 0;if(o===ch.mapValue)return 1;if(s===ch.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let p=0;p<c.length&&p<u.length;++p){let v=Ce(c[p],u[p]);if(v!==0)return v;let y=ws(a[c[p]],l[u[p]]);if(y!==0)return y}return Ce(c.length,u.length)}(n.mapValue,e.mapValue);default:throw W()}}function y1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);let t=Zi(n),i=Zi(e),r=Ce(t.seconds,i.seconds);return r!==0?r:Ce(t.nanos,i.nanos)}function Cs(n){return O0(n)}function O0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Zi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return G.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=O0(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${O0(t.fields[s])}`;return r+"}"}(n.mapValue):W()}function w1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function k0(n){return!!n&&"integerValue"in n}function oy(n){return!!n&&"arrayValue"in n}function C1(n){return!!n&&"nullValue"in n}function b1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uh(n){return!!n&&"mapValue"in n}function vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Yr(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=vc(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Q1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Kt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(t)}setAll(e){let t=Qt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=vc(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];uh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Yr(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(vc(this.value))}};function Y1(n){let e=[];return Yr(n.fields,(t,i)=>{let r=new Qt([t]);if(uh(i)){let o=Y1(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new pn(e)}var Dn=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Z.min(),Z.min(),Z.min(),Kt.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Z.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Z.min(),Z.min(),Kt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Z.min(),Z.min(),Kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var bs=class{constructor(e,t){this.position=e,this.inclusive=t}};function E1(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=G.comparator(G.fromName(s.referenceValue),t.key):i=ws(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function I1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qn(n.position[t],e.position[t]))return!1;return!0}var Es=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function gU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var vh=class{},Je=class n extends vh{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new V0(e,t,i):t==="array-contains"?new U0(e,i):t==="in"?new B0(e,i):t==="not-in"?new $0(e,i):t==="array-contains-any"?new q0(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new L0(e,i):new j0(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ws(t,this.value)):t!==null&&Gr(this.value)===Gr(t)&&this.matchesComparison(ws(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xn=class n extends vh{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new n(e,t)}matches(e){return J1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function J1(n){return n.op==="and"}function Z1(n){return _U(n)&&J1(n)}function _U(n){for(let e of n.filters)if(e instanceof xn)return!1;return!0}function F0(n){if(n instanceof Je)return n.field.canonicalString()+n.op.toString()+Cs(n.value);if(Z1(n))return n.filters.map(e=>F0(e)).join(",");{let e=n.filters.map(t=>F0(t)).join(",");return`${n.op}(${e})`}}function X1(n,e){return n instanceof Je?function(i,r){return r instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&Qn(i.value,r.value)}(n,e):n instanceof xn?function(i,r){return r instanceof xn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&X1(s,r.filters[a]),!0):!1}(n,e):void W()}function ex(n){return n instanceof Je?function(t){return`${t.field.canonicalString()} ${t.op} ${Cs(t.value)}`}(n):n instanceof xn?function(t){return t.op.toString()+" {"+t.getFilters().map(ex).join(" ,")+"}"}(n):"Filter"}var V0=class extends Je{constructor(e,t,i){super(e,t,i),this.key=G.fromName(i.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},L0=class extends Je{constructor(e,t){super(e,"in",t),this.keys=tx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},j0=class extends Je{constructor(e,t){super(e,"not-in",t),this.keys=tx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function tx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>G.fromName(i.referenceValue))}var U0=class extends Je{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return oy(t)&&Ic(t.arrayValue,this.value)}},B0=class extends Je{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ic(this.value.arrayValue,t)}},$0=class extends Je{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Ic(this.value.arrayValue,t)}},q0=class extends Je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!oy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ic(this.value.arrayValue,i))}};var G0=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function T1(n,e=null,t=[],i=[],r=null,o=null,s=null){return new G0(n,e,t,i,r,o,s)}function sy(n){let e=X(n);if(e.ce===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>F0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cs(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cs(i)).join(",")),e.ce=t}return e.ce}function ay(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!X1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!I1(n.startAt,e.startAt)&&I1(n.endAt,e.endAt)}function z0(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var zr=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function vU(n,e,t,i,r,o,s,a){return new zr(n,e,t,i,r,o,s,a)}function cy(n){return new zr(n)}function D1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nx(n){return n.collectionGroup!==null}function yc(n){let e=X(n);if(e.le===null){e.le=[];let t=new Set;for(let o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(Qt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new Es(o,i))}),t.has(Qt.keyField().canonicalString())||e.le.push(new Es(Qt.keyField(),i))}return e.le}function Wn(n){let e=X(n);return e.he||(e.he=yU(e,yc(n))),e.he}function yU(n,e){if(n.limitType==="F")return T1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Es(r.field,o)});let t=n.endAt?new bs(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new bs(n.startAt.position,n.startAt.inclusive):null;return T1(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function H0(n,e){let t=n.filters.concat([e]);return new zr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function W0(n,e,t){return new zr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wh(n,e){return ay(Wn(n),Wn(e))&&n.limitType===e.limitType}function ix(n){return`${sy(Wn(n))}|lt:${n.limitType}`}function hs(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>ex(r)).join(", ")}]`),Hh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Cs(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Cs(r)).join(",")),`Target(${i})`}(Wn(n))}; limitType=${n.limitType})`}function Kh(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):G.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of yc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=E1(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,yc(i),r)||i.endAt&&!function(s,a,c){let l=E1(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,yc(i),r))}(n,e)}function wU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rx(n){return(e,t)=>{let i=!1;for(let r of yc(n)){let o=CU(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function CU(n,e,t){let i=n.field.isKeyField()?G.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ws(c,l):W()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return W()}}var er=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return K1(this.inner)}size(){return this.innerSize}};var bU=new Be(G.comparator);function vi(){return bU}var ox=new Be(G.comparator);function _c(...n){let e=ox;for(let t of n)e=e.insert(t.key,t);return e}function sx(n){let e=ox;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function jr(){return wc()}function ax(){return wc()}function wc(){return new er(n=>n.toString(),(n,e)=>n.isEqual(e))}var EU=new Be(G.comparator),IU=new yt(G.comparator);function le(...n){let e=IU;for(let t of n)e=e.add(t);return e}var TU=new yt(Ce);function DU(){return TU}function cx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function lx(n){return{integerValue:""+n}}function xU(n,e){return dU(e)?lx(e):cx(n,e)}var Is=class{constructor(){this._=void 0}};function SU(n,e,t){return n instanceof Ts?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&iy(o)&&(o=ry(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Hr?dx(n,e):n instanceof Wr?hx(n,e):function(r,o){let s=ux(r,o),a=x1(s)+x1(r.Ie);return k0(s)&&k0(r.Ie)?lx(a):cx(r.serializer,a)}(n,e)}function AU(n,e,t){return n instanceof Hr?dx(n,e):n instanceof Wr?hx(n,e):t}function ux(n,e){return n instanceof Ds?function(i){return k0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Ts=class extends Is{},Hr=class extends Is{constructor(e){super(),this.elements=e}};function dx(n,e){let t=fx(e);for(let i of n.elements)t.some(r=>Qn(r,i))||t.push(i);return{arrayValue:{values:t}}}var Wr=class extends Is{constructor(e){super(),this.elements=e}};function hx(n,e){let t=fx(e);for(let i of n.elements)t=t.filter(r=>!Qn(r,i));return{arrayValue:{values:t}}}var Ds=class extends Is{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function x1(n){return Ue(n.integerValue||n.doubleValue)}function fx(n){return oy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function MU(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Hr&&r instanceof Hr||i instanceof Wr&&r instanceof Wr?ys(i.elements,r.elements,Qn):i instanceof Ds&&r instanceof Ds?Qn(i.Ie,r.Ie):i instanceof Ts&&r instanceof Ts}(n.transform,e.transform)}var K0=class{constructor(e,t){this.version=e,this.transformResults=t}},Yi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function dh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var xs=class{};function px(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yh(n.key,Yi.none()):new Kr(n.key,n.data,Yi.none());{let t=n.data,i=Kt.empty(),r=new yt(Qt.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Yn(n.key,i,new pn(r.toArray()),Yi.none())}}function PU(n,e,t){n instanceof Kr?function(r,o,s){let a=r.value.clone(),c=A1(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Yn?function(r,o,s){if(!dh(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=A1(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(mx(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Cc(n,e,t,i){return n instanceof Kr?function(o,s,a,c){if(!dh(o.precondition,s))return a;let l=o.value.clone(),u=M1(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof Yn?function(o,s,a,c){if(!dh(o.precondition,s))return a;let l=M1(o.fieldTransforms,c,s),u=s.data;return u.setAll(mx(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(o,s,a){return dh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function RU(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=ux(i.transform,r||null);o!=null&&(t===null&&(t=Kt.empty()),t.set(i.field,o))}return t||null}function S1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ys(i,r,(o,s)=>MU(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Kr=class extends xs{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Yn=class extends xs{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function mx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function A1(n,e,t){let i=new Map;Oe(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,AU(s,a,t[r]))}return i}function M1(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,SU(o,s,e))}return i}var yh=class extends xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Q0=class extends xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Y0=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&PU(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Cc(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Cc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=ax();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let c=px(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(t,i)=>S1(t,i))&&ys(this.baseMutations,e.baseMutations,(t,i)=>S1(t,i))}},J0=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Oe(e.mutations.length===i.length);let r=function(){return EU}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var Z0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var X0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Qe,fe;function NU(n){switch(n){default:return W();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function gx(n){if(n===void 0)return _i("GRPC error has no .code"),S.UNKNOWN;switch(n){case Qe.OK:return S.OK;case Qe.CANCELLED:return S.CANCELLED;case Qe.UNKNOWN:return S.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return S.INTERNAL;case Qe.UNAVAILABLE:return S.UNAVAILABLE;case Qe.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Qe.NOT_FOUND:return S.NOT_FOUND;case Qe.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Qe.ABORTED:return S.ABORTED;case Qe.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Qe.DATA_LOSS:return S.DATA_LOSS;default:return W()}}(fe=Qe||(Qe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var P1=null;function OU(){return new TextEncoder}var kU=new Lr([4294967295,4294967295],0);function R1(n){let e=OU().encode(n),t=new g1;return t.update(e),new Uint8Array(t.digest())}function N1(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Lr([t,i],0),new Lr([r,o],0)]}var ev=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ur(`Invalid padding: ${t}`);if(i<0)throw new Ur(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ur(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ur(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Lr.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(Lr.fromNumber(i)));return r.compare(kU)===1&&(r=new Lr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let t=R1(e),[i,r]=N1(t);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let t=R1(e),[i,r]=N1(t);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Re(s)}}Re(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Ur=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wh=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Z.min(),r,new Be(Ce),vi(),le())}},Tc=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,le(),le(),le())}};var gs=class{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}},Ch=class{constructor(e,t){this.targetId=e,this.fe=t}},bh=class{constructor(e,t,i=xt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Eh=class{constructor(){this.ge=0,this.pe=k1(),this.ye=xt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=le(),t=le(),i=le();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:W()}}),new Tc(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=k1()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Oe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},tv=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=vi(),this.Qe=O1(),this.Ke=new Be(Ce)}$e(e){for(let t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(let t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{let i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:W()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){let t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){let o=r.target;if(z0(o))if(i===0){let s=new G(o.path);this.We(t,s,Dn.newNoDocument(s,Z.min()))}else Oe(i===1);else{let s=this.Ze(t);if(s!==i){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}P1?.tt(function(u,p,v,y,D){var x,A,F,ue,z,be;let Ze={localCacheCount:u,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},ge=p.unchangedNames;return ge&&(Ze.bloomFilter={applied:D===0,hashCount:(x=ge?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(ue=(F=(A=ge?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&ue!==void 0?ue:0,padding:(be=(z=ge?.bits)===null||z===void 0?void 0:z.padding)!==null&&be!==void 0?be:0,mightContain:dt=>{var An;return(An=y?.mightContain(dt))!==null&&An!==void 0&&An}}),Ze}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let t=e.fe.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=Xi(i).toUint8Array()}catch(c){if(c instanceof gh)return vs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ev(s,r,o)}catch(c){return vs(c instanceof Ur?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){let t=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&z0(a.target)){let c=new G(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,Dn.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=le();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new wh(e,t,this.Ke,this.qe,i);return this.qe=vi(),this.Qe=O1(),this.Ke=new Be(Ce),r}Ue(e,t){if(!this.je(e))return;let i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Eh,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new yt(Ce),this.Qe=this.Qe.insert(e,t)),t}je(e){let t=this.Ye(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Eh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function O1(){return new Be(G.comparator)}function k1(){return new Be(G.comparator)}var FU={asc:"ASCENDING",desc:"DESCENDING"},VU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LU={and:"AND",or:"OR"},nv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function iv(n,e){return n.useProto3Json||Hh(e)?e:{value:e}}function Ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _x(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jU(n,e){return Ih(n,e.toTimestamp())}function Kn(n){return Oe(!!n),Z.fromTimestamp(function(t){let i=Zi(t);return new ut(i.seconds,i.nanos)}(n))}function ly(n,e){return function(i){return new Le(["projects",i.projectId,"databases",i.database])}(n).child("documents").child(e).canonicalString()}function vx(n){let e=Le.fromString(n);return Oe(bx(e)),e}function rv(n,e){return ly(n.databaseId,e.path)}function w0(n,e){let t=vx(e);if(t.get(1)!==n.databaseId.projectId)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(yx(t))}function ov(n,e){return ly(n.databaseId,e)}function UU(n){let e=vx(n);return e.length===4?Le.emptyPath():yx(e)}function sv(n){return new Le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yx(n){return Oe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function F1(n,e,t){return{name:rv(n,e),fields:t.value.mapValue.fields}}function BU(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Oe(u===void 0||typeof u=="string"),xt.fromBase64String(u||"")):(Oe(u===void 0||u instanceof Uint8Array),xt.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?S.UNKNOWN:gx(l.code);return new V(u,l.message||"")}(s);t=new bh(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=w0(n,i.document.name),o=Kn(i.document.updateTime),s=i.document.createTime?Kn(i.document.createTime):Z.min(),a=new Kt({mapValue:{fields:i.document.fields}}),c=Dn.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];t=new gs(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=w0(n,i.document),o=i.readTime?Kn(i.readTime):Z.min(),s=Dn.newNoDocument(r,o),a=i.removedTargetIds||[];t=new gs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=w0(n,i.document),o=i.removedTargetIds||[];t=new gs([],o,r,null)}else{if(!("filter"in e))return W();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new X0(r,o),a=i.targetId;t=new Ch(a,s)}}return t}function $U(n,e){let t;if(e instanceof Kr)t={update:F1(n,e.key,e.value)};else if(e instanceof yh)t={delete:rv(n,e.key)};else if(e instanceof Yn)t={update:F1(n,e.key,e.data),updateMask:JU(e.fieldMask)};else{if(!(e instanceof Q0))return W();t={verify:rv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ds)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw W()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:jU(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(n,e.precondition)),t}function qU(n,e){return n&&n.length>0?(Oe(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?Kn(r.updateTime):Kn(o);return s.isEqual(Z.min())&&(s=Kn(o)),new K0(s,r.transformResults||[])}(t,e))):[]}function GU(n,e){return{documents:[ov(n,e.path)]}}function zU(n,e){let t={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(t.parent=ov(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ov(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);let r=function(c){if(c.length!==0)return Cx(xn.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);let o=function(c){if(c.length!==0)return c.map(l=>function(p){return{field:fs(p.field),direction:KU(p.dir)}}(l))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let s=iv(n,e.limit);return s!==null&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t}function HU(n){let e=UU(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Oe(i===1);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(p){let v=wx(p);return v instanceof xn&&Z1(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(v=>function(D){return new Es(ps(D.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,Hh(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(p){let v=!!p.before,y=p.values||[];return new bs(y,v)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let v=!p.before,y=p.values||[];return new bs(y,v)}(t.endAt)),vU(e,r,s,o,a,"F",c,l)}function WU(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=ps(t.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=ps(t.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ps(t.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ps(t.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(n):n.fieldFilter!==void 0?function(t){return Je.create(ps(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return xn.create(t.compositeFilter.filters.map(i=>wx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return W()}}(t.compositeFilter.op))}(n):W()}function KU(n){return FU[n]}function QU(n){return VU[n]}function YU(n){return LU[n]}function fs(n){return{fieldPath:n.canonicalString()}}function ps(n){return Qt.fromServerFormat(n.fieldPath)}function Cx(n){return n instanceof Je?function(t){if(t.op==="=="){if(b1(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NAN"}};if(C1(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(b1(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NOT_NAN"}};if(C1(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(t.field),op:QU(t.op),value:t.value}}}(n):n instanceof xn?function(t){let i=t.getFilters().map(r=>Cx(r));return i.length===1?i[0]:{compositeFilter:{op:YU(t.op),filters:i}}}(n):W()}function JU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Dc=class n{constructor(e,t,i,r,o=Z.min(),s=Z.min(),a=xt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var av=class{constructor(e){this.ut=e}};function ZU(n){let e=HU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?W0(e,e.limit,"L"):e}var Th=class{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Ue(e.integerValue));else if("doubleValue"in e){let i=Ue(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),bc(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(t,20),typeof i=="string"?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Xi(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?Q1(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):W()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){let i=e.fields||{};this.Tt(t,55);for(let r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){let i=e.values||[];this.Tt(t,50);for(let r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),G.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}};Th.St=new Th;var cv=class{constructor(){this.on=new lv}addToCollectionParentIndex(e,t){return this.on.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(qr.min())}updateCollectionGroup(e,t,i){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},lv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new yt(Le.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new yt(Le.comparator)).toArray()}};var PY=new Uint8Array(0);var zn=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);var xc=class n{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new n(0)}static Nn(){return new n(-1)}};var uv=class{constructor(){this.changes=new er(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?P.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var dv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var hv=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Cc(i.mutation,r,pn.empty(),ut.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,t,i=le()){let r=jr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=_c();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=jr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,le()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=vi(),s=wc(),a=function(){return wc()}();return t.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Yn)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),Cc(u.mutation,l,u.mutation.getFieldMask(),ut.now())):s.set(l.key,pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var p;return a.set(l,new dv(u,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let i=wc(),r=new Be((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=i.get(c)||pn.empty();u=a.applyToLocalView(l,u),i.set(c,u);let p=(r.get(a.batchId)||le()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,p=ax();u.forEach(v=>{if(!o.has(v)){let y=px(t.get(v),i.get(v));y!==null&&p.set(v,y),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):P.resolve(jr()),a=-1,c=o;return s.next(l=>P.forEach(l,(u,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(u)?P.resolve():this.remoteDocumentCache.getEntry(e,u).next(v=>{c=c.insert(u,v)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,le())).next(u=>({batchId:a,changes:sx(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(i=>{let r=_c();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=_c();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,c=>{let l=function(p,v){return new zr(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,Dn.newInvalidDocument(u)))});let a=_c();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&Cc(u.mutation,l,pn.empty(),ut.now()),Kh(t,l)&&(a=a.insert(c,l))}),a})}};var fv=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return P.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Kn(r.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(r){return{name:r.name,query:ZU(r.bundledQuery),readTime:Kn(r.readTime)}}(t)),P.resolve()}};var pv=class{constructor(){this.overlays=new Be(G.comparator),this.lr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let i=jr();return P.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.lr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),P.resolve()}getOverlaysForCollection(e,t,i){let r=jr(),o=t.length+1,s=new G(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return P.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Be((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=jr(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=jr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return P.resolve(a)}lt(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Z0(t,i));let o=this.lr.get(t);o===void 0&&(o=le(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}};var Sc=class{constructor(){this.hr=new yt(Ye.Pr),this.Ir=new yt(Ye.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){let i=new Ye(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Ye(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){let t=new G(new Le([])),i=new Ye(t,e),r=new Ye(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let t=new G(new Le([])),i=new Ye(t,e),r=new Ye(t,e+1),o=le();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ye(e,0),i=this.hr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Ye=class{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return G.comparator(e.key,t.key)||Ce(e.gr,t.gr)}static Tr(e,t){return Ce(e.gr,t.gr)||G.comparator(e.key,t.key)}};var mv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new yt(Ye.Pr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Y0(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.yr=this.yr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Sr(i),o=r<0?0:r;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Ye(t,0),r=new Ye(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{let a=this.wr(s.gr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new yt(Ce);return t.forEach(r=>{let o=new Ye(r,0),s=new Ye(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),P.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;G.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new G(o),0),a=new yt(Ce);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gr)),!0)},s),P.resolve(this.br(a))}br(e){let t=[];return e.forEach(i=>{let r=this.wr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Oe(this.Dr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return P.forEach(t.mutations,r=>{let o=new Ye(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){let i=new Ye(t,0),r=this.yr.firstAfterOrEqual(i);return P.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var gv=class{constructor(e){this.Cr=e,this.docs=function(){return new Be(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return P.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let i=vi();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Dn.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=vi(),s=t.path,a=new G(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||lU(cU(u),i)<=0||(r.has(u.key)||Kh(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,i,r){W()}vr(e,t){return P.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _v(this)}getSize(e){return P.resolve(this.size)}},_v=class extends uv{constructor(e){super(),this._r=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),P.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}};var vv=class{constructor(e){this.persistence=e,this.Fr=new er(t=>sy(t),ay),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Sc,this.targetCount=0,this.Nr=xc.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),P.resolve()}kn(e){this.Fr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Nr=new xc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.kn(t),P.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),P.waitFor(o).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let i=this.Fr.get(t)||null;return P.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),P.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Or.mr(t);return P.resolve(i)}containsKey(e,t){return P.resolve(this.Or.containsKey(t))}};var yv=class{constructor(e,t){this.Br={},this.overlays={},this.Lr=new W1(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new vv(this),this.indexManager=new cv,this.remoteDocumentCache=function(r){return new gv(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new av(t),this.Kr=new fv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new mv(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){L("MemoryPersistence","Starting transaction:",e);let r=new wv(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return P.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}},wv=class extends R0{constructor(e){super(),this.currentSequenceNumber=e}},Cv=class n{constructor(e){this.persistence=e,this.Gr=new Sc,this.zr=null}static jr(e){return new n(e)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),P.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,i=>{let r=G.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Z.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return P.or([()=>P.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}};var bv=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=le(),r=le();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var Ev=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Iv=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Ev;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(gc()<=ce.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",hs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(gc()<=ce.DEBUG&&L("QueryEngine","Query:",hs(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(gc()<=ce.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",hs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(t))):P.resolve())}zi(e,t){if(D1(t))return P.resolve(null);let i=Wn(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=W0(t,null,"F"),i=Wn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=le(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Yi(t,a);return this.Zi(t,l,s,c.readTime)?this.zi(e,W0(t,null,"F")):this.Xi(e,l,t,c)}))})))}ji(e,t,i,r){return D1(t)||r.isEqual(Z.min())?P.resolve(null):this.Gi.getDocuments(e,i).next(o=>{let s=this.Yi(t,o);return this.Zi(t,s,i,r)?P.resolve(null):(gc()<=ce.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hs(t)),this.Xi(e,s,t,aU(r,-1)).next(a=>a))})}Yi(e,t){let i=new yt(rx(e));return t.forEach((r,o)=>{Kh(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return gc()<=ce.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",hs(t)),this.Gi.getDocumentsMatchingQuery(e,t,qr.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Tv=class{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Be(Ce),this.ns=new er(o=>sy(o),ay),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hv(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}};function XU(n,e,t,i){return new Tv(n,e,t,i)}function Ex(n,e){return I(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=le();for(let l of r){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function e4(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let p=l.batch,v=p.keys(),y=P.resolve();return v.forEach(D=>{y=y.next(()=>u.getEntry(c,D)).next(x=>{let A=l.docVersions.get(D);Oe(A!==null),x.version.compareTo(A)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),u.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Ix(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function t4(n,e){let t=X(n),i=e.snapshotVersion,r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;let a=[];e.targetChanges.forEach((u,p)=>{let v=r.get(p);if(!v)return;a.push(t.qr.removeMatchingKeys(o,u.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,u.addedDocuments,p)));let y=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(xt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):u.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(u.resumeToken,i)),r=r.insert(p,y),function(x,A,F){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(v,y,u)&&a.push(t.qr.updateTargetData(o,y))});let c=vi(),l=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(n4(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!i.isEqual(Z.min())){let u=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.ts=r,o))}function n4(n,e,t){let i=le(),r=le();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=vi();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Z.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:r}})}function i4(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function r4(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,P.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Dc(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Dv(n,e,t){return I(this,null,function*(){let i=X(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Oc(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)})}function V1(n,e,t){let i=X(n),r=Z.min(),o=le();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let p=X(c),v=p.ns.get(u);return v!==void 0?P.resolve(p.ts.get(v)):p.qr.getTargetData(l,u)}(i,s,Wn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Z.min(),t?o:le())).next(a=>(o4(i,wU(e),a),{documents:a,ls:o})))}function o4(n,e,t){let i=n.rs.get(e)||Z.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}var Dh=class{constructor(){this.activeTargetIds=DU()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var xv=class{constructor(){this.eo=new Dh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Dh,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Sv=class{ro(e){}shutdown(){}};var xh=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var lh=null;function C0(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}var s4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Av=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var vt="WebChannelConnection",Mv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){let a=C0(),c=this.So(t,i);L("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(t,c,l,r).then(u=>(L("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw vs("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){let r=s4[t];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){let o=C0();return new Promise((s,a)=>{let c=new m1;c.setWithCredentials(!0),c.listenOnce(f1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ah.NO_ERROR:let u=c.getResponseJson();L(vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case ah.TIMEOUT:L(vt,`RPC '${e}' ${o} timed out`),a(new V(S.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:let p=c.getStatus();if(L(vt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);let y=v?.error;if(y&&y.status&&y.message){let D=function(A){let F=A.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(F)>=0?F:S.UNKNOWN}(y.status);a(new V(D,y.message))}else a(new V(S.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(S.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{L(vt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);L(vt,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}vo(e,t,i){let r=C0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=d1(),a=h1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let u=o.join("");L(vt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let p=s.createWebChannel(u,c),v=!1,y=!1,D=new Av({co:A=>{y?L(vt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(v||(L(vt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),v=!0),L(vt,`RPC '${e}' stream ${r} sending:`,A),p.send(A))},lo:()=>p.close()}),x=(A,F,ue)=>{A.listen(F,z=>{try{ue(z)}catch(be){setTimeout(()=>{throw be},0)}})};return x(p,mc.EventType.OPEN,()=>{y||L(vt,`RPC '${e}' stream ${r} transport opened.`)}),x(p,mc.EventType.CLOSE,()=>{y||(y=!0,L(vt,`RPC '${e}' stream ${r} transport closed`),D.Ro())}),x(p,mc.EventType.ERROR,A=>{y||(y=!0,vs(vt,`RPC '${e}' stream ${r} transport errored:`,A),D.Ro(new V(S.UNAVAILABLE,"The operation could not be completed")))}),x(p,mc.EventType.MESSAGE,A=>{var F;if(!y){let ue=A.data[0];Oe(!!ue);let z=ue,be=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(be){L(vt,`RPC '${e}' stream ${r} received error:`,be);let Ze=be.status,ge=function(ir){let Xr=Qe[ir];if(Xr!==void 0)return gx(Xr)}(Ze),dt=be.message;ge===void 0&&(ge=S.INTERNAL,dt="Unknown error status: "+Ze+" with message "+be.message),y=!0,D.Ro(new V(ge,dt)),p.close()}else L(vt,`RPC '${e}' stream ${r} received:`,ue),D.Vo(ue)}}),x(a,p1.STAT_EVENT,A=>{A.stat===y0.PROXY?L(vt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===y0.NOPROXY&&L(vt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.Ao()},0),D}};function b0(){return typeof document<"u"?document:null}function Qh(n){return new nv(n,!0)}var Sh=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Ah=class{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Sh(e,t)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return I(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return I(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){return I(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():t&&t.code===S.RESOURCE_EXHAUSTED?(_i(t.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(t)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{let r=new V(S.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){let i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(()=>I(this,null,function*(){this.state=0,this.start()}))}o_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Pv=class extends Ah{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();let t=BU(this.serializer,e),i=function(o){if(!("targetChange"in o))return Z.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?Kn(s.readTime):Z.min()}(e);return this.listener.a_(t,i)}u_(e){let t={};t.database=sv(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=z0(c)?{documents:GU(o,c)}:{query:zU(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=_x(o,s.resumeToken);let l=iv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=Ih(o,s.snapshotVersion.toTimestamp());let l=iv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=WU(this.serializer,e);i&&(t.labels=i),this.e_(t)}c_(e){let t={};t.database=sv(this.serializer),t.removeTarget=e,this.e_(t)}},Rv=class extends Ah{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let t=qU(e.writeResults,e.commitTime),i=Kn(e.commitTime);return this.listener.I_(i,t)}return Oe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=sv(this.serializer),this.e_(e)}P_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>$U(this.serializer,i))};this.e_(t)}};var Nv=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new V(S.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(S.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var Ov=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(_i(t),this.f_=!1):L("OnlineStateTracker",t)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var kv=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{i.enqueueAndForget(()=>I(this,null,function*(){Jr(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(c){return I(this,null,function*(){let l=X(c);l.C_.add(4),yield kc(l),l.M_.set("Unknown"),l.C_.delete(4),yield Yh(l)})}(this))}))}),this.M_=new Ov(i,r)}};function Yh(n){return I(this,null,function*(){if(Jr(n))for(let e of n.v_)yield e(!0)})}function kc(n){return I(this,null,function*(){for(let e of n.v_)yield e(!1)})}function Tx(n,e){let t=X(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),hy(t)?dy(t):Ns(t).Ho()&&uy(t,e))}function Dx(n,e){let t=X(n),i=Ns(t);t.D_.delete(e),i.Ho()&&xx(t,e),t.D_.size===0&&(i.Ho()?i.Zo():Jr(t)&&t.M_.set("Unknown"))}function uy(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ns(n).u_(e)}function xx(n,e){n.x_.Oe(e),Ns(n).c_(e)}function dy(n){n.x_=new tv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ns(n).start(),n.M_.g_()}function hy(n){return Jr(n)&&!Ns(n).jo()&&n.D_.size>0}function Jr(n){return X(n).C_.size===0}function Sx(n){n.x_=void 0}function a4(n){return I(this,null,function*(){n.D_.forEach((e,t)=>{uy(n,e)})})}function c4(n,e){return I(this,null,function*(){Sx(n),hy(n)?(n.M_.w_(e),dy(n)):n.M_.set("Unknown")})}function l4(n,e,t){return I(this,null,function*(){if(n.M_.set("Online"),e instanceof bh&&e.state===2&&e.cause)try{yield function(r,o){return I(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.D_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.D_.delete(a),r.x_.removeTarget(a))})}(n,e)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Mh(n,i)}else if(e instanceof gs?n.x_.$e(e):e instanceof Ch?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Z.min()))try{let i=yield Ix(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(xt.EMPTY_BYTE_STRING,u.snapshotVersion)),xx(o,c);let p=new Dc(u.target,c,l,u.sequenceNumber);uy(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){L("RemoteStore","Failed to raise snapshot:",i),yield Mh(n,i)}})}function Mh(n,e,t){return I(this,null,function*(){if(!Oc(e))throw e;n.C_.add(1),yield kc(n),n.M_.set("Offline"),t||(t=()=>Ix(n.localStore)),n.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Yh(n)}))})}function Ax(n,e){return e().catch(t=>Mh(n,t,e))}function Jh(n){return I(this,null,function*(){let e=X(n),t=tr(e),i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;u4(e);)try{let r=yield i4(e.localStore,i);if(r===null){e.b_.length===0&&t.Zo();break}i=r.batchId,d4(e,r)}catch(r){yield Mh(e,r)}Mx(e)&&Px(e)})}function u4(n){return Jr(n)&&n.b_.length<10}function d4(n,e){n.b_.push(e);let t=tr(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function Mx(n){return Jr(n)&&!tr(n).jo()&&n.b_.length>0}function Px(n){tr(n).start()}function h4(n){return I(this,null,function*(){tr(n).E_()})}function f4(n){return I(this,null,function*(){let e=tr(n);for(let t of n.b_)e.P_(t.mutations)})}function p4(n,e,t){return I(this,null,function*(){let i=n.b_.shift(),r=J0.from(i,e,t);yield Ax(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Jh(n)})}function m4(n,e){return I(this,null,function*(){e&&tr(n).h_&&(yield function(i,r){return I(this,null,function*(){if(function(s){return NU(s)&&s!==S.ABORTED}(r.code)){let o=i.b_.shift();tr(i).Yo(),yield Ax(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Jh(i)}})}(n,e)),Mx(n)&&Px(n)})}function L1(n,e){return I(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let i=Jr(t);t.C_.add(3),yield kc(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Yh(t)})}function g4(n,e){return I(this,null,function*(){let t=X(n);e?(t.C_.delete(2),yield Yh(t)):e||(t.C_.add(2),yield kc(t),t.M_.set("Unknown"))})}function Ns(n){return n.O_||(n.O_=function(t,i,r){let o=X(t);return o.A_(),new Pv(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:a4.bind(null,n),Io:c4.bind(null,n),a_:l4.bind(null,n)}),n.v_.push(e=>I(this,null,function*(){e?(n.O_.Yo(),hy(n)?dy(n):n.M_.set("Unknown")):(yield n.O_.stop(),Sx(n))}))),n.O_}function tr(n){return n.N_||(n.N_=function(t,i,r){let o=X(t);return o.A_(),new Rv(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:h4.bind(null,n),Io:m4.bind(null,n),T_:f4.bind(null,n),I_:p4.bind(null,n)}),n.v_.push(e=>I(this,null,function*(){e?(n.N_.Yo(),yield Jh(n)):(yield n.N_.stop(),n.b_.length>0&&(L("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))}))),n.N_}var Fv=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function fy(n,e){if(_i("AsyncQueue",`${e}: ${n}`),Oc(n))return new V(S.UNAVAILABLE,`${e}: ${n}`);throw n}var Ph=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||G.comparator(t.key,i.key):(t,i)=>G.comparator(t.key,i.key),this.keyedMap=_c(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Rh=class{constructor(){this.B_=new Be(G.comparator)}track(e){let t=e.doc.key,i=this.B_.get(t);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(t,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(t):e.type===1&&i.type===2?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):W():this.B_=this.B_.insert(t,e)}L_(){let e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}},Ss=class n{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ph.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var Vv=class{constructor(){this.k_=void 0,this.listeners=[]}},Lv=class{constructor(){this.queries=new er(e=>ix(e),Wh),this.onlineState="Unknown",this.q_=new Set}};function Rx(n,e){return I(this,null,function*(){let t=X(n),i=e.query,r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Vv),r)try{o.k_=yield t.onListen(i)}catch(s){let a=fy(s,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&py(t)})}function Nx(n,e){return I(this,null,function*(){let t=X(n),i=e.query,r=!1,o=t.queries.get(i);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=o.listeners.length===0)}if(r)return t.queries.delete(i),t.onUnlisten(i)})}function _4(n,e){let t=X(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&py(t)}function v4(n,e,t){let i=X(n),r=i.queries.get(e);if(r)for(let o of r.listeners)o.onError(t);i.queries.delete(e)}function py(n){n.q_.forEach(e=>{e.next()})}var Nh=class{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Ss(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;let i=t!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}H_(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Oh=class{constructor(e){this.key=e}},kh=class{constructor(e){this.key=e}},jv=class{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=le(),this.mutatedKeys=le(),this._a=rx(e),this.aa=new Ph(this._a)}get ua(){return this.ia}ca(e,t){let i=t?t.la:new Rh,r=t?t.aa:this.aa,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,p)=>{let v=r.get(u),y=Kh(this.query,p)?p:null,D=!!v&&this.mutatedKeys.has(v.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;v&&y?v.data.isEqual(y.data)?D!==x&&(i.track({type:3,doc:y}),A=!0):this.ha(v,y)||(i.track({type:2,doc:y}),A=!0,(c&&this._a(y,c)>0||l&&this._a(y,l)<0)&&(a=!0)):!v&&y?(i.track({type:0,doc:y}),A=!0):v&&!y&&(i.track({type:1,doc:v}),A=!0,(c||l)&&(a=!0)),A&&(y?(s=s.add(y),o=x?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((u,p)=>function(y,D){let x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return x(y)-x(D)}(u.type,p.type)||this._a(u.doc,p.doc)),this.Pa(i),r=r!=null&&r;let a=t&&!r?this.Ia():[],c=this.oa.size===0&&this.current&&!r?1:0,l=c!==this.sa;return this.sa=c,s.length!==0||l?{snapshot:new Ss(this.query,e.aa,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Rh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=le(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});let t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new kh(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new Oh(i))}),t}da(e){this.ia=e.ls,this.oa=le();let t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Ss.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Uv=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Bv=class{constructor(e){this.key=e,this.Ra=!1}},$v=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new er(a=>ix(a),Wh),this.fa=new Map,this.ga=new Set,this.pa=new Be(G.comparator),this.ya=new Map,this.wa=new Sc,this.Sa={},this.ba=new Map,this.Da=xc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function y4(n,e){return I(this,null,function*(){let t=A4(n),i,r,o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{let s=yield r4(t.localStore,Wn(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield w4(t,e,i,a==="current",s.resumeToken),t.isPrimaryClient&&Tx(t.remoteStore,s)}return r})}function w4(n,e,t,i,r){return I(this,null,function*(){n.va=(p,v,y)=>function(x,A,F,ue){return I(this,null,function*(){let z=A.view.ca(F);z.Zi&&(z=yield V1(x.localStore,A.query,!1).then(({documents:dt})=>A.view.ca(dt,z)));let be=ue&&ue.targetChanges.get(A.targetId),Ze=ue&&ue.targetMismatches.get(A.targetId)!=null,ge=A.view.applyChanges(z,x.isPrimaryClient,be,Ze);return U1(x,A.targetId,ge.Ta),ge.snapshot})}(n,p,v,y);let o=yield V1(n.localStore,e,!0),s=new jv(e,o.ls),a=s.ca(o.documents),c=Tc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),l=s.applyChanges(a,n.isPrimaryClient,c);U1(n,t,l.Ta);let u=new Uv(e,t,s);return n.ma.set(e,u),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),l.snapshot})}function C4(n,e){return I(this,null,function*(){let t=X(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Wh(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Dv(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Dx(t.remoteStore,i.targetId),qv(t,i.targetId)}).catch(Nc))):(qv(t,i.targetId),yield Dv(t.localStore,i.targetId,!0))})}function b4(n,e,t){return I(this,null,function*(){let i=M4(n);try{let r=yield function(s,a){let c=X(s),l=ut.now(),u=a.reduce((y,D)=>y.add(D.key),le()),p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=vi(),x=le();return c.ss.getEntries(y,u).next(A=>{D=A,D.forEach((F,ue)=>{ue.isValidDocument()||(x=x.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,D)).next(A=>{p=A;let F=[];for(let ue of a){let z=RU(ue,p.get(ue.key).overlayedDocument);z!=null&&F.push(new Yn(ue.key,z,Y1(z.value.mapValue),Yi.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,F,a)}).next(A=>{v=A;let F=A.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(y,A.batchId,F)})}).then(()=>({batchId:v.batchId,changes:sx(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Be(Ce)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(i,r.batchId,t),yield Fc(i,r.changes),yield Jh(i.remoteStore)}catch(r){let o=fy(r,"Failed to persist write");t.reject(o)}})}function Ox(n,e){return I(this,null,function*(){let t=X(n);try{let i=yield t4(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.ya.get(o);s&&(Oe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Oe(s.Ra):r.removedDocuments.size>0&&(Oe(s.Ra),s.Ra=!1))}),yield Fc(t,i,e)}catch(i){yield Nc(i)}})}function j1(n,e,t){let i=X(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=X(s);c.onlineState=a;let l=!1;c.queries.forEach((u,p)=>{for(let v of p.listeners)v.Q_(a)&&(l=!0)}),l&&py(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function E4(n,e,t){return I(this,null,function*(){let i=X(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.ya.get(e),o=r&&r.key;if(o){let s=new Be(G.comparator);s=s.insert(o,Dn.newNoDocument(o,Z.min()));let a=le().add(o),c=new wh(Z.min(),new Map,new Be(Ce),s,a);yield Ox(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),my(i)}else yield Dv(i.localStore,e,!1).then(()=>qv(i,e,t)).catch(Nc)})}function I4(n,e){return I(this,null,function*(){let t=X(n),i=e.batch.batchId;try{let r=yield e4(t.localStore,e);Fx(t,i,null),kx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Fc(t,r)}catch(r){yield Nc(r)}})}function T4(n,e,t){return I(this,null,function*(){let i=X(n);try{let r=yield function(s,a){let c=X(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Oe(p!==null),u=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);Fx(i,e,t),kx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Fc(i,r)}catch(r){yield Nc(r)}})}function kx(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function Fx(n,e,t){let i=X(n),r=i.Sa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function qv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||Vx(n,i)})}function Vx(n,e){n.ga.delete(e.path.canonicalString());let t=n.pa.get(e);t!==null&&(Dx(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),my(n))}function U1(n,e,t){for(let i of t)i instanceof Oh?(n.wa.addReference(i.key,e),D4(n,i)):i instanceof kh?(L("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||Vx(n,i.key)):W()}function D4(n,e){let t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(L("SyncEngine","New document in limbo: "+t),n.ga.add(i),my(n))}function my(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){let e=n.ga.values().next().value;n.ga.delete(e);let t=new G(Le.fromString(e)),i=n.Da.next();n.ya.set(i,new Bv(t)),n.pa=n.pa.insert(t,i),Tx(n.remoteStore,new Dc(Wn(cy(t.path)),i,"TargetPurposeLimboResolution",W1._e))}}function Fc(n,e,t){return I(this,null,function*(){let i=X(n),r=[],o=[],s=[];i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=bv.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield function(c,l){return I(this,null,function*(){let u=X(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,v=>P.forEach(v.ki,y=>u.persistence.referenceDelegate.addReference(p,v.targetId,y)).next(()=>P.forEach(v.qi,y=>u.persistence.referenceDelegate.removeReference(p,v.targetId,y)))))}catch(p){if(!Oc(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let v=p.targetId;if(!p.fromCache){let y=u.ts.get(v),D=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(D);u.ts=u.ts.insert(v,x)}}})}(i.localStore,o))})}function x4(n,e){return I(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let i=yield Ex(t.localStore,e);t.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new V(S.CANCELLED,s))})}),o.ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Fc(t,i._s)}})}function S4(n,e){let t=X(n),i=t.ya.get(e);if(i&&i.Ra)return le().add(i.key);{let r=le(),o=t.fa.get(e);if(!o)return r;for(let s of o){let a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function A4(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E4.bind(null,e),e.Va.a_=_4.bind(null,e.eventManager),e.Va.Fa=v4.bind(null,e.eventManager),e}function M4(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T4.bind(null,e),e}var Fh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return XU(this.persistence,new Iv,e.initialUser,this.serializer)}createPersistence(e){return new yv(Cv.jr,this.serializer)}createSharedClientState(e){return new xv}terminate(){return I(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Gv=class{initialize(e,t){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>j1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=x4.bind(null,this.syncEngine),yield g4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Lv}()}createDatastore(e){let t=Qh(e.databaseInfo.databaseId),i=function(o){return new Mv(o)}(e.databaseInfo);return function(o,s,a,c){return new Nv(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,s,a){return new kv(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,t=>j1(this.syncEngine,t,0),function(){return xh.D()?new xh:new Sv}())}createSyncEngine(e,t){return function(r,o,s,a,c,l,u){let p=new $v(r,o,s,a,c,l);return u&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(t){return I(this,null,function*(){let i=X(t);L("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield kc(i),i.F_.shutdown(),i.M_.set("Unknown")})}(this.remoteStore)}};var Vh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var zv=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=rt.UNAUTHENTICATED,this.clientId=fh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>I(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return I(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=fy(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function E0(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>I(this,null,function*(){i.isEqual(r)||(yield Ex(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function B1(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield R4(n);L("FirestoreClient","Initializing OnlineComponentProvider");let i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>L1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>L1(e.remoteStore,o)),n._onlineComponents=e})}function P4(n){return n.name==="FirebaseError"?n.code===S.FAILED_PRECONDITION||n.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function R4(n){return I(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield E0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!P4(t))throw t;vs("Error using user provided cache. Falling back to memory cache: "+t),yield E0(n,new Fh)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield E0(n,new Fh);return n._offlineComponents})}function Lx(n){return I(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield B1(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield B1(n,new Gv))),n._onlineComponents})}function N4(n){return Lx(n).then(e=>e.syncEngine)}function jx(n){return I(this,null,function*(){let e=yield Lx(n),t=e.eventManager;return t.onListen=y4.bind(null,e.syncEngine),t.onUnlisten=C4.bind(null,e.syncEngine),t})}function O4(n,e,t={}){let i=new Tn;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,s,a,c,l){let u=new Vh({next:v=>{s.enqueueAndForget(()=>Nx(o,p));let y=v.docs.has(a);!y&&v.fromCache?l.reject(new V(S.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?l.reject(new V(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(v)},error:v=>l.reject(v)}),p=new Nh(cy(a.path),u,{includeMetadataChanges:!0,J_:!0});return Rx(o,p)}(yield jx(n),n.asyncQueue,e,t,i)})),i.promise}function k4(n,e,t={}){let i=new Tn;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,s,a,c,l){let u=new Vh({next:v=>{s.enqueueAndForget(()=>Nx(o,p)),v.fromCache&&c.source==="server"?l.reject(new V(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(v)},error:v=>l.reject(v)}),p=new Nh(a,u,{includeMetadataChanges:!0,J_:!0});return Rx(o,p)}(yield jx(n),n.asyncQueue,e,t,i)})),i.promise}function Ux(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var $1=new Map;function Bx(n,e,t){if(!t)throw new V(S.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function F4(n,e,t,i){if(e===!0&&i===!0)throw new V(S.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function q1(n){if(!G.isDocumentKey(n))throw new V(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function G1(n){if(G.isDocumentKey(n))throw new V(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":W()}function nr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Zh(n);throw new V(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Lh=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new V(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ux((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},As=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lh(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new I0;switch(i.type){case"firstParty":return new S0(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new V(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=$1.get(t);i&&(L("ComponentProvider","Removing Datastore"),$1.delete(t),i.terminate())}(this),Promise.resolve()}};function $x(n,e,t,i={}){var r;let o=(n=nr(n,As))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=rt.MOCK_USER;else{a=pT(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new V(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new rt(l)}n._authCredentials=new T0(new hh(a,c))}}var Ms=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Vt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ji=class n extends Ms{constructor(e,t,i){super(e,t,cy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function qx(n,e,...t){if(n=Tt(n),Bx("collection","path",e),n instanceof As){let i=Le.fromString(e,...t);return G1(i),new Ji(n,null,i)}{if(!(n instanceof Vt||n instanceof Ji))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Le.fromString(e,...t));return G1(i),new Ji(n.firestore,null,i)}}function gy(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=fh.newId()),Bx("doc","path",e),n instanceof As){let i=Le.fromString(e,...t);return q1(i),new Vt(n,null,new G(i))}{if(!(n instanceof Vt||n instanceof Ji))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Le.fromString(e,...t));return q1(i),new Vt(n.firestore,n instanceof Ji?n.converter:null,new G(i))}}var Hv=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Sh(this,"async_queue_retry"),this.iu=()=>{let t=b0();t&&L("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};let e=b0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let t=b0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let t=new Tn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return I(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Oc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw _i("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);let r=Fv.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&W()}verifyOperationInProgress(){}uu(){return I(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Xa)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let t=this.Xa.indexOf(e);this.Xa.splice(t,1)}};var Qr=class extends As{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new Hv}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zx(this),this._firestoreClient.terminate()}};function Gx(n,e){let t=typeof n=="object"?n:Ua(),i=typeof n=="string"?n:e||"(default)",r=h_(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=hT("firestore");o&&$x(r,...o)}return r}function _y(n){return n._firestoreClient||zx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zx(n){var e,t,i;let r=n._freezeSettings(),o=function(a,c,l,u){return new N0(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Ux(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new zv(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Ac=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(xt.fromBase64String(e))}catch(t){throw new V(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ps=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Mc=class{constructor(e){this._methodName=e}};var Pc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}};var V4=/^__.*__$/,Wv=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Yn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kr(e,this.data,t,this.fieldTransforms)}},jh=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Yn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Hx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var Kv=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Bh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Hx(this.Iu)&&V4.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},Qv=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qh(e)}pu(e,t,i,r=!1){return new Kv({Iu:e,methodName:t,gu:i,path:Qt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function vy(n){let e=n._freezeSettings(),t=Qh(n._databaseId);return new Qv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function L4(n,e,t,i,r,o={}){let s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);yy("Data must be an object, but it was:",s,i);let a=Wx(i,s),c,l;if(o.merge)c=new pn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let p of o.mergeFields){let v=Yv(e,p,t);if(!s.contains(v))throw new V(S.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Qx(u,v)||u.push(v)}c=new pn(u),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new Wv(new Kt(a),c,l)}var Uh=class n extends Mc{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function j4(n,e,t,i){let r=n.pu(1,e,t);yy("Data must be an object, but it was:",r,i);let o=[],s=Kt.empty();Yr(i,(c,l)=>{let u=wy(e,c,t);l=Tt(l);let p=r.Ru(u);if(l instanceof Uh)o.push(u);else{let v=Vc(l,p);v!=null&&(o.push(u),s.set(u,v))}});let a=new pn(o);return new jh(s,a,r.fieldTransforms)}function U4(n,e,t,i,r,o){let s=n.pu(1,e,t),a=[Yv(e,i,t)],c=[r];if(o.length%2!=0)throw new V(S.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(Yv(e,o[v])),c.push(o[v+1]);let l=[],u=Kt.empty();for(let v=a.length-1;v>=0;--v)if(!Qx(l,a[v])){let y=a[v],D=c[v];D=Tt(D);let x=s.Ru(y);if(D instanceof Uh)l.push(y);else{let A=Vc(D,x);A!=null&&(l.push(y),u.set(y,A))}}let p=new pn(l);return new jh(u,p,s.fieldTransforms)}function B4(n,e,t,i=!1){return Vc(t,n.pu(i?4:3,e))}function Vc(n,e){if(Kx(n=Tt(n)))return yy("Unsupported field value:",e,n),Wx(n,e);if(n instanceof Mc)return function(i,r){if(!Hx(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=Vc(a,r.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xU(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=ut.fromDate(i);return{timestampValue:Ih(r.serializer,o)}}if(i instanceof ut){let o=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ih(r.serializer,o)}}if(i instanceof Pc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ac)return{bytesValue:_x(r.serializer,i._byteString)};if(i instanceof Vt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ly(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Zh(i)}`)}(n,e)}function Wx(n,e){let t={};return K1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(n,(i,r)=>{let o=Vc(r,e.Eu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function Kx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof Pc||n instanceof Ac||n instanceof Vt||n instanceof Mc)}function yy(n,e,t){if(!Kx(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Zh(t);throw i==="an object"?e.mu(n+" a custom object"):e.mu(n+" "+i)}}function Yv(n,e,t){if((e=Tt(e))instanceof Ps)return e._internalPath;if(typeof e=="string")return wy(n,e);throw Bh("Field path arguments must be of type string or ",n,!1,void 0,t)}var $4=new RegExp("[~\\*/\\[\\]]");function wy(n,e,t){if(e.search($4)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ps(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bh(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new V(S.INVALID_ARGUMENT,a+n+c)}function Qx(n,e){return n.some(t=>t.isEqual(e))}var $h=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Jv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Cy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Jv=class extends $h{data(){return super.data()}};function Cy(n,e){return typeof e=="string"?wy(n,e):e instanceof Ps?e._internalPath:e._delegate._internalPath}function q4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rc=class{},Zv=class extends Rc{};function Yx(n,e,...t){let i=[];e instanceof Rc&&i.push(e),i=i.concat(t),function(o){let s=o.filter(c=>c instanceof Xv).length,a=o.filter(c=>c instanceof qh).length;if(s>1||s>0&&a>0)throw new V(S.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var qh=class n extends Zv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return Zx(e._query,t),new Ms(e.firestore,e.converter,H0(e._query,t))}_parse(e){let t=vy(e.firestore);return function(o,s,a,c,l,u,p){let v;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new V(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){H1(p,u);let y=[];for(let D of p)y.push(z1(c,o,D));v={arrayValue:{values:y}}}else v=z1(c,o,p)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||H1(p,u),v=B4(a,s,p,u==="in"||u==="not-in");return Je.create(l,u,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Jx(n,e,t){let i=e,r=Cy("where",n);return qh._create(r,i,t)}var Xv=class n extends Rc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:xn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)Zx(s,c),s=H0(s,c)}(e._query,t),new Ms(e.firestore,e.converter,H0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function z1(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nx(e)&&t.indexOf("/")!==-1)throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(Le.fromString(t));if(!G.isDocumentKey(i))throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return w1(n,new G(i))}if(t instanceof Vt)return w1(n,t._key);throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(t)}.`)}function H1(n,e){if(!Array.isArray(n)||n.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zx(n,e){let t=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new V(S.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(S.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var ey=class{convertValue(e,t="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw W()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Yr(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new Pc(Ue(e.latitude),Ue(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=ry(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){let t=Zi(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Le.fromString(e);Oe(bx(i));let r=new _h(i.get(1),i.get(3)),o=new G(i.popFirst(5));return r.isEqual(t)||_i(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function G4(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var Br=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Gh=class extends $h{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new _s(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Cy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},_s=class extends Gh{data(e={}){return super.data(e)}},ty=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Br(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _s(this._firestore,this._userDataWriter,i.key,i,new Br(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new _s(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Br(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new _s(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Br(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:z4(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function z4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function Xx(n){n=nr(n,Vt);let e=nr(n.firestore,Qr);return O4(_y(e),n._key).then(t=>H4(e,n,t))}var zh=class extends ey{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ac(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}};function eS(n){n=nr(n,Ms);let e=nr(n.firestore,Qr),t=_y(e),i=new zh(e);return q4(n._query),k4(t,n._query).then(r=>new ty(e,i,n,r))}function tS(n,e,t,...i){n=nr(n,Vt);let r=nr(n.firestore,Qr),o=vy(r),s;return s=typeof(e=Tt(e))=="string"||e instanceof Ps?U4(o,"updateDoc",n._key,e,t,i):j4(o,"updateDoc",n._key,e),iS(r,[s.toMutation(n._key,Yi.exists(!0))])}function nS(n,e){let t=nr(n.firestore,Qr),i=gy(n),r=G4(n.converter,e);return iS(t,[L4(vy(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Yi.exists(!1))]).then(()=>i)}function iS(n,e){return function(i,r){let o=new Tn;return i.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return b4(yield N4(i),r,o)})),o.promise}(_y(n),e)}function H4(n,e,t){let i=t.docs.get(e._key),r=new zh(n);return new Gh(n,r,e._key,i,new Br(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Rs=r})(is),Hi(new hn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Qr(new D0(i.getProvider("auth-internal")),new M0(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _h(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tt(_1,"4.4.0",e),tt(_1,"4.4.0","esm2017")})();var Zr=class{constructor(e){return e}},rS="firestore",by=class{constructor(){return $a(rS)}};var Ey=new U("angularfire2.firestore-instances");function W4(n,e){let t=m_(rS,n,e);return t&&new Zr(t)}function K4(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Zr(i)}}var Q4={provide:by,deps:[[new en,Ey]]},Y4={provide:Zr,useFactory:W4,deps:[[new en,Ey],Pr]},J4=(()=>{class n{constructor(){tt("angularfire",os.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Nt({type:n});static \u0275inj=Rt({providers:[Y4,Q4]})}return n})();function oS(n,...e){return{ngModule:J4,providers:[{provide:Ey,useFactory:K4(n),multi:!0,deps:[Ee,kt,qa,Ga,[new en,Rd],[new en,Ba],...e]}]}}var Iy=Ht(nS,!0);var Lc=Ht(qx,!0);var Xh=Ht(gy,!0);var Ty=Ht(Xx,!0);var Dy=Ht(eS,!0);var sS=Ht(Gx,!0);var aS=Ht(Yx,!0);var cS=Ht(tS,!0);var lS=Ht(Jx,!0);var Os=(()=>{class n{constructor(t){this.firestore=t}saveMatch(t){return I(this,null,function*(){let i=yield Iy(Lc(this.firestore,"matches"),Y(M({},t),{heureDebut:t.heureDebut.toISOString(),updatedAt:new Date}));return console.log("Match saved:",i.id),i.id})}getAllMatches(){return I(this,null,function*(){let t=Lc(this.firestore,"matches");return(yield Dy(t)).docs.map(r=>{let o=r.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date,duelsGagnes:o.duelsGagnes||[],dribbles:o.dribbles||[],interceptions:o.interceptions||[],frappes:o.frappes||[],fautes:o.fautes||[],contreAttaques:o.contreAttaques||[],tikiTakas:o.tikiTakas||[],competition:o.competition||void 0}})})}getMatchById(t){return I(this,null,function*(){let i=yield Ty(Xh(this.firestore,"matches",t));if(i.exists()){let r=i.data();return{equipe1:r.equipe1||"",equipe2:r.equipe2||"",score1:r.score1||0,score2:r.score2||0,buteurs:r.buteurs||[],heureDebut:new Date(r.heureDebut),lieu:r.lieu||"",positions:r.positions||{},showElements:r.showElements!==void 0?r.showElements:!0,competition:r.competition||void 0,updatedAt:r.updatedAt?new Date(r.updatedAt):new Date,duelsGagnes:r.duelsGagnes||[],dribbles:r.dribbles||[],interceptions:r.interceptions||[],frappes:r.frappes||[],fautes:r.fautes||[],contreAttaques:r.contreAttaques||[],tikiTakas:r.tikiTakas||[]}}return null})}saveCompetition(t){return I(this,null,function*(){let i=yield Iy(Lc(this.firestore,"competitions"),Y(M({},t),{createdAt:new Date,updatedAt:new Date}));return console.log("Competition saved:",i.id),i.id})}getCompetitionById(t){return I(this,null,function*(){let i=yield Ty(Xh(this.firestore,"competitions",t));return i.exists()?Y(M({},i.data()),{id:i.id}):null})}getCompetitionByName(t){return I(this,null,function*(){let i=Lc(this.firestore,"competitions"),r=aS(i,lS("name","==",t)),o=yield Dy(r);if(!o.empty){let s=o.docs[0];return Y(M({},s.data()),{id:s.id})}return null})}addMatchToCompetition(t,i){return I(this,null,function*(){let r=Xh(this.firestore,"competitions",t),o=yield this.getCompetitionById(t);if(o){let s=[...o.matchIds,i];yield cS(r,{matchIds:s,updatedAt:new Date})}})}getMatchesByCompetition(t){return I(this,null,function*(){let i=yield this.getCompetitionById(t);if(!i)return[];let r=[];for(let o of i.matchIds){let s=yield this.getMatchById(o);s&&r.push(s)}return r})}shareCompetition(t,i,r){return I(this,null,function*(){let o={name:t,matchIds:[],createdAt:new Date,updatedAt:new Date},s=yield this.saveCompetition(o);return r?.("Comp\xE9tition cr\xE9\xE9e"),s})}static{this.\u0275fac=function(i){return new(i||n)(B(Zr))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Sn=()=>({standalone:!0}),X4=n=>({"disabled-goal":n}),eB=()=>[],tB=(n,e)=>({"text-success":n,"text-danger":e});function nB(n,e){if(n&1){let t=R();f(0,"button",46),b("click",function(){w(t);let r=g();return C(r.showMatchForm=!0)}),E(1,"i",47),f(2,"span",48),m(3," Match"),h()()}if(n&2){let t=g();d(2),_("hidden",!t.selectedCompetitionFilter.includes("-"))}}function iB(n,e){if(n&1){let t=R();f(0,"button",46),b("click",function(){w(t);let r=g();return C(r.showTeamFilterModal=!0)}),E(1,"i",49),f(2,"span",48),m(3," Teams"),h()()}if(n&2){let t=g();d(2),_("hidden",!t.selectedCompetitionFilter.includes("-"))}}function rB(n,e){if(n&1){let t=R();f(0,"button",50),b("click",function(){w(t);let r=g();return C(r.openCompetitionFilterModal())}),E(1,"i",51),f(2,"span",52),m(3),h()()}if(n&2){let t=g();_("ngClass",t.selectedCompetitionFilter?t.getCompetitionBadgeColor(t.selectedCompetitionFilter):"btn-info"),d(3),O(" ",t.selectedCompetitionFilter||t.getCurrentSeason(),"")}}function oB(n,e){if(n&1){let t=R();f(0,"button",53),b("click",function(){w(t);let r=g();return C(r.showRanking())}),E(1,"i",54)(2,"span"),h()}if(n&2){let t=g();_("ngClass",t.selectedCompetitionFilter?t.getCompetitionBadgeColor(t.selectedCompetitionFilter):"btn-info")("hidden",!t.selectedCompetitionFilter),d(),Te("text-white",t.selectedCompetitionFilter),d(),Te("text-white",t.selectedCompetitionFilter)}}function sB(n,e){if(n&1){let t=R();f(0,"button",55),b("click",function(){w(t);let r=g();return C(r.shareCompetition())}),E(1,"i",56)(2,"span"),h()}if(n&2){let t=g();_("ngClass",t.selectedCompetitionFilter?t.getCompetitionBadgeColor(t.selectedCompetitionFilter):"btn-info")("hidden",!t.selectedCompetitionFilter)("disabled",t.isSharingCompetition),d(),Te("text-white",t.selectedCompetitionFilter),_("ngClass",t.isSharingCompetition?"fa-spinner fa-spin":"fa-share-alt"),d(),Te("text-white",t.selectedCompetitionFilter)}}function aB(n,e){if(n&1&&(Se(0),m(1),Ae()),n&2){let t=g(2);d(),O(" de ",t.selectedCompetitionFilter," ")}}function cB(n,e){if(n&1){let t=R();f(0,"button",83),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.deleteTeam(r.name))}),E(1,"i",84),h()}}function lB(n,e){if(n&1){let t=R();f(0,"div",62)(1,"div",63)(2,"div",64)(3,"div",65)(4,"input",76),me("ngModelChange",function(r){w(t);let o=g(2);return _e(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),C(r)}),h(),f(5,"label",77)(6,"span",78),m(7),h(),f(8,"small",79),m(9),h()()()(),f(10,"div",70)(11,"button",80),b("click",function(){let r=w(t).$implicit,o=g(2);return C(o.openEditPlayersModal(r.name))}),E(12,"i",81),h(),T(13,cB,2,0,"button",82),h()()()}if(n&2){let t=e.$implicit,i=g(2);d(4),_("value",t.name),pe("ngModel",i.selectedTeamFilter),_("id","team-"+t.name),d(3),te(t.name),d(2),O("(",i.getMatchesPlayedByTeam(t.name)," matchs)"),d(4),_("ngIf",i.showDeleteButtons)}}function uB(n,e){if(n&1){let t=R();f(0,"div",57)(1,"div",58)(2,"div",26)(3,"h5",27),E(4,"i",59),m(5," S\xE9lectionner une \xC9quipe "),h(),f(6,"button",60),b("click",function(){w(t);let r=g();return C(r.closeTeamFilterModal())}),f(7,"span",61),m(8,"\xD7"),h()()(),f(9,"div",29)(10,"div",62)(11,"div",63)(12,"div",64)(13,"div",65)(14,"input",66),me("ngModelChange",function(r){w(t);let o=g();return _e(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),C(r)}),h(),f(15,"label",67)(16,"span",68),m(17," Toutes les \xE9quipes "),T(18,aB,2,1,"ng-container",69),h()()()(),E(19,"div",70),h()(),T(20,lB,14,6,"div",71),h(),f(21,"div",44)(22,"button",72),b("click",function(){w(t);let r=g();return C(r.openNewTeamModal())}),E(23,"i",73),m(24," Nouvelle \xC9quipe "),h(),f(25,"button",74),b("click",function(){w(t);let r=g();return C(r.closeTeamFilterModal())}),E(26,"i",75),m(27,"Fermer "),h()()()()}if(n&2){let t=g();d(14),_("value",""),pe("ngModel",t.selectedTeamFilter),d(4),_("ngIf",t.selectedCompetitionFilter),d(2),_("ngForOf",t.filteredTeamsForModal)}}function dB(n,e){if(n&1){let t=R();f(0,"app-competition-filter-modal",85),b("seasonChanged",function(r){w(t);let o=g();return C(o.onSeasonChanged(r))})("competitionSelected",function(r){w(t);let o=g();return C(o.onCompetitionSelected(r))})("competitionAdded",function(r){w(t);let o=g();return C(o.onCompetitionAdded(r))})("competitionUpdated",function(r){w(t);let o=g();return C(o.onCompetitionUpdated(r))})("competitionDeleted",function(r){w(t);let o=g();return C(o.onCompetitionDeleted(r))})("assignSeason",function(r){w(t);let o=g();return C(o.onAssignSeason(r))})("closeModal",function(){w(t);let r=g();return C(r.closeCompetitionFilterModal())}),h()}if(n&2){let t=g();_("competitions",t.uniqueCompetitions)("selectedSeason",t.selectedSeason)("availableSeasons",t.filteredSeasonsForModal)("selectedCompetition",t.selectedCompetitionFilter)("isCompetitionWithoutSeason",t.isCompetitionWithoutSeason.bind(t))("getSuggestedSeason",t.getSuggestedSeasonForCompetition.bind(t))("showDeleteButtons",t.showDeleteButtons)}}function hB(n,e){if(n&1){let t=R();f(0,"button",115),b("click",function(){let r=w(t).$implicit,o=g(3);return C(o.selectTeam1(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function fB(n,e){if(n&1&&(f(0,"div",113),T(1,hB,2,1,"button",114),h()),n&2){let t=g(2);d(),_("ngForOf",t.filteredTeams1)}}function pB(n,e){if(n&1){let t=R();f(0,"div",116)(1,"button",117),b("click",function(){w(t);let r=g(2);return C(r.openNewTeamModalFor("equipe1"))}),m(2),h()()}if(n&2){let t=g(2);d(2),O(' Cr\xE9er "',t.team1Search,'" ')}}function mB(n,e){if(n&1){let t=R();f(0,"button",115),b("click",function(){let r=w(t).$implicit,o=g(3);return C(o.selectTeam2(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function gB(n,e){if(n&1&&(f(0,"div",113),T(1,mB,2,1,"button",114),h()),n&2){let t=g(2);d(),_("ngForOf",t.filteredTeams2)}}function _B(n,e){if(n&1){let t=R();f(0,"div",116)(1,"button",117),b("click",function(){w(t);let r=g(2);return C(r.openNewTeamModalFor("equipe2"))}),m(2),h()()}if(n&2){let t=g(2);d(2),O(' Cr\xE9er "',t.team2Search,'" ')}}function vB(n,e){if(n&1){let t=R();f(0,"button",115),b("click",function(){let r=w(t).$implicit,o=g(3);return C(o.selectCompetition(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function yB(n,e){if(n&1&&(f(0,"div",113),T(1,vB,2,1,"button",114),h()),n&2){let t=g(2);d(),_("ngForOf",t.filteredCompetitions)}}function wB(n,e){if(n&1){let t=R();f(0,"div",116)(1,"button",117),b("click",function(){w(t);let r=g(2);return C(r.selectCompetition(r.competitionSearch))}),m(2),h()()}if(n&2){let t=g(2);d(2),O(' Cr\xE9er "',t.competitionSearch,'" ')}}function CB(n,e){if(n&1){let t=R();f(0,"div",57)(1,"div",86)(2,"div",26)(3,"h4",27),E(4,"i",36),m(5,"Ajouter un Match! "),h(),f(6,"button",60),b("click",function(){w(t);let r=g();return C(r.showMatchForm=!1)}),f(7,"span",61),m(8,"\xD7"),h()()(),f(9,"div",29)(10,"form",87),b("ngSubmit",function(){w(t);let r=g();return C(r.onSubmit())}),f(11,"div",88)(12,"div",89)(13,"div",90)(14,"label",91),m(15,"\xC9quipe 1"),h(),f(16,"input",92),me("ngModelChange",function(r){w(t);let o=g();return _e(o.team1Search,r)||(o.team1Search=r),C(r)}),b("input",function(){w(t);let r=g();return C(r.updateFilteredTeams1())})("focus",function(){w(t);let r=g();return C(r.updateFilteredTeams1())}),h(),E(17,"input",93),T(18,fB,2,1,"div",94)(19,pB,3,1,"div",95),h(),f(20,"div",90)(21,"label",96),m(22,"\xC9quipe 2"),h(),f(23,"input",97),me("ngModelChange",function(r){w(t);let o=g();return _e(o.team2Search,r)||(o.team2Search=r),C(r)}),b("input",function(){w(t);let r=g();return C(r.updateFilteredTeams2())})("focus",function(){w(t);let r=g();return C(r.updateFilteredTeams2())}),h(),E(24,"input",98),T(25,gB,2,1,"div",94)(26,_B,3,1,"div",95),h()(),f(27,"div",89)(28,"div",99)(29,"label",100),m(30,"Heure de d\xE9but"),h(),E(31,"input",101),h(),f(32,"div",99)(33,"label",102),m(34,"Lieu du match (optionnel)"),h(),E(35,"input",103),h(),f(36,"div",90)(37,"label",104),m(38,"Comp\xE9tition (optionnel)"),h(),f(39,"input",105),me("ngModelChange",function(r){w(t);let o=g();return _e(o.competitionSearch,r)||(o.competitionSearch=r),C(r)}),b("input",function(){w(t);let r=g();return C(r.updateFilteredCompetitions())})("focus",function(){w(t);let r=g();return C(r.updateFilteredCompetitions())}),h(),E(40,"input",106),T(41,yB,2,1,"div",94)(42,wB,3,1,"div",95),h()()(),f(43,"div",107)(44,"button",108),m(45," Cr\xE9er le match "),h(),f(46,"button",109),m(47," \u{1F9F0} "),h(),f(48,"button",110),b("click",function(){w(t);let r=g();return C(r.showMatchForm=!1)}),m(49," Annuler "),h(),f(50,"ul",111)(51,"li")(52,"a",112),b("click",function(){w(t);let r=g();return C(r.exportMatches())}),m(53,"Exporter les matchs"),h()(),f(54,"li")(55,"a",112),b("click",function(){w(t);let r=g();return C(r.importMatches())}),m(56,"Importer des matchs"),h()()()()()(),f(57,"div",44)(58,"button",74),b("click",function(){w(t);let r=g();return C(r.showMatchForm=!1)}),E(59,"i",75),m(60,"Annuler "),h()()()()}if(n&2){let t=g();d(10),_("formGroup",t.matchForm),d(6),pe("ngModel",t.team1Search),_("ngModelOptions",Bt(13,Sn)),d(2),_("ngIf",t.filteredTeams1.length>0&&t.team1Search),d(),_("ngIf",t.shouldShowCreateTeam1()),d(4),pe("ngModel",t.team2Search),_("ngModelOptions",Bt(14,Sn)),d(2),_("ngIf",t.filteredTeams2.length>0&&t.team2Search),d(),_("ngIf",t.shouldShowCreateTeam2()),d(13),pe("ngModel",t.competitionSearch),_("ngModelOptions",Bt(15,Sn)),d(2),_("ngIf",t.filteredCompetitions.length>0&&t.competitionSearch),d(),_("ngIf",t.shouldShowCreateCompetition())}}function bB(n,e){n&1&&(f(0,"span",131),m(1,"\u2022"),h())}function EB(n,e){if(n&1&&(f(0,"span"),m(1),h()),n&2){let t=g().$implicit;d(),te(t.lieu)}}function IB(n,e){n&1&&(f(0,"span",131),m(1,"\u2022"),h())}function TB(n,e){if(n&1&&(f(0,"span")(1,"span",132),m(2),h()()),n&2){let t=g().$implicit,i=g(2);d(),_("ngClass",i.getCompetitionBadgeColor(t.competition)),d(),te(t.competition)}}function DB(n,e){n&1&&(f(0,"span"),E(1,"br"),h())}function xB(n,e){n&1&&(f(0,"span"),m(1,","),h())}function SB(n,e){if(n&1&&(f(0,"span",140),m(1),h()),n&2){let t=g(2).$implicit;d(),O("(Assist: ",t.assist,")")}}function AB(n,e){if(n&1&&(Se(0),T(1,DB,2,0,"span",69),m(2),T(3,xB,2,0,"span",69)(4,SB,2,1,"span",139),Ae()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),_("ngIf",i<r.minutes.length-1),d(),_("ngIf",r.assist)}}function MB(n,e){if(n&1&&(f(0,"div")(1,"div",137)(2,"span"),m(3),h(),f(4,"span",138),T(5,AB,5,4,"ng-container",120),h()()()),n&2){let t=e.$implicit;d(3),O("\u26BD ",t.nom,":"),d(2),_("ngForOf",t.minutes)}}function PB(n,e){n&1&&(f(0,"span"),E(1,"br"),h())}function RB(n,e){n&1&&(f(0,"span"),m(1,","),h())}function NB(n,e){if(n&1&&(f(0,"span",140),m(1),h()),n&2){let t=g(2).$implicit;d(),O("(Assist: ",t.assist,")")}}function OB(n,e){if(n&1&&(Se(0),T(1,PB,2,0,"span",69),m(2),T(3,RB,2,0,"span",69)(4,NB,2,1,"span",139),Ae()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),_("ngIf",i<r.minutes.length-1),d(),_("ngIf",r.assist)}}function kB(n,e){if(n&1&&(f(0,"div")(1,"div",141)(2,"span"),m(3),h(),f(4,"span",138),T(5,OB,5,4,"ng-container",120),h()()()),n&2){let t=e.$implicit;d(3),O("\u26BD ",t.nom,":"),d(2),_("ngForOf",t.minutes)}}function FB(n,e){n&1&&(f(0,"span"),E(1,"br"),h())}function VB(n,e){n&1&&(f(0,"span"),m(1,","),h())}function LB(n,e){if(n&1&&(f(0,"span",140),m(1),h()),n&2){let t=g(2).$implicit;d(),O("(Assist: ",t.assist,")")}}function jB(n,e){if(n&1&&(Se(0),T(1,FB,2,0,"span",69),m(2),T(3,VB,2,0,"span",69)(4,LB,2,1,"span",139),Ae()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),_("ngIf",i<r.minutes.length-1),d(),_("ngIf",r.assist)}}function UB(n,e){if(n&1&&(f(0,"div")(1,"div",137)(2,"span"),m(3),h(),f(4,"span",142),T(5,jB,5,4,"ng-container",120),h()()()),n&2){let t=e.$implicit;d(3),O("\u26BD ",t.nom,":"),d(2),_("ngForOf",t.minutes)}}function BB(n,e){n&1&&(f(0,"span"),E(1,"br"),h())}function $B(n,e){n&1&&(f(0,"span"),m(1,","),h())}function qB(n,e){if(n&1&&(f(0,"span",140),m(1),h()),n&2){let t=g(2).$implicit;d(),O("(Assist: ",t.assist,")")}}function GB(n,e){if(n&1&&(Se(0),T(1,BB,2,0,"span",69),m(2),T(3,$B,2,0,"span",69)(4,qB,2,1,"span",139),Ae()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),_("ngIf",i<r.minutes.length-1),d(),_("ngIf",r.assist)}}function zB(n,e){if(n&1&&(f(0,"div")(1,"div",141)(2,"span"),m(3),h(),f(4,"span",142),T(5,GB,5,4,"ng-container",120),h()()()),n&2){let t=e.$implicit;d(3),O("\u26BD ",t.nom,":"),d(2),_("ngForOf",t.minutes)}}function HB(n,e){if(n&1&&(f(0,"div",133)(1,"div",134)(2,"div",135),T(3,MB,6,2,"div",120)(4,kB,6,2,"div",120),h(),f(5,"div",136),T(6,UB,6,2,"div",120)(7,zB,6,2,"div",120),h()()()),n&2){let t=g().$implicit,i=g(2);d(3),_("ngForOf",i.getActiveGroupedScorers(t,1)),d(),_("ngForOf",i.getDisabledGroupedScorers(t,1)),d(2),_("ngForOf",i.getActiveGroupedScorers(t,2)),d(),_("ngForOf",i.getDisabledGroupedScorers(t,2))}}function WB(n,e){n&1&&(f(0,"span"),E(1,"br"),h())}function KB(n,e){n&1&&(f(0,"span"),m(1,","),h())}function QB(n,e){if(n&1&&(Se(0),T(1,WB,2,0,"span",69),m(2),T(3,KB,2,0,"span",69),Ae()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),_("ngIf",i<r.minutes.length-1)}}function YB(n,e){if(n&1&&(f(0,"div")(1,"div",137)(2,"span"),m(3),h(),f(4,"span",138),T(5,QB,4,3,"ng-container",120),h()()()),n&2){let t=e.$implicit,i=g(4);d(),on("color",t.color),d(2),lu("",t.emoji," ",i.getStatTypeName(t.type)," - ",t.nom,":"),d(),on("color",t.color),d(),_("ngForOf",t.minutes)}}function JB(n,e){n&1&&(f(0,"span"),E(1,"br"),h())}function ZB(n,e){n&1&&(f(0,"span"),m(1,","),h())}function XB(n,e){if(n&1&&(Se(0),T(1,JB,2,0,"span",69),m(2),T(3,ZB,2,0,"span",69),Ae()),n&2){let t=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),_("ngIf",i<r.minutes.length-1)}}function e$(n,e){if(n&1&&(f(0,"div")(1,"div",137)(2,"span"),m(3),h(),f(4,"span",142),T(5,XB,4,3,"ng-container",120),h()()()),n&2){let t=e.$implicit,i=g(4);d(),on("color",t.color),d(2),lu("",t.emoji," ",i.getStatTypeName(t.type)," - ",t.nom,":"),d(),on("color",t.color),d(),_("ngForOf",t.minutes)}}function t$(n,e){if(n&1&&(f(0,"div",133)(1,"div",134)(2,"div",135),T(3,YB,6,8,"div",120),h(),f(4,"div",136),T(5,e$,6,8,"div",120),h()()()),n&2){let t=g().$implicit,i=g(2);d(3),_("ngForOf",i.getAllGroupedStats(t,1)),d(2),_("ngForOf",i.getAllGroupedStats(t,2))}}function n$(n,e){if(n&1){let t=R();f(0,"div",143)(1,"button",144),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.selectMatch(r))}),E(2,"i",145),h(),f(3,"button",146),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.openDispositionModal(r))}),E(4,"i",147),h(),f(5,"button",148),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.toggleMatchEditForm(r))}),E(6,"i",56),h(),f(7,"button",149),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.shareMatch(r))}),E(8,"i",56),f(9,"span",150),m(10,"Partager"),h()()()}if(n&2){let t=g(3);d(6),_("ngClass",t.showMatchEditForm?"fa-pen-fancy":"fa-edit"),d(),_("disabled",t.isSharingMatch),d(),_("ngClass",t.isSharingMatch?"fa-spinner fa-spin":"fa-share-alt")}}function i$(n,e){if(n&1){let t=R();f(0,"div")(1,"div",121)(2,"div",122)(3,"span"),m(4),Oo(5,"date"),h(),T(6,bB,2,0,"span",123)(7,EB,2,1,"span",69)(8,IB,2,0,"span",123)(9,TB,3,2,"span",69),f(10,"button",124),b("click",function(){let r=w(t).$implicit,o=g(2);return C(o.toggleVisibility(r))}),E(11,"i",125),h()(),f(12,"div",126)(13,"div",127),m(14),h(),f(15,"button",128),b("click",function(){let r=w(t).$implicit,o=g(2);return C(o.selectMatch(r))}),m(16),h(),f(17,"div",127),m(18),h()(),T(19,HB,8,4,"div",129)(20,t$,6,2,"div",129)(21,n$,11,3,"div",130),h()()}if(n&2){let t=e.$implicit,i=g(2);Ri("data-match-id",t.id),d(4),te(ea(5,15,t.heureDebut,"EEEE dd/MM/yy HH:mm")),d(2),_("ngIf",t.lieu),d(),_("ngIf",t.lieu),d(),_("ngIf",t.competition),d(),_("ngIf",t.competition),d(2),_("ngClass",t.showElements?"fa-eye-slash":"fa-circle-info"),d(3),te(t.equipe1),d(),_("ngClass",i.getScoreColor(t)),d(),an(" ",t.score1," - ",t.score2," "),d(2),te(t.equipe2),d(),_("ngIf",t.showElements&&t.buteurs.length>0),d(),_("ngIf",t.showElements&&(t.duelsGagnes&&t.duelsGagnes.length>0||t.dribbles&&t.dribbles.length>0||t.interceptions&&t.interceptions.length>0||t.frappes&&t.frappes.length>0||t.fautes&&t.fautes.length>0||t.contreAttaques&&t.contreAttaques.length>0||t.tikiTakas&&t.tikiTakas.length>0)),d(),_("ngIf",t.showElements)}}function r$(n,e){if(n&1&&(f(0,"div",118),E(1,"h2"),f(2,"div",119),T(3,i$,22,18,"div",120),h()()),n&2){let t=g();d(3),_("ngForOf",t.getSortedMatches())}}function o$(n,e){if(n&1&&(Se(0),m(1),f(2,"div",175),m(3),h(),Ae()),n&2){let t=g(2);d(),an(" ",t.selectedMatch.score1," - ",t.selectedMatch.score2," "),d(2),an(" (",t.getActiveGoalsCount(1)," - ",t.getActiveGoalsCount(2)," buts actifs) ")}}function s$(n,e){if(n&1){let t=R();Se(0),f(1,"div",176)(2,"input",177),me("ngModelChange",function(r){w(t);let o=g(2);return _e(o.selectedMatch.score1,r)||(o.selectedMatch.score1=r),C(r)}),b("input",function(){w(t);let r=g(2);return r.selectedMatch.score1=r.validateScore(r.selectedMatch.score1),C(r.onScoreChange())}),h(),f(3,"span"),m(4,"-"),h(),f(5,"input",177),me("ngModelChange",function(r){w(t);let o=g(2);return _e(o.selectedMatch.score2,r)||(o.selectedMatch.score2=r),C(r)}),b("input",function(){w(t);let r=g(2);return r.selectedMatch.score2=r.validateScore(r.selectedMatch.score2),C(r.onScoreChange())}),h()(),Ae()}if(n&2){let t=g(2);d(2),pe("ngModel",t.selectedMatch.score1),d(3),pe("ngModel",t.selectedMatch.score2)}}function a$(n,e){if(n&1){let t=R();f(0,"button",115),b("click",function(){let r=w(t).$implicit,o=g(4);return C(o.selectButeurName(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function c$(n,e){if(n&1&&(f(0,"div",113),T(1,a$,2,1,"button",114),h()),n&2){let t=g(3);d(),_("ngForOf",t.filteredButeurNames)}}function l$(n,e){if(n&1){let t=R();f(0,"div",116)(1,"button",117),b("click",function(){w(t);let r=g(3);return C(r.selectButeurName(r.buteurNameSearch))}),m(2),h()()}if(n&2){let t=g(3);d(2),O(' Cr\xE9er "',t.buteurNameSearch,'" ')}}function u$(n,e){if(n&1){let t=R();f(0,"button",115),b("click",function(){let r=w(t).$implicit,o=g(4);return C(o.selectAssistName(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function d$(n,e){if(n&1&&(f(0,"div",113),T(1,u$,2,1,"button",114),h()),n&2){let t=g(3);d(),_("ngForOf",t.filteredAssistNames)}}function h$(n,e){if(n&1){let t=R();f(0,"div",116)(1,"button",117),b("click",function(){w(t);let r=g(3);return C(r.selectAssistName(r.assistSearch))}),m(2),h()()}if(n&2){let t=g(3);d(2),O(' Cr\xE9er "',t.assistSearch,'" ')}}function f$(n,e){if(n&1){let t=R();f(0,"div",178)(1,"div",179)(2,"div",25)(3,"div",26)(4,"h5",27),m(5),h(),f(6,"button",180),b("click",function(){w(t);let r=g(2);return C(r.showButeurForm=!1)}),h()(),f(7,"div",29)(8,"form",87),b("ngSubmit",function(){w(t);let r=g(2);return C(r.ajouterButeur())}),f(9,"div",181)(10,"div",182)(11,"label",183),m(12,"Nom du buteur"),h(),f(13,"input",184),me("ngModelChange",function(r){w(t);let o=g(2);return _e(o.buteurNameSearch,r)||(o.buteurNameSearch=r),C(r)}),b("input",function(){w(t);let r=g(2);return C(r.updateFilteredButeurNames())})("focus",function(){w(t);let r=g(2);return C(r.updateFilteredButeurNames())}),h(),E(14,"input",185),T(15,c$,2,1,"div",94)(16,l$,3,1,"div",95),h(),f(17,"div",186)(18,"label",183),m(19,"Minute"),h(),E(20,"input",187),h(),f(21,"div",188)(22,"label",183),m(23,"\xC9quipe"),h(),f(24,"select",189),b("change",function(){w(t);let r=g(2);return C(r.onButeurEquipeChange())}),f(25,"option",190),m(26),h(),f(27,"option",190),m(28),h()()(),f(29,"div",191)(30,"label",183),m(31,"Assist (optionnel)"),h(),f(32,"input",192),me("ngModelChange",function(r){w(t);let o=g(2);return _e(o.assistSearch,r)||(o.assistSearch=r),C(r)}),b("input",function(){w(t);let r=g(2);return C(r.updateFilteredAssistNames())})("focus",function(){w(t);let r=g(2);return C(r.updateFilteredAssistNames())}),h(),E(33,"input",193),T(34,d$,2,1,"div",94)(35,h$,3,1,"div",95),h()(),f(36,"div",194)(37,"button",195),b("click",function(){let r;w(t);let o=g(2);return C(o.addNewPlayer((r=o.buteurForm.get("nom"))==null?null:r.value))}),m(38),h(),f(39,"button",74),b("click",function(){w(t);let r=g(2);return C(r.annulerEditionButeur())}),m(40," Annuler "),h()()()()()()()}if(n&2){let t=g(2);d(5),te(t.editingButeur?"Modifier le buteur":"Nouveau buteur"),d(3),_("formGroup",t.buteurForm),d(5),pe("ngModel",t.buteurNameSearch),_("ngModelOptions",Bt(16,Sn)),d(2),_("ngIf",t.filteredButeurNames.length>0&&t.buteurNameSearch),d(),_("ngIf",t.shouldShowCreateButeur()),d(9),_("value",1),d(),te(t.selectedMatch.equipe1),d(),_("value",2),d(),te(t.selectedMatch.equipe2),d(4),pe("ngModel",t.assistSearch),_("ngModelOptions",Bt(17,Sn)),d(2),_("ngIf",t.filteredAssistNames.length>0&&t.assistSearch),d(),_("ngIf",t.shouldShowCreateAssist()),d(2),_("disabled",!t.buteurForm.valid),d(),O(" ",t.editingButeur?"Enregistrer":"Ajouter"," ")}}function p$(n,e){n&1&&E(0,"i",200)}function m$(n,e){n&1&&E(0,"i",201)}function g$(n,e){n&1&&E(0,"i",202)}function _$(n,e){if(n&1){let t=R();f(0,"button",196),b("click",function(){let r=w(t).$implicit,o=g(2);return C(o.quickAddAction(r.name,1))}),T(1,p$,1,0,"i",197)(2,m$,1,0,"i",198)(3,g$,1,0,"i",199),m(4),h()}if(n&2){let t=e.$implicit;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function v$(n,e){if(n&1){let t=R();f(0,"button",196),b("click",function(){w(t);let r=g(2);return C(r.showButeurForm=!0)}),m(1," + "),h()}}function y$(n,e){n&1&&E(0,"i",200)}function w$(n,e){n&1&&E(0,"i",201)}function C$(n,e){n&1&&E(0,"i",202)}function b$(n,e){if(n&1){let t=R();f(0,"button",203),b("click",function(){let r=w(t).$implicit,o=g(2);return C(o.quickAddAction(r.name,2))}),T(1,y$,1,0,"i",197)(2,w$,1,0,"i",198)(3,C$,1,0,"i",199),m(4),h()}if(n&2){let t=e.$implicit;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function E$(n,e){if(n&1){let t=R();f(0,"button",203),b("click",function(){w(t);let r=g(2);return C(r.showButeurForm=!0)}),m(1," + "),h()}}function I$(n,e){if(n&1){let t=R();f(0,"div",205)(1,"div",206)(2,"span",207)(3,"strong",208),m(4),h()(),f(5,"div")(6,"button",209),b("click",function(){let r=w(t).index,o=g(3);return C(o.modifierButeur(o.matches.indexOf(o.selectedMatch),r))}),E(7,"i",81),h(),f(8,"button",210),b("click",function(){let r=w(t).index,o=g(3);return C(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),r))}),E(9,"i",211),h()()()()}if(n&2){let t=e.$implicit,i=e.index,r=g(3);d(),_("ngClass",Rb(3,X4,r.isGoalDisabled(i))),d(2),_("ngClass",t.equipe===1?"buteur-team1":"buteur-team2"),d(),te(r.getButeurDisplay(t))}}function T$(n,e){if(n&1&&(f(0,"div"),T(1,I$,10,5,"div",204),h()),n&2){let t=g(2);d(),_("ngForOf",t.selectedMatch.buteurs)}}function D$(n,e){if(n&1){let t=R();f(0,"button",210),b("click",function(){w(t);let r=g().$implicit;return C(r.supprimerFn())}),E(1,"i",211),h()}}function x$(n,e){if(n&1&&(f(0,"div",215)(1,"div",216)(2,"span",207)(3,"strong"),m(4),h(),f(5,"em"),m(6),h()(),f(7,"div"),T(8,D$,2,0,"button",217),h()()()),n&2){let t=e.$implicit,i=g(3);d(),on("border-color",t.color+" !important"),d(2),on("color",t.color),d(),pm("",t.emoji," ",i.getStatTypeName(t.type)," - ",t.nom," - ",t.minute,"'"),d(),on("color",t.color),d(),O("(",t.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")"),d(2),_("ngIf",i.showDeleteButtons)}}function S$(n,e){if(n&1&&(f(0,"div",212)(1,"div",213)(2,"h4")(3,"span",171),m(4,"\u{1F4CA}"),h(),m(5),h()(),f(6,"div"),T(7,x$,9,12,"div",214),h()()),n&2){let t=g(2);d(5),O(" Statistiques (",t.getAllStatsForModal().length,") "),d(2),_("ngForOf",t.getAllStatsForModal())}}function A$(n,e){n&1&&E(0,"i",200)}function M$(n,e){n&1&&E(0,"i",201)}function P$(n,e){n&1&&E(0,"i",202)}function R$(n,e){if(n&1){let t=R();f(0,"button",223),b("click",function(){let r=w(t).$implicit,o=g(3);return C(o.assignPlayerToPosition(r.name))}),T(1,A$,1,0,"i",197)(2,M$,1,0,"i",198)(3,P$,1,0,"i",199),m(4),h()}if(n&2){let t=e.$implicit;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function N$(n,e){if(n&1){let t=R();f(0,"div",218)(1,"div",219)(2,"h6"),m(3),h(),f(4,"div",220),T(5,R$,5,4,"button",221),h(),f(6,"button",222),b("click",function(){w(t);let r=g(2);return C(r.selectedPosition=null)}),m(7," Annuler "),h()()()}if(n&2){let t=g(2);d(3),O("S\xE9lectionner un joueur pour ",t.selectedPosition.position,""),d(2),_("ngForOf",t.getTeamPlayers(t.selectedPosition.team))}}function O$(n,e){if(n&1){let t=R();f(0,"div",151)(1,"div",152)(2,"button",153),b("click",function(){w(t);let r=g();return C(r.closeScoreModal())}),m(3,"\xD7"),h(),f(4,"h3",154),E(5,"i",155),m(6,"Modifier le score "),h(),E(7,"br"),f(8,"div",156)(9,"div",126)(10,"div",127),m(11),h(),f(12,"div",157),b("click",function(){w(t);let r=g();return C(r.showScoreForm=!0)}),T(13,o$,4,4,"ng-container",69)(14,s$,6,2,"ng-container",69),h(),f(15,"div",127),m(16),h()()(),T(17,f$,41,18,"div",158),f(18,"div",118)(19,"div",159)(20,"div",160)(21,"h5",161),m(22),h(),f(23,"div",162),T(24,_$,5,4,"button",163)(25,v$,2,0,"button",164),h()(),f(26,"div",160)(27,"h5",165),m(28),h(),f(29,"div",166),T(30,b$,5,4,"button",167)(31,E$,2,0,"button",168),h()()()(),f(32,"div",169)(33,"div",170),b("click",function(){w(t);let r=g();return C(r.toggleButeursList())}),f(34,"h4")(35,"span",171),m(36),h(),m(37),h()(),T(38,T$,2,1,"div",69),h(),T(39,S$,8,2,"div",172)(40,N$,8,2,"div",173),f(41,"div",174)(42,"button",74),b("click",function(){w(t);let r=g();return C(r.selectedMatch=null)}),m(43," Fermer "),h()()()()}if(n&2){let t=g();d(11),te(t.selectedMatch.equipe1),d(),_("ngClass",t.getScoreColor(t.selectedMatch)),d(),_("ngIf",!t.showScoreForm),d(),_("ngIf",t.showScoreForm),d(2),te(t.selectedMatch.equipe2),d(),_("ngIf",t.showButeurForm),d(5),te(t.selectedMatch.equipe1),d(2),_("ngForOf",t.getTeamPlayers(1)),d(),_("ngIf",!t.showButeurForm),d(3),te(t.selectedMatch.equipe2),d(2),_("ngForOf",t.getTeamPlayers(2)),d(),_("ngIf",!t.showButeurForm),d(5),te(t.showButeursList?"\u25BC":"\u25B6"),d(),O(" Buteurs (",t.selectedMatch.buteurs.length,") "),d(),_("ngIf",t.showButeursList),d(),_("ngIf",t.getAllStatsForModal().length>0),d(),_("ngIf",t.selectedPosition&&t.selectedMatch)}}function k$(n,e){if(n&1){let t=R();f(0,"button",115),b("click",function(){let r=w(t).$implicit,o=g(3);return C(o.selectEditTeam1(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function F$(n,e){if(n&1&&(f(0,"div",113),T(1,k$,2,1,"button",114),h()),n&2){let t=g(2);d(),_("ngForOf",t.editFilteredTeams1)}}function V$(n,e){if(n&1){let t=R();f(0,"div",116)(1,"button",117),b("click",function(){w(t);let r=g(2);return C(r.selectEditTeam1(r.editTeam1Search))}),m(2),h()()}if(n&2){let t=g(2);d(2),O(' Cr\xE9er "',t.editTeam1Search,'" ')}}function L$(n,e){if(n&1){let t=R();f(0,"button",115),b("click",function(){let r=w(t).$implicit,o=g(3);return C(o.selectEditTeam2(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function j$(n,e){if(n&1&&(f(0,"div",113),T(1,L$,2,1,"button",114),h()),n&2){let t=g(2);d(),_("ngForOf",t.editFilteredTeams2)}}function U$(n,e){if(n&1){let t=R();f(0,"div",116)(1,"button",117),b("click",function(){w(t);let r=g(2);return C(r.selectEditTeam2(r.editTeam2Search))}),m(2),h()()}if(n&2){let t=g(2);d(2),O(' Cr\xE9er "',t.editTeam2Search,'" ')}}function B$(n,e){if(n&1){let t=R();f(0,"button",115),b("click",function(){let r=w(t).$implicit,o=g(3);return C(o.selectEditCompetition(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function $$(n,e){if(n&1&&(f(0,"div",113),T(1,B$,2,1,"button",114),h()),n&2){let t=g(2);d(),_("ngForOf",t.editFilteredCompetitions)}}function q$(n,e){if(n&1){let t=R();f(0,"div",116)(1,"button",117),b("click",function(){w(t);let r=g(2);return C(r.selectEditCompetition(r.editCompetitionSearch))}),m(2),h()()}if(n&2){let t=g(2);d(2),O(' Cr\xE9er "',t.editCompetitionSearch,'" ')}}function G$(n,e){if(n&1){let t=R();f(0,"button",242),b("click",function(){w(t);let r=g(2);return C(r.supprimerMatch(r.selectedMatch))}),E(1,"i",211),m(2," Supprimer le match "),h()}}function z$(n,e){if(n&1){let t=R();f(0,"div",224)(1,"div",25)(2,"span",225),b("click",function(){w(t);let r=g();return C(r.showMatchEditForm=!1)}),m(3,"\xD7"),h(),f(4,"h3",154),E(5,"i",226),m(6,"Modifier le match "),h(),f(7,"form",87),b("ngSubmit",function(){w(t);let r=g();return C(r.onSubmitMatchEdit())}),f(8,"div",227)(9,"label",228),m(10,"\xC9quipe 1:"),h(),f(11,"div",229)(12,"input",230),me("ngModelChange",function(r){w(t);let o=g();return _e(o.editTeam1Search,r)||(o.editTeam1Search=r),C(r)}),b("input",function(){w(t);let r=g();return C(r.updateEditFilteredTeams1())})("focus",function(){w(t);let r=g();return C(r.updateEditFilteredTeams1())}),h(),E(13,"input",93),T(14,F$,2,1,"div",94)(15,V$,3,1,"div",95),h()(),f(16,"div",227)(17,"label",231),m(18,"\xC9quipe 2:"),h(),f(19,"div",229)(20,"input",232),me("ngModelChange",function(r){w(t);let o=g();return _e(o.editTeam2Search,r)||(o.editTeam2Search=r),C(r)}),b("input",function(){w(t);let r=g();return C(r.updateEditFilteredTeams2())})("focus",function(){w(t);let r=g();return C(r.updateEditFilteredTeams2())}),h(),E(21,"input",98),T(22,j$,2,1,"div",94)(23,U$,3,1,"div",95),h()(),f(24,"div",227)(25,"label",233),m(26,"Heure de d\xE9but:"),h(),E(27,"input",234),h(),f(28,"div",227)(29,"label",235),m(30,"Lieu:"),h(),E(31,"input",236),h(),f(32,"div",227)(33,"label",237),m(34,"Comp\xE9tition:"),h(),f(35,"div",229)(36,"input",238),me("ngModelChange",function(r){w(t);let o=g();return _e(o.editCompetitionSearch,r)||(o.editCompetitionSearch=r),C(r)}),b("input",function(){w(t);let r=g();return C(r.updateEditFilteredCompetitions())})("focus",function(){w(t);let r=g();return C(r.updateEditFilteredCompetitions())}),h(),E(37,"input",106),T(38,$$,2,1,"div",94)(39,q$,3,1,"div",95),h()(),f(40,"div",239)(41,"button",240),b("click",function(){w(t);let r=g();return C(r.onSubmitMatchEdit())}),m(42,"Enregistrer"),h(),T(43,G$,3,0,"button",241),h()()()()}if(n&2){let t=g();d(7),_("formGroup",t.matchEditForm),d(5),pe("ngModel",t.editTeam1Search),_("ngModelOptions",Bt(14,Sn)),d(2),_("ngIf",t.editFilteredTeams1.length>0&&t.editTeam1Search),d(),_("ngIf",t.editTeam1Search&&t.editFilteredTeams1.length===0&&!t.getTeamNames().includes(t.editTeam1Search)),d(5),pe("ngModel",t.editTeam2Search),_("ngModelOptions",Bt(15,Sn)),d(2),_("ngIf",t.editFilteredTeams2.length>0&&t.editTeam2Search),d(),_("ngIf",t.editTeam2Search&&t.editFilteredTeams2.length===0&&!t.getTeamNames().includes(t.editTeam2Search)),d(13),pe("ngModel",t.editCompetitionSearch),_("ngModelOptions",Bt(16,Sn)),d(2),_("ngIf",t.editFilteredCompetitions.length>0&&t.editCompetitionSearch),d(),_("ngIf",t.editCompetitionSearch&&t.editFilteredCompetitions.length===0&&!t.getCompetitionNames().includes(t.editCompetitionSearch)),d(4),_("ngIf",t.showDeleteButtons)}}function H$(n,e){if(n&1&&(f(0,"span",253),m(1," \u2022 "),h()),n&2){let t=e.index,i=g(2);Te("fade",t>=i.remainingDots)}}function W$(n,e){if(n&1&&(f(0,"option",261),m(1),h()),n&2){let t=e.$implicit,i=g(3);_("value",t.name)("disabled",t.name===i.celebrationPlayer),d(),O(" ",t.name," ")}}function K$(n,e){if(n&1){let t=R();f(0,"button",262),b("click",function(){w(t);let r=g(3);return C(r.cancelCelebration())}),m(1," Annuler "),h()}}function Q$(n,e){if(n&1){let t=R();f(0,"div",254)(1,"select",255),me("ngModelChange",function(r){w(t);let o=g(2);return _e(o.celebrationAssist,r)||(o.celebrationAssist=r),C(r)}),f(2,"option",256),m(3,"Aucun assist"),h(),T(4,W$,2,3,"option",257),h(),f(5,"div",258)(6,"button",259),b("click",function(){w(t);let r=g(2);return C(r.saveCelebrationWithAssist())}),m(7," Enregistrer "),h(),T(8,K$,2,0,"button",260),h()()}if(n&2){let t=g(2);d(),pe("ngModel",t.celebrationAssist),d(3),_("ngForOf",t.getTeamPlayers(t.celebrationTeam===(t.selectedMatch==null?null:t.selectedMatch.equipe1)?1:2)),d(4),_("ngIf",t.celebrationConfig.showCancel)}}function Y$(n,e){if(n&1){let t=R();f(0,"button",264),b("click",function(){w(t);let r=g(3);return C(r.saveDuel())}),m(1," Enregistrer "),h()}}function J$(n,e){if(n&1){let t=R();f(0,"button",262),b("click",function(){w(t);let r=g(3);return C(r.cancelCelebration())}),m(1," Annuler "),h()}}function Z$(n,e){if(n&1&&(f(0,"div",258),T(1,Y$,2,0,"button",263)(2,J$,2,0,"button",260),h()),n&2){let t=g(2);d(),_("ngIf",t.celebrationConfig.type==="duel"),d(),_("ngIf",t.celebrationConfig.showCancel)}}function X$(n,e){if(n&1&&(f(0,"div",243)(1,"div",244)(2,"div",245),m(3),h(),f(4,"div",246),m(5),h(),f(6,"div",247),m(7),h(),f(8,"div",248),m(9),h(),f(10,"div",249),T(11,H$,2,2,"span",250),h(),T(12,Q$,9,3,"div",251)(13,Z$,3,2,"div",252),h()()),n&2){let t=g();d(2),on("color",t.celebrationConfig.color),d(),an("",t.celebrationConfig.emoji,"",t.celebrationConfig.text,""),d(2),O(" ",t.celebrationPlayer," "),d(2),O(" ",t.celebrationTeam," "),d(2),te(t.celebrationConfig.emoji),d(2),_("ngForOf",Bt(10,eB).constructor(5)),d(),_("ngIf",t.celebrationConfig.showAssist),d(),_("ngIf",!t.celebrationConfig.showAssist)}}function e5(n,e){n&1&&(f(0,"span",290),m(1,"-"),h())}function t5(n,e){n&1&&E(0,"i",200)}function n5(n,e){n&1&&E(0,"i",201)}function i5(n,e){n&1&&E(0,"i",202)}function r5(n,e){if(n&1&&(Se(0),T(1,t5,1,0,"i",197)(2,n5,1,0,"i",198)(3,i5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function o5(n,e){n&1&&E(0,"i",200)}function s5(n,e){n&1&&E(0,"i",201)}function a5(n,e){n&1&&E(0,"i",202)}function c5(n,e){if(n&1&&(Se(0),T(1,o5,1,0,"i",197)(2,s5,1,0,"i",198)(3,a5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function l5(n,e){if(n&1){let t=R();f(0,"div")(1,"div",291),b("click",function(){w(t);let r=g(2);return C(r.selectPosition(1,"milieu-offensif"))}),f(2,"div",279)(3,"span",280),m(4,"MO"),h(),f(5,"span",282),T(6,c5,5,4,"ng-container",69),h()()()()}if(n&2){let t=g(2);d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-offensif"),d(4),_("ngIf",t.getPlayerForPosition(1,"milieu-offensif"))}}function u5(n,e){n&1&&E(0,"i",200)}function d5(n,e){n&1&&E(0,"i",201)}function h5(n,e){n&1&&E(0,"i",202)}function f5(n,e){if(n&1&&(Se(0),T(1,u5,1,0,"i",197)(2,d5,1,0,"i",198)(3,h5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function p5(n,e){n&1&&E(0,"i",200)}function m5(n,e){n&1&&E(0,"i",201)}function g5(n,e){n&1&&E(0,"i",202)}function _5(n,e){if(n&1&&(Se(0),T(1,p5,1,0,"i",197)(2,m5,1,0,"i",198)(3,g5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function v5(n,e){n&1&&E(0,"i",200)}function y5(n,e){n&1&&E(0,"i",201)}function w5(n,e){n&1&&E(0,"i",202)}function C5(n,e){if(n&1&&(Se(0),T(1,v5,1,0,"i",197)(2,y5,1,0,"i",198)(3,w5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function b5(n,e){n&1&&E(0,"i",200)}function E5(n,e){n&1&&E(0,"i",201)}function I5(n,e){n&1&&E(0,"i",202)}function T5(n,e){if(n&1&&(Se(0),T(1,b5,1,0,"i",197)(2,E5,1,0,"i",198)(3,I5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function D5(n,e){if(n&1){let t=R();f(0,"div")(1,"div",292),b("click",function(){w(t);let r=g(2);return C(r.selectPosition(1,"defenseur-gauche"))}),f(2,"div",279)(3,"span",280),m(4,"DG"),h(),f(5,"span",282),T(6,T5,5,4,"ng-container",69),h()()()()}if(n&2){let t=g(2);d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-gauche"),d(4),_("ngIf",t.getPlayerForPosition(1,"defenseur-gauche"))}}function x5(n,e){n&1&&E(0,"i",200)}function S5(n,e){n&1&&E(0,"i",201)}function A5(n,e){n&1&&E(0,"i",202)}function M5(n,e){if(n&1&&(Se(0),T(1,x5,1,0,"i",197)(2,S5,1,0,"i",198)(3,A5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function P5(n,e){if(n&1){let t=R();f(0,"div")(1,"div",293),b("click",function(){w(t);let r=g(2);return C(r.selectPosition(1,"defenseur-droit"))}),f(2,"div",279)(3,"span",280),m(4,"DD"),h(),f(5,"span",282),T(6,M5,5,4,"ng-container",69),h()()()()}if(n&2){let t=g(2);d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-droit"),d(4),_("ngIf",t.getPlayerForPosition(1,"defenseur-droit"))}}function R5(n,e){n&1&&E(0,"i",200)}function N5(n,e){n&1&&E(0,"i",201)}function O5(n,e){n&1&&E(0,"i",202)}function k5(n,e){if(n&1&&(Se(0),T(1,R5,1,0,"i",197)(2,N5,1,0,"i",198)(3,O5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function F5(n,e){n&1&&(f(0,"span",290),m(1,"-"),h())}function V5(n,e){n&1&&E(0,"i",200)}function L5(n,e){n&1&&E(0,"i",201)}function j5(n,e){n&1&&E(0,"i",202)}function U5(n,e){if(n&1&&(Se(0),T(1,V5,1,0,"i",197)(2,L5,1,0,"i",198)(3,j5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function B5(n,e){n&1&&E(0,"i",200)}function $5(n,e){n&1&&E(0,"i",201)}function q5(n,e){n&1&&E(0,"i",202)}function G5(n,e){if(n&1&&(Se(0),T(1,B5,1,0,"i",197)(2,$5,1,0,"i",198)(3,q5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function z5(n,e){if(n&1){let t=R();f(0,"div")(1,"div",291),b("click",function(){w(t);let r=g(2);return C(r.selectPosition(2,"milieu-offensif"))}),f(2,"div",279)(3,"span",280),m(4,"MO"),h(),f(5,"span",282),T(6,G5,5,4,"ng-container",69),h()()()()}if(n&2){let t=g(2);d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-offensif"),d(4),_("ngIf",t.getPlayerForPosition(2,"milieu-offensif"))}}function H5(n,e){n&1&&E(0,"i",200)}function W5(n,e){n&1&&E(0,"i",201)}function K5(n,e){n&1&&E(0,"i",202)}function Q5(n,e){if(n&1&&(Se(0),T(1,H5,1,0,"i",197)(2,W5,1,0,"i",198)(3,K5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function Y5(n,e){n&1&&E(0,"i",200)}function J5(n,e){n&1&&E(0,"i",201)}function Z5(n,e){n&1&&E(0,"i",202)}function X5(n,e){if(n&1&&(Se(0),T(1,Y5,1,0,"i",197)(2,J5,1,0,"i",198)(3,Z5,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function eq(n,e){n&1&&E(0,"i",200)}function tq(n,e){n&1&&E(0,"i",201)}function nq(n,e){n&1&&E(0,"i",202)}function iq(n,e){if(n&1&&(Se(0),T(1,eq,1,0,"i",197)(2,tq,1,0,"i",198)(3,nq,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function rq(n,e){n&1&&E(0,"i",200)}function oq(n,e){n&1&&E(0,"i",201)}function sq(n,e){n&1&&E(0,"i",202)}function aq(n,e){if(n&1&&(Se(0),T(1,rq,1,0,"i",197)(2,oq,1,0,"i",198)(3,sq,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function cq(n,e){if(n&1){let t=R();f(0,"div")(1,"div",292),b("click",function(){w(t);let r=g(2);return C(r.selectPosition(2,"defenseur-gauche"))}),f(2,"div",279)(3,"span",280),m(4,"DG"),h(),f(5,"span",282),T(6,aq,5,4,"ng-container",69),h()()()()}if(n&2){let t=g(2);d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-gauche"),d(4),_("ngIf",t.getPlayerForPosition(2,"defenseur-gauche"))}}function lq(n,e){n&1&&E(0,"i",200)}function uq(n,e){n&1&&E(0,"i",201)}function dq(n,e){n&1&&E(0,"i",202)}function hq(n,e){if(n&1&&(Se(0),T(1,lq,1,0,"i",197)(2,uq,1,0,"i",198)(3,dq,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function fq(n,e){if(n&1){let t=R();f(0,"div")(1,"div",293),b("click",function(){w(t);let r=g(2);return C(r.selectPosition(2,"defenseur-droit"))}),f(2,"div",279)(3,"span",280),m(4,"DD"),h(),f(5,"span",282),T(6,hq,5,4,"ng-container",69),h()()()()}if(n&2){let t=g(2);d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-droit"),d(4),_("ngIf",t.getPlayerForPosition(2,"defenseur-droit"))}}function pq(n,e){n&1&&E(0,"i",200)}function mq(n,e){n&1&&E(0,"i",201)}function gq(n,e){n&1&&E(0,"i",202)}function _q(n,e){if(n&1&&(Se(0),T(1,pq,1,0,"i",197)(2,mq,1,0,"i",198)(3,gq,1,0,"i",199),m(4),Ae()),n&2){let t=e.ngIf;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function vq(n,e){n&1&&E(0,"div")}function yq(n,e){n&1&&E(0,"i",200)}function wq(n,e){n&1&&E(0,"i",201)}function Cq(n,e){n&1&&E(0,"i",202)}function bq(n,e){if(n&1){let t=R();f(0,"button",223),b("click",function(){let r=w(t).$implicit,o=g(3);return C(o.assignPlayerToPosition(r.name))}),T(1,yq,1,0,"i",197)(2,wq,1,0,"i",198)(3,Cq,1,0,"i",199),m(4),h()}if(n&2){let t=e.$implicit;d(),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="defenseur"),d(),_("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function Eq(n,e){if(n&1){let t=R();f(0,"div",218)(1,"div",219)(2,"h6"),m(3),h(),f(4,"div",220),T(5,bq,5,4,"button",221),h(),f(6,"button",222),b("click",function(){w(t);let r=g(2);return C(r.selectedPosition=null)}),m(7," Annuler "),h()()()}if(n&2){let t=g(2);d(3),O("S\xE9lectionner un joueur pour ",t.selectedPosition.position,""),d(2),_("ngForOf",t.getTeamPlayers(t.selectedPosition.team))}}function Iq(n,e){if(n&1){let t=R();f(0,"div",265)(1,"div",266)(2,"button",225),b("click",function(){w(t);let r=g();return C(r.closeDispositionModal())}),m(3,"\xD7"),h(),f(4,"h3",154),E(5,"i",267),m(6,"Disposition tactique "),h(),f(7,"div",268)(8,"button",269),b("click",function(){w(t);let r=g();return C(r.toggleDefendersAndMidfielders())}),m(9),h(),f(10,"div",270)(11,"div",271)(12,"button",272),b("click",function(){w(t);let r=g();return C(r.encodingGoalsEnabled=!r.encodingGoalsEnabled)}),E(13,"i",200),m(14),h(),f(15,"button",273),b("click",function(){w(t);let r=g();return C(r.encodingDuelsEnabled=!r.encodingDuelsEnabled)}),E(16,"i",201),m(17),h()()()(),f(18,"div",274)(19,"div",275)(20,"div",276)(21,"h5",161),m(22),h(),f(23,"div",277)(24,"div",278),b("click",function(){w(t);let r=g();return C(r.selectPosition(1,"attaquant"))}),f(25,"div",279)(26,"span",280),m(27,"AT"),h(),T(28,e5,2,0,"span",281),f(29,"span",282),T(30,r5,5,4,"ng-container",69),h()()(),T(31,l5,7,3,"div",69),f(32,"div",283),b("click",function(){w(t);let r=g();return C(r.selectPosition(1,"milieu-gauche"))}),f(33,"div",279)(34,"span",280),m(35,"MG"),h(),f(36,"span",282),T(37,f5,5,4,"ng-container",69),h()()(),f(38,"div",284),b("click",function(){w(t);let r=g();return C(r.selectPosition(1,"milieu-droit"))}),f(39,"div",279)(40,"span",280),m(41,"MD"),h(),f(42,"span",282),T(43,_5,5,4,"ng-container",69),h()()(),f(44,"div",285),b("click",function(){w(t);let r=g();return C(r.selectPosition(1,"defenseur-central"))}),f(45,"div",279)(46,"span",280),m(47,"DC"),h(),f(48,"span",282),T(49,C5,5,4,"ng-container",69),h()()(),T(50,D5,7,3,"div",69)(51,P5,7,3,"div",69),f(52,"div",286),b("click",function(){w(t);let r=g();return C(r.selectPosition(1,"gardien"))}),f(53,"div",279)(54,"span",280),m(55,"G"),h(),f(56,"span",282),T(57,k5,5,4,"ng-container",69),h()()()()(),f(58,"div",287)(59,"h5",165),m(60),h(),f(61,"div",277)(62,"div",278),b("click",function(){w(t);let r=g();return C(r.selectPosition(2,"attaquant"))}),f(63,"div",279)(64,"span",280),m(65,"AT"),h(),T(66,F5,2,0,"span",281),f(67,"span",282),T(68,U5,5,4,"ng-container",69),h()()(),T(69,z5,7,3,"div",69),f(70,"div",283),b("click",function(){w(t);let r=g();return C(r.selectPosition(2,"milieu-gauche"))}),f(71,"div",279)(72,"span",280),m(73,"MG"),h(),f(74,"span",282),T(75,Q5,5,4,"ng-container",69),h()()(),f(76,"div",284),b("click",function(){w(t);let r=g();return C(r.selectPosition(2,"milieu-droit"))}),f(77,"div",279)(78,"span",280),m(79,"MD"),h(),f(80,"span",282),T(81,X5,5,4,"ng-container",69),h()()(),f(82,"div",285),b("click",function(){w(t);let r=g();return C(r.selectPosition(2,"defenseur-central"))}),f(83,"div",279)(84,"span",280),m(85,"DC"),h(),f(86,"span",282),T(87,iq,5,4,"ng-container",69),h()()(),T(88,cq,7,3,"div",69)(89,fq,7,3,"div",69),f(90,"div",286),b("click",function(){w(t);let r=g();return C(r.selectPosition(2,"gardien"))}),f(91,"div",279)(92,"span",280),m(93,"G"),h(),f(94,"span",282),T(95,_q,5,4,"ng-container",69),h()()(),T(96,vq,1,0,"div",69),h()()(),f(97,"div",288)(98,"p",289),m(99," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),h()()(),T(100,Eq,8,2,"div",173),h()()}if(n&2){let t=g();d(9),O(" ",t.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),d(3),Te("btn-success",t.encodingGoalsEnabled)("btn-outline-success",!t.encodingGoalsEnabled),d(2),O(" Buts ",t.encodingGoalsEnabled?"ON":"OFF"," "),d(),Te("btn-success",t.encodingDuelsEnabled)("btn-outline-success",!t.encodingDuelsEnabled),d(2),O(" Duels ",t.encodingDuelsEnabled?"ON":"OFF"," "),d(5),te(t.selectedMatch.equipe1),d(3),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="attaquant"),d(3),_("ngIf",t.getPlayerForPosition(1,"attaquant")),d(2),_("ngIf",t.getPlayerForPosition(1,"attaquant")),d(),_("ngIf",t.showDefendersAndMidfielders),d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-gauche"),d(4),_("ngIf",t.getPlayerForPosition(1,"milieu-gauche")),d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-droit"),d(4),_("ngIf",t.getPlayerForPosition(1,"milieu-droit")),d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-central"),d(4),_("ngIf",t.getPlayerForPosition(1,"defenseur-central")),d(),_("ngIf",t.showDefendersAndMidfielders),d(),_("ngIf",t.showDefendersAndMidfielders),d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="gardien"),d(4),_("ngIf",t.getPlayerForPosition(1,"gardien")),d(3),te(t.selectedMatch.equipe2),d(3),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="attaquant"),d(3),_("ngIf",t.getPlayerForPosition(2,"attaquant")),d(2),_("ngIf",t.getPlayerForPosition(2,"attaquant")),d(),_("ngIf",t.showDefendersAndMidfielders),d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-gauche"),d(4),_("ngIf",t.getPlayerForPosition(2,"milieu-gauche")),d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-droit"),d(4),_("ngIf",t.getPlayerForPosition(2,"milieu-droit")),d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-central"),d(4),_("ngIf",t.getPlayerForPosition(2,"defenseur-central")),d(),_("ngIf",t.showDefendersAndMidfielders),d(),_("ngIf",t.showDefendersAndMidfielders),d(2),Te("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="gardien"),d(4),_("ngIf",t.getPlayerForPosition(2,"gardien")),d(),_("ngIf",t.showDefendersAndMidfielders),d(4),_("ngIf",t.selectedPosition&&t.selectedMatch)}}function Tq(n,e){if(n&1){let t=R();f(0,"div",151)(1,"div",179)(2,"div",25)(3,"div",26)(4,"h5",27),m(5,"Choisir le format d'export"),h(),f(6,"button",180),b("click",function(){w(t);let r=g();return C(r.closeExportModal())}),h()(),f(7,"div",29)(8,"div",294)(9,"input",295),me("ngModelChange",function(r){w(t);let o=g();return _e(o.exportFormats.txt,r)||(o.exportFormats.txt=r),C(r)}),h(),f(10,"label",296),m(11," Format TXT "),h()(),f(12,"div",294)(13,"input",297),me("ngModelChange",function(r){w(t);let o=g();return _e(o.exportFormats.csv,r)||(o.exportFormats.csv=r),C(r)}),h(),f(14,"label",298),m(15," Format CSV "),h()(),f(16,"div",294)(17,"input",299),me("ngModelChange",function(r){w(t);let o=g();return _e(o.exportFormats.json,r)||(o.exportFormats.json=r),C(r)}),h(),f(18,"label",300),m(19," Format JSON "),h()()(),f(20,"div",44)(21,"button",74),b("click",function(){w(t);let r=g();return C(r.closeExportModal())}),m(22,"Annuler"),h(),f(23,"button",301),b("click",function(){w(t);let r=g();return C(r.confirmExport())}),m(24,"Exporter"),h()()()()()}if(n&2){let t=g();d(9),pe("ngModel",t.exportFormats.txt),d(4),pe("ngModel",t.exportFormats.csv),d(4),pe("ngModel",t.exportFormats.json),d(6),_("disabled",!t.isExportFormatSelected())}}function Dq(n,e){if(n&1){let t=R();f(0,"button",313),b("click",function(){w(t);let r=g(2);return C(r.showLocalStorageData())}),m(1,"Afficher les donn\xE9es sauvegard\xE9es"),h()}}function xq(n,e){if(n&1){let t=R();f(0,"button",314),b("click",function(){w(t);let r=g(2);return C(r.hideLocalStorageData())}),m(1,"Cacher les donn\xE9es sauvegard\xE9es"),h()}}function Sq(n,e){if(n&1&&(f(0,"div",315)(1,"pre"),m(2),Oo(3,"json"),h()()),n&2){let t=g(2);d(2),te(Vb(3,1,t.localStorageData))}}function Aq(n,e){if(n&1){let t=R();f(0,"div",151)(1,"div",179)(2,"div",25)(3,"div",26)(4,"h5",27),m(5,"BUUUT et c'est gratuit!"),h(),f(6,"button",180),b("click",function(){w(t);let r=g();return C(r.showHelpModal=!1)}),h()(),f(7,"div",29)(8,"h6"),m(9,"Fonctionnalit\xE9s principales :"),h(),f(10,"ul",302)(11,"li",30),E(12,"i",303),f(13,"strong"),m(14,"Cr\xE9er un match :"),h(),m(15,' Cliquez sur "Nouveau Match" pour enregistrer un nouveau match. '),h(),f(16,"li",30),E(17,"i",304),f(18,"strong"),m(19,"Enregistrer les buts :"),h(),m(20," Cliquez sur le score pour ajouter les buteurs et leurs minutes. "),h(),f(21,"li",30),E(22,"i",305),f(23,"strong"),m(24,"G\xE9rer les \xE9quipes :"),h(),m(25," Ajoutez des joueurs \xE0 vos \xE9quipes lors de l'enregistrement des buts. "),h(),f(26,"li",30),E(27,"i",306),f(28,"strong"),m(29,"Partager :"),h(),m(30," Partagez vos matchs via le bouton de partage. "),h(),f(31,"li",30),E(32,"i",307),f(33,"strong"),m(34,"Exporter :"),h(),m(35," Exportez vos matchs en TXT, CSV ou JSON. "),h(),f(36,"li",30),E(37,"i",308),f(38,"strong"),m(39,"Importer :"),h(),m(40," Importez des matchs depuis diff\xE9rents formats. "),h()()(),f(41,"div",44),T(42,Dq,2,0,"button",309)(43,xq,2,0,"button",310),f(44,"button",311),b("click",function(){w(t);let r=g();return C(r.toggleDeleteButtons())}),E(45,"i",56),m(46),h(),f(47,"button",74),b("click",function(){w(t);let r=g();return C(r.showHelpModal=!1)}),m(48,"Fermer"),h()(),T(49,Sq,4,3,"div",312),h()()()}if(n&2){let t=g();d(42),_("ngIf",!t.showingLocalStorageData),d(),_("ngIf",t.showingLocalStorageData),d(),_("ngClass",t.showDeleteButtons?"btn-danger":"btn-outline-danger"),d(),_("ngClass",t.showDeleteButtons?"fa-shield-alt":"fa-unlock"),d(),O(" ",t.showDeleteButtons?"Prot\xE9ger":"Activer suppression"," "),d(3),_("ngIf",t.showingLocalStorageData)}}function Mq(n,e){if(n&1&&(f(0,"tr")(1,"td",320),m(2),h(),f(3,"td",320),m(4),h(),f(5,"td",320)(6,"strong"),m(7),h()(),f(8,"td",320),m(9),h(),f(10,"td",320),m(11),h(),f(12,"td",320),m(13),h(),f(14,"td",320),m(15),h(),f(16,"td",320),m(17),h(),f(18,"td",320),m(19),h(),f(20,"td",321),m(21),h()()),n&2){let t=e.$implicit,i=e.index;d(2),te(i+1),d(2),te(t.name),d(3),te(t.points),d(2),te(t.matches),d(2),te(t.wins),d(2),te(t.draws),d(2),te(t.losses),d(2),te(t.goalsFor),d(2),te(t.goalsAgainst),d(),_("ngClass",Nb(12,tB,t.goalDifference>0,t.goalDifference<0)),d(),an(" ",t.goalDifference>0?"+":"","",t.goalDifference," ")}}function Pq(n,e){if(n&1){let t=R();f(0,"div",57)(1,"div",316)(2,"div",26)(3,"h5",27),E(4,"i",317),m(5),h(),f(6,"button",60),b("click",function(){w(t);let r=g();return C(r.closeRankingModal())}),f(7,"span",61),m(8,"\xD7"),h()()(),f(9,"div",29)(10,"div",318)(11,"table",319)(12,"thead")(13,"tr")(14,"th",320),m(15,"Pos"),h(),f(16,"th",320),m(17,"\xC9quipe"),h(),f(18,"th",320),m(19,"Pts"),h(),f(20,"th",320),m(21,"J"),h(),f(22,"th",320),m(23,"G"),h(),f(24,"th",320),m(25,"N"),h(),f(26,"th",320),m(27,"P"),h(),f(28,"th",320),m(29,"BP"),h(),f(30,"th",320),m(31,"BC"),h(),f(32,"th",320),m(33,"Diff"),h()()(),f(34,"tbody"),T(35,Mq,22,15,"tr",120),h()()()(),f(36,"div",44)(37,"button",74),b("click",function(){w(t);let r=g();return C(r.closeRankingModal())}),E(38,"i",75),m(39,"Fermer "),h()()()()}if(n&2){let t=g();d(5),O(" Classement - ",t.selectedCompetitionFilter," "),d(30),_("ngForOf",t.currentRanking)}}function Rq(n,e){if(n&1){let t=R();f(0,"i",347),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.cyclePlayerType(r))}),h()}}function Nq(n,e){if(n&1){let t=R();f(0,"i",348),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.cyclePlayerType(r))}),h()}}function Oq(n,e){if(n&1){let t=R();f(0,"i",349),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.cyclePlayerType(r))}),h()}}function kq(n,e){if(n&1){let t=R();f(0,"span",350),b("click",function(){w(t);let r=g().$implicit,o=g(2);return C(o.openPlayerGoalsModal(r))}),m(1),h()}if(n&2){let t=g().$implicit,i=g(2);d(),O(" ",i.getGoalsForPlayer(t.name)," \u26BD ")}}function Fq(n,e){if(n&1){let t=R();f(0,"button",351),b("click",function(){w(t);let r=g().index,o=g(2);return C(o.removePlayer(r))}),E(1,"i",84),h()}}function Vq(n,e){if(n&1){let t=R();f(0,"div",339)(1,"div",340)(2,"div",341)(3,"div",342),T(4,Rq,1,0,"i",333)(5,Nq,1,0,"i",334)(6,Oq,1,0,"i",335),h(),f(7,"input",343),me("ngModelChange",function(r){let o=w(t).$implicit;return _e(o.name,r)||(o.name=r),C(r)}),h(),T(8,kq,2,1,"span",344),h(),f(9,"div",345),T(10,Fq,2,0,"button",346),h()()()}if(n&2){let t=e.$implicit,i=g(2);d(4),_("ngIf",t.type==="attaquant"),d(),_("ngIf",t.type==="milieu"),d(),_("ngIf",t.type==="defenseur"),d(),pe("ngModel",t.name),d(),_("ngIf",i.getGoalsForPlayer(t.name)>0),d(2),_("ngIf",i.showDeleteButtons)}}function Lq(n,e){if(n&1){let t=R();f(0,"i",347),b("click",function(){w(t);let r=g(2);return C(r.cycleNewPlayerType())}),h()}}function jq(n,e){if(n&1){let t=R();f(0,"i",348),b("click",function(){w(t);let r=g(2);return C(r.cycleNewPlayerType())}),h()}}function Uq(n,e){if(n&1){let t=R();f(0,"i",349),b("click",function(){w(t);let r=g(2);return C(r.cycleNewPlayerType())}),h()}}function Bq(n,e){if(n&1){let t=R();f(0,"div",322)(1,"div",323)(2,"div",26)(3,"h5",27),E(4,"i",324),m(5),h(),f(6,"button",60),b("click",function(){w(t);let r=g();return C(r.closeEditPlayersModal())}),f(7,"span",61),m(8,"\xD7"),h()()(),f(9,"div",29)(10,"div",325)(11,"h6",30),E(12,"i",326),m(13," Joueurs actuels "),h(),T(14,Vq,11,6,"div",327),h(),f(15,"div",328)(16,"h6",30),E(17,"i",73),m(18," Ajouter un nouveau joueur "),h(),f(19,"div",329)(20,"div",330)(21,"input",331),me("ngModelChange",function(r){w(t);let o=g();return _e(o.newPlayerName,r)||(o.newPlayerName=r),C(r)}),b("keyup.enter",function(){w(t);let r=g();return C(r.addPlayer())}),h(),f(22,"div",332),T(23,Lq,1,0,"i",333)(24,jq,1,0,"i",334)(25,Uq,1,0,"i",335),h(),f(26,"button",264),b("click",function(){w(t);let r=g();return C(r.addPlayer())}),E(27,"i",336),m(28,"Ajouter "),h()()()()(),f(29,"div",44)(30,"button",74),b("click",function(){w(t);let r=g();return C(r.closeEditPlayersModal())}),E(31,"i",75),m(32,"Fermer "),h(),f(33,"button",337),b("click",function(){w(t);let r=g();return C(r.savePlayersEdit())}),E(34,"i",338),m(35,"Enregistrer "),h()()()()}if(n&2){let t=g();d(5),O(" \xC9diter les joueurs de ",t.teamToEdit.name," "),d(9),_("ngForOf",t.teamToEdit.players),d(7),pe("ngModel",t.newPlayerName),d(2),_("ngIf",t.newPlayerType==="attaquant"),d(),_("ngIf",t.newPlayerType==="milieu"),d(),_("ngIf",t.newPlayerType==="defenseur")}}function $q(n,e){if(n&1&&(f(0,"div",99),E(1,"i",356),m(2),Oo(3,"date"),f(4,"span",357),E(5,"i",358),m(6),h(),f(7,"span",357),m(8),h(),f(9,"span",357),m(10),h()()),n&2){let t=e.$implicit,i=g(3);d(2),O(" ",ea(3,5,t.match.heureDebut,"dd/MM/yyyy HH:mm")," "),d(4),O(" ",t.minute,"'"),d(2),O("vs ",t.match.equipe1===(i.teamToEdit==null?null:i.teamToEdit.name)?t.match.equipe2:t.match.equipe1,""),d(2),an("(score: ",t.match.score1," - ",t.match.score2,")")}}function qq(n,e){n&1&&(f(0,"div",359),m(1,"Aucun but trouv\xE9."),h())}function Gq(n,e){if(n&1){let t=R();Se(0),f(1,"div",29),T(2,$q,11,8,"div",354)(3,qq,2,0,"div",355),h(),f(4,"div",44)(5,"button",45),b("click",function(){w(t);let r=g(2);return C(r.closePlayerGoalsModal())}),m(6,"Fermer"),h()(),Ae()}if(n&2){let t=g(2);d(2),_("ngForOf",t.getPlayerGoalsDetails(t.selectedPlayerGoalsModal)),d(),_("ngIf",t.getPlayerGoalsDetails(t.selectedPlayerGoalsModal).length===0)}}function zq(n,e){if(n&1){let t=R();f(0,"div",352)(1,"div",179)(2,"div",25)(3,"div",26)(4,"h5",27),m(5),h(),f(6,"button",353),b("click",function(){w(t);let r=g();return C(r.closePlayerGoalsModal())}),h()(),T(7,Gq,7,2,"ng-container",69),h()()()}if(n&2){let t=g();d(5),O("Buts de ",t.selectedPlayerGoalsModal.name,""),d(2),_("ngIf",t.selectedPlayerGoalsModal)}}function Hq(n,e){if(n&1){let t=R();f(0,"button",373),b("click",function(){w(t);let r=g().index,o=g(2);return C(o.removeNewTeamPlayer(r))}),E(1,"i",84),h()}if(n&2){let t=g(3);_("disabled",t.newTeamPlayers.length===1)}}function Wq(n,e){if(n&1){let t=R();f(0,"div",366)(1,"input",367),me("ngModelChange",function(r){let o=w(t).$implicit;return _e(o.name,r)||(o.name=r),C(r)}),h(),f(2,"select",368),me("ngModelChange",function(r){let o=w(t).$implicit;return _e(o.type,r)||(o.type=r),C(r)}),f(3,"option",369),m(4,"Attaquant"),h(),f(5,"option",370),m(6,"Milieu"),h(),f(7,"option",371),m(8,"D\xE9fenseur"),h()(),T(9,Hq,2,1,"button",372),h()}if(n&2){let t=e.$implicit,i=g(2);d(),pe("ngModel",t.name),_("ngModelOptions",Bt(5,Sn)),d(),pe("ngModel",t.type),_("ngModelOptions",Bt(6,Sn)),d(7),_("ngIf",i.showDeleteButtons)}}function Kq(n,e){if(n&1){let t=R();f(0,"div",352)(1,"div",179)(2,"div",25)(3,"div",26)(4,"h5",27),m(5,"Cr\xE9er une nouvelle \xE9quipe"),h(),f(6,"button",353),b("click",function(){w(t);let r=g();return C(r.closeNewTeamModal())}),h()(),f(7,"div",29)(8,"div",30)(9,"label",360),m(10,"Nom de l'\xE9quipe"),h(),f(11,"input",361),me("ngModelChange",function(r){w(t);let o=g();return _e(o.newTeamName,r)||(o.newTeamName=r),C(r)}),h()(),f(12,"div",362),m(13,"Joueurs"),h(),T(14,Wq,10,7,"div",363),f(15,"button",364),b("click",function(){w(t);let r=g();return C(r.addNewTeamPlayer())}),m(16,"+ Ajouter un joueur"),h()(),f(17,"div",44)(18,"button",45),b("click",function(){w(t);let r=g();return C(r.closeNewTeamModal())}),m(19,"Annuler"),h(),f(20,"button",365),b("click",function(){w(t);let r=g();return C(r.createNewTeam())}),m(21,"Cr\xE9er l'\xE9quipe"),h()()()()()}if(n&2){let t=g();d(11),pe("ngModel",t.newTeamName),_("ngModelOptions",Bt(4,Sn)),d(3),_("ngForOf",t.newTeamPlayers),d(6),_("disabled",t.canCreateNewTeam())}}var ef=class n{static{this.competitionColors=new Map}constructor(e,t){this.fb=e,this.firestoreService=t,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.editingButeur=null,this.teams=ig,this.selectedTeam=null,this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!0,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.selectedCompetitionFilter="",this.showCompetitionFilterModal=!1,this.remainingDots=5,this.usedColors=[],this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1},this.showHelpModal=!1,this.showRankingModal=!1,this.currentRanking=[],this.isSharingCompetition=!1,this.isSharingMatch=!1,this.sharingLogs=[],this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerType="milieu",this.selectedPlayerGoalsIndex=null,this.selectedPlayerGoalsModal=null,this.team1Search="",this.team2Search="",this.filteredTeams1=[],this.filteredTeams2=[],this.showNewTeamModal=!1,this.editingCompetitionName="",this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}],this.competitionSearch="",this.filteredCompetitions=[],this.disabledGoals=[],this.showingLocalStorageData=!1,this.localStorageData=null,this.showDeleteButtons=!1,this.editTeam1Search="",this.editTeam2Search="",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editCompetitionSearch="",this.editFilteredCompetitions=[],this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.showCelebration=!1,this.celebrationConfig=null,this.celebrationPlayer="",this.celebrationTeam="",this.celebrationAssist="",this.showActionSelectionModal=!1,this.pendingActionPlayer="",this.pendingActionTeam=1,this.availableActions=[],this.encodingGoalsEnabled=!1,this.encodingDuelsEnabled=!1,this.newTeamTargetField=null,this.selectedSeason="",this.matchForm=this.fb.group({equipe1:[this.teams[0].name,Xe.required],equipe2:["",Xe.required],heureDebut:[this.getCurrentDateTime(),Xe.required],lieu:[""],competition:[""]}),this.scoreForm=this.fb.group({score1:[0,[Xe.required,Xe.min(0)]],score2:[0,[Xe.required,Xe.min(0)]]}),this.buteurForm=this.fb.group({nom:["",Xe.required],minute:["",[Xe.required,Xe.min(1),Xe.max(90)]],equipe:["",Xe.required],assist:[""]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(i=>{let r=this.buteurForm.get("assist");r&&r.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",Xe.required],equipe2:["",Xe.required],heureDebut:["",Xe.required],lieu:[""],competition:[""]})}ngOnInit(){return I(this,null,function*(){this.loadSavedData(),this.ensureAllTeamsPresent(),this.ensureMatchProperties(),this.startAutoSave(),yield this.loadMatchFromUrl(),this.updateFilteredTeams1(),this.updateFilteredTeams2(),this.selectedSeason=this.getCurrentSeason(),this.selectedCompetitionFilter=this.getCurrentSeason(),this.createU10U11CompetitionsIfNeeded()})}getCelebrationConfig(e){return{but:{type:"but",emoji:"\u26BD",text:"BUUUT !",color:"#ffc107",showAssist:!0,showCancel:!0},duel:{type:"duel",emoji:"\u{1F6E1}\uFE0F",text:"DUEL GAGN\xC9",color:"#28a745",showAssist:!1,showCancel:!0},dribble:{type:"dribble",emoji:"\u{1F3C3}",text:"DRIBBLE",color:"#17a2b8",showAssist:!1,showCancel:!1},interception:{type:"interception",emoji:"\u270B",text:"INTERCEPTION",color:"#6f42c1",showAssist:!1,showCancel:!1},frappe:{type:"frappe",emoji:"\u{1F3AF}",text:"FRAPPE",color:"#fd7e14",showAssist:!1,showCancel:!1},faute:{type:"faute",emoji:"\u26A0\uFE0F",text:"FAUTE",color:"#dc3545",showAssist:!1,showCancel:!1},"contre-attaque":{type:"contre-attaque",emoji:"\u26A1",text:"CONTRE-ATTAQUE",color:"#20c997",showAssist:!1,showCancel:!1},"tiki-taka":{type:"tiki-taka",emoji:"\u{1F504}",text:"TIKI-TAKA",color:"#6c757d",showAssist:!1,showCancel:!1}}[e]}startGenericCelebration(e,t,i){console.log(`D\xE9marrage de la c\xE9l\xE9bration ${e} pour ${t}`),this.celebrationConfig=this.getCelebrationConfig(e),this.celebrationPlayer=t,this.celebrationTeam=i===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.celebrationAssist="",this.showCelebration=!0,this.remainingDots=5,this.startCelebrationTimer()}ensureMatchProperties(){console.log("V\xE9rification des propri\xE9t\xE9s des matches...");let e=!1;this.matches.forEach(t=>{t.dribbles||(t.dribbles=[],e=!0),t.interceptions||(t.interceptions=[],e=!0),t.frappes||(t.frappes=[],e=!0),t.fautes||(t.fautes=[],e=!0),t.contreAttaques||(t.contreAttaques=[],e=!0),t.tikiTakas||(t.tikiTakas=[],e=!0)}),e&&(console.log("Propri\xE9t\xE9s des matches mises \xE0 jour, sauvegarde..."),this.saveData())}createU10U11CompetitionsIfNeeded(){let e=this.matches.map(r=>r.competition).filter(r=>r!==void 0&&r!==""),t=e.includes("Championnat U10"),i=e.includes("Championnat U11")}getCurrentDateTime(){let e=new Date,t=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-t).toISOString().slice(0,16)}onSubmit(){if(this.matchForm.valid){let t=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,i=Y(M({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[],showElements:!0,updatedAt:new Date});console.log("Nouveau match cr\xE9\xE9:",i),this.matches.push(i),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1}else console.log("MatchForm invalide - soumission annul\xE9e")}calculateElapsedMinutes(e){let t=new Date,i=new Date(e),r=new Date(i.getTime()),o=Math.floor((t.getTime()-r.getTime())/(1e3*60));return o>90?this.getLastScoredMinute()+1:Math.max(1,o)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(e=>e.minute))}selectMatch(e){this.selectedMatch=e,this.scoreForm.patchValue({score1:e.score1,score2:e.score2});let t=this.calculateElapsedMinutes(e.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.buteurForm.patchValue({nom:"",minute:t,equipe:1});let i=this.teams.find(o=>o.name===e.equipe1),r=this.teams.find(o=>o.name===e.equipe2);if(i?rg(i):this.teams.push({id:this.teams.length+1,name:e.equipe1,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),r?rg(r):this.teams.push({id:this.teams.length+1,name:e.equipe2,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),e.equipe1==="U10 Stand. Flawinne FC"){let o=this.teams.find(s=>s.name==="U10 Stand. Flawinne FC");this.selectedTeam=o||null}this.ensureAllTeamsPresent(),this.ensureScorersInTeams(e),this.maintainScoreConsistency()}updateScore(){if(!this.selectedMatch){console.log("selectedMatch null - mise \xE0 jour annul\xE9e");return}this.selectedMatch.score1=0,this.selectedMatch.score2=0,this.selectedMatch.buteurs=[],console.log("Score apr\xE8s mise \xE0 jour:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2,buteurs:this.selectedMatch.buteurs}),this.saveData()}modifierButeur(e,t){if(e<0||e>=this.matches.length){console.error("Index de match invalide:",e);return}let i=this.matches[e];if(!i){console.error("Match non trouv\xE9 \xE0 l'index:",e);return}if(!i.buteurs||!Array.isArray(i.buteurs)){console.error("Propri\xE9t\xE9 buteurs manquante ou invalide pour le match:",i);return}if(t<0||t>=i.buteurs.length){console.error("Index de buteur invalide:",t,"pour le match:",i);return}let r=i.buteurs[t];if(!r){console.error("Buteur non trouv\xE9 \xE0 l'index:",t);return}console.log("Match trouv\xE9:",i),console.log("Buteur \xE0 modifier:",r),this.isGoalDisabled(t)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===t)),console.log("But r\xE9activ\xE9 pour \xE9dition")),this.editingButeur={index:t,buteur:M({},r)},this.buteurForm.patchValue({nom:r.nom,minute:r.minute,equipe:r.equipe,assist:r.assist||""}),this.gererOuvertureFermetureButeurForm(!0),this.showButeurForm=!0}ajouterButeur(){if(this.buteurForm.valid&&this.selectedMatch){let e=this.buteurForm.value;console.log("Donn\xE9es du buteur:",e);let t={nom:e.nom,minute:e.minute,equipe:e.equipe,assist:e.assist||void 0};if(console.log("Nouveau buteur cr\xE9\xE9:",t),this.editingButeur){let i=this.matches.indexOf(this.selectedMatch);if(i<0||i>=this.matches.length){console.error("Index de match invalide pour modification:",i);return}let r=this.matches[i];if(!r||!r.buteurs||!Array.isArray(r.buteurs)){console.error("Match ou propri\xE9t\xE9 buteurs invalide pour modification:",r);return}if(this.editingButeur.index<0||this.editingButeur.index>=r.buteurs.length){console.error("Index de buteur invalide pour modification:",this.editingButeur.index);return}r.buteurs[this.editingButeur.index]=t,console.log("Buteur modifi\xE9 dans le match")}else this.selectedMatch.buteurs.push(t),console.log("Buteur ajout\xE9 au match"),t.equipe===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2));console.log("Match apr\xE8s ajout/modification:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1)}else console.log("ButeurForm invalide ou selectedMatch null - ajout annul\xE9")}annulerEditionButeur(){this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1),console.log("\xC9dition de buteur annul\xE9e")}supprimerButeur(e,t){if(e<0||e>=this.matches.length){console.error("Index de match invalide:",e);return}let i=this.matches[e];if(!i){console.error("Match non trouv\xE9 \xE0 l'index:",e);return}if(!i.buteurs||!Array.isArray(i.buteurs)){console.error("Propri\xE9t\xE9 buteurs manquante ou invalide pour le match:",i);return}if(t<0||t>=i.buteurs.length){console.error("Index de buteur invalide:",t,"pour le match:",i);return}let r=i.buteurs[t];if(!r){console.error("Buteur non trouv\xE9 \xE0 l'index:",t);return}confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le but de ${r.nom} \xE0 la minute ${r.minute} ?`)&&(console.log("Match:",i),console.log("Buteur \xE0 supprimer:",r),this.isGoalDisabled(t)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===t)),console.log("But d\xE9sactiv\xE9 retir\xE9 de la liste")),r.equipe===1?(i.score1=Math.max(0,i.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",i.score1)):(i.score2=Math.max(0,i.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",i.score2)),i.buteurs.splice(t,1),console.log("Buteur supprim\xE9 du match"),console.log("Match apr\xE8s suppression:",i),this.maintainScoreConsistency(),this.saveData())}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(r=>r.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(e){let t=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(t&&t.trim()){let i={id:this.teams.length+1,name:t.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(r)?.setValue(i.name)}}editNewTeam(e){let t=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(t&&t.trim()){let i={id:this.teams.length+1,name:t.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(r)?.setValue(i.name)}}addNewPlayer(e){if(e&&e.trim()){let t=this.teams.find(i=>i.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));t&&(t.players.some(i=>i.name===e.trim())||t.players.push({name:e.trim(),type:"milieu"}),this.buteurForm.get("nom")?.setValue(e.trim()))}}getTeamPlayers(e){if(!this.selectedMatch)return[];let t=e===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(r=>r.name===t)?.players||[]}quickAddGoal(e,t){if(console.log("quickAddGoal() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}let r={nom:e,minute:i,equipe:t};console.log("Nouveau buteur rapide cr\xE9\xE9:",r),this.selectedMatch.buteurs.push(r),console.log("Buteur ajout\xE9 au match"),t===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2)),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.startGenericCelebration("but",e,t),console.log("But ajout\xE9 rapidement avec succ\xE8s")}quickAddDuel(e,t){if(console.log("quickAddDuel() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.duelsGagnes||(this.selectedMatch.duelsGagnes=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouveau duel gagn\xE9 cr\xE9\xE9:",r),this.selectedMatch.duelsGagnes.push(r),console.log("Duel gagn\xE9 ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("duel",e,t),console.log("Duel gagn\xE9 ajout\xE9 rapidement avec succ\xE8s")}quickAddDribble(e,t){if(console.log("quickAddDribble() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.dribbles||(this.selectedMatch.dribbles=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouveau dribble cr\xE9\xE9:",r),this.selectedMatch.dribbles.push(r),console.log("Dribble ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("dribble",e,t),console.log("Dribble ajout\xE9 rapidement avec succ\xE8s")}quickAddInterception(e,t){if(console.log("quickAddInterception() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.interceptions||(this.selectedMatch.interceptions=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle interception cr\xE9\xE9e:",r),this.selectedMatch.interceptions.push(r),console.log("Interception ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("interception",e,t),console.log("Interception ajout\xE9e rapidement avec succ\xE8s")}quickAddFrappe(e,t){if(console.log("quickAddFrappe() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.frappes||(this.selectedMatch.frappes=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle frappe cr\xE9\xE9e:",r),this.selectedMatch.frappes.push(r),console.log("Frappe ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("frappe",e,t),console.log("Frappe ajout\xE9e rapidement avec succ\xE8s")}quickAddFaute(e,t){if(console.log("quickAddFaute() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.fautes||(this.selectedMatch.fautes=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle faute cr\xE9\xE9e:",r),this.selectedMatch.fautes.push(r),console.log("Faute ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("faute",e,t),console.log("Faute ajout\xE9e rapidement avec succ\xE8s")}quickAddContreAttaque(e,t){if(console.log("quickAddContreAttaque() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.contreAttaques||(this.selectedMatch.contreAttaques=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle contre-attaque cr\xE9\xE9e:",r),this.selectedMatch.contreAttaques.push(r),console.log("Contre-attaque ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("contre-attaque",e,t),console.log("Contre-attaque ajout\xE9e rapidement avec succ\xE8s")}quickAddTikiTaka(e,t){if(console.log("quickAddTikiTaka() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.tikiTakas||(this.selectedMatch.tikiTakas=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouveau tiki-taka cr\xE9\xE9:",r),this.selectedMatch.tikiTakas.push(r),console.log("Tiki-taka ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("tiki-taka",e,t),console.log("Tiki-taka ajout\xE9 rapidement avec succ\xE8s")}quickAddAction(e,t){if(console.log("quickAddAction() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - action rapide annul\xE9e");return}let i=this.getPlayerByName(t,e);if(!i){console.log("Joueur non trouv\xE9 - action rapide annul\xE9e");return}console.log("Type du joueur:",i.type);let r=["but","duel","dribble","interception","frappe","faute","contre-attaque","tiki-taka"];this.pendingActionPlayer=e,this.pendingActionTeam=t,this.availableActions=r,this.showActionSelectionModal=!0,console.log("Modal de s\xE9lection d'action affich\xE9 pour:",{player:e,team:t,type:i.type,actions:r})}executeSelectedAction(e){switch(console.log("Ex\xE9cution de l'action s\xE9lectionn\xE9e:",e),this.showActionSelectionModal=!1,e){case"but":this.quickAddGoal(this.pendingActionPlayer,this.pendingActionTeam);break;case"duel":this.quickAddDuel(this.pendingActionPlayer,this.pendingActionTeam);break;case"dribble":this.quickAddDribble(this.pendingActionPlayer,this.pendingActionTeam);break;case"interception":this.quickAddInterception(this.pendingActionPlayer,this.pendingActionTeam);break;case"frappe":this.quickAddFrappe(this.pendingActionPlayer,this.pendingActionTeam);break;case"faute":this.quickAddFaute(this.pendingActionPlayer,this.pendingActionTeam);break;case"contre-attaque":this.quickAddContreAttaque(this.pendingActionPlayer,this.pendingActionTeam);break;case"tiki-taka":this.quickAddTikiTaka(this.pendingActionPlayer,this.pendingActionTeam);break;default:console.log("Action non reconnue:",e);break}this.pendingActionPlayer="",this.pendingActionTeam=1,this.availableActions=[]}cancelActionSelection(){console.log("S\xE9lection d'action annul\xE9e"),this.showActionSelectionModal=!1,this.pendingActionPlayer="",this.pendingActionTeam=1,this.availableActions=[]}saveGoalWithAssist(){if(console.log("saveGoalWithAssist() appel\xE9e"),!this.selectedMatch||!this.lastGoalScorer){console.log("selectedMatch ou lastGoalScorer null - sauvegarde annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)||this.selectedMatch.buteurs.length===0){console.error("Propri\xE9t\xE9 buteurs invalide ou vide:",this.selectedMatch.buteurs);return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.lastGoalScorer&&(e.assist=this.lastGoalAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showGoalCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelGoal(){if(console.log("cancelGoal() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)){console.error("Propri\xE9t\xE9 buteurs invalide:",this.selectedMatch.buteurs);return}if(this.selectedMatch.buteurs.length>0){let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];if(!e){console.error("Dernier buteur non trouv\xE9");return}console.log("Dernier buteur \xE0 supprimer:",e),e.equipe===1?(this.selectedMatch.score1=Math.max(0,this.selectedMatch.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2=Math.max(0,this.selectedMatch.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score2)),this.selectedMatch.buteurs.pop(),console.log("Dernier buteur supprim\xE9")}this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist=""}saveDuel(){console.log("saveDuel() appel\xE9e"),this.saveData(),this.showCelebration=!1,console.log("Duel gagn\xE9 sauvegard\xE9 avec succ\xE8s")}cancelDuel(){if(console.log("cancelDuel() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(this.selectedMatch.duelsGagnes&&this.selectedMatch.duelsGagnes.length>0){let e=this.selectedMatch.duelsGagnes[this.selectedMatch.duelsGagnes.length-1];console.log("Dernier duel \xE0 supprimer:",e),this.selectedMatch.duelsGagnes.pop(),console.log("Dernier duel supprim\xE9")}this.showCelebration=!1}supprimerDuel(e,t){if(console.log("supprimerDuel() appel\xE9e avec matchIndex:",e,"duelIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.duelsGagnes||t<0||t>=i.duelsGagnes.length){console.log("Index de duel invalide - suppression annul\xE9e");return}console.log("Match:",i),console.log("Duel \xE0 supprimer:",i.duelsGagnes[t]),i.duelsGagnes.splice(t,1),console.log("Duel supprim\xE9"),this.saveData(),console.log("Duel supprim\xE9 avec succ\xE8s")}supprimerDribble(e,t){if(console.log("supprimerDribble() appel\xE9e avec matchIndex:",e,"dribbleIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.dribbles||t<0||t>=i.dribbles.length){console.log("Index de dribble invalide - suppression annul\xE9e");return}i.dribbles.splice(t,1),this.saveData(),console.log("Dribble supprim\xE9 avec succ\xE8s")}supprimerInterception(e,t){if(console.log("supprimerInterception() appel\xE9e avec matchIndex:",e,"interceptionIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.interceptions||t<0||t>=i.interceptions.length){console.log("Index d'interception invalide - suppression annul\xE9e");return}i.interceptions.splice(t,1),this.saveData(),console.log("Interception supprim\xE9e avec succ\xE8s")}supprimerFrappe(e,t){if(console.log("supprimerFrappe() appel\xE9e avec matchIndex:",e,"frappeIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.frappes||t<0||t>=i.frappes.length){console.log("Index de frappe invalide - suppression annul\xE9e");return}i.frappes.splice(t,1),this.saveData(),console.log("Frappe supprim\xE9e avec succ\xE8s")}supprimerFaute(e,t){if(console.log("supprimerFaute() appel\xE9e avec matchIndex:",e,"fauteIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.fautes||t<0||t>=i.fautes.length){console.log("Index de faute invalide - suppression annul\xE9e");return}i.fautes.splice(t,1),this.saveData(),console.log("Faute supprim\xE9e avec succ\xE8s")}supprimerContreAttaque(e,t){if(console.log("supprimerContreAttaque() appel\xE9e avec matchIndex:",e,"contreAttaqueIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.contreAttaques||t<0||t>=i.contreAttaques.length){console.log("Index de contre-attaque invalide - suppression annul\xE9e");return}i.contreAttaques.splice(t,1),this.saveData(),console.log("Contre-attaque supprim\xE9e avec succ\xE8s")}supprimerTikiTaka(e,t){if(console.log("supprimerTikiTaka() appel\xE9e avec matchIndex:",e,"tikiTakaIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.tikiTakas||t<0||t>=i.tikiTakas.length){console.log("Index de tiki-taka invalide - suppression annul\xE9e");return}i.tikiTakas.splice(t,1),this.saveData(),console.log("Tiki-taka supprim\xE9 avec succ\xE8s")}supprimerMatch(e){if(!confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?"))return;let t=this.matches.findIndex(i=>i.id===e.id);t!==-1&&(this.matches.splice(t,1),this.saveData())}loadSavedData(){let e=localStorage.getItem("footballMatches");if(e){let t=JSON.parse(e);new Date(t.expirationDate)>new Date?(this.matches=t.matches.map(r=>Y(M({},r),{heureDebut:new Date(r.heureDebut),duelsGagnes:r.duelsGagnes||[]})),t.teams&&(this.teams=t.teams,this.ensureAllTeamsPresent(),this.saveData())):localStorage.removeItem("footballMatches")}}ensureAllTeamsPresent(){ig.forEach(e=>{let t=this.teams.find(i=>i.name===e.name);if(!t)this.teams.push(M({},e)),console.log(`\xC9quipe ajout\xE9e: ${e.name}`);else if(e.players.length>0){let i=e.players.filter(r=>!t.players.some(o=>o.name===r.name));i.length>0&&(t.players.push(...i),console.log(`Joueurs ajout\xE9s \xE0 ${e.name}:`,i.map(r=>r.name)))}})}saveData(){let e=new Date;e.setMonth(e.getMonth()+3);let t={matches:this.matches,teams:this.teams,expirationDate:e.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(t))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(e,t){return e.buteurs.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c),o.assist&&(s.assist=o.assist)):r.push({nom:o.nom,minutes:[o.minute],assist:o.assist}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom))}getGroupedDuels(e,t){return e.duelsGagnes?e.duelsGagnes.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedDribbles(e,t){return e.dribbles?e.dribbles.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedInterceptions(e,t){return e.interceptions?e.interceptions.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedFrappes(e,t){return e.frappes?e.frappes.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedFautes(e,t){return e.fautes?e.fautes.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedContreAttaques(e,t){return e.contreAttaques?e.contreAttaques.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedTikiTakas(e,t){return e.tikiTakas?e.tikiTakas.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getAllGroupedStats(e,t){let i=[];return this.getGroupedDuels(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"duel",emoji:"\u{1F6E1}\uFE0F",color:"#28a745"})}),this.getGroupedDribbles(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"dribble",emoji:"\u{1F3C3}",color:"#17a2b8"})}),this.getGroupedInterceptions(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"interception",emoji:"\u270B",color:"#6f42c1"})}),this.getGroupedFrappes(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"frappe",emoji:"\u{1F3AF}",color:"#fd7e14"})}),this.getGroupedFautes(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"faute",emoji:"\u26A0\uFE0F",color:"#dc3545"})}),this.getGroupedContreAttaques(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"contre-attaque",emoji:"\u26A1",color:"#20c997"})}),this.getGroupedTikiTakas(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"tiki-taka",emoji:"\u{1F504}",color:"#6c757d"})}),i}getStatTypeName(e){return{duel:"Duels gagn\xE9s",dribble:"Dribbles",interception:"Interceptions",frappe:"Frappes",faute:"Fautes","contre-attaque":"Contre-attaques","tiki-taka":"Tiki-taka"}[e]||e}getAllStatsForModal(){if(!this.selectedMatch)return[];let e=[];return this.selectedMatch.duelsGagnes&&this.selectedMatch.duelsGagnes.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"duel",emoji:"\u{1F6E1}\uFE0F",color:"#28a745",index:i,supprimerFn:()=>this.supprimerDuel(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.dribbles&&this.selectedMatch.dribbles.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"dribble",emoji:"\u{1F3C3}",color:"#17a2b8",index:i,supprimerFn:()=>this.supprimerDribble(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.interceptions&&this.selectedMatch.interceptions.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"interception",emoji:"\u270B",color:"#6f42c1",index:i,supprimerFn:()=>this.supprimerInterception(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.frappes&&this.selectedMatch.frappes.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"frappe",emoji:"\u{1F3AF}",color:"#fd7e14",index:i,supprimerFn:()=>this.supprimerFrappe(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.fautes&&this.selectedMatch.fautes.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"faute",emoji:"\u26A0\uFE0F",color:"#dc3545",index:i,supprimerFn:()=>this.supprimerFaute(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.contreAttaques&&this.selectedMatch.contreAttaques.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"contre-attaque",emoji:"\u26A1",color:"#20c997",index:i,supprimerFn:()=>this.supprimerContreAttaque(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.tikiTakas&&this.selectedMatch.tikiTakas.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"tiki-taka",emoji:"\u{1F504}",color:"#6c757d",index:i,supprimerFn:()=>this.supprimerTikiTaka(this.matches.indexOf(this.selectedMatch),i)})}),e.sort((t,i)=>t.minute-i.minute)}getActiveGroupedScorers(e,t){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===t&&!this.isGoalDisabledForMatch(e,r.index)).reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}getDisabledGroupedScorers(e,t){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===t&&this.isGoalDisabledForMatch(e,r.index)&&r.buteur.nom!=="Joueur non list\xE9").reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(e,t){this.selectedPosition={team:e,position:t};let i=this.getPlayerForPosition(e,t);if(i&&this.selectedMatch){let r=t.includes("defenseur")||t==="gardien";console.log("isDefensivePosition"+r),r?this.encodingDuelsEnabled&&this.quickAddDuel(i.name,e):this.encodingGoalsEnabled&&this.quickAddGoal(i.name,e)}}assignPlayerToPosition(e){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let t=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[t]=e,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(e,t){if(this.selectedMatch?.positions){let i=`${e}_${t}`,r=this.selectedMatch.positions[i];if(r)return this.getPlayerByName(e,r)}return null}getPlayerByName(e,t){let i=this.teams.find(r=>r.name===(e===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));return i&&i.players.find(r=>r.name===t)||null}openDispositionModal(e){this.selectedMatch=e,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(e){e.showElements=!e.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(e){this.selectedMatch=e,this.matchEditForm.patchValue({equipe1:e.equipe1,equipe2:e.equipe2,heureDebut:this.getNearestValidTime(e.heureDebut),lieu:e.lieu,competition:e.competition}),this.editTeam1Search=e.equipe1,this.editTeam2Search=e.equipe2,this.editCompetitionSearch=e.competition||"",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editFilteredCompetitions=[],this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(e){let t=new Date(e);return t.getMinutes()<30?t.setMinutes(0):t.setMinutes(30),t.toISOString().slice(0,16)}onSubmitMatchEdit(){if(this.matchEditForm.valid&&this.selectedMatch){let e=this.matchEditForm.value;this.selectedMatch.equipe1=e.equipe1,this.selectedMatch.equipe2=e.equipe2,this.selectedMatch.heureDebut=new Date(e.heureDebut),this.selectedMatch.lieu=e.lieu,this.selectedMatch.competition=e.competition,this.saveData(),this.showMatchEditForm=!1}}get filteredMatches(){return this.matches.filter(e=>{let t=!this.selectedTeamFilter||e.equipe1===this.selectedTeamFilter||e.equipe2===this.selectedTeamFilter,i=this.selectedCompetitionFilter&&this.selectedCompetitionFilter.includes("-"),r=!0;return this.selectedCompetitionFilter&&(i?r=this.getSeasonFromDate(e.heureDebut)===this.selectedCompetitionFilter:r=e.competition===this.selectedCompetitionFilter),t&&r})}closeTeamFilterModal(){this.showTeamFilterModal=!1}getMatchesPlayedByTeam(e){return this.matches.filter(t=>t.equipe1===e||t.equipe2===e).length}get filteredTeamsForModal(){let e;if(!this.selectedCompetitionFilter)e=this.teams;else if(this.selectedCompetitionFilter.includes("-")){let i=new Set;this.matches.forEach(r=>{this.getSeasonFromDate(r.heureDebut)===this.selectedCompetitionFilter&&(i.add(r.equipe1),i.add(r.equipe2))}),e=this.teams.filter(r=>i.has(r.name))}else{let i=new Set;this.matches.forEach(r=>{r.competition===this.selectedCompetitionFilter&&(i.add(r.equipe1),i.add(r.equipe2))}),e=this.teams.filter(r=>i.has(r.name))}return e.sort((t,i)=>{let r=this.getMatchesPlayedByTeam(t.name);return this.getMatchesPlayedByTeam(i.name)-r})}shareMatch(e){return I(this,null,function*(){this.isSharingMatch=!0;try{let t=yield this.firestoreService.saveMatch(e),i=`${window.location.origin}?matchId=${t}`,r=`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${this.getGroupedScorers(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${e.equipe2}:
${this.getGroupedScorers(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

Duels gagn\xE9s :
${e.equipe1}:
${this.getGroupedDuels(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

${e.equipe2}:
${this.getGroupedDuels(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

Lien direct vers le match : ${i}
      `.trim();if(navigator.share)yield navigator.share({title:`${e.equipe1} vs ${e.equipe2}`,text:r,url:i});else{let o=document.createElement("textarea");o.value=r,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}catch(t){console.error("Erreur lors de la sauvegarde ou du partage du match:",t),alert("Une erreur est survenue lors de la sauvegarde ou du partage du match.")}finally{this.isSharingMatch=!1}})}loadMatchFromUrl(){return I(this,null,function*(){let e=new URLSearchParams(window.location.search),t=e.get("competitionId"),i=e.get("matchId");if(t)try{let r=yield this.firestoreService.getCompetitionById(t);if(r){let o=yield this.firestoreService.getMatchesByCompetition(t);o.length>0&&(this.matches=o,this.selectedCompetitionFilter=r.name,this.saveData())}}catch(r){console.error("Erreur lors du chargement de la comp\xE9tition:",r)}else if(i)try{let r=yield this.firestoreService.getMatchById(i);if(r){r.heureDebut=new Date(r.heureDebut);let o=this.matches.findIndex(a=>this.isSameMatch(a,r)),s;o===-1?(console.log("Ajout du nouveau match \xE0 la liste"),this.matches.push(r),this.saveData(),s=r):s=this.matches[o],this.selectMatch(s),this.selectedMatch=s,setTimeout(()=>{let a=document.querySelector(`[data-match-id="${s.id}"]`);a&&a.scrollIntoView({behavior:"smooth"})},100)}else console.error("Match non trouv\xE9 dans Firestore")}catch(r){console.error("Erreur lors du chargement du match depuis Firestore:",r)}})}isSameMatch(e,t){return e.id===t.id&&e.equipe1===t.equipe1&&e.equipe2===t.equipe2&&e.score1===t.score1&&e.score2===t.score2}getButeurDisplay(e){let t=`\u26BD ${e.nom} (${e.minute}')`;return e.assist&&(t+=` (Assist: ${e.assist})`),t}saveMatchToFirestore(e){return I(this,null,function*(){try{let t=yield this.firestoreService.saveMatch(e);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",t),window.location.href=`/match/${t}`}catch(t){console.error("Erreur lors de l'enregistrement du match dans Firestore:",t)}})}closeCompetitionFilterModal(){this.showCompetitionFilterModal=!1}openCompetitionFilterModal(){this.selectedSeason=this.getCurrentSeason(),this.showCompetitionFilterModal=!0}onSeasonChanged(e){this.selectedSeason=e,this.selectedCompetitionFilter=e}onCompetitionSelected(e){this.selectedCompetitionFilter=e,this.showCompetitionFilterModal=!1}onCompetitionAdded(e){return I(this,null,function*(){try{console.log("Ajout de la comp\xE9tition:",e);let t={equipe1:"\xC9quipe temporaire",equipe2:"\xC9quipe temporaire",score1:0,score2:0,buteurs:[],heureDebut:new Date,lieu:"",positions:{},showElements:!0,competition:e.name,updatedAt:new Date,duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[]};this.matches.push(t),this.saveData(),this.showCompetitionFilterModal=!1,alert(`Comp\xE9tition "${e.name}" ajout\xE9e avec succ\xE8s !`)}catch(t){console.error("Erreur lors de l'ajout de la comp\xE9tition:",t),alert("Erreur lors de l'ajout de la comp\xE9tition.")}})}onCompetitionUpdated(e){return I(this,null,function*(){try{console.log("Mise \xE0 jour de la comp\xE9tition:",e);let{oldName:t,newCompetition:i}=e;t!==i.name&&(this.matches.forEach(r=>{r.competition===t&&(r.competition=i.name,r.updatedAt=new Date)}),this.selectedCompetitionFilter===t&&(this.selectedCompetitionFilter=i.name),this.saveData(),alert(`Comp\xE9tition "${t}" mise \xE0 jour vers "${i.name}" avec succ\xE8s !`)),this.showCompetitionFilterModal=!1}catch(t){console.error("Erreur lors de la mise \xE0 jour de la comp\xE9tition:",t),alert("Erreur lors de la mise \xE0 jour de la comp\xE9tition.")}})}onCompetitionDeleted(e){return I(this,null,function*(){try{if(console.log("Suppression de la comp\xE9tition:",e),!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la comp\xE9tition "${e}" ?

Cette action supprimera \xE9galement tous les matchs associ\xE9s.`))return;this.matches=this.matches.filter(t=>t.competition!==e),this.selectedCompetitionFilter===e&&(this.selectedCompetitionFilter=""),this.saveData(),this.showCompetitionFilterModal=!1,alert(`Comp\xE9tition "${e}" supprim\xE9e avec succ\xE8s !`)}catch(t){console.error("Erreur lors de la suppression de la comp\xE9tition:",t),alert("Erreur lors de la suppression de la comp\xE9tition.")}})}assignSeasonToCompetition(e,t){return I(this,null,function*(){try{console.log(`Attribution de la saison ${t} \xE0 la comp\xE9tition ${e}`);let i=this.matches.filter(r=>r.competition===e);if(i.length===0){alert(`Aucun match trouv\xE9 pour la comp\xE9tition "${e}"`);return}i.forEach(r=>{let[o]=t.split("-"),s=new Date(parseInt(o),7,1);r.heureDebut=s,r.updatedAt=new Date}),this.saveData(),alert(`Saison "${t}" attribu\xE9e \xE0 la comp\xE9tition "${e}" avec succ\xE8s !`)}catch(i){console.error("Erreur lors de l'attribution de la saison:",i),alert("Une erreur est survenue lors de l'attribution de la saison.")}})}assignSeasonAutomatically(e,t){try{console.log(`Attribution automatique de la saison ${t} \xE0 la comp\xE9tition ${e}`);let i=this.matches.filter(r=>r.competition===e);if(i.length===0)return;i.forEach(r=>{r.updatedAt=new Date}),this.saveData()}catch(i){console.error("Erreur lors de l'attribution automatique de la saison:",i)}}isCompetitionWithoutSeason(e){let t=this.matches.filter(r=>r.competition===e);return t.length===0?!1:!t.some(r=>{if(!r.heureDebut)return!1;try{let o=this.getSeasonFromDate(r.heureDebut);return o&&o!==""}catch{return!1}})}getSuggestedSeasonForCompetition(e){let t=this.matches.filter(o=>o.competition===e);if(t.length===0)return null;let r=t.sort((o,s)=>!o.heureDebut||!s.heureDebut?0:o.heureDebut.getTime()-s.heureDebut.getTime())[0];if(!r.heureDebut)return null;try{return this.getSeasonFromDate(r.heureDebut)}catch{return null}}onAssignSeason(e){this.assignSeasonToCompetition(e.competition,e.season)}getCurrentSeason(){let e=new Date,t=e.getFullYear();return e.getMonth()+1>=8?`${t}-${t+1}`:`${t-1}-${t}`}getSeasonFromDate(e){let t;!e||isNaN(new Date(e).getTime())?t=new Date:t=new Date(e);let i=t.getFullYear();return t.getMonth()+1>=8?`${i}-${i+1}`:`${i-1}-${i}`}getCompetitionsBySeason(e){(!e||e==="")&&(e=this.getCurrentSeason());let t=this.matches.filter(o=>this.getSeasonFromDate(o.heureDebut)===e).map(o=>o.competition).filter(o=>o!==void 0&&o!==""),i=this.matches.filter(o=>{if(!o.competition||o.competition==="")return!1;let a=this.matches.filter(c=>c.competition===o.competition).reduce((c,l)=>l.heureDebut<c.heureDebut?l:c);return o.id===a.id&&this.getSeasonFromDate(o.heureDebut)===e?(this.assignSeasonAutomatically(o.competition,e),!0):!1}).map(o=>o.competition).filter(o=>o!==void 0&&o!==""),r=[...t,...i];return[...new Set(r)]}getAvailableSeasons(){return this.matches.map(t=>this.getSeasonFromDate(t.heureDebut)).filter((t,i,r)=>r.indexOf(t)===i).sort((t,i)=>{let r=parseInt(t.split("-")[0]);return parseInt(i.split("-")[0])-r})}get uniqueCompetitions(){return this.getCompetitionsBySeason(this.selectedSeason)}getCompetitionBadgeColor(e){let t=["badge-pastel-primary","badge-pastel-secondary","badge-pastel-success","badge-pastel-danger","badge-pastel-warning","badge-pastel-info","badge-pastel-dark","badge-pastel-purple","badge-pastel-pink","badge-pastel-teal"];if(n.competitionColors.has(e))return n.competitionColors.get(e);let i=e.split("").reduce((s,a)=>a.charCodeAt(0)+((s<<5)-s),0),r=Math.abs(i)%t.length,o=t[r];return n.competitionColors.set(e,o),o}getScoreColor(e){if(![e.equipe1,e.equipe2].some(s=>s.toLowerCase().includes("flawinne")))return"btn-light";let i=e.equipe1.toLowerCase().includes("flawinne")?e.equipe1:e.equipe2,r=e.equipe1.toLowerCase().includes("flawinne")?e.score1:e.score2,o=e.equipe1.toLowerCase().includes("flawinne")?e.score2:e.score1;return r>o?"btn-score-success":r<o?"btn-score-danger":"btn-score-light"}exportMatches(){this.showExportModal=!0}closeExportModal(){this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1}}isExportFormatSelected(){return this.exportFormats.txt||this.exportFormats.csv||this.exportFormats.json}confirmExport(){return I(this,null,function*(){if(this.exportFormats.txt){let e=this.exportToTxt();this.downloadFile(e,"matches.txt")}if(this.exportFormats.csv){let e=this.exportToCsv();this.downloadFile(e,"matches.csv")}if(this.exportFormats.json){let e=this.exportToJson();this.downloadFile(e,"matches.json")}this.closeExportModal()})}exportToTxt(){let e=`FOOTBALL MATCHES EXPORT
`;e+=`========================

`;for(let t of this.getSortedMatches()){if(e+=`Match: ${t.equipe1} vs ${t.equipe2}
`,e+=`Score: ${t.score1} - ${t.score2}
`,e+=`Date: ${t.heureDebut.toLocaleString("fr-FR")}
`,t.lieu&&(e+=`Lieu: ${t.lieu}
`),t.competition&&(e+=`Comp\xE9tition: ${t.competition}
`),t.buteurs.length>0){e+=`
Buteurs:
`;let i=this.getGroupedScorers(t,1),r=this.getGroupedScorers(t,2);if(i.length>0){e+=`${t.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}if(r.length>0){e+=`${t.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}}if(t.duelsGagnes&&t.duelsGagnes.length>0){e+=`
Duels gagn\xE9s:
`;let i=this.getGroupedDuels(t,1),r=this.getGroupedDuels(t,2);if(i.length>0){e+=`${t.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}if(r.length>0){e+=`${t.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}}e+=`
`+"=".repeat(50)+`

`}return e}exportToCsv(){let e=`\xC9quipe 1,\xC9quipe 2,Score 1,Score 2,Date,Lieu,Comp\xE9tition,Buteurs \xC9quipe 1,Buteurs \xC9quipe 2,Duels \xC9quipe 1,Duels \xC9quipe 2
`;for(let t of this.getSortedMatches()){let i=this.getGroupedScorers(t,1),r=this.getGroupedScorers(t,2),o=this.getGroupedDuels(t,1),s=this.getGroupedDuels(t,2),a=i.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),c=r.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),l=o.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),u=s.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; ");e+=`"${t.equipe1}","${t.equipe2}",${t.score1},${t.score2},"${t.heureDebut.toLocaleString("fr-FR")}","${t.lieu||""}","${t.competition||""}","${a}","${c}","${l}","${u}"
`}return e}exportToJson(){let e=this.getSortedMatches().map(t=>({equipe1:t.equipe1,equipe2:t.equipe2,score1:t.score1,score2:t.score2,heureDebut:t.heureDebut.toISOString(),lieu:t.lieu,competition:t.competition,buteurs:t.buteurs,duelsGagnes:t.duelsGagnes||[]}));return JSON.stringify(e,null,2)}downloadFile(e,t){let i=new Blob([e],{type:"text/plain"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=t,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(r),document.body.removeChild(o)}importMatches(){let e=document.createElement("input");e.type="file",e.accept=".txt,.csv,.json",e.onchange=t=>{let i=t.target.files?.[0];if(i){let r=new FileReader;r.onload=o=>{let s=o.target?.result,a=i.name.split(".").pop()?.toLowerCase();try{let c=[];switch(a){case"txt":c=this.parseTxtImport(s);break;case"csv":c=this.parseCsvImport(s);break;case"json":c=this.parseJsonImport(s);break;default:throw new Error("Format de fichier non support\xE9")}c.length>0?confirm(`Voulez-vous importer ${c.length} match(s) ?`)&&(this.matches.push(...c),this.saveData(),alert("Import r\xE9ussi !")):alert("Aucun match trouv\xE9 dans le fichier.")}catch(c){console.error("Erreur lors de l'import:",c),alert("Erreur lors de l'import du fichier. V\xE9rifiez le format.")}},r.readAsText(i)}},e.click()}parseTxtImport(e){let t=[],i=e.split("----------------------------------------");for(let r of i){if(!r.trim())continue;let o=r.trim().split(`
`),s={id:this.matches.length+t.length+1,score1:0,score2:0,buteurs:[]};for(let a of o)if(a.startsWith("Match : ")){let c=a.replace("Match : ","").split(" vs ");s.equipe1=c[0].trim(),s.equipe2=c[1].trim()}else if(a.startsWith("Score : ")){let c=a.replace("Score : ","").split(" - ");s.score1=parseInt(c[0]),s.score2=parseInt(c[1])}else if(a.startsWith("Date : "))s.heureDebut=new Date(a.replace("Date : ",""));else if(a.startsWith("Lieu : "))s.lieu=a.replace("Lieu : ","").trim();else if(a.startsWith("Comp\xE9tition : "))s.competition=a.replace("Comp\xE9tition : ","").trim();else if(a.includes(":")){let[c,l]=a.split(":"),u=c.replace("-","").trim(),p=l.match(/\d+/g),v=l.match(/\(Assist: (.*?)\)/);p&&p.forEach(y=>{s.buteurs?.push({nom:u,minute:parseInt(y),equipe:a.includes(s.equipe1)?1:2,assist:v?v[1]:void 0})})}s.equipe1&&s.equipe2&&t.push(s)}return t}parseCsvImport(e){let t=e.trim().split(`
`);if(t.length<2)throw new Error("Fichier CSV vide ou invalide");let i=t[0].split(",").map(o=>o.replace(/"/g,"").trim()),r=[];for(let o=1;o<t.length;o++){let s=t[o],a=this.parseCsvLine(s);if(a.length<8)continue;let c={id:this.matches.length+o,equipe1:a[0]?.replace(/"/g,"")||"",equipe2:a[1]?.replace(/"/g,"")||"",score1:parseInt(a[2])||0,score2:parseInt(a[3])||0,heureDebut:new Date(a[4]||new Date),lieu:a[5]?.replace(/"/g,"")||"",competition:a[6]?.replace(/"/g,"")||"",buteurs:[],duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[],updatedAt:new Date};if(a[7]){let l=a[7].replace(/"/g,"");if(l){let u=this.parseScorersString(l,1);c.buteurs.push(...u)}}if(a[8]){let l=a[8].replace(/"/g,"");if(l){let u=this.parseScorersString(l,2);c.buteurs.push(...u)}}if(a[9]){let l=a[9].replace(/"/g,"");if(l){let u=this.parseDuelsString(l,1);c.duelsGagnes.push(...u)}}if(a[10]){let l=a[10].replace(/"/g,"");if(l){let u=this.parseDuelsString(l,2);c.duelsGagnes.push(...u)}}r.push(c)}return r}parseJsonImport(e){try{return JSON.parse(e).map(i=>Y(M({},i),{heureDebut:new Date(i.heureDebut),duelsGagnes:i.duelsGagnes||[]}))}catch{throw new Error("Format JSON invalide")}}parseCsvLine(e){let t=[],i="",r=!1;for(let o=0;o<e.length;o++){let s=e[o];s==='"'?r=!r:s===","&&!r?(t.push(i.trim()),i=""):i+=s}return t.push(i.trim()),t}parseScorersString(e,t){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(u=>parseInt(u.trim())).filter(u=>!isNaN(u));for(let u of l)i.push({nom:a,minute:u,equipe:t})}}return i}parseDuelsString(e,t){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(u=>parseInt(u.trim())).filter(u=>!isNaN(u));for(let u of l)i.push({nom:a,minute:u,equipe:t})}}return i}getSortedMatches(){return this.filteredMatches.slice().sort((e,t)=>new Date(t.heureDebut).getTime()-new Date(e.heureDebut).getTime())}calculateRanking(e){let t=new Map;return this.matches.filter(r=>r.competition===e).forEach(r=>{[r.equipe1,r.equipe2].forEach(a=>{t.has(a)||t.set(a,{name:a,points:0,matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0})});let o=t.get(r.equipe1),s=t.get(r.equipe2);o.matches++,s.matches++,o.goalsFor+=r.score1,o.goalsAgainst+=r.score2,s.goalsFor+=r.score2,s.goalsAgainst+=r.score1,r.score1>r.score2?(o.wins++,o.points+=3,s.losses++):r.score1<r.score2?(s.wins++,s.points+=3,o.losses++):(o.draws++,s.draws++,o.points+=1,s.points+=1)}),t.forEach(r=>{r.goalDifference=r.goalsFor-r.goalsAgainst}),Array.from(t.values()).sort((r,o)=>o.points!==r.points?o.points-r.points:o.goalDifference!==r.goalDifference?o.goalDifference-r.goalDifference:o.goalsFor-r.goalsFor)}showRanking(){this.selectedCompetitionFilter?(this.currentRanking=this.calculateRanking(this.selectedCompetitionFilter),this.showRankingModal=!0):alert("Veuillez s\xE9lectionner une comp\xE9tition pour voir le classement")}closeRankingModal(){this.showRankingModal=!1}shareCompetition(){return I(this,null,function*(){if(!this.selectedCompetitionFilter){alert("Veuillez s\xE9lectionner une comp\xE9tition");return}this.isSharingCompetition=!0,this.sharingLogs=["Comp\xE9tition en cours de sauvegarde..."];try{let e=this.matches.filter(r=>r.competition===this.selectedCompetitionFilter);if(e.length===0){alert("Aucun match trouv\xE9 pour cette comp\xE9tition");return}let t=yield this.firestoreService.shareCompetition(this.selectedCompetitionFilter,e,r=>{this.sharingLogs.push(r)}),i=`
          Comp\xE9tition : ${this.selectedCompetitionFilter}
          Nombre de matchs : ${e.length}

          Matchs :
          ${e.map(r=>`
          ${r.equipe1} vs ${r.equipe2}
          Score : ${r.score1} - ${r.score2}
          Date : ${r.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          Lieu : ${r.lieu||"Non sp\xE9cifi\xE9"}
          ----------------------------------------`).join(`
`)}

          Lien vers la comp\xE9tition : ${window.location.origin}?competitionId=${t}
                `.trim();if(navigator.share)yield navigator.share({title:`Comp\xE9tition ${this.selectedCompetitionFilter}`,text:i,url:`${window.location.origin}?competitionId=${t}`});else{let r=document.createElement("textarea");r.value=i,document.body.appendChild(r),r.select();try{document.execCommand("copy"),alert("Informations de la comp\xE9tition copi\xE9es dans le presse-papiers !")}catch(o){console.error("Erreur lors de la copie:",o)}document.body.removeChild(r)}this.sharingLogs.push("Association des matchs en cours...");for(let r of e){let o=yield this.firestoreService.saveMatch(r);this.sharingLogs.push(`Match ${r.equipe1} vs ${r.equipe2} sauvegard\xE9`),yield this.firestoreService.addMatchToCompetition(t,o)}this.sharingLogs.push("Comp\xE9tition sauvegard\xE9e avec succ\xE8s !")}catch(e){console.error("Erreur lors de la sauvegarde ou du partage de la comp\xE9tition:",e),this.sharingLogs.push("Erreur lors de la sauvegarde de la comp\xE9tition"),alert("Une erreur est survenue lors de la sauvegarde ou du partage de la comp\xE9tition.")}finally{this.isSharingCompetition=!1}})}validateScore(e){let t=Math.max(0,e);return console.log("validateScore() appel\xE9e avec:",e,"retourne:",t),t}openEditPlayersModal(e){let t=this.teams.find(i=>i.name===e);t&&(this.teamToEdit=Y(M({},t),{players:[...t.players]}),this.showEditPlayersModal=!0)}closeEditPlayersModal(){this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerName=""}addPlayer(){this.teamToEdit&&this.newPlayerName.trim()&&(this.teamToEdit.players.push({name:this.newPlayerName.trim(),type:this.newPlayerType}),this.newPlayerName="",this.newPlayerType="milieu",this.saveData())}removePlayer(e){if(this.teamToEdit){let t=this.teamToEdit.players[e];if(!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le joueur ${t.name} ?`))return;this.teamToEdit.players.splice(e,1),this.saveData()}}savePlayersEdit(){if(this.teamToEdit){let e=this.teams.findIndex(t=>t.name===this.teamToEdit.name);e!==-1&&(this.teams[e]=Y(M({},this.teamToEdit),{players:[...this.teamToEdit.players]}))}this.saveData(),this.closeEditPlayersModal()}getPlayersSortedByGoals(){if(!this.teamToEdit)return[];let e={};for(let t of this.teamToEdit.players){e[t.name]=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===t.name){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&e[t.name]++}}}return[...this.teamToEdit.players].sort((t,i)=>e[i.name]-e[t.name])}getGoalsForPlayer(e){if(!this.teamToEdit)return 0;let t=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===e){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&t++}}return t}cyclePlayerType(e){e.type==="attaquant"?e.type="milieu":e.type==="milieu"?e.type="defenseur":e.type="attaquant"}cycleNewPlayerType(){this.newPlayerType==="attaquant"?this.newPlayerType="milieu":this.newPlayerType==="milieu"?this.newPlayerType="defenseur":this.newPlayerType="attaquant"}getPlayerGoalsDetails(e){let t=[];for(let i of this.matches)if(i.equipe1===this.teamToEdit?.name||i.equipe2===this.teamToEdit?.name)for(let r of i.buteurs)r.nom===e.name&&t.push({match:i,minute:r.minute});return t}openPlayerGoalsModal(e){this.selectedPlayerGoalsModal=e}closePlayerGoalsModal(){this.selectedPlayerGoalsModal=null}updateFilteredTeams1(){let e=this.team1Search;if(this.matchForm.patchValue({equipe1:e}),e.length<3){this.filteredTeams1=[];return}this.filteredTeams1=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e.toLowerCase())).filter(t=>t!==this.matchForm.value.equipe2)}updateFilteredTeams2(){let e=this.team2Search;if(this.matchForm.patchValue({equipe2:e}),e.length<3){this.filteredTeams2=[];return}this.filteredTeams2=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e.toLowerCase())).filter(t=>t!==this.matchForm.value.equipe1)}selectTeam1(e){this.matchForm.patchValue({equipe1:e}),this.team1Search=e,this.filteredTeams1=[]}selectTeam2(e){this.matchForm.patchValue({equipe2:e}),this.team2Search=e,this.filteredTeams2=[]}openNewTeamModal(){this.showNewTeamModal=!0,this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}]}closeNewTeamModal(){this.showNewTeamModal=!1}addNewTeamPlayer(){this.newTeamPlayers.push({name:"",type:"milieu"})}removeNewTeamPlayer(e){this.newTeamPlayers.length>1&&this.newTeamPlayers.splice(e,1)}openNewTeamModalFor(e){this.newTeamTargetField=e,this.showNewTeamModal=!0,this.newTeamName=e==="equipe1"?this.team1Search:this.team2Search,this.newTeamPlayers=[{name:"",type:"milieu"}]}createNewTeam(){if(!this.newTeamName.trim()||this.newTeamPlayers.every(t=>!t.name.trim()))return;let e={id:Date.now(),name:this.newTeamName.trim(),players:this.newTeamPlayers.filter(t=>t.name.trim())};this.teams.push(e),this.saveData(),this.newTeamTargetField==="equipe1"?(this.matchForm.patchValue({equipe1:e.name}),this.team1Search=e.name):this.newTeamTargetField==="equipe2"&&(this.matchForm.patchValue({equipe2:e.name}),this.team2Search=e.name),this.closeNewTeamModal(),this.newTeamTargetField=null}canCreateNewTeam(){return!this.newTeamName.trim()||this.newTeamPlayers.every(e=>!e.name.trim())}updateFilteredCompetitions(){let e=this.competitionSearch.toLowerCase();if(e.length<3){this.filteredCompetitions=[];return}let t=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.filteredCompetitions=t.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectCompetition(e){this.matchForm.patchValue({competition:e}),this.competitionSearch=e,this.filteredCompetitions=[]}startCelebrationTimer(){console.log("startCelebrationTimer() appel\xE9e"),this.celebrationTimer=setInterval(()=>{this.remainingDots--,console.log("Dots restants:",this.remainingDots),this.remainingDots<=0&&(this.showCelebration&&this.celebrationConfig&&(this.showCelebration=!1,this.celebrationConfig.type==="but"?this.saveCelebrationWithAssist():this.celebrationConfig.type==="duel"&&this.saveDuel()),clearInterval(this.celebrationTimer))},1e3)}saveCelebrationWithAssist(){if(console.log("saveCelebrationWithAssist() appel\xE9e"),!this.selectedMatch||!this.celebrationPlayer||!this.celebrationConfig){console.log("Donn\xE9es de c\xE9l\xE9bration manquantes - sauvegarde annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)||this.selectedMatch.buteurs.length===0){console.error("Propri\xE9t\xE9 buteurs invalide ou vide:",this.selectedMatch.buteurs);return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.celebrationPlayer&&(e.assist=this.celebrationAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelCelebration(){if(console.log("cancelCelebration() appel\xE9e"),!this.selectedMatch||!this.celebrationConfig){console.log("Donn\xE9es de c\xE9l\xE9bration manquantes - annulation annul\xE9e");return}this.celebrationConfig.type==="but"?this.cancelGoal():this.celebrationConfig.type==="duel"&&this.cancelDuel(),this.showCelebration=!1,this.celebrationConfig=null,this.celebrationPlayer="",this.celebrationTeam="",this.celebrationAssist=""}ensureScorersInTeams(e){if(!e||!e.buteurs||e.buteurs.length===0)return;console.log("V\xE9rification des joueurs ayant marqu\xE9 des buts pour le match:",e.id);let t=this.teams.find(r=>r.name===e.equipe1),i=this.teams.find(r=>r.name===e.equipe2);if(!t||!i){console.log("\xC9quipes non trouv\xE9es pour le match");return}e.buteurs.forEach(r=>{if(!r||!r.nom)return;let o=r.equipe===1?t:i;o.players.some(a=>a.name.toLowerCase()===r.nom.toLowerCase())||(console.log(`Ajout du joueur ${r.nom} \xE0 l'\xE9quipe ${o.name}`),o.players.push({name:r.nom,type:"milieu"}))}),this.saveData()}closeScoreModal(){this.selectedMatch&&this.ensureScorersInTeams(this.selectedMatch),this.showScoreForm=!1}onScoreChange(){if(console.log("onScoreChange() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - modification annul\xE9e");return}let e=this.selectedMatch.score1,t=this.selectedMatch.score2;console.log("Scores actuels:",{score1:e,score2:t});let i=this.getActiveGoalsCount(1),r=this.getActiveGoalsCount(2);console.log("Buts actifs:",{team1:i,team2:r}),this.handleTeamScoreChange(1,e,i),this.handleTeamScoreChange(2,t,r),console.log("Match apr\xE8s modification:",this.selectedMatch),this.saveData()}handleTeamScoreChange(e,t,i){console.log(`handleTeamScoreChange() pour \xE9quipe ${e}:`,{newScore:t,currentGoals:i});let r=this.selectedMatch.id;if(t>i){let o=this.disabledGoals.filter(c=>{if(!this.selectedMatch||!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs))return console.error("selectedMatch ou buteurs invalide dans handleTeamScoreChange"),!1;if(c.buteurIndex<0||c.buteurIndex>=this.selectedMatch.buteurs.length)return console.error("Index de buteur invalide dans disabledGoals:",c.buteurIndex),!1;let l=this.selectedMatch.buteurs[c.buteurIndex];return l?c.matchId===r&&l.equipe===e:(console.error("Buteur non trouv\xE9 \xE0 l'index:",c.buteurIndex),!1)});console.log(`Buts d\xE9sactiv\xE9s pour \xE9quipe ${e}:`,o.length);let s=Math.min(t-i,o.length);console.log(`R\xE9activation de ${s} buts d\xE9sactiv\xE9s`);for(let c=0;c<s;c++){let l=o[c];this.disabledGoals=this.disabledGoals.filter(u=>!(u.matchId===l.matchId&&u.buteurIndex===l.buteurIndex)),console.log("But r\xE9activ\xE9 \xE0 l'index:",l.buteurIndex)}let a=t-i-s;if(a>0){console.log(`Ajout de ${a} buts "Joueur non list\xE9"`);for(let c=0;c<a;c++){let l={nom:"Joueur non list\xE9",minute:1,equipe:e};this.selectedMatch.buteurs.push(l),console.log("But ajout\xE9:",l)}}}else if(t<i){let o=i-t;console.log(`D\xE9sactivation de ${o} buts de l'\xE9quipe ${e}`),this.selectedMatch.buteurs.map((a,c)=>({buteur:a,index:c})).filter(a=>a.buteur.equipe===e&&!this.isGoalDisabled(a.index)).slice(-o).forEach(a=>{r!==void 0&&(a.buteur.nom==="Joueur non list\xE9"?(this.selectedMatch.buteurs.splice(a.index,1),console.log('"Joueur non list\xE9" supprim\xE9:',a.buteur)):(this.disabledGoals.push({matchId:r,buteurIndex:a.index}),console.log("But d\xE9sactiv\xE9:",a.buteur)))})}}isGoalDisabled(e){return this.selectedMatch?this.disabledGoals.some(t=>t.matchId===this.selectedMatch.id&&t.buteurIndex===e):!1}isGoalDisabledForMatch(e,t){return this.disabledGoals.some(r=>r.matchId===e.id&&r.buteurIndex===t)}maintainScoreConsistency(){if(!this.selectedMatch)return;console.log("maintainScoreConsistency() appel\xE9e");let e=this.getActiveGoalsCount(1),t=this.getActiveGoalsCount(2);console.log("Buts actifs actuels:",{team1:e,team2:t}),console.log("Scores actuels:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2}),this.selectedMatch.score1!==e&&(console.log(`Incoh\xE9rence \xE9quipe 1: score=${this.selectedMatch.score1}, buts actifs=${e}`),this.handleTeamScoreChange(1,this.selectedMatch.score1,e)),this.selectedMatch.score2!==t&&(console.log(`Incoh\xE9rence \xE9quipe 2: score=${this.selectedMatch.score2}, buts actifs=${t}`),this.handleTeamScoreChange(2,this.selectedMatch.score2,t))}getActiveGoalsCount(e){return this.selectedMatch?this.selectedMatch.buteurs.filter((t,i)=>t.equipe===e&&!this.isGoalDisabled(i)).length:0}getActiveGoalsCountForMatch(e,t){return e.buteurs.filter((i,r)=>i.equipe===t&&!this.isGoalDisabledForMatch(e,r)).length}showLocalStorageData(){let e=localStorage.getItem("footballMatches");this.localStorageData=e?JSON.parse(e):"Aucune donn\xE9e trouv\xE9e.",this.showingLocalStorageData=!0}hideLocalStorageData(){this.showingLocalStorageData=!1}toggleDeleteButtons(){this.showDeleteButtons=!this.showDeleteButtons}updateEditFilteredTeams1(){let e=this.editTeam1Search.toLowerCase();if(e.length<3){this.editFilteredTeams1=[];return}this.editFilteredTeams1=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e)).filter(t=>t!==this.matchEditForm.value.equipe2)}updateEditFilteredTeams2(){let e=this.editTeam2Search.toLowerCase();if(e.length<3){this.editFilteredTeams2=[];return}this.editFilteredTeams2=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e)).filter(t=>t!==this.matchEditForm.value.equipe1)}selectEditTeam1(e){this.matchEditForm.patchValue({equipe1:e}),this.editTeam1Search=e,this.editFilteredTeams1=[]}selectEditTeam2(e){this.matchEditForm.patchValue({equipe2:e}),this.editTeam2Search=e,this.editFilteredTeams2=[]}updateEditFilteredCompetitions(){let e=this.editCompetitionSearch.toLowerCase();if(e.length<3){this.editFilteredCompetitions=[];return}let t=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.editFilteredCompetitions=t.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectEditCompetition(e){this.matchEditForm.patchValue({competition:e}),this.editCompetitionSearch=e,this.editFilteredCompetitions=[]}getTeamNames(){return this.teams.map(e=>e.name)}getCompetitionNames(){return Array.from(new Set(this.matches.map(e=>e.competition).filter(e=>!!e)))}updateFilteredButeurNames(){let e=this.buteurForm.get("equipe")?.value,t=(this.buteurNameSearch||"").toLowerCase();if(!e||t.length<3){this.filteredButeurNames=[];return}this.filteredButeurNames=this.getTeamPlayers(e).map(i=>i.name).filter(i=>i.toLowerCase().includes(t))}selectButeurName(e){this.buteurNameSearch=e,this.buteurForm.get("nom")?.setValue(e),this.filteredButeurNames=[]}updateFilteredAssistNames(){let e=this.buteurForm.get("equipe")?.value,t=this.buteurForm.get("nom")?.value,i=(this.assistSearch||"").toLowerCase();if(!e||i.length<3){this.filteredAssistNames=[];return}this.filteredAssistNames=this.getTeamPlayers(e).map(r=>r.name).filter(r=>r!==t).filter(r=>r.toLowerCase().includes(i))}selectAssistName(e){this.assistSearch=e,this.buteurForm.get("assist")?.setValue(e),this.filteredAssistNames=[]}onButeurEquipeChange(){this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.buteurForm.get("nom")?.setValue(""),this.buteurForm.get("assist")?.setValue("")}gererOuvertureFermetureButeurForm(e){e?(this.buteurNameSearch=this.buteurForm.get("nom")?.value||"",this.assistSearch=this.buteurForm.get("assist")?.value||""):(this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[])}shouldShowCreateButeur(){let e=this.buteurForm.get("equipe")?.value,t=this.buteurNameSearch;if(!e||!t||t.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredButeurNames.length===0&&!i.includes(t)}shouldShowCreateAssist(){let e=this.buteurForm.get("equipe")?.value,t=this.assistSearch;if(!e||!t||t.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredAssistNames.length===0&&!i.includes(t)}shouldShowCreateTeam1(){let e=this.team1Search;if(!e||e.length<3)return!1;let t=this.getTeamNames();return this.filteredTeams1.length===0&&!t.includes(e)}shouldShowCreateTeam2(){let e=this.team2Search;if(!e||e.length<3)return!1;let t=this.getTeamNames();return this.filteredTeams2.length===0&&!t.includes(e)}shouldShowCreateCompetition(){let e=this.competitionSearch;if(!e||e.length<3)return!1;let t=this.getCompetitionNames();return this.filteredCompetitions.length===0&&!t.includes(e)}deleteTeam(e){let t=this.matches.filter(i=>i.equipe1===e||i.equipe2===e);if(t.length>0){if(!confirm(`L'\xE9quipe "${e}" est impliqu\xE9e dans ${t.length} match(s).
Supprimer aussi ces matchs ?`))return;this.matches=this.matches.filter(r=>r.equipe1!==e&&r.equipe2!==e)}else if(!confirm(`Supprimer d\xE9finitivement l'\xE9quipe "${e}" ?`))return;this.teams=this.teams.filter(i=>i.name!==e),this.saveData(),this.selectedTeamFilter===e&&(this.selectedTeamFilter="")}get filteredSeasonsForModal(){let e=new Set;for(let i of this.matches)if(i.competition&&i.competition.trim()!==""){let r=this.getSeasonFromDate(i.heureDebut);r&&e.add(r)}let t=this.getCurrentSeason();return e.add(t),Array.from(e).sort((i,r)=>{let o=parseInt(i.split("-")[0]);return parseInt(r.split("-")[0])-o})}static{this.\u0275fac=function(t){return new(t||n)(q(dI),q(Os))}}static{this.\u0275cmp=Mi({type:n,selectors:[["app-root"]],standalone:!0,features:[Ni],decls:94,vars:25,consts:[[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lead","text-muted","mb-0"],[1,"btn","btn-link","ms-2",3,"click"],[1,"fas","fa-question-circle","text-warning"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","btn mt-2",3,"ngClass","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","disabled","click",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[3,"competitions","selectedSeason","availableSeasons","selectedCompetition","isCompetitionWithoutSeason","getSuggestedSeason","showDeleteButtons","seasonChanged","competitionSelected","competitionAdded","competitionUpdated","competitionDeleted","assignSeason","closeModal",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration","style","margin-top: -100px;",4,"ngIf"],["class","disposition-modal",4,"ngIf"],["class","modal-overlay edit-players-overlay",4,"ngIf"],["class","modal fade show","tabindex","-1","style","display:block; background:rgba(0,0,0,0.5);",4,"ngIf"],["tabindex","-1","role","dialog",1,"modal","fade","action-selection-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"text-muted","mb-3"],[1,"text-muted","mb-2"],[1,"row","g-2"],[1,"col-6"],[1,"btn","btn-outline-primary","w-100","mb-2",3,"click"],[1,"fas","fa-futbol","me-2"],[1,"fas","fa-bullseye","me-2"],[1,"fas","fa-running","me-2"],[1,"fas","fa-exchange-alt","me-2"],[1,"fas","fa-bolt","me-2"],[1,"fas","fa-hand-paper","me-2"],[1,"fas","fa-shield-alt","me-2"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-plus-circle","text-white"],[3,"hidden"],[1,"fas","fa-users","text-white"],[1,"btn","mt-2",3,"click","ngClass"],[1,"fas","fa-trophy","text-white"],[1,"text-white"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden"],[1,"fas","fa-list-ol"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden","disabled"],[1,"fas",3,"ngClass"],[1,"modal-overlay"],[1,"team-modal"],[1,"fas","fa-users","me-2"],["type","button","aria-label","Fermer",1,"close-button",3,"click"],["aria-hidden","true"],[1,"team-item","mb-2"],[1,"team-card"],[1,"team-info"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"badge","bg-secondary"],[4,"ngIf"],[1,"team-actions"],["class","team-item mb-2",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","me-auto",3,"click"],[1,"fas","fa-plus-circle","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],["for","'team-' + team.name",1,"form-check-label"],[1,"badge","team-badge"],[1,"text-muted","ms-2"],["title","Modifier l'\xE9quipe",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["class","btn btn-sm btn-outline-danger","title","Supprimer l'\xE9quipe",3,"click",4,"ngIf"],["title","Supprimer l'\xE9quipe",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[3,"seasonChanged","competitionSelected","competitionAdded","competitionUpdated","competitionDeleted","assignSeason","closeModal","competitions","selectedSeason","availableSeasons","selectedCompetition","isCompetitionWithoutSeason","getSuggestedSeason","showDeleteButtons"],[1,"match-modal"],[3,"ngSubmit","formGroup"],[1,"row",2,"width","100%","margin","0 auto","padding","5px","border-radius","8px","background","linear-gradient(to top, rgba(0,0,0,0.05) 0%, transparent 70%)"],[1,"col-md-6"],[1,"mb-2","position-relative"],["for","equipe1",1,"form-label"],["id","equipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe1"],["class","list-group position-absolute w-100",4,"ngIf"],["class","mt-1",4,"ngIf"],["for","equipe2",1,"form-label"],["id","equipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe2"],[1,"mb-2"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["for","competition",1,"form-label","text-muted"],["id","competition","type","text","placeholder","Rechercher ou cr\xE9er une comp\xE9tition...","name","competitionSearch","autocomplete","off",1,"form-control","form-control-sm",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","competition"],[1,"d-flex","gap-2","ms-2","mt-2"],["type","submit",1,"btn","btn-primary","px-4"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-auto"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"list-group","position-absolute","w-100"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"mt-1"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"mt-4"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"match-details"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],["title","Afficher/Masquer les d\xE9tails",1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"fas","text-secondary",3,"ngClass"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn",3,"click","ngClass"],["class","match-scorers",4,"ngIf"],["class","match-actions d-flex gap-2 justify-content-center mt-3",4,"ngIf"],[1,"mx-2"],[1,"badge",3,"ngClass"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"buteur-equipe","disabled-scorer"],[1,"minutes-list","right-team"],[1,"match-actions","d-flex","gap-2","justify-content-center","mt-3"],["title","Ajouter un but",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-futbol"],["title","Disposition tactique",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-tshirt"],["title","Modifier le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],["title","Partager le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click","disabled"],[1,"ms-1"],[1,"score-modal"],[1,"score-modal-content"],[1,"close-button",2,"position","absolute","right","0","top","O","transform","translateY(-45%)",3,"click"],[2,"text-align","center"],[1,"fas","fa-futbol","me-2",2,"color","#27ae60"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center",3,"click","ngClass"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"row"],[1,"col-sm-6"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],["class","duels-list mb-3",4,"ngIf"],["class","player-selector",4,"ngIf"],[1,"mt-3"],[1,"score-info",2,"font-size","0.7em","opacity","0.8"],[1,"d-flex","align-items-center","justify-content-center","gap-1"],["type","number","min","0","onkeypress","return event.charCode >= 48",1,"form-control","form-control-sm",2,"width","42px","text-align","center","padding","2px 4px",3,"ngModelChange","input","ngModel"],["tabindex","-1",1,"score-modal"],[1,"modal-dialog"],["type","button",1,"btn-close",3,"click"],[1,"row","g-3"],[1,"col-md-5","position-relative"],[1,"form-label","small"],["type","text","placeholder","Nom du buteur","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","nom"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control"],[1,"col-md-4"],["formControlName","equipe",1,"form-select",3,"change"],[3,"value"],[1,"col-md-12","position-relative"],["type","text","placeholder","Nom du passeur (optionnel)","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","assist"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],["class","fas fa-futbol me-1",4,"ngIf"],["class","fas fa-shield me-1",4,"ngIf"],["class","fas fa-arrows-alt-h me-1",4,"ngIf"],[1,"fas","fa-futbol","me-1"],[1,"fas","fa-shield","me-1"],[1,"fas","fa-arrows-alt-h","me-1"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",3,"ngClass"],[1,"flex-grow-1"],[3,"ngClass"],[1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"duels-list","mb-3"],[1,"section-header"],["class","duel-item",4,"ngFor","ngForOf"],[1,"duel-item"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],[1,"match-edit-modal"],[1,"close-button",3,"click"],[1,"fas","fa-calendar-days","me-2",2,"color","#27ae60"],[1,"form-group"],["for","equipe1"],[1,"position-relative"],["id","editEquipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","equipe2"],["id","editEquipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["for","competition",1,"form-label"],["id","editCompetition","type","text","placeholder","Championnat, tournoi, amical...","name","editCompetitionSearch","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],[1,"button-group","mt-3"],["type","submit",1,"btn","btn-primary",3,"click"],["class","btn btn-danger float-end","style","float: right;",3,"click",4,"ngIf"],[1,"btn","btn-danger","float-end",2,"float","right",3,"click"],[1,"goal-celebration",2,"margin-top","-100px"],[1,"celebration-content",2,"width","300px"],[1,"goal-text",2,"transform","scale(1.5)"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],["class","assist-section mt-3",4,"ngIf"],["class","button-group mt-2",4,"ngIf"],[1,"dot"],[1,"assist-section","mt-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"button-group","mt-2"],[1,"btn","btn-primary",3,"click"],["class","btn btn-outline-danger ms-2",3,"click",4,"ngIf"],[3,"value","disabled"],[1,"btn","btn-outline-danger","ms-2",3,"click"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"fas","fa-tshirt","me-2",2,"color","#27ae60"],[1,"disposition-controls","mb-3"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"encoding-controls","mt-2"],["role","group",1,"btn-group"],["title","Activer/d\xE9sactiver l'encodage des buts",1,"btn","btn-sm",3,"click"],["title","Activer/d\xE9sactiver l'encodage des duels gagn\xE9s",1,"btn","btn-sm",3,"click"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"],[1,"form-check","mb-2"],["type","checkbox","id","txtFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","txtFormat",1,"form-check-label"],["type","checkbox","id","csvFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","csvFormat",1,"form-check-label"],["type","checkbox","id","jsonFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","jsonFormat",1,"form-check-label"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-unstyled"],[1,"fas","fa-plus-circle","text-primary"],[1,"fas","fa-futbol","text-primary"],[1,"fas","fa-users","text-primary"],[1,"fas","fa-share-alt","text-primary"],[1,"fas","fa-download","text-primary"],[1,"fas","fa-upload","text-primary"],["type","button","class","btn btn-info me-auto",3,"click",4,"ngIf"],["type","button","class","btn btn-warning me-auto",3,"click",4,"ngIf"],["type","button",1,"btn",3,"click","ngClass"],["class","p-3 bg-light border mt-2","style","max-height: 300px; overflow: auto; font-size: 0.95em;",4,"ngIf"],["type","button",1,"btn","btn-info","me-auto",3,"click"],["type","button",1,"btn","btn-warning","me-auto",3,"click"],[1,"p-3","bg-light","border","mt-2",2,"max-height","300px","overflow","auto","font-size","0.95em"],[1,"ranking-modal"],[1,"fas","fa-list-ol","me-2"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[1,"px-1"],[1,"px-1",3,"ngClass"],[1,"modal-overlay","edit-players-overlay"],[1,"edit-players-modal"],[1,"fas","fa-users-cog","me-2"],[1,"players-list","mb-4"],[1,"fas","fa-list","me-2"],["class","player-item mb-2",4,"ngFor","ngForOf"],[1,"add-player-section"],[1,"add-player-form"],[1,"input-group"],["placeholder","Nom du nouveau joueur...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"type-selector"],["class","fas fa-futbol type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],[1,"fas","fa-plus","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-save","me-2"],[1,"player-item","mb-2"],[1,"player-card"],[1,"player-info"],[1,"player-type-icon"],["placeholder","Nom du joueur",1,"form-control","player-name-input",3,"ngModelChange","ngModel"],["class","badge bg-primary ms-2 goals-badge",3,"click",4,"ngIf"],[1,"player-actions"],["class","btn btn-sm btn-outline-danger","title","Supprimer le joueur",3,"click",4,"ngIf"],["title","Changer le type (Attaquant)",1,"fas","fa-futbol","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield","type-icon","type-icon-clickable",3,"click"],[1,"badge","bg-primary","ms-2","goals-badge",3,"click"],["title","Supprimer le joueur",1,"btn","btn-sm","btn-outline-danger",3,"click"],["tabindex","-1",1,"modal","fade","show",2,"display","block","background","rgba(0,0,0,0.5)"],["type","button","aria-label","Fermer",1,"btn-close",3,"click"],["class","mb-2",4,"ngFor","ngForOf"],["class","small text-muted",4,"ngIf"],[1,"fas","fa-calendar-alt","me-1"],[1,"ms-2"],[1,"fas","fa-stopwatch"],[1,"small","text-muted"],[1,"form-label"],["placeholder","Nom de l'\xE9quipe",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"mb-2","fw-bold"],["class","d-flex align-items-center mb-2 gap-2",4,"ngFor","ngForOf"],[1,"btn","btn-link","p-0","mt-1",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"d-flex","align-items-center","mb-2","gap-2"],["placeholder","Nom du joueur",1,"form-control","form-control-sm",2,"min-width","150px","flex","1",3,"ngModelChange","ngModel","ngModelOptions"],[1,"form-select","form-select-sm",2,"max-width","120px",3,"ngModelChange","ngModel","ngModelOptions"],["value","attaquant"],["value","milieu"],["value","defenseur"],["class","btn btn-outline-danger btn-sm",3,"disabled","click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span",3),m(4,"BUUUT"),h(),f(5,"span",4),m(6,".be"),h()(),f(7,"div",5)(8,"p",6),m(9,"Immortalisez vos matchs!"),h(),f(10,"button",7),b("click",function(){return i.showHelpModal=!0}),E(11,"i",8),h()()(),f(12,"div",9),T(13,nB,4,1,"button",10)(14,iB,4,1,"button",10)(15,rB,4,2,"button",11)(16,oB,3,6,"button",12)(17,sB,3,8,"button",13)(18,uB,28,4,"div",14)(19,dB,1,7,"app-competition-filter-modal",15),h(),T(20,CB,61,16,"div",14)(21,r$,4,1,"div",16)(22,O$,44,17,"div",17)(23,z$,44,17,"div",18)(24,X$,14,11,"div",19)(25,Iq,101,53,"div",20)(26,Tq,25,4,"div",17)(27,Aq,50,6,"div",17)(28,Pq,40,2,"div",14),h(),E(29,"router-outlet"),T(30,Bq,36,6,"div",21)(31,zq,8,2,"div",22)(32,Kq,22,5,"div",22),f(33,"div",23)(34,"div",24)(35,"div",25)(36,"div",26)(37,"h5",27),m(38,"S\xE9lectionner une action"),h(),f(39,"button",28),b("click",function(){return i.cancelActionSelection()}),h()(),f(40,"div",29)(41,"p",30)(42,"strong"),m(43),h(),m(44),h(),f(45,"p",31),m(46,"Choisissez l'action \xE0 enregistrer :"),h(),f(47,"div",30)(48,"h6",32),m(49,"\u{1F7E6} Attaque"),h(),f(50,"div",33)(51,"div",34)(52,"button",35),b("click",function(){return i.executeSelectedAction("but")}),E(53,"i",36),m(54,"But "),h()(),f(55,"div",34)(56,"button",35),b("click",function(){return i.executeSelectedAction("frappe")}),E(57,"i",37),m(58,"Frappe "),h()(),f(59,"div",34)(60,"button",35),b("click",function(){return i.executeSelectedAction("dribble")}),E(61,"i",38),m(62,"Dribble "),h()()()(),f(63,"div",30)(64,"h6",32),m(65,"\u{1F7E8} Jeu"),h(),f(66,"div",33)(67,"div",34)(68,"button",35),b("click",function(){return i.executeSelectedAction("tiki-taka")}),E(69,"i",39),m(70,"Tiki-taka "),h()(),f(71,"div",34)(72,"button",35),b("click",function(){return i.executeSelectedAction("contre-attaque")}),E(73,"i",40),m(74,"Contre-attaque "),h()()()(),f(75,"div",30)(76,"h6",32),m(77,"\u{1F7E5} D\xE9fense"),h(),f(78,"div",33)(79,"div",34)(80,"button",35),b("click",function(){return i.executeSelectedAction("interception")}),E(81,"i",41),m(82,"Interception "),h()(),f(83,"div",34)(84,"button",35),b("click",function(){return i.executeSelectedAction("duel")}),E(85,"i",42),m(86,"Duel "),h()(),f(87,"div",34)(88,"button",35),b("click",function(){return i.executeSelectedAction("faute")}),E(89,"i",43),m(90,"Faute "),h()()()()(),f(91,"div",44)(92,"button",45),b("click",function(){return i.cancelActionSelection()}),m(93,"Annuler"),h()()()()()),t&2&&(d(13),_("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),d(),_("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),d(),_("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm),d(),_("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm&&i.selectedCompetitionFilter&&!i.selectedCompetitionFilter.includes("-")),d(),_("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm&&!i.selectedCompetitionFilter.includes("-")),d(),_("ngIf",i.showTeamFilterModal),d(),_("ngIf",i.showCompetitionFilterModal),d(),_("ngIf",i.showMatchForm),d(),_("ngIf",i.filteredMatches.length>0),d(),_("ngIf",i.selectedMatch&&i.showScoreForm),d(),_("ngIf",i.selectedMatch&&i.showMatchEditForm),d(),_("ngIf",i.showCelebration&&i.celebrationConfig),d(),_("ngIf",i.showDispositionModal&&i.selectedMatch),d(),_("ngIf",i.showExportModal),d(),_("ngIf",i.showHelpModal),d(),_("ngIf",i.showRankingModal),d(2),_("ngIf",i.showEditPlayersModal&&i.teamToEdit&&i.teamToEdit.players),d(),_("ngIf",i.selectedPlayerGoalsModal),d(),_("ngIf",i.showNewTeamModal),d(),on("display",i.showActionSelectionModal?"block":"none"),Te("show",i.showActionSelectionModal),d(10),te(i.pendingActionPlayer),d(),O(" - ",i.pendingActionTeam===1?i.selectedMatch==null?null:i.selectedMatch.equipe1:i.selectedMatch==null?null:i.selectedMatch.equipe2," "))},dependencies:[Er,sE,Lo,jo,aE,Du,hI,oI,Wu,Ku,Go,Qm,Gm,Ho,Ym,zu,ZE,ng,tg,eg,Jm,Zm,Qu,pa,oT,Vg,aT],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:scale(1.1)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:.5rem;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #4b29b967}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{position:fixed;top:10px;left:0;width:100%;height:calc(100% - 10px);display:flex;justify-content:center;align-items:flex-start;z-index:1070;padding:0;overflow-y:auto}.score-modal-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1000px;margin:1.75rem auto;background:#fff;border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026;padding:.2rem;outline:0;overflow-y:auto;animation:_ngcontent-%COMP%_fadeIn .3s}.modal-body[_ngcontent-%COMP%]{overflow-y:auto}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.match-duels[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.5rem;margin-top:.5rem}.team-duels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.duels-column[_ngcontent-%COMP%]{flex:1;max-width:50%}.duels-column.left[_ngcontent-%COMP%]{text-align:left}.duels-column.right[_ngcontent-%COMP%]{text-align:right}.duel-equipe[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.duel-equipe[_ngcontent-%COMP%]   .minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4b29b900}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.team-scorers[_ngcontent-%COMP%]{gap:.5rem}.scorers-column[_ngcontent-%COMP%]{padding:.1rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:solid #3498db;width:98%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.buteur-team1[_ngcontent-%COMP%]{color:#3498db}.buteur-team2[_ngcontent-%COMP%]{color:#27ae60}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:98%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.5rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:.1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%], .duel-equipe[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#191137e6,#40327bcc);padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-controls[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.encoding-controls[_ngcontent-%COMP%]{margin-top:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;font-size:.8rem;padding:.375rem .75rem}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:8px;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:.5rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:1000px;width:98%;overflow-y:auto}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}.share-icon[_ngcontent-%COMP%]{color:#3498db;font-size:1.2em;margin-right:.5rem;transition:transform .3s ease;display:inline-block;transform:scaleX(-1)}.share-icon[_ngcontent-%COMP%]:hover{transform:scaleX(-1) scale(1.2);color:#2980b9}.badge-pastel-primary[_ngcontent-%COMP%]{background-color:#b3d1ff;color:#2c3e50}.badge-pastel-secondary[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#2c3e50}.badge-pastel-success[_ngcontent-%COMP%]{background-color:#b3ffb3;color:#2c3e50}.badge-pastel-danger[_ngcontent-%COMP%]{background-color:#ffb3b3;color:#2c3e50}.badge-pastel-warning[_ngcontent-%COMP%]{background-color:#ffe6b3;color:#2c3e50}.badge-pastel-info[_ngcontent-%COMP%]{background-color:#b3e6ff;color:#2c3e50}.badge-pastel-dark[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#2c3e50}.badge-pastel-purple[_ngcontent-%COMP%]{background-color:#e6b3ff;color:#2c3e50}.badge-pastel-pink[_ngcontent-%COMP%]{background-color:#ffb3e6;color:#2c3e50}.badge-pastel-teal[_ngcontent-%COMP%]{background-color:#b3ffe6;color:#2c3e50}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{font-size:1.3em;margin:0 .2em;cursor:pointer;color:#bbb;transition:color .2s,background .2s,border .2s;border-radius:50%;padding:.2em .3em}.type-icons[_ngcontent-%COMP%]   .type-icon.active-type[_ngcontent-%COMP%]{color:#fff;background:#3498db;border:2px solid #3498db}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]:hover{color:#3498db;background:#eaf6ff}.type-icon.type-icon-clickable[_ngcontent-%COMP%]{font-size:1em;color:#fff;background:#3498db;border:2px solid #3498db;border-radius:25%;padding:.25em .35em;margin-right:.5em;box-shadow:0 2px 8px #3498db40;cursor:pointer;transition:transform .1s,box-shadow .2s,background .2s;outline:2px solid #fff;outline-offset:2px}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:hover{background:#217dbb;color:#fff;box-shadow:0 4px 16px #3498db59;transform:scale(1.12) rotate(-8deg)}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:active{background:#176093;transform:scale(.95) rotate(4deg);box-shadow:0 2px 8px #3498db26}.list-group.position-absolute[_ngcontent-%COMP%]{z-index:1050;background:#fff;border:1px solid #ddd;box-shadow:0 2px 8px #00000014;max-height:220px;overflow-y:auto}.disabled-goal[_ngcontent-%COMP%]{opacity:.5;background-color:#f8f9fa;border-color:#dee2e6!important}.disabled-goal[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-decoration:line-through;color:#6c757d!important}.disabled-goal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{opacity:.8}.disabled-scorer[_ngcontent-%COMP%]{opacity:.5;text-decoration:line-through;color:#6c757d!important}.disabled-scorer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through}.score-modal[_ngcontent-%COMP%], .match-edit-modal[_ngcontent-%COMP%], .disposition-modal[_ngcontent-%COMP%], .modal.fade.show[_ngcontent-%COMP%], .modal[style*="display:block"][_ngcontent-%COMP%]{background:#00000080!important}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1040;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.edit-players-overlay[_ngcontent-%COMP%]{z-index:1055!important}.team-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:600px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.match-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:800px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.ranking-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:1000px;width:95%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.team-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.team-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .match-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .ranking-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.team-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.team-item[_ngcontent-%COMP%]{transition:all .3s ease}.team-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.team-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.team-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0}.team-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.team-badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem;border-radius:20px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}@media (max-width: 768px){.team-modal[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.team-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;text-align:left;min-height:55px}.team-actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-end;gap:.5rem;flex-shrink:0}.team-info[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.team-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}@media (max-width: 480px){.team-card[_ngcontent-%COMP%]{flex-direction:row;text-align:left;min-height:50px;padding:.75rem}.team-actions[_ngcontent-%COMP%]{justify-content:flex-end;width:auto;gap:.4rem}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.team-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.team-modal[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.edit-players-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:700px;width:90%;max-height:90vh;overflow:hidden;z-index:1060;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.edit-players-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.edit-players-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.edit-players-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.edit-players-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.edit-players-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.players-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .add-player-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.player-item[_ngcontent-%COMP%]{transition:all .3s ease}.player-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.player-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.player-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0;gap:.75rem}.player-type-icon[_ngcontent-%COMP%]{flex-shrink:0}.player-name-input[_ngcontent-%COMP%]{flex:1;min-width:0;max-width:200px}.goals-badge[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer;transition:all .3s ease}.goals-badge[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.player-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.add-player-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:1.5rem;border-radius:10px;border:1px solid #dee2e6}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;min-width:0}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1;min-width:0;border:2px solid #e9ecef;border-radius:8px;padding:.75rem;transition:border-color .3s ease,box-shadow .3s ease;width:auto}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.type-selector[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;border-radius:8px;transition:all .3s ease;flex-shrink:0}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.action-selection-modal[_ngcontent-%COMP%]{z-index:9999!important}.action-selection-modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{z-index:10000!important}.action-selection-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{z-index:10001!important}@media (max-width: 768px){.edit-players-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.player-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;min-height:55px}.player-actions[_ngcontent-%COMP%]{gap:.5rem}.player-name-input[_ngcontent-%COMP%]{max-width:150px}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:200px}}@media (max-width: 480px){.player-card[_ngcontent-%COMP%]{min-height:50px;padding:.75rem}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.player-name-input[_ngcontent-%COMP%]{max-width:120px}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:100%}.type-selector[_ngcontent-%COMP%]{justify-content:center}}.btn-score-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 14px #10b98163;transition:all .3s ease}.btn-score-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-2px);box-shadow:0 6px 20px #10b98180}.btn-score-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 14px #ef444463;transition:all .3s ease}.btn-score-danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c);transform:translateY(-2px);box-shadow:0 6px 20px #ef444480}.btn-score-light[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border:2px solid #d1d5db;box-shadow:0 2px 8px #0000001a;transition:all .3s ease}.btn-score-light[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e5e7eb,#d1d5db);transform:translateY(-1px);box-shadow:0 4px 12px #00000026}']})}};var dS=(()=>{class n{constructor(t){this.http=t,this.apiUrl="http://localhost:3000/api/matches"}createMatch(t){return this.http.post(this.apiUrl,t)}getAllMatches(){return this.http.get(this.apiUrl)}getMatchById(t){return this.http.get(`${this.apiUrl}/${t}`)}updateMatch(t,i){return this.http.put(`${this.apiUrl}/${t}`,i)}deleteMatch(t){return this.http.delete(`${this.apiUrl}/${t}`)}static{this.\u0275fac=function(i){return new(i||n)(B(Rm))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Qq(n,e){if(n&1&&(f(0,"span"),m(1),h()),n&2){let t=g().$implicit;d(),O("(Assist: ",t.assist,")")}}function Yq(n,e){if(n&1&&(f(0,"div",5)(1,"p"),m(2),T(3,Qq,2,1,"span",6),h()()),n&2){let t=e.$implicit;d(2),an(" ",t.nom," (",t.minute,"') "),d(),_("ngIf",t.assist)}}function Jq(n,e){if(n&1&&(f(0,"div",1)(1,"h2"),m(2),h(),f(3,"div",2)(4,"p"),m(5),Oo(6,"date"),h(),f(7,"p"),m(8),h(),f(9,"p"),m(10),h()(),f(11,"div",3)(12,"h3"),m(13,"Buteurs"),h(),T(14,Yq,4,3,"div",4),h()()),n&2){let t=g();d(2),an("",t.match.equipe1," vs ",t.match.equipe2,""),d(3),O("Date: ",ea(6,7,t.match.heureDebut,"medium"),""),d(3),O("Lieu: ",t.match.lieu,""),d(2),an("Score: ",t.match.score1," - ",t.match.score2,""),d(4),_("ngForOf",t.match.buteurs)}}var hS=(()=>{class n{constructor(t,i){this.route=t,this.firestoreService=i,this.match=null}ngOnInit(){this.route.params.subscribe(t=>{let i=t.id;i&&this.loadMatch(i)})}loadMatch(t){return I(this,null,function*(){try{this.match=yield this.firestoreService.getMatchById(t)}catch(i){console.error("Erreur lors du chargement du match:",i)}})}static{this.\u0275fac=function(i){return new(i||n)(q(fi),q(Os))}}static{this.\u0275cmp=Mi({type:n,selectors:[["app-match-detail"]],standalone:!0,features:[Ni],decls:1,vars:1,consts:[["class","match-detail",4,"ngIf"],[1,"match-detail"],[1,"match-info"],[1,"buteurs"],["class","buteur",4,"ngFor","ngForOf"],[1,"buteur"],[4,"ngIf"]],template:function(i,r){i&1&&T(0,Jq,15,10,"div",0),i&2&&_("ngIf",r.match)},dependencies:[Er,Lo,jo,Du],styles:[".match-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.match-info[_ngcontent-%COMP%]{margin:20px 0}.buteurs[_ngcontent-%COMP%]{margin-top:20px}.buteur[_ngcontent-%COMP%]{margin:10px 0}"]})}}return n})();var fS=[{path:"match/:id",component:hS}];var pS={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var mS={providers:[eT(fS),Os,kp(NT(()=>OT(pS.firebaseConfig)),oS(()=>sS()))]};TE(ef,{providers:[...mS.providers,_E(),dS]}).catch(n=>console.error(n));
