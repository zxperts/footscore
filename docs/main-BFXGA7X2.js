var FT=Object.defineProperty,kT=Object.defineProperties;var VT=Object.getOwnPropertyDescriptors;var bv=Object.getOwnPropertySymbols;var LT=Object.prototype.hasOwnProperty,jT=Object.prototype.propertyIsEnumerable;var Tv=(e,t,n)=>t in e?FT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||={})LT.call(t,n)&&Tv(e,n,t[n]);if(bv)for(var n of bv(t))jT.call(t,n)&&Tv(e,n,t[n]);return e},se=(e,t)=>kT(e,VT(t));var C=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var Sv=null;var Bd=1,Ud=Symbol("SIGNAL");function le(e){let t=Sv;return Sv=e,t}var xv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function BT(e){if(!(Hd(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Bd)){if(!e.producerMustRecompute(e)&&!$d(e)){e.dirty=!1,e.lastCleanEpoch=Bd;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Bd}}function Av(e){return e&&(e.nextProducerIndex=0),le(e)}function Mv(e,t){if(le(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Hd(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)qd(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function $d(e){La(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(BT(n),r!==n.version))return!0}return!1}function Pv(e){if(La(e),Hd(e))for(let t=0;t<e.producerNode.length;t++)qd(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function qd(e,t){if(UT(e),La(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)qd(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];La(i),i.producerIndexOfThis[r]=t}}function Hd(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function La(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function UT(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function $T(){throw new Error}var qT=$T;function Rv(e){qT=e}function G(e){return typeof e=="function"}function gi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ja=gi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Uo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ue=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){t=o instanceof ja?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Nv(o)}catch(s){t=t??[],s instanceof ja?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ja(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Nv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Uo(n,t)}remove(t){let{_finalizers:n}=this;n&&Uo(n,t),t instanceof e&&t._removeParent(this)}};Ue.EMPTY=(()=>{let e=new Ue;return e.closed=!0,e})();var zd=Ue.EMPTY;function Ba(e){return e instanceof Ue||e&&"closed"in e&&G(e.remove)&&G(e.add)&&G(e.unsubscribe)}function Nv(e){G(e)?e():e.unsubscribe()}var $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yi={setTimeout(e,t,...n){let{delegate:r}=yi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=yi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ua(e){yi.setTimeout(()=>{let{onUnhandledError:t}=$t;if(t)t(e);else throw e})}function $o(){}var Ov=Gd("C",void 0,void 0);function Fv(e){return Gd("E",void 0,e)}function kv(e){return Gd("N",e,void 0)}function Gd(e,t,n){return{kind:e,value:t,error:n}}var Tr=null;function vi(e){if($t.useDeprecatedSynchronousErrorHandling){let t=!Tr;if(t&&(Tr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Tr;if(Tr=null,n)throw r}}else e()}function Vv(e){$t.useDeprecatedSynchronousErrorHandling&&Tr&&(Tr.errorThrown=!0,Tr.error=e)}var Sr=class extends Ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ba(t)&&t.add(this)):this.destination=GT}static create(t,n,r){return new _i(t,n,r)}next(t){this.isStopped?Kd(kv(t),this):this._next(t)}error(t){this.isStopped?Kd(Fv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Kd(Ov,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HT=Function.prototype.bind;function Wd(e,t){return HT.call(e,t)}var Qd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){$a(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){$a(r)}else $a(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){$a(n)}}},_i=class extends Sr{constructor(t,n,r){super();let i;if(G(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&$t.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Wd(t.next,o),error:t.error&&Wd(t.error,o),complete:t.complete&&Wd(t.complete,o)}):i=t}this.destination=new Qd(i)}};function $a(e){$t.useDeprecatedSynchronousErrorHandling?Vv(e):Ua(e)}function zT(e){throw e}function Kd(e,t){let{onStoppedNotification:n}=$t;n&&yi.setTimeout(()=>n(e,t))}var GT={closed:!0,next:$o,error:zT,complete:$o};var wi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bt(e){return e}function Yd(...e){return Zd(e)}function Zd(e){return e.length===0?bt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var ae=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=KT(n)?n:new _i(n,r,i);return vi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Lv(r),new r((i,o)=>{let s=new _i({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[wi](){return this}pipe(...n){return Zd(n)(this)}toPromise(n){return n=Lv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Lv(e){var t;return(t=e??$t.Promise)!==null&&t!==void 0?t:Promise}function WT(e){return e&&G(e.next)&&G(e.error)&&G(e.complete)}function KT(e){return e&&e instanceof Sr||WT(e)&&Ba(e)}function Jd(e){return G(e?.lift)}function ie(e){return t=>{if(Jd(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(e,t,n,r,i){return new Xd(e,t,n,r,i)}var Xd=class extends Sr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Ei(){return ie((e,t)=>{let n=null;e._refCount++;let r=te(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Ii=class extends ae{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Jd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ue;let n=this.getSubject();t.add(this.source.subscribe(te(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ue.EMPTY)}return t}refCount(){return Ei()(this)}};var jv=gi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ht=(()=>{class e extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new qa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jv}next(n){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zd:(this.currentObservers=null,o.push(n),new Ue(()=>{this.currentObservers=null,Uo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return e.create=(t,n)=>new qa(t,n),e})(),qa=class extends ht{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:zd}};var Ye=class extends ht{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Tt=new ae(e=>e.complete());function Bv(e){return e&&G(e.schedule)}function Uv(e){return e[e.length-1]}function Ha(e){return G(Uv(e))?e.pop():void 0}function Zn(e){return Bv(Uv(e))?e.pop():void 0}function qv(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function $v(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xr(e){return this instanceof xr?(this.v=e,this):new xr(e)}function Hv(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(_){return Promise.resolve(_).then(f,d)}}function a(f,_){r[f]&&(i[f]=function(v){return new Promise(function(w,M){o.push([f,v,w,M])>1||c(f,v)})},_&&(i[f]=_(i[f])))}function c(f,_){try{u(r[f](_))}catch(v){h(o[0][3],v)}}function u(f){f.value instanceof xr?Promise.resolve(f.value.v).then(l,d):h(o[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,_){f(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function zv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof $v=="function"?$v(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var za=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ga(e){return G(e?.then)}function Wa(e){return G(e[wi])}function Ka(e){return Symbol.asyncIterator&&G(e?.[Symbol.asyncIterator])}function Qa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ya=QT();function Za(e){return G(e?.[Ya])}function Ja(e){return Hv(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield xr(n.read());if(i)return yield xr(void 0);yield yield xr(r)}}finally{n.releaseLock()}})}function Xa(e){return G(e?.getReader)}function ke(e){if(e instanceof ae)return e;if(e!=null){if(Wa(e))return YT(e);if(za(e))return ZT(e);if(Ga(e))return JT(e);if(Ka(e))return Gv(e);if(Za(e))return XT(e);if(Xa(e))return eS(e)}throw Qa(e)}function YT(e){return new ae(t=>{let n=e[wi]();if(G(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZT(e){return new ae(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function JT(e){return new ae(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ua)})}function XT(e){return new ae(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Gv(e){return new ae(t=>{tS(e,t).catch(n=>t.error(n))})}function eS(e){return Gv(Ja(e))}function tS(e,t){var n,r,i,o;return qv(this,void 0,void 0,function*(){try{for(n=zv(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function vt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ec(e,t=0){return ie((n,r)=>{n.subscribe(te(r,i=>vt(r,e,()=>r.next(i),t),()=>vt(r,e,()=>r.complete(),t),i=>vt(r,e,()=>r.error(i),t)))})}function tc(e,t=0){return ie((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Wv(e,t){return ke(e).pipe(tc(t),ec(t))}function Kv(e,t){return ke(e).pipe(tc(t),ec(t))}function Qv(e,t){return new ae(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Yv(e,t){return new ae(n=>{let r;return vt(n,t,()=>{r=e[Ya](),vt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function nc(e,t){if(!e)throw new Error("Iterable cannot be null");return new ae(n=>{vt(n,t,()=>{let r=e[Symbol.asyncIterator]();vt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Zv(e,t){return nc(Ja(e),t)}function Jv(e,t){if(e!=null){if(Wa(e))return Wv(e,t);if(za(e))return Qv(e,t);if(Ga(e))return Kv(e,t);if(Ka(e))return nc(e,t);if(Za(e))return Yv(e,t);if(Xa(e))return Zv(e,t)}throw Qa(e)}function be(e,t){return t?Jv(e,t):ke(e)}function U(...e){let t=Zn(e);return be(e,t)}function Di(e,t){let n=G(e)?e:()=>e,r=i=>i.error(n());return new ae(t?i=>t.schedule(r,0,i):r)}function eh(e){return!!e&&(e instanceof ae||G(e.lift)&&G(e.subscribe))}var Mn=gi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Q(e,t){return ie((n,r)=>{let i=0;n.subscribe(te(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:nS}=Array;function rS(e,t){return nS(t)?e(...t):e(t)}function rc(e){return Q(t=>rS(e,t))}var{isArray:iS}=Array,{getPrototypeOf:oS,prototype:sS,keys:aS}=Object;function ic(e){if(e.length===1){let t=e[0];if(iS(t))return{args:t,keys:null};if(cS(t)){let n=aS(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function cS(e){return e&&typeof e=="object"&&oS(e)===sS}function oc(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function qo(...e){let t=Zn(e),n=Ha(e),{args:r,keys:i}=ic(e);if(r.length===0)return be([],t);let o=new ae(uS(r,t,i?s=>oc(i,s):bt));return n?o.pipe(rc(n)):o}function uS(e,t,n=bt){return r=>{Xv(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Xv(t,()=>{let u=be(e[c],t),l=!1;u.subscribe(te(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Xv(e,t,n){e?vt(n,e,t):t()}function e_(e,t,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&t.complete()},f=v=>u<r?_(v):c.push(v),_=v=>{o&&t.next(v),u++;let w=!1;ke(n(v,l++)).subscribe(te(t,M=>{i?.(M),o?f(M):t.next(M)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<r;){let M=c.shift();s?vt(t,s,()=>_(M)):_(M)}h()}catch(M){t.error(M)}}))};return e.subscribe(te(t,f,()=>{d=!0,h()})),()=>{a?.()}}function Ve(e,t,n=1/0){return G(t)?Ve((r,i)=>Q((o,s)=>t(r,o,i,s))(ke(e(r,i))),n):(typeof t=="number"&&(n=t),ie((r,i)=>e_(r,i,e,n)))}function Ci(e=1/0){return Ve(bt,e)}function t_(){return Ci(1)}function bi(...e){return t_()(be(e,Zn(e)))}function sc(e){return new ae(t=>{ke(e()).subscribe(t)})}function th(...e){let t=Ha(e),{args:n,keys:r}=ic(e),i=new ae(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;ke(n[l]).subscribe(te(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?oc(r,a):a),o.complete())}))}});return t?i.pipe(rc(t)):i}function _t(e,t){return ie((n,r)=>{let i=0;n.subscribe(te(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Jn(e){return ie((t,n)=>{let r=null,i=!1,o;r=t.subscribe(te(n,void 0,void 0,s=>{o=ke(e(s,Jn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function n_(e,t,n,r,i){return(o,s)=>{let a=n,c=t,u=0;o.subscribe(te(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Pn(e,t){return G(t)?Ve(e,t,1):Ve(e,1)}function Xn(e){return ie((t,n)=>{let r=!1;t.subscribe(te(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Rn(e){return e<=0?()=>Tt:ie((t,n)=>{let r=0;t.subscribe(te(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function nh(e){return Q(()=>e)}function ac(e=lS){return ie((t,n)=>{let r=!1;t.subscribe(te(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function lS(){return new Mn}function Ar(e){return ie((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function rn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?_t((i,o)=>e(i,o,r)):bt,Rn(1),n?Xn(t):ac(()=>new Mn))}function Ti(e){return e<=0?()=>Tt:ie((t,n)=>{let r=[];t.subscribe(te(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function rh(e,t){let n=arguments.length>=2;return r=>r.pipe(e?_t((i,o)=>e(i,o,r)):bt,Ti(1),n?Xn(t):ac(()=>new Mn))}function ih(e,t){return ie(n_(e,t,arguments.length>=2,!0))}function oh(...e){let t=Zn(e);return ie((n,r)=>{(t?bi(e,n,t):bi(e,n)).subscribe(r)})}function wt(e,t){return ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(te(r,c=>{i?.unsubscribe();let u=0,l=o++;ke(e(c,l)).subscribe(i=te(r,d=>r.next(t?t(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sh(e){return ie((t,n)=>{ke(e).subscribe(te(n,()=>n.complete(),$o)),!n.closed&&t.subscribe(n)})}function qe(e,t,n){let r=G(e)||t||n?{next:e,error:t,complete:n}:e;return r?ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(te(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):bt}var dS="https://g.co/ng/security#xss",k=class extends Error{constructor(t,n){super(Vc(t,n)),this.code=t}};function Vc(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function ns(e){return{toString:e}.toString()}var cc="__parameters__";function hS(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function B_(e,t,n){return ns(()=>{let r=hS(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(cc)?c[cc]:Object.defineProperty(c,cc,{value:[]})[cc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Nn=globalThis;function we(e){for(let t in e)if(e[t]===we)return t;throw Error("Could not find renamed property on target object.")}function fS(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function pt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(pt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function r_(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var pS=we({__forward_ref__:we});function It(e){return e.__forward_ref__=It,e.toString=function(){return pt(this())},e}function ft(e){return U_(e)?e():e}function U_(e){return typeof e=="function"&&e.hasOwnProperty(pS)&&e.__forward_ref__===It}function O(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function hn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Lc(e){return i_(e,q_)||i_(e,H_)}function $_(e){return Lc(e)!==null}function i_(e,t){return e.hasOwnProperty(t)?e[t]:null}function mS(e){let t=e&&(e[q_]||e[H_]);return t||null}function o_(e){return e&&(e.hasOwnProperty(s_)||e.hasOwnProperty(gS))?e[s_]:null}var q_=we({\u0275prov:we}),s_=we({\u0275inj:we}),H_=we({ngInjectableDef:we}),gS=we({ngInjectorDef:we}),V=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=O({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function z_(e){return e&&!!e.\u0275providers}var yS=we({\u0275cmp:we}),vS=we({\u0275dir:we}),_S=we({\u0275pipe:we}),wS=we({\u0275mod:we}),gc=we({\u0275fac:we}),Ho=we({__NG_ELEMENT_ID__:we}),a_=we({__NG_ENV_ID__:we});function zo(e){return typeof e=="string"?e:e==null?"":String(e)}function ES(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():zo(e)}function IS(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new k(-200,e)}function df(e,t){throw new k(-201,!1)}var ee=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ee||{}),Dh;function G_(){return Dh}function Et(e){let t=Dh;return Dh=e,t}function W_(e,t,n){let r=Lc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(t!==void 0)return t;df(e,"Injector")}var DS={},Go=DS,Ch="__NG_DI_FLAG__",yc="ngTempTokenPath",CS="ngTokenPath",bS=/\n/gm,TS="\u0275",c_="__source",Pi;function SS(){return Pi}function er(e){let t=Pi;return Pi=e,t}function xS(e,t=ee.Default){if(Pi===void 0)throw new k(-203,!1);return Pi===null?W_(e,void 0,t):Pi.get(e,t&ee.Optional?null:void 0,t)}function L(e,t=ee.Default){return(G_()||xS)(ft(e),t)}function b(e,t=ee.Default){return L(e,jc(t))}function jc(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function bh(e){let t=[];for(let n=0;n<e.length;n++){let r=ft(e[n]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,o=ee.Default;for(let s=0;s<r.length;s++){let a=r[s],c=AS(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(L(i,o))}else t.push(L(r))}return t}function K_(e,t){return e[Ch]=t,e.prototype[Ch]=t,e}function AS(e){return e[Ch]}function MS(e,t,n,r){let i=e[yc];throw t[c_]&&i.unshift(t[c_]),e.message=PS(`
`+e.message,i,n,r),e[CS]=i,e[yc]=null,e}function PS(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==TS?e.slice(2):e;let i=pt(t);if(Array.isArray(t))i=t.map(pt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):pt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(bS,`
  `)}`}var Bc=K_(B_("Optional"),8);var hf=K_(B_("SkipSelf"),4);function Nr(e,t){let n=e.hasOwnProperty(gc);return n?e[gc]:null}function ff(e,t){e.forEach(n=>Array.isArray(n)?ff(n,t):t(n))}function Q_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function vc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function RS(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function NS(e,t,n){let r=rs(e,t);return r>=0?e[r|1]=n:(r=~r,RS(e,r,t,n)),r}function ah(e,t){let n=rs(e,t);if(n>=0)return e[n|1]}function rs(e,t){return OS(e,t,1)}function OS(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Ni={},Rt=[],Oi=new V(""),Y_=new V("",-1),Z_=new V(""),_c=class{get(t,n=Go){if(n===Go){let r=new Error(`NullInjectorError: No provider for ${pt(t)}!`);throw r.name="NullInjectorError",r}return n}},J_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(J_||{}),an=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(an||{}),Je=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Je||{});function FS(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Th(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];VS(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function kS(e){return e===3||e===4||e===6}function VS(e){return e.charCodeAt(0)===64}function Wo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?u_(e,n,i,null,t[++r]):u_(e,n,i,null,null))}}return e}function u_(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var X_="ng-template";function LS(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&FS(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(pf(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function pf(e){return e.type===4&&e.value!==X_}function jS(e,t,n){let r=e.type===4&&!n?X_:e.value;return t===r}function BS(e,t,n){let r=4,i=e.attrs,o=i!==null?qS(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!qt(r)&&!qt(c))return!1;if(s&&qt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!jS(e,c,n)||c===""&&t.length===1){if(qt(r))return!1;s=!0}}else if(r&8){if(i===null||!LS(e,i,c,n)){if(qt(r))return!1;s=!0}}else{let u=t[++a],l=US(c,i,pf(e),n);if(l===-1){if(qt(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(qt(r))return!1;s=!0}}}}return qt(r)||s}function qt(e){return(e&1)===0}function US(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return HS(t,e)}function $S(e,t,n=!1){for(let r=0;r<t.length;r++)if(BS(e,t[r],n))return!0;return!1}function qS(e){for(let t=0;t<e.length;t++){let n=e[t];if(kS(n))return t}return e.length}function HS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function l_(e,t){return e?":not("+t.trim()+")":t}function zS(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!qt(s)&&(t+=l_(o,i),i=""),r=s,o=o||!qt(r);n++}return i!==""&&(t+=l_(o,i)),t}function GS(e){return e.map(zS).join(",")}function WS(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!qt(i))break;i=o}r++}return{attrs:t,classes:n}}function Uc(e){return ns(()=>{let t=o0(e),n=se(S({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===J_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||an.Emulated,styles:e.styles||Rt,_:null,schemas:e.schemas||null,tView:null,id:""});s0(n);let r=e.dependencies;return n.directiveDefs=h_(r,!1),n.pipeDefs=h_(r,!0),n.id=YS(n),n})}function KS(e){return nr(e)||t0(e)}function QS(e){return e!==null}function fn(e){return ns(()=>({type:e.type,bootstrap:e.bootstrap||Rt,declarations:e.declarations||Rt,imports:e.imports||Rt,exports:e.exports||Rt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function d_(e,t){if(e==null)return Ni;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Je.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Je.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Ie(e){return ns(()=>{let t=o0(e);return s0(t),t})}function e0(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function nr(e){return e[yS]||null}function t0(e){return e[vS]||null}function n0(e){return e[_S]||null}function r0(e){let t=nr(e)||t0(e)||n0(e);return t!==null?t.standalone:!1}function i0(e,t){let n=e[wS]||null;if(!n&&t===!0)throw new Error(`Type ${pt(e)} does not have '\u0275mod' property.`);return n}function o0(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ni,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Rt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:d_(e.inputs,t),outputs:d_(e.outputs),debugInfo:null}}function s0(e){e.features?.forEach(t=>t(e))}function h_(e,t){if(!e)return null;let n=t?n0:KS;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(QS)}function YS(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function is(e){return{\u0275providers:e}}function ZS(...e){return{\u0275providers:a0(!0,e),\u0275fromNgModule:!0}}function a0(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return ff(t,s=>{let a=s;Sh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&c0(i,o),n}function c0(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];mf(i,o=>{t(o,r)})}}function Sh(e,t,n,r){if(e=ft(e),!e)return!1;let i=null,o=o_(e),s=!o&&nr(e);if(!o&&!s){let c=e.ngModule;if(o=o_(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Sh(u,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{ff(o.imports,l=>{Sh(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&c0(u,t)}if(!a){let u=Nr(i)||(()=>new i);t({provide:i,useFactory:u,deps:Rt},i),t({provide:Z_,useValue:i,multi:!0},i),t({provide:Oi,useValue:()=>L(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=e;mf(c,l=>{t(l,u)})}}else return!1;return i!==e&&e.providers!==void 0}function mf(e,t){for(let n of e)z_(n)&&(n=n.\u0275providers),Array.isArray(n)?mf(n,t):t(n)}var JS=we({provide:String,useValue:we});function u0(e){return e!==null&&typeof e=="object"&&JS in e}function XS(e){return!!(e&&e.useExisting)}function ex(e){return!!(e&&e.useFactory)}function Fi(e){return typeof e=="function"}function tx(e){return!!e.useClass}var $c=new V(""),dc={},nx={},ch;function gf(){return ch===void 0&&(ch=new _c),ch}var it=class{},Ko=class extends it{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ah(t,s=>this.processProvider(s)),this.records.set(Y_,Si(void 0,this)),i.has("environment")&&this.records.set(it,Si(void 0,this));let o=this.records.get($c);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Z_,Rt,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=er(this),r=Et(void 0),i;try{return t()}finally{er(n),Et(r)}}get(t,n=Go,r=ee.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(a_))return t[a_](this);r=jc(r);let i,o=er(this),s=Et(void 0);try{if(!(r&ee.SkipSelf)){let c=this.records.get(t);if(c===void 0){let u=ax(t)&&Lc(t);u&&this.injectableDefInScope(u)?c=Si(xh(t),dc):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&ee.Self?gf():this.parent;return n=r&ee.Optional&&n===Go?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[yc]=a[yc]||[]).unshift(pt(t)),o)throw a;return MS(a,t,"R3InjectorError",this.source)}else throw a}finally{Et(s),er(o)}}resolveInjectorInitializers(){let t=le(null),n=er(this),r=Et(void 0),i;try{let o=this.get(Oi,Rt,ee.Self);for(let s of o)s()}finally{er(n),Et(r),le(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(pt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(t){t=ft(t);let n=Fi(t)?t:ft(t&&t.provide),r=ix(t);if(!Fi(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Si(void 0,dc,!0),i.factory=()=>bh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=le(null);try{return n.value===dc&&(n.value=nx,n.value=n.factory()),typeof n.value=="object"&&n.value&&sx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{le(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ft(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function xh(e){let t=Lc(e),n=t!==null?t.factory:Nr(e);if(n!==null)return n;if(e instanceof V)throw new k(204,!1);if(e instanceof Function)return rx(e);throw new k(204,!1)}function rx(e){if(e.length>0)throw new k(204,!1);let n=mS(e);return n!==null?()=>n.factory(e):()=>new e}function ix(e){if(u0(e))return Si(void 0,e.useValue);{let t=l0(e);return Si(t,dc)}}function l0(e,t,n){let r;if(Fi(e)){let i=ft(e);return Nr(i)||xh(i)}else if(u0(e))r=()=>ft(e.useValue);else if(ex(e))r=()=>e.useFactory(...bh(e.deps||[]));else if(XS(e))r=()=>L(ft(e.useExisting));else{let i=ft(e&&(e.useClass||e.provide));if(ox(e))r=()=>new i(...bh(e.deps));else return Nr(i)||xh(i)}return r}function Si(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ox(e){return!!e.deps}function sx(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function ax(e){return typeof e=="function"||typeof e=="object"&&e instanceof V}function Ah(e,t){for(let n of e)Array.isArray(n)?Ah(n,t):n&&z_(n)?Ah(n.\u0275providers,t):t(n)}function Gt(e,t){e instanceof Ko&&e.assertNotDestroyed();let n,r=er(e),i=Et(void 0);try{return t()}finally{er(r),Et(i)}}function d0(){return G_()!==void 0||SS()!=null}function cx(e){if(!d0())throw new k(-203,!1)}function ux(e){return typeof e=="function"}var Fn=0,ne=1,H=2,ot=3,Ht=4,Wt=5,wc=6,Qo=7,zt=8,ki=9,cn=10,Oe=11,Yo=12,f_=13,$i=14,un=15,qc=16,xi=17,Vi=18,Hc=19,h0=20,tr=21,uh=22,Or=23,Ot=25,f0=1;var Fr=7,Ec=8,Ic=9,Nt=10,yf=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(yf||{});function Pr(e){return Array.isArray(e)&&typeof e[f0]=="object"}function kn(e){return Array.isArray(e)&&e[f0]===!0}function vf(e){return(e.flags&4)!==0}function zc(e){return e.componentOffset>-1}function Gc(e){return(e.flags&1)===1}function rr(e){return!!e.template}function lx(e){return(e[H]&512)!==0}var Mh=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function p0(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Vn(){return m0}function m0(e){return e.type.prototype.ngOnChanges&&(e.setInput=hx),dx}Vn.ngInherit=!0;function dx(){let e=y0(this),t=e?.current;if(t){let n=e.previous;if(n===Ni)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function hx(e,t,n,r,i){let o=this.declaredInputs[r],s=y0(e)||fx(e,{previous:Ni,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Mh(u&&u.currentValue,n,c===Ni),p0(e,t,i,n)}var g0="__ngSimpleChanges__";function y0(e){return e[g0]||null}function fx(e,t){return e[g0]=t}var p_=null;var on=function(e,t,n){p_?.(e,t,n)},px="svg",mx="math",gx=!1;function yx(){return gx}function ln(e){for(;Array.isArray(e);)e=e[Fn];return e}function v0(e,t){return ln(t[e])}function Ft(e,t){return ln(t[e.index])}function _0(e,t){return e.data[t]}function w0(e,t){return e[t]}function sr(e,t){let n=t[e];return Pr(n)?n:n[Fn]}function _f(e){return(e[H]&128)===128}function vx(e){return kn(e[ot])}function Li(e,t){return t==null?null:e[t]}function E0(e){e[xi]=0}function _x(e){e[H]&1024||(e[H]|=1024,_f(e)&&Zo(e))}function wx(e,t){for(;e>0;)t=t[$i],e--;return t}function wf(e){return!!(e[H]&9216||e[Or]?.dirty)}function Ph(e){e[cn].changeDetectionScheduler?.notify(1),wf(e)?Zo(e):e[H]&64&&(yx()?(e[H]|=1024,Zo(e)):e[cn].changeDetectionScheduler?.notify())}function Zo(e){e[cn].changeDetectionScheduler?.notify();let t=Jo(e);for(;t!==null&&!(t[H]&8192||(t[H]|=8192,!_f(t)));)t=Jo(t)}function I0(e,t){if((e[H]&256)===256)throw new k(911,!1);e[tr]===null&&(e[tr]=[]),e[tr].push(t)}function Ex(e,t){if(e[tr]===null)return;let n=e[tr].indexOf(t);n!==-1&&e[tr].splice(n,1)}function Jo(e){let t=e[ot];return kn(t)?t[ot]:t}var X={lFrame:P0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ix(){return X.lFrame.elementDepthCount}function Dx(){X.lFrame.elementDepthCount++}function Cx(){X.lFrame.elementDepthCount--}function D0(){return X.bindingsEnabled}function bx(){return X.skipHydrationRootTNode!==null}function Tx(e){return X.skipHydrationRootTNode===e}function Sx(){X.skipHydrationRootTNode=null}function pe(){return X.lFrame.lView}function Xe(){return X.lFrame.tView}function R(e){return X.lFrame.contextLView=e,e[zt]}function N(e){return X.lFrame.contextLView=null,e}function Dt(){let e=C0();for(;e!==null&&e.type===64;)e=e.parent;return e}function C0(){return X.lFrame.currentTNode}function xx(){let e=X.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ur(e,t){let n=X.lFrame;n.currentTNode=e,n.isParent=t}function Ef(){return X.lFrame.isParent}function b0(){X.lFrame.isParent=!1}function Ax(){return X.lFrame.contextLView}function T0(){let e=X.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Mx(){return X.lFrame.bindingIndex}function Px(e){return X.lFrame.bindingIndex=e}function Wc(){return X.lFrame.bindingIndex++}function S0(e){let t=X.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Rx(){return X.lFrame.inI18n}function Nx(e,t){let n=X.lFrame;n.bindingIndex=n.bindingRootIndex=e,Rh(t)}function Ox(){return X.lFrame.currentDirectiveIndex}function Rh(e){X.lFrame.currentDirectiveIndex=e}function Fx(e){let t=X.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function x0(e){X.lFrame.currentQueryIndex=e}function kx(e){let t=e[ne];return t.type===2?t.declTNode:t.type===1?e[Wt]:null}function A0(e,t,n){if(n&ee.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=kx(o),i===null||(o=o[$i],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=X.lFrame=M0();return r.currentTNode=t,r.lView=e,!0}function If(e){let t=M0(),n=e[ne];X.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function M0(){let e=X.lFrame,t=e===null?null:e.child;return t===null?P0(e):t}function P0(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function R0(){let e=X.lFrame;return X.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var N0=R0;function Df(){let e=R0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Vx(e){return(X.lFrame.contextLView=wx(e,X.lFrame.contextLView))[zt]}function $r(){return X.lFrame.selectedIndex}function kr(e){X.lFrame.selectedIndex=e}function Kc(){let e=X.lFrame;return _0(e.tView,e.selectedIndex)}function Lx(){return X.lFrame.currentNamespace}var O0=!0;function Qc(){return O0}function Yc(e){O0=e}function jx(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=m0(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Zc(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function hc(e,t,n){F0(e,t,3,n)}function fc(e,t,n,r){(e[H]&3)===n&&F0(e,t,n,r)}function lh(e,t){let n=e[H];(n&3)===t&&(n&=16383,n+=1,e[H]=n)}function F0(e,t,n,r){let i=r!==void 0?e[xi]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[xi]+=65536),(a<o||o==-1)&&(Bx(e,n,t,c),e[xi]=(e[xi]&4294901760)+c+2),c++}function m_(e,t){on(4,e,t);let n=le(null);try{t.call(e)}finally{le(n),on(5,e,t)}}function Bx(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[H]>>14<e[xi]>>16&&(e[H]&3)===t&&(e[H]+=16384,m_(a,o)):m_(a,o)}var Ri=-1,Vr=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Ux(e){return e instanceof Vr}function $x(e){return(e.flags&8)!==0}function qx(e){return(e.flags&16)!==0}function k0(e){return e!==Ri}function Dc(e){return e&32767}function Hx(e){return e>>16}function Cc(e,t){let n=Hx(e),r=t;for(;n>0;)r=r[$i],n--;return r}var Nh=!0;function bc(e){let t=Nh;return Nh=e,t}var zx=256,V0=zx-1,L0=5,Gx=0,sn={};function Wx(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ho)&&(r=n[Ho]),r==null&&(r=n[Ho]=Gx++);let i=r&V0,o=1<<i;t.data[e+(i>>L0)]|=o}function Tc(e,t){let n=j0(e,t);if(n!==-1)return n;let r=t[ne];r.firstCreatePass&&(e.injectorIndex=t.length,dh(r.data,e),dh(t,null),dh(r.blueprint,null));let i=Cf(e,t),o=e.injectorIndex;if(k0(i)){let s=Dc(i),a=Cc(i,t),c=a[ne].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function dh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function j0(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Cf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=H0(i),r===null)return Ri;if(n++,i=i[$i],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ri}function Oh(e,t,n){Wx(e,t,n)}function B0(e,t,n){if(n&ee.Optional||e!==void 0)return e;df(t,"NodeInjector")}function U0(e,t,n,r){if(n&ee.Optional&&r===void 0&&(r=null),!(n&(ee.Self|ee.Host))){let i=e[ki],o=Et(void 0);try{return i?i.get(t,r,n&ee.Optional):W_(t,r,n&ee.Optional)}finally{Et(o)}}return B0(r,t,n)}function $0(e,t,n,r=ee.Default,i){if(e!==null){if(t[H]&2048&&!(r&ee.Self)){let s=Jx(e,t,n,r,sn);if(s!==sn)return s}let o=q0(e,t,n,r,sn);if(o!==sn)return o}return U0(t,n,r,i)}function q0(e,t,n,r,i){let o=Yx(n);if(typeof o=="function"){if(!A0(t,e,r))return r&ee.Host?B0(i,n,r):U0(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ee.Optional))df(n);else return s}finally{N0()}}else if(typeof o=="number"){let s=null,a=j0(e,t),c=Ri,u=r&ee.Host?t[un][Wt]:null;for((a===-1||r&ee.SkipSelf)&&(c=a===-1?Cf(e,t):t[a+8],c===Ri||!y_(r,!1)?a=-1:(s=t[ne],a=Dc(c),t=Cc(c,t)));a!==-1;){let l=t[ne];if(g_(o,a,l.data)){let d=Kx(a,t,n,s,r,u);if(d!==sn)return d}c=t[a+8],c!==Ri&&y_(r,t[ne].data[a+8]===u)&&g_(o,a,t)?(s=l,a=Dc(c),t=Cc(c,t)):a=-1}}return i}function Kx(e,t,n,r,i,o){let s=t[ne],a=s.data[e+8],c=r==null?zc(a)&&Nh:r!=s&&(a.type&3)!==0,u=i&ee.Host&&o===a,l=Qx(a,s,n,c,u);return l!==null?ji(t,s,l,a):sn}function Qx(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,u=e.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let _=s[f];if(f<c&&n===_||f>=c&&_.type===n)return f}if(i){let f=s[c];if(f&&rr(f)&&f.type===n)return c}return null}function ji(e,t,n,r){let i=e[n],o=t.data;if(Ux(i)){let s=i;s.resolving&&IS(ES(o[n]));let a=bc(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Et(s.injectImpl):null,l=A0(e,r,ee.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&jx(n,o[n],t)}finally{u!==null&&Et(u),bc(a),s.resolving=!1,N0()}}return i}function Yx(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ho)?e[Ho]:void 0;return typeof t=="number"?t>=0?t&V0:Zx:t}function g_(e,t,n){let r=1<<e;return!!(n[t+(e>>L0)]&r)}function y_(e,t){return!(e&ee.Self)&&!(e&ee.Host&&t)}var Rr=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return $0(this._tNode,this._lView,t,jc(r),n)}};function Zx(){return new Rr(Dt(),pe())}function Kt(e){return ns(()=>{let t=e.prototype.constructor,n=t[gc]||Fh(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[gc]||Fh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fh(e){return U_(e)?()=>{let t=Fh(ft(e));return t&&t()}:Nr(e)}function Jx(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[H]&2048&&!(s[H]&512);){let a=q0(o,s,n,r|ee.Self,sn);if(a!==sn)return a;let c=o.parent;if(!c){let u=s[h0];if(u){let l=u.get(n,sn,r);if(l!==sn)return l}c=H0(s),s=s[$i]}o=c}return i}function H0(e){let t=e[ne],n=t.type;return n===2?t.declTNode:n===1?e[Wt]:null}function v_(e,t=null,n=null,r){let i=z0(e,t,n,r);return i.resolveInjectorInitializers(),i}function z0(e,t=null,n=null,r,i=new Set){let o=[n||Rt,ZS(e)];return r=r||(typeof e=="object"?void 0:pt(e)),new Ko(o,t||gf(),r||null,i)}var pn=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Go}static{this.NULL=new _c}static create(n,r){if(Array.isArray(n))return v_({name:""},r,n,"");{let i=n.name??"";return v_({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=O({token:e,providedIn:"any",factory:()=>L(Y_)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var Xx="ngOriginalError";function hh(e){return e[Xx]}var dn=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&hh(t);for(;n&&hh(n);)n=hh(n);return n||null}},G0=new V("",{providedIn:"root",factory:()=>b(dn).handleError.bind(void 0)}),bf=(()=>{class e{static{this.__NG_ELEMENT_ID__=eA}static{this.__NG_ENV_ID__=n=>n}}return e})(),kh=class extends bf{constructor(t){super(),this._lView=t}onDestroy(t){return I0(this._lView,t),()=>Ex(this._lView,t)}};function eA(){return new kh(pe())}function tA(){return Jc(Dt(),pe())}function Jc(e,t){return new Qt(Ft(e,t))}var Qt=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=tA}}return e})();var Vh=class extends ht{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,d0()&&(this.destroyRef=b(bf,{optional:!0})??void 0)}emit(t){let n=le(null);try{super.next(t)}finally{le(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=fh(o),i&&(i=fh(i)),s&&(s=fh(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ue&&t.add(a),a}};function fh(e){return t=>{setTimeout(e,void 0,t)}}var Ze=Vh;function W0(e){return(e.flags&128)===128}var K0=new Map,nA=0;function rA(){return nA++}function iA(e){K0.set(e[Hc],e)}function oA(e){K0.delete(e[Hc])}var __="__ngContext__";function ir(e,t){Pr(t)?(e[__]=t[Hc],iA(t)):e[__]=t}function Q0(e){return Z0(e[Yo])}function Y0(e){return Z0(e[Ht])}function Z0(e){for(;e!==null&&!kn(e);)e=e[Ht];return e}var Lh;function J0(e){Lh=e}function sA(){if(Lh!==void 0)return Lh;if(typeof document<"u")return document;throw new k(210,!1)}var Tf=new V("",{providedIn:"root",factory:()=>aA}),aA="ng",Sf=new V(""),mn=new V("",{providedIn:"platform",factory:()=>"unknown"});var xf=new V("",{providedIn:"root",factory:()=>sA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cA="h",uA="b";var lA=()=>null;function Af(e,t,n=!1){return lA(e,t,n)}var X0=!1,dA=new V("",{providedIn:"root",factory:()=>X0});var jh=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dS})`}};function Mf(e){return e instanceof jh?e.changingThisBreaksApplicationSecurity:e}var hA=/^>|^->|<!--|-->|--!>|<!-$/g,fA=/(<|>)/g,pA="\u200B$1\u200B";function mA(e){return e.replace(hA,t=>t.replace(fA,pA))}function ew(e){return e instanceof Function?e():e}function gA(e){return(e??b(pn)).get(mn)==="browser"}var On=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(On||{}),yA;function Pf(e,t){return yA(e,t)}function Ai(e,t,n,r,i){if(r!=null){let o,s=!1;kn(r)?o=r:Pr(r)&&(s=!0,r=r[Fn]);let a=ln(r);e===0&&n!==null?i==null?ow(t,n,a):Sc(t,n,a,i||null,!0):e===1&&n!==null?Sc(t,n,a,i||null,!0):e===2?FA(t,a,s):e===3&&t.destroyNode(a),o!=null&&VA(t,e,o,n,i)}}function vA(e,t){return e.createText(t)}function _A(e,t,n){e.setValue(t,n)}function wA(e,t){return e.createComment(mA(t))}function tw(e,t,n){return e.createElement(t,n)}function EA(e,t){nw(e,t),t[Fn]=null,t[Wt]=null}function IA(e,t,n,r,i,o){r[Fn]=i,r[Wt]=t,eu(e,r,n,1,i,o)}function nw(e,t){t[cn].changeDetectionScheduler?.notify(1),eu(e,t,t[Oe],2,null,null)}function DA(e){let t=e[Yo];if(!t)return ph(e[ne],e);for(;t;){let n=null;if(Pr(t))n=t[Yo];else{let r=t[Nt];r&&(n=r)}if(!n){for(;t&&!t[Ht]&&t!==e;)Pr(t)&&ph(t[ne],t),t=t[ot];t===null&&(t=e),Pr(t)&&ph(t[ne],t),n=t&&t[Ht]}t=n}}function CA(e,t,n,r){let i=Nt+r,o=n.length;r>0&&(n[i-1][Ht]=t),r<o-Nt?(t[Ht]=n[i],Q_(n,Nt+r,t)):(n.push(t),t[Ht]=null),t[ot]=n;let s=t[qc];s!==null&&n!==s&&bA(s,t);let a=t[Vi];a!==null&&a.insertView(e),Ph(t),t[H]|=128}function bA(e,t){let n=e[Ic],i=t[ot][ot][un];t[un]!==i&&(e[H]|=yf.HasTransplantedViews),n===null?e[Ic]=[t]:n.push(t)}function rw(e,t){let n=e[Ic],r=n.indexOf(t);n.splice(r,1)}function Bh(e,t){if(e.length<=Nt)return;let n=Nt+t,r=e[n];if(r){let i=r[qc];i!==null&&i!==e&&rw(i,r),t>0&&(e[n-1][Ht]=r[Ht]);let o=vc(e,Nt+t);EA(r[ne],r);let s=o[Vi];s!==null&&s.detachView(o[ne]),r[ot]=null,r[Ht]=null,r[H]&=-129}return r}function iw(e,t){if(!(t[H]&256)){let n=t[Oe];n.destroyNode&&eu(e,t,n,3,null,null),DA(t)}}function ph(e,t){if(t[H]&256)return;let n=le(null);try{t[H]&=-129,t[H]|=256,t[Or]&&Pv(t[Or]),SA(e,t),TA(e,t),t[ne].type===1&&t[Oe].destroy();let r=t[qc];if(r!==null&&kn(t[ot])){r!==t[ot]&&rw(r,t);let i=t[Vi];i!==null&&i.detachView(e)}oA(t)}finally{le(n)}}function TA(e,t){let n=e.cleanup,r=t[Qo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[Qo]=null);let i=t[tr];if(i!==null){t[tr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function SA(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Vr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];on(4,a,c);try{c.call(a)}finally{on(5,a,c)}}else{on(4,i,o);try{o.call(i)}finally{on(5,i,o)}}}}}function xA(e,t,n){return AA(e,t.parent,n)}function AA(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[Fn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===an.None||o===an.Emulated)return null}return Ft(r,n)}}function Sc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function ow(e,t,n){e.appendChild(t,n)}function w_(e,t,n,r,i){r!==null?Sc(e,t,n,r,i):ow(e,t,n)}function MA(e,t,n,r){e.removeChild(t,n,r)}function Rf(e,t){return e.parentNode(t)}function PA(e,t){return e.nextSibling(t)}function RA(e,t,n){return OA(e,t,n)}function NA(e,t,n){return e.type&40?Ft(e,n):null}var OA=NA,E_;function Xc(e,t,n,r){let i=xA(e,r,t),o=t[Oe],s=r.parent||t[Wt],a=RA(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)w_(o,i,n[c],a,!1);else w_(o,i,n,a,!1);E_!==void 0&&E_(o,r,t,n,i)}function pc(e,t){if(t!==null){let n=t.type;if(n&3)return Ft(t,e);if(n&4)return Uh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return pc(e,r);{let i=e[t.index];return kn(i)?Uh(-1,i):ln(i)}}else{if(n&32)return Pf(t,e)()||ln(e[t.index]);{let r=sw(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Jo(e[un]);return pc(i,r)}else return pc(e,t.next)}}}return null}function sw(e,t){if(t!==null){let r=e[un][Wt],i=t.projection;return r.projection[i]}return null}function Uh(e,t){let n=Nt+e+1;if(n<t.length){let r=t[n],i=r[ne].firstChild;if(i!==null)return pc(r,i)}return t[Fr]}function FA(e,t,n){let r=Rf(e,t);r&&MA(e,r,t,n)}function Nf(e,t,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&t===0&&(a&&ir(ln(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Nf(e,t,n.child,r,i,o,!1),Ai(t,e,i,a,o);else if(c&32){let u=Pf(n,r),l;for(;l=u();)Ai(t,e,i,l,o);Ai(t,e,i,a,o)}else c&16?kA(e,t,r,n,i,o):Ai(t,e,i,a,o);n=s?n.projectionNext:n.next}}function eu(e,t,n,r,i,o){Nf(n,r,e.firstChild,t,i,o,!1)}function kA(e,t,n,r,i,o){let s=n[un],c=s[Wt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ai(t,e,i,l,o)}else{let u=c,l=s[ot];W0(r)&&(u.flags|=128),Nf(e,t,u,l,i,o,!0)}}function VA(e,t,n,r,i){let o=n[Fr],s=ln(n);o!==s&&Ai(t,e,r,o,i);for(let a=Nt;a<n.length;a++){let c=n[a];eu(c[ne],c,e,t,r,o)}}function LA(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:On.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=On.Important),e.setStyle(n,r,i,o))}}function jA(e,t,n){e.setAttribute(t,"style",n)}function aw(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function cw(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Th(e,t,r),i!==null&&aw(e,t,i),o!==null&&jA(e,t,o)}var Yt={};function g(e=1){uw(Xe(),pe(),$r()+e,!1)}function uw(e,t,n,r){if(!r)if((t[H]&3)===3){let o=e.preOrderCheckHooks;o!==null&&hc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&fc(t,o,0,n)}kr(n)}function j(e,t=ee.Default){let n=pe();if(n===null)return L(e,t);let r=Dt();return $0(r,n,ft(e),t)}function lw(){let e="invalid";throw new Error(e)}function dw(e,t,n,r,i,o){let s=le(null);try{let a=null;i&Je.SignalBased&&(a=t[r][Ud]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Je.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):p0(t,a,r,o)}finally{le(s)}}function BA(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)kr(~i);else{let o=i,s=n[++r],a=n[++r];Nx(s,o);let c=t[o];a(2,c)}}}finally{kr(-1)}}function tu(e,t,n,r,i,o,s,a,c,u,l){let d=t.blueprint.slice();return d[Fn]=i,d[H]=r|4|128|8|64,(u!==null||e&&e[H]&2048)&&(d[H]|=2048),E0(d),d[ot]=d[$i]=e,d[zt]=n,d[cn]=s||e&&e[cn],d[Oe]=a||e&&e[Oe],d[ki]=c||e&&e[ki]||null,d[Wt]=o,d[Hc]=rA(),d[wc]=l,d[h0]=u,d[un]=t.type==2?e[un]:d,d}function os(e,t,n,r,i){let o=e.data[t];if(o===null)o=UA(e,t,n,r,i),Rx()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=xx();o.injectorIndex=s===null?-1:s.injectorIndex}return Ur(o,!0),o}function UA(e,t,n,r,i){let o=C0(),s=Ef(),a=s?o:o&&o.parent,c=e.data[t]=GA(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function hw(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function fw(e,t,n,r,i){let o=$r(),s=r&2;try{kr(-1),s&&t.length>Ot&&uw(e,t,Ot,!1),on(s?2:0,i),n(r,i)}finally{kr(o),on(s?3:1,i)}}function Of(e,t,n){if(vf(t)){let r=le(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{le(r)}}}function Ff(e,t,n){D0()&&(JA(e,t,n,Ft(n,t)),(n.flags&64)===64&&gw(e,t,n))}function kf(e,t,n=Ft){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function pw(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Vf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Vf(e,t,n,r,i,o,s,a,c,u,l){let d=Ot+r,h=d+i,f=$A(d,h),_=typeof u=="function"?u():u;return f[ne]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:l}}function $A(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Yt);return n}function qA(e,t,n,r){let o=r.get(dA,X0)||n===an.ShadowDom,s=e.selectRootElement(t,o);return HA(s),s}function HA(e){zA(e)}var zA=()=>null;function GA(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return bx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function I_(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,c=Je.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}e===0?D_(r,n,u,a,c):D_(r,n,u,a)}return r}function D_(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function WA(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,f=h?h.inputs:null,_=h?h.outputs:null;c=I_(0,d.inputs,l,c,f),u=I_(1,d.outputs,l,u,_);let v=c!==null&&s!==null&&!pf(t)?uM(c,l,s):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}function KA(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Lf(e,t,n,r,i,o,s,a){let c=Ft(t,n),u=t.inputs,l;!a&&u!=null&&(l=u[r])?(Bf(e,n,l,r,i),zc(t)&&QA(n,t.index)):t.type&3?(r=KA(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(c,r,i)):t.type&12}function QA(e,t){let n=sr(t,e);n[H]&16||(n[H]|=64)}function jf(e,t,n,r){if(D0()){let i=r===null?null:{"":-1},o=eM(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&mw(e,t,n,s,i,a),i&&tM(n,r,i)}n.mergedAttrs=Wo(n.mergedAttrs,n.attrs)}function mw(e,t,n,r,i,o){for(let u=0;u<r.length;u++)Oh(Tc(n,t),e,r[u].type);rM(n,e.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=hw(e,t,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Wo(n.mergedAttrs,l.hostAttrs),iM(e,n,t,c,l),nM(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}WA(e,n,o)}function YA(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;ZA(s)!=a&&s.push(a),s.push(n,r,o)}}function ZA(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function JA(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;zc(n)&&oM(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Tc(n,t),ir(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let c=e.data[a],u=ji(t,e,a,n);if(ir(u,t),s!==null&&cM(t,a-i,u,c,n,s),rr(c)){let l=sr(n.index,t);l[zt]=ji(t,e,a,n)}}}function gw(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ox();try{kr(o);for(let a=r;a<i;a++){let c=e.data[a],u=t[a];Rh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&XA(c,u)}}finally{kr(-1),Rh(s)}}function XA(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function eM(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if($S(t,s.selectors,!1))if(r||(r=[]),rr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;$h(e,t,c)}else r.unshift(s),$h(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function $h(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function tM(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new k(-301,!1);r.push(t[i],o)}}}function nM(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;rr(t)&&(n[""]=e)}}function rM(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function iM(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Nr(i.type,!0)),s=new Vr(o,rr(i),j);e.blueprint[r]=s,n[r]=s,YA(e,t,r,hw(e,n,i.hostVars,Yt),i)}function oM(e,t,n){let r=Ft(t,e),i=pw(n),o=e[cn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=nu(e,tu(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function sM(e,t,n,r,i,o){let s=Ft(e,t);aM(t[Oe],s,o,e.value,n,r,i)}function aM(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?zo(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function cM(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];dw(r,n,c,u,l,d)}}function uM(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function yw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function vw(e,t){let n=e.contentQueries;if(n!==null){let r=le(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];x0(o),a.contentQueries(2,t[s],s)}}}finally{le(r)}}}function nu(e,t){return e[Yo]?e[f_][Ht]=t:e[Yo]=t,e[f_]=t,t}function qh(e,t,n){x0(0);let r=le(null);try{t(e,n)}finally{le(r)}}function lM(e){return e[Qo]||(e[Qo]=[])}function dM(e){return e.cleanup||(e.cleanup=[])}function _w(e,t){let n=e[ki],r=n?n.get(dn,null):null;r&&r.handleError(t)}function Bf(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=t[s],l=e.data[s];dw(l,u,r,a,c,i)}}function ww(e,t,n){let r=v0(t,e);_A(e[Oe],r,n)}function hM(e,t){let n=sr(t,e),r=n[ne];fM(r,n);let i=n[Fn];i!==null&&n[wc]===null&&(n[wc]=Af(i,n[ki])),Uf(r,n,n[zt])}function fM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Uf(e,t,n){If(t);try{let r=e.viewQuery;r!==null&&qh(1,r,n);let i=e.template;i!==null&&fw(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Vi]?.finishViewCreation(e),e.staticContentQueries&&vw(e,t),e.staticViewQueries&&qh(2,e.viewQuery,n);let o=e.components;o!==null&&pM(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[H]&=-5,Df()}}function pM(e,t){for(let n=0;n<t.length;n++)hM(e,t[n])}function mM(e,t,n,r){let i=le(null);try{let o=t.tView,a=e[H]&4096?4096:16,c=tu(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[qc]=u;let l=e[Vi];return l!==null&&(c[Vi]=l.createEmbeddedView(o)),Uf(o,c,n),c}finally{le(i)}}function C_(e,t){return!t||t.firstChild===null||W0(e)}function gM(e,t,n,r=!0){let i=t[ne];if(CA(i,t,e,n),r){let s=Uh(n,e),a=t[Oe],c=Rf(a,e[Fr]);c!==null&&IA(i,e[Wt],a,t,c,s)}let o=t[wc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xc(e,t,n,r,i=!1){for(;n!==null;){let o=t[n.index];o!==null&&r.push(ln(o)),kn(o)&&yM(o,r);let s=n.type;if(s&8)xc(e,t,n.child,r);else if(s&32){let a=Pf(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=sw(t,n);if(Array.isArray(a))r.push(...a);else{let c=Jo(t[un]);xc(c[ne],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function yM(e,t){for(let n=Nt;n<e.length;n++){let r=e[n],i=r[ne].firstChild;i!==null&&xc(r[ne],r,i,t)}e[Fr]!==e[Fn]&&t.push(e[Fr])}var Ew=[];function vM(e){return e[Or]??_M(e)}function _M(e){let t=Ew.pop()??Object.create(EM);return t.lView=e,t}function wM(e){e.lView[Or]!==e&&(e.lView=null,Ew.push(e))}var EM=se(S({},xv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Zo(e.lView)},consumerOnSignalRead(){this.lView[Or]=this}}),Iw=100;function Dw(e,t=!0,n=0){let r=e[cn],i=r.rendererFactory,o=!1;o||i.begin?.();try{IM(e,n)}catch(s){throw t&&_w(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function IM(e,t){Hh(e,t);let n=0;for(;wf(e);){if(n===Iw)throw new k(103,!1);n++,Hh(e,1)}}function DM(e,t,n,r){let i=t[H];if((i&256)===256)return;let o=!1;!o&&t[cn].inlineEffectRunner?.flush(),If(t);let s=null,a=null;!o&&CM(e)&&(a=vM(t),s=Av(a));try{E0(t),Px(e.bindingStartIndex),n!==null&&fw(e,t,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=e.preOrderCheckHooks;d!==null&&hc(t,d,null)}else{let d=e.preOrderHooks;d!==null&&fc(t,d,0,null),lh(t,0)}if(bM(t),Cw(t,0),e.contentQueries!==null&&vw(e,t),!o)if(c){let d=e.contentCheckHooks;d!==null&&hc(t,d)}else{let d=e.contentHooks;d!==null&&fc(t,d,1),lh(t,1)}BA(e,t);let u=e.components;u!==null&&Tw(t,u,0);let l=e.viewQuery;if(l!==null&&qh(2,l,r),!o)if(c){let d=e.viewCheckHooks;d!==null&&hc(t,d)}else{let d=e.viewHooks;d!==null&&fc(t,d,2),lh(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[uh]){for(let d of t[uh])d();t[uh]=null}o||(t[H]&=-73)}catch(c){throw Zo(t),c}finally{a!==null&&(Mv(a,s),wM(a)),Df()}}function CM(e){return e.type!==2}function Cw(e,t){for(let n=Q0(e);n!==null;n=Y0(n))for(let r=Nt;r<n.length;r++){let i=n[r];bw(i,t)}}function bM(e){for(let t=Q0(e);t!==null;t=Y0(t)){if(!(t[H]&yf.HasTransplantedViews))continue;let n=t[Ic];for(let r=0;r<n.length;r++){let i=n[r],o=i[ot];_x(i)}}}function TM(e,t,n){let r=sr(t,e);bw(r,n)}function bw(e,t){_f(e)&&Hh(e,t)}function Hh(e,t){let r=e[ne],i=e[H],o=e[Or],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&$d(o)),o&&(o.dirty=!1),e[H]&=-9217,s)DM(r,e,r.template,e[zt]);else if(i&8192){Cw(e,1);let a=r.components;a!==null&&Tw(e,a,1)}}function Tw(e,t,n){for(let r=0;r<t.length;r++)TM(e,t[r],n)}function $f(e){for(e[cn].changeDetectionScheduler?.notify();e;){e[H]|=64;let t=Jo(e);if(lx(e)&&!t)return e;e=t}return null}var Lr=class{get rootNodes(){let t=this._lView,n=t[ne];return xc(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zt]}set context(t){this._lView[zt]=t}get destroyed(){return(this._lView[H]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ot];if(kn(t)){let n=t[Ec],r=n?n.indexOf(this):-1;r>-1&&(Bh(t,r),vc(n,r))}this._attachedToViewContainer=!1}iw(this._lView[ne],this._lView)}onDestroy(t){I0(this._lView,t)}markForCheck(){$f(this._cdRefInjectingView||this._lView)}detach(){this._lView[H]&=-129}reattach(){Ph(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,Dw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,nw(this._lView[ne],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=t,Ph(this._lView)}},ru=(()=>{class e{static{this.__NG_ELEMENT_ID__=AM}}return e})(),SM=ru,xM=class extends SM{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=mM(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Lr(i)}};function AM(){return MM(Dt(),pe())}function MM(e,t){return e.type&4?new xM(t,e,Jc(e,t)):null}var wq=new RegExp(`^(\\d+)*(${uA}|${cA})*(.*)`);var PM=()=>null;function b_(e,t){return PM(e,t)}var Ac=class{},zh=class{},Mc=class{};function RM(e){let t=Error(`No component factory found for ${pt(e)}.`);return t[NM]=e,t}var NM="ngComponent";var Gh=class{resolveComponentFactory(t){throw RM(t)}},iu=(()=>{class e{static{this.NULL=new Gh}}return e})(),Xo=class{},gn=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>OM()}}return e})();function OM(){let e=pe(),t=Dt(),n=sr(t.index,e);return(Pr(n)?n:e)[Oe]}var FM=(()=>{class e{static{this.\u0275prov=O({token:e,providedIn:"root",factory:()=>null})}}return e})(),mh={};var T_=new Set;function ou(e){T_.has(e)||(T_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function S_(...e){}function kM(){let e=typeof Nn.requestAnimationFrame=="function",t=Nn[e?"requestAnimationFrame":"setTimeout"],n=Nn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var Se=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=kM().nativeRequestAnimationFrame,jM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new k(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,VM,S_,S_);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},VM={};function qf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function LM(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Nn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Wh(e),e.isCheckStableRunning=!0,qf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Wh(e))}function jM(e){let t=()=>{LM(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(BM(a))return n.invokeTask(i,o,s,a);try{return x_(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),A_(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return x_(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),A_(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,Wh(e),qf(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function Wh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function x_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function A_(e){e._nesting--,qf(e)}function BM(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var Mi=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Mi||{}),UM={destroy(){}};function su(e,t){!t&&cx(su);let n=t?.injector??b(pn);if(!gA(n))return UM;ou("NgAfterNextRender");let r=n.get(Hf),i=r.handler??=new Qh,o=t?.phase??Mi.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(bf).onDestroy(s),c=Gt(n,()=>new Kh(o,()=>{s(),e()}));return i.register(c),{destroy:s}}var Kh=class{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=b(Se),this.errorHandler=b(dn,{optional:!0}),b(Ac,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},Qh=class{constructor(){this.executingCallbacks=!1,this.buckets={[Mi.EarlyRead]:new Set,[Mi.Write]:new Set,[Mi.MixedReadWrite]:new Set,[Mi.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let n of t)n.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},Hf=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Pc(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=r_(i,a);else if(o==2){let c=a,u=t[++s];r=r_(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Rc=class extends iu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=nr(t);return new Bi(n,this.ngModule)}};function M_(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function $M(e){let t=e.toLowerCase();return t==="svg"?px:t==="math"?mx:null}var Yh=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=jc(r);let i=this.injector.get(t,mh,r);return i!==mh||n===mh?i:this.parentInjector.get(t,n,r)}},Bi=class extends Mc{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=M_(t.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return M_(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=GS(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=le(null);try{i=i||this.ngModule;let s=i instanceof it?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Yh(t,s):t,c=a.get(Xo,null);if(c===null)throw new k(407,!1);let u=a.get(FM,null),l=a.get(Hf,null),d=a.get(Ac,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=r?qA(f,r,this.componentDef.encapsulation,a):tw(f,_,$M(_)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let M=null;v!==null&&(M=Af(v,a,!0));let ue=Vf(0,null,null,1,0,null,null,null,null,null,null),$=tu(null,ue,null,w,null,null,h,f,a,null,M);If($);let _e,rt;try{let ve=this.componentDef,Ct,Yn=null;ve.findHostDirectiveDefs?(Ct=[],Yn=new Map,ve.findHostDirectiveDefs(ve,Ct,Yn),Ct.push(ve)):Ct=[ve];let jd=qM($,v),Va=HM(jd,v,ve,Ct,$,h,f);rt=_0(ue,Ot),v&&WM(f,ve,v,r),n!==void 0&&KM(rt,this.ngContentSelectors,n),_e=GM(Va,ve,Ct,Yn,$,[QM]),Uf(ue,$,null)}finally{Df()}return new Zh(this.componentType,_e,Jc(rt,$),$,rt)}finally{le(o)}}},Zh=class extends zh{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Lr(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;Bf(o[ne],o,i,t,n),this.previousInputValues.set(t,n);let s=sr(this._tNode.index,o);$f(s)}}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function qM(e,t){let n=e[ne],r=Ot;return e[r]=t,os(n,r,2,"#host",null)}function HM(e,t,n,r,i,o,s){let a=i[ne];zM(r,e,t,s);let c=null;t!==null&&(c=Af(t,i[ki]));let u=o.rendererFactory.createRenderer(t,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=tu(i,pw(n),null,l,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&$h(a,e,r.length-1),nu(i,d),i[e.index]=d}function zM(e,t,n,r){for(let i of e)t.mergedAttrs=Wo(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Pc(t,t.mergedAttrs,!0),n!==null&&cw(r,n,t))}function GM(e,t,n,r,i,o){let s=Dt(),a=i[ne],c=Ft(s,i);mw(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=ji(i,a,d,s);ir(h,i)}gw(a,i,s),c&&ir(c,i);let u=ji(i,a,s.directiveStart+s.componentOffset,s);if(e[zt]=i[zt]=u,o!==null)for(let l of o)l(u,t);return Of(a,s,i),u}function WM(e,t,n,r){if(r)Th(e,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=WS(t.selectors[0]);i&&Th(e,n,i),o&&o.length>0&&aw(e,n,o.join(" "))}}function KM(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function QM(){let e=Dt();Zc(pe()[ne],e)}var qi=(()=>{class e{static{this.__NG_ELEMENT_ID__=YM}}return e})();function YM(){let e=Dt();return JM(e,pe())}var ZM=qi,Sw=class extends ZM{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Cf(this._hostTNode,this._hostLView);if(k0(t)){let n=Cc(t,this._hostLView),r=Dc(t),i=n[ne].data[r+8];return new Rr(i,n)}else return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=P_(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Nt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=b_(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,C_(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!ux(t),a;if(s)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?t:new Bi(nr(t)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let v=(s?u:this.parentInjector).get(it,null);v&&(o=v)}let l=nr(c.componentType??{}),d=b_(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,o);return this.insertImpl(f.hostView,a,C_(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(vx(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[ot],u=new Sw(c,c[Wt],c[ot]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return gM(s,i,o,r),t.attachToViewContainerRef(),Q_(gh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=P_(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Bh(this._lContainer,n);r&&(vc(gh(this._lContainer),n),iw(r[ne],r))}detach(t){let n=this._adjustIndex(t,-1),r=Bh(this._lContainer,n);return r&&vc(gh(this._lContainer),n)!=null?new Lr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function P_(e){return e[Ec]}function gh(e){return e[Ec]||(e[Ec]=[])}function JM(e,t){let n,r=t[e.index];return kn(r)?n=r:(n=yw(r,t,null,e),t[e.index]=n,nu(t,n)),e1(n,t,e,r),new Sw(n,e,t)}function XM(e,t){let n=e[Oe],r=n.createComment(""),i=Ft(t,e),o=Rf(n,i);return Sc(n,o,r,PA(n,i),!1),r}var e1=r1,t1=()=>!1;function n1(e,t,n){return t1(e,t,n)}function r1(e,t,n,r){if(e[Fr])return;let i;n.type&8?i=ln(r):i=XM(t,n),e[Fr]=i}function i1(e){return typeof e=="function"&&e[Ud]!==void 0}function xw(e){return i1(e)&&typeof e.set=="function"}function o1(e){return Object.getPrototypeOf(e.prototype).constructor}function st(e){let t=o1(e.type),n=!0,r=[e];for(;t;){let i;if(rr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new k(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=uc(e.inputs),s.inputTransforms=uc(e.inputTransforms),s.declaredInputs=uc(e.declaredInputs),s.outputs=uc(e.outputs);let a=i.hostBindings;a&&l1(e,a);let c=i.viewQuery,u=i.contentQueries;if(c&&c1(e,c),u&&u1(e,u),s1(e,i),fS(e.outputs,i.outputs),rr(i)&&i.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===st&&(n=!1)}}t=Object.getPrototypeOf(t)}a1(r)}function s1(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function a1(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Wo(i.hostAttrs,n=Wo(n,i.hostAttrs))}}function uc(e){return e===Ni?{}:e===Rt?[]:e}function c1(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function u1(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function l1(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}var or=class{},es=class{};var Jh=class extends or{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rc(this);let i=i0(t);this._bootstrapComponents=ew(i.bootstrap),this._r3Injector=z0(t,n,[{provide:or,useValue:this},{provide:iu,useValue:this.componentFactoryResolver},...r],pt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Xh=class extends es{constructor(t){super(),this.moduleType=t}create(t){return new Jh(this.moduleType,t,[])}};var Nc=class extends or{constructor(t){super(),this.componentFactoryResolver=new Rc(this),this.instance=null;let n=new Ko([...t.providers,{provide:or,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],t.parent||gf(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function au(e,t,n=null){return new Nc({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Hi=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Aw(e){return h1(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function d1(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function h1(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Mw(e,t,n){return e[t]=n}function f1(e,t){return e[t]}function jr(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Pw(e,t,n,r){let i=jr(e,t,n);return jr(e,t+1,r)||i}function p1(e){return(e.flags&32)===32}function m1(e,t,n,r,i,o,s,a,c){let u=t.consts,l=os(t,e,4,s||null,Li(u,a));jf(t,n,l,Li(u,c)),Zc(t,l);let d=l.tView=Vf(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}function Y(e,t,n,r,i,o,s,a){let c=pe(),u=Xe(),l=e+Ot,d=u.firstCreatePass?m1(l,u,c,t,n,r,i,o,s):u.data[l];Ur(d,!1);let h=g1(u,c,d,e);Qc()&&Xc(u,c,h,d),ir(h,c);let f=yw(h,c,h,d);return c[l]=f,nu(c,f),n1(f,d,c),Gc(d)&&Ff(u,c,d),s!=null&&kf(c,d,a),Y}var g1=y1;function y1(e,t,n,r){return Yc(!0),t[Oe].createComment("")}function ar(e,t,n,r){let i=pe(),o=Wc();if(jr(i,o,t)){let s=Xe(),a=Kc();sM(a,i,e,t,n,r)}return ar}function Rw(e,t,n,r){return jr(e,Wc(),n)?t+zo(n)+r:Yt}function v1(e,t,n,r,i,o){let s=Mx(),a=Pw(e,s,n,i);return S0(2),a?t+zo(n)+r+zo(i)+o:Yt}function lc(e,t){return e<<17|t<<2}function Br(e){return e>>17&32767}function _1(e){return(e&2)==2}function w1(e,t){return e&131071|t<<17}function ef(e){return e|2}function Ui(e){return(e&131068)>>2}function yh(e,t){return e&-131069|t<<2}function E1(e){return(e&1)===1}function tf(e){return e|1}function I1(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Br(s),c=Ui(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||rs(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Br(e[a+1]);e[r+1]=lc(h,a),h!==0&&(e[h+1]=yh(e[h+1],r)),e[a+1]=w1(e[a+1],r)}else e[r+1]=lc(a,0),a!==0&&(e[a+1]=yh(e[a+1],r)),a=r;else e[r+1]=lc(c,0),a===0?a=r:e[c+1]=yh(e[c+1],r),c=r;u&&(e[r+1]=ef(e[r+1])),R_(e,l,r,!0),R_(e,l,r,!1),D1(t,l,e,r,o),s=lc(a,c),o?t.classBindings=s:t.styleBindings=s}function D1(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&rs(o,t)>=0&&(n[r+1]=tf(n[r+1]))}function R_(e,t,n,r){let i=e[n+1],o=t===null,s=r?Br(i):Ui(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],u=e[s+1];C1(c,t)&&(a=!0,e[s+1]=r?tf(u):ef(u)),s=r?Br(u):Ui(u)}a&&(e[n+1]=r?ef(i):tf(i))}function C1(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?rs(e,t)>=0:!1}function x(e,t,n){let r=pe(),i=Wc();if(jr(r,i,t)){let o=Xe(),s=Kc();Lf(o,s,r,e,t,r[Oe],n,!1)}return x}function N_(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";Bf(e,n,o[s],s,r)}function xe(e,t){return b1(e,t,null,!0),xe}function b1(e,t,n,r){let i=pe(),o=Xe(),s=S0(2);if(o.firstUpdatePass&&S1(o,e,s,r),t!==Yt&&jr(i,s,t)){let a=o.data[$r()];R1(o,a,i,i[Oe],e,i[s+1]=N1(t,n),r,s)}}function T1(e,t){return t>=e.expandoStartIndex}function S1(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[$r()],s=T1(e,n);O1(o,r)&&t===null&&!s&&(t=!1),t=x1(i,o,t,r),I1(i,o,t,n,s,r)}}function x1(e,t,n,r){let i=Fx(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=vh(null,e,t,n,r),n=ts(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=vh(i,e,t,n,r),o===null){let c=A1(e,t,r);c!==void 0&&Array.isArray(c)&&(c=vh(null,e,t,c[1],r),c=ts(c,t.attrs,r),M1(e,t,r,c))}else o=P1(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function A1(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Ui(r)!==0)return e[Br(r)]}function M1(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Br(i)]=r}function P1(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=ts(r,s,n)}return ts(r,t.attrs,n)}function vh(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=ts(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function ts(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),NS(e,s,n?!0:t[++o]))}return e===void 0?null:e}function R1(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=E1(u)?O_(c,t,n,i,Ui(u),s):void 0;if(!Oc(l)){Oc(o)||_1(u)&&(o=O_(c,null,n,i,a,s));let d=v0($r(),n);LA(r,s,d,i,o)}}function O_(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Yt&&(h=d?Rt:void 0);let f=d?ah(h,r):l===r?h:void 0;if(u&&!Oc(f)&&(f=ah(c,r)),Oc(f)&&(a=f,s))return a;let _=e[i+1];i=s?Br(_):Ui(_)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=ah(c,r))}return a}function Oc(e){return e!==void 0}function N1(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=pt(Mf(e)))),e}function O1(e,t){return(e.flags&(t?8:16))!==0}function F1(e,t,n,r,i,o){let s=t.consts,a=Li(s,i),c=os(t,e,2,r,a);return jf(t,n,c,Li(s,o)),c.attrs!==null&&Pc(c,c.attrs,!1),c.mergedAttrs!==null&&Pc(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function p(e,t,n,r){let i=pe(),o=Xe(),s=Ot+e,a=i[Oe],c=o.firstCreatePass?F1(s,o,i,t,n,r):o.data[s],u=k1(o,i,c,a,t,e);i[s]=u;let l=Gc(c);return Ur(c,!0),cw(a,u,c),!p1(c)&&Qc()&&Xc(o,i,u,c),Ix()===0&&ir(u,i),Dx(),l&&(Ff(o,i,c),Of(o,c,i)),r!==null&&kf(i,c),p}function m(){let e=Dt();Ef()?b0():(e=e.parent,Ur(e,!1));let t=e;Tx(t)&&Sx(),Cx();let n=Xe();return n.firstCreatePass&&(Zc(n,e),vf(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&$x(t)&&N_(n,t,pe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&qx(t)&&N_(n,t,pe(),t.stylesWithoutHost,!1),m}function He(e,t,n,r){return p(e,t,n,r),m(),He}var k1=(e,t,n,r,i,o)=>(Yc(!0),tw(r,i,Lx()));function V1(e,t,n,r,i){let o=t.consts,s=Li(o,r),a=os(t,e,8,"ng-container",s);s!==null&&Pc(a,s,!0);let c=Li(o,i);return jf(t,n,a,c),t.queries!==null&&t.queries.elementStart(t,a),a}function cu(e,t,n){let r=pe(),i=Xe(),o=e+Ot,s=i.firstCreatePass?V1(o,i,r,t,n):i.data[o];Ur(s,!0);let a=L1(i,r,s,e);return r[o]=a,Qc()&&Xc(i,r,a,s),ir(a,r),Gc(s)&&(Ff(i,r,s),Of(i,s,r)),n!=null&&kf(r,s),cu}function uu(){let e=Dt(),t=Xe();return Ef()?b0():(e=e.parent,Ur(e,!1)),t.firstCreatePass&&(Zc(t,e),vf(e)&&t.queries.elementEnd(e)),uu}var L1=(e,t,n,r)=>(Yc(!0),wA(t[Oe],""));function ge(){return pe()}var Mr=void 0;function j1(e){let t=e,n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var B1=["en",[["a","p"],["AM","PM"],Mr],[["AM","PM"],Mr,Mr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mr,"{1} 'at' {0}",Mr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",j1],_h={};function kt(e){let t=U1(e),n=F_(t);if(n)return n;let r=t.split("-")[0];if(n=F_(r),n)return n;if(r==="en")return B1;throw new k(701,!1)}function F_(e){return e in _h||(_h[e]=Nn.ng&&Nn.ng.common&&Nn.ng.common.locales&&Nn.ng.common.locales[e]),_h[e]}var Fe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Fe||{});function U1(e){return e.toLowerCase().replace(/_/g,"-")}var Fc="en-US";var $1=Fc;function q1(e){typeof e=="string"&&($1=e.toLowerCase().replace(/_/g,"-"))}function A(e,t,n,r){let i=pe(),o=Xe(),s=Dt();return Nw(o,i,i[Oe],s,e,t,r),A}function H1(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Qo],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Nw(e,t,n,r,i,o,s){let a=Gc(r),u=e.firstCreatePass&&dM(e),l=t[zt],d=lM(t),h=!0;if(r.type&3||s){let v=Ft(r,t),w=s?s(v):v,M=d.length,ue=s?_e=>s(ln(_e[r.index])):r.index,$=null;if(!s&&a&&($=H1(e,t,i,r.index)),$!==null){let _e=$.__ngLastListenerFn__||$;_e.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,h=!1}else{o=V_(r,t,l,o,!1);let _e=n.listen(w,i,o);d.push(o,_e),u&&u.push(i,ue,M,M+1)}}else o=V_(r,t,l,o,!1);let f=r.outputs,_;if(h&&f!==null&&(_=f[i])){let v=_.length;if(v)for(let w=0;w<v;w+=2){let M=_[w],ue=_[w+1],rt=t[M][ue].subscribe(o),ve=d.length;d.push(o,rt),u&&u.push(i,r.index,ve,-(ve+1))}}}function k_(e,t,n,r){let i=le(null);try{return on(6,t,n),n(r)!==!1}catch(o){return _w(e,o),!1}finally{on(7,t,n),le(i)}}function V_(e,t,n,r,i){return function o(s){if(s===Function)return r;let a=e.componentOffset>-1?sr(e.index,t):t;$f(a);let c=k_(t,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=k_(t,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function I(e=1){return Vx(e)}function lu(e,t,n){return Ow(e,"",t,"",n),lu}function Ow(e,t,n,r,i){let o=pe(),s=Rw(o,t,n,r);if(s!==Yt){let a=Xe(),c=Kc();Lf(a,c,o,e,s,o[Oe],i,!1)}return Ow}function z1(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function ss(e){let t=Ax();return w0(t,Ot+e)}function y(e,t=""){let n=pe(),r=Xe(),i=e+Ot,o=r.firstCreatePass?os(r,i,1,t,null):r.data[i],s=G1(r,n,o,t,e);n[i]=s,Qc()&&Xc(r,n,s,o),Ur(o,!1)}var G1=(e,t,n,r,i)=>(Yc(!0),vA(t[Oe],r));function J(e){return Ae("",e,""),J}function Ae(e,t,n){let r=pe(),i=Rw(r,e,t,n);return i!==Yt&&ww(r,$r(),i),Ae}function du(e,t,n,r,i){let o=pe(),s=v1(o,e,t,n,r,i);return s!==Yt&&ww(o,$r(),s),du}function as(e,t,n){xw(t)&&(t=t());let r=pe(),i=Wc();if(jr(r,i,t)){let o=Xe(),s=Kc();Lf(o,s,r,e,t,r[Oe],n,!1)}return as}function hu(e,t){let n=xw(e);return n&&e.set(t),n}function cs(e,t){let n=pe(),r=Xe(),i=Dt();return Nw(r,n,n[Oe],i,e,t),cs}function W1(e,t,n){let r=Xe();if(r.firstCreatePass){let i=rr(e);nf(n,r.data,r.blueprint,i,!0),nf(t,r.data,r.blueprint,i,!1)}}function nf(e,t,n,r,i){if(e=ft(e),Array.isArray(e))for(let o=0;o<e.length;o++)nf(e[o],t,n,r,i);else{let o=Xe(),s=pe(),a=Dt(),c=Fi(e)?e:ft(e.provide),u=l0(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Fi(e)||!e.multi){let f=new Vr(u,i,j),_=Eh(c,t,i?l:l+h,d);_===-1?(Oh(Tc(a,s),o,c),wh(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[_]=f,s[_]=f)}else{let f=Eh(c,t,l+h,d),_=Eh(c,t,l,l+h),v=f>=0&&n[f],w=_>=0&&n[_];if(i&&!w||!i&&!v){Oh(Tc(a,s),o,c);let M=Y1(i?Q1:K1,n.length,i,r,u);!i&&w&&(n[_].providerFactory=M),wh(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),s.push(M)}else{let M=Fw(n[i?_:f],u,!i&&r);wh(o,e,f>-1?f:_,M)}!i&&r&&w&&n[_].componentProviders++}}}function wh(e,t,n,r){let i=Fi(t),o=tx(t);if(i||o){let c=(o?ft(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function Fw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Eh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function K1(e,t,n,r){return rf(this.multi,[])}function Q1(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ji(n,n[ne],this.providerFactory.index,r);o=a.slice(0,s),rf(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],rf(i,o);return o}function rf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function Y1(e,t,n,r,i){let o=new Vr(e,n,j);return o.multi=[],o.index=t,o.componentProviders=0,Fw(o,i,r&&!n),o}function Vt(e,t=[]){return n=>{n.providersResolver=(r,i)=>W1(r,i?i(e):e,t)}}var Z1=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=a0(!1,n.type),i=r.length>0?au([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=O({token:e,providedIn:"environment",factory:()=>new e(L(it))})}}return e})();function fu(e){ou("NgStandalone"),e.getStandaloneInjector=t=>t.get(Z1).getOrCreateStandaloneInjector(e)}function kw(e,t,n){let r=T0()+e,i=pe();return i[r]===Yt?Mw(i,r,n?t.call(n):t()):f1(i,r)}function J1(e,t){let n=e[t];return n===Yt?void 0:n}function X1(e,t,n,r,i,o,s){let a=t+n;return Pw(e,a,i,o)?Mw(e,a+2,s?r.call(s,i,o):r(i,o)):J1(e,a+2)}function Vw(e,t){let n=Xe(),r,i=e+Ot;n.firstCreatePass?(r=eP(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Nr(r.type,!0)),s,a=Et(j);try{let c=bc(!1),u=o();return bc(c),z1(n,pe(),i,u),u}finally{Et(a)}}function eP(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Lw(e,t,n,r){let i=e+Ot,o=pe(),s=w0(o,i);return tP(o,i)?X1(o,T0(),t,s.transform,n,r,s):s.transform(n,r)}function tP(e,t){return e[ne].data[t].pure}var pu=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var jw=new V("");function qr(e){return!!e&&typeof e.then=="function"}function Bw(e){return!!e&&typeof e.subscribe=="function"}var mu=new V(""),Uw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=b(mu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(qr(o))n.push(o);else if(Bw(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gu=new V("");function nP(){Rv(()=>{throw new k(600,!1)})}function rP(e){return e.isBoundToModule}function iP(e,t,n){try{let r=n();return qr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var zi=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(G0),this.afterRenderEffectManager=b(Hf),this.externalTestViews=new Set,this.beforeRender=new ht,this.afterTick=new ht,this.componentTypes=[],this.components=[],this.isStable=b(Hi).hasPendingTasks.pipe(Q(n=>!n)),this._injector=b(it)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Mc;if(!this._injector.get(Uw).done){let h=!i&&r0(n),f=!1;throw new k(405,f)}let s;i?s=n:s=this._injector.get(iu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=rP(s)?void 0:this._injector.get(or),c=r||s.selector,u=s.create(pn.NULL,[],c,a),l=u.location.nativeElement,d=u.injector.get(jw,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Ih(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new k(101,!1);let r=le(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,le(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===Iw)throw new k(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)oP(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>of(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>of(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ih(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(gu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ih(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new k(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ih(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function oP(e,t,n){!t&&!of(e)||sP(e,n,t)}function of(e){return wf(e)}function sP(e,t,n){let r;n?(r=0,e[H]|=1024):e[H]&64?r=0:r=1,Dw(e,t,r)}var sf=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},yu=(()=>{class e{compileModuleSync(n){return new Xh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=i0(n),o=ew(i.declarations).reduce((s,a)=>{let c=nr(a);return c&&s.push(new Bi(c)),s},[]);return new sf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var aP=(()=>{class e{constructor(){this.zone=b(Se),this.applicationRef=b(zi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cP(e){return[{provide:Se,useFactory:e},{provide:Oi,multi:!0,useFactory:()=>{let t=b(aP,{optional:!0});return()=>t.initialize()}},{provide:Oi,multi:!0,useFactory:()=>{let t=b(hP);return()=>{t.initialize()}}},{provide:G0,useFactory:uP}]}function uP(){let e=b(Se),t=b(dn);return n=>e.runOutsideAngular(()=>t.handleError(n))}function lP(e){let t=cP(()=>new Se(dP(e)));return is([[],t])}function dP(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var hP=(()=>{class e{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=b(Se),this.pendingTasks=b(Hi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fP(){return typeof $localize<"u"&&$localize.locale||Fc}var vu=new V("",{providedIn:"root",factory:()=>b(vu,ee.Optional|ee.SkipSelf)||fP()});var $w=new V("");var mc=null;function pP(e=[],t){return pn.create({name:t,providers:[{provide:$c,useValue:"platform"},{provide:$w,useValue:new Set([()=>mc=null])},...e]})}function mP(e=[]){if(mc)return mc;let t=pP(e);return mc=t,nP(),gP(t),t}function gP(e){e.get(Sf,null)?.forEach(n=>n())}var Hr=(()=>{class e{static{this.__NG_ELEMENT_ID__=yP}}return e})();function yP(e){return vP(Dt(),pe(),(e&16)===16)}function vP(e,t,n){if(zc(e)&&!n){let r=sr(e.index,t);return new Lr(r,r)}else if(e.type&47){let r=t[un];return new Lr(r,t)}return null}var af=class{constructor(){}supports(t){return Aw(t)}create(t){return new cf(t)}},_P=(e,t)=>t,cf=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||_P}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<L_(r,i,o)?n:r,a=L_(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<o.length?o[h]:o[h]=0,_=f+h;l<=_&&_<u&&(o[h]=f+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Aw(t))throw new k(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,d1(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new uf(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new kc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new kc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},uf=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lf=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},kc=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new lf,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function L_(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function j_(){return new zf([new af])}var zf=(()=>{class e{static{this.\u0275prov=O({token:e,providedIn:"root",factory:j_})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||j_()),deps:[[e,new hf,new Bc]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new k(901,!1)}}return e})();function qw(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=mP(r),o=[lP(),...n||[]],a=new Nc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Se);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(dn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get($w);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),iP(u,c,()=>{let f=a.get(Uw);return f.runInitializers(),f.donePromise.then(()=>{let _=a.get(vu,Fc);q1(_||Fc);let v=a.get(zi);return t!==void 0&&v.bootstrap(t),v})})})}catch(t){return Promise.reject(t)}}function us(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Hw(e){let t=nr(e);if(!t)return null;let n=new Bi(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Zw=null;function Un(){return Zw}function Jw(e){Zw??=e}var Su=class{};var at=new V(""),tp=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:()=>b(IP),providedIn:"platform"})}}return e})(),Xw=new V(""),IP=(()=>{class e extends tp{constructor(){super(),this._doc=b(at),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Un().getBaseHref(this._doc)}onPopState(n){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function np(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function zw(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function jn(e){return e&&e[0]!=="?"?"?"+e:e}var zr=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:()=>b(rp),providedIn:"root"})}}return e})(),eE=new V(""),rp=(()=>{class e extends zr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return np(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+jn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+jn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+jn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(L(tp),L(eE,8))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tE=(()=>{class e extends zr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=np(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+jn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+jn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(L(tp),L(eE,8))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})(),Wi=(()=>{class e{constructor(n){this._subject=new Ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=bP(zw(Gw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+jn(r))}normalize(n){return e.stripTrailingSlash(CP(this._basePath,Gw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=jn}static{this.joinWithSlash=np}static{this.stripTrailingSlash=zw}static{this.\u0275fac=function(r){return new(r||e)(L(zr))}}static{this.\u0275prov=O({token:e,factory:()=>DP(),providedIn:"root"})}}return e})();function DP(){return new Wi(L(zr))}function CP(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Gw(e){return e.replace(/\/index.html$/,"")}function bP(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var mt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(mt||{}),Ee=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Ee||{}),St=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(St||{}),ur={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function TP(e){return kt(e)[Fe.LocaleId]}function SP(e,t,n){let r=kt(e),i=[r[Fe.DayPeriodsFormat],r[Fe.DayPeriodsStandalone]],o=Lt(i,t);return Lt(o,n)}function xP(e,t,n){let r=kt(e),i=[r[Fe.DaysFormat],r[Fe.DaysStandalone]],o=Lt(i,t);return Lt(o,n)}function AP(e,t,n){let r=kt(e),i=[r[Fe.MonthsFormat],r[Fe.MonthsStandalone]],o=Lt(i,t);return Lt(o,n)}function MP(e,t){let r=kt(e)[Fe.Eras];return Lt(r,t)}function _u(e,t){let n=kt(e);return Lt(n[Fe.DateFormat],t)}function wu(e,t){let n=kt(e);return Lt(n[Fe.TimeFormat],t)}function Eu(e,t){let r=kt(e)[Fe.DateTimeFormat];return Lt(r,t)}function Au(e,t){let n=kt(e),r=n[Fe.NumberSymbols][t];if(typeof r>"u"){if(t===ur.CurrencyDecimal)return n[Fe.NumberSymbols][ur.Decimal];if(t===ur.CurrencyGroup)return n[Fe.NumberSymbols][ur.Group]}return r}function nE(e){if(!e[Fe.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Fe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function PP(e){let t=kt(e);return nE(t),(t[Fe.ExtraData][2]||[]).map(r=>typeof r=="string"?Gf(r):[Gf(r[0]),Gf(r[1])])}function RP(e,t,n){let r=kt(e);nE(r);let i=[r[Fe.ExtraData][0],r[Fe.ExtraData][1]],o=Lt(i,t)||[];return Lt(o,n)||[]}function Lt(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function Gf(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var NP=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Iu={},OP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Bn=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Bn||{}),he=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(he||{}),de=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(de||{});function FP(e,t,n,r){let i=HP(e);t=Ln(n,t)||t;let s=[],a;for(;t;)if(a=OP.exec(t),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;t=l}else{s.push(t);break}let c=i.getTimezoneOffset();r&&(c=iE(r,c),i=qP(i,r,!0));let u="";return s.forEach(l=>{let d=UP(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function xu(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Ln(e,t){let n=TP(e);if(Iu[n]??={},Iu[n][t])return Iu[n][t];let r="";switch(t){case"shortDate":r=_u(e,St.Short);break;case"mediumDate":r=_u(e,St.Medium);break;case"longDate":r=_u(e,St.Long);break;case"fullDate":r=_u(e,St.Full);break;case"shortTime":r=wu(e,St.Short);break;case"mediumTime":r=wu(e,St.Medium);break;case"longTime":r=wu(e,St.Long);break;case"fullTime":r=wu(e,St.Full);break;case"short":let i=Ln(e,"shortTime"),o=Ln(e,"shortDate");r=Du(Eu(e,St.Short),[i,o]);break;case"medium":let s=Ln(e,"mediumTime"),a=Ln(e,"mediumDate");r=Du(Eu(e,St.Medium),[s,a]);break;case"long":let c=Ln(e,"longTime"),u=Ln(e,"longDate");r=Du(Eu(e,St.Long),[c,u]);break;case"full":let l=Ln(e,"fullTime"),d=Ln(e,"fullDate");r=Du(Eu(e,St.Full),[l,d]);break}return r&&(Iu[n][t]=r),r}function Du(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function Zt(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function kP(e,t){return Zt(e,3).substring(0,t)}function Le(e,t,n=0,r=!1,i=!1){return function(o,s){let a=VP(e,o);if((n>0||a>-n)&&(a+=n),e===he.Hours)a===0&&n===-12&&(a=12);else if(e===he.FractionalSeconds)return kP(a,t);let c=Au(s,ur.MinusSign);return Zt(a,t,c,r,i)}}function VP(e,t){switch(e){case he.FullYear:return t.getFullYear();case he.Month:return t.getMonth();case he.Date:return t.getDate();case he.Hours:return t.getHours();case he.Minutes:return t.getMinutes();case he.Seconds:return t.getSeconds();case he.FractionalSeconds:return t.getMilliseconds();case he.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function De(e,t,n=mt.Format,r=!1){return function(i,o){return LP(i,o,e,t,n,r)}}function LP(e,t,n,r,i,o){switch(n){case de.Months:return AP(t,i,r)[e.getMonth()];case de.Days:return xP(t,i,r)[e.getDay()];case de.DayPeriods:let s=e.getHours(),a=e.getMinutes();if(o){let u=PP(t),l=RP(t,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,_]=h,v=s>=f.hours&&a>=f.minutes,w=s<_.hours||s===_.hours&&a<_.minutes;if(f.hours<_.hours){if(v&&w)return!0}else if(v||w)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return SP(t,i,r)[s<12?0:1];case de.Eras:return MP(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Cu(e){return function(t,n,r){let i=-1*r,o=Au(n,ur.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Bn.Short:return(i>=0?"+":"")+Zt(s,2,o)+Zt(Math.abs(i%60),2,o);case Bn.ShortGMT:return"GMT"+(i>=0?"+":"")+Zt(s,1,o);case Bn.Long:return"GMT"+(i>=0?"+":"")+Zt(s,2,o)+":"+Zt(Math.abs(i%60),2,o);case Bn.Extended:return r===0?"Z":(i>=0?"+":"")+Zt(s,2,o)+":"+Zt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var jP=0,Tu=4;function BP(e){let t=xu(e,jP,1).getDay();return xu(e,0,1+(t<=Tu?Tu:Tu+7)-t)}function rE(e){let t=e.getDay(),n=t===0?-3:Tu-t;return xu(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Wf(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=rE(n),s=BP(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Zt(i,e,Au(r,ur.MinusSign))}}function bu(e,t=!1){return function(n,r){let o=rE(n).getFullYear();return Zt(o,e,Au(r,ur.MinusSign),t)}}var Kf={};function UP(e){if(Kf[e])return Kf[e];let t;switch(e){case"G":case"GG":case"GGG":t=De(de.Eras,Ee.Abbreviated);break;case"GGGG":t=De(de.Eras,Ee.Wide);break;case"GGGGG":t=De(de.Eras,Ee.Narrow);break;case"y":t=Le(he.FullYear,1,0,!1,!0);break;case"yy":t=Le(he.FullYear,2,0,!0,!0);break;case"yyy":t=Le(he.FullYear,3,0,!1,!0);break;case"yyyy":t=Le(he.FullYear,4,0,!1,!0);break;case"Y":t=bu(1);break;case"YY":t=bu(2,!0);break;case"YYY":t=bu(3);break;case"YYYY":t=bu(4);break;case"M":case"L":t=Le(he.Month,1,1);break;case"MM":case"LL":t=Le(he.Month,2,1);break;case"MMM":t=De(de.Months,Ee.Abbreviated);break;case"MMMM":t=De(de.Months,Ee.Wide);break;case"MMMMM":t=De(de.Months,Ee.Narrow);break;case"LLL":t=De(de.Months,Ee.Abbreviated,mt.Standalone);break;case"LLLL":t=De(de.Months,Ee.Wide,mt.Standalone);break;case"LLLLL":t=De(de.Months,Ee.Narrow,mt.Standalone);break;case"w":t=Wf(1);break;case"ww":t=Wf(2);break;case"W":t=Wf(1,!0);break;case"d":t=Le(he.Date,1);break;case"dd":t=Le(he.Date,2);break;case"c":case"cc":t=Le(he.Day,1);break;case"ccc":t=De(de.Days,Ee.Abbreviated,mt.Standalone);break;case"cccc":t=De(de.Days,Ee.Wide,mt.Standalone);break;case"ccccc":t=De(de.Days,Ee.Narrow,mt.Standalone);break;case"cccccc":t=De(de.Days,Ee.Short,mt.Standalone);break;case"E":case"EE":case"EEE":t=De(de.Days,Ee.Abbreviated);break;case"EEEE":t=De(de.Days,Ee.Wide);break;case"EEEEE":t=De(de.Days,Ee.Narrow);break;case"EEEEEE":t=De(de.Days,Ee.Short);break;case"a":case"aa":case"aaa":t=De(de.DayPeriods,Ee.Abbreviated);break;case"aaaa":t=De(de.DayPeriods,Ee.Wide);break;case"aaaaa":t=De(de.DayPeriods,Ee.Narrow);break;case"b":case"bb":case"bbb":t=De(de.DayPeriods,Ee.Abbreviated,mt.Standalone,!0);break;case"bbbb":t=De(de.DayPeriods,Ee.Wide,mt.Standalone,!0);break;case"bbbbb":t=De(de.DayPeriods,Ee.Narrow,mt.Standalone,!0);break;case"B":case"BB":case"BBB":t=De(de.DayPeriods,Ee.Abbreviated,mt.Format,!0);break;case"BBBB":t=De(de.DayPeriods,Ee.Wide,mt.Format,!0);break;case"BBBBB":t=De(de.DayPeriods,Ee.Narrow,mt.Format,!0);break;case"h":t=Le(he.Hours,1,-12);break;case"hh":t=Le(he.Hours,2,-12);break;case"H":t=Le(he.Hours,1);break;case"HH":t=Le(he.Hours,2);break;case"m":t=Le(he.Minutes,1);break;case"mm":t=Le(he.Minutes,2);break;case"s":t=Le(he.Seconds,1);break;case"ss":t=Le(he.Seconds,2);break;case"S":t=Le(he.FractionalSeconds,1);break;case"SS":t=Le(he.FractionalSeconds,2);break;case"SSS":t=Le(he.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Cu(Bn.Short);break;case"ZZZZZ":t=Cu(Bn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Cu(Bn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Cu(Bn.Long);break;default:return null}return Kf[e]=t,t}function iE(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function $P(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function qP(e,t,n){let r=n?-1:1,i=e.getTimezoneOffset(),o=iE(t,i);return $P(e,r*(o-i))}function HP(e){if(Ww(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return xu(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(NP))return zP(r)}let t=new Date(e);if(!Ww(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function zP(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,c,u),t}function Ww(e){return e instanceof Date&&!isNaN(e.valueOf())}function Mu(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Qf=/\s+/,Kw=[],oE=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Kw,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Qf):Kw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Qf):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Qf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(j(Qt),j(gn))}}static{this.\u0275dir=Ie({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Je.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var Yf=class{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},sE=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Yf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Qw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Qw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(j(qi),j(ru),j(zf))}}static{this.\u0275dir=Ie({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Qw(e,t){e.context.$implicit=t.item}var aE=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new Zf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Yw("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Yw("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(j(qi),j(ru))}}static{this.\u0275dir=Ie({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),Zf=class{constructor(){this.$implicit=null,this.ngIf=null}};function Yw(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${pt(t)}'.`)}function GP(e,t){return new k(2100,!1)}var WP="mediumDate",KP=new V(""),QP=new V(""),cE=(()=>{class e{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??WP,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return FP(n,s,o||this.locale,a)}catch(s){throw GP(e,s.message)}}static{this.\u0275fac=function(r){return new(r||e)(j(vu,16),j(KP,24),j(QP,24))}}static{this.\u0275pipe=e0({name:"date",type:e,pure:!0,standalone:!0})}}return e})();var ip=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=hn({})}}return e})(),op="browser",YP="server";function ZP(e){return e===op}function Pu(e){return e===YP}var uE=(()=>{class e{static{this.\u0275prov=O({token:e,providedIn:"root",factory:()=>ZP(b(mn))?new Jf(b(at),window):new Xf})}}return e})(),Jf=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=JP(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function JP(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Xf=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},Gi=class{};var ds=class{},Nu=class{},Gr=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var ap=class{encodeKey(t){return dE(t)}encodeValue(t){return dE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function tR(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var nR=/%(\d[a-f0-9])/gi,rR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dE(e){return encodeURIComponent(e).replace(nR,(t,n)=>rR[n]??t)}function Ru(e){return`${e}`}var lr=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ap,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=tR(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(Ru):[Ru(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Ru(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Ru(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var cp=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function iR(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hE(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function fE(e){return typeof Blob<"u"&&e instanceof Blob}function pE(e){return typeof FormData<"u"&&e instanceof FormData}function oR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var ls=class e{constructor(t,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(iR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Gr,this.context??=new cp,!this.params)this.params=new lr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||hE(this.body)||fE(this.body)||pE(this.body)||oR(this.body)?this.body:this.body instanceof lr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||pE(this.body)?null:fE(this.body)?this.body.type||null:hE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof lr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,u=t.headers||this.headers,l=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),u)),t.setParams&&(l=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),l)),new e(n,r,s,{params:l,headers:u,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Ki=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ki||{}),hs=class{constructor(t,n=ku.Ok,r="OK"){this.headers=t.headers||new Gr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},up=class e extends hs{constructor(t={}){super(t),this.type=Ki.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ou=class e extends hs{constructor(t={}){super(t),this.type=Ki.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Fu=class extends hs{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},ku=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(ku||{});function sp(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var lp=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ls)o=n;else{let c;i.headers instanceof Gr?c=i.headers:c=new Gr(i.headers);let u;i.params&&(i.params instanceof lr?u=i.params:u=new lr({fromObject:i.params})),o=new ls(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=U(o).pipe(Pn(c=>this.handler.handle(c)));if(n instanceof ls||i.observe==="events")return s;let a=s.pipe(_t(c=>c instanceof Ou));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Q(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Q(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Q(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Q(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new lr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,sp(i,r))}post(n,r,i={}){return this.request("POST",n,sp(i,r))}put(n,r,i={}){return this.request("PUT",n,sp(i,r))}static{this.\u0275fac=function(r){return new(r||e)(L(ds))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})();function sR(e,t){return t(e)}function aR(e,t,n){return(r,i)=>Gt(n,()=>t(r,o=>e(o,i)))}var yE=new V(""),cR=new V(""),uR=new V("");var mE=(()=>{class e extends ds{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=b(Hi);let i=b(uR,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(yE),...this.injector.get(cR,[])]));this.chain=i.reduceRight((o,s)=>aR(o,s,this.injector),sR)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ar(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(L(Nu),L(it))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})();var lR=/^\)\]\}',?\n/;function dR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var gE=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new k(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?be(r.\u0275loadImpl()):U(null)).pipe(wt(()=>new ae(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,w)=>s.setRequestHeader(v,w.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader("Content-Type",v)}if(n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let v=s.statusText||"OK",w=new Gr(s.getAllResponseHeaders()),M=dR(s)||n.url;return c=new up({headers:w,status:s.status,statusText:v,url:M}),c},l=()=>{let{headers:v,status:w,statusText:M,url:ue}=u(),$=null;w!==ku.NoContent&&($=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=$?ku.Ok:0);let _e=w>=200&&w<300;if(n.responseType==="json"&&typeof $=="string"){let rt=$;$=$.replace(lR,"");try{$=$!==""?JSON.parse($):null}catch(ve){$=rt,_e&&(_e=!1,$={error:ve,text:$})}}_e?(o.next(new Ou({body:$,headers:v,status:w,statusText:M,url:ue||void 0})),o.complete()):o.error(new Fu({error:$,headers:v,status:w,statusText:M,url:ue||void 0}))},d=v=>{let{url:w}=u(),M=new Fu({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(M)},h=!1,f=v=>{h||(o.next(u()),h=!0);let w={type:Ki.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(w.total=v.total),n.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},_=v=>{let w={type:Ki.UploadProgress,loaded:v.loaded};v.lengthComputable&&(w.total=v.total),o.next(w)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:Ki.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(L(Gi))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})(),vE=new V(""),hR="XSRF-TOKEN",fR=new V("",{providedIn:"root",factory:()=>hR}),pR="X-XSRF-TOKEN",mR=new V("",{providedIn:"root",factory:()=>pR}),Vu=class{},gR=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mu(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(L(at),L(mn),L(fR))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})();function yR(e,t){let n=e.url.toLowerCase();if(!b(vE)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=b(Vu).getToken(),i=b(mR);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function _E(...e){let t=[lp,gE,mE,{provide:ds,useExisting:mE},{provide:Nu,useExisting:gE},{provide:yE,useValue:yR,multi:!0},{provide:vE,useValue:!0},{provide:Vu,useClass:gR}];for(let n of e)t.push(...n.\u0275providers);return is(t)}var fp=class extends Su{constructor(){super(...arguments),this.supportsDOMEvents=!0}},pp=class e extends fp{static makeCurrent(){Jw(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=_R();return n==null?null:wR(n)}resetBaseElement(){fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Mu(document.cookie,t)}},fs=null;function _R(){return fs=fs||document.querySelector("base"),fs?fs.getAttribute("href"):null}function wR(e){return new URL(e,document.baseURI).pathname}var ER=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})(),mp=new V(""),DE=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(L(mp),L(Se))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})(),Lu=class{constructor(t){this._doc=t}},dp="ng-app-id",CE=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Pu(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${dp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(dp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(dp,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(L(at),L(Tf),L(xf,8),L(mn))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})(),hp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yp=/%COMP%/g,bE="%COMP%",IR=`_nghost-${bE}`,DR=`_ngcontent-${bE}`,CR=!0,bR=new V("",{providedIn:"root",factory:()=>CR});function TR(e){return DR.replace(yp,e)}function SR(e){return IR.replace(yp,e)}function TE(e,t){return t.map(n=>n.replace(yp,e))}var wE=(()=>{class e{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Pu(a),this.defaultRenderer=new ps(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===an.ShadowDom&&(r=se(S({},r),{encapsulation:an.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ju?i.applyToHost(n):i instanceof ms&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case an.Emulated:o=new ju(c,u,r,this.appId,l,s,a,d);break;case an.ShadowDom:return new gp(c,u,n,r,s,a,this.nonce,d);default:o=new ms(c,u,r,l,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(L(DE),L(CE),L(Tf),L(bR),L(at),L(mn),L(Se),L(xf))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})(),ps=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(hp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(EE(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(EE(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=hp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=hp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(On.DashCase|On.Important)?t.style.setProperty(n,r,i&On.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&On.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=Un().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function EE(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var gp=class extends ps{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=TE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ms=class extends ps{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?TE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ju=class extends ms{constructor(t,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,u),this.contentAttr=TR(u),this.hostAttr=SR(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},xR=(()=>{class e extends Lu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(L(at))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})(),IE=["alt","control","meta","shift"],AR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},PR=(()=>{class e extends Lu{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Un().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),IE.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=AR[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),IE.forEach(s=>{if(s!==i){let a=MR[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(L(at))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})();function SE(e,t){return qw(S({rootComponent:e},RR(t)))}function RR(e){return{appProviders:[...VR,...e?.providers??[]],platformProviders:kR}}function NR(){pp.makeCurrent()}function OR(){return new dn}function FR(){return J0(document),document}var kR=[{provide:mn,useValue:op},{provide:Sf,useValue:NR,multi:!0},{provide:at,useFactory:FR,deps:[]}];var VR=[{provide:$c,useValue:"root"},{provide:dn,useFactory:OR,deps:[]},{provide:mp,useClass:xR,multi:!0,deps:[at,Se,mn]},{provide:mp,useClass:PR,multi:!0,deps:[at]},wE,CE,DE,{provide:Xo,useExisting:wE},{provide:Gi,useClass:ER,deps:[]},[]];var xE=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(L(at))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var LE=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(j(gn),j(Qt))}}static{this.\u0275dir=Ie({type:e})}}return e})(),_s=(()=>{class e extends LE{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Kt(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,features:[st]})}}return e})(),Kr=new V("");var jR={provide:Kr,useExisting:It(()=>Ku),multi:!0};function BR(){let e=Un()?Un().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var UR=new V(""),Ku=(()=>{class e extends LE{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BR())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(j(gn),j(Qt),j(UR,8))}}static{this.\u0275dir=Ie({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Vt([jR]),st]})}}return e})();function dr(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function jE(e){return e!=null&&typeof e.length=="number"}var Zi=new V(""),Ip=new V(""),$R=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ze=class{static min(t){return BE(t)}static max(t){return UE(t)}static required(t){return $E(t)}static requiredTrue(t){return qR(t)}static email(t){return HR(t)}static minLength(t){return zR(t)}static maxLength(t){return GR(t)}static pattern(t){return WR(t)}static nullValidator(t){return Uu(t)}static compose(t){return KE(t)}static composeAsync(t){return YE(t)}};function BE(e){return t=>{if(dr(t.value)||dr(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function UE(e){return t=>{if(dr(t.value)||dr(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function $E(e){return dr(e.value)?{required:!0}:null}function qR(e){return e.value===!0?null:{required:!0}}function HR(e){return dr(e.value)||$R.test(e.value)?null:{email:!0}}function zR(e){return t=>dr(t.value)||!jE(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function GR(e){return t=>jE(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function WR(e){if(!e)return Uu;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(dr(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Uu(e){return null}function qE(e){return e!=null}function HE(e){return qr(e)?be(e):e}function zE(e){let t={};return e.forEach(n=>{t=n!=null?S(S({},t),n):t}),Object.keys(t).length===0?null:t}function GE(e,t){return t.map(n=>n(e))}function KR(e){return!e.validate}function WE(e){return e.map(t=>KR(t)?t:n=>t.validate(n))}function KE(e){if(!e)return null;let t=e.filter(qE);return t.length==0?null:function(n){return zE(GE(n,t))}}function QE(e){return e!=null?KE(WE(e)):null}function YE(e){if(!e)return null;let t=e.filter(qE);return t.length==0?null:function(n){let r=GE(n,t).map(HE);return th(r).pipe(Q(zE))}}function ZE(e){return e!=null?YE(WE(e)):null}function AE(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function JE(e){return e._rawValidators}function XE(e){return e._rawAsyncValidators}function vp(e){return e?Array.isArray(e)?e:[e]:[]}function $u(e,t){return Array.isArray(e)?e.includes(t):e===t}function ME(e,t){let n=vp(t);return vp(e).forEach(i=>{$u(n,i)||n.push(i)}),n}function PE(e,t){return vp(t).filter(n=>!$u(e,n))}var qu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=QE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ZE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Wr=class extends qu{get formDirective(){return null}get path(){return null}},hr=class extends qu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hu=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},QR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},q5=se(S({},QR),{"[class.ng-submitted]":"isSubmitted"}),eI=(()=>{class e extends Hu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(j(hr,2))}}static{this.\u0275dir=Ie({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&xe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[st]})}}return e})(),tI=(()=>{class e extends Hu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(j(Wr,10))}}static{this.\u0275dir=Ie({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&xe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[st]})}}return e})();var gs="VALID",Bu="INVALID",Qi="PENDING",ys="DISABLED";function Dp(e){return(Qu(e)?e.validators:e)||null}function YR(e){return Array.isArray(e)?QE(e):e||null}function Cp(e,t){return(Qu(t)?t.asyncValidators:e)||null}function ZR(e){return Array.isArray(e)?ZE(e):e||null}function Qu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function nI(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new k(1e3,"");if(!r[n])throw new k(1001,"")}function rI(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new k(1002,"")})}var Yi=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===gs}get invalid(){return this.status===Bu}get pending(){return this.status==Qi}get disabled(){return this.status===ys}get enabled(){return this.status!==ys}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ME(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ME(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(PE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(PE(t,this._rawAsyncValidators))}hasValidator(t){return $u(this._rawValidators,t)}hasAsyncValidator(t){return $u(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Qi,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ys,this.errors=null,this._forEachChild(r=>{r.disable(se(S({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(S({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=gs,this._forEachChild(r=>{r.enable(se(S({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(se(S({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gs||this.status===Qi)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ys:gs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Qi,this._hasOwnPendingAsyncValidator=!0;let n=HE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?ys:this.errors?Bu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qi)?Qi:this._anyControlsHaveStatus(Bu)?Bu:gs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=YR(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ZR(this._rawAsyncValidators)}},zu=class extends Yi{constructor(t,n,r){super(Dp(n),Cp(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){rI(this,!0,t),Object.keys(t).forEach(r=>{nI(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var _p=class extends zu{};var ws=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Es}),Es="always";function iI(e,t){return[...t.path,e]}function wp(e,t,n=Es){bp(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),XR(e,t),tN(e,t),eN(e,t),JR(e,t)}function RE(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Wu(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Gu(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function JR(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function bp(e,t){let n=JE(e);t.validator!==null?e.setValidators(AE(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=XE(e);t.asyncValidator!==null?e.setAsyncValidators(AE(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Gu(t._rawValidators,i),Gu(t._rawAsyncValidators,i)}function Wu(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=JE(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=XE(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return Gu(t._rawValidators,r),Gu(t._rawAsyncValidators,r),n}function XR(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&oI(e,t)})}function eN(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&oI(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function oI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function tN(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function nN(e,t){e==null,bp(e,t)}function rN(e,t){return Wu(e,t)}function sI(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function iN(e){return Object.getPrototypeOf(e.constructor)===_s}function oN(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function aI(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Ku?n=o:iN(o)?r=o:i=o}),i||r||n||null}function sN(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function NE(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function OE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var vs=class extends Yi{constructor(t=null,n,r){super(Dp(n),Cp(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(OE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){NE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){NE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){OE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var aN=e=>e instanceof vs;var cN={provide:hr,useExisting:It(()=>Tp)},FE=Promise.resolve(),Tp=(()=>{class e extends hr{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new vs,this._registered=!1,this.name="",this.update=new Ze,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=aI(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),sI(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){FE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&us(r);FE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?iI(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(j(Wr,9),j(Zi,10),j(Ip,10),j(Kr,10),j(Hr,8),j(ws,8))}}static{this.\u0275dir=Ie({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Je.None,"disabled","isDisabled"],model:[Je.None,"ngModel","model"],options:[Je.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vt([cN]),st,Vn]})}}return e})(),cI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Ie({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),uN={provide:Kr,useExisting:It(()=>Sp),multi:!0},Sp=(()=>{class e extends _s{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Kt(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Vt([uN]),st]})}}return e})(),lN={provide:Kr,useExisting:It(()=>xp),multi:!0};var dN=(()=>{class e{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xp=(()=>{class e extends _s{constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=b(ws,{optional:!0})??Es}ngOnInit(){this._control=this._injector.get(hr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||e)(j(gn),j(Qt),j(dN),j(pn))}}static{this.\u0275dir=Ie({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Vt([lN]),st]})}}return e})();var uI=new V("");var hN={provide:Wr,useExisting:It(()=>Ap)},Ap=(()=>{class e extends Wr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ze,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return wp(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){RE(n.control||null,n,!1),sN(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,oN(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(RE(r||null,n),aN(i)&&(wp(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);nN(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&rN(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bp(this.form,this),this._oldForm&&Wu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||e)(j(Zi,10),j(Ip,10),j(ws,8))}}static{this.\u0275dir=Ie({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&A("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[Je.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vt([hN]),st,Vn]})}}return e})();var fN={provide:hr,useExisting:It(()=>Mp)},Mp=(()=>{class e extends hr{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ze,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=aI(this,o)}ngOnChanges(n){this._added||this._setUpControl(),sI(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return iI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(j(Wr,13),j(Zi,10),j(Ip,10),j(Kr,10),j(uI,8))}}static{this.\u0275dir=Ie({type:e,selectors:[["","formControlName",""]],inputs:{name:[Je.None,"formControlName","name"],isDisabled:[Je.None,"disabled","isDisabled"],model:[Je.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Vt([fN]),st,Vn]})}}return e})(),pN={provide:Kr,useExisting:It(()=>Yu),multi:!0};function lI(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function mN(e){return e.split(":")[0]}var Yu=(()=>{class e extends _s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=lI(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=mN(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Kt(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vt([pN]),st]})}}return e})(),dI=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(lI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(j(Qt),j(gn),j(Yu,9))}}static{this.\u0275dir=Ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),gN={provide:Kr,useExisting:It(()=>hI),multi:!0};function kE(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function yN(e){return e.split(":")[0]}var hI=(()=>{class e extends _s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=yN(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Kt(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vt([gN]),st]})}}return e})(),fI=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(kE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(kE(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(j(Qt),j(gn),j(hI,9))}}static{this.\u0275dir=Ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();function pI(e){return typeof e=="number"?e:parseFloat(e)}var Pp=(()=>{class e{constructor(){this._validator=Uu}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Uu,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Ie({type:e,features:[Vn]})}}return e})(),vN={provide:Zi,useExisting:It(()=>Rp),multi:!0},Rp=(()=>{class e extends Pp{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>pI(n),this.createValidator=n=>UE(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Kt(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ar("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Vt([vN]),st]})}}return e})(),_N={provide:Zi,useExisting:It(()=>Np),multi:!0},Np=(()=>{class e extends Pp{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>pI(n),this.createValidator=n=>BE(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Kt(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ar("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Vt([_N]),st]})}}return e})(),wN={provide:Zi,useExisting:It(()=>Op),multi:!0};var Op=(()=>{class e extends Pp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=us,this.createValidator=n=>$E}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Kt(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ar("required",i._enabled?"":null)},inputs:{required:"required"},features:[Vt([wN]),st]})}}return e})();var mI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=hn({})}}return e})(),Ep=class extends Yi{constructor(t,n,r){super(Dp(n),Cp(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){rI(this,!1,t),t.forEach((r,i)=>{nI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function VE(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var gI=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return VE(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new zu(i,o)}record(n,r=null){let i=this._reduceControls(n);return new _p(i,r)}control(n,r,i){let o={};return this.useNonNullable?(VE(r)?o=r:(o.validators=r,o.asyncValidators=i),new vs(n,se(S({},o),{nonNullable:!0}))):new vs(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Ep(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof vs)return n;if(n instanceof Yi)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var yI=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ws,useValue:n.callSetDisabledState??Es}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=hn({imports:[mI]})}}return e})(),vI=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:uI,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ws,useValue:n.callSetDisabledState??Es}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=hn({imports:[mI]})}}return e})();var _I=[{id:1,name:"Stand. Flawinne FC",players:["Joueur non list\xE9"]},{id:2,name:"U10 Stand. Flawinne FC",players:["Melvin","Kalvin","Thibault","Tom","Maxim","Ely","Math\xE9o","Elson","Shanna","Stiliano","Mandares","Naofelle","Danielle","Arthur"]},{id:3,name:"U9 Stand. Flawinne FC",players:["Mathieu","Loris","Hugo","Sam","Achille","Dario","Jules","Gabin","Georges"]}];function Fp(e){return(!e.players||e.players.length===0)&&(e.players=["Joueur non list\xE9"]),e}var Z="primary",ks=Symbol("RouteTitle"),Bp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function no(e){return new Bp(e)}function IN(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function DN(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!yn(e[n],t[n]))return!1;return!0}function yn(e,t){let n=e?Up(e):void 0,r=t?Up(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!xI(e[i],t[i]))return!1;return!0}function Up(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function xI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function AI(e){return e.length>0?e[e.length-1]:null}function gr(e){return eh(e)?e:qr(e)?be(Promise.resolve(e)):U(e)}var CN={exact:PI,subset:RI},MI={exact:bN,subset:TN,ignored:()=>!0};function wI(e,t,n){return CN[n.paths](e.root,t.root,n.matrixParams)&&MI[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function bN(e,t){return yn(e,t)}function PI(e,t,n){if(!Yr(e.segments,t.segments)||!Xu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!PI(e.children[r],t.children[r],n))return!1;return!0}function TN(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>xI(e[n],t[n]))}function RI(e,t,n){return NI(e,t,t.segments,n)}function NI(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Yr(i,n)||t.hasChildren()||!Xu(i,n,r))}else if(e.segments.length===n.length){if(!Yr(e.segments,n)||!Xu(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!RI(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Yr(e.segments,i)||!Xu(e.segments,i,r)||!e.children[Z]?!1:NI(e.children[Z],t,o,r)}}function Xu(e,t,n){return t.every((r,i)=>MI[n](e[i].parameters,r.parameters))}var fr=class{constructor(t=new me([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){return AN.serialize(this)}},me=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return el(this)}},Qr=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=no(this.parameters),this._parameterMap}toString(){return FI(this)}};function SN(e,t){return Yr(e,t)&&e.every((n,r)=>yn(n.parameters,t[r].parameters))}function Yr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function xN(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Z&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(t(i,r)))}),n}var Vs=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:()=>new xs,providedIn:"root"})}}return e})(),xs=class{parse(t){let n=new qp(t);return new fr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Is(t.root,!0)}`,r=RN(t.queryParams),i=typeof t.fragment=="string"?`#${MN(t.fragment)}`:"";return`${n}${r}${i}`}},AN=new xs;function el(e){return e.segments.map(t=>FI(t)).join("/")}function Is(e,t){if(!e.hasChildren())return el(e);if(t){let n=e.children[Z]?Is(e.children[Z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Is(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=xN(e,(r,i)=>i===Z?[Is(e.children[Z],!1)]:[`${i}:${Is(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Z]!=null?`${el(e)}/${n[0]}`:`${el(e)}/(${n.join("//")})`}}function OI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zu(e){return OI(e).replace(/%3B/gi,";")}function MN(e){return encodeURI(e)}function $p(e){return OI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tl(e){return decodeURIComponent(e)}function EI(e){return tl(e.replace(/\+/g,"%20"))}function FI(e){return`${$p(e.path)}${PN(e.parameters)}`}function PN(e){return Object.entries(e).map(([t,n])=>`;${$p(t)}=${$p(n)}`).join("")}function RN(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Zu(n)}=${Zu(i)}`).join("&"):`${Zu(n)}=${Zu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var NN=/^[^\/()?;#]+/;function kp(e){let t=e.match(NN);return t?t[0]:""}var ON=/^[^\/()?;=#]+/;function FN(e){let t=e.match(ON);return t?t[0]:""}var kN=/^[^=?&#]+/;function VN(e){let t=e.match(kN);return t?t[0]:""}var LN=/^[^&#]+/;function jN(e){let t=e.match(LN);return t?t[0]:""}var qp=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Z]=new me(t,n)),r}parseSegment(){let t=kp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(t),new Qr(tl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=FN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=kp(this.remaining);i&&(r=i,this.capture(r))}t[tl(n)]=tl(r)}parseQueryParam(t){let n=VN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=jN(this.remaining);s&&(r=s,this.capture(r))}let i=EI(n),o=EI(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=kp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Z);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Z]:new me([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new k(4011,!1)}};function kI(e){return e.segments.length>0?new me([],{[Z]:e}):e}function VI(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=VI(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new me(e.segments,t);return BN(n)}function BN(e){if(e.numberOfChildren===1&&e.children[Z]){let t=e.children[Z];return new me(e.segments.concat(t.segments),t.children)}return e}function ro(e){return e instanceof fr}function UN(e,t,n=null,r=null){let i=LI(e);return jI(i,t,n,r)}function LI(e){let t;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new me(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=kI(r);return t??i}function jI(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Vp(i,i,i,n,r);let o=$N(t);if(o.toRoot())return Vp(i,i,new me([],{}),n,r);let s=qN(o,i,e),a=s.processChildren?bs(s.segmentGroup,s.index,o.commands):UI(s.segmentGroup,s.index,o.commands);return Vp(i,s.segmentGroup,a,n,r)}function nl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function As(e){return typeof e=="object"&&e!=null&&e.outlets}function Vp(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===t?s=n:s=BI(e,t,n);let a=kI(VI(s));return new fr(a,o,i)}function BI(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=BI(o,t,n)}),new me(e.segments,r)}var rl=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&nl(r[0]))throw new k(4003,!1);let i=r.find(As);if(i&&i!==AI(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $N(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new rl(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rl(n,t,r)}var eo=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function qN(e,t,n){if(e.isAbsolute)return new eo(t,!0,0);if(!n)return new eo(t,!1,NaN);if(n.parent===null)return new eo(n,!0,0);let r=nl(e.commands[0])?0:1,i=n.segments.length-1+r;return HN(n,i,e.numberOfDoubleDots)}function HN(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new eo(r,!1,i-o)}function zN(e){return As(e[0])?e[0].outlets:{[Z]:e}}function UI(e,t,n){if(e??=new me([],{}),e.segments.length===0&&e.hasChildren())return bs(e,t,n);let r=GN(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new me(e.segments.slice(0,r.pathIndex),{});return o.children[Z]=new me(e.segments.slice(r.pathIndex),e.children),bs(o,0,i)}else return r.match&&i.length===0?new me(e.segments,{}):r.match&&!e.hasChildren()?Hp(e,t,n):r.match?bs(e,0,i):Hp(e,t,n)}function bs(e,t,n){if(n.length===0)return new me(e.segments,{});{let r=zN(n),i={};if(Object.keys(r).some(o=>o!==Z)&&e.children[Z]&&e.numberOfChildren===1&&e.children[Z].segments.length===0){let o=bs(e.children[Z],t,n);return new me(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=UI(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(e.segments,i)}}function GN(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(As(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!DI(c,u,s))return o;r+=2}else{if(!DI(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hp(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(As(o)){let c=WN(o.outlets);return new me(r,c)}if(i===0&&nl(n[0])){let c=e.segments[t];r.push(new Qr(c.path,II(n[0]))),i++;continue}let s=As(o)?o.outlets[Z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&nl(a)?(r.push(new Qr(s,II(a))),i+=2):(r.push(new Qr(s,{})),i++)}return new me(r,{})}function WN(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Hp(new me([],{}),0,r))}),t}function II(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function DI(e,t,n){return e==n.path&&yn(t,n.parameters)}var Ts="imperative",Ge=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ge||{}),jt=class{constructor(t,n){this.id=t,this.url=n}},io=class extends jt{constructor(t,n,r="imperative",i=null){super(t,n),this.type=Ge.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$n=class extends jt{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=Ge.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(At||{}),il=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(il||{}),pr=class extends jt{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=Ge.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mr=class extends jt{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=Ge.NavigationSkipped}},Ms=class extends jt{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=Ge.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ol=class extends jt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zp=class extends jt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gp=class extends jt{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ge.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wp=class extends jt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class extends jt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qp=class{constructor(t){this.route=t,this.type=Ge.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yp=class{constructor(t){this.route=t,this.type=Ge.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zp=class{constructor(t){this.snapshot=t,this.type=Ge.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jp=class{constructor(t){this.snapshot=t,this.type=Ge.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xp=class{constructor(t){this.snapshot=t,this.type=Ge.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},em=class{constructor(t){this.snapshot=t,this.type=Ge.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sl=class{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=Ge.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ps=class{},Rs=class{constructor(t){this.url=t}};var tm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ls,this.attachRef=null}},Ls=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new tm,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),al=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=nm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=nm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=rm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return rm(t,this._root).map(n=>n.value)}};function nm(e,t){if(e===t.value)return t;for(let n of t.children){let r=nm(e,n);if(r)return r}return null}function rm(e,t){if(e===t.value)return[t];for(let n of t.children){let r=rm(e,n);if(r.length)return r.unshift(t),r}return[]}var xt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Xi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var cl=class extends al{constructor(t,n){super(t),this.snapshot=n,fm(this,t)}toString(){return this.snapshot.toString()}};function $I(e){let t=KN(e),n=new Ye([new Qr("",{})]),r=new Ye({}),i=new Ye({}),o=new Ye({}),s=new Ye(""),a=new oo(n,r,o,s,i,Z,e,t.root);return a.snapshot=t.root,new cl(new xt(a,[]),t)}function KN(e){let t={},n={},r={},i="",o=new Ns([],t,r,i,n,Z,e,null,{});return new ul("",new xt(o,[]))}var oo=class{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Q(u=>u[ks]))??U(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Q(t=>no(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Q(t=>no(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hm(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:S(S({},t.params),e.params),data:S(S({},t.data),e.data),resolve:S(S(S(S({},e.data),t.data),i?.data),e._resolvedData)}:r={params:S({},e.params),data:S({},e.data),resolve:S(S({},e.data),e._resolvedData??{})},i&&HI(i)&&(r.resolve[ks]=i.title),r}var Ns=class{get title(){return this.data?.[ks]}constructor(t,n,r,i,o,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=no(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ul=class extends al{constructor(t,n){super(n),this.url=t,fm(this,n)}toString(){return qI(this._root)}};function fm(e,t){t.value._routerState=e,t.children.forEach(n=>fm(e,n))}function qI(e){let t=e.children.length>0?` { ${e.children.map(qI).join(", ")} } `:"";return`${e.value}${t}`}function Lp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,yn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),yn(t.params,n.params)||e.paramsSubject.next(n.params),DN(t.url,n.url)||e.urlSubject.next(n.url),yn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function im(e,t){let n=yn(e.params,t.params)&&SN(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||im(e.parent,t.parent))}function HI(e){return typeof e.title=="string"||e.title===null}var pm=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.parentContexts=b(Ls),this.location=b(qi),this.changeDetector=b(Hr),this.environmentInjector=b(it),this.inputBinder=b(pl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new om(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Ie({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vn]})}}return e})(),om=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===oo?this.route:t===Ls?this.childContexts:this.parent.get(t,n)}},pl=new V(""),CI=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=qo([r.queryParams,r.params,r.data]).pipe(wt(([o,s,a],c)=>(a=S(S(S({},o),s),a),c===0?U(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=Hw(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})();function QN(e,t,n){let r=Os(e,t._root,n?n._root:void 0);return new cl(r,t)}function Os(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=YN(e,t,n);return new xt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Os(e,a)),s}}let r=ZN(t.value),i=t.children.map(o=>Os(e,o));return new xt(r,i)}}function YN(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Os(e,r,i);return Os(e,r)})}function ZN(e){return new oo(new Ye(e.url),new Ye(e.params),new Ye(e.queryParams),new Ye(e.fragment),new Ye(e.data),e.outlet,e.component,e)}var zI="ngNavigationCancelingError";function GI(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=ro(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=WI(!1,At.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function WI(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[zI]=!0,n.cancellationCode=t,n}function JN(e){return KI(e)&&ro(e.url)}function KI(e){return!!e&&e[zI]}var XN=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Uc({type:e,selectors:[["ng-component"]],standalone:!0,features:[fu],decls:1,vars:0,template:function(r,i){r&1&&He(0,"router-outlet")},dependencies:[pm],encapsulation:2})}}return e})();function eO(e,t){return e.providers&&!e._injector&&(e._injector=au(e.providers,t,`Route: ${e.path}`)),e._injector??t}function mm(e){let t=e.children&&e.children.map(mm),n=t?se(S({},e),{children:t}):S({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=XN),n}function vn(e){return e.outlet||Z}function tO(e,t){let n=e.filter(r=>vn(r)===t);return n.push(...e.filter(r=>vn(r)!==t)),n}function js(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nO=(e,t,n,r)=>Q(i=>(new sm(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),sm=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Lp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Xi(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Xi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Xi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Xi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new em(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Jp(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Lp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lp(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=js(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}},ll=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},to=class{constructor(t,n){this.component=t,this.route=n}};function rO(e,t,n){let r=e._root,i=t?t._root:null;return Ds(r,i,n,[r.value])}function iO(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function ao(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!$_(e)?e:t.get(e):r}function Ds(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Xi(t);return e.children.forEach(s=>{oO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ss(a,n.getContext(s),i)),i}function oO(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=sO(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ll(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ds(e,t,a?a.children:null,r,i):Ds(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new to(a.outlet.component,s))}else s&&Ss(t,a,i),i.canActivateChecks.push(new ll(r)),o.component?Ds(e,null,a?a.children:null,r,i):Ds(e,null,n,r,i);return i}function sO(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Yr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Yr(e.url,t.url)||!yn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!im(e,t)||!yn(e.queryParams,t.queryParams);case"paramsChange":default:return!im(e,t)}}function Ss(e,t,n){let r=Xi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ss(s,t.children.getContext(o),n):Ss(s,null,n):Ss(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new to(t.outlet.component,i)):n.canDeactivateChecks.push(new to(null,i)):n.canDeactivateChecks.push(new to(null,i))}function Bs(e){return typeof e=="function"}function aO(e){return typeof e=="boolean"}function cO(e){return e&&Bs(e.canLoad)}function uO(e){return e&&Bs(e.canActivate)}function lO(e){return e&&Bs(e.canActivateChild)}function dO(e){return e&&Bs(e.canDeactivate)}function hO(e){return e&&Bs(e.canMatch)}function QI(e){return e instanceof Mn||e?.name==="EmptyError"}var Ju=Symbol("INITIAL_VALUE");function so(){return wt(e=>qo(e.map(t=>t.pipe(Rn(1),oh(Ju)))).pipe(Q(t=>{for(let n of t)if(n!==!0){if(n===Ju)return Ju;if(n===!1||n instanceof fr)return n}return!0}),_t(t=>t!==Ju),Rn(1)))}function fO(e,t){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?U(se(S({},n),{guardsResult:!0})):pO(s,r,i,e).pipe(Ve(a=>a&&aO(a)?mO(r,o,e,t):U(a)),Q(a=>se(S({},n),{guardsResult:a})))})}function pO(e,t,n,r){return be(e).pipe(Ve(i=>wO(i.component,i.route,n,t,r)),rn(i=>i!==!0,!0))}function mO(e,t,n,r){return be(t).pipe(Pn(i=>bi(yO(i.route.parent,r),gO(i.route,r),_O(e,i.path,n),vO(e,i.route,n))),rn(i=>i!==!0,!0))}function gO(e,t){return e!==null&&t&&t(new Xp(e)),U(!0)}function yO(e,t){return e!==null&&t&&t(new Zp(e)),U(!0)}function vO(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return U(!0);let i=r.map(o=>sc(()=>{let s=js(t)??n,a=ao(o,s),c=uO(a)?a.canActivate(t,e):Gt(s,()=>a(t,e));return gr(c).pipe(rn())}));return U(i).pipe(so())}function _O(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>iO(s)).filter(s=>s!==null).map(s=>sc(()=>{let a=s.guards.map(c=>{let u=js(s.node)??n,l=ao(c,u),d=lO(l)?l.canActivateChild(r,e):Gt(u,()=>l(r,e));return gr(d).pipe(rn())});return U(a).pipe(so())}));return U(o).pipe(so())}function wO(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return U(!0);let s=o.map(a=>{let c=js(t)??i,u=ao(a,c),l=dO(u)?u.canDeactivate(e,t,n,r):Gt(c,()=>u(e,t,n,r));return gr(l).pipe(rn())});return U(s).pipe(so())}function EO(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return U(!0);let o=i.map(s=>{let a=ao(s,e),c=cO(a)?a.canLoad(t,n):Gt(e,()=>a(t,n));return gr(c)});return U(o).pipe(so(),YI(r))}function YI(e){return Yd(qe(t=>{if(ro(t))throw GI(e,t)}),Q(t=>t===!0))}function IO(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return U(!0);let o=i.map(s=>{let a=ao(s,e),c=hO(a)?a.canMatch(t,n):Gt(e,()=>a(t,n));return gr(c)});return U(o).pipe(so(),YI(r))}var Fs=class{constructor(t){this.segmentGroup=t||null}},dl=class extends Error{constructor(t){super(),this.urlTree=t}};function Ji(e){return Di(new Fs(e))}function DO(e){return Di(new k(4e3,!1))}function CO(e){return Di(WI(!1,At.GuardRejected))}var am=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return U(r);if(i.numberOfChildren>1||!i.children[Z])return DO(t.redirectTo);i=i.children[Z]}}applyRedirectCommands(t,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new dl(i);return i}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new fr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new me(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},cm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bO(e,t,n,r,i){let o=gm(e,t,n);return o.matched?(r=eO(t,r),IO(r,t,n,i).pipe(Q(s=>s===!0?o:S({},cm)))):U(o)}function gm(e,t,n){if(t.path==="**")return TO(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?S({},cm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||IN)(n,e,t);if(!i)return S({},cm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function TO(e){return{matched:!0,parameters:e.length>0?AI(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function bI(e,t,n,r){return n.length>0&&AO(e,n,r)?{segmentGroup:new me(t,xO(r,new me(n,e.children))),slicedSegments:[]}:n.length===0&&MO(e,n,r)?{segmentGroup:new me(e.segments,SO(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new me(e.segments,e.children),slicedSegments:n}}function SO(e,t,n,r){let i={};for(let o of n)if(ml(e,t,o)&&!r[vn(o)]){let s=new me([],{});i[vn(o)]=s}return S(S({},r),i)}function xO(e,t){let n={};n[Z]=t;for(let r of e)if(r.path===""&&vn(r)!==Z){let i=new me([],{});n[vn(r)]=i}return n}function AO(e,t,n){return n.some(r=>ml(e,t,r)&&vn(r)!==Z)}function MO(e,t,n){return n.some(r=>ml(e,t,r))}function ml(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function PO(e,t,n,r){return vn(e)!==r&&(r===Z||!ml(t,n,e))?!1:gm(t,e,n).matched}function RO(e,t,n){return t.length===0&&!e.children[n]}var um=class{};function NO(e,t,n,r,i,o,s="emptyOnly"){return new lm(e,t,n,r,i,s,o).recognize()}var OO=31,lm=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new am(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new k(4002,`'${t.segmentGroup}'`)}recognize(){let t=bI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Q(n=>{let r=new Ns([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},Z,this.rootComponentType,null,{}),i=new xt(r,n),o=new ul("",i),s=UN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Z).pipe(Jn(r=>{if(r instanceof dl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fs?this.noMatchError(r):r}))}inheritParamsAndData(t,n){let r=t.value,i=hm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(Q(o=>o instanceof xt?[o]:[]))}processChildren(t,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return be(i).pipe(Pn(o=>{let s=r.children[o],a=tO(n,o);return this.processSegmentGroup(t,a,s,o)}),ih((o,s)=>(o.push(...s),o)),Xn(null),rh(),Ve(o=>{if(o===null)return Ji(r);let s=ZI(o);return FO(s),U(s)}))}processSegment(t,n,r,i,o,s){return be(n).pipe(Pn(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Jn(c=>{if(c instanceof Fs)return U(null);throw c}))),rn(a=>!!a),Jn(a=>{if(QI(a))return RO(r,i,o)?U(new um):Ji(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return PO(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Ji(i):Ji(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=gm(n,i,o);if(!a)return Ji(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>OO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ve(h=>this.processSegment(t,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let s=bO(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(wt(a=>a.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(wt(({routes:c})=>{let u=r._loadedInjector??t,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Ns(l,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,VO(r),vn(r),r.component??r._loadedComponent??null,r,LO(r)),{segmentGroup:_,slicedSegments:v}=bI(n,l,d,c);if(v.length===0&&_.hasChildren())return this.processChildren(u,c,_).pipe(Q(M=>M===null?null:new xt(f,M)));if(c.length===0&&v.length===0)return U(new xt(f,[]));let w=vn(r)===o;return this.processSegment(u,c,_,v,w?Z:o,!0).pipe(Q(M=>new xt(f,M instanceof xt?[M]:[])))}))):Ji(n)))}getChildConfig(t,n,r){return n.children?U({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?U({routes:n._loadedRoutes,injector:n._loadedInjector}):EO(t,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(t,n).pipe(qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):CO(n))):U({routes:[],injector:t})}};function FO(e){e.sort((t,n)=>t.value.outlet===Z?-1:n.value.outlet===Z?1:t.value.outlet.localeCompare(n.value.outlet))}function kO(e){let t=e.value.routeConfig;return t&&t.path===""}function ZI(e){let t=[],n=new Set;for(let r of e){if(!kO(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=ZI(r.children);t.push(new xt(r.value,i))}return t.filter(r=>!n.has(r))}function VO(e){return e.data||{}}function LO(e){return e.resolve||{}}function jO(e,t,n,r,i,o){return Ve(s=>NO(e,t,n,r,s.extractedUrl,i,o).pipe(Q(({state:a,tree:c})=>se(S({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function BO(e,t){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return U(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of JI(c))s.add(u);let a=0;return be(s).pipe(Pn(c=>o.has(c)?UO(c,r,e,t):(c.data=hm(c,c.parent,e).resolve,U(void 0))),qe(()=>a++),Ti(1),Ve(c=>a===s.size?U(n):Tt))})}function JI(e){let t=e.children.map(n=>JI(n)).flat();return[e,...t]}function UO(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!HI(i)&&(o[ks]=i.title),$O(o,e,t,r).pipe(Q(s=>(e._resolvedData=s,e.data=hm(e,e.parent,n).resolve,null)))}function $O(e,t,n,r){let i=Up(e);if(i.length===0)return U({});let o={};return be(i).pipe(Ve(s=>qO(e[s],t,n,r).pipe(rn(),qe(a=>{o[s]=a}))),Ti(1),nh(o),Jn(s=>QI(s)?Tt:Di(s)))}function qO(e,t,n,r){let i=js(t)??r,o=ao(e,i),s=o.resolve?o.resolve(t,n):Gt(i,()=>o(t,n));return gr(s)}function jp(e){return wt(t=>{let n=e(t);return n?be(n).pipe(Q(()=>t)):U(t)})}var XI=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[ks]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:()=>b(HO),providedIn:"root"})}}return e})(),HO=(()=>{class e extends XI{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(L(xE))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Us=new V("",{providedIn:"root",factory:()=>({})}),hl=new V(""),ym=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(yu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return U(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=gr(n.loadComponent()).pipe(Q(eD),qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ar(()=>{this.componentLoaders.delete(n)})),i=new Ii(r,()=>new ht).pipe(Ei());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=zO(r,this.compiler,n,this.onLoadEndListener).pipe(Ar(()=>{this.childrenLoaders.delete(r)})),s=new Ii(o,()=>new ht).pipe(Ei());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function zO(e,t,n,r){return gr(e.loadChildren()).pipe(Q(eD),Ve(i=>i instanceof es||Array.isArray(i)?U(i):be(t.compileModuleAsync(i))),Q(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(hl,[],{optional:!0,self:!0}).flat()),{routes:s.map(mm),injector:o}}))}function GO(e){return e&&typeof e=="object"&&"default"in e}function eD(e){return GO(e)?e.default:e}var vm=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:()=>b(WO),providedIn:"root"})}}return e})(),WO=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tD=new V(""),nD=new V("");function KO(e,t,n){let r=e.get(nD),i=e.get(at);return e.get(Se).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),QO(e))),{onViewTransitionCreated:c}=r;return c&&Gt(e,()=>c({transition:a,from:t,to:n})),s})}function QO(e){return new Promise(t=>{su(t,{injector:e})})}var _m=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.transitionAbortSubject=new ht,this.configLoader=b(ym),this.environmentInjector=b(it),this.urlSerializer=b(Vs),this.rootContexts=b(Ls),this.location=b(Wi),this.inputBindingEnabled=b(pl,{optional:!0})!==null,this.titleStrategy=b(XI),this.options=b(Us,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=b(vm),this.createViewTransition=b(tD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>U(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Qp(i)),r=i=>this.events.next(new Yp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(se(S(S({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ye({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ts,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_t(o=>o.id!==0),Q(o=>se(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),wt(o=>{let s=!1,a=!1;return U(o).pipe(wt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",At.SupersededByNewNavigation),Tt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?se(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload"){let d="";return this.events.next(new mr(c.id,this.urlSerializer.serialize(c.rawUrl),d,il.IgnoredSameUrlNavigation)),c.resolve(null),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return U(c).pipe(wt(d=>{let h=this.transitions?.getValue();return this.events.next(new io(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Tt:Promise.resolve(d)}),jO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=se(S({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new ol(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:_,extras:v}=c,w=new io(d,this.urlSerializer.serialize(h),f,_);this.events.next(w);let M=$I(this.rootComponentType).snapshot;return this.currentTransition=o=se(S({},c),{targetSnapshot:M,urlAfterRedirects:h,extras:se(S({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,U(o)}else{let d="";return this.events.next(new mr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,il.IgnoredByUrlHandlingStrategy)),c.resolve(null),Tt}}),qe(c=>{let u=new zp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Q(c=>(this.currentTransition=o=se(S({},c),{guards:rO(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),fO(this.environmentInjector,c=>this.events.next(c)),qe(c=>{if(o.guardsResult=c.guardsResult,ro(c.guardsResult))throw GI(this.urlSerializer,c.guardsResult);let u=new Gp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),_t(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",At.GuardRejected),!1)),jp(c=>{if(c.guards.canActivateChecks.length)return U(c).pipe(qe(u=>{let l=new Wp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),wt(u=>{let l=!1;return U(u).pipe(BO(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",At.NoDataFromResolver)}}))}),qe(u=>{let l=new Kp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),jp(c=>{let u=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(qe(h=>{l.component=h}),Q(()=>{})));for(let h of l.children)d.push(...u(h));return d};return qo(u(c.targetSnapshot.root)).pipe(Xn(null),Rn(1))}),jp(()=>this.afterPreactivation()),wt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,l=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return l?be(l).pipe(Q(()=>o)):U(o)}),Q(c=>{let u=QN(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=se(S({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),qe(()=>{this.events.next(new Ps)}),nO(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Rn(1),qe({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $n(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),sh(this.transitionAbortSubject.pipe(qe(c=>{throw c}))),Ar(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",At.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jn(c=>{if(a=!0,KI(c))this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),JN(c)?this.events.next(new Rs(c.url)):o.resolve(!1);else{this.events.next(new Ms(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Tt}))}))}cancelNavigationTransition(n,r,i){let o=new pr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function YO(e){return e!==Ts}var ZO=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:()=>b(JO),providedIn:"root"})}}return e})(),dm=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},JO=(()=>{class e extends dm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Kt(e)))(i||e)}})()}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rD=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:()=>b(XO),providedIn:"root"})}}return e})(),XO=(()=>{class e extends rD{constructor(){super(...arguments),this.location=b(Wi),this.urlSerializer=b(Vs),this.options=b(Us,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=b(vm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$I(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof io)this.stateMemento=this.createStateMemento();else if(n instanceof mr)this.rawUrlTree=r.initialUrl;else if(n instanceof ol){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof Ps?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof pr&&(n.code===At.GuardRejected||n.code===At.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ms?this.restoreHistory(r,!0):n instanceof $n&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=S(S({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=S(S({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Kt(e)))(i||e)}})()}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Cs=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Cs||{});function iD(e,t){e.events.pipe(_t(n=>n instanceof $n||n instanceof pr||n instanceof Ms||n instanceof mr),Q(n=>n instanceof $n||n instanceof mr?Cs.COMPLETE:(n instanceof pr?n.code===At.Redirect||n.code===At.SupersededByNewNavigation:!1)?Cs.REDIRECTING:Cs.FAILED),_t(n=>n!==Cs.REDIRECTING),Rn(1)).subscribe(()=>{t()})}function eF(e){throw e}var tF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Zr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=b(pu),this.stateManager=b(rD),this.options=b(Us,{optional:!0})||{},this.pendingTasks=b(Hi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=b(_m),this.urlSerializer=b(Vs),this.location=b(Wi),this.urlHandlingStrategy=b(vm),this._events=new ht,this.errorHandler=this.options.errorHandler||eF,this.navigated=!1,this.routeReuseStrategy=b(ZO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=b(hl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!b(pl,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=b(Se)instanceof Se&&Se.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof pr&&r.code!==At.Redirect&&r.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $n)this.navigated=!0;else if(r instanceof Rs){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||YO(i.source)};this.scheduleNavigation(s,Ts,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}iF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ts,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=S({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(mm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a){case"merge":l=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=LI(h)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return jI(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ro(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ts,null,r)}navigate(n,r={skipLocationChange:!1}){return rF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=S({},tF):r===!1?i=S({},nF):i=r,ro(n))return wI(this.currentUrlTree,n,i);let o=this.parseUrl(n);return wI(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return iD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function rF(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new k(4008,!1)}function iF(e){return!(e instanceof Ps)&&!(e instanceof Rs)}var fl=class{};var oF=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_t(n=>n instanceof $n),Pn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=au(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return be(i).pipe(Ci())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=U(null);let o=i.pipe(Ve(s=>s===null?U(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return be([o,s]).pipe(Ci())}else return o})}static{this.\u0275fac=function(r){return new(r||e)(L(Zr),L(yu),L(it),L(fl),L(ym))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),oD=new V(""),sF=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=b(it),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof io?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof $n?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof mr&&n.code===il.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof sl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>C(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),su(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new sl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){lw()}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})();function aF(e){return e.routerState.root}function $s(e,t){return{\u0275kind:e,\u0275providers:t}}function cF(){let e=b(pn);return t=>{let n=e.get(zi);if(t!==n.components[0])return;let r=e.get(Zr),i=e.get(sD);e.get(wm)===1&&r.initialNavigation(),e.get(aD,null,ee.Optional)?.setUpPreloading(),e.get(oD,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sD=new V("",{factory:()=>new ht}),wm=new V("",{providedIn:"root",factory:()=>1});function uF(){return $s(2,[{provide:wm,useValue:0},{provide:mu,multi:!0,deps:[pn],useFactory:t=>{let n=t.get(Xw,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=t.get(Zr),o=t.get(sD);iD(i,()=>{r(!0)}),t.get(_m).afterPreactivation=()=>(r(!0),o.closed?U(void 0):o),i.initialNavigation()}))}}])}function lF(){return $s(3,[{provide:mu,multi:!0,useFactory:()=>{let t=b(Zr);return()=>{t.setUpLocationChangeListener()}}},{provide:wm,useValue:2}])}var aD=new V("");function dF(e){return $s(0,[{provide:aD,useExisting:oF},{provide:fl,useExisting:e}])}function hF(){return $s(8,[CI,{provide:pl,useExisting:CI}])}function fF(e){let t=[{provide:tD,useValue:KO},{provide:nD,useValue:S({skipNextTransition:!!e?.skipInitialTransition},e)}];return $s(9,t)}var TI=new V("ROUTER_FORROOT_GUARD"),pF=[Wi,{provide:Vs,useClass:xs},Zr,Ls,{provide:oo,useFactory:aF,deps:[Zr]},ym,[]],cD=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[pF,[],{provide:hl,multi:!0,useValue:n},{provide:TI,useFactory:vF,deps:[[Zr,new Bc,new hf]]},{provide:Us,useValue:r||{}},r?.useHash?gF():yF(),mF(),r?.preloadingStrategy?dF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?_F(r):[],r?.bindToComponentInputs?hF().\u0275providers:[],r?.enableViewTransitions?fF().\u0275providers:[],wF()]}}static forChild(n){return{ngModule:e,providers:[{provide:hl,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)(L(TI,8))}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=hn({})}}return e})();function mF(){return{provide:oD,useFactory:()=>{let e=b(uE),t=b(Se),n=b(Us),r=b(_m),i=b(Vs);return n.scrollOffset&&e.setOffset(n.scrollOffset),new sF(i,r,e,t,n)}}}function gF(){return{provide:zr,useClass:tE}}function yF(){return{provide:zr,useClass:rp}}function vF(e){return"guarded"}function _F(e){return[e.initialNavigation==="disabled"?lF().\u0275providers:[],e.initialNavigation==="enabledBlocking"?uF().\u0275providers:[]]}var SI=new V("");function wF(){return[{provide:SI,useFactory:cF},{provide:gu,multi:!0,useExisting:SI}]}var lD=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},IF=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},dD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,s||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lD(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):IF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let u=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new Em;let h=o<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Em=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},DF=function(e){let t=lD(e);return dD.encodeByteArray(t,!0)},qs=function(e){return DF(e).replace(/\./g,"")},CF=function(e){try{return dD.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function bF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var TF=()=>bF().__FIREBASE_DEFAULTS__,SF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},xF=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&CF(e[1]);return t&&JSON.parse(t)},hD=()=>{try{return TF()||SF()||xF()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},AF=e=>{var t,n;return(n=(t=hD())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},fD=e=>{let t=AF(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Im=()=>{var e;return(e=hD())===null||e===void 0?void 0:e.config};var gl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function pD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qs(JSON.stringify(n)),qs(JSON.stringify(s)),""].join(".")}function Dm(){try{return typeof indexedDB=="object"}catch{return!1}}function mD(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var MF="FirebaseError",qn=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=MF,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hs.prototype.create)}},Hs=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?PF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qn(i,a,r)}};function PF(e,t){return e.replace(RF,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var RF=/\{\$([^}]+)}/g;function zs(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(uD(o)&&uD(s)){if(!zs(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function uD(e){return e!==null&&typeof e=="object"}var g9=4*60*60*1e3;function co(e){return e&&e._delegate?e._delegate:e}var Hn=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Jr="[DEFAULT]";var Cm=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new gl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OF(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return C(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NF(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NF(e){return e===Jr?void 0:e}function OF(e){return e.instantiationMode==="EAGER"}var yl=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Cm(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var FF=[],ce=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ce||{}),kF={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},VF=ce.INFO,LF={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},jF=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=LF[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},uo=class{constructor(t){this.name=t,this._logLevel=VF,this._logHandler=jF,this._userLogHandler=null,FF.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kF[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}};var BF=(e,t)=>t.some(n=>e instanceof n),gD,yD;function UF(){return gD||(gD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $F(){return yD||(yD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vD=new WeakMap,Tm=new WeakMap,_D=new WeakMap,bm=new WeakMap,xm=new WeakMap;function qF(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(_n(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&vD.set(n,e)}).catch(()=>{}),xm.set(t,e),t}function HF(e){if(Tm.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Tm.set(e,t)}var Sm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Tm.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_D.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _n(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function wD(e){Sm=e(Sm)}function zF(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(vl(this),t,...n);return _D.set(r,t.sort?t.sort():[t]),_n(r)}:$F().includes(e)?function(...t){return e.apply(vl(this),t),_n(vD.get(this))}:function(...t){return _n(e.apply(vl(this),t))}}function GF(e){return typeof e=="function"?zF(e):(e instanceof IDBTransaction&&HF(e),BF(e,UF())?new Proxy(e,Sm):e)}function _n(e){if(e instanceof IDBRequest)return qF(e);if(bm.has(e))return bm.get(e);let t=GF(e);return t!==e&&(bm.set(e,t),xm.set(t,e)),t}var vl=e=>xm.get(e);function ID(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=_n(s);return r&&s.addEventListener("upgradeneeded",c=>{r(_n(s.result),c.oldVersion,c.newVersion,_n(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var WF=["get","getKey","getAll","getAllKeys","count"],KF=["put","add","delete","clear"],Am=new Map;function ED(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Am.get(t))return Am.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=KF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WF.includes(n)))return;let o=function(s,...a){return C(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Am.set(t,o),o}wD(e=>se(S({},e),{get:(t,n,r)=>ED(t,n)||e.get(t,n,r),has:(t,n)=>!!ED(t,n)||e.has(t,n)}));var Pm=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function QF(e){let t=e.getComponent();return t?.type==="VERSION"}var Rm="@firebase/app",DD="0.9.24";var Xr=new uo("@firebase/app"),YF="@firebase/app-compat",ZF="@firebase/analytics-compat",JF="@firebase/analytics",XF="@firebase/app-check-compat",ek="@firebase/app-check",tk="@firebase/auth",nk="@firebase/auth-compat",rk="@firebase/database",ik="@firebase/database-compat",ok="@firebase/functions",sk="@firebase/functions-compat",ak="@firebase/installations",ck="@firebase/installations-compat",uk="@firebase/messaging",lk="@firebase/messaging-compat",dk="@firebase/performance",hk="@firebase/performance-compat",fk="@firebase/remote-config",pk="@firebase/remote-config-compat",mk="@firebase/storage",gk="@firebase/storage-compat",yk="@firebase/firestore",vk="@firebase/firestore-compat",_k="firebase",wk="10.7.0";var Nm="[DEFAULT]",Ek={[Rm]:"fire-core",[YF]:"fire-core-compat",[JF]:"fire-analytics",[ZF]:"fire-analytics-compat",[ek]:"fire-app-check",[XF]:"fire-app-check-compat",[tk]:"fire-auth",[nk]:"fire-auth-compat",[rk]:"fire-rtdb",[ik]:"fire-rtdb-compat",[ok]:"fire-fn",[sk]:"fire-fn-compat",[ak]:"fire-iid",[ck]:"fire-iid-compat",[uk]:"fire-fcm",[lk]:"fire-fcm-compat",[dk]:"fire-perf",[hk]:"fire-perf-compat",[fk]:"fire-rc",[pk]:"fire-rc-compat",[mk]:"fire-gcs",[gk]:"fire-gcs-compat",[yk]:"fire-fst",[vk]:"fire-fst-compat","fire-js":"fire-js",[_k]:"fire-js-all"};var _l=new Map,Om=new Map;function Ik(e,t){try{e.container.addComponent(t)}catch(n){Xr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Gs(e){let t=e.name;if(Om.has(t))return Xr.debug(`There were multiple attempts to register component ${t}.`),!1;Om.set(t,e);for(let n of _l.values())Ik(n,e);return!0}function SD(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Dk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},yr=new Hs("app","Firebase",Dk);var Fm=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}};var xD=wk;function Lm(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=Im()),!n)throw yr.create("no-options");let o=_l.get(i);if(o){if(zs(n,o.options)&&zs(r,o.config))return o;throw yr.create("duplicate-app",{appName:i})}let s=new yl(i);for(let c of Om.values())s.addComponent(c);let a=new Fm(n,r,s);return _l.set(i,a),a}function AD(e=Nm){let t=_l.get(e);if(!t&&e===Nm&&Im())return Lm();if(!t)throw yr.create("no-app",{appName:e});return t}function vr(e,t,n){var r;let i=(r=Ek[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xr.warn(a.join(" "));return}Gs(new Hn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Ck="firebase-heartbeat-database",bk=1,Ws="firebase-heartbeat-store",Mm=null;function MD(){return Mm||(Mm=ID(Ck,bk,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ws)}}}).catch(e=>{throw yr.create("idb-open",{originalErrorMessage:e.message})})),Mm}function Tk(e){return C(this,null,function*(){try{return yield(yield MD()).transaction(Ws).objectStore(Ws).get(PD(e))}catch(t){if(t instanceof qn)Xr.warn(t.message);else{let n=yr.create("idb-get",{originalErrorMessage:t?.message});Xr.warn(n.message)}}})}function CD(e,t){return C(this,null,function*(){try{let r=(yield MD()).transaction(Ws,"readwrite");yield r.objectStore(Ws).put(t,PD(e)),yield r.done}catch(n){if(n instanceof qn)Xr.warn(n.message);else{let r=yr.create("idb-set",{originalErrorMessage:n?.message});Xr.warn(r.message)}}})}function PD(e){return`${e.name}!${e.options.appId}`}var Sk=1024,xk=30*24*60*60*1e3,km=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Vm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var t,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bD();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=xk}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return C(this,null,function*(){var t;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=bD(),{heartbeatsToSend:r,unsentEntries:i}=Ak(this._heartbeatsCache.heartbeats),o=qs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function bD(){return new Date().toISOString().substring(0,10)}function Ak(e,t=Sk){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),TD(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TD(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Vm=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Dm()?mD().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Tk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return CD(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return CD(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function TD(e){return qs(JSON.stringify({version:2,heartbeats:e})).length}function Mk(e){Gs(new Hn("platform-logger",t=>new Pm(t),"PRIVATE")),Gs(new Hn("heartbeat",t=>new km(t),"PRIVATE")),vr(Rm,DD,e),vr(Rm,DD,"esm2017"),vr("fire-js","")}Mk("");var Pk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xt={},T,sg=sg||{},z=Pk||self;function Nl(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function aa(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Rk(e){return Object.prototype.hasOwnProperty.call(e,jm)&&e[jm]||(e[jm]=++Nk)}var jm="closure_uid_"+(1e9*Math.random()>>>0),Nk=0;function Ok(e,t,n){return e.call.apply(e.bind,arguments)}function Fk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function ct(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ct=Ok:ct=Fk,ct.apply(null,arguments)}function wl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ke(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function _r(){this.s=this.s,this.o=this.o}var kk=0;_r.prototype.s=!1;_r.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),kk!=0)&&Rk(this)};_r.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var HD=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ag(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function RD(e,t){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Nl(r)){let i=e.length||0,o=r.length||0;e.length=i+o;for(let s=0;s<o;s++)e[i+s]=r[s]}else e.push(r)}}function ut(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var Vk=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let n=()=>{};z.addEventListener("test",n,t),z.removeEventListener("test",n,t)}catch{}return e}();function Xs(e){return/^[\s\xa0]*$/.test(e)}function Ol(){var e=z.navigator;return e&&(e=e.userAgent)?e:""}function wn(e){return Ol().indexOf(e)!=-1}function cg(e){return cg[" "](e),e}cg[" "]=function(){};function Lk(e,t){var n=TV;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var jk=wn("Opera"),po=wn("Trident")||wn("MSIE"),zD=wn("Edge"),Hm=zD||po,GD=wn("Gecko")&&!(Ol().toLowerCase().indexOf("webkit")!=-1&&!wn("Edge"))&&!(wn("Trident")||wn("MSIE"))&&!wn("Edge"),Bk=Ol().toLowerCase().indexOf("webkit")!=-1&&!wn("Edge");function WD(){var e=z.document;return e?e.documentMode:void 0}var zm;e:{if(El="",Il=function(){var e=Ol();if(GD)return/rv:([^\);]+)(\)|;)/.exec(e);if(zD)return/Edge\/([\d\.]+)/.exec(e);if(po)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Bk)return/WebKit\/(\S+)/.exec(e);if(jk)return/(?:Version)[ \/]?(\S+)/.exec(e)}(),Il&&(El=Il?Il[1]:""),po&&(Dl=WD(),Dl!=null&&Dl>parseFloat(El))){zm=String(Dl);break e}zm=El}var El,Il,Dl,Gm;z.document&&po?(Bm=WD(),Gm=Bm||parseInt(zm,10)||void 0):Gm=void 0;var Bm,Uk=Gm;function ea(e,t){if(ut.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(GD){e:{try{cg(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:$k[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ea.$.h.call(this)}}Ke(ea,ut);var $k={2:"touch",3:"pen",4:"mouse"};ea.prototype.h=function(){ea.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ca="closure_listenable_"+(1e6*Math.random()|0),qk=0;function Hk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++qk,this.fa=this.ia=!1}function Fl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ug(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function zk(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function KD(e){let t={};for(let n in e)t[n]=e[n];return t}var ND="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QD(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<ND.length;o++)n=ND[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function kl(e){this.src=e,this.g={},this.h=0}kl.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=Km(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):(t=new Hk(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};function Wm(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=HD(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Fl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Km(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}var lg="closure_lm_"+(1e6*Math.random()|0),Um={};function YD(e,t,n,r,i){if(r&&r.once)return JD(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)YD(e,t[o],n,r,i);return null}return n=fg(n),e&&e[ca]?e.O(t,n,aa(r)?!!r.capture:!!r,i):ZD(e,t,n,!1,r,i)}function ZD(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=aa(i)?!!i.capture:!!i,a=hg(e);if(a||(e[lg]=a=new kl(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=Gk(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vk||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(eC(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Gk(){function e(n){return t.call(e.src,e.listener,n)}let t=Wk;return e}function JD(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)JD(e,t[o],n,r,i);return null}return n=fg(n),e&&e[ca]?e.P(t,n,aa(r)?!!r.capture:!!r,i):ZD(e,t,n,!0,r,i)}function XD(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)XD(e,t[o],n,r,i);else r=aa(r)?!!r.capture:!!r,n=fg(n),e&&e[ca]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=Km(o,n,r,i),-1<n&&(Fl(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=hg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Km(t,n,r,i)),(n=-1<e?t[e]:null)&&dg(n))}function dg(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[ca])Wm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(eC(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hg(t))?(Wm(n,e),n.h==0&&(n.src=null,t[lg]=null)):Fl(e)}}}function eC(e){return e in Um?Um[e]:Um[e]="on"+e}function Wk(e,t){if(e.fa)e=!0;else{t=new ea(t,this);var n=e.listener,r=e.la||e.src;e.ia&&dg(e),e=n.call(r,t)}return e}function hg(e){return e=e[lg],e instanceof kl?e:null}var $m="__closure_events_fn_"+(1e9*Math.random()>>>0);function fg(e){return typeof e=="function"?e:(e[$m]||(e[$m]=function(t){return e.handleEvent(t)}),e[$m])}function We(){_r.call(this),this.i=new kl(this),this.S=this,this.J=null}Ke(We,_r);We.prototype[ca]=!0;We.prototype.removeEventListener=function(e,t,n,r){XD(this,e,t,n,r)};function tt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ut(t,e);else if(t instanceof ut)t.target=t.target||e;else{var i=t;t=new ut(r,e),QD(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Cl(s,r,!0,t)&&i}if(s=t.g=e,i=Cl(s,r,!0,t)&&i,i=Cl(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Cl(s,r,!1,t)&&i}We.prototype.N=function(){if(We.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Fl(n[r]);delete e.g[t],e.h--}}this.J=null};We.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};We.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Cl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Wm(e.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var pg=z.JSON.stringify,Qm=class{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}};function Kk(){var e=mg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ym=class{constructor(){this.h=this.g=null}add(t,n){let r=tC.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}},tC=new Qm(()=>new Zm,e=>e.reset()),Zm=class{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Qk(e){var t=1;e=e.split(":");let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Yk(e){z.setTimeout(()=>{throw e},0)}var ta,na=!1,mg=new Ym,nC=()=>{let e=z.Promise.resolve(void 0);ta=()=>{e.then(Zk)}},Zk=()=>{for(var e;e=Kk();){try{e.h.call(e.g)}catch(n){Yk(n)}var t=tC;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}na=!1};function Vl(e,t){We.call(this),this.h=e||1,this.g=t||z,this.j=ct(this.qb,this),this.l=Date.now()}Ke(Vl,We);T=Vl.prototype;T.ga=!1;T.T=null;T.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),tt(this,"tick"),this.ga&&(gg(this),this.start()))}};T.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gg(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}T.N=function(){Vl.$.N.call(this),gg(this),delete this.g};function yg(e,t,n){if(typeof e=="function")n&&(e=ct(e,n));else if(e&&typeof e.handleEvent=="function")e=ct(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:z.setTimeout(e,t||0)}function rC(e){e.g=yg(()=>{e.g=null,e.i&&(e.i=!1,rC(e))},e.j);let t=e.h;e.h=null,e.m.apply(null,t)}var Jm=class extends _r{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:rC(this)}N(){super.N(),this.g&&(z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ra(e){_r.call(this),this.h=e,this.g={}}Ke(ra,_r);var OD=[];function iC(e,t,n,r){Array.isArray(n)||(n&&(OD[0]=n.toString()),n=OD);for(var i=0;i<n.length;i++){var o=YD(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function oC(e){ug(e.g,function(t,n){this.g.hasOwnProperty(n)&&dg(t)},e),e.g={}}ra.prototype.N=function(){ra.$.N.call(this),oC(this)};ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ll(){this.g=!0}Ll.prototype.Ea=function(){this.g=!1};function Jk(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+u+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function Xk(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function ho(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+tV(e,n)+(r?" "+r:"")})}function eV(e,t){e.info(function(){return"TIMEOUT: "+t})}Ll.prototype.info=function(){};function tV(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return pg(n)}catch{return t}}var ri={},FD=null;function jl(){return FD=FD||new We}ri.Ta="serverreachability";function sC(e){ut.call(this,ri.Ta,e)}Ke(sC,ut);function ia(e){let t=jl();tt(t,new sC(t))}ri.STAT_EVENT="statevent";function aC(e,t){ut.call(this,ri.STAT_EVENT,e),this.stat=t}Ke(aC,ut);function gt(e){let t=jl();tt(t,new aC(t,e))}ri.Ua="timingevent";function cC(e,t){ut.call(this,ri.Ua,e),this.size=t}Ke(cC,ut);function ua(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){e()},t)}var Bl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vg(){}vg.prototype.h=null;function kD(e){return e.h||(e.h=e.i())}function lC(){}var la={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _g(){ut.call(this,"d")}Ke(_g,ut);function wg(){ut.call(this,"c")}Ke(wg,ut);var Xm;function Ul(){}Ke(Ul,vg);Ul.prototype.g=function(){return new XMLHttpRequest};Ul.prototype.i=function(){return{}};Xm=new Ul;function da(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ra(this),this.P=nV,e=Hm?125:void 0,this.V=new Vl(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dC}function dC(){this.i=null,this.g="",this.h=!1}var nV=45e3,hC={},eg={};T=da.prototype;T.setTimeout=function(e){this.P=e};function tg(e,t,n){e.L=1,e.A=ql(Gn(t)),e.u=n,e.S=!0,fC(e,null)}function fC(e,t){e.G=Date.now(),ha(e),e.B=Gn(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),EC(n.i,"t",r),e.o=0,n=e.l.J,e.h=new dC,e.g=$C(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Jm(ct(e.Pa,e,e.g),e.O)),iC(e.U,e.g,"readystatechange",e.nb),t=e.I?KD(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ia(),Jk(e.j,e.v,e.B,e.m,e.W,e.u)}T.nb=function(e){e=e.target;let t=this.M;t&&En(e)==3?t.l():this.Pa(e)};T.Pa=function(e){try{if(e==this.g)e:{let l=En(this.g);var t=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Hm||this.g&&(this.h.h||this.g.ja()||BD(this.g)))){this.J||l!=4||t==7||(t==8||0>=d?ia(3):ia(2)),$l(this);var n=this.g.da();this.ca=n;t:if(pC(this)){var r=BD(this.g);e="";var i=r.length,o=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),Js(this);var s="";break t}this.h.i=new z.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,Xk(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xs(a)){var u=a;break t}}u=null}if(n=u)ho(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ng(this,n);else{this.i=!1,this.s=3,gt(12),ei(this),Js(this);break e}}this.S?(mC(this,l,s),Hm&&this.i&&l==3&&(iC(this.U,this.V,"tick",this.mb),this.V.start())):(ho(this.j,this.m,s,null),ng(this,s)),l==4&&ei(this),this.i&&!this.J&&(l==4?LC(this.l,this):(this.i=!1,ha(this)))}else DV(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),ei(this),Js(this)}}}catch{}finally{}};function pC(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function mC(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=rV(e,n),i==eg){t==4&&(e.s=4,gt(14),r=!1),ho(e.j,e.m,null,"[Incomplete Response]");break}else if(i==hC){e.s=4,gt(15),ho(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ho(e.j,e.m,i,null),ng(e,i);pC(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,gt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Tg(t),t.M=!0,gt(11))):(ho(e.j,e.m,n,"[Invalid Chunked Response]"),ei(e),Js(e))}T.mb=function(){if(this.g){var e=En(this.g),t=this.g.ja();this.o<t.length&&($l(this),mC(this,e,t),this.i&&e!=4&&ha(this))}};function rV(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?eg:(n=Number(t.substring(n,r)),isNaN(n)?hC:(r+=1,r+n>t.length?eg:(t=t.slice(r,r+n),e.o=r+n,t)))}T.cancel=function(){this.J=!0,ei(this)};function ha(e){e.Y=Date.now()+e.P,gC(e,e.P)}function gC(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=ua(ct(e.lb,e),t)}function $l(e){e.C&&(z.clearTimeout(e.C),e.C=null)}T.lb=function(){this.C=null;let e=Date.now();0<=e-this.Y?(eV(this.j,this.B),this.L!=2&&(ia(),gt(17)),ei(this),this.s=2,Js(this)):gC(this,this.Y-e)};function Js(e){e.l.H==0||e.J||LC(e.l,e)}function ei(e){$l(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,gg(e.V),oC(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ng(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||rg(n.i,e))){if(!e.K&&rg(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Al(n),Gl(n);else break e;bg(n),gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ua(ct(n.ib,n),6e3));if(1>=CC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ti(n,11)}else if((e.K||n.g==e)&&Al(n),!Xs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=e.g;if(f){let _=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Eg(o,o.h),o.h=null))}if(r.F){let v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Te(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=e;if(r.wa=UC(r,r.J?r.pa:null,r.Y),s.K){bC(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&($l(a),ha(a)),r.g=s}else kC(r);0<n.j.length&&Wl(n)}else u[0]!="stop"&&u[0]!="close"||ti(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ti(n,7):Cg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ia(4)}catch{}}function iV(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Nl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function oV(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Nl(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(let r in e)t[n++]=r;return t}}}function yC(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Nl(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=oV(e),r=iV(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var vC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sV(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ni(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ni){this.h=e.h,Sl(this,e.j),this.s=e.s,this.g=e.g,xl(this,e.m),this.l=e.l;var t=e.i,n=new oa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),VD(this,n),this.o=e.o}else e&&(t=String(e).match(vC))?(this.h=!1,Sl(this,t[1]||"",!0),this.s=Ys(t[2]||""),this.g=Ys(t[3]||"",!0),xl(this,t[4]),this.l=Ys(t[5]||"",!0),VD(this,t[6]||"",!0),this.o=Ys(t[7]||"")):(this.h=!1,this.i=new oa(null,this.h))}ni.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zs(t,LD,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Zs(t,LD,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Zs(n,n.charAt(0)=="/"?uV:cV,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zs(n,dV)),e.join("")};function Gn(e){return new ni(e)}function Sl(e,t,n){e.j=n?Ys(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function VD(e,t,n){t instanceof oa?(e.i=t,hV(e.i,e.h)):(n||(t=Zs(t,lV)),e.i=new oa(t,e.h))}function Te(e,t,n){e.i.set(t,n)}function ql(e){return Te(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ys(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zs(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,aV),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function aV(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var LD=/[#\/\?@]/g,cV=/[#\?:]/g,uV=/[#\?]/g,lV=/[#\?@]/g,dV=/#/g;function oa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wr(e){e.g||(e.g=new Map,e.h=0,e.i&&sV(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}T=oa.prototype;T.add=function(e,t){wr(this),this.i=null,e=mo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function _C(e,t){wr(e),t=mo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wC(e,t){return wr(e),t=mo(e,t),e.g.has(t)}T.forEach=function(e,t){wr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};T.ta=function(){wr(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};T.Z=function(e){wr(this);let t=[];if(typeof e=="string")wC(this,e)&&(t=t.concat(this.g.get(mo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};T.set=function(e,t){return wr(this),this.i=null,e=mo(this,e),wC(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};T.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function EC(e,t,n){_C(e,t),0<n.length&&(e.i=null,e.g.set(mo(e,t),ag(n)),e.h+=n.length)}T.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function mo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function hV(e,t){t&&!e.j&&(wr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_C(this,r),EC(this,i,n))},e)),e.j=t}var fV=class{constructor(e,t){this.g=e,this.map=t}};function IC(e){this.l=e||pV,z.PerformanceNavigationTiming?(e=z.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(z.g&&z.g.Ka&&z.g.Ka()&&z.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pV=10;function DC(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function CC(e){return e.h?1:e.g?e.g.size:0}function rg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Eg(e,t){e.g?e.g.add(t):e.h=t}function bC(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}IC.prototype.cancel=function(){if(this.i=TC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function TC(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.F);return t}return ag(e.i)}var mV=class{stringify(e){return z.JSON.stringify(e,void 0)}parse(e){return z.JSON.parse(e,void 0)}};function gV(){this.g=new mV}function yV(e,t,n){let r=n||"";try{yC(e,function(i,o){let s=i;aa(i)&&(s=pg(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vV(e,t){let n=new Ll;if(z.Image){let r=new Image;r.onload=wl(bl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wl(bl,n,r,"TestLoadImage: error",!1,t),r.onabort=wl(bl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wl(bl,n,r,"TestLoadImage: timeout",!1,t),z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function bl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function fa(e){this.l=e.ec||null,this.j=e.ob||!1}Ke(fa,vg);fa.prototype.g=function(){return new Hl(this.l,this.j)};fa.prototype.i=function(e){return function(){return e}}({});function Hl(e,t){We.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ig,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ke(Hl,We);var Ig=0;T=Hl.prototype;T.open=function(e,t){if(this.readyState!=Ig)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sa(this)};T.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||z).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};T.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=Ig};T.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof z.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SC(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function SC(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}T.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pa(this):sa(this),this.readyState==3&&SC(this)}};T.Za=function(e){this.g&&(this.response=this.responseText=e,pa(this))};T.Ya=function(e){this.g&&(this.response=e,pa(this))};T.ka=function(){this.g&&pa(this)};function pa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sa(e)}T.setRequestHeader=function(e,t){this.v.append(e,t)};T.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};T.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function sa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var _V=z.JSON.parse;function Me(e){We.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xC,this.L=this.M=!1}Ke(Me,We);var xC="",wV=/^https?$/i,EV=["POST","PUT"];T=Me.prototype;T.Oa=function(e){this.M=e};T.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xm.g(),this.C=this.u?kD(this.u):kD(Xm),this.g.onreadystatechange=ct(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){jD(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=z.FormData&&e instanceof z.FormData,!(0<=HD(EV,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{PC(this),0<this.B&&((this.L=IV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ct(this.ua,this)):this.A=yg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){jD(this,o)}};function IV(e){return po&&typeof e.timeout=="number"&&e.ontimeout!==void 0}T.ua=function(){typeof sg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tt(this,"timeout"),this.abort(8))};function jD(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,AC(e),zl(e)}function AC(e){e.F||(e.F=!0,tt(e,"complete"),tt(e,"error"))}T.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tt(this,"complete"),tt(this,"abort"),zl(this))};T.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zl(this,!0)),Me.$.N.call(this)};T.La=function(){this.s||(this.G||this.v||this.l?MC(this):this.kb())};T.kb=function(){MC(this)};function MC(e){if(e.h&&typeof sg<"u"&&(!e.C[1]||En(e)!=4||e.da()!=2)){if(e.v&&En(e)==4)yg(e.La,0,e);else if(tt(e,"readystatechange"),En(e)==4){e.h=!1;try{let s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=s===0){var i=String(e.I).match(vC)[1]||null;!i&&z.self&&z.self.location&&(i=z.self.location.protocol.slice(0,-1)),r=!wV.test(i?i.toLowerCase():"")}n=r}if(n)tt(e,"complete"),tt(e,"success");else{e.m=6;try{var o=2<En(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",AC(e)}}finally{zl(e)}}}}function zl(e,t){if(e.g){PC(e);let n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||tt(e,"ready");try{n.onreadystatechange=r}catch{}}}function PC(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(z.clearTimeout(e.A),e.A=null)}T.isActive=function(){return!!this.g};function En(e){return e.g?e.g.readyState:0}T.da=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}};T.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};T.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),_V(t)}};function BD(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case xC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function DV(e){let t={};e=(e.g&&2<=En(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Xs(e[r]))continue;var n=Qk(e[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=t[i]||[];t[i]=o,o.push(n)}zk(t,function(r){return r.join(", ")})}T.Ia=function(){return this.m};T.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function RC(e){let t="";return ug(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Dg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=RC(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Te(e,t,n))}function Ks(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function NC(e){this.Ga=0,this.j=[],this.l=new Ll,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ks("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ks("baseRetryDelayMs",5e3,e),this.hb=Ks("retryDelaySeedMs",1e4,e),this.eb=Ks("forwardChannelMaxRetries",2,e),this.xa=Ks("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new IC(e&&e.concurrentRequestLimit),this.Ja=new gV,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}T=NC.prototype;T.ra=8;T.H=1;function Cg(e){if(OC(e),e.H==3){var t=e.W++,n=Gn(e.I);if(Te(n,"SID",e.K),Te(n,"RID",t),Te(n,"TYPE","terminate"),ma(e,n),t=new da(e,e.l,t),t.L=2,t.A=ql(Gn(n)),n=!1,z.navigator&&z.navigator.sendBeacon)try{n=z.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&z.Image&&(new Image().src=t.A,n=!0),n||(t.g=$C(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ha(t)}BC(e)}function Gl(e){e.g&&(Tg(e),e.g.cancel(),e.g=null)}function OC(e){Gl(e),e.u&&(z.clearTimeout(e.u),e.u=null),Al(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&z.clearTimeout(e.m),e.m=null)}function Wl(e){if(!DC(e.i)&&!e.m){e.m=!0;var t=e.Na;ta||nC(),na||(ta(),na=!0),mg.add(t,e),e.C=0}}function CV(e,t){return CC(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=ua(ct(e.Na,e,t),jC(e,e.C)),e.C++,!0)}T.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;let i=new da(this,this.l,e),o=this.s;if(this.U&&(o?(o=KD(o),QD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=FC(this,i,t),n=Gn(this.I),Te(n,"RID",e),Te(n,"CVER",22),this.F&&Te(n,"X-HTTP-Session-Id",this.F),ma(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(RC(o)))+"&"+t:this.o&&Dg(n,this.o,o)),Eg(this.i,i),this.bb&&Te(n,"TYPE","init"),this.P?(Te(n,"$req",t),Te(n,"SID","null"),i.aa=!0,tg(i,n,null)):tg(i,n,t),this.H=2}}else this.H==3&&(e?UD(this,e):this.j.length==0||DC(this.i)||UD(this))};function UD(e,t){var n;t?n=t.m:n=e.W++;let r=Gn(e.I);Te(r,"SID",e.K),Te(r,"RID",n),Te(r,"AID",e.V),ma(e,r),e.o&&e.s&&Dg(r,e.o,e.s),n=new da(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=FC(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Eg(e.i,n),tg(n,r,t)}function ma(e,t){e.na&&ug(e.na,function(n,r){Te(t,r,n)}),e.h&&yC({},function(n,r){Te(t,r,n)})}function FC(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ct(e.h.Va,e.h,e):null;e:{var i=e.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{yV(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function kC(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ta||nC(),na||(ta(),na=!0),mg.add(t,e),e.A=0}}function bg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=ua(ct(e.Ma,e),jC(e,e.A)),e.A++,!0)}T.Ma=function(){if(this.u=null,VC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ua(ct(this.jb,this),e)}};T.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gt(10),Gl(this),VC(this))};function Tg(e){e.B!=null&&(z.clearTimeout(e.B),e.B=null)}function VC(e){e.g=new da(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Gn(e.wa);Te(t,"RID","rpc"),Te(t,"SID",e.K),Te(t,"AID",e.V),Te(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Te(t,"TO",e.qa),Te(t,"TYPE","xmlhttp"),ma(e,t),e.o&&e.s&&Dg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=ql(Gn(t)),n.u=null,n.S=!0,fC(n,e)}T.ib=function(){this.v!=null&&(this.v=null,Gl(this),bg(this),gt(19))};function Al(e){e.v!=null&&(z.clearTimeout(e.v),e.v=null)}function LC(e,t){var n=null;if(e.g==t){Al(e),Tg(e),e.g=null;var r=2}else if(rg(e.i,t))n=t.F,bC(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=jl(),tt(r,new cC(r,n)),Wl(e)}else kC(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&CV(e,t)||r==2&&bg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ti(e,5);break;case 4:ti(e,10);break;case 3:ti(e,6);break;default:ti(e,2)}}}function jC(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ti(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=ct(e.pb,e);n||(n=new ni("//www.google.com/images/cleardot.gif"),z.location&&z.location.protocol=="http"||Sl(n,"https"),ql(n)),vV(n.toString(),r)}else gt(2);e.H=0,e.h&&e.h.za(t),BC(e),OC(e)}T.pb=function(e){e?(this.l.info("Successfully pinged google.com"),gt(2)):(this.l.info("Failed to ping google.com"),gt(1))};function BC(e){if(e.H=0,e.ma=[],e.h){let t=TC(e.i);(t.length!=0||e.j.length!=0)&&(RD(e.ma,t),RD(e.ma,e.j),e.i.i.length=0,ag(e.j),e.j.length=0),e.h.ya()}}function UC(e,t,n){var r=n instanceof ni?Gn(n):new ni(n);if(r.g!="")t&&(r.g=t+"."+r.g),xl(r,r.m);else{var i=z.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ni(null);r&&Sl(o,r),t&&(o.g=t),i&&xl(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Te(r,n,t),Te(r,"VER",e.ra),ma(e,r),r}function $C(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Me(new fa({ob:n})):new Me(e.va),t.Oa(e.J),t}T.isActive=function(){return!!this.h&&this.h.isActive(this)};function qC(){}T=qC.prototype;T.Ba=function(){};T.Aa=function(){};T.za=function(){};T.ya=function(){};T.isActive=function(){return!0};T.Va=function(){};function Ml(){if(po&&!(10<=Number(Uk)))throw Error("Environmental error: no available transport.")}Ml.prototype.g=function(e,t){return new Mt(e,t)};function Mt(e,t){We.call(this),this.g=new NC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Xs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xs(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new go(this)}Ke(Mt,We);Mt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;gt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=UC(e,null,e.Y),Wl(e)};Mt.prototype.close=function(){Cg(this.g)};Mt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=pg(e),e=n);t.j.push(new fV(t.fb++,e)),t.H==3&&Wl(t)};Mt.prototype.N=function(){this.g.h=null,delete this.j,Cg(this.g),delete this.g,Mt.$.N.call(this)};function HC(e){_g.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ke(HC,_g);function zC(){wg.call(this),this.status=1}Ke(zC,wg);function go(e){this.g=e}Ke(go,qC);go.prototype.Ba=function(){tt(this.g,"a")};go.prototype.Aa=function(e){tt(this.g,new HC(e))};go.prototype.za=function(e){tt(this.g,new zC)};go.prototype.ya=function(){tt(this.g,"b")};function bV(){this.blockSize=-1}function Jt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ke(Jt,bV);Jt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function qm(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}Jt.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(i==0)for(;o<=n;)qm(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){qm(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){qm(this,r),i=0;break}}this.h=i,this.i+=t};Jt.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ye(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=e[i]|0;r&&o==t||(n[i]=o,r=!1)}this.g=n}var TV={};function Sg(e){return-128<=e&&128>e?Lk(e,function(t){return new ye([t|0],0>t?-1:0)}):new ye([e|0],0>e?-1:0)}function In(e){if(isNaN(e)||!isFinite(e))return fo;if(0>e)return et(In(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ig;return new ye(t,0)}function GC(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return et(GC(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=In(Math.pow(t,8)),r=fo,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+o),t);8>o?(o=In(Math.pow(t,o)),r=r.R(o).add(In(s))):(r=r.R(n),r=r.add(In(s)))}return r}var ig=4294967296,fo=Sg(0),og=Sg(1),$D=Sg(16777216);T=ye.prototype;T.ea=function(){if(Bt(this))return-et(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ig+r)*t,t*=ig}return e};T.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(zn(this))return"0";if(Bt(this))return"-"+et(this).toString(e);for(var t=In(Math.pow(e,6)),n=this,r="";;){var i=Rl(n,t).g;n=Pl(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,zn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};T.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function zn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Bt(e){return e.h==-1}T.X=function(e){return e=Pl(this,e),Bt(e)?-1:zn(e)?0:1};function et(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ye(n,~e.h).add(og)}T.abs=function(){return Bt(this)?et(this):this};T.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(this.D(i)&65535)+(e.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ye(n,n[n.length-1]&-2147483648?-1:0)};function Pl(e,t){return e.add(et(t))}T.R=function(e){if(zn(this)||zn(e))return fo;if(Bt(this))return Bt(e)?et(this).R(et(e)):et(et(this).R(e));if(Bt(e))return et(this.R(et(e)));if(0>this.X($D)&&0>e.X($D))return In(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=e.D(i)>>>16,c=e.D(i)&65535;n[2*r+2*i]+=s*c,Tl(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Tl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Tl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Tl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ye(n,0)};function Tl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Qs(e,t){this.g=e,this.h=t}function Rl(e,t){if(zn(t))throw Error("division by zero");if(zn(e))return new Qs(fo,fo);if(Bt(e))return t=Rl(et(e),t),new Qs(et(t.g),et(t.h));if(Bt(t))return t=Rl(e,et(t)),new Qs(et(t.g),t.h);if(30<e.g.length){if(Bt(e)||Bt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=og,r=t;0>=r.X(e);)n=qD(n),r=qD(r);var i=lo(n,1),o=lo(r,1);for(r=lo(r,2),n=lo(n,2);!zn(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=lo(r,1),n=lo(n,1)}return t=Pl(e,i.R(t)),new Qs(i,t)}for(i=fo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=In(n),s=o.R(t);Bt(s)||0<s.X(e);)n-=r,o=In(n),s=o.R(t);zn(o)&&(o=og),i=i.add(o),e=Pl(e,s)}return new Qs(i,e)}T.gb=function(e){return Rl(this,e).h};T.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ye(n,this.h&e.h)};T.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ye(n,this.h|e.h)};T.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ye(n,this.h^e.h)};function qD(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ye(n,e.h)}function lo(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new ye(i,e.h)}Ml.prototype.createWebChannel=Ml.prototype.g;Mt.prototype.send=Mt.prototype.u;Mt.prototype.open=Mt.prototype.m;Mt.prototype.close=Mt.prototype.close;Bl.NO_ERROR=0;Bl.TIMEOUT=8;Bl.HTTP_ERROR=6;uC.COMPLETE="complete";lC.EventType=la;la.OPEN="a";la.CLOSE="b";la.ERROR="c";la.MESSAGE="d";We.prototype.listen=We.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;Jt.prototype.digest=Jt.prototype.l;Jt.prototype.reset=Jt.prototype.reset;Jt.prototype.update=Jt.prototype.j;ye.prototype.add=ye.prototype.add;ye.prototype.multiply=ye.prototype.R;ye.prototype.modulo=ye.prototype.gb;ye.prototype.compare=ye.prototype.X;ye.prototype.toNumber=ye.prototype.ea;ye.prototype.toString=ye.prototype.toString;ye.prototype.getBits=ye.prototype.D;ye.fromNumber=In;ye.fromString=GC;var WC=Xt.createWebChannelTransport=function(){return new Ml},KC=Xt.getStatEventTarget=function(){return jl()},Kl=Xt.ErrorCode=Bl,QC=Xt.EventType=uC,YC=Xt.Event=ri,xg=Xt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},k9=Xt.FetchXmlHttpFactory=fa,ga=Xt.WebChannel=lC,ZC=Xt.XhrIo=Me,JC=Xt.Md5=Jt,ii=Xt.Integer=ye;var XC="@firebase/firestore";var Qe=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var Lo="10.7.0";var ui=new uo("@firebase/firestore");function ya(){return ui.logLevel}function P(e,...t){if(ui.logLevel<=ce.DEBUG){let n=t.map(av);ui.debug(`Firestore (${Lo}): ${e}`,...n)}}function Wn(e,...t){if(ui.logLevel<=ce.ERROR){let n=t.map(av);ui.error(`Firestore (${Lo}): ${e}`,...n)}}function Do(e,...t){if(ui.logLevel<=ce.WARN){let n=t.map(av);ui.warn(`Firestore (${Lo}): ${e}`,...n)}}function av(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}function q(e="Unexpected state"){let t=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+e;throw Wn(t),new Error(t)}function Ce(e,t){e||q()}function K(e,t){return e}var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends qn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tn=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};var Xl=class{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Ng=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},Og=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Fg=class{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tn,t.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;t.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tn)}},0),s()}getToken(){let t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Xl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let t=this.auth&&this.auth.getUid();return Ce(t===null||typeof t=="string"),new Qe(t)}},kg=class{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Vg=class{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new kg(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Lg=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jg=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){let r=o=>{o.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,P("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};let i=o=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new Lg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function SV(e){let t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ed=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";for(;r.length<20;){let i=SV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}};function fe(e,t){return e<t?-1:e>t?1:0}function Co(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}var nt=class e{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?fe(this.nanoseconds,t.nanoseconds):fe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var W=class e{constructor(t){this.timestamp=t}static fromTimestamp(t){return new e(t)}static min(){return new e(new nt(0,0))}static max(){return new e(new nt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var td=class e{constructor(t,n,r){n===void 0?n=0:n>t.length&&q(),r===void 0?r=t.length-n:r>t.length-n&&q(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}},Re=class e extends td{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){let n=[];for(let r of t){if(r.indexOf("//")>=0)throw new F(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new e(n)}static emptyPath(){return new e([])}},xV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pt=class e extends td{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(t){return xV.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new e(["__name__"])}static fromServerFormat(t){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(E.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<t.length;){let a=t[i];if(a==="\\"){if(i+1===t.length)throw new F(E.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new F(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new F(E.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}};var B=class e{constructor(t){this.path=t}static fromPath(t){return new e(Re.fromString(t))}static fromName(t){return new e(Re.fromString(t).popFirst(5))}static empty(){return new e(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new e(new Re(t.slice()))}};var Bg=class{constructor(t,n,r,i){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}};Bg.UNKNOWN_ID=-1;function AV(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=W.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new li(i,B.empty(),t)}function MV(e){return new li(e.readTime,e.key,-1)}var li=class e{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new e(W.min(),B.empty(),-1)}static max(){return new e(W.max(),B.empty(),-1)}};function PV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=B.comparator(e.documentKey,t.documentKey),n!==0?n:fe(e.largestBatchId,t.largestBatchId))}var RV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ug=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function Na(e){return C(this,null,function*(){if(e.code!==E.FAILED_PRECONDITION||e.message!==RV)throw e;P("LocalStore","Unexpectedly lost primary lease")})}var D=class e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(n){return e.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):e.reject(n)}static resolve(t){return new e((n,r)=>{n(t)})}static reject(t){return new e((n,r)=>{r(t)})}static waitFor(t){return new e((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next(i=>i?e.resolve(i):r());return n}static forEach(t,n){let r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new e((r,i)=>{let o=t.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(t[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(t,n){return new e((r,i)=>{let o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}};function Oa(e){return e.name==="IndexedDbTransactionError"}var Tb=(()=>{class e{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return e._e=-1,e})();function Rd(e){return e==null}function Da(e){return e===0&&1/e==-1/0}function NV(e){return typeof e=="number"&&Number.isInteger(e)&&!Da(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var OV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Q9=[...OV,"documentOverlays"],FV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kV=FV,Y9=[...kV,"indexConfiguration","indexState","indexEntries"];function eb(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function jo(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sb(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ne=class e{constructor(t,n){this.comparator=t,this.root=n||bn.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){let t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wo(this.root,t,this.comparator,!1)}getReverseIterator(){return new wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wo(this.root,t,this.comparator,!0)}},wo=class{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},bn=class e{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new e(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this,o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let t=this.left.check();if(t!==this.right.check())throw q();return t+(this.isRed()?0:1)}};bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(t,n,r,i,o){return this}insert(t,n,r){return new bn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class e{constructor(t){this.comparator=t,this.data=new Ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){let r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){let n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nd(this.data.getIterator())}getIteratorFrom(t){return new nd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(n=>{t.push(n)}),t}toString(){let t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){let n=new e(this.comparator);return n.data=t,n}},nd=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Cn=class e{constructor(t){this.fields=t,t.sort(Pt.comparator)}static empty(){return new e([])}unionWith(t){let n=new dt(Pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of t)n=n.add(r);return new e(n.toArray())}covers(t){for(let n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Co(this.fields,t.fields,(n,r)=>n.isEqual(r))}};var rd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class e{constructor(t){this.binaryString=t}static fromBase64String(t){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rd("Invalid base64 string: "+o):o}}(t);return new e(n)}static fromUint8Array(t){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return fe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var VV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(e){if(Ce(!!e),typeof e=="string"){let t=0,n=VV.exec(e);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pe(e.seconds),nanos:Pe(e.nanos)}}function Pe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Dr(e){return typeof e=="string"?yt.fromBase64String(e):yt.fromUint8Array(e)}function cv(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uv(e){let t=e.mapValue.fields.__previous_value__;return cv(t)?uv(t):t}function Ca(e){let t=Ir(e.mapValue.fields.__local_write_time__.timestampValue);return new nt(t.seconds,t.nanos)}var $g=class{constructor(t,n,r,i,o,s,a,c,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},id=class e{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new e("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};var Ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function di(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cv(e)?4:xb(e)?9007199254740991:10:q()}function xn(e,t){if(e===t)return!0;let n=di(e);if(n!==di(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ca(e).isEqual(Ca(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ir(i.timestampValue),a=Ir(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Dr(i.bytesValue).isEqual(Dr(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pe(i.doubleValue),a=Pe(o.doubleValue);return s===a?Da(s)===Da(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Co(e.arrayValue.values||[],t.arrayValue.values||[],xn);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(eb(s)!==eb(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!xn(s[c],a[c])))return!1;return!0}(e,t);default:return q()}}function ba(e,t){return(e.values||[]).find(n=>xn(n,t))!==void 0}function bo(e,t){if(e===t)return 0;let n=di(e),r=di(t);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(e.booleanValue,t.booleanValue);case 2:return function(o,s){let a=Pe(o.integerValue||o.doubleValue),c=Pe(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return tb(e.timestampValue,t.timestampValue);case 4:return tb(Ca(e),Ca(t));case 5:return fe(e.stringValue,t.stringValue);case 6:return function(o,s){let a=Dr(o),c=Dr(s);return a.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=fe(a[u],c[u]);if(l!==0)return l}return fe(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){let a=fe(Pe(o.latitude),Pe(s.latitude));return a!==0?a:fe(Pe(o.longitude),Pe(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=bo(a[u],c[u]);if(l)return l}return fe(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Ql.mapValue&&s===Ql.mapValue)return 0;if(o===Ql.mapValue)return 1;if(s===Ql.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=fe(c[d],l[d]);if(h!==0)return h;let f=bo(a[c[d]],u[l[d]]);if(f!==0)return f}return fe(c.length,l.length)}(e.mapValue,t.mapValue);default:throw q()}}function tb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return fe(e,t);let n=Ir(e),r=Ir(t),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function To(e){return qg(e)}function qg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){let r=Ir(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Dr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return B.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=qg(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${qg(n.fields[s])}`;return i+"}"}(e.mapValue):q()}function Hg(e){return!!e&&"integerValue"in e}function lv(e){return!!e&&"arrayValue"in e}function nb(e){return!!e&&"nullValue"in e}function rb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zl(e){return!!e&&"mapValue"in e}function _a(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return jo(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=_a(r)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_a(e.arrayValue.values[n]);return t}return Object.assign({},e)}function xb(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var en=class e{constructor(t){this.value=t}static empty(){return new e({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Zl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_a(n)}setAll(t){let n=Pt.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=_a(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){let n=this.field(t.popLast());Zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Zl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){jo(n,(i,o)=>t[i]=o);for(let i of r)delete t[i]}clone(){return new e(_a(this.value))}};function Ab(e){let t=[];return jo(e.fields,(n,r)=>{let i=new Pt([n]);if(Zl(r)){let o=Ab(r.mapValue).fields;if(o.length===0)t.push(i);else for(let s of o)t.push(i.child(s))}else t.push(i)}),new Cn(t)}var nn=class e{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new e(t,0,W.min(),W.min(),W.min(),en.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,W.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,W.min(),W.min(),en.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,W.min(),W.min(),en.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var So=class{constructor(t,n){this.position=t,this.inclusive=n}};function ib(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let o=t[i],s=e.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),n.key):r=bo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ob(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xn(e.position[n],t.position[n]))return!1;return!0}var xo=class{constructor(t,n="asc"){this.field=t,this.dir=n}};function LV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var od=class{},$e=class e extends od{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Gg(t,n,r):n==="array-contains"?new Qg(t,r):n==="in"?new Yg(t,r):n==="not-in"?new Zg(t,r):n==="array-contains-any"?new Jg(t,r):new e(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Wg(t,r):new Kg(t,r)}matches(t){let n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&di(this.value)===di(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},An=class e extends od{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new e(t,n)}matches(t){return Mb(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function Mb(e){return e.op==="and"}function Pb(e){return jV(e)&&Mb(e)}function jV(e){for(let t of e.filters)if(t instanceof An)return!1;return!0}function zg(e){if(e instanceof $e)return e.field.canonicalString()+e.op.toString()+To(e.value);if(Pb(e))return e.filters.map(t=>zg(t)).join(",");{let t=e.filters.map(n=>zg(n)).join(",");return`${e.op}(${t})`}}function Rb(e,t){return e instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&xn(r.value,i.value)}(e,t):e instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Rb(s,i.filters[a]),!0):!1}(e,t):void q()}function Nb(e){return e instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(e):e instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(Nb).join(" ,")+"}"}(e):"Filter"}var Gg=class extends $e{constructor(t,n,r){super(t,n,r),this.key=B.fromName(r.referenceValue)}matches(t){let n=B.comparator(t.key,this.key);return this.matchesComparison(n)}},Wg=class extends $e{constructor(t,n){super(t,"in",n),this.keys=Ob("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}},Kg=class extends $e{constructor(t,n){super(t,"not-in",n),this.keys=Ob("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}};function Ob(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}var Qg=class extends $e{constructor(t,n){super(t,"array-contains",n)}matches(t){let n=t.data.field(this.field);return lv(n)&&ba(n.arrayValue,this.value)}},Yg=class extends $e{constructor(t,n){super(t,"in",n)}matches(t){let n=t.data.field(this.field);return n!==null&&ba(this.value.arrayValue,n)}},Zg=class extends $e{constructor(t,n){super(t,"not-in",n)}matches(t){if(ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=t.data.field(this.field);return n!==null&&!ba(this.value.arrayValue,n)}},Jg=class extends $e{constructor(t,n){super(t,"array-contains-any",n)}matches(t){let n=t.data.field(this.field);return!(!lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ba(this.value.arrayValue,r))}};var Xg=class{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function sb(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Xg(e,t,n,r,i,o,s)}function dv(e){let t=K(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>zg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>To(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>To(r)).join(",")),t.ce=n}return t.ce}function hv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!LV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Rb(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ob(e.startAt,t.startAt)&&ob(e.endAt,t.endAt)}function ey(e){return B.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Ao=class{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function BV(e,t,n,r,i,o,s,a){return new Ao(e,t,n,r,i,o,s,a)}function fv(e){return new Ao(e)}function ab(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function UV(e){return e.collectionGroup!==null}function wa(e){let t=K(e);if(t.le===null){t.le=[];let n=new Set;for(let o of t.explicitOrderBy)t.le.push(o),n.add(o.field.canonicalString());let r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new dt(Pt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.le.push(new xo(o,r))}),n.has(Pt.keyField().canonicalString())||t.le.push(new xo(Pt.keyField(),r))}return t.le}function Tn(e){let t=K(e);return t.he||(t.he=$V(t,wa(e))),t.he}function $V(e,t){if(e.limitType==="F")return sb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xo(i.field,o)});let n=e.endAt?new So(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new So(e.startAt.position,e.startAt.inclusive):null;return sb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ty(e,t,n){return new Ao(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nd(e,t){return hv(Tn(e),Tn(t))&&e.limitType===t.limitType}function Fb(e){return`${dv(Tn(e))}|lt:${e.limitType}`}function yo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Nb(i)).join(", ")}]`),Rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>To(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>To(i)).join(",")),`Target(${r})`}(Tn(e))}; limitType=${e.limitType})`}function Od(e,t){return t.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(let o of wa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=ib(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,wa(r),i)||r.endAt&&!function(s,a,c){let u=ib(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,wa(r),i))}(e,t)}function qV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function kb(e){return(t,n)=>{let r=!1;for(let i of wa(e)){let o=HV(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function HV(e,t,n){let r=e.field.isKeyField()?B.comparator(t.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?bo(c,u):q()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}var Cr=class{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){let n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){let r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){let n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){jo(this.inner,(n,r)=>{for(let[i,o]of r)t(i,o)})}isEmpty(){return Sb(this.inner)}size(){return this.innerSize}};var zV=new Ne(B.comparator);function Kn(){return zV}var Vb=new Ne(B.comparator);function va(...e){let t=Vb;for(let n of e)t=t.insert(n.key,n);return t}function Lb(e){let t=Vb;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function oi(){return Ea()}function jb(){return Ea()}function Ea(){return new Cr(e=>e.toString(),(e,t)=>e.isEqual(t))}var GV=new Ne(B.comparator),WV=new dt(B.comparator);function re(...e){let t=WV;for(let n of e)t=t.add(n);return t}var KV=new dt(fe);function QV(){return KV}function Bb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Da(t)?"-0":t}}function Ub(e){return{integerValue:""+e}}function YV(e,t){return NV(t)?Ub(t):Bb(e,t)}var Mo=class{constructor(){this._=void 0}};function ZV(e,t,n){return e instanceof Po?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cv(o)&&(o=uv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof hi?qb(e,t):e instanceof fi?Hb(e,t):function(i,o){let s=$b(i,o),a=cb(s)+cb(i.Ie);return Hg(s)&&Hg(i.Ie)?Ub(a):Bb(i.serializer,a)}(e,t)}function JV(e,t,n){return e instanceof hi?qb(e,t):e instanceof fi?Hb(e,t):n}function $b(e,t){return e instanceof Ro?function(r){return Hg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}var Po=class extends Mo{},hi=class extends Mo{constructor(t){super(),this.elements=t}};function qb(e,t){let n=zb(t);for(let r of e.elements)n.some(i=>xn(i,r))||n.push(r);return{arrayValue:{values:n}}}var fi=class extends Mo{constructor(t){super(),this.elements=t}};function Hb(e,t){let n=zb(t);for(let r of e.elements)n=n.filter(i=>!xn(i,r));return{arrayValue:{values:n}}}var Ro=class extends Mo{constructor(t,n){super(),this.serializer=t,this.Ie=n}};function cb(e){return Pe(e.integerValue||e.doubleValue)}function zb(e){return lv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function XV(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof hi&&i instanceof hi||r instanceof fi&&i instanceof fi?Co(r.elements,i.elements,xn):r instanceof Ro&&i instanceof Ro?xn(r.Ie,i.Ie):r instanceof Po&&i instanceof Po}(e.transform,t.transform)}var ny=class{constructor(t,n){this.version=t,this.transformResults=n}},ci=class e{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function Jl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var No=class{};function Gb(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new sd(e.key,ci.none()):new pi(e.key,e.data,ci.none());{let n=e.data,r=en.empty(),i=new dt(Pt.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qn(e.key,r,new Cn(i.toArray()),ci.none())}}function eL(e,t,n){e instanceof pi?function(i,o,s){let a=i.value.clone(),c=lb(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Qn?function(i,o,s){if(!Jl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=lb(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Wb(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ia(e,t,n,r){return e instanceof pi?function(o,s,a,c){if(!Jl(o.precondition,s))return a;let u=o.value.clone(),l=db(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qn?function(o,s,a,c){if(!Jl(o.precondition,s))return a;let u=db(o.fieldTransforms,c,s),l=s.data;return l.setAll(Wb(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,s,a){return Jl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function tL(e,t){let n=null;for(let r of e.fieldTransforms){let i=t.data.field(r.field),o=$b(r.transform,i||null);o!=null&&(n===null&&(n=en.empty()),n.set(r.field,o))}return n||null}function ub(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Co(r,i,(o,s)=>XV(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var pi=class extends No{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qn=class extends No{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Wb(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function lb(e,t,n){let r=new Map;Ce(e.length===n.length);for(let i=0;i<n.length;i++){let o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,JV(s,a,n[i]))}return r}function db(e,t,n){let r=new Map;for(let i of e){let o=i.transform,s=n.data.field(i.field);r.set(i.field,ZV(o,s,t))}return r}var sd=class extends No{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ry=class extends No{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var iy=class{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(t.key)&&eL(o,t,r[i])}}applyToLocalView(t,n){for(let r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ia(r,t,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(t.key)&&(n=Ia(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){let r=jb();return this.mutations.forEach(i=>{let o=t.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=Gb(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),re())}isEqual(t){return this.batchId===t.batchId&&Co(this.mutations,t.mutations,(n,r)=>ub(n,r))&&Co(this.baseMutations,t.baseMutations,(n,r)=>ub(n,r))}},oy=class e{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Ce(t.mutations.length===r.length);let i=function(){return GV}(),o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)}};var sy=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ay=class{constructor(t,n){this.count=t,this.unchangedNames=n}};var je,oe;function nL(e){switch(e){default:return q();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function Kb(e){if(e===void 0)return Wn("GRPC error has no .code"),E.UNKNOWN;switch(e){case je.OK:return E.OK;case je.CANCELLED:return E.CANCELLED;case je.UNKNOWN:return E.UNKNOWN;case je.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case je.INTERNAL:return E.INTERNAL;case je.UNAVAILABLE:return E.UNAVAILABLE;case je.UNAUTHENTICATED:return E.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case je.NOT_FOUND:return E.NOT_FOUND;case je.ALREADY_EXISTS:return E.ALREADY_EXISTS;case je.PERMISSION_DENIED:return E.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case je.ABORTED:return E.ABORTED;case je.OUT_OF_RANGE:return E.OUT_OF_RANGE;case je.UNIMPLEMENTED:return E.UNIMPLEMENTED;case je.DATA_LOSS:return E.DATA_LOSS;default:return q()}}(oe=je||(je={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";var hb=null;function rL(){return new TextEncoder}var iL=new ii([4294967295,4294967295],0);function fb(e){let t=rL().encode(e),n=new JC;return n.update(t),new Uint8Array(n.digest())}function pb(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ii([n,r],0),new ii([i,o],0)]}var cy=class e{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new si(`Invalid padding: ${n}`);if(r<0)throw new si(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new si(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new si(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=ii.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(ii.fromNumber(r)));return i.compare(iL)===1&&(i=new ii([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;let n=fb(t),[r,i]=pb(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new e(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Te===0)return;let n=fb(t),[r,i]=pb(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(t){let n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}},si=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ad=class e{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,Ta.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(W.min(),i,new Ne(fe),Kn(),re())}},Ta=class e{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,re(),re(),re())}};var Eo=class{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}},cd=class{constructor(t,n){this.targetId=t,this.fe=n}},ud=class{constructor(t,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}},ld=class{constructor(){this.ge=0,this.pe=gb(),this.ye=yt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=re(),n=re(),r=re();return this.pe.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q()}}),new Ta(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=gb()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ce(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},uy=class{constructor(t){this.Le=t,this.ke=new Map,this.qe=Kn(),this.Qe=mb(),this.Ke=new Ne(fe)}$e(t){for(let n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(let n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{let r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){let n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){let o=i.target;if(ey(o))if(r===0){let s=new B(o.path);this.We(n,s,nn.newNoDocument(s,W.min()))}else Ce(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(t),c=a?this.et(a,t,s):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}hb?.tt(function(l,d,h,f,_){var v,w,M,ue,$,_e;let rt={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ve=d.unchangedNames;return ve&&(rt.bloomFilter={applied:_===0,hashCount:(v=ve?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(ue=(M=(w=ve?.bits)===null||w===void 0?void 0:w.bitmap)===null||M===void 0?void 0:M.length)!==null&&ue!==void 0?ue:0,padding:(_e=($=ve?.bits)===null||$===void 0?void 0:$.padding)!==null&&_e!==void 0?_e:0,mightContain:Ct=>{var Yn;return(Yn=f?.mightContain(Ct))!==null&&Yn!==void 0&&Yn}}),rt}(s,t.fe,this.Le.nt(),a,c))}}}}Xe(t){let n=t.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Dr(r).toUint8Array()}catch(c){if(c instanceof rd)return Do("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new cy(s,i,o)}catch(c){return Do(c instanceof si?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(n,o,null),i++)}),i}it(t){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&ey(a.target)){let c=new B(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,nn.newNoDocument(c,t))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=re();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));let i=new ad(t,n,this.Ke,this.qe,r);return this.qe=Kn(),this.Qe=mb(),this.Ke=new Ne(fe),i}Ue(t,n){if(!this.je(t))return;let r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;let i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){let n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new ld,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new dt(fe),this.Qe=this.Qe.insert(t,n)),n}je(t){let n=this.Ye(t)!==null;return n||P("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){let n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new ld),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}};function mb(){return new Ne(B.comparator)}function gb(){return new Ne(B.comparator)}var oL={asc:"ASCENDING",desc:"DESCENDING"},sL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aL={and:"AND",or:"OR"},ly=class{constructor(t,n){this.databaseId=t,this.useProto3Json=n}};function dy(e,t){return e.useProto3Json||Rd(t)?t:{value:t}}function dd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cL(e,t){return dd(e,t.toTimestamp())}function Sn(e){return Ce(!!e),W.fromTimestamp(function(n){let r=Ir(n);return new nt(r.seconds,r.nanos)}(e))}function pv(e,t){return function(r){return new Re(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function Yb(e){let t=Re.fromString(e);return Ce(eT(t)),t}function hy(e,t){return pv(e.databaseId,t.path)}function Ag(e,t){let n=Yb(t);if(n.get(1)!==e.databaseId.projectId)throw new F(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new B(Zb(n))}function fy(e,t){return pv(e.databaseId,t)}function uL(e){let t=Yb(e);return t.length===4?Re.emptyPath():Zb(t)}function py(e){return new Re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Zb(e){return Ce(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function yb(e,t,n){return{name:hy(e,t),fields:n.value.mapValue.fields}}function lL(e,t){let n;if("targetChange"in t){t.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:q()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,l){return u.useProto3Json?(Ce(l===void 0||typeof l=="string"),yt.fromBase64String(l||"")):(Ce(l===void 0||l instanceof Uint8Array),yt.fromUint8Array(l||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){let l=u.code===void 0?E.UNKNOWN:Kb(u.code);return new F(l,u.message||"")}(s);n=new ud(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ag(e,r.document.name),o=Sn(r.document.updateTime),s=r.document.createTime?Sn(r.document.createTime):W.min(),a=new en({mapValue:{fields:r.document.fields}}),c=nn.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Eo(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=Ag(e,r.document),o=r.readTime?Sn(r.readTime):W.min(),s=nn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Eo([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=Ag(e,r.document),o=r.removedTargetIds||[];n=new Eo([],o,i,null)}else{if(!("filter"in t))return q();{t.filter;let r=t.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ay(i,o),a=r.targetId;n=new cd(a,s)}}return n}function dL(e,t){let n;if(t instanceof pi)n={update:yb(e,t.key,t.value)};else if(t instanceof sd)n={delete:hy(e,t.key)};else if(t instanceof Qn)n={update:yb(e,t.key,t.data),updateMask:wL(t.fieldMask)};else{if(!(t instanceof ry))return q();n={verify:hy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Po)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ro)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw q()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:cL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q()}(e,t.precondition)),n}function hL(e,t){return e&&e.length>0?(Ce(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?Sn(i.updateTime):Sn(o);return s.isEqual(W.min())&&(s=Sn(o)),new ny(s,i.transformResults||[])}(n,t))):[]}function fL(e,t){return{documents:[fy(e,t.path)]}}function pL(e,t){let n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=fy(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fy(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return Xb(An.create(c,"and"))}(t.filters);i&&(n.structuredQuery.where=i);let o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:vo(d.field),direction:yL(d.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=dy(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),n}function mL(e){let t=uL(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:t=t.child(l.collectionId)}let o=[];n.where&&(o=function(d){let h=Jb(d);return h instanceof An&&Pb(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(_){return new xo(_o(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Rd(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new So(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new So(f,h)}(n.endAt)),BV(t,i,s,o,a,"F",c,u)}function gL(e,t){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Jb(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=_o(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_o(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=_o(n.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=_o(n.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(e):e.fieldFilter!==void 0?function(n){return $e.create(_o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>Jb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(e):q()}function yL(e){return oL[e]}function vL(e){return sL[e]}function _L(e){return aL[e]}function vo(e){return{fieldPath:e.canonicalString()}}function _o(e){return Pt.fromServerFormat(e.fieldPath)}function Xb(e){return e instanceof $e?function(n){if(n.op==="=="){if(rb(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(nb(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rb(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(nb(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:vL(n.op),value:n.value}}}(e):e instanceof An?function(n){let r=n.getFilters().map(i=>Xb(i));return r.length===1?r[0]:{compositeFilter:{op:_L(n.op),filters:r}}}(e):q()}function wL(e){let t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function eT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}var Sa=class e{constructor(t,n,r,i,o=W.min(),s=W.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var my=class{constructor(t){this.ut=t}};function EL(e){let t=mL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ty(t,t.limit,"L"):t}var hd=class{constructor(){}ht(t,n){this.Pt(t,n),n.It()}Pt(t,n){if("nullValue"in t)this.Tt(n,5);else if("booleanValue"in t)this.Tt(n,10),n.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(n,15),n.Et(Pe(t.integerValue));else if("doubleValue"in t){let r=Pe(t.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Da(r)?n.Et(0):n.Et(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,n),this.Rt(n);else if("bytesValue"in t)this.Tt(n,30),n.Vt(Dr(t.bytesValue)),this.Rt(n);else if("referenceValue"in t)this.ft(t.referenceValue,n);else if("geoPointValue"in t){let r=t.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in t?xb(t)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,n),this.Rt(n)):"arrayValue"in t?(this.yt(t.arrayValue,n),this.Rt(n)):q()}At(t,n){this.Tt(n,25),this.wt(t,n)}wt(t,n){n.dt(t)}gt(t,n){let r=t.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(t,n){let r=t.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(t,n){this.Tt(n,37),B.fromName(t).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(t,n){t.Et(n)}Rt(t){t.Et(2)}};hd.St=new hd;var gy=class{constructor(){this.on=new yy}addToCollectionParentIndex(t,n){return this.on.add(n),D.resolve()}getCollectionParents(t,n){return D.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return D.resolve()}deleteFieldIndex(t,n){return D.resolve()}deleteAllFieldIndexes(t){return D.resolve()}createTargetIndexes(t,n){return D.resolve()}getDocumentsMatchingTarget(t,n){return D.resolve(null)}getIndexType(t,n){return D.resolve(0)}getFieldIndexes(t,n){return D.resolve([])}getNextCollectionGroupToUpdate(t){return D.resolve(null)}getMinOffset(t,n){return D.resolve(li.min())}getMinOffsetFromCollectionGroup(t,n){return D.resolve(li.min())}updateCollectionGroup(t,n,r){return D.resolve()}updateIndexEntries(t,n){return D.resolve()}},yy=class{constructor(){this.index={}}add(t){let n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new dt(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){let n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new dt(Re.comparator)).toArray()}};var J9=new Uint8Array(0);var Dn=class e{constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(41943040,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);var xa=class e{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new e(0)}static Nn(){return new e(-1)}};var vy=class{constructor(){this.changes=new Cr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var _y=class{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}};var wy=class{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ia(r.mutation,i,Cn.empty(),nt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,re()).next(()=>r))}getLocalViewOfDocuments(t,n,r=re()){let i=oi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=va();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){let r=oi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,re()))}populateOverlays(t,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=Kn(),s=Ea(),a=function(){return Ea()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Qn)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),Ia(l.mutation,u,l.mutation.getFieldMask(),nt.now())):s.set(u.key,Cn.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new _y(l,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){let r=Ea(),i=new Ne((s,a)=>s-a),o=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Cn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||re()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=jb();l.forEach(h=>{if(!o.has(h)){let f=Gb(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return D.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):UV(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):D.resolve(oi()),a=-1,c=o;return s.next(u=>D.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?D.resolve():this.remoteDocumentCache.getEntry(t,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,c,u,re())).next(l=>({batchId:a,changes:Lb(l)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new B(n)).next(r=>{let i=va();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){let o=n.collectionGroup,s=va();return this.indexManager.getCollectionParents(t,o).next(a=>D.forEach(a,c=>{let u=function(d,h){return new Ao(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,nn.newInvalidDocument(l)))});let a=va();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&Ia(l.mutation,u,Cn.empty(),nt.now()),Od(n,u)&&(a=a.insert(c,u))}),a})}};var Ey=class{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return D.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}}(n)),D.resolve()}getNamedQuery(t,n){return D.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:EL(i.bundledQuery),readTime:Sn(i.readTime)}}(n)),D.resolve()}};var Iy=class{constructor(){this.overlays=new Ne(B.comparator),this.lr=new Map}getOverlay(t,n){return D.resolve(this.overlays.get(n))}getOverlays(t,n){let r=oi();return D.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.lt(t,n,o)}),D.resolve()}removeOverlaysForBatchId(t,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),D.resolve()}getOverlaysForCollection(t,n,r){let i=oi(),o=n.length+1,s=new B(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return D.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Ne((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=oi(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=oi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return D.resolve(a)}lt(t,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new sy(n,r));let o=this.lr.get(n);o===void 0&&(o=re(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}};var Aa=class{constructor(){this.hr=new dt(Be.Pr),this.Ir=new dt(Be.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){let r=new Be(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new Be(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){let n=new B(new Re([])),r=new Be(n,t),i=new Be(n,t+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){let n=new B(new Re([])),r=new Be(n,t),i=new Be(n,t+1),o=re();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){let n=new Be(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}},Be=class{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return B.comparator(t.key,n.key)||fe(t.gr,n.gr)}static Tr(t,n){return fe(t.gr,n.gr)||B.comparator(t.key,n.key)}};var Dy=class{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new dt(Be.Pr)}checkEmpty(t){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new iy(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.yr=this.yr.add(new Be(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return D.resolve(s)}lookupMutationBatch(t,n){return D.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){let r=n+1,i=this.Sr(r),o=i<0?0:i;return D.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){let r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{let a=this.wr(s.gr);o.push(a)}),D.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new dt(fe);return n.forEach(i=>{let o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),D.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){let r=n.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new Be(new B(o),0),a=new dt(fe);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},s),D.resolve(this.br(a))}br(t){let n=[];return t.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Ce(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return D.forEach(n.mutations,i=>{let o=new Be(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){let r=new Be(n,0),i=this.yr.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,D.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){let n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Cy=class{constructor(t){this.Cr=t,this.docs=function(){return new Ne(B.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){let n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){let r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(t,n){let r=Kn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nn.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Kn(),s=n.path,a=new B(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||PV(MV(l),r)<=0||(i.has(l.key)||Od(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return D.resolve(o)}getAllFromCollectionGroup(t,n,r,i){q()}vr(t,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new by(this)}getSize(t){return D.resolve(this.size)}},by=class extends vy{constructor(t){super(),this._r=t}applyChanges(t){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),D.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}};var Ty=class{constructor(t){this.persistence=t,this.Fr=new Cr(n=>dv(n),hv),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Aa,this.targetCount=0,this.Nr=xa.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(t){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return D.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),D.resolve()}kn(t){this.Fr.set(t.target,t);let n=t.targetId;n>this.highestTargetId&&(this.Nr=new xa(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,D.resolve()}updateTargetData(t,n){return this.kn(n),D.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(t,n,r){let i=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),D.waitFor(o).next(()=>i)}getTargetCount(t){return D.resolve(this.targetCount)}getTargetData(t,n){let r=this.Fr.get(n)||null;return D.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),D.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),D.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),D.resolve()}getMatchingKeysForTargetId(t,n){let r=this.Or.mr(n);return D.resolve(r)}containsKey(t,n){return D.resolve(this.Or.containsKey(n))}};var Sy=class{constructor(t,n){this.Br={},this.overlays={},this.Lr=new Tb(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Ty(this),this.indexManager=new gy,this.remoteDocumentCache=function(i){return new Cy(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new my(n),this.Kr=new Ey(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Iy,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new Dy(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){P("MemoryPersistence","Starting transaction:",t);let i=new xy(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(t,n){return D.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}},xy=class extends Ug{constructor(t){super(),this.currentSequenceNumber=t}},Ay=class e{constructor(t){this.persistence=t,this.Gr=new Aa,this.zr=null}static jr(t){return new e(t)}get Hr(){if(this.zr)return this.zr;throw q()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),D.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),D.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),D.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Hr,r=>{let i=B.fromPath(r);return this.Jr(t,i).next(o=>{o||n.removeEntry(i,W.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return D.or([()=>D.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}};var My=class e{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=re(),i=re();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new e(t,n.fromCache,r,i)}};var Py=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var Ry=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){let o={result:null};return this.zi(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Py;return this.Hi(t,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(t,n,s,a.size)})}).next(()=>o.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(ya()<=ce.DEBUG&&P("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),D.resolve()):(ya()<=ce.DEBUG&&P("QueryEngine","Query:",yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ya()<=ce.DEBUG&&P("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Tn(n))):D.resolve())}zi(t,n){if(ab(n))return D.resolve(null);let r=Tn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ty(n,null,"F"),r=Tn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{let s=re(...o);return this.Gi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,s,c.readTime)?this.zi(t,ty(n,null,"F")):this.Xi(t,u,n,c)}))})))}ji(t,n,r,i){return ab(n)||i.isEqual(W.min())?D.resolve(null):this.Gi.getDocuments(t,r).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,r,i)?D.resolve(null):(ya()<=ce.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yo(n)),this.Xi(t,s,n,AV(i,-1)).next(a=>a))})}Yi(t,n){let r=new dt(kb(t));return n.forEach((i,o)=>{Od(t,o)&&(r=r.add(o))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;let o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(t,n,r){return ya()<=ce.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",yo(n)),this.Gi.getDocumentsMatchingQuery(t,n,li.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Ny=class{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Ne(fe),this.ns=new Cr(o=>dv(o),hv),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wy(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}};function IL(e,t,n,r){return new Ny(e,t,n,r)}function tT(e,t){return C(this,null,function*(){let n=K(e);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=re();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})})}function DL(e,t){let n=K(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=t.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=D.resolve();return h.forEach(_=>{f=f.next(()=>l.getEntry(c,_)).next(v=>{let w=u.docVersions.get(_);Ce(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),l.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function nT(e){let t=K(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function CL(e,t){let n=K(e),r=t.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];t.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(yt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(v,w,M){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(o,f))});let c=Kn(),u=re();if(t.documentUpdates.forEach(l=>{t.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(bL(o,s,t.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(W.min())){let l=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return D.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.ts=i,o))}function bL(e,t,n){let r=re(),i=re();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=Kn();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(W.min())?(t.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),s=s.insert(a,c)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:s,cs:i}})}function TL(e,t){let n=K(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function SL(e,t){let n=K(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(o=>o?(i=o,D.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new Sa(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}function Oy(e,t,n){return C(this,null,function*(){let r=K(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Oa(s))throw s;P("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)})}function vb(e,t,n){let r=K(e),i=W.min(),o=re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,l){let d=K(c),h=d.ns.get(l);return h!==void 0?D.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,s,Tn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,t,n?i:W.min(),n?o:re())).next(a=>(xL(r,qV(t),a),{documents:a,ls:o})))}function xL(e,t,n){let r=e.rs.get(t)||W.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.rs.set(t,r)}var fd=class{constructor(){this.activeTargetIds=QV()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var Fy=class{constructor(){this.eo=new fd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new fd,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var ky=class{ro(t){}shutdown(){}};var pd=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.ao)t(0)}_o(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Yl=null;function Mg(){return Yl===null?Yl=function(){return 268435456+Math.round(2147483648*Math.random())}():Yl++,"0x"+Yl.toString(16)}var AL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Vy=class{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}};var lt="WebChannelConnection",Ly=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){let a=Mg(),c=this.So(n,r);P("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(n,c,u,i).then(l=>(P("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Do("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){let i=AL[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){let o=Mg();return new Promise((s,a)=>{let c=new ZC;c.setWithCredentials(!0),c.listenOnce(QC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Kl.NO_ERROR:let l=c.getResponseJson();P(lt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(l)),s(l);break;case Kl.TIMEOUT:P(lt,`RPC '${t}' ${o} timed out`),a(new F(E.DEADLINE_EXCEEDED,"Request time out"));break;case Kl.HTTP_ERROR:let d=c.getStatus();if(P(lt,`RPC '${t}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let _=function(w){let M=w.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(M)>=0?M:E.UNKNOWN}(f.status);a(new F(_,f.message))}else a(new F(E.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new F(E.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{P(lt,`RPC '${t}' ${o} completed.`)}});let u=JSON.stringify(i);P(lt,`RPC '${t}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(t,n,r){let i=Mg(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=WC(),a=KC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");P(lt,`Creating RPC '${t}' stream ${i}: ${l}`,c);let d=s.createWebChannel(l,c),h=!1,f=!1,_=new Vy({co:w=>{f?P(lt,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(h||(P(lt,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),P(lt,`RPC '${t}' stream ${i} sending:`,w),d.send(w))},lo:()=>d.close()}),v=(w,M,ue)=>{w.listen(M,$=>{try{ue($)}catch(_e){setTimeout(()=>{throw _e},0)}})};return v(d,ga.EventType.OPEN,()=>{f||P(lt,`RPC '${t}' stream ${i} transport opened.`)}),v(d,ga.EventType.CLOSE,()=>{f||(f=!0,P(lt,`RPC '${t}' stream ${i} transport closed`),_.Ro())}),v(d,ga.EventType.ERROR,w=>{f||(f=!0,Do(lt,`RPC '${t}' stream ${i} transport errored:`,w),_.Ro(new F(E.UNAVAILABLE,"The operation could not be completed")))}),v(d,ga.EventType.MESSAGE,w=>{var M;if(!f){let ue=w.data[0];Ce(!!ue);let $=ue,_e=$.error||((M=$[0])===null||M===void 0?void 0:M.error);if(_e){P(lt,`RPC '${t}' stream ${i} received error:`,_e);let rt=_e.status,ve=function(jd){let Va=je[jd];if(Va!==void 0)return Kb(Va)}(rt),Ct=_e.message;ve===void 0&&(ve=E.INTERNAL,Ct="Unknown error status: "+rt+" with message "+_e.message),f=!0,_.Ro(new F(ve,Ct)),d.close()}else P(lt,`RPC '${t}' stream ${i} received:`,ue),_.Vo(ue)}}),v(a,YC.STAT_EVENT,w=>{w.stat===xg.PROXY?P(lt,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===xg.NOPROXY&&P(lt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}};function Pg(){return typeof document<"u"?document:null}function Fd(e){return new ly(e,!0)}var md=class{constructor(t,n,r=1e3,i=1.5,o=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var gd=class{constructor(t,n,r,i,o,s,a,c){this.si=t,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new md(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return C(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){return C(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,n){return C(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===E.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{let i=new F(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){let r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>C(this,null,function*(){this.state=0,this.start()}))}o_(t){return P("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},jy=class extends gd{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();let n=lL(this.serializer,t),r=function(o){if(!("targetChange"in o))return W.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?Sn(s.readTime):W.min()}(t);return this.listener.a_(n,r)}u_(t){let n={};n.database=py(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=ey(c)?{documents:fL(o,c)}:{query:pL(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Qb(o,s.resumeToken);let u=dy(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(W.min())>0){a.readTime=dd(o,s.snapshotVersion.toTimestamp());let u=dy(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);let r=gL(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){let n={};n.database=py(this.serializer),n.removeTarget=t,this.e_(n)}},By=class extends gd{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Ce(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();let n=hL(t.writeResults,t.commitTime),r=Sn(t.commitTime);return this.listener.I_(r,n)}return Ce(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let t={};t.database=py(this.serializer),this.e_(t)}P_(t){let n={streamToken:this.lastStreamToken,writes:t.map(r=>dL(this.serializer,r))};this.e_(n)}};var Uy=class extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new F(E.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(t,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(E.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(E.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var $y=class{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){let n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Wn(n),this.f_=!1):P("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var qy=class{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(()=>C(this,null,function*(){mi(this)&&(P("RemoteStore","Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let u=K(c);u.C_.add(4),yield Fa(u),u.M_.set("Unknown"),u.C_.delete(4),yield kd(u)})}(this))}))}),this.M_=new $y(r,i)}};function kd(e){return C(this,null,function*(){if(mi(e))for(let t of e.v_)yield t(!0)})}function Fa(e){return C(this,null,function*(){for(let t of e.v_)yield t(!1)})}function rT(e,t){let n=K(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),yv(n)?gv(n):Bo(n).Ho()&&mv(n,t))}function iT(e,t){let n=K(e),r=Bo(n);n.D_.delete(t),r.Ho()&&oT(n,t),n.D_.size===0&&(r.Ho()?r.Zo():mi(n)&&n.M_.set("Unknown"))}function mv(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(W.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bo(e).u_(t)}function oT(e,t){e.x_.Oe(t),Bo(e).c_(t)}function gv(e){e.x_=new uy({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Bo(e).start(),e.M_.g_()}function yv(e){return mi(e)&&!Bo(e).jo()&&e.D_.size>0}function mi(e){return K(e).C_.size===0}function sT(e){e.x_=void 0}function ML(e){return C(this,null,function*(){e.D_.forEach((t,n)=>{mv(e,t)})})}function PL(e,t){return C(this,null,function*(){sT(e),yv(e)?(e.M_.w_(t),gv(e)):e.M_.set("Unknown")})}function RL(e,t,n){return C(this,null,function*(){if(e.M_.set("Online"),t instanceof ud&&t.state===2&&t.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))})}(e,t)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield yd(e,r)}else if(t instanceof Eo?e.x_.$e(t):t instanceof cd?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(W.min()))try{let r=yield nT(e.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.D_.get(u);l&&o.D_.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.D_.get(c);if(!l)return;o.D_.set(c,l.withResumeToken(yt.EMPTY_BYTE_STRING,l.snapshotVersion)),oT(o,c);let d=new Sa(l.target,c,u,l.sequenceNumber);mv(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n))}catch(r){P("RemoteStore","Failed to raise snapshot:",r),yield yd(e,r)}})}function yd(e,t,n){return C(this,null,function*(){if(!Oa(t))throw t;e.C_.add(1),yield Fa(e),e.M_.set("Offline"),n||(n=()=>nT(e.localStore)),e.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){P("RemoteStore","Retrying IndexedDB access"),yield n(),e.C_.delete(1),yield kd(e)}))})}function aT(e,t){return t().catch(n=>yd(e,n,t))}function Vd(e){return C(this,null,function*(){let t=K(e),n=br(t),r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;NL(t);)try{let i=yield TL(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,OL(t,i)}catch(i){yield yd(t,i)}cT(t)&&uT(t)})}function NL(e){return mi(e)&&e.b_.length<10}function OL(e,t){e.b_.push(t);let n=br(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function cT(e){return mi(e)&&!br(e).jo()&&e.b_.length>0}function uT(e){br(e).start()}function FL(e){return C(this,null,function*(){br(e).E_()})}function kL(e){return C(this,null,function*(){let t=br(e);for(let n of e.b_)t.P_(n.mutations)})}function VL(e,t,n){return C(this,null,function*(){let r=e.b_.shift(),i=oy.from(r,t,n);yield aT(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield Vd(e)})}function LL(e,t){return C(this,null,function*(){t&&br(e).h_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return nL(s)&&s!==E.ABORTED}(i.code)){let o=r.b_.shift();br(r).Yo(),yield aT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Vd(r)}})}(e,t)),cT(e)&&uT(e)})}function _b(e,t){return C(this,null,function*(){let n=K(e);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");let r=mi(n);n.C_.add(3),yield Fa(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),yield kd(n)})}function jL(e,t){return C(this,null,function*(){let n=K(e);t?(n.C_.delete(2),yield kd(n)):t||(n.C_.add(2),yield Fa(n),n.M_.set("Unknown"))})}function Bo(e){return e.O_||(e.O_=function(n,r,i){let o=K(n);return o.A_(),new jy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{ho:ML.bind(null,e),Io:PL.bind(null,e),a_:RL.bind(null,e)}),e.v_.push(t=>C(this,null,function*(){t?(e.O_.Yo(),yv(e)?gv(e):e.M_.set("Unknown")):(yield e.O_.stop(),sT(e))}))),e.O_}function br(e){return e.N_||(e.N_=function(n,r,i){let o=K(n);return o.A_(),new By(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{ho:FL.bind(null,e),Io:LL.bind(null,e),T_:kL.bind(null,e),I_:VL.bind(null,e)}),e.v_.push(t=>C(this,null,function*(){t?(e.N_.Yo(),yield Vd(e)):(yield e.N_.stop(),e.b_.length>0&&(P("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))}))),e.N_}var Hy=class e{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){let s=Date.now()+r,a=new e(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(E.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function vv(e,t){if(Wn("AsyncQueue",`${t}: ${e}`),Oa(e))return new F(E.UNAVAILABLE,`${t}: ${e}`);throw e}var vd=class e{constructor(t){this.comparator=t?(n,r)=>t(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=va(),this.sortedSet=new Ne(this.comparator)}static emptySet(t){return new e(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){let n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){let n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}};var _d=class{constructor(){this.B_=new Ne(B.comparator)}track(t){let n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):q():this.B_=this.B_.insert(n,t)}L_(){let t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}},Oo=class e{constructor(t,n,r,i,o,s,a,c,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new e(t,n,vd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var zy=class{constructor(){this.k_=void 0,this.listeners=[]}},Gy=class{constructor(){this.queries=new Cr(t=>Fb(t),Nd),this.onlineState="Unknown",this.q_=new Set}};function lT(e,t){return C(this,null,function*(){let n=K(e),r=t.query,i=!1,o=n.queries.get(r);if(o||(i=!0,o=new zy),i)try{o.k_=yield n.onListen(r)}catch(s){let a=vv(s,`Initialization of query '${yo(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&_v(n)})}function dT(e,t){return C(this,null,function*(){let n=K(e),r=t.query,i=!1,o=n.queries.get(r);if(o){let s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function BL(e,t){let n=K(e),r=!1;for(let i of t){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&_v(n)}function UL(e,t,n){let r=K(e),i=r.queries.get(t);if(i)for(let o of i.listeners)o.onError(n);r.queries.delete(t)}function _v(e){e.q_.forEach(t=>{t.next()})}var wd=class{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){let r=[];for(let i of t.docChanges)i.type!==3&&r.push(i);t=new Oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}};var Ed=class{constructor(t){this.key=t}},Id=class{constructor(t){this.key=t}},Wy=class{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=re(),this.mutatedKeys=re(),this._a=kb(t),this.aa=new vd(this._a)}get ua(){return this.ia}ca(t,n){let r=n?n.la:new _d,i=n?n.aa:this.aa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((l,d)=>{let h=i.get(l),f=Od(this.query,d)?d:null,_=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),w=!1;h&&f?h.data.isEqual(f.data)?_!==v&&(r.track({type:3,doc:f}),w=!0):this.ha(h,f)||(r.track({type:2,doc:f}),w=!0,(c&&this._a(f,c)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(c||u)&&(a=!0)),w&&(f?(s=s.add(f),o=v?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){let o=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;let s=t.la.L_();s.sort((l,d)=>function(f,_){let v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return v(f)-v(_)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,u=c!==this.sa;return this.sa=c,s.length!==0||u?{snapshot:new Oo(this.query,t.aa,o,s,t.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new _d,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];let t=this.oa;this.oa=re(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new Id(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new Ed(r))}),n}da(t){this.ia=t.ls,this.oa=re();let n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Oo.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Ky=class{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}},Qy=class{constructor(t){this.key=t,this.Ra=!1}},Yy=class{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Cr(a=>Fb(a),Nd),this.fa=new Map,this.ga=new Set,this.pa=new Ne(B.comparator),this.ya=new Map,this.wa=new Aa,this.Sa={},this.ba=new Map,this.Da=xa.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function $L(e,t){return C(this,null,function*(){let n=JL(e),r,i,o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{let s=yield SL(n.localStore,Tn(t)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield qL(n,t,r,a==="current",s.resumeToken),n.isPrimaryClient&&rT(n.remoteStore,s)}return i})}function qL(e,t,n,r,i){return C(this,null,function*(){e.va=(d,h,f)=>function(v,w,M,ue){return C(this,null,function*(){let $=w.view.ca(M);$.Zi&&($=yield vb(v.localStore,w.query,!1).then(({documents:Ct})=>w.view.ca(Ct,$)));let _e=ue&&ue.targetChanges.get(w.targetId),rt=ue&&ue.targetMismatches.get(w.targetId)!=null,ve=w.view.applyChanges($,v.isPrimaryClient,_e,rt);return Eb(v,w.targetId,ve.Ta),ve.snapshot})}(e,d,h,f);let o=yield vb(e.localStore,t,!0),s=new Wy(t,o.ls),a=s.ca(o.documents),c=Ta.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,c);Eb(e,n,u.Ta);let l=new Ky(t,n,s);return e.ma.set(t,l),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot})}function HL(e,t){return C(this,null,function*(){let n=K(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Nd(o,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Oy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),iT(n.remoteStore,r.targetId),Zy(n,r.targetId)}).catch(Na))):(Zy(n,r.targetId),yield Oy(n.localStore,r.targetId,!0))})}function zL(e,t,n){return C(this,null,function*(){let r=XL(e);try{let i=yield function(s,a){let c=K(s),u=nt.now(),l=a.reduce((f,_)=>f.add(_.key),re()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let _=Kn(),v=re();return c.ss.getEntries(f,l).next(w=>{_=w,_.forEach((M,ue)=>{ue.isValidDocument()||(v=v.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,_)).next(w=>{d=w;let M=[];for(let ue of a){let $=tL(ue,d.get(ue.key).overlayedDocument);$!=null&&M.push(new Qn(ue.key,$,Ab($.value.mapValue),ci.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,M,a)}).next(w=>{h=w;let M=w.applyToLocalDocumentSet(d,v);return c.documentOverlayCache.saveOverlays(f,w.batchId,M)})}).then(()=>({batchId:h.batchId,changes:Lb(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Sa[s.currentUser.toKey()];u||(u=new Ne(fe)),u=u.insert(a,c),s.Sa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ka(r,i.changes),yield Vd(r.remoteStore)}catch(i){let o=vv(i,"Failed to persist write");n.reject(o)}})}function hT(e,t){return C(this,null,function*(){let n=K(e);try{let r=yield CL(n.localStore,t);t.targetChanges.forEach((i,o)=>{let s=n.ya.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Ce(s.Ra):i.removedDocuments.size>0&&(Ce(s.Ra),s.Ra=!1))}),yield ka(n,r,t)}catch(r){yield Na(r)}})}function wb(e,t,n){let r=K(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((o,s)=>{let a=s.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=K(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.listeners)h.Q_(a)&&(u=!0)}),u&&_v(c)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function GL(e,t,n){return C(this,null,function*(){let r=K(e);r.sharedClientState.updateQueryState(t,"rejected",n);let i=r.ya.get(t),o=i&&i.key;if(o){let s=new Ne(B.comparator);s=s.insert(o,nn.newNoDocument(o,W.min()));let a=re().add(o),c=new ad(W.min(),new Map,new Ne(fe),s,a);yield hT(r,c),r.pa=r.pa.remove(o),r.ya.delete(t),wv(r)}else yield Oy(r.localStore,t,!1).then(()=>Zy(r,t,n)).catch(Na)})}function WL(e,t){return C(this,null,function*(){let n=K(e),r=t.batch.batchId;try{let i=yield DL(n.localStore,t);pT(n,r,null),fT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ka(n,i)}catch(i){yield Na(i)}})}function KL(e,t,n){return C(this,null,function*(){let r=K(e);try{let i=yield function(s,a){let c=K(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ce(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,t);pT(r,t,n),fT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield ka(r,i)}catch(i){yield Na(i)}})}function fT(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function pT(e,t,n){let r=K(e),i=r.Sa[r.currentUser.toKey()];if(i){let o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Zy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||mT(e,r)})}function mT(e,t){e.ga.delete(t.path.canonicalString());let n=e.pa.get(t);n!==null&&(iT(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),wv(e))}function Eb(e,t,n){for(let r of n)r instanceof Ed?(e.wa.addReference(r.key,t),QL(e,r)):r instanceof Id?(P("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||mT(e,r.key)):q()}function QL(e,t){let n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(P("SyncEngine","New document in limbo: "+n),e.ga.add(r),wv(e))}function wv(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){let t=e.ga.values().next().value;e.ga.delete(t);let n=new B(Re.fromString(t)),r=e.Da.next();e.ya.set(r,new Qy(n)),e.pa=e.pa.insert(n,r),rT(e.remoteStore,new Sa(Tn(fv(n.path)),r,"TargetPurposeLimboResolution",Tb._e))}}function ka(e,t,n){return C(this,null,function*(){let r=K(e),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=My.Qi(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.Va.a_(i),yield function(c,u){return C(this,null,function*(){let l=K(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>D.forEach(u,h=>D.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>D.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Oa(d))throw d;P("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),_=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(_);l.ts=l.ts.insert(h,v)}}})}(r.localStore,o))})}function YL(e,t){return C(this,null,function*(){let n=K(e);if(!n.currentUser.isEqual(t)){P("SyncEngine","User change. New user:",t.toKey());let r=yield tT(n.localStore,t);n.currentUser=t,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new F(E.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield ka(n,r._s)}})}function ZL(e,t){let n=K(e),r=n.ya.get(t);if(r&&r.Ra)return re().add(r.key);{let i=re(),o=n.fa.get(t);if(!o)return i;for(let s of o){let a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function JL(e){let t=K(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GL.bind(null,t),t.Va.a_=BL.bind(null,t.eventManager),t.Va.Fa=UL.bind(null,t.eventManager),t}function XL(e){let t=K(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KL.bind(null,t),t}var Dd=class{constructor(){this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Fd(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return IL(this.persistence,new Ry,t.initialUser,this.serializer)}createPersistence(t){return new Sy(Ay.jr,this.serializer)}createSharedClientState(t){return new Fy}terminate(){return C(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Jy=class{initialize(t,n){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YL.bind(null,this.syncEngine),yield jL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Gy}()}createDatastore(t){let n=Fd(t.databaseInfo.databaseId),r=function(o){return new Ly(o)}(t.databaseInfo);return function(o,s,a,c){return new Uy(o,s,a,c)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new qy(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>wb(this.syncEngine,n,0),function(){return pd.D()?new pd:new ky}())}createSyncEngine(t,n){return function(i,o,s,a,c,u,l){let d=new Yy(i,o,s,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return C(this,null,function*(){let r=K(n);P("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Fa(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var Cd=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Wn("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}};var Xy=class{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>C(this,null,function*(){P("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(P("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return C(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let t=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){let r=vv(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}};function Rg(e,t){return C(this,null,function*(){e.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");let n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield tT(t.localStore,i),r=i)})),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t})}function Ib(e,t){return C(this,null,function*(){e.asyncQueue.verifyOperationInProgress();let n=yield t2(e);P("FirestoreClient","Initializing OnlineComponentProvider");let r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(i=>_b(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>_b(t.remoteStore,o)),e._onlineComponents=t})}function e2(e){return e.name==="FirebaseError"?e.code===E.FAILED_PRECONDITION||e.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}function t2(e){return C(this,null,function*(){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Rg(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!e2(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),yield Rg(e,new Dd)}}else P("FirestoreClient","Using default OfflineComponentProvider"),yield Rg(e,new Dd);return e._offlineComponents})}function gT(e){return C(this,null,function*(){return e._onlineComponents||(e._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ib(e,e._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),yield Ib(e,new Jy))),e._onlineComponents})}function n2(e){return gT(e).then(t=>t.syncEngine)}function yT(e){return C(this,null,function*(){let t=yield gT(e),n=t.eventManager;return n.onListen=$L.bind(null,t.syncEngine),n.onUnlisten=HL.bind(null,t.syncEngine),n})}function r2(e,t,n={}){let r=new tn;return e.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,c,u){let l=new Cd({next:h=>{s.enqueueAndForget(()=>dT(o,d));let f=h.docs.has(a);!f&&h.fromCache?u.reject(new F(E.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?u.reject(new F(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new wd(fv(a.path),l,{includeMetadataChanges:!0,J_:!0});return lT(o,d)}(yield yT(e),e.asyncQueue,t,n,r)})),r.promise}function i2(e,t,n={}){let r=new tn;return e.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,c,u){let l=new Cd({next:h=>{s.enqueueAndForget(()=>dT(o,d)),h.fromCache&&c.source==="server"?u.reject(new F(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new wd(a,l,{includeMetadataChanges:!0,J_:!0});return lT(o,d)}(yield yT(e),e.asyncQueue,t,n,r)})),r.promise}function vT(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var Db=new Map;function _T(e,t,n){if(!n)throw new F(E.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function o2(e,t,n,r){if(t===!0&&r===!0)throw new F(E.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Cb(e){if(!B.isDocumentKey(e))throw new F(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function bb(e){if(B.isDocumentKey(e))throw new F(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ev(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{let t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":q()}function Fo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ev(e);throw new F(E.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}var bd=class{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new F(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}o2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},ko=class{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new F(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bd(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ng;switch(r.type){case"firstParty":return new Vg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Db.get(n);r&&(P("ComponentProvider","Removing Datastore"),Db.delete(n),r.terminate())}(this),Promise.resolve()}};function s2(e,t,n,r={}){var i;let o=(e=Fo(e,ko))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Qe.MOCK_USER;else{a=pD(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new F(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Qe(u)}e._authCredentials=new Og(new Xl(a,c))}}var Td=class e{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new e(this.firestore,t,this._query)}},Ut=class e{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}},Er=class e extends Td{constructor(t,n,r){super(t,n,fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Ut(this.firestore,null,new B(t))}withConverter(t){return new e(this.firestore,t,this._path)}};function Iv(e,t,...n){if(e=co(e),_T("collection","path",t),e instanceof ko){let r=Re.fromString(t,...n);return bb(r),new Er(e,null,r)}{if(!(e instanceof Ut||e instanceof Er))throw new F(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(Re.fromString(t,...n));return bb(r),new Er(e.firestore,null,r)}}function Dv(e,t,...n){if(e=co(e),arguments.length===1&&(t=ed.newId()),_T("doc","path",t),e instanceof ko){let r=Re.fromString(t,...n);return Cb(r),new Ut(e,null,new B(r))}{if(!(e instanceof Ut||e instanceof Er))throw new F(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(Re.fromString(t,...n));return Cb(r),new Ut(e.firestore,e instanceof Er?e.converter:null,new B(r))}}var ev=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new md(this,"async_queue_retry"),this.iu=()=>{let n=Pg();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let t=Pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;let n=Pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});let n=new tn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){return C(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!Oa(t))throw t;P("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(t){let n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Wn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);let i=Hy.createAndSchedule(this,t,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&q()}verifyOperationInProgress(){}uu(){return C(this,null,function*(){let t;do t=this.Ja,yield t;while(t!==this.Ja)})}cu(t){for(let n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){let n=this.Xa.indexOf(t);this.Xa.splice(n,1)}};var Vo=class extends ko{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new ev}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wT(this),this._firestoreClient.terminate()}};function Ld(e,t){let n=typeof e=="object"?e:AD(),r=typeof e=="string"?e:t||"(default)",i=SD(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=fD("firestore");o&&s2(i,...o)}return i}function Cv(e){return e._firestoreClient||wT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wT(e){var t,n,r;let i=e._freezeSettings(),o=function(a,c,u,l){return new $g(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,vT(l.experimentalLongPollingOptions),l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Xy(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ma=class e{constructor(t){this._byteString=t}static fromBase64String(t){try{return new e(yt.fromBase64String(t))}catch(n){throw new F(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new e(yt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var Pa=class{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Sd=class{constructor(t){this._methodName=t}};var Ra=class{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return fe(this._lat,t._lat)||fe(this._long,t._long)}};var a2=/^__.*__$/,tv=class{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Qn(t,this.data,this.fieldMask,n,this.fieldTransforms):new pi(t,this.data,n,this.fieldTransforms)}};function ET(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var nv=class e{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return xd(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(ET(this.Iu)&&a2.test(t))throw this.mu('Document fields cannot begin and end with "__"')}},rv=class{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Fd(t)}pu(t,n,r,i=!1){return new nv({Iu:t,methodName:n,gu:r,path:Pt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function c2(e){let t=e._freezeSettings(),n=Fd(e._databaseId);return new rv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function u2(e,t,n,r,i,o={}){let s=e.pu(o.merge||o.mergeFields?2:0,t,n,i);bT("Data must be an object, but it was:",s,r);let a=DT(r,s),c,u;if(o.merge)c=new Cn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let d of o.mergeFields){let h=l2(t,d,n);if(!s.contains(h))throw new F(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);h2(l,h)||l.push(h)}c=new Cn(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new tv(new en(a),c,u)}function IT(e,t){if(CT(e=co(e)))return bT("Unsupported field value:",t,e),DT(e,t);if(e instanceof Sd)return function(r,i){if(!ET(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=IT(a,i.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=co(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nt.fromDate(r);return{timestampValue:dd(i.serializer,o)}}if(r instanceof nt){let o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dd(i.serializer,o)}}if(r instanceof Ra)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ma)return{bytesValue:Qb(i.serializer,r._byteString)};if(r instanceof Ut){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Ev(r)}`)}(e,t)}function DT(e,t){let n={};return Sb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jo(e,(r,i)=>{let o=IT(i,t.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function CT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof nt||e instanceof Ra||e instanceof Ma||e instanceof Ut||e instanceof Sd)}function bT(e,t,n){if(!CT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Ev(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function l2(e,t,n){if((t=co(t))instanceof Pa)return t._internalPath;if(typeof t=="string")return TT(e,t);throw xd("Field path arguments must be of type string or ",e,!1,void 0,n)}var d2=new RegExp("[~\\*/\\[\\]]");function TT(e,t,n){if(t.search(d2)>=0)throw xd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Pa(...t.split("."))._internalPath}catch{throw xd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xd(e,t,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new F(E.INVALID_ARGUMENT,a+e+c)}function h2(e,t){return e.some(n=>n.isEqual(t))}var Ad=class{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new iv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let n=this._document.data.field(ST("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}},iv=class extends Ad{data(){return super.data()}};function ST(e,t){return typeof t=="string"?TT(e,t):t instanceof Pa?t._internalPath:t._delegate._internalPath}function f2(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ov=class{convertValue(t,n="none"){switch(di(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw q()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){let r={};return jo(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new Ra(Pe(t.latitude),Pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":let r=uv(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ca(t));default:return null}}convertTimestamp(t){let n=Ir(t);return new nt(n.seconds,n.nanos)}convertDocumentKey(t,n){let r=Re.fromString(t);Ce(eT(r));let i=new id(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function p2(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var ai=class{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Md=class extends Ad{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let n=new Io(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){let r=this._document.data.field(ST("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Io=class extends Md{data(t={}){return super.data(t)}},sv=class{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ai(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Io(this._firestore,this._userDataWriter,r.key,r,new ai(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Io(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ai(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Io(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ai(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:m2(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function m2(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}function xT(e){e=Fo(e,Ut);let t=Fo(e.firestore,Vo);return r2(Cv(t),e._key).then(n=>y2(t,e,n))}var Pd=class extends ov{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ma(t)}convertReference(t){let n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ut(this.firestore,null,n)}};function AT(e){e=Fo(e,Td);let t=Fo(e.firestore,Vo),n=Cv(t),r=new Pd(t);return f2(e._query),i2(n,e._query).then(i=>new sv(t,r,e,i))}function MT(e,t){let n=Fo(e.firestore,Vo),r=Dv(e),i=p2(e.converter,t);return g2(n,[u2(c2(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then(()=>r)}function g2(e,t){return function(r,i){let o=new tn;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return zL(yield n2(r),i,o)})),o.promise}(Cv(e),t)}function y2(e,t,n){let r=n.docs.get(t._key),i=new Pd(e);return new Md(e,i,t._key,r,new ai(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Lo=i})(xD),Gs(new Hn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Vo(new Fg(r.getProvider("auth-internal")),new jg(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new F(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(u.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vr(XC,"4.4.0",t),vr(XC,"4.4.0","esm2017")})();var PT=(()=>{class e{constructor(){this.firestore=Ld()}saveMatch(n){return C(this,null,function*(){try{let r=Iv(this.firestore,"matches"),i={date:n.heureDebut.toISOString(),lieu:n.lieu||"",equipe1:n.equipe1,equipe2:n.equipe2,score1:n.score1,score2:n.score2,buteurs:n.buteurs.map(s=>({nom:s.nom,minute:s.minute,equipe:s.equipe,assist:s.assist||null}))};return(yield MT(r,i)).id}catch(r){throw console.error("Erreur lors de l'enregistrement du match:",r),r}})}getAllMatches(){return C(this,null,function*(){try{let n=Iv(this.firestore,"matches");return(yield AT(n)).docs.map(i=>{let o=i.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0}})}catch(n){throw console.error("Erreur lors de la r\xE9cup\xE9ration des matchs:",n),n}})}getMatchById(n){return C(this,null,function*(){try{let r=Dv(this.firestore,"matches",n),i=yield xT(r);if(i.exists()){let o=i.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0}}return null}catch(r){throw console.error("Erreur lors de la r\xE9cup\xE9ration du match:",r),r}})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var _2=()=>[];function w2(e,t){if(e&1){let n=ge();p(0,"button",17),A("click",function(){R(n);let i=I();return N(i.showMatchForm=!0)}),y(1," Nouveau Match "),m()}}function E2(e,t){if(e&1){let n=ge();p(0,"button",17),A("click",function(){R(n);let i=I();return N(i.showTeamFilterModal=!0)}),y(1," Equipes\u{1F50E} "),m()}}function I2(e,t){if(e&1){let n=ge();p(0,"div",27)(1,"input",32),cs("ngModelChange",function(i){R(n);let o=I(2);return hu(o.selectedTeamFilter,i)||(o.selectedTeamFilter=i),N(i)}),m(),p(2,"label",33),y(3),m()()}if(e&2){let n=t.$implicit,r=I(2);g(),lu("id",n.name),x("value",n.name),as("ngModel",r.selectedTeamFilter),g(),lu("for",n.name),g(),J(n.name)}}function D2(e,t){if(e&1){let n=ge();p(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h5",22),y(5,"S\xE9lectionner une \xC9quipe"),m(),p(6,"button",23),A("click",function(){R(n);let i=I();return N(i.closeTeamFilterModal())}),p(7,"span",24),y(8,"\xD7"),m()()(),p(9,"div",25),Y(10,I2,4,5,"div",26),p(11,"div",27)(12,"input",28),cs("ngModelChange",function(i){R(n);let o=I();return hu(o.selectedTeamFilter,i)||(o.selectedTeamFilter=i),N(i)}),m(),p(13,"label",29),y(14,"Toutes les \xE9quipes"),m()()(),p(15,"div",30)(16,"button",31),A("click",function(){R(n);let i=I();return N(i.closeTeamFilterModal())}),y(17,"Fermer"),m()()()()()}if(e&2){let n=I();g(10),x("ngForOf",n.teams),g(2),x("value",""),as("ngModel",n.selectedTeamFilter)}}function C2(e,t){if(e&1&&(p(0,"option",51),y(1),m()),e&2){let n=t.$implicit;x("value",n.name),g(),J(n.name)}}function b2(e,t){if(e&1&&(p(0,"option",51),y(1),m()),e&2){let n=t.$implicit;x("value",n.name),g(),J(n.name)}}function T2(e,t){if(e&1){let n=ge();p(0,"form",34),A("ngSubmit",function(){R(n);let i=I();return N(i.onSubmit())}),p(1,"div",35)(2,"div",36)(3,"div",37)(4,"label",38),y(5,"\xC9quipe 1"),m(),p(6,"select",39,0),A("change",function(){R(n);let i=ss(7),o=I();return N(i.value==="new1"&&o.addNewTeam(i))}),Y(8,C2,2,2,"option",40),p(9,"option",41),y(10,"+ Ajouter une nouvelle \xE9quipe"),m()()(),p(11,"div",37)(12,"label",42),y(13,"\xC9quipe 2"),m(),p(14,"select",43,1),A("change",function(){R(n);let i=ss(15),o=I();return N(i.value==="new2"&&o.addNewTeam(i))}),p(16,"option",44),y(17,"S\xE9lectionner une \xE9quipe"),m(),Y(18,b2,2,2,"option",40),p(19,"option",45),y(20,"+ Ajouter une nouvelle \xE9quipe"),m()()()(),p(21,"div",36)(22,"div",37)(23,"label",46),y(24,"Heure de d\xE9but"),m(),He(25,"input",47),m(),p(26,"div",37)(27,"label",48),y(28,"Lieu du match (optionnel)"),m(),He(29,"input",49),m()()(),p(30,"div")(31,"button",50),y(32," Cr\xE9er le match "),m(),p(33,"button",31),A("click",function(){R(n);let i=I();return N(i.showMatchForm=!1)}),y(34," Annuler "),m()()()}if(e&2){let n=I();x("formGroup",n.matchForm),g(8),x("ngForOf",n.teams),g(10),x("ngForOf",n.teams),g(13),x("disabled",!n.matchForm.valid)}}function S2(e,t){e&1&&(p(0,"span",67),y(1,"\u2022"),m())}function x2(e,t){if(e&1&&(p(0,"span"),y(1),m()),e&2){let n=I().$implicit;g(),J(n.lieu)}}function A2(e,t){e&1&&(p(0,"span"),He(1,"br"),m())}function M2(e,t){e&1&&(p(0,"span"),y(1,","),m())}function P2(e,t){if(e&1&&(p(0,"span",76),y(1),m()),e&2){let n=I(2).$implicit;g(),Ae("(Assist: ",n.assist,")")}}function R2(e,t){if(e&1&&(cu(0),Y(1,A2,2,0,"span",59),y(2),Y(3,M2,2,0,"span",59)(4,P2,2,1,"span",75),uu()),e&2){let n=t.$implicit,r=t.index,i=I().$implicit;g(),x("ngIf",r>0&&r%5===0),g(),Ae(" ",n,"'"),g(),x("ngIf",r<i.minutes.length-1),g(),x("ngIf",i.assist)}}function N2(e,t){if(e&1&&(p(0,"div")(1,"div",73)(2,"span"),y(3),m(),p(4,"span",74),Y(5,R2,5,4,"ng-container",71),m()()()),e&2){let n=t.$implicit;g(3),Ae("\u26BD ",n.nom,":"),g(2),x("ngForOf",n.minutes)}}function O2(e,t){e&1&&(p(0,"span"),He(1,"br"),m())}function F2(e,t){e&1&&(p(0,"span"),y(1,","),m())}function k2(e,t){if(e&1&&(p(0,"span",76),y(1),m()),e&2){let n=I(2).$implicit;g(),Ae("(Assist: ",n.assist,")")}}function V2(e,t){if(e&1&&(cu(0),Y(1,O2,2,0,"span",59),y(2),Y(3,F2,2,0,"span",59)(4,k2,2,1,"span",75),uu()),e&2){let n=t.$implicit,r=t.index,i=I().$implicit;g(),x("ngIf",r>0&&r%5===0),g(),Ae(" ",n,"'"),g(),x("ngIf",r<i.minutes.length-1),g(),x("ngIf",i.assist)}}function L2(e,t){if(e&1&&(p(0,"div")(1,"div",73)(2,"span"),y(3),m(),p(4,"span",77),Y(5,V2,5,4,"ng-container",71),m()()()),e&2){let n=t.$implicit;g(3),Ae("\u26BD ",n.nom,":"),g(2),x("ngForOf",n.minutes)}}function j2(e,t){if(e&1&&(p(0,"div",68)(1,"div",69)(2,"div",70),Y(3,N2,6,2,"div",71),m(),p(4,"div",72),Y(5,L2,6,2,"div",71),m()()()),e&2){let n=I().$implicit,r=I(2);g(3),x("ngForOf",r.getGroupedScorers(n,1)),g(2),x("ngForOf",r.getGroupedScorers(n,2))}}function B2(e,t){if(e&1){let n=ge();p(0,"div",78)(1,"button",81),A("click",function(){R(n);let i=I(4);return N(i.saveMatchToFirestore(i.selectedMatch))}),y(2,"\u{1F4BE}"),m()()}}function U2(e,t){if(e&1){let n=ge();p(0,"div",78)(1,"button",79),A("click",function(){R(n);let i=I().$implicit,o=I(2);return N(o.selectMatch(i))}),p(2,"span",80),y(3,"\u26BD"),m()(),p(4,"button",79),A("click",function(){R(n);let i=I().$implicit,o=I(2);return N(o.openDispositionModal(i))}),y(5," Disposition tactique "),m(),p(6,"button",79),A("click",function(){R(n);let i=I().$implicit,o=I(2);return N(o.toggleMatchEditForm(i))}),p(7,"span",80),y(8),m()(),p(9,"button",79),A("click",function(){R(n);let i=I().$implicit,o=I(2);return N(o.shareMatch(i))}),p(10,"span",80),y(11,"\u{1F4E3}"),m()(),Y(12,B2,3,0,"div",66),m()}if(e&2){let n=I(3);g(8),J(n.showMatchEditForm?"\u{1F58D}\uFE0F":"\u270F\uFE0F"),g(4),x("ngIf",n.selectedMatch)}}function $2(e,t){if(e&1){let n=ge();p(0,"div",55)(1,"div",56)(2,"div",57)(3,"span"),y(4),Vw(5,"date"),m(),Y(6,S2,2,0,"span",58)(7,x2,2,1,"span",59),p(8,"button",60),A("click",function(){let i=R(n).$implicit,o=I(2);return N(o.toggleVisibility(i))}),He(9,"i",61),m()(),p(10,"div",62)(11,"div",63),y(12),m(),p(13,"button",64),A("click",function(){let i=R(n).$implicit,o=I(2);return N(o.selectMatch(i))}),y(14),m(),p(15,"div",63),y(16),m()(),Y(17,j2,6,2,"div",65)(18,U2,13,2,"div",66),m()()}if(e&2){let n=t.$implicit;ar("data-match-id",n.id),g(4),J(Lw(5,11,n.heureDebut,"EEEE d MMMM yyyy HH:mm")),g(2),x("ngIf",n.lieu),g(),x("ngIf",n.lieu),g(2),x("ngClass",n.showElements?"fa-chevron-up":"fa-chevron-right"),g(3),J(n.equipe1),g(2),du(" ",n.score1," - ",n.score2," "),g(2),J(n.equipe2),g(),x("ngIf",n.showElements&&n.buteurs.length>0),g(),x("ngIf",n.showElements)}}function q2(e,t){if(e&1&&(p(0,"div",52)(1,"h2"),y(2,"Matchs cr\xE9\xE9s"),m(),p(3,"div",53),Y(4,$2,19,14,"div",54),m()()),e&2){let n=I();g(4),x("ngForOf",n.filteredMatches.slice().reverse())}}function H2(e,t){if(e&1&&(p(0,"option",51),y(1),m()),e&2){let n=t.$implicit;x("value",n),g(),Ae(" ",n," ")}}function z2(e,t){if(e&1){let n=ge();p(0,"div",101)(1,"div",102)(2,"div",20)(3,"div",21)(4,"h5",103),y(5),m(),p(6,"button",104),A("click",function(){R(n);let i=I(2);return N(i.showButeurForm=!1)}),m()(),p(7,"div",25)(8,"form",105),A("ngSubmit",function(){R(n);let i=I(2);return N(i.ajouterButeur())}),p(9,"div",106)(10,"div",107)(11,"label",108),y(12,"Nom du buteur"),m(),He(13,"input",109),m(),p(14,"div",110)(15,"label",108),y(16,"Minute"),m(),He(17,"input",111),m(),p(18,"div",112)(19,"label",108),y(20,"\xC9quipe"),m(),p(21,"select",113)(22,"option",51),y(23),m(),p(24,"option",51),y(25),m()()(),p(26,"div",114)(27,"label",108),y(28,"Assist (optionnel)"),m(),p(29,"select",115)(30,"option",44),y(31,"Aucun assist"),m(),Y(32,H2,2,2,"option",40),m()()(),p(33,"div",116)(34,"button",117),A("click",function(){let i;R(n);let o=I(2);return N(o.addNewPlayer((i=o.buteurForm.get("nom"))==null?null:i.value))}),y(35),m(),p(36,"button",31),A("click",function(){R(n);let i=I(2);return N(i.annulerEditionButeur())}),y(37," Annuler "),m()()()()()()()}if(e&2){let n,r=I(2);g(5),J(r.editingButeur?"Modifier le buteur":"Nouveau buteur"),g(3),x("formGroup",r.buteurForm),g(14),x("value",1),g(),J(r.selectedMatch.equipe1),g(),x("value",2),g(),J(r.selectedMatch.equipe2),g(7),x("ngForOf",r.getTeamPlayers((n=r.buteurForm.get("equipe"))==null?null:n.value)),g(2),x("disabled",!r.buteurForm.valid),g(),Ae(" ",r.editingButeur?"Enregistrer":"Ajouter"," ")}}function G2(e,t){if(e&1){let n=ge();p(0,"button",118),A("click",function(){let i=R(n).$implicit,o=I(2);return N(o.quickAddGoal(i,1))}),y(1),m()}if(e&2){let n=t.$implicit;g(),Ae(" \u26BD ",n," ")}}function W2(e,t){if(e&1){let n=ge();p(0,"button",118),A("click",function(){R(n);let i=I(2);return N(i.showButeurForm=!0)}),y(1," + "),m()}}function K2(e,t){if(e&1){let n=ge();p(0,"button",119),A("click",function(){let i=R(n).$implicit,o=I(2);return N(o.quickAddGoal(i,2))}),y(1),m()}if(e&2){let n=t.$implicit;g(),Ae(" \u26BD ",n," ")}}function Q2(e,t){if(e&1){let n=ge();p(0,"button",119),A("click",function(){R(n);let i=I(2);return N(i.showButeurForm=!0)}),y(1," + "),m()}}function Y2(e,t){if(e&1){let n=ge();p(0,"div",121)(1,"div",122)(2,"span",123)(3,"strong"),y(4),m(),y(5," - "),p(6,"em"),y(7),m()(),p(8,"div")(9,"button",124),A("click",function(){let i=R(n).index,o=I(3);return N(o.modifierButeur(o.matches.indexOf(o.selectedMatch),i))}),He(10,"i",125),y(11," Modifier "),m(),p(12,"button",126),A("click",function(){let i=R(n).index,o=I(3);return N(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),i))}),He(13,"i",127),y(14," Supprimer "),m()()()()}if(e&2){let n=t.$implicit,r=I(3);g(4),J(r.getButeurDisplay(n)),g(3),J(n.equipe===1?r.selectedMatch.equipe1:r.selectedMatch.equipe2)}}function Z2(e,t){if(e&1&&(p(0,"div"),Y(1,Y2,15,2,"div",120),m()),e&2){let n=I(2);g(),x("ngForOf",n.selectedMatch.buteurs)}}function J2(e,t){if(e&1){let n=ge();p(0,"button",133),A("click",function(){let i=R(n).$implicit,o=I(3);return N(o.assignPlayerToPosition(i))}),y(1),m()}if(e&2){let n=t.$implicit;g(),Ae(" ",n," ")}}function X2(e,t){if(e&1){let n=ge();p(0,"div",128)(1,"div",129)(2,"h6"),y(3),m(),p(4,"div",130),Y(5,J2,2,1,"button",131),m(),p(6,"button",132),A("click",function(){R(n);let i=I(2);return N(i.selectedPosition=null)}),y(7," Annuler "),m()()()}if(e&2){let n=I(2);g(3),Ae("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),g(2),x("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function ej(e,t){if(e&1){let n=ge();p(0,"div",82)(1,"div",83)(2,"button",84),A("click",function(){R(n);let i=I();return N(i.showScoreForm=!1)}),y(3,"\xD7"),m(),p(4,"h3"),y(5,"Modifier le score"),m(),p(6,"div",85)(7,"div",62)(8,"div",63),y(9),m(),p(10,"div",86),y(11),m(),p(12,"div",63),y(13),m()()(),Y(14,z2,38,9,"div",87),p(15,"div",52)(16,"div",35)(17,"div",36)(18,"h5",88),y(19),m(),p(20,"div",89),Y(21,G2,2,1,"button",90)(22,W2,2,0,"button",91),m()(),p(23,"div",36)(24,"h5",92),y(25),m(),p(26,"div",93),Y(27,K2,2,1,"button",94)(28,Q2,2,0,"button",95),m()()()(),p(29,"div",96)(30,"div",97),A("click",function(){R(n);let i=I();return N(i.toggleButeursList())}),p(31,"h4")(32,"span",98),y(33),m(),y(34),m()(),Y(35,Z2,2,1,"div",59),m(),Y(36,X2,8,2,"div",99),p(37,"div",100)(38,"button",31),A("click",function(){R(n);let i=I();return N(i.selectedMatch=null)}),y(39," Fermer "),m()()()()}if(e&2){let n=I();g(9),J(n.selectedMatch.equipe1),g(2),du("",n.selectedMatch.score1," - ",n.selectedMatch.score2,""),g(2),J(n.selectedMatch.equipe2),g(),x("ngIf",n.showButeurForm),g(5),J(n.selectedMatch.equipe1),g(2),x("ngForOf",n.getTeamPlayers(1)),g(),x("ngIf",!n.showButeurForm),g(3),J(n.selectedMatch.equipe2),g(2),x("ngForOf",n.getTeamPlayers(2)),g(),x("ngIf",!n.showButeurForm),g(5),J(n.showButeursList?"\u25BC":"\u25B6"),g(),Ae(" Buteurs (",n.selectedMatch.buteurs.length,") "),g(),x("ngIf",n.showButeursList),g(),x("ngIf",n.selectedPosition&&n.selectedMatch)}}function tj(e,t){if(e&1&&(p(0,"option",51),y(1),m()),e&2){let n=t.$implicit;x("value",n.name),g(),J(n.name)}}function nj(e,t){if(e&1&&(p(0,"option",51),y(1),m()),e&2){let n=t.$implicit;x("value",n.name),g(),J(n.name)}}function rj(e,t){if(e&1){let n=ge();p(0,"div",134)(1,"div",20)(2,"span",84),A("click",function(){R(n);let i=I();return N(i.showMatchEditForm=!1)}),y(3,"\xD7"),m(),p(4,"h3"),y(5,"Modifier le match"),m(),p(6,"form",105),A("ngSubmit",function(){R(n);let i=I();return N(i.onSubmitMatchEdit())}),p(7,"div",135)(8,"button",136),A("click",function(){R(n);let i=I();return N(i.supprimerMatch(i.selectedMatch))}),He(9,"i",127),y(10," Supprimer le match "),m()(),p(11,"div",137)(12,"label",138),y(13,"\xC9quipe 1:"),m(),p(14,"select",139,0),A("change",function(){R(n);let i=ss(15),o=I();return N(i.value==="new"&&o.editNewTeam(i))}),Y(16,tj,2,2,"option",40),p(17,"option",140),y(18,"+ Ajouter une nouvelle \xE9quipe"),m()()(),p(19,"div",137)(20,"label",141),y(21,"\xC9quipe 2:"),m(),p(22,"select",142,1),A("change",function(){R(n);let i=ss(23),o=I();return N(i.value==="new"&&o.editNewTeam(i))}),Y(24,nj,2,2,"option",40),p(25,"option",140),y(26,"+ Ajouter une nouvelle \xE9quipe"),m()()(),p(27,"div",137)(28,"label",143),y(29,"Heure de d\xE9but:"),m(),He(30,"input",144),m(),p(31,"div",137)(32,"label",145),y(33,"Lieu:"),m(),He(34,"input",146),m(),p(35,"div",135)(36,"button",147),A("click",function(){R(n);let i=I();return N(i.onSubmitMatchEdit())}),y(37,"Enregistrer les Modifications"),m()()()()()}if(e&2){let n=I();g(6),x("formGroup",n.matchEditForm),g(10),x("ngForOf",n.teams),g(8),x("ngForOf",n.teams)}}function ij(e,t){if(e&1&&(p(0,"span",160),y(1," \u2022 "),m()),e&2){let n=t.index,r=I(2);xe("fade",n>=r.remainingDots)}}function oj(e,t){if(e&1&&(p(0,"option",161),y(1),m()),e&2){let n=t.$implicit,r=I(2);x("value",n)("disabled",n===r.lastGoalScorer),g(),Ae(" ",n," ")}}function sj(e,t){if(e&1){let n=ge();p(0,"div",148)(1,"div",149),y(2,"\u26BD "),p(3,"div",150),y(4,"BUUUT !"),m(),p(5,"div",151),y(6),m(),p(7,"div",152),y(8),m(),p(9,"div",153),y(10,"\u26BD\u26BD"),m(),p(11,"div",154),Y(12,ij,2,2,"span",155),m(),p(13,"div",156)(14,"label",157),y(15,"Assist (optionnel)"),m(),p(16,"select",158),cs("ngModelChange",function(i){R(n);let o=I();return hu(o.lastGoalAssist,i)||(o.lastGoalAssist=i),N(i)}),p(17,"option",44),y(18,"Aucun assist"),m(),Y(19,oj,2,3,"option",159),m(),p(20,"button",17),A("click",function(){R(n);let i=I();return N(i.saveGoalWithAssist())}),y(21," Enregistrer "),m()()()()}if(e&2){let n=I();g(6),Ae(" ",n.lastGoalScorer," "),g(2),Ae(" ",n.lastGoalTeam," "),g(4),x("ngForOf",kw(5,_2).constructor(10)),g(4),as("ngModel",n.lastGoalAssist),g(3),x("ngForOf",n.getTeamPlayers(n.lastGoalTeam===(n.selectedMatch==null?null:n.selectedMatch.equipe1)?1:2))}}function aj(e,t){e&1&&(p(0,"span",180),y(1,"-"),m())}function cj(e,t){e&1&&(p(0,"span",180),y(1,"-"),m())}function uj(e,t){if(e&1){let n=ge();p(0,"div")(1,"div",181),A("click",function(){R(n);let i=I(2);return N(i.selectPosition(1,"milieu-offensif"))}),p(2,"div",169)(3,"span",170),y(4,"MO"),m(),Y(5,cj,2,0,"span",171),p(6,"span",172),y(7),m()()()()}if(e&2){let n=I(2);g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),g(3),x("ngIf",n.getPlayerForPosition(1,"milieu-offensif")),g(2),J(n.getPlayerForPosition(1,"milieu-offensif"))}}function lj(e,t){if(e&1){let n=ge();p(0,"div")(1,"div",182),A("click",function(){R(n);let i=I(2);return N(i.selectPosition(1,"defenseur-gauche"))}),p(2,"div",169)(3,"span",170),y(4,"DG"),m(),p(5,"span",172),y(6),m()()()()}if(e&2){let n=I(2);g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),g(4),J(n.getPlayerForPosition(1,"defenseur-gauche"))}}function dj(e,t){if(e&1){let n=ge();p(0,"div")(1,"div",183),A("click",function(){R(n);let i=I(2);return N(i.selectPosition(1,"defenseur-droit"))}),p(2,"div",169)(3,"span",170),y(4,"DD"),m(),p(5,"span",172),y(6),m()()()()}if(e&2){let n=I(2);g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),g(4),J(n.getPlayerForPosition(1,"defenseur-droit"))}}function hj(e,t){e&1&&(p(0,"span",180),y(1,"-"),m())}function fj(e,t){if(e&1){let n=ge();p(0,"div")(1,"div",181),A("click",function(){R(n);let i=I(2);return N(i.selectPosition(2,"milieu-offensif"))}),p(2,"div",169)(3,"span",170),y(4,"MO"),m(),p(5,"span",172),y(6),m()()()()}if(e&2){let n=I(2);g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),g(4),J(n.getPlayerForPosition(2,"milieu-offensif"))}}function pj(e,t){if(e&1){let n=ge();p(0,"div")(1,"div",182),A("click",function(){R(n);let i=I(2);return N(i.selectPosition(2,"defenseur-gauche"))}),p(2,"div",169)(3,"span",170),y(4,"DG"),m(),p(5,"span",172),y(6),m()()()()}if(e&2){let n=I(2);g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),g(4),J(n.getPlayerForPosition(2,"defenseur-gauche"))}}function mj(e,t){if(e&1){let n=ge();p(0,"div")(1,"div",183),A("click",function(){R(n);let i=I(2);return N(i.selectPosition(2,"defenseur-droit"))}),p(2,"div",169)(3,"span",170),y(4,"DD"),m(),p(5,"span",172),y(6),m()()()()}if(e&2){let n=I(2);g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),g(4),J(n.getPlayerForPosition(2,"defenseur-droit"))}}function gj(e,t){e&1&&He(0,"div")}function yj(e,t){if(e&1){let n=ge();p(0,"button",133),A("click",function(){let i=R(n).$implicit,o=I(3);return N(o.assignPlayerToPosition(i))}),y(1),m()}if(e&2){let n=t.$implicit;g(),Ae(" ",n," ")}}function vj(e,t){if(e&1){let n=ge();p(0,"div",128)(1,"div",129)(2,"h6"),y(3),m(),p(4,"div",130),Y(5,yj,2,1,"button",131),m(),p(6,"button",132),A("click",function(){R(n);let i=I(2);return N(i.selectedPosition=null)}),y(7," Annuler "),m()()()}if(e&2){let n=I(2);g(3),Ae("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),g(2),x("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function _j(e,t){if(e&1){let n=ge();p(0,"div",162)(1,"div",163)(2,"button",84),A("click",function(){R(n);let i=I();return N(i.closeDispositionModal())}),y(3,"\xD7"),m(),p(4,"h3"),y(5,"Disposition tactique"),m(),p(6,"button",79),A("click",function(){R(n);let i=I();return N(i.toggleDefendersAndMidfielders())}),y(7),m(),p(8,"div",164)(9,"div",165)(10,"div",166)(11,"h5",88),y(12),m(),p(13,"div",167)(14,"div",168),A("click",function(){R(n);let i=I();return N(i.selectPosition(1,"attaquant"))}),p(15,"div",169)(16,"span",170),y(17,"AT"),m(),Y(18,aj,2,0,"span",171),p(19,"span",172),y(20),m()()(),Y(21,uj,8,4,"div",59),p(22,"div",173),A("click",function(){R(n);let i=I();return N(i.selectPosition(1,"milieu-gauche"))}),p(23,"div",169)(24,"span",170),y(25,"MG"),m(),p(26,"span",172),y(27),m()()(),p(28,"div",174),A("click",function(){R(n);let i=I();return N(i.selectPosition(1,"milieu-droit"))}),p(29,"div",169)(30,"span",170),y(31,"MD"),m(),p(32,"span",172),y(33),m()()(),p(34,"div",175),A("click",function(){R(n);let i=I();return N(i.selectPosition(1,"defenseur-central"))}),p(35,"div",169)(36,"span",170),y(37,"DC"),m(),p(38,"span",172),y(39),m()()(),Y(40,lj,7,3,"div",59)(41,dj,7,3,"div",59),p(42,"div",176),A("click",function(){R(n);let i=I();return N(i.selectPosition(1,"gardien"))}),p(43,"div",169)(44,"span",170),y(45,"G"),m(),p(46,"span",172),y(47),m()()()()(),p(48,"div",177)(49,"h5",92),y(50),m(),p(51,"div",167)(52,"div",168),A("click",function(){R(n);let i=I();return N(i.selectPosition(2,"attaquant"))}),p(53,"div",169)(54,"span",170),y(55,"AT"),m(),Y(56,hj,2,0,"span",171),p(57,"span",172),y(58),m()()(),Y(59,fj,7,3,"div",59),p(60,"div",173),A("click",function(){R(n);let i=I();return N(i.selectPosition(2,"milieu-gauche"))}),p(61,"div",169)(62,"span",170),y(63,"MG"),m(),p(64,"span",172),y(65),m()()(),p(66,"div",174),A("click",function(){R(n);let i=I();return N(i.selectPosition(2,"milieu-droit"))}),p(67,"div",169)(68,"span",170),y(69,"MD"),m(),p(70,"span",172),y(71),m()()(),p(72,"div",175),A("click",function(){R(n);let i=I();return N(i.selectPosition(2,"defenseur-central"))}),p(73,"div",169)(74,"span",170),y(75,"DC"),m(),p(76,"span",172),y(77),m()()(),Y(78,pj,7,3,"div",59)(79,mj,7,3,"div",59),p(80,"div",176),A("click",function(){R(n);let i=I();return N(i.selectPosition(2,"gardien"))}),p(81,"div",169)(82,"span",170),y(83,"G"),m(),p(84,"span",172),y(85),m()()(),Y(86,gj,1,0,"div",59),m()()(),p(87,"div",178)(88,"p",179),y(89," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),m()()(),Y(90,vj,8,2,"div",99),m()()}if(e&2){let n=I();g(7),Ae(" ",n.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),g(5),J(n.selectedMatch.equipe1),g(3),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),g(3),x("ngIf",n.getPlayerForPosition(1,"attaquant")),g(2),J(n.getPlayerForPosition(1,"attaquant")),g(),x("ngIf",n.showDefendersAndMidfielders),g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),g(4),J(n.getPlayerForPosition(1,"milieu-gauche")),g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),g(4),J(n.getPlayerForPosition(1,"milieu-droit")),g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),g(4),J(n.getPlayerForPosition(1,"defenseur-central")),g(),x("ngIf",n.showDefendersAndMidfielders),g(),x("ngIf",n.showDefendersAndMidfielders),g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),g(4),J(n.getPlayerForPosition(1,"gardien")),g(3),J(n.selectedMatch.equipe2),g(3),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),g(3),x("ngIf",n.getPlayerForPosition(2,"attaquant")),g(2),J(n.getPlayerForPosition(2,"attaquant")),g(),x("ngIf",n.showDefendersAndMidfielders),g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),g(4),J(n.getPlayerForPosition(2,"milieu-gauche")),g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),g(4),J(n.getPlayerForPosition(2,"milieu-droit")),g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),g(4),J(n.getPlayerForPosition(2,"defenseur-central")),g(),x("ngIf",n.showDefendersAndMidfielders),g(),x("ngIf",n.showDefendersAndMidfielders),g(2),xe("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),g(4),J(n.getPlayerForPosition(2,"gardien")),g(),x("ngIf",n.showDefendersAndMidfielders),g(4),x("ngIf",n.selectedPosition&&n.selectedMatch)}}var RT=(()=>{class e{constructor(n,r){this.fb=n,this.firestoreService=r,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.editingButeur=null,this.teams=_I,this.selectedTeam=null,this.newTeamName="",this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!1,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.remainingDots=10,this.matchForm=this.fb.group({equipe1:[this.teams[0].name,ze.required],equipe2:["",ze.required],heureDebut:[this.getCurrentDateTime(),ze.required],lieu:[""]}),this.scoreForm=this.fb.group({score1:[0,[ze.required,ze.min(0)]],score2:[0,[ze.required,ze.min(0)]]}),this.buteurForm=this.fb.group({nom:["",ze.required],minute:["",[ze.required,ze.min(1),ze.max(90)]],equipe:["",ze.required],assist:[""]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(i=>{let o=this.buteurForm.get("assist");o&&o.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",ze.required],equipe2:["",ze.required],heureDebut:["",ze.required],lieu:[""]})}ngOnInit(){this.loadSavedData(),this.startAutoSave(),this.loadMatchFromUrl()}getCurrentDateTime(){let n=new Date,r=n.getTimezoneOffset()*6e4;return new Date(n.getTime()-r).toISOString().slice(0,16)}onSubmit(){if(this.matchForm.valid){let r=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,i=se(S({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],showElements:!0});this.matches.push(i),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1}}calculateElapsedMinutes(n){let r=new Date,i=new Date(n),o=new Date(i.getTime()),s=Math.floor((r.getTime()-o.getTime())/(1e3*60));return console.log("diffInMinutes",s),console.log("now",r),console.log("localMatchStart",o),s>90?this.getLastScoredMinute()+1:Math.max(1,s)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(n=>n.minute))}selectMatch(n){this.selectedMatch=n,this.scoreForm.patchValue({score1:n.score1,score2:n.score2});let r=this.calculateElapsedMinutes(n.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.buteurForm.patchValue({nom:"",minute:r,equipe:1});let i=this.teams.find(s=>s.name===n.equipe1),o=this.teams.find(s=>s.name===n.equipe2);if(i?Fp(i):this.teams.push({id:this.teams.length+1,name:n.equipe1,players:["Joueur non list\xE9"]}),o?Fp(o):this.teams.push({id:this.teams.length+1,name:n.equipe2,players:["Joueur non list\xE9"]}),n.equipe1==="U10 Stand. Flawinne FC"){let s=this.teams.find(a=>a.name==="U10 Stand. Flawinne FC");this.selectedTeam=s||null}}updateScore(){if(this.scoreForm.valid&&this.selectedMatch){let n=this.matches.findIndex(r=>r.id===this.selectedMatch.id);n!==-1&&(this.matches[n]=se(S({},this.matches[n]),{score1:this.scoreForm.value.score1,score2:this.scoreForm.value.score2}),this.selectedMatch=null,this.scoreForm.reset({score1:0,score2:0}))}}modifierButeur(n,r){let i=this.matches[n],o=i.buteurs[r];o.equipe===1?i.score1--:i.score2--,this.editingButeur={index:r,buteur:S({},o)},this.buteurForm.patchValue({nom:o.nom,minute:o.minute,equipe:o.equipe}),this.showButeurForm=!0}ajouterButeur(){if(this.buteurForm.valid&&this.selectedMatch){let n={nom:this.buteurForm.value.nom,minute:this.buteurForm.value.minute,equipe:this.buteurForm.value.equipe,assist:this.buteurForm.value.assist||void 0},r=this.matches.findIndex(i=>i.id===this.selectedMatch.id);r!==-1&&(this.editingButeur!==null?this.matches[r].buteurs[this.editingButeur.index]=n:this.matches[r].buteurs.push(n),n.equipe===1?(this.matches[r].score1++,this.lastGoalTeam=this.selectedMatch.equipe1):(this.matches[r].score2++,this.lastGoalTeam=this.selectedMatch.equipe2),this.lastGoalScorer=n.nom,this.buteurForm.reset(),this.editingButeur=null,this.showButeurForm=!1,this.saveData())}}annulerEditionButeur(){if(this.editingButeur&&this.selectedMatch){let n=this.matches.findIndex(r=>r.id===this.selectedMatch.id);n!==-1&&(this.editingButeur.buteur.equipe===1?this.matches[n].score1++:this.matches[n].score2++)}this.editingButeur=null,this.buteurForm.reset(),this.showButeurForm=!1}supprimerButeur(n,r){let i=this.matches[n];i.buteurs[r].equipe===1?i.score1--:i.score2--,i.buteurs.splice(r,1),this.saveData()}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(o=>o.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(n){let r=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(r&&r.trim()){let i={id:this.teams.length+1,name:r.trim(),players:[]};this.teams.push(i),n.value=i.name;let o=n.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(o)?.setValue(i.name)}}editNewTeam(n){let r=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(r&&r.trim()){let i={id:this.teams.length+1,name:r.trim(),players:[]};this.teams.push(i),n.value=i.name;let o=n.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(o)?.setValue(i.name)}}addNewPlayer(n){if(n&&n.trim()){let r=this.teams.find(i=>i.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));r&&(r.players.push(n.trim()),this.buteurForm.get("nom")?.setValue(n.trim()))}}getTeamPlayers(n){if(!this.selectedMatch)return[];let r=n===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(o=>o.name===r)?.players||[]}quickAddGoal(n,r){if(this.selectedMatch){let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);this.lastGoalScorer=n,this.lastGoalTeam=r===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.lastGoalAssist="",this.remainingDots=10,this.showGoalCelebration=!0,this.celebrationTimer=setInterval(()=>{this.remainingDots--,this.remainingDots<=0&&(this.showGoalCelebration=!1,clearInterval(this.celebrationTimer))},1e3)}}saveGoalWithAssist(){if(this.selectedMatch){let n={nom:this.lastGoalScorer,minute:this.calculateElapsedMinutes(this.selectedMatch.heureDebut),equipe:this.lastGoalTeam===this.selectedMatch.equipe1?1:2,assist:this.lastGoalAssist||void 0},r=this.matches.findIndex(i=>i.id===this.selectedMatch.id);r!==-1&&(this.matches[r].buteurs.push(n),n.equipe===1?this.matches[r].score1++:this.matches[r].score2++,this.saveData(),clearInterval(this.celebrationTimer),this.showGoalCelebration=!1)}}supprimerMatch(n){if(confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?")){let r=this.matches.findIndex(i=>i.id===n.id);r!==-1&&(this.matches.splice(r,1),this.saveData())}}loadSavedData(){let n=localStorage.getItem("footballMatches");if(n){let r=JSON.parse(n);new Date(r.expirationDate)>new Date?this.matches=r.matches.map(o=>se(S({},o),{heureDebut:new Date(o.heureDebut)})):localStorage.removeItem("footballMatches")}}saveData(){let n=new Date;n.setMonth(n.getMonth()+3);let r={matches:this.matches,expirationDate:n.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(r))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(n,r){return n.buteurs.filter(o=>o.equipe===r).reduce((o,s)=>{let a=o.find(c=>c.nom===s.nom);return a?(a.minutes.push(s.minute),a.minutes.sort((c,u)=>c-u),s.assist&&(a.assist=s.assist)):o.push({nom:s.nom,minutes:[s.minute],assist:s.assist}),o},[]).sort((o,s)=>o.minutes[0]-s.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(n,r){this.selectedPosition={team:n,position:r}}assignPlayerToPosition(n){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let r=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[r]=n,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(n,r){if(this.selectedMatch?.positions){let i=`${n}_${r}`;return this.selectedMatch.positions[i]||""}return""}openDispositionModal(n){this.selectedMatch=n,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(n){n.showElements=!n.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(n){this.selectedMatch=n,this.matchEditForm.patchValue({equipe1:n.equipe1,equipe2:n.equipe2,heureDebut:this.getNearestValidTime(n.heureDebut),lieu:n.lieu}),this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(n){let r=new Date(n);return r.getMinutes()<30?r.setMinutes(0):r.setMinutes(30),r.toISOString().slice(0,16)}onSubmitMatchEdit(){if(console.log("onSubmitMatchEdit"),this.matchEditForm.valid&&this.selectedMatch){let n=this.matchEditForm.value;this.selectedMatch.equipe1=n.equipe1,this.selectedMatch.equipe2=n.equipe2,this.selectedMatch.heureDebut=new Date(n.heureDebut),this.selectedMatch.lieu=n.lieu,console.log("Match mis \xE0 jour:",this.selectedMatch),this.showMatchEditForm=!1}}get filteredMatches(){return this.selectedTeamFilter?this.matches.filter(n=>n.equipe1===this.selectedTeamFilter||n.equipe2===this.selectedTeamFilter):this.matches}closeTeamFilterModal(){this.showTeamFilterModal=!1}shareMatch(n){let r=`${window.location.origin}?matchId=${n.id}`,i=`
Match : ${n.equipe1} vs ${n.equipe2}
Score : ${n.score1} - ${n.score2}
Date : ${n.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${n.lieu||"Non sp\xE9cifi\xE9"}

Buteurs :
${n.equipe1}:
${this.getGroupedScorers(n,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

${n.equipe2}:
${this.getGroupedScorers(n,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

Lien direct vers le match : ${r}
    `.trim();if(navigator.share)navigator.share({title:`${n.equipe1} vs ${n.equipe2}`,text:i,url:r}).catch(console.error);else{let o=document.createElement("textarea");o.value=i,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}loadMatchFromUrl(){let r=new URLSearchParams(window.location.search).get("matchId");if(r){let i=this.matches.find(o=>o.id===parseInt(r));i&&(this.selectMatch(i),setTimeout(()=>{let o=document.querySelector(`[data-match-id="${i.id}"]`);o&&o.scrollIntoView({behavior:"smooth"})},100))}}getButeurDisplay(n){let r=`\u26BD ${n.nom} (${n.minute}')`;return n.assist&&(r+=` (Assist: ${n.assist})`),r}saveMatchToFirestore(n){return C(this,null,function*(){try{let r=yield this.firestoreService.saveMatch(n);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",r),window.location.href=`/match/${r}`}catch(r){console.error("Erreur lors de l'enregistrement du match dans Firestore:",r)}})}static{this.\u0275fac=function(r){return new(r||e)(j(gI),j(PT))}}static{this.\u0275cmp=Uc({type:e,selectors:[["app-root"]],standalone:!0,features:[fu],decls:20,vars:9,consts:[["equipe1Select",""],["equipe2Select",""],[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"lead","text-muted"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","mt-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration",4,"ngIf"],["class","disposition-modal",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],["tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",1,"score-modal"],["role","document",1,"modal-dialog","modal-body"],[1,"modal-content"],[1,"modal-header"],["id","teamFilterModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],[1,"form-check-label",3,"for"],[1,"mt-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],["for","equipe1",1,"form-label"],["id","equipe1","formControlName","equipe1",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["value","new1"],["for","equipe2",1,"form-label"],["id","equipe2","formControlName","equipe2",1,"form-select",3,"change"],["value",""],["value","new2"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],[3,"value"],[1,"mt-4"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"match-details"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"fas",3,"ngClass"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn","btn-primary",3,"click"],["class","match-scorers",4,"ngIf"],["class","match-actions",4,"ngIf"],[1,"mx-2"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[4,"ngFor","ngForOf"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"minutes-list","right-team"],[1,"match-actions"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[2,"font-size","2em"],[3,"click"],[1,"score-modal"],[1,"score-modal-content"],[1,"close-button",3,"click"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],["class","player-selector",4,"ngIf"],[1,"mt-3"],["tabindex","-1",1,"score-modal"],[1,"modal-dialog"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-5"],[1,"form-label","small"],["type","text","placeholder","Nom du buteur","formControlName","nom",1,"form-control"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control"],[1,"col-md-4"],["formControlName","equipe",1,"form-select"],[1,"col-md-12"],["formControlName","assist",1,"form-select"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2"],[1,"flex-grow-1"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],[1,"match-edit-modal"],[1,"button-group","mt-3"],[1,"btn","btn-outline-danger",3,"click"],[1,"form-group"],["for","equipe1"],["id","equipe1","formControlName","equipe1","required","",1,"form-select",3,"change"],["value","new"],["for","equipe2"],["id","equipe2","formControlName","equipe2","required","",1,"form-select",3,"change"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"goal-celebration"],[1,"celebration-content"],[1,"goal-text"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],[1,"assist-section","mt-3"],[1,"form-label"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"dot"],[3,"value","disabled"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"]],template:function(r,i){r&1&&(p(0,"div",2)(1,"div",3)(2,"h2",4)(3,"span",5),y(4,"BUUUT"),m(),p(5,"span",6),y(6,".be"),m()(),p(7,"p",7),y(8,"Enregistrez maintenant tous vos buts!"),m()(),p(9,"div",8),Y(10,w2,2,0,"button",9)(11,E2,2,0,"button",9)(12,D2,18,3,"div",10),m(),Y(13,T2,35,4,"form",11)(14,q2,5,1,"div",12)(15,ej,40,15,"div",13)(16,rj,38,3,"div",14)(17,sj,22,6,"div",15)(18,_j,91,43,"div",16),m(),He(19,"router-outlet")),r&2&&(g(10),x("ngIf",!i.showMatchForm),g(),x("ngIf",!i.showTeamFilterModal),g(),x("ngIf",i.showTeamFilterModal),g(),x("ngIf",i.showMatchForm),g(),x("ngIf",i.filteredMatches.length>0),g(),x("ngIf",i.selectedMatch&&i.showScoreForm),g(),x("ngIf",i.selectedMatch&&i.showMatchEditForm),g(),x("ngIf",i.showGoalCelebration),g(),x("ngIf",i.showDispositionModal&&i.selectedMatch))},dependencies:[ip,oE,sE,aE,cE,vI,cI,dI,fI,Ku,Sp,Yu,xp,eI,tI,Op,Np,Rp,Ap,Mp,yI,Tp,cD,pm],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-2px)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #0000001a}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.score-modal-content[_ngcontent-%COMP%]{width:99%;height:99%;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:0;padding:.5rem;box-shadow:none;overflow-y:auto;position:relative}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem 0;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#0000000d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.score-modal-content[_ngcontent-%COMP%]{width:99%;margin:.5rem}.team-scorers[_ngcontent-%COMP%]{gap:1rem}.scorers-column[_ngcontent-%COMP%]{padding:0 .5rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:2px solid #3498db;width:99%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:90%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:0 1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#000000e6;padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:0;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:600px;width:90%}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:1.5em;color:#666;cursor:pointer;transition:all .3s ease}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}']})}}return e})();var NT=(()=>{class e{constructor(n){this.http=n,this.apiUrl="http://localhost:3000/api/matches"}createMatch(n){return this.http.post(this.apiUrl,n)}getAllMatches(){return this.http.get(this.apiUrl)}getMatchById(n){return this.http.get(`${this.apiUrl}/${n}`)}updateMatch(n,r){return this.http.put(`${this.apiUrl}/${n}`,r)}deleteMatch(n){return this.http.delete(`${this.apiUrl}/${n}`)}static{this.\u0275fac=function(r){return new(r||e)(L(lp))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var wj="firebase",Ej="10.7.0";vr(wj,Ej,"app");var OT={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var Ij=Lm(OT.firebaseConfig),R6=Ld(Ij);SE(RT,{providers:[_E(),NT]}).catch(e=>console.error(e));
