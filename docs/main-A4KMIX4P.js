var fx=Object.defineProperty,px=Object.defineProperties;var mx=Object.getOwnPropertyDescriptors;var v0=Object.getOwnPropertySymbols;var gx=Object.prototype.hasOwnProperty,_x=Object.prototype.propertyIsEnumerable;var y0=(t,e,n)=>e in t?fx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||={})gx.call(e,n)&&y0(t,n,e[n]);if(v0)for(var n of v0(e))_x.call(e,n)&&y0(t,n,e[n]);return t},te=(t,e)=>px(t,mx(e));var E=(t,e,n)=>new Promise((i,r)=>{var o=c=>{try{a(n.next(c))}catch(l){r(l)}},s=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var w0=null;var Wh=1,Kh=Symbol("SIGNAL");function me(t){let e=w0;return w0=t,e}var I0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vx(t){if(!(Jh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Wh)){if(!t.producerMustRecompute(t)&&!Qh(t)){t.dirty=!1,t.lastCleanEpoch=Wh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Wh}}function E0(t){return t&&(t.nextProducerIndex=0),me(t)}function C0(t,e){if(me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Jh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Qh(t){Nc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(vx(n),i!==n.version))return!0}return!1}function b0(t){if(Nc(t),Jh(t))for(let e=0;e<t.producerNode.length;e++)Yh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yh(t,e){if(yx(t),Nc(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Yh(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Nc(r),r.producerIndexOfThis[i]=e}}function Jh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Nc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function yx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function wx(){throw new Error}var Ix=wx;function T0(t){Ix=t}function Y(t){return typeof t=="function"}function Qr(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Oc=Qr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Xi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(Y(i))try{i()}catch(o){e=o instanceof Oc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{D0(o)}catch(s){e=e??[],s instanceof Oc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Oc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)D0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Xi(n,e)}remove(e){let{_finalizers:n}=this;n&&Xi(n,e),e instanceof t&&e._removeParent(this)}};Be.EMPTY=(()=>{let t=new Be;return t.closed=!0,t})();var Zh=Be.EMPTY;function kc(t){return t instanceof Be||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function D0(t){Y(t)?t():t.unsubscribe()}var hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yr={setTimeout(t,e,...n){let{delegate:i}=Yr;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Yr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fc(t){Yr.setTimeout(()=>{let{onUnhandledError:e}=hn;if(e)e(t);else throw t})}function As(){}var S0=Xh("C",void 0,void 0);function x0(t){return Xh("E",void 0,t)}function A0(t){return Xh("N",t,void 0)}function Xh(t,e,n){return{kind:t,value:e,error:n}}var er=null;function Jr(t){if(hn.useDeprecatedSynchronousErrorHandling){let e=!er;if(e&&(er={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=er;if(er=null,n)throw i}}else t()}function M0(t){hn.useDeprecatedSynchronousErrorHandling&&er&&(er.errorThrown=!0,er.error=t)}var tr=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kc(e)&&e.add(this)):this.destination=bx}static create(e,n,i){return new Zr(e,n,i)}next(e){this.isStopped?tf(A0(e),this):this._next(e)}error(e){this.isStopped?tf(x0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tf(S0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ex=Function.prototype.bind;function ef(t,e){return Ex.call(t,e)}var nf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Vc(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Vc(i)}else Vc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vc(n)}}},Zr=class extends tr{constructor(e,n,i){super();let r;if(Y(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&hn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ef(e.next,o),error:e.error&&ef(e.error,o),complete:e.complete&&ef(e.complete,o)}):r=e}this.destination=new nf(r)}};function Vc(t){hn.useDeprecatedSynchronousErrorHandling?M0(t):Fc(t)}function Cx(t){throw t}function tf(t,e){let{onStoppedNotification:n}=hn;n&&Yr.setTimeout(()=>n(t,e))}var bx={closed:!0,next:As,error:Cx,complete:As};var Xr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(t){return t}function rf(...t){return of(t)}function of(t){return t.length===0?Lt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=Dx(n)?n:new Zr(n,i,r);return Jr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=P0(i),new i((r,o)=>{let s=new Zr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Xr](){return this}pipe(...n){return of(n)(this)}toPromise(n){return n=P0(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function P0(t){var e;return(e=t??hn.Promise)!==null&&e!==void 0?e:Promise}function Tx(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function Dx(t){return t&&t instanceof tr||Tx(t)&&kc(t)}function sf(t){return Y(t?.lift)}function de(t){return e=>{if(sf(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,i,r){return new af(t,e,n,i,r)}var af=class extends tr{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function eo(){return de((t,e)=>{let n=null;t._refCount++;let i=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var to=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return eo()(this)}};var R0=Qr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wt=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Lc(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new R0}next(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Zh:(this.currentObservers=null,o.push(n),new Be(()=>{this.currentObservers=null,Xi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Lc(e,n),t})(),Lc=class extends wt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Zh}};var rt=class extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var cf={now(){return(cf.delegate||Date).now()},delegate:void 0};var jc=class extends Be{constructor(e,n){super()}schedule(e,n=0){return this}};var Ms={setInterval(t,e,...n){let{delegate:i}=Ms;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ms;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var no=class extends jc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Ms.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Ms.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Xi(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var io=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};io.now=cf.now;var ro=class extends io{constructor(e,n=io.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var lf=new ro(no);var Uc=class extends no{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Bc=class extends ro{};var uf=new Bc(Uc);var jt=new oe(t=>t.complete());function N0(t){return t&&Y(t.schedule)}function O0(t){return t[t.length-1]}function $c(t){return Y(O0(t))?t.pop():void 0}function mi(t){return N0(O0(t))?t.pop():void 0}function df(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function F0(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(h){s(h)}}function c(u){try{l(i.throw(u))}catch(h){s(h)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((i=i.apply(t,e||[])).next())})}function k0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nr(t){return this instanceof nr?(this.v=t,this):new nr(t)}function V0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(y){return function(D){return Promise.resolve(D).then(y,h)}}function a(y,D){i[y]&&(r[y]=function(S){return new Promise(function(A,F){o.push([y,S,A,F])>1||c(y,S)})},D&&(r[y]=D(r[y])))}function c(y,D){try{l(i[y](D))}catch(S){v(o[0][3],S)}}function l(y){y.value instanceof nr?Promise.resolve(y.value.v).then(u,h):v(o[0][2],y)}function u(y){c("next",y)}function h(y){c("throw",y)}function v(y,D){y(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}function L0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof k0=="function"?k0(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var qc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Gc(t){return Y(t?.then)}function Hc(t){return Y(t[Xr])}function zc(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function Wc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Sx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kc=Sx();function Qc(t){return Y(t?.[Kc])}function Yc(t){return V0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield nr(n.read());if(r)return yield nr(void 0);yield yield nr(i)}}finally{n.releaseLock()}})}function Jc(t){return Y(t?.getReader)}function Ge(t){if(t instanceof oe)return t;if(t!=null){if(Hc(t))return xx(t);if(qc(t))return Ax(t);if(Gc(t))return Mx(t);if(zc(t))return j0(t);if(Qc(t))return Px(t);if(Jc(t))return Rx(t)}throw Wc(t)}function xx(t){return new oe(e=>{let n=t[Xr]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ax(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Mx(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fc)})}function Px(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function j0(t){return new oe(e=>{Nx(t,e).catch(n=>e.error(n))})}function Rx(t){return j0(Yc(t))}function Nx(t,e){var n,i,r,o;return F0(this,void 0,void 0,function*(){try{for(n=L0(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function xt(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function gi(t,e=0){return de((n,i)=>{n.subscribe(se(i,r=>xt(i,t,()=>i.next(r),e),()=>xt(i,t,()=>i.complete(),e),r=>xt(i,t,()=>i.error(r),e)))})}function _i(t,e=0){return de((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function U0(t,e){return Ge(t).pipe(_i(e),gi(e))}function B0(t,e){return Ge(t).pipe(_i(e),gi(e))}function $0(t,e){return new oe(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function q0(t,e){return new oe(n=>{let i;return xt(n,e,()=>{i=t[Kc](),xt(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>Y(i?.return)&&i.return()})}function Zc(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{xt(n,e,()=>{let i=t[Symbol.asyncIterator]();xt(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function G0(t,e){return Zc(Yc(t),e)}function H0(t,e){if(t!=null){if(Hc(t))return U0(t,e);if(qc(t))return $0(t,e);if(Gc(t))return B0(t,e);if(zc(t))return Zc(t,e);if(Qc(t))return q0(t,e);if(Jc(t))return G0(t,e)}throw Wc(t)}function Re(t,e){return e?H0(t,e):Ge(t)}function z(...t){let e=mi(t);return Re(t,e)}function oo(t,e){let n=Y(t)?t:()=>t,i=r=>r.error(n());return new oe(e?r=>e.schedule(i,0,r):i)}function hf(t){return!!t&&(t instanceof oe||Y(t.lift)&&Y(t.subscribe))}var Qn=Qr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,e){return de((n,i)=>{let r=0;n.subscribe(se(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:Ox}=Array;function kx(t,e){return Ox(e)?t(...e):t(e)}function Xc(t){return X(e=>kx(t,e))}var{isArray:Fx}=Array,{getPrototypeOf:Vx,prototype:Lx,keys:jx}=Object;function el(t){if(t.length===1){let e=t[0];if(Fx(e))return{args:e,keys:null};if(Ux(e)){let n=jx(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function Ux(t){return t&&typeof t=="object"&&Vx(t)===Lx}function tl(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Ps(...t){let e=mi(t),n=$c(t),{args:i,keys:r}=el(t);if(i.length===0)return Re([],e);let o=new oe(Bx(i,e,r?s=>tl(r,s):Lt));return n?o.pipe(Xc(n)):o}function Bx(t,e,n=Lt){return i=>{z0(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)z0(e,()=>{let l=Re(t[c],e),u=!1;l.subscribe(se(i,h=>{o[c]=h,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function z0(t,e,n){t?xt(n,t,e):e()}function W0(t,e,n,i,r,o,s,a){let c=[],l=0,u=0,h=!1,v=()=>{h&&!c.length&&!l&&e.complete()},y=S=>l<i?D(S):c.push(S),D=S=>{o&&e.next(S),l++;let A=!1;Ge(n(S,u++)).subscribe(se(e,F=>{r?.(F),o?y(F):e.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<i;){let F=c.shift();s?xt(e,s,()=>D(F)):D(F)}v()}catch(F){e.error(F)}}))};return t.subscribe(se(e,y,()=>{h=!0,v()})),()=>{a?.()}}function He(t,e,n=1/0){return Y(e)?He((i,r)=>X((o,s)=>e(i,o,r,s))(Ge(t(i,r))),n):(typeof e=="number"&&(n=e),de((i,r)=>W0(i,r,t,n)))}function so(t=1/0){return He(Lt,t)}function K0(){return so(1)}function ao(...t){return K0()(Re(t,mi(t)))}function nl(t){return new oe(e=>{Ge(t()).subscribe(e)})}function ff(...t){let e=$c(t),{args:n,keys:i}=el(t),r=new oe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let h=!1;Ge(n[u]).subscribe(se(o,v=>{h||(h=!0,l--),a[u]=v},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(i?tl(i,a):a),o.complete())}))}});return e?r.pipe(Xc(e)):r}function At(t,e){return de((n,i)=>{let r=0;n.subscribe(se(i,o=>t.call(e,o,r++)&&i.next(o)))})}function vi(t){return de((e,n)=>{let i=null,r=!1,o;i=e.subscribe(se(n,void 0,void 0,s=>{o=Ge(t(s,vi(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function Q0(t,e,n,i,r){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(se(s,u=>{let h=l++;c=a?t(c,u,h):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Yn(t,e){return Y(e)?He(t,e,1):He(t,1)}function yi(t){return de((e,n)=>{let i=!1;e.subscribe(se(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Jn(t){return t<=0?()=>jt:de((e,n)=>{let i=0;e.subscribe(se(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function pf(t){return X(()=>t)}function il(t=$x){return de((e,n)=>{let i=!1;e.subscribe(se(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function $x(){return new Qn}function ir(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?At((r,o)=>t(r,o,i)):Lt,Jn(1),n?yi(e):il(()=>new Qn))}function co(t){return t<=0?()=>jt:de((e,n)=>{let i=[];e.subscribe(se(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function mf(t,e){let n=arguments.length>=2;return i=>i.pipe(t?At((r,o)=>t(r,o,i)):Lt,co(1),n?yi(e):il(()=>new Qn))}function gf(t,e){return de(Q0(t,e,arguments.length>=2,!0))}function _f(...t){let e=mi(t);return de((n,i)=>{(e?ao(t,n,e):ao(t,n)).subscribe(i)})}function Mt(t,e){return de((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(se(i,c=>{r?.unsubscribe();let l=0,u=o++;Ge(t(c,u)).subscribe(r=se(i,h=>i.next(e?e(c,h,u,l++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function vf(t){return de((e,n)=>{Ge(t).subscribe(se(n,()=>n.complete(),As)),!n.closed&&e.subscribe(n)})}function ze(t,e,n){let i=Y(t)||e||n?{next:t,error:e,complete:n}:t;return i?de((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(se(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Lt}var qx="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Nl(e,n)),this.code=e}};function Nl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Gs(t){return{toString:t}.toString()}var rl="__parameters__";function Gx(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function Nw(t,e,n){return Gs(()=>{let i=Gx(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let h=c.hasOwnProperty(rl)?c[rl]:Object.defineProperty(c,rl,{value:[]})[rl];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Zn=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function Hx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Y0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var zx=Te({__forward_ref__:Te});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return Et(this())},t}function It(t){return Ow(t)?t():t}function Ow(t){return typeof t=="function"&&t.hasOwnProperty(zx)&&t.__forward_ref__===Ct}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ol(t){return J0(t,Fw)||J0(t,Vw)}function kw(t){return Ol(t)!==null}function J0(t,e){return t.hasOwnProperty(e)?t[e]:null}function Wx(t){let e=t&&(t[Fw]||t[Vw]);return e||null}function Z0(t){return t&&(t.hasOwnProperty(X0)||t.hasOwnProperty(Kx))?t[X0]:null}var Fw=Te({\u0275prov:Te}),X0=Te({\u0275inj:Te}),Vw=Te({ngInjectableDef:Te}),Kx=Te({ngInjectorDef:Te}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Lw(t){return t&&!!t.\u0275providers}var Qx=Te({\u0275cmp:Te}),Yx=Te({\u0275dir:Te}),Jx=Te({\u0275pipe:Te}),Zx=Te({\u0275mod:Te}),hl=Te({\u0275fac:Te}),Rs=Te({__NG_ELEMENT_ID__:Te}),ew=Te({__NG_ENV_ID__:Te});function Ns(t){return typeof t=="string"?t:t==null?"":String(t)}function Xx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ns(t)}function eA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Ep(t,e){throw new $(-201,!1)}var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{}),kf;function jw(){return kf}function Pt(t){let e=kf;return kf=t,e}function Uw(t,e,n){let i=Ol(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&ne.Optional)return null;if(e!==void 0)return e;Ep(t,"Injector")}var tA={},Os=tA,Ff="__NG_DI_FLAG__",fl="ngTempTokenPath",nA="ngTokenPath",iA=/\n/gm,rA="\u0275",tw="__source",po;function oA(){return po}function wi(t){let e=po;return po=t,e}function sA(t,e=ne.Default){if(po===void 0)throw new $(-203,!1);return po===null?Uw(t,void 0,e):po.get(t,e&ne.Optional?null:void 0,e)}function B(t,e=ne.Default){return(jw()||sA)(It(t),e)}function P(t,e=ne.Default){return B(t,kl(e))}function kl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Vf(t){let e=[];for(let n=0;n<t.length;n++){let i=It(t[n]);if(Array.isArray(i)){if(i.length===0)throw new $(900,!1);let r,o=ne.Default;for(let s=0;s<i.length;s++){let a=i[s],c=aA(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(B(r,o))}else e.push(B(i))}return e}function Bw(t,e){return t[Ff]=e,t.prototype[Ff]=e,t}function aA(t){return t[Ff]}function cA(t,e,n,i){let r=t[fl];throw e[tw]&&r.unshift(e[tw]),t.message=lA(`
`+t.message,r,n,i),t[nA]=r,t[fl]=null,t}function lA(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==rA?t.slice(2):t;let r=Et(e);if(Array.isArray(e))r=e.map(Et).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(iA,`
  `)}`}var Jt=Bw(Nw("Optional"),8);var Cp=Bw(Nw("SkipSelf"),4);function ar(t,e){let n=t.hasOwnProperty(hl);return n?t[hl]:null}function bp(t,e){t.forEach(n=>Array.isArray(n)?bp(n,e):e(n))}function $w(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uA(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function dA(t,e,n){let i=Hs(t,e);return i>=0?t[i|1]=n:(i=~i,uA(t,i,e,n)),i}function yf(t,e){let n=Hs(t,e);if(n>=0)return t[n|1]}function Hs(t,e){return hA(t,e,1)}function hA(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var go={},Kt=[],_o=new U(""),qw=new U("",-1),Gw=new U(""),ml=class{get(e,n=Os){if(n===Os){let i=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw i.name="NullInjectorError",i}return n}},Hw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Hw||{}),Pn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pn||{}),st=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(st||{});function fA(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function Lf(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];mA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function pA(t){return t===3||t===4||t===6}function mA(t){return t.charCodeAt(0)===64}function ks(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?nw(t,n,r,null,e[++i]):nw(t,n,r,null,null))}}return t}function nw(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var zw="ng-template";function gA(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&fA(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Tp(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Tp(t){return t.type===4&&t.value!==zw}function _A(t,e,n){let i=t.type===4&&!n?zw:t.value;return e===i}function vA(t,e,n){let i=4,r=t.attrs,o=r!==null?IA(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!fn(i)&&!fn(c))return!1;if(s&&fn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!_A(t,c,n)||c===""&&e.length===1){if(fn(i))return!1;s=!0}}else if(i&8){if(r===null||!gA(t,r,c,n)){if(fn(i))return!1;s=!0}}else{let l=e[++a],u=yA(c,r,Tp(t),n);if(u===-1){if(fn(i))return!1;s=!0;continue}if(l!==""){let h;if(u>o?h="":h=r[u+1].toLowerCase(),i&2&&l!==h){if(fn(i))return!1;s=!0}}}}return fn(i)||s}function fn(t){return(t&1)===0}function yA(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return EA(e,t)}function wA(t,e,n=!1){for(let i=0;i<e.length;i++)if(vA(t,e[i],n))return!0;return!1}function IA(t){for(let e=0;e<t.length;e++){let n=t[e];if(pA(n))return e}return t.length}function EA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function iw(t,e){return t?":not("+e.trim()+")":e}function CA(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!fn(s)&&(e+=iw(o,r),r=""),i=s,o=o||!fn(i);n++}return r!==""&&(e+=iw(o,r)),e}function bA(t){return t.map(CA).join(",")}function TA(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!fn(r))break;r=o}i++}return{attrs:e,classes:n}}function To(t){return Gs(()=>{let e=Jw(t),n=te(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Hw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pn.Emulated,styles:t.styles||Kt,_:null,schemas:t.schemas||null,tView:null,id:""});Zw(n);let i=t.dependencies;return n.directiveDefs=ow(i,!1),n.pipeDefs=ow(i,!0),n.id=xA(n),n})}function DA(t){return Ei(t)||Ww(t)}function SA(t){return t!==null}function Nt(t){return Gs(()=>({type:t.type,bootstrap:t.bootstrap||Kt,declarations:t.declarations||Kt,imports:t.imports||Kt,exports:t.exports||Kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rw(t,e){if(t==null)return go;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=st.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==st.None?[i,a]:i,e[o]=s):n[o]=i}return n}function De(t){return Gs(()=>{let e=Jw(t);return Zw(e),e})}function Dp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ei(t){return t[Qx]||null}function Ww(t){return t[Yx]||null}function Kw(t){return t[Jx]||null}function Qw(t){let e=Ei(t)||Ww(t)||Kw(t);return e!==null?e.standalone:!1}function Yw(t,e){let n=t[Zx]||null;if(!n&&e===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function Jw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||go,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rw(t.inputs,e),outputs:rw(t.outputs),debugInfo:null}}function Zw(t){t.features?.forEach(e=>e(t))}function ow(t,e){if(!t)return null;let n=e?Kw:DA;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(SA)}function xA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Do(t){return{\u0275providers:t}}function Sp(...t){return{\u0275providers:Xw(!0,t),\u0275fromNgModule:!0}}function Xw(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return bp(e,s=>{let a=s;jf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&eI(r,o),n}function eI(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];xp(r,o=>{e(o,i)})}}function jf(t,e,n,i){if(t=It(t),!t)return!1;let r=null,o=Z0(t),s=!o&&Ei(t);if(!o&&!s){let c=t.ngModule;if(o=Z0(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)jf(l,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{bp(o.imports,u=>{jf(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&eI(l,e)}if(!a){let l=ar(r)||(()=>new r);e({provide:r,useFactory:l,deps:Kt},r),e({provide:Gw,useValue:r,multi:!0},r),e({provide:_o,useValue:()=>B(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=t;xp(c,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function xp(t,e){for(let n of t)Lw(n)&&(n=n.\u0275providers),Array.isArray(n)?xp(n,e):e(n)}var AA=Te({provide:String,useValue:Te});function tI(t){return t!==null&&typeof t=="object"&&AA in t}function MA(t){return!!(t&&t.useExisting)}function PA(t){return!!(t&&t.useFactory)}function vo(t){return typeof t=="function"}function RA(t){return!!t.useClass}var Fl=new U(""),al={},NA={},wf;function Ap(){return wf===void 0&&(wf=new ml),wf}var ft=class{},Fs=class extends ft{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bf(e,s=>this.processProvider(s)),this.records.set(qw,lo(void 0,this)),r.has("environment")&&this.records.set(ft,lo(void 0,this));let o=this.records.get(Fl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Gw,Kt,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=wi(this),i=Pt(void 0),r;try{return e()}finally{wi(n),Pt(i)}}get(e,n=Os,i=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ew))return e[ew](this);i=kl(i);let r,o=wi(this),s=Pt(void 0);try{if(!(i&ne.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=LA(e)&&Ol(e);l&&this.injectableDefInScope(l)?c=lo(Uf(e),al):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&ne.Self?Ap():this.parent;return n=i&ne.Optional&&n===Os?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[fl]=a[fl]||[]).unshift(Et(e)),o)throw a;return cA(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(s),wi(o)}}resolveInjectorInitializers(){let e=me(null),n=wi(this),i=Pt(void 0),r;try{let o=this.get(_o,Kt,ne.Self);for(let s of o)s()}finally{wi(n),Pt(i),me(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Et(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=It(e);let n=vo(e)?e:It(e&&e.provide),i=kA(e);if(!vo(e)&&e.multi===!0){let r=this.records.get(n);r||(r=lo(void 0,al,!0),r.factory=()=>Vf(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=me(null);try{return n.value===al&&(n.value=NA,n.value=n.factory()),typeof n.value=="object"&&n.value&&VA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{me(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=It(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Uf(t){let e=Ol(t),n=e!==null?e.factory:ar(t);if(n!==null)return n;if(t instanceof U)throw new $(204,!1);if(t instanceof Function)return OA(t);throw new $(204,!1)}function OA(t){if(t.length>0)throw new $(204,!1);let n=Wx(t);return n!==null?()=>n.factory(t):()=>new t}function kA(t){if(tI(t))return lo(void 0,t.useValue);{let e=nI(t);return lo(e,al)}}function nI(t,e,n){let i;if(vo(t)){let r=It(t);return ar(r)||Uf(r)}else if(tI(t))i=()=>It(t.useValue);else if(PA(t))i=()=>t.useFactory(...Vf(t.deps||[]));else if(MA(t))i=()=>B(It(t.useExisting));else{let r=It(t&&(t.useClass||t.provide));if(FA(t))i=()=>new r(...Vf(t.deps));else return ar(r)||Uf(r)}return i}function lo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function FA(t){return!!t.deps}function VA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LA(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function Bf(t,e){for(let n of t)Array.isArray(n)?Bf(n,e):n&&Lw(n)?Bf(n.\u0275providers,e):e(n)}function gn(t,e){t instanceof Fs&&t.assertNotDestroyed();let n,i=wi(t),r=Pt(void 0);try{return e()}finally{wi(i),Pt(r)}}function iI(){return jw()!==void 0||oA()!=null}function jA(t){if(!iI())throw new $(-203,!1)}function UA(t){return typeof t=="function"}var ti=0,ae=1,K=2,pt=3,pn=4,_n=5,gl=6,Vs=7,mn=8,yo=9,Rn=10,$e=11,Ls=12,sw=13,So=14,Nn=15,Vl=16,uo=17,wo=18,Ll=19,rI=20,Ii=21,If=22,cr=23,Yt=25,oI=1;var lr=7,_l=8,vl=9,Qt=10,Mp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Mp||{});function or(t){return Array.isArray(t)&&typeof t[oI]=="object"}function ni(t){return Array.isArray(t)&&t[oI]===!0}function Pp(t){return(t.flags&4)!==0}function jl(t){return t.componentOffset>-1}function Ul(t){return(t.flags&1)===1}function Ci(t){return!!t.template}function BA(t){return(t[K]&512)!==0}var $f=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function sI(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function ii(){return aI}function aI(t){return t.type.prototype.ngOnChanges&&(t.setInput=qA),$A}ii.ngInherit=!0;function $A(){let t=lI(this),e=t?.current;if(e){let n=t.previous;if(n===go)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function qA(t,e,n,i,r){let o=this.declaredInputs[i],s=lI(t)||GA(t,{previous:go,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new $f(l&&l.currentValue,n,c===go),sI(t,e,r,n)}var cI="__ngSimpleChanges__";function lI(t){return t[cI]||null}function GA(t,e){return t[cI]=e}var aw=null;var An=function(t,e,n){aw?.(t,e,n)},HA="svg",zA="math",WA=!1;function KA(){return WA}function On(t){for(;Array.isArray(t);)t=t[ti];return t}function uI(t,e){return On(e[t])}function Zt(t,e){return On(e[t.index])}function dI(t,e){return t.data[e]}function hI(t,e){return t[e]}function Si(t,e){let n=e[t];return or(n)?n:n[ti]}function Rp(t){return(t[K]&128)===128}function QA(t){return ni(t[pt])}function Io(t,e){return e==null?null:t[e]}function fI(t){t[uo]=0}function YA(t){t[K]&1024||(t[K]|=1024,Rp(t)&&js(t))}function JA(t,e){for(;t>0;)e=e[So],t--;return e}function Np(t){return!!(t[K]&9216||t[cr]?.dirty)}function qf(t){t[Rn].changeDetectionScheduler?.notify(1),Np(t)?js(t):t[K]&64&&(KA()?(t[K]|=1024,js(t)):t[Rn].changeDetectionScheduler?.notify())}function js(t){t[Rn].changeDetectionScheduler?.notify();let e=Us(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Rp(e)));)e=Us(e)}function pI(t,e){if((t[K]&256)===256)throw new $(911,!1);t[Ii]===null&&(t[Ii]=[]),t[Ii].push(e)}function ZA(t,e){if(t[Ii]===null)return;let n=t[Ii].indexOf(e);n!==-1&&t[Ii].splice(n,1)}function Us(t){let e=t[pt];return ni(e)?e[pt]:e}var ie={lFrame:EI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function XA(){return ie.lFrame.elementDepthCount}function eM(){ie.lFrame.elementDepthCount++}function tM(){ie.lFrame.elementDepthCount--}function mI(){return ie.bindingsEnabled}function nM(){return ie.skipHydrationRootTNode!==null}function iM(t){return ie.skipHydrationRootTNode===t}function rM(){ie.skipHydrationRootTNode=null}function fe(){return ie.lFrame.lView}function at(){return ie.lFrame.tView}function w(t){return ie.lFrame.contextLView=t,t[mn]}function I(t){return ie.lFrame.contextLView=null,t}function Ot(){let t=gI();for(;t!==null&&t.type===64;)t=t.parent;return t}function gI(){return ie.lFrame.currentTNode}function oM(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function pr(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function Op(){return ie.lFrame.isParent}function _I(){ie.lFrame.isParent=!1}function zs(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function sM(){return ie.lFrame.bindingIndex}function aM(t){return ie.lFrame.bindingIndex=t}function Bl(){return ie.lFrame.bindingIndex++}function vI(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cM(){return ie.lFrame.inI18n}function lM(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,Gf(e)}function uM(){return ie.lFrame.currentDirectiveIndex}function Gf(t){ie.lFrame.currentDirectiveIndex=t}function dM(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function yI(t){ie.lFrame.currentQueryIndex=t}function hM(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[_n]:null}function wI(t,e,n){if(n&ne.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&ne.Host);)if(r=hM(o),r===null||(o=o[So],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=ie.lFrame=II();return i.currentTNode=e,i.lView=t,!0}function kp(t){let e=II(),n=t[ae];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function II(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?EI(t):e}function EI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function CI(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var bI=CI;function Fp(){let t=CI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fM(t){return(ie.lFrame.contextLView=JA(t,ie.lFrame.contextLView))[mn]}function mr(){return ie.lFrame.selectedIndex}function ur(t){ie.lFrame.selectedIndex=t}function $l(){let t=ie.lFrame;return dI(t.tView,t.selectedIndex)}function pM(){return ie.lFrame.currentNamespace}var TI=!0;function ql(){return TI}function Gl(t){TI=t}function mM(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=aI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Hl(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function cl(t,e,n){DI(t,e,3,n)}function ll(t,e,n,i){(t[K]&3)===n&&DI(t,e,n,i)}function Ef(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function DI(t,e,n,i){let r=i!==void 0?t[uo]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[uo]+=65536),(a<o||o==-1)&&(gM(t,n,e,c),t[uo]=(t[uo]&4294901760)+c+2),c++}function cw(t,e){An(4,t,e);let n=me(null);try{e.call(t)}finally{me(n),An(5,t,e)}}function gM(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[K]>>14<t[uo]>>16&&(t[K]&3)===e&&(t[K]+=16384,cw(a,o)):cw(a,o)}var mo=-1,dr=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function _M(t){return t instanceof dr}function vM(t){return(t.flags&8)!==0}function yM(t){return(t.flags&16)!==0}function SI(t){return t!==mo}function yl(t){return t&32767}function wM(t){return t>>16}function wl(t,e){let n=wM(t),i=e;for(;n>0;)i=i[So],n--;return i}var Hf=!0;function Il(t){let e=Hf;return Hf=t,e}var IM=256,xI=IM-1,AI=5,EM=0,Mn={};function CM(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Rs)&&(i=n[Rs]),i==null&&(i=n[Rs]=EM++);let r=i&xI,o=1<<r;e.data[t+(r>>AI)]|=o}function El(t,e){let n=MI(t,e);if(n!==-1)return n;let i=e[ae];i.firstCreatePass&&(t.injectorIndex=e.length,Cf(i.data,t),Cf(e,null),Cf(i.blueprint,null));let r=Vp(t,e),o=t.injectorIndex;if(SI(r)){let s=yl(r),a=wl(r,e),c=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Cf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function MI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Vp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=kI(r),i===null)return mo;if(n++,r=r[So],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return mo}function zf(t,e,n){CM(t,e,n)}function PI(t,e,n){if(n&ne.Optional||t!==void 0)return t;Ep(e,"NodeInjector")}function RI(t,e,n,i){if(n&ne.Optional&&i===void 0&&(i=null),!(n&(ne.Self|ne.Host))){let r=t[yo],o=Pt(void 0);try{return r?r.get(e,i,n&ne.Optional):Uw(e,i,n&ne.Optional)}finally{Pt(o)}}return PI(i,e,n)}function NI(t,e,n,i=ne.Default,r){if(t!==null){if(e[K]&2048&&!(i&ne.Self)){let s=xM(t,e,n,i,Mn);if(s!==Mn)return s}let o=OI(t,e,n,i,Mn);if(o!==Mn)return o}return RI(e,n,i,r)}function OI(t,e,n,i,r){let o=DM(n);if(typeof o=="function"){if(!wI(e,t,i))return i&ne.Host?PI(r,n,i):RI(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&ne.Optional))Ep(n);else return s}finally{bI()}}else if(typeof o=="number"){let s=null,a=MI(t,e),c=mo,l=i&ne.Host?e[Nn][_n]:null;for((a===-1||i&ne.SkipSelf)&&(c=a===-1?Vp(t,e):e[a+8],c===mo||!uw(i,!1)?a=-1:(s=e[ae],a=yl(c),e=wl(c,e)));a!==-1;){let u=e[ae];if(lw(o,a,u.data)){let h=bM(a,e,n,s,i,l);if(h!==Mn)return h}c=e[a+8],c!==mo&&uw(i,e[ae].data[a+8]===l)&&lw(o,a,e)?(s=u,a=yl(c),e=wl(c,e)):a=-1}}return r}function bM(t,e,n,i,r,o){let s=e[ae],a=s.data[t+8],c=i==null?jl(a)&&Hf:i!=s&&(a.type&3)!==0,l=r&ne.Host&&o===a,u=TM(a,s,n,c,l);return u!==null?Eo(e,s,u,a):Mn}function TM(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,h=i?a:a+u,v=r?a+u:l;for(let y=h;y<v;y++){let D=s[y];if(y<c&&n===D||y>=c&&D.type===n)return y}if(r){let y=s[c];if(y&&Ci(y)&&y.type===n)return c}return null}function Eo(t,e,n,i){let r=t[n],o=e.data;if(_M(r)){let s=r;s.resolving&&eA(Xx(o[n]));let a=Il(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Pt(s.injectImpl):null,u=wI(t,i,ne.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&mM(n,o[n],e)}finally{l!==null&&Pt(l),Il(a),s.resolving=!1,bI()}}return r}function DM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Rs)?t[Rs]:void 0;return typeof e=="number"?e>=0?e&xI:SM:e}function lw(t,e,n){let i=1<<t;return!!(n[e+(t>>AI)]&i)}function uw(t,e){return!(t&ne.Self)&&!(t&ne.Host&&e)}var sr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return NI(this._tNode,this._lView,e,kl(i),n)}};function SM(){return new sr(Ot(),fe())}function Xt(t){return Gs(()=>{let e=t.prototype.constructor,n=e[hl]||Wf(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[hl]||Wf(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Wf(t){return Ow(t)?()=>{let e=Wf(It(t));return e&&e()}:ar(t)}function xM(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let a=OI(o,s,n,i|ne.Self,Mn);if(a!==Mn)return a;let c=o.parent;if(!c){let l=s[rI];if(l){let u=l.get(n,Mn,i);if(u!==Mn)return u}c=kI(s),s=s[So]}o=c}return r}function kI(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[_n]:null}function dw(t,e=null,n=null,i){let r=FI(t,e,n,i);return r.resolveInjectorInitializers(),r}function FI(t,e=null,n=null,i,r=new Set){let o=[n||Kt,Sp(t)];return i=i||(typeof t=="object"?void 0:Et(t)),new Fs(o,e||Ap(),i||null,r)}var kt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Os}static{this.NULL=new ml}static create(n,i){if(Array.isArray(n))return dw({name:""},i,n,"");{let r=n.name??"";return dw({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=j({token:t,providedIn:"any",factory:()=>B(qw)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var AM="ngOriginalError";function bf(t){return t[AM]}var kn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&bf(e);for(;n&&bf(n);)n=bf(n);return n||null}},VI=new U("",{providedIn:"root",factory:()=>P(kn).handleError.bind(void 0)}),Lp=(()=>{class t{static{this.__NG_ELEMENT_ID__=MM}static{this.__NG_ENV_ID__=n=>n}}return t})(),Kf=class extends Lp{constructor(e){super(),this._lView=e}onDestroy(e){return pI(this._lView,e),()=>ZA(this._lView,e)}};function MM(){return new Kf(fe())}function PM(){return zl(Ot(),fe())}function zl(t,e){return new vn(Zt(t,e))}var vn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=PM}}return t})();var Qf=class extends wt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,iI()&&(this.destroyRef=P(Lp,{optional:!0})??void 0)}emit(e){let n=me(null);try{super.next(e)}finally{me(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Tf(o),r&&(r=Tf(r)),s&&(s=Tf(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Be&&e.add(a),a}};function Tf(t){return e=>{setTimeout(t,void 0,e)}}var ot=Qf;function LI(t){return(t.flags&128)===128}var jI=new Map,RM=0;function NM(){return RM++}function OM(t){jI.set(t[Ll],t)}function kM(t){jI.delete(t[Ll])}var hw="__ngContext__";function bi(t,e){or(e)?(t[hw]=e[Ll],OM(e)):t[hw]=e}function UI(t){return $I(t[Ls])}function BI(t){return $I(t[pn])}function $I(t){for(;t!==null&&!ni(t);)t=t[pn];return t}var Yf;function qI(t){Yf=t}function FM(){if(Yf!==void 0)return Yf;if(typeof document<"u")return document;throw new $(210,!1)}var jp=new U("",{providedIn:"root",factory:()=>VM}),VM="ng",Up=new U(""),en=new U("",{providedIn:"platform",factory:()=>"unknown"});var Bp=new U("",{providedIn:"root",factory:()=>FM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var LM="h",jM="b";var UM=()=>null;function $p(t,e,n=!1){return UM(t,e,n)}var GI=!1,BM=new U("",{providedIn:"root",factory:()=>GI});var Jf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qx})`}};function qp(t){return t instanceof Jf?t.changingThisBreaksApplicationSecurity:t}var $M=/^>|^->|<!--|-->|--!>|<!-$/g,qM=/(<|>)/g,GM="\u200B$1\u200B";function HM(t){return t.replace($M,e=>e.replace(qM,GM))}function HI(t){return t instanceof Function?t():t}function zM(t){return(t??P(kt)).get(en)==="browser"}var Xn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xn||{}),WM;function Gp(t,e){return WM(t,e)}function ho(t,e,n,i,r){if(i!=null){let o,s=!1;ni(i)?o=i:or(i)&&(s=!0,i=i[ti]);let a=On(i);t===0&&n!==null?r==null?YI(e,n,a):Cl(e,n,a,r||null,!0):t===1&&n!==null?Cl(e,n,a,r||null,!0):t===2?dP(e,a,s):t===3&&e.destroyNode(a),o!=null&&fP(e,t,o,n,r)}}function KM(t,e){return t.createText(e)}function QM(t,e,n){t.setValue(e,n)}function YM(t,e){return t.createComment(HM(e))}function zI(t,e,n){return t.createElement(e,n)}function JM(t,e){WI(t,e),e[ti]=null,e[_n]=null}function ZM(t,e,n,i,r,o){i[ti]=r,i[_n]=e,Kl(t,i,n,1,r,o)}function WI(t,e){e[Rn].changeDetectionScheduler?.notify(1),Kl(t,e,e[$e],2,null,null)}function XM(t){let e=t[Ls];if(!e)return Df(t[ae],t);for(;e;){let n=null;if(or(e))n=e[Ls];else{let i=e[Qt];i&&(n=i)}if(!n){for(;e&&!e[pn]&&e!==t;)or(e)&&Df(e[ae],e),e=e[pt];e===null&&(e=t),or(e)&&Df(e[ae],e),n=e&&e[pn]}e=n}}function eP(t,e,n,i){let r=Qt+i,o=n.length;i>0&&(n[r-1][pn]=e),i<o-Qt?(e[pn]=n[r],$w(n,Qt+i,e)):(n.push(e),e[pn]=null),e[pt]=n;let s=e[Vl];s!==null&&n!==s&&tP(s,e);let a=e[wo];a!==null&&a.insertView(t),qf(e),e[K]|=128}function tP(t,e){let n=t[vl],r=e[pt][pt][Nn];e[Nn]!==r&&(t[K]|=Mp.HasTransplantedViews),n===null?t[vl]=[e]:n.push(e)}function KI(t,e){let n=t[vl],i=n.indexOf(e);n.splice(i,1)}function Zf(t,e){if(t.length<=Qt)return;let n=Qt+e,i=t[n];if(i){let r=i[Vl];r!==null&&r!==t&&KI(r,i),e>0&&(t[n-1][pn]=i[pn]);let o=pl(t,Qt+e);JM(i[ae],i);let s=o[wo];s!==null&&s.detachView(o[ae]),i[pt]=null,i[pn]=null,i[K]&=-129}return i}function QI(t,e){if(!(e[K]&256)){let n=e[$e];n.destroyNode&&Kl(t,e,n,3,null,null),XM(e)}}function Df(t,e){if(e[K]&256)return;let n=me(null);try{e[K]&=-129,e[K]|=256,e[cr]&&b0(e[cr]),iP(t,e),nP(t,e),e[ae].type===1&&e[$e].destroy();let i=e[Vl];if(i!==null&&ni(e[pt])){i!==e[pt]&&KI(i,e);let r=e[wo];r!==null&&r.detachView(t)}kM(e)}finally{me(n)}}function nP(t,e){let n=t.cleanup,i=e[Vs];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Vs]=null);let r=e[Ii];if(r!==null){e[Ii]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function iP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof dr)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];An(4,a,c);try{c.call(a)}finally{An(5,a,c)}}else{An(4,r,o);try{o.call(r)}finally{An(5,r,o)}}}}}function rP(t,e,n){return oP(t,e.parent,n)}function oP(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[ti];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Pn.None||o===Pn.Emulated)return null}return Zt(i,n)}}function Cl(t,e,n,i,r){t.insertBefore(e,n,i,r)}function YI(t,e,n){t.appendChild(e,n)}function fw(t,e,n,i,r){i!==null?Cl(t,e,n,i,r):YI(t,e,n)}function sP(t,e,n,i){t.removeChild(e,n,i)}function Hp(t,e){return t.parentNode(e)}function aP(t,e){return t.nextSibling(e)}function cP(t,e,n){return uP(t,e,n)}function lP(t,e,n){return t.type&40?Zt(t,n):null}var uP=lP,pw;function Wl(t,e,n,i){let r=rP(t,i,e),o=e[$e],s=i.parent||e[_n],a=cP(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)fw(o,r,n[c],a,!1);else fw(o,r,n,a,!1);pw!==void 0&&pw(o,i,e,n,r)}function ul(t,e){if(e!==null){let n=e.type;if(n&3)return Zt(e,t);if(n&4)return Xf(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return ul(t,i);{let r=t[e.index];return ni(r)?Xf(-1,r):On(r)}}else{if(n&32)return Gp(e,t)()||On(t[e.index]);{let i=JI(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Us(t[Nn]);return ul(r,i)}else return ul(t,e.next)}}}return null}function JI(t,e){if(e!==null){let i=t[Nn][_n],r=e.projection;return i.projection[r]}return null}function Xf(t,e){let n=Qt+t+1;if(n<e.length){let i=e[n],r=i[ae].firstChild;if(r!==null)return ul(i,r)}return e[lr]}function dP(t,e,n){let i=Hp(t,e);i&&sP(t,i,e,n)}function zp(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],c=n.type;if(s&&e===0&&(a&&bi(On(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)zp(t,e,n.child,i,r,o,!1),ho(e,t,r,a,o);else if(c&32){let l=Gp(n,i),u;for(;u=l();)ho(e,t,r,u,o);ho(e,t,r,a,o)}else c&16?hP(t,e,i,n,r,o):ho(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Kl(t,e,n,i,r,o){zp(n,i,t.firstChild,e,r,o,!1)}function hP(t,e,n,i,r,o){let s=n[Nn],c=s[_n].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];ho(e,t,r,u,o)}else{let l=c,u=s[pt];LI(i)&&(l.flags|=128),zp(t,e,l,u,r,o,!0)}}function fP(t,e,n,i,r){let o=n[lr],s=On(n);o!==s&&ho(e,t,i,o,r);for(let a=Qt;a<n.length;a++){let c=n[a];Kl(c[ae],c,t,e,i,o)}}function pP(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Xn.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Xn.Important),t.setStyle(n,i,r,o))}}function mP(t,e,n){t.setAttribute(e,"style",n)}function ZI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function XI(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Lf(t,e,i),r!==null&&ZI(t,e,r),o!==null&&mP(t,e,o)}var yn={};function d(t=1){eE(at(),fe(),mr()+t,!1)}function eE(t,e,n,i){if(!i)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&cl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ll(e,o,0,n)}ur(n)}function q(t,e=ne.Default){let n=fe();if(n===null)return B(t,e);let i=Ot();return NI(i,n,It(t),e)}function tE(){let t="invalid";throw new Error(t)}function nE(t,e,n,i,r,o){let s=me(null);try{let a=null;r&st.SignalBased&&(a=e[i][Kh]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&st.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):sI(e,a,i,o)}finally{me(s)}}function gP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)ur(~r);else{let o=r,s=n[++i],a=n[++i];lM(s,o);let c=e[o];a(2,c)}}}finally{ur(-1)}}function Ql(t,e,n,i,r,o,s,a,c,l,u){let h=e.blueprint.slice();return h[ti]=r,h[K]=i|4|128|8|64,(l!==null||t&&t[K]&2048)&&(h[K]|=2048),fI(h),h[pt]=h[So]=t,h[mn]=n,h[Rn]=s||t&&t[Rn],h[$e]=a||t&&t[$e],h[yo]=c||t&&t[yo]||null,h[_n]=o,h[Ll]=NM(),h[gl]=u,h[rI]=l,h[Nn]=e.type==2?t[Nn]:h,h}function Ws(t,e,n,i,r){let o=t.data[e];if(o===null)o=_P(t,e,n,i,r),cM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=oM();o.injectorIndex=s===null?-1:s.injectorIndex}return pr(o,!0),o}function _P(t,e,n,i,r){let o=gI(),s=Op(),a=s?o:o&&o.parent,c=t.data[e]=EP(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function iE(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function rE(t,e,n,i,r){let o=mr(),s=i&2;try{ur(-1),s&&e.length>Yt&&eE(t,e,Yt,!1),An(s?2:0,r),n(i,r)}finally{ur(o),An(s?3:1,r)}}function Wp(t,e,n){if(Pp(e)){let i=me(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{me(i)}}}function Kp(t,e,n){mI()&&(xP(t,e,n,Zt(n,e)),(n.flags&64)===64&&aE(t,e,n))}function Qp(t,e,n=Zt){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function oE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Yp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Yp(t,e,n,i,r,o,s,a,c,l,u){let h=Yt+i,v=h+r,y=vP(h,v),D=typeof l=="function"?l():l;return y[ae]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:u}}function vP(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:yn);return n}function yP(t,e,n,i){let o=i.get(BM,GI)||n===Pn.ShadowDom,s=t.selectRootElement(e,o);return wP(s),s}function wP(t){IP(t)}var IP=()=>null;function EP(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return nM()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function mw(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=st.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}t===0?gw(i,n,l,a,c):gw(i,n,l,a)}return i}function gw(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function CP(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let h=o[u],v=n?n.get(h):null,y=v?v.inputs:null,D=v?v.outputs:null;c=mw(0,h.inputs,u,c,y),l=mw(1,h.outputs,u,l,D);let S=c!==null&&s!==null&&!Tp(e)?jP(c,u,s):null;a.push(S)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function bP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Jp(t,e,n,i,r,o,s,a){let c=Zt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(Xp(t,n,u,i,r),jl(e)&&TP(n,e.index)):e.type&3?(i=bP(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function TP(t,e){let n=Si(e,t);n[K]&16||(n[K]|=64)}function Zp(t,e,n,i){if(mI()){let r=i===null?null:{"":-1},o=MP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&sE(t,e,n,s,r,a),r&&PP(n,i,r)}n.mergedAttrs=ks(n.mergedAttrs,n.attrs)}function sE(t,e,n,i,r,o){for(let l=0;l<i.length;l++)zf(El(n,e),t,i[l].type);NP(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=iE(t,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=ks(n.mergedAttrs,u.hostAttrs),OP(t,n,e,c,u),RP(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let h=u.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}CP(t,n,o)}function DP(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;SP(s)!=a&&s.push(a),s.push(n,i,o)}}function SP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function xP(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;jl(n)&&kP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||El(n,e),bi(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],l=Eo(e,t,a,n);if(bi(l,e),s!==null&&LP(e,a-r,l,c,n,s),Ci(c)){let u=Si(n.index,e);u[mn]=Eo(e,t,a,n)}}}function aE(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=uM();try{ur(o);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];Gf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&AP(c,l)}}finally{ur(-1),Gf(s)}}function AP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function MP(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(wA(e,s.selectors,!1))if(i||(i=[]),Ci(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;ep(t,e,c)}else i.unshift(s),ep(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function ep(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function PP(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new $(-301,!1);i.push(e[r],o)}}}function RP(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ci(e)&&(n[""]=t)}}function NP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function OP(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=ar(r.type,!0)),s=new dr(o,Ci(r),q);t.blueprint[i]=s,n[i]=s,DP(t,e,i,iE(t,n,r.hostVars,yn),r)}function kP(t,e,n){let i=Zt(e,t),r=oE(n),o=t[Rn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Yl(t,Ql(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function FP(t,e,n,i,r,o){let s=Zt(t,e);VP(e[$e],s,o,t.value,n,i,r)}function VP(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Ns(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function LP(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],h=s[a++];nE(i,n,c,l,u,h)}}function jP(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function cE(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function lE(t,e){let n=t.contentQueries;if(n!==null){let i=me(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];yI(o),a.contentQueries(2,e[s],s)}}}finally{me(i)}}}function Yl(t,e){return t[Ls]?t[sw][pn]=e:t[Ls]=e,t[sw]=e,e}function tp(t,e,n){yI(0);let i=me(null);try{e(t,n)}finally{me(i)}}function UP(t){return t[Vs]||(t[Vs]=[])}function BP(t){return t.cleanup||(t.cleanup=[])}function uE(t,e){let n=t[yo],i=n?n.get(kn,null):null;i&&i.handleError(e)}function Xp(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];nE(u,l,i,a,c,r)}}function dE(t,e,n){let i=uI(e,t);QM(t[$e],i,n)}function $P(t,e){let n=Si(e,t),i=n[ae];qP(i,n);let r=n[ti];r!==null&&n[gl]===null&&(n[gl]=$p(r,n[yo])),em(i,n,n[mn])}function qP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function em(t,e,n){kp(e);try{let i=t.viewQuery;i!==null&&tp(1,i,n);let r=t.template;r!==null&&rE(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wo]?.finishViewCreation(t),t.staticContentQueries&&lE(t,e),t.staticViewQueries&&tp(2,t.viewQuery,n);let o=t.components;o!==null&&GP(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[K]&=-5,Fp()}}function GP(t,e){for(let n=0;n<e.length;n++)$P(t,e[n])}function HP(t,e,n,i){let r=me(null);try{let o=e.tView,a=t[K]&4096?4096:16,c=Ql(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=t[e.index];c[Vl]=l;let u=t[wo];return u!==null&&(c[wo]=u.createEmbeddedView(o)),em(o,c,n),c}finally{me(r)}}function _w(t,e){return!e||e.firstChild===null||LI(t)}function zP(t,e,n,i=!0){let r=e[ae];if(eP(r,e,t,n),i){let s=Xf(n,t),a=e[$e],c=Hp(a,t[lr]);c!==null&&ZM(r,t[_n],a,e,c,s)}let o=e[gl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bl(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(On(o)),ni(o)&&WP(o,i);let s=n.type;if(s&8)bl(t,e,n.child,i);else if(s&32){let a=Gp(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=JI(e,n);if(Array.isArray(a))i.push(...a);else{let c=Us(e[Nn]);bl(c[ae],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function WP(t,e){for(let n=Qt;n<t.length;n++){let i=t[n],r=i[ae].firstChild;r!==null&&bl(i[ae],i,r,e)}t[lr]!==t[ti]&&e.push(t[lr])}var hE=[];function KP(t){return t[cr]??QP(t)}function QP(t){let e=hE.pop()??Object.create(JP);return e.lView=t,e}function YP(t){t.lView[cr]!==t&&(t.lView=null,hE.push(t))}var JP=te(R({},I0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{js(t.lView)},consumerOnSignalRead(){this.lView[cr]=this}}),fE=100;function pE(t,e=!0,n=0){let i=t[Rn],r=i.rendererFactory,o=!1;o||r.begin?.();try{ZP(t,n)}catch(s){throw e&&uE(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function ZP(t,e){np(t,e);let n=0;for(;Np(t);){if(n===fE)throw new $(103,!1);n++,np(t,1)}}function XP(t,e,n,i){let r=e[K];if((r&256)===256)return;let o=!1;!o&&e[Rn].inlineEffectRunner?.flush(),kp(e);let s=null,a=null;!o&&eR(t)&&(a=KP(e),s=E0(a));try{fI(e),aM(t.bindingStartIndex),n!==null&&rE(t,e,n,2,i);let c=(r&3)===3;if(!o)if(c){let h=t.preOrderCheckHooks;h!==null&&cl(e,h,null)}else{let h=t.preOrderHooks;h!==null&&ll(e,h,0,null),Ef(e,0)}if(tR(e),mE(e,0),t.contentQueries!==null&&lE(t,e),!o)if(c){let h=t.contentCheckHooks;h!==null&&cl(e,h)}else{let h=t.contentHooks;h!==null&&ll(e,h,1),Ef(e,1)}gP(t,e);let l=t.components;l!==null&&_E(e,l,0);let u=t.viewQuery;if(u!==null&&tp(2,u,i),!o)if(c){let h=t.viewCheckHooks;h!==null&&cl(e,h)}else{let h=t.viewHooks;h!==null&&ll(e,h,2),Ef(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[If]){for(let h of e[If])h();e[If]=null}o||(e[K]&=-73)}catch(c){throw js(e),c}finally{a!==null&&(C0(a,s),YP(a)),Fp()}}function eR(t){return t.type!==2}function mE(t,e){for(let n=UI(t);n!==null;n=BI(n))for(let i=Qt;i<n.length;i++){let r=n[i];gE(r,e)}}function tR(t){for(let e=UI(t);e!==null;e=BI(e)){if(!(e[K]&Mp.HasTransplantedViews))continue;let n=e[vl];for(let i=0;i<n.length;i++){let r=n[i],o=r[pt];YA(r)}}}function nR(t,e,n){let i=Si(e,t);gE(i,n)}function gE(t,e){Rp(t)&&np(t,e)}function np(t,e){let i=t[ae],r=t[K],o=t[cr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Qh(o)),o&&(o.dirty=!1),t[K]&=-9217,s)XP(i,t,i.template,t[mn]);else if(r&8192){mE(t,1);let a=i.components;a!==null&&_E(t,a,1)}}function _E(t,e,n){for(let i=0;i<e.length;i++)nR(t,e[i],n)}function tm(t){for(t[Rn].changeDetectionScheduler?.notify();t;){t[K]|=64;let e=Us(t);if(BA(t)&&!e)return t;t=e}return null}var hr=class{get rootNodes(){let e=this._lView,n=e[ae];return bl(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mn]}set context(e){this._lView[mn]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pt];if(ni(e)){let n=e[_l],i=n?n.indexOf(this):-1;i>-1&&(Zf(e,i),pl(n,i))}this._attachedToViewContainer=!1}QI(this._lView[ae],this._lView)}onDestroy(e){pI(this._lView,e)}markForCheck(){tm(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){qf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,pE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,WI(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e,qf(this._lView)}},Jl=(()=>{class t{static{this.__NG_ELEMENT_ID__=oR}}return t})(),iR=Jl,rR=class extends iR{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=HP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new hr(r)}};function oR(){return sR(Ot(),fe())}function sR(t,e){return t.type&4?new rR(e,t,zl(t,e)):null}var Yz=new RegExp(`^(\\d+)*(${jM}|${LM})*(.*)`);var aR=()=>null;function vw(t,e){return aR(t,e)}var Tl=class{},ip=class{},Dl=class{};function cR(t){let e=Error(`No component factory found for ${Et(t)}.`);return e[lR]=t,e}var lR="ngComponent";var rp=class{resolveComponentFactory(e){throw cR(e)}},Zl=(()=>{class t{static{this.NULL=new rp}}return t})(),Bs=class{},Fn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>uR()}}return t})();function uR(){let t=fe(),e=Ot(),n=Si(e.index,t);return(or(n)?n:t)[$e]}var dR=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}}return t})(),Sf={};var yw=new Set;function Xl(t){yw.has(t)||(yw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ww(...t){}function hR(){let t=typeof Zn.requestAnimationFrame=="function",e=Zn[t?"requestAnimationFrame":"setTimeout"],n=Zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ot(!1),this.onMicrotaskEmpty=new ot(!1),this.onStable=new ot(!1),this.onError=new ot(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=hR().nativeRequestAnimationFrame,mR(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,fR,ww,ww);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},fR={};function nm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,op(t),t.isCheckStableRunning=!0,nm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),op(t))}function mR(t){let e=()=>{pR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(gR(a))return n.invokeTask(r,o,s,a);try{return Iw(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Ew(t)}},onInvoke:(n,i,r,o,s,a,c)=>{try{return Iw(t),n.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ew(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,op(t),nm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function op(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Iw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ew(t){t._nesting--,nm(t)}function gR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var fo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(fo||{}),_R={destroy(){}};function eu(t,e){!e&&jA(eu);let n=e?.injector??P(kt);if(!zM(n))return _R;Xl("NgAfterNextRender");let i=n.get(im),r=i.handler??=new ap,o=e?.phase??fo.MixedReadWrite,s=()=>{r.unregister(c),a()},a=n.get(Lp).onDestroy(s),c=gn(n,()=>new sp(o,()=>{s(),t()}));return r.register(c),{destroy:s}}var sp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=P(we),this.errorHandler=P(kn,{optional:!0}),P(Tl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ap=class{constructor(){this.executingCallbacks=!1,this.buckets={[fo.EarlyRead]:new Set,[fo.Write]:new Set,[fo.MixedReadWrite]:new Set,[fo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},im=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Sl(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Y0(r,a);else if(o==2){let c=a,l=e[++s];i=Y0(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var xl=class extends Zl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ei(e);return new Co(n,this.ngModule)}};function Cw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function vR(t){let e=t.toLowerCase();return e==="svg"?HA:e==="math"?zA:null}var cp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=kl(i);let r=this.injector.get(e,Sf,i);return r!==Sf||n===Sf?r:this.parentInjector.get(e,n,i)}},Co=class extends Dl{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=Cw(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Cw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=bA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=me(null);try{r=r||this.ngModule;let s=r instanceof ft?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new cp(e,s):e,c=a.get(Bs,null);if(c===null)throw new $(407,!1);let l=a.get(dR,null),u=a.get(im,null),h=a.get(Tl,null),v={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:h},y=c.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",S=i?yP(y,i,this.componentDef.encapsulation,a):zI(y,D,vR(D)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let F=null;S!==null&&(F=$p(S,a,!0));let ue=Yp(0,null,null,1,0,null,null,null,null,null,null),H=Ql(null,ue,null,A,null,null,v,y,a,null,F);kp(H);let ye,Je;try{let pe=this.componentDef,ht,Sn=null;pe.findHostDirectiveDefs?(ht=[],Sn=new Map,pe.findHostDirectiveDefs(pe,ht,Sn),ht.push(pe)):ht=[pe];let Zi=yR(H,S),Kr=wR(Zi,S,pe,ht,H,v,y);Je=dI(ue,Yt),S&&CR(y,pe,S,i),n!==void 0&&bR(Je,this.ngContentSelectors,n),ye=ER(Kr,pe,ht,Sn,H,[TR]),em(ue,H,null)}finally{Fp()}return new lp(this.componentType,ye,zl(Je,H),H,Je)}finally{me(o)}}},lp=class extends ip{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new hr(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Xp(o[ae],o,r,e,n),this.previousInputValues.set(e,n);let s=Si(this._tNode.index,o);tm(s)}}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yR(t,e){let n=t[ae],i=Yt;return t[i]=e,Ws(n,i,2,"#host",null)}function wR(t,e,n,i,r,o,s){let a=r[ae];IR(i,t,e,s);let c=null;e!==null&&(c=$p(e,r[yo]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let h=Ql(r,oE(n),null,u,r[t.index],t,o,l,null,null,c);return a.firstCreatePass&&ep(a,t,i.length-1),Yl(r,h),r[t.index]=h}function IR(t,e,n,i){for(let r of t)e.mergedAttrs=ks(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Sl(e,e.mergedAttrs,!0),n!==null&&XI(i,n,e))}function ER(t,e,n,i,r,o){let s=Ot(),a=r[ae],c=Zt(s,r);sE(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let h=s.directiveStart+u,v=Eo(r,a,h,s);bi(v,r)}aE(a,r,s),c&&bi(c,r);let l=Eo(r,a,s.directiveStart+s.componentOffset,s);if(t[mn]=r[mn]=l,o!==null)for(let u of o)u(l,e);return Wp(a,s,r),l}function CR(t,e,n,i){if(i)Lf(t,n,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=TA(e.selectors[0]);r&&Lf(t,n,r),o&&o.length>0&&ZI(t,n,o.join(" "))}}function bR(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function TR(){let t=Ot();Hl(fe()[ae],t)}var xo=(()=>{class t{static{this.__NG_ELEMENT_ID__=DR}}return t})();function DR(){let t=Ot();return xR(t,fe())}var SR=xo,vE=class extends SR{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return zl(this._hostTNode,this._hostLView)}get injector(){return new sr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Vp(this._hostTNode,this._hostLView);if(SI(e)){let n=wl(e,this._hostLView),i=yl(e),r=n[ae].data[i+8];return new sr(r,n)}else return new sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=bw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=vw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,_w(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!UA(e),a;if(s)a=n;else{let D=n||{};a=D.index,i=D.injector,r=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let c=s?e:new Co(Ei(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let S=(s?l:this.parentInjector).get(ft,null);S&&(o=S)}let u=Ei(c.componentType??{}),h=vw(this._lContainer,u?.id??null),v=h?.firstChild??null,y=c.create(l,r,v,o);return this.insertImpl(y.hostView,a,_w(this._hostTNode,h)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(QA(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[pt],l=new vE(c,c[_n],c[pt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return zP(s,r,o,i),e.attachToViewContainerRef(),$w(xf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=bw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Zf(this._lContainer,n);i&&(pl(xf(this._lContainer),n),QI(i[ae],i))}detach(e){let n=this._adjustIndex(e,-1),i=Zf(this._lContainer,n);return i&&pl(xf(this._lContainer),n)!=null?new hr(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function bw(t){return t[_l]}function xf(t){return t[_l]||(t[_l]=[])}function xR(t,e){let n,i=e[t.index];return ni(i)?n=i:(n=cE(i,e,null,t),e[t.index]=n,Yl(e,n)),MR(n,e,t,i),new vE(n,t,e)}function AR(t,e){let n=t[$e],i=n.createComment(""),r=Zt(e,t),o=Hp(n,r);return Cl(n,o,i,aP(n,r),!1),i}var MR=NR,PR=()=>!1;function RR(t,e,n){return PR(t,e,n)}function NR(t,e,n,i){if(t[lr])return;let r;n.type&8?r=On(i):r=AR(e,n),t[lr]=r}function OR(t){return typeof t=="function"&&t[Kh]!==void 0}function yE(t){return OR(t)&&typeof t.set=="function"}function kR(t){return Object.getPrototypeOf(t.prototype).constructor}function ct(t){let e=kR(t.type),n=!0,i=[t];for(;e;){let r;if(Ci(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=ol(t.inputs),s.inputTransforms=ol(t.inputTransforms),s.declaredInputs=ol(t.declaredInputs),s.outputs=ol(t.outputs);let a=r.hostBindings;a&&UR(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&LR(t,c),l&&jR(t,l),FR(t,r),Hx(t.outputs,r.outputs),Ci(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ct&&(n=!1)}}e=Object.getPrototypeOf(e)}VR(i)}function FR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function VR(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ks(r.hostAttrs,n=ks(n,r.hostAttrs))}}function ol(t){return t===go?{}:t===Kt?[]:t}function LR(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function jR(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function UR(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var Ti=class{},$s=class{};var up=class extends Ti{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xl(this);let r=Yw(e);this._bootstrapComponents=HI(r.bootstrap),this._r3Injector=FI(e,n,[{provide:Ti,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver},...i],Et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},dp=class extends $s{constructor(e){super(),this.moduleType=e}create(e){return new up(this.moduleType,e,[])}};var Al=class extends Ti{constructor(e){super(),this.componentFactoryResolver=new xl(this),this.instance=null;let n=new Fs([...e.providers,{provide:Ti,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver}],e.parent||Ap(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function tu(t,e,n=null){return new Al({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ao=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wE(t){return $R(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function BR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function $R(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function rm(t,e,n){return t[e]=n}function qR(t,e){return t[e]}function Di(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function IE(t,e,n,i){let r=Di(t,e,n);return Di(t,e+1,i)||r}function GR(t){return(t.flags&32)===32}function HR(t,e,n,i,r,o,s,a,c){let l=e.consts,u=Ws(e,t,4,s||null,Io(l,a));Zp(e,n,u,Io(l,c)),Hl(e,u);let h=u.tView=Yp(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function b(t,e,n,i,r,o,s,a){let c=fe(),l=at(),u=t+Yt,h=l.firstCreatePass?HR(u,l,c,e,n,i,r,o,s):l.data[u];pr(h,!1);let v=zR(l,c,h,t);ql()&&Wl(l,c,v,h),bi(v,c);let y=cE(v,c,v,h);return c[u]=y,Yl(c,y),RR(y,h,c),Ul(h)&&Kp(l,c,h),s!=null&&Qp(c,h,a),b}var zR=WR;function WR(t,e,n,i){return Gl(!0),e[$e].createComment("")}function xi(t,e,n,i){let r=fe(),o=Bl();if(Di(r,o,e)){let s=at(),a=$l();FP(a,r,t,e,n,i)}return xi}function EE(t,e,n,i){return Di(t,Bl(),n)?e+Ns(n)+i:yn}function KR(t,e,n,i,r,o){let s=sM(),a=IE(t,s,n,r);return vI(2),a?e+Ns(n)+i+Ns(r)+o:yn}function sl(t,e){return t<<17|e<<2}function fr(t){return t>>17&32767}function QR(t){return(t&2)==2}function YR(t,e){return t&131071|e<<17}function hp(t){return t|2}function bo(t){return(t&131068)>>2}function Af(t,e){return t&-131069|e<<2}function JR(t){return(t&1)===1}function fp(t){return t|1}function ZR(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=fr(s),c=bo(s);t[i]=n;let l=!1,u;if(Array.isArray(n)){let h=n;u=h[1],(u===null||Hs(h,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let v=fr(t[a+1]);t[i+1]=sl(v,a),v!==0&&(t[v+1]=Af(t[v+1],i)),t[a+1]=YR(t[a+1],i)}else t[i+1]=sl(a,0),a!==0&&(t[a+1]=Af(t[a+1],i)),a=i;else t[i+1]=sl(c,0),a===0?a=i:t[c+1]=Af(t[c+1],i),c=i;l&&(t[i+1]=hp(t[i+1])),Tw(t,u,i,!0),Tw(t,u,i,!1),XR(e,u,t,i,o),s=sl(a,c),o?e.classBindings=s:e.styleBindings=s}function XR(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Hs(o,e)>=0&&(n[i+1]=fp(n[i+1]))}function Tw(t,e,n,i){let r=t[n+1],o=e===null,s=i?fr(r):bo(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];eN(c,e)&&(a=!0,t[s+1]=i?fp(l):hp(l)),s=i?fr(l):bo(l)}a&&(t[n+1]=i?hp(r):fp(r))}function eN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Hs(t,e)>=0:!1}function g(t,e,n){let i=fe(),r=Bl();if(Di(i,r,e)){let o=at(),s=$l();Jp(o,s,i,t,e,i[$e],n,!1)}return g}function Dw(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";Xp(t,n,o[s],s,i)}function Ee(t,e){return tN(t,e,null,!0),Ee}function tN(t,e,n,i){let r=fe(),o=at(),s=vI(2);if(o.firstUpdatePass&&iN(o,t,s,i),e!==yn&&Di(r,s,e)){let a=o.data[mr()];cN(o,a,r,r[$e],t,r[s+1]=lN(e,n),i,s)}}function nN(t,e){return e>=t.expandoStartIndex}function iN(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[mr()],s=nN(t,n);uN(o,i)&&e===null&&!s&&(e=!1),e=rN(r,o,e,i),ZR(r,o,e,n,s,i)}}function rN(t,e,n,i){let r=dM(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Mf(null,t,e,n,i),n=qs(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Mf(r,t,e,n,i),o===null){let c=oN(t,e,i);c!==void 0&&Array.isArray(c)&&(c=Mf(null,t,e,c[1],i),c=qs(c,e.attrs,i),sN(t,e,i,c))}else o=aN(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function oN(t,e,n){let i=n?e.classBindings:e.styleBindings;if(bo(i)!==0)return t[fr(i)]}function sN(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[fr(r)]=i}function aN(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=qs(i,s,n)}return qs(i,e.attrs,n)}function Mf(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=qs(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function qs(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),dA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function cN(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=JR(l)?Sw(c,e,n,r,bo(l),s):void 0;if(!Ml(u)){Ml(o)||QR(l)&&(o=Sw(c,null,n,r,a,s));let h=uI(mr(),n);pP(i,s,h,r,o)}}function Sw(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),u=l?c[1]:c,h=u===null,v=n[r+1];v===yn&&(v=h?Kt:void 0);let y=h?yf(v,i):u===i?v:void 0;if(l&&!Ml(y)&&(y=yf(c,i)),Ml(y)&&(a=y,s))return a;let D=t[r+1];r=s?fr(D):bo(D)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=yf(c,i))}return a}function Ml(t){return t!==void 0}function lN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Et(qp(t)))),t}function uN(t,e){return(t.flags&(e?8:16))!==0}function dN(t,e,n,i,r,o){let s=e.consts,a=Io(s,r),c=Ws(e,t,2,i,a);return Zp(e,n,c,Io(s,o)),c.attrs!==null&&Sl(c,c.attrs,!1),c.mergedAttrs!==null&&Sl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,i){let r=fe(),o=at(),s=Yt+t,a=r[$e],c=o.firstCreatePass?dN(s,o,r,e,n,i):o.data[s],l=hN(o,r,c,a,e,t);r[s]=l;let u=Ul(c);return pr(c,!0),XI(a,l,c),!GR(c)&&ql()&&Wl(o,r,l,c),XA()===0&&bi(l,r),eM(),u&&(Kp(o,r,c),Wp(o,c,r)),i!==null&&Qp(r,c),f}function p(){let t=Ot();Op()?_I():(t=t.parent,pr(t,!1));let e=t;iM(e)&&rM(),tM();let n=at();return n.firstCreatePass&&(Hl(n,t),Pp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&vM(e)&&Dw(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yM(e)&&Dw(n,e,fe(),e.stylesWithoutHost,!1),p}function T(t,e,n,i){return f(t,e,n,i),p(),T}var hN=(t,e,n,i,r,o)=>(Gl(!0),zI(i,r,pM()));function fN(t,e,n,i,r){let o=e.consts,s=Io(o,i),a=Ws(e,t,8,"ng-container",s);s!==null&&Sl(a,s,!0);let c=Io(o,r);return Zp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Se(t,e,n){let i=fe(),r=at(),o=t+Yt,s=r.firstCreatePass?fN(o,r,i,e,n):r.data[o];pr(s,!0);let a=pN(r,i,s,t);return i[o]=a,ql()&&Wl(r,i,a,s),bi(a,i),Ul(s)&&(Kp(r,i,s),Wp(r,s,i)),n!=null&&Qp(i,s),Se}function xe(){let t=Ot(),e=at();return Op()?_I():(t=t.parent,pr(t,!1)),e.firstCreatePass&&(Hl(e,t),Pp(t)&&e.queries.elementEnd(t)),xe}var pN=(t,e,n,i)=>(Gl(!0),YM(e[$e],""));function k(){return fe()}var rr=void 0;function mN(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var gN=["en",[["a","p"],["AM","PM"],rr],[["AM","PM"],rr,rr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rr,"{1} 'at' {0}",rr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",mN],Pf={};function tn(t){let e=_N(t),n=xw(e);if(n)return n;let i=e.split("-")[0];if(n=xw(i),n)return n;if(i==="en")return gN;throw new $(701,!1)}function xw(t){return t in Pf||(Pf[t]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[t]),Pf[t]}var qe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qe||{});function _N(t){return t.toLowerCase().replace(/_/g,"-")}var Pl="en-US";var vN=Pl;function yN(t){typeof t=="string"&&(vN=t.toLowerCase().replace(/_/g,"-"))}function C(t,e,n,i){let r=fe(),o=at(),s=Ot();return CE(o,r,r[$e],s,t,e,i),C}function wN(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Vs],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function CE(t,e,n,i,r,o,s){let a=Ul(i),l=t.firstCreatePass&&BP(t),u=e[mn],h=UP(e),v=!0;if(i.type&3||s){let S=Zt(i,e),A=s?s(S):S,F=h.length,ue=s?ye=>s(On(ye[i.index])):i.index,H=null;if(!s&&a&&(H=wN(t,e,r,i.index)),H!==null){let ye=H.__ngLastListenerFn__||H;ye.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,v=!1}else{o=Mw(i,e,u,o,!1);let ye=n.listen(A,r,o);h.push(o,ye),l&&l.push(r,ue,F,F+1)}}else o=Mw(i,e,u,o,!1);let y=i.outputs,D;if(v&&y!==null&&(D=y[r])){let S=D.length;if(S)for(let A=0;A<S;A+=2){let F=D[A],ue=D[A+1],Je=e[F][ue].subscribe(o),pe=h.length;h.push(o,Je),l&&l.push(r,i.index,pe,-(pe+1))}}}function Aw(t,e,n,i){let r=me(null);try{return An(6,e,n),n(i)!==!1}catch(o){return uE(t,o),!1}finally{An(7,e,n),me(r)}}function Mw(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?Si(t.index,e):e;tm(a);let c=Aw(e,n,i,s),l=o.__ngNextListenerFn__;for(;l;)c=Aw(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function _(t=1){return fM(t)}function Mo(t,e,n){return bE(t,"",e,"",n),Mo}function bE(t,e,n,i,r){let o=fe(),s=EE(o,e,n,i);if(s!==yn){let a=at(),c=$l();Jp(a,c,o,t,s,o[$e],r,!1)}return bE}function IN(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function m(t,e=""){let n=fe(),i=at(),r=t+Yt,o=i.firstCreatePass?Ws(i,r,1,e,null):i.data[r],s=EN(i,n,o,e,t);n[r]=s,ql()&&Wl(i,n,s,o),pr(o,!1)}var EN=(t,e,n,i,r)=>(Gl(!0),KM(e[$e],i));function re(t){return O("",t,""),re}function O(t,e,n){let i=fe(),r=EE(i,t,e,n);return r!==yn&&dE(i,mr(),r),O}function nn(t,e,n,i,r){let o=fe(),s=KR(o,t,e,n,i,r);return s!==yn&&dE(o,mr(),s),nn}function Ne(t,e,n){yE(e)&&(e=e());let i=fe(),r=Bl();if(Di(i,r,e)){let o=at(),s=$l();Jp(o,s,i,t,e,i[$e],n,!1)}return Ne}function Fe(t,e){let n=yE(t);return n&&t.set(e),n}function Oe(t,e){let n=fe(),i=at(),r=Ot();return CE(i,n,n[$e],r,t,e),Oe}function CN(t,e,n){let i=at();if(i.firstCreatePass){let r=Ci(t);pp(n,i.data,i.blueprint,r,!0),pp(e,i.data,i.blueprint,r,!1)}}function pp(t,e,n,i,r){if(t=It(t),Array.isArray(t))for(let o=0;o<t.length;o++)pp(t[o],e,n,i,r);else{let o=at(),s=fe(),a=Ot(),c=vo(t)?t:It(t.provide),l=nI(t),u=a.providerIndexes&1048575,h=a.directiveStart,v=a.providerIndexes>>20;if(vo(t)||!t.multi){let y=new dr(l,r,q),D=Nf(c,e,r?u:u+v,h);D===-1?(zf(El(a,s),o,c),Rf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[D]=y,s[D]=y)}else{let y=Nf(c,e,u+v,h),D=Nf(c,e,u,u+v),S=y>=0&&n[y],A=D>=0&&n[D];if(r&&!A||!r&&!S){zf(El(a,s),o,c);let F=DN(r?TN:bN,n.length,r,i,l);!r&&A&&(n[D].providerFactory=F),Rf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=TE(n[r?D:y],l,!r&&i);Rf(o,t,y>-1?y:D,F)}!r&&i&&A&&n[D].componentProviders++}}}function Rf(t,e,n,i){let r=vo(e),o=RA(e);if(r||o){let c=(o?It(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function TE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Nf(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function bN(t,e,n,i){return mp(this.multi,[])}function TN(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Eo(n,n[ae],this.providerFactory.index,i);o=a.slice(0,s),mp(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],mp(r,o);return o}function mp(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function DN(t,e,n,i,r){let o=new dr(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,TE(o,r,i&&!n),o}function Ut(t,e=[]){return n=>{n.providersResolver=(i,r)=>CN(i,r?r(t):t,e)}}var SN=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Xw(!1,n.type),r=i.length>0?tu([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(B(ft))})}}return t})();function Po(t){Xl("NgStandalone"),t.getStandaloneInjector=e=>e.get(SN).getOrCreateStandaloneInjector(t)}function Ft(t,e,n){let i=zs()+t,r=fe();return r[i]===yn?rm(r,i,n?e.call(n):e()):qR(r,i)}function DE(t,e,n,i){return AE(fe(),zs(),t,e,n,i)}function SE(t,e,n,i,r){return ME(fe(),zs(),t,e,n,i,r)}function xE(t,e){let n=t[e];return n===yn?void 0:n}function AE(t,e,n,i,r,o){let s=e+n;return Di(t,s,r)?rm(t,s+1,o?i.call(o,r):i(r)):xE(t,s+1)}function ME(t,e,n,i,r,o,s){let a=e+n;return IE(t,a,r,o)?rm(t,a+2,s?i.call(s,r,o):i(r,o)):xE(t,a+2)}function Ro(t,e){let n=at(),i,r=t+Yt;n.firstCreatePass?(i=xN(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=ar(i.type,!0)),s,a=Pt(q);try{let c=Il(!1),l=o();return Il(c),IN(n,fe(),r,l),l}finally{Pt(a)}}function xN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function PE(t,e,n){let i=t+Yt,r=fe(),o=hI(r,i);return RE(r,i)?AE(r,zs(),e,o.transform,n,o):o.transform(n)}function Ks(t,e,n,i){let r=t+Yt,o=fe(),s=hI(o,r);return RE(o,r)?ME(o,zs(),e,s.transform,n,i,s):s.transform(n,i)}function RE(t,e){return t[ae].data[e].pure}var ei=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},NE=new ei("17.3.12"),nu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var OE=new U("");function gr(t){return!!t&&typeof t.then=="function"}function kE(t){return!!t&&typeof t.subscribe=="function"}var iu=new U(""),FE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=P(iu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(gr(o))n.push(o);else if(kE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qs=new U("");function AN(){T0(()=>{throw new $(600,!1)})}function MN(t){return t.isBoundToModule}function PN(t,e,n){try{let i=n();return gr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var No=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(VI),this.afterRenderEffectManager=P(im),this.externalTestViews=new Set,this.beforeRender=new wt,this.afterTick=new wt,this.componentTypes=[],this.components=[],this.isStable=P(Ao).hasPendingTasks.pipe(X(n=>!n)),this._injector=P(ft)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Dl;if(!this._injector.get(FE).done){let v=!r&&Qw(n),y=!1;throw new $(405,y)}let s;r?s=n:s=this._injector.get(Zl).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=MN(s)?void 0:this._injector.get(Ti),c=i||s.selector,l=s.create(kt.NULL,[],c,a),u=l.location.nativeElement,h=l.injector.get(OE,null);return h?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Of(this.components,l),h?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new $(101,!1);let i=me(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,me(i)}}detectChangesInAttachedViews(n){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===fE)throw new $(103,!1);if(n){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)RN(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>gp(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>gp(o))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Of(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(Qs,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Of(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Of(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RN(t,e,n){!e&&!gp(t)||NN(t,n,e)}function gp(t){return Np(t)}function NN(t,e,n){let i;n?(i=0,t[K]|=1024):t[K]&64?i=0:i=1,pE(t,e,i)}var _p=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ru=(()=>{class t{compileModuleSync(n){return new dp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=Yw(n),o=HI(r.declarations).reduce((s,a)=>{let c=Ei(a);return c&&s.push(new Co(c)),s},[]);return new _p(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ON=(()=>{class t{constructor(){this.zone=P(we),this.applicationRef=P(No)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function kN(t){return[{provide:we,useFactory:t},{provide:_o,multi:!0,useFactory:()=>{let e=P(ON,{optional:!0});return()=>e.initialize()}},{provide:_o,multi:!0,useFactory:()=>{let e=P(jN);return()=>{e.initialize()}}},{provide:VI,useFactory:FN}]}function FN(){let t=P(we),e=P(kn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function VN(t){let e=kN(()=>new we(LN(t)));return Do([[],e])}function LN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var jN=(()=>{class t{constructor(){this.subscription=new Be,this.initialized=!1,this.zone=P(we),this.pendingTasks=P(Ao)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function UN(){return typeof $localize<"u"&&$localize.locale||Pl}var ou=new U("",{providedIn:"root",factory:()=>P(ou,ne.Optional|ne.SkipSelf)||UN()});var VE=new U("");var dl=null;function BN(t=[],e){return kt.create({name:e,providers:[{provide:Fl,useValue:"platform"},{provide:VE,useValue:new Set([()=>dl=null])},...t]})}function $N(t=[]){if(dl)return dl;let e=BN(t);return dl=e,AN(),qN(e),e}function qN(t){t.get(Up,null)?.forEach(n=>n())}var _r=(()=>{class t{static{this.__NG_ELEMENT_ID__=GN}}return t})();function GN(t){return HN(Ot(),fe(),(t&16)===16)}function HN(t,e,n){if(jl(t)&&!n){let i=Si(t.index,e);return new hr(i,i)}else if(t.type&47){let i=e[Nn];return new hr(i,e)}return null}var vp=class{constructor(){}supports(e){return wE(e)}create(e){return new yp(e)}},zN=(t,e)=>e,yp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zN}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<Pw(i,r,o)?n:i,a=Pw(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let v=0;v<l;v++){let y=v<o.length?o[v]:o[v]=0,D=y+v;u<=D&&D<l&&(o[v]=y+1)}let h=s.previousIndex;o[h]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!wE(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,BR(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new wp(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Rl),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Rl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ip=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Rl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Ip,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Pw(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function Rw(){return new om([new vp])}var om=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:Rw})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||Rw()),deps:[[t,new Cp,new Jt]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new $(901,!1)}}return t})();function LE(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=$N(i),o=[VN(),...n||[]],a=new Al({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(we);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(kn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:y=>{l.handleError(y)}})});let h=()=>a.destroy(),v=r.get(VE);return v.add(h),a.onDestroy(()=>{u.unsubscribe(),v.delete(h)}),PN(l,c,()=>{let y=a.get(FE);return y.runInitializers(),y.donePromise.then(()=>{let D=a.get(ou,Pl);yN(D||Pl);let S=a.get(No);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function Ys(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function jE(t){let e=Ei(t);if(!e)return null;let n=new Co(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var zE=null;function ai(){return zE}function WE(t){zE??=t}var pu=class{};var mt=new U(""),pm=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(QN),providedIn:"platform"})}}return t})(),KE=new U(""),QN=(()=>{class t extends pm{constructor(){super(),this._doc=P(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ai().getBaseHref(this._doc)}onPopState(n){let i=ai().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=ai().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function mm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function UE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function oi(t){return t&&t[0]!=="?"?"?"+t:t}var vr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(gm),providedIn:"root"})}}return t})(),QE=new U(""),gm=(()=>{class t extends vr{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mm(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+oi(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||t)(B(pm),B(QE,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YE=(()=>{class t extends vr{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=mm(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||t)(B(pm),B(QE,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),ko=(()=>{class t{constructor(n){this._subject=new ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=ZN(UE(BE(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+oi(i))}normalize(n){return t.stripTrailingSlash(JN(this._basePath,BE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=oi}static{this.joinWithSlash=mm}static{this.stripTrailingSlash=UE}static{this.\u0275fac=function(i){return new(i||t)(B(vr))}}static{this.\u0275prov=j({token:t,factory:()=>YN(),providedIn:"root"})}}return t})();function YN(){return new ko(B(vr))}function JN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function BE(t){return t.replace(/\/index.html$/,"")}function ZN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var bt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(bt||{}),Ae=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ae||{}),Bt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Bt||{}),Ai={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function XN(t){return tn(t)[qe.LocaleId]}function eO(t,e,n){let i=tn(t),r=[i[qe.DayPeriodsFormat],i[qe.DayPeriodsStandalone]],o=on(r,e);return on(o,n)}function tO(t,e,n){let i=tn(t),r=[i[qe.DaysFormat],i[qe.DaysStandalone]],o=on(r,e);return on(o,n)}function nO(t,e,n){let i=tn(t),r=[i[qe.MonthsFormat],i[qe.MonthsStandalone]],o=on(r,e);return on(o,n)}function iO(t,e){let i=tn(t)[qe.Eras];return on(i,e)}function su(t,e){let n=tn(t);return on(n[qe.DateFormat],e)}function au(t,e){let n=tn(t);return on(n[qe.TimeFormat],e)}function cu(t,e){let i=tn(t)[qe.DateTimeFormat];return on(i,e)}function gu(t,e){let n=tn(t),i=n[qe.NumberSymbols][e];if(typeof i>"u"){if(e===Ai.CurrencyDecimal)return n[qe.NumberSymbols][Ai.Decimal];if(e===Ai.CurrencyGroup)return n[qe.NumberSymbols][Ai.Group]}return i}function JE(t){if(!t[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rO(t){let e=tn(t);return JE(e),(e[qe.ExtraData][2]||[]).map(i=>typeof i=="string"?sm(i):[sm(i[0]),sm(i[1])])}function oO(t,e,n){let i=tn(t);JE(i);let r=[i[qe.ExtraData][0],i[qe.ExtraData][1]],o=on(r,e)||[];return on(o,n)||[]}function on(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function sm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var sO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lu={},aO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,si=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(si||{}),_e=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(_e||{}),ge=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ge||{});function cO(t,e,n,i){let r=_O(t);e=ri(n,e)||e;let s=[],a;for(;e;)if(a=aO.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=r.getTimezoneOffset();i&&(c=XE(i,c),r=gO(r,i,!0));let l="";return s.forEach(u=>{let h=pO(u);l+=h?h(r,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function mu(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function ri(t,e){let n=XN(t);if(lu[n]??={},lu[n][e])return lu[n][e];let i="";switch(e){case"shortDate":i=su(t,Bt.Short);break;case"mediumDate":i=su(t,Bt.Medium);break;case"longDate":i=su(t,Bt.Long);break;case"fullDate":i=su(t,Bt.Full);break;case"shortTime":i=au(t,Bt.Short);break;case"mediumTime":i=au(t,Bt.Medium);break;case"longTime":i=au(t,Bt.Long);break;case"fullTime":i=au(t,Bt.Full);break;case"short":let r=ri(t,"shortTime"),o=ri(t,"shortDate");i=uu(cu(t,Bt.Short),[r,o]);break;case"medium":let s=ri(t,"mediumTime"),a=ri(t,"mediumDate");i=uu(cu(t,Bt.Medium),[s,a]);break;case"long":let c=ri(t,"longTime"),l=ri(t,"longDate");i=uu(cu(t,Bt.Long),[c,l]);break;case"full":let u=ri(t,"fullTime"),h=ri(t,"fullDate");i=uu(cu(t,Bt.Full),[u,h]);break}return i&&(lu[n][e]=i),i}function uu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function wn(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function lO(t,e){return wn(t,3).substring(0,e)}function We(t,e,n=0,i=!1,r=!1){return function(o,s){let a=uO(t,o);if((n>0||a>-n)&&(a+=n),t===_e.Hours)a===0&&n===-12&&(a=12);else if(t===_e.FractionalSeconds)return lO(a,e);let c=gu(s,Ai.MinusSign);return wn(a,e,c,i,r)}}function uO(t,e){switch(t){case _e.FullYear:return e.getFullYear();case _e.Month:return e.getMonth();case _e.Date:return e.getDate();case _e.Hours:return e.getHours();case _e.Minutes:return e.getMinutes();case _e.Seconds:return e.getSeconds();case _e.FractionalSeconds:return e.getMilliseconds();case _e.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Me(t,e,n=bt.Format,i=!1){return function(r,o){return dO(r,o,t,e,n,i)}}function dO(t,e,n,i,r,o){switch(n){case ge.Months:return nO(e,r,i)[t.getMonth()];case ge.Days:return tO(e,r,i)[t.getDay()];case ge.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=rO(e),u=oO(e,r,i),h=l.findIndex(v=>{if(Array.isArray(v)){let[y,D]=v,S=s>=y.hours&&a>=y.minutes,A=s<D.hours||s===D.hours&&a<D.minutes;if(y.hours<D.hours){if(S&&A)return!0}else if(S||A)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return eO(e,r,i)[s<12?0:1];case ge.Eras:return iO(e,i)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function du(t){return function(e,n,i){let r=-1*i,o=gu(n,Ai.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case si.Short:return(r>=0?"+":"")+wn(s,2,o)+wn(Math.abs(r%60),2,o);case si.ShortGMT:return"GMT"+(r>=0?"+":"")+wn(s,1,o);case si.Long:return"GMT"+(r>=0?"+":"")+wn(s,2,o)+":"+wn(Math.abs(r%60),2,o);case si.Extended:return i===0?"Z":(r>=0?"+":"")+wn(s,2,o)+":"+wn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var hO=0,fu=4;function fO(t){let e=mu(t,hO,1).getDay();return mu(t,0,1+(e<=fu?fu:fu+7)-e)}function ZE(t){let e=t.getDay(),n=e===0?-3:fu-e;return mu(t.getFullYear(),t.getMonth(),t.getDate()+n)}function am(t,e=!1){return function(n,i){let r;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{let o=ZE(n),s=fO(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return wn(r,t,gu(i,Ai.MinusSign))}}function hu(t,e=!1){return function(n,i){let o=ZE(n).getFullYear();return wn(o,t,gu(i,Ai.MinusSign),e)}}var cm={};function pO(t){if(cm[t])return cm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Me(ge.Eras,Ae.Abbreviated);break;case"GGGG":e=Me(ge.Eras,Ae.Wide);break;case"GGGGG":e=Me(ge.Eras,Ae.Narrow);break;case"y":e=We(_e.FullYear,1,0,!1,!0);break;case"yy":e=We(_e.FullYear,2,0,!0,!0);break;case"yyy":e=We(_e.FullYear,3,0,!1,!0);break;case"yyyy":e=We(_e.FullYear,4,0,!1,!0);break;case"Y":e=hu(1);break;case"YY":e=hu(2,!0);break;case"YYY":e=hu(3);break;case"YYYY":e=hu(4);break;case"M":case"L":e=We(_e.Month,1,1);break;case"MM":case"LL":e=We(_e.Month,2,1);break;case"MMM":e=Me(ge.Months,Ae.Abbreviated);break;case"MMMM":e=Me(ge.Months,Ae.Wide);break;case"MMMMM":e=Me(ge.Months,Ae.Narrow);break;case"LLL":e=Me(ge.Months,Ae.Abbreviated,bt.Standalone);break;case"LLLL":e=Me(ge.Months,Ae.Wide,bt.Standalone);break;case"LLLLL":e=Me(ge.Months,Ae.Narrow,bt.Standalone);break;case"w":e=am(1);break;case"ww":e=am(2);break;case"W":e=am(1,!0);break;case"d":e=We(_e.Date,1);break;case"dd":e=We(_e.Date,2);break;case"c":case"cc":e=We(_e.Day,1);break;case"ccc":e=Me(ge.Days,Ae.Abbreviated,bt.Standalone);break;case"cccc":e=Me(ge.Days,Ae.Wide,bt.Standalone);break;case"ccccc":e=Me(ge.Days,Ae.Narrow,bt.Standalone);break;case"cccccc":e=Me(ge.Days,Ae.Short,bt.Standalone);break;case"E":case"EE":case"EEE":e=Me(ge.Days,Ae.Abbreviated);break;case"EEEE":e=Me(ge.Days,Ae.Wide);break;case"EEEEE":e=Me(ge.Days,Ae.Narrow);break;case"EEEEEE":e=Me(ge.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Me(ge.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Me(ge.DayPeriods,Ae.Wide);break;case"aaaaa":e=Me(ge.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Me(ge.DayPeriods,Ae.Abbreviated,bt.Standalone,!0);break;case"bbbb":e=Me(ge.DayPeriods,Ae.Wide,bt.Standalone,!0);break;case"bbbbb":e=Me(ge.DayPeriods,Ae.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Me(ge.DayPeriods,Ae.Abbreviated,bt.Format,!0);break;case"BBBB":e=Me(ge.DayPeriods,Ae.Wide,bt.Format,!0);break;case"BBBBB":e=Me(ge.DayPeriods,Ae.Narrow,bt.Format,!0);break;case"h":e=We(_e.Hours,1,-12);break;case"hh":e=We(_e.Hours,2,-12);break;case"H":e=We(_e.Hours,1);break;case"HH":e=We(_e.Hours,2);break;case"m":e=We(_e.Minutes,1);break;case"mm":e=We(_e.Minutes,2);break;case"s":e=We(_e.Seconds,1);break;case"ss":e=We(_e.Seconds,2);break;case"S":e=We(_e.FractionalSeconds,1);break;case"SS":e=We(_e.FractionalSeconds,2);break;case"SSS":e=We(_e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=du(si.Short);break;case"ZZZZZ":e=du(si.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=du(si.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=du(si.Long);break;default:return null}return cm[t]=e,e}function XE(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function mO(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function gO(t,e,n){let i=n?-1:1,r=t.getTimezoneOffset(),o=XE(e,r);return mO(t,i*(o-r))}function _O(t){if($E(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return mu(r,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(sO))return vO(i)}let e=new Date(t);if(!$E(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function vO(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function $E(t){return t instanceof Date&&!isNaN(t.valueOf())}function _u(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var lm=/\s+/,qE=[],eC=(()=>{class t{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=qE,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(lm):qE}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(lm):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(lm).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(q(vn),q(Fn))}}static{this.\u0275dir=De({type:t,selectors:[["","ngClass",""]],inputs:{klass:[st.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var um=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},vu=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new um(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),GE(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);GE(o,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(q(xo),q(Jl),q(om))}}static{this.\u0275dir=De({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function GE(t,e){t.context.$implicit=e.item}var yu=(()=>{class t{constructor(n,i){this._viewContainer=n,this._context=new dm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){HE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){HE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(q(xo),q(Jl))}}static{this.\u0275dir=De({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),dm=class{constructor(){this.$implicit=null,this.ngIf=null}};function HE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Et(e)}'.`)}function yO(t,e){return new $(2100,!1)}var wO="mediumDate",IO=new U(""),EO=new U(""),wu=(()=>{class t{constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,o){if(n==null||n===""||n!==n)return null;try{let s=i??this.defaultOptions?.dateFormat??wO,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return cO(n,s,o||this.locale,a)}catch(s){throw yO(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(q(ou,16),q(IO,24),q(EO,24))}}static{this.\u0275pipe=Dp({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var tC=(()=>{class t{transform(n){return JSON.stringify(n,null,2)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=Dp({name:"json",type:t,pure:!1,standalone:!0})}}return t})();var Js=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({})}}return t})(),_m="browser",CO="server";function bO(t){return t===_m}function Iu(t){return t===CO}var nC=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>bO(P(en))?new hm(P(mt),window):new fm})}}return t})(),hm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=TO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function TO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var fm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Oo=class{};var Xs=class{},Cu=class{},yr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var wm=class{encodeKey(e){return iC(e)}encodeValue(e){return iC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function xO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var AO=/%(\d[a-f0-9])/gi,MO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iC(t){return encodeURIComponent(t).replace(AO,(e,n)=>MO[n]??e)}function Eu(t){return`${t}`}var Mi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=xO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Eu):[Eu(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Eu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Eu(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Im=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function PO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function oC(t){return typeof Blob<"u"&&t instanceof Blob}function sC(t){return typeof FormData<"u"&&t instanceof FormData}function RO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Zs=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(PO(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new yr,this.context??=new Im,!this.params)this.params=new Mi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rC(this.body)||oC(this.body)||sC(this.body)||RO(this.body)?this.body:this.body instanceof Mi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sC(this.body)?null:oC(this.body)?this.body.type||null:rC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Mi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),u)),new t(n,i,s,{params:u,headers:l,context:h,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},Fo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Fo||{}),ea=class{constructor(e,n=Du.Ok,i="OK"){this.headers=e.headers||new yr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Em=class t extends ea{constructor(e={}){super(e),this.type=Fo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bu=class t extends ea{constructor(e={}){super(e),this.type=Fo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Tu=class extends ea{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Du=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Du||{});function ym(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Cm=(()=>{class t{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof Zs)o=n;else{let c;r.headers instanceof yr?c=r.headers:c=new yr(r.headers);let l;r.params&&(r.params instanceof Mi?l=r.params:l=new Mi({fromObject:r.params})),o=new Zs(n,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=z(o).pipe(Yn(c=>this.handler.handle(c)));if(n instanceof Zs||r.observe==="events")return s;let a=s.pipe(At(c=>c instanceof bu));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(X(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(X(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Mi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,ym(r,i))}post(n,i,r={}){return this.request("POST",n,ym(r,i))}put(n,i,r={}){return this.request("PUT",n,ym(r,i))}static{this.\u0275fac=function(i){return new(i||t)(B(Xs))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function NO(t,e){return e(t)}function OO(t,e,n){return(i,r)=>gn(n,()=>e(i,o=>t(o,r)))}var lC=new U(""),kO=new U(""),FO=new U("");var aC=(()=>{class t extends Xs{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=P(Ao);let r=P(FO,{optional:!0});this.backend=r??n}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(lC),...this.injector.get(kO,[])]));this.chain=r.reduceRight((o,s)=>OO(o,s,this.injector),NO)}let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(ir(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||t)(B(Cu),B(ft))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var VO=/^\)\]\}',?\n/;function LO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var cC=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new $(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Re(i.\u0275loadImpl()):z(null)).pipe(Mt(()=>new oe(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((S,A)=>s.setRequestHeader(S,A.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let S=n.detectContentTypeHeader();S!==null&&s.setRequestHeader("Content-Type",S)}if(n.responseType){let S=n.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let S=s.statusText||"OK",A=new yr(s.getAllResponseHeaders()),F=LO(s)||n.url;return c=new Em({headers:A,status:s.status,statusText:S,url:F}),c},u=()=>{let{headers:S,status:A,statusText:F,url:ue}=l(),H=null;A!==Du.NoContent&&(H=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=H?Du.Ok:0);let ye=A>=200&&A<300;if(n.responseType==="json"&&typeof H=="string"){let Je=H;H=H.replace(VO,"");try{H=H!==""?JSON.parse(H):null}catch(pe){H=Je,ye&&(ye=!1,H={error:pe,text:H})}}ye?(o.next(new bu({body:H,headers:S,status:A,statusText:F,url:ue||void 0})),o.complete()):o.error(new Tu({error:H,headers:S,status:A,statusText:F,url:ue||void 0}))},h=S=>{let{url:A}=l(),F=new Tu({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(F)},v=!1,y=S=>{v||(o.next(l()),v=!0);let A={type:Fo.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(A.total=S.total),n.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},D=S=>{let A={type:Fo.UploadProgress,loaded:S.loaded};S.lengthComputable&&(A.total=S.total),o.next(A)};return s.addEventListener("load",u),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:Fo.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",u),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(B(Oo))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),uC=new U(""),jO="XSRF-TOKEN",UO=new U("",{providedIn:"root",factory:()=>jO}),BO="X-XSRF-TOKEN",$O=new U("",{providedIn:"root",factory:()=>BO}),Su=class{},qO=(()=>{class t{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_u(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(B(mt),B(en),B(UO))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function GO(t,e){let n=t.url.toLowerCase();if(!P(uC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=P(Su).getToken(),r=P($O);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}function dC(...t){let e=[Cm,cC,aC,{provide:Xs,useExisting:aC},{provide:Cu,useExisting:cC},{provide:lC,useValue:GO,multi:!0},{provide:uC,useValue:!0},{provide:Su,useClass:qO}];for(let n of t)e.push(...n.\u0275providers);return Do(e)}var Dm=class extends pu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sm=class t extends Dm{static makeCurrent(){WE(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=zO();return n==null?null:WO(n)}resetBaseElement(){ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _u(document.cookie,e)}},ta=null;function zO(){return ta=ta||document.querySelector("base"),ta?ta.getAttribute("href"):null}function WO(t){return new URL(t,document.baseURI).pathname}var KO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),xm=new U(""),mC=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||t)(B(xm),B(we))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),xu=class{constructor(e){this._doc=e}},bm="ng-app-id",gC=(()=>{class t{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Iu(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${bm}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(bm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(bm,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(B(mt),B(jp),B(Bp,8),B(en))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Tm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mm=/%COMP%/g,_C="%COMP%",QO=`_nghost-${_C}`,YO=`_ngcontent-${_C}`,JO=!0,ZO=new U("",{providedIn:"root",factory:()=>JO});function XO(t){return YO.replace(Mm,t)}function ek(t){return QO.replace(Mm,t)}function vC(t,e){return e.map(n=>n.replace(Mm,t))}var hC=(()=>{class t{constructor(n,i,r,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Iu(a),this.defaultRenderer=new na(n,s,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Pn.ShadowDom&&(i=te(R({},i),{encapsulation:Pn.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Au?r.applyToHost(n):r instanceof ia&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Pn.Emulated:o=new Au(c,l,i,this.appId,u,s,a,h);break;case Pn.ShadowDom:return new Am(c,l,n,i,s,a,this.nonce,h);default:o=new ia(c,l,i,u,s,a,h);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(B(mC),B(gC),B(jp),B(ZO),B(mt),B(en),B(we),B(Bp))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),na=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fC(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(fC(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new $(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=Tm[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Tm[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Xn.DashCase|Xn.Important)?e.style.setProperty(n,i,r&Xn.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ai().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Am=class extends na{constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=vC(r.id,r.styles);for(let u of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ia=class extends na{constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?vC(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Au=class extends ia{constructor(e,n,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,n,i,o,s,a,c,l),this.contentAttr=XO(l),this.hostAttr=ek(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},tk=(()=>{class t extends xu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(B(mt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),pC=["alt","control","meta","shift"],nk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ik={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},rk=(()=>{class t extends xu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ai().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),pC.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,i){let r=nk[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),pC.forEach(s=>{if(s!==r){let a=ik[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{t.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||t)(B(mt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function yC(t,e){return LE(R({rootComponent:t},ok(e)))}function ok(t){return{appProviders:[...uk,...t?.providers??[]],platformProviders:lk}}function sk(){Sm.makeCurrent()}function ak(){return new kn}function ck(){return qI(document),document}var lk=[{provide:en,useValue:_m},{provide:Up,useValue:sk,multi:!0},{provide:mt,useFactory:ck,deps:[]}];var uk=[{provide:Fl,useValue:"root"},{provide:kn,useFactory:ak,deps:[]},{provide:xm,useClass:tk,multi:!0,deps:[mt,we,en]},{provide:xm,useClass:rk,multi:!0,deps:[mt]},hC,gC,mC,{provide:Bs,useExisting:hC},{provide:Oo,useClass:KO,deps:[]},[]];var wC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||t)(B(mt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var MC=(()=>{class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||t)(q(Fn),q(vn))}}static{this.\u0275dir=De({type:t})}}return t})(),jo=(()=>{class t extends MC{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xt(t)))(r||t)}})()}static{this.\u0275dir=De({type:t,features:[ct]})}}return t})(),Ni=new U(""),hk={provide:Ni,useExisting:Ct(()=>km),multi:!0},km=(()=>{class t extends jo{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xt(t)))(r||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&C("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Ut([hk]),ct]})}}return t})(),fk={provide:Ni,useExisting:Ct(()=>Lu),multi:!0};function pk(){let t=ai()?ai().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var mk=new U(""),Lu=(()=>{class t extends MC{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!pk())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||t)(q(Fn),q(vn),q(mk,8))}}static{this.\u0275dir=De({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&C("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ut([fk]),ct]})}}return t})();function Pi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function PC(t){return t!=null&&typeof t.length=="number"}var Uo=new U(""),Fm=new U(""),gk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ze=class{static min(e){return RC(e)}static max(e){return NC(e)}static required(e){return OC(e)}static requiredTrue(e){return _k(e)}static email(e){return vk(e)}static minLength(e){return yk(e)}static maxLength(e){return wk(e)}static pattern(e){return Ik(e)}static nullValidator(e){return Pu(e)}static compose(e){return UC(e)}static composeAsync(e){return $C(e)}};function RC(t){return e=>{if(Pi(e.value)||Pi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function NC(t){return e=>{if(Pi(e.value)||Pi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function OC(t){return Pi(t.value)?{required:!0}:null}function _k(t){return t.value===!0?null:{required:!0}}function vk(t){return Pi(t.value)||gk.test(t.value)?null:{email:!0}}function yk(t){return e=>Pi(e.value)||!PC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function wk(t){return e=>PC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Ik(t){if(!t)return Pu;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Pi(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Pu(t){return null}function kC(t){return t!=null}function FC(t){return gr(t)?Re(t):t}function VC(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function LC(t,e){return e.map(n=>n(t))}function Ek(t){return!t.validate}function jC(t){return t.map(e=>Ek(e)?e:n=>e.validate(n))}function UC(t){if(!t)return null;let e=t.filter(kC);return e.length==0?null:function(n){return VC(LC(n,e))}}function BC(t){return t!=null?UC(jC(t)):null}function $C(t){if(!t)return null;let e=t.filter(kC);return e.length==0?null:function(n){let i=LC(n,e).map(FC);return ff(i).pipe(X(VC))}}function qC(t){return t!=null?$C(jC(t)):null}function IC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function GC(t){return t._rawValidators}function HC(t){return t._rawAsyncValidators}function Pm(t){return t?Array.isArray(t)?t:[t]:[]}function Ru(t,e){return Array.isArray(t)?t.includes(e):t===e}function EC(t,e){let n=Pm(e);return Pm(t).forEach(r=>{Ru(n,r)||n.push(r)}),n}function CC(t,e){return Pm(e).filter(n=>!Ru(t,n))}var Nu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},wr=class extends Nu{get formDirective(){return null}get path(){return null}},Ri=class extends Nu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ou=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Ck={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},y7=te(R({},Ck),{"[class.ng-submitted]":"isSubmitted"}),zC=(()=>{class t extends Ou{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(q(Ri,2))}}static{this.\u0275dir=De({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ee("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ct]})}}return t})(),WC=(()=>{class t extends Ou{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(q(wr,10))}}static{this.\u0275dir=De({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ee("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ct]})}}return t})();var ra="VALID",Mu="INVALID",Vo="PENDING",oa="DISABLED";function Vm(t){return(ju(t)?t.validators:t)||null}function bk(t){return Array.isArray(t)?BC(t):t||null}function Lm(t,e){return(ju(e)?e.asyncValidators:t)||null}function Tk(t){return Array.isArray(t)?qC(t):t||null}function ju(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function KC(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new $(1e3,"");if(!i[n])throw new $(1001,"")}function QC(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new $(1002,"")})}var Lo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ra}get invalid(){return this.status===Mu}get pending(){return this.status==Vo}get disabled(){return this.status===oa}get enabled(){return this.status!==oa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(EC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(EC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CC(e,this._rawAsyncValidators))}hasValidator(e){return Ru(this._rawValidators,e)}hasAsyncValidator(e){return Ru(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Vo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=oa,this.errors=null,this._forEachChild(i=>{i.disable(te(R({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ra,this._forEachChild(i=>{i.enable(te(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ra||this.status===Vo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oa:ra}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Vo,this._hasOwnPendingAsyncValidator=!0;let n=FC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?oa:this.errors?Mu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vo)?Vo:this._anyControlsHaveStatus(Mu)?Mu:ra}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ju(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Tk(this._rawAsyncValidators)}},ku=class extends Lo{constructor(e,n,i){super(Vm(n),Lm(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){QC(this,!0,e),Object.keys(e).forEach(i=>{KC(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Rm=class extends ku{};var aa=new U("CallSetDisabledState",{providedIn:"root",factory:()=>ca}),ca="always";function YC(t,e){return[...e.path,t]}function Nm(t,e,n=ca){jm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Sk(t,e),Ak(t,e),xk(t,e),Dk(t,e)}function bC(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Vu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Fu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Dk(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function jm(t,e){let n=GC(t);e.validator!==null?t.setValidators(IC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=HC(t);e.asyncValidator!==null?t.setAsyncValidators(IC(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Fu(e._rawValidators,r),Fu(e._rawAsyncValidators,r)}function Vu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=GC(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=HC(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Fu(e._rawValidators,i),Fu(e._rawAsyncValidators,i),n}function Sk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&JC(t,e)})}function xk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&JC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function JC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ak(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Mk(t,e){t==null,jm(t,e)}function Pk(t,e){return Vu(t,e)}function ZC(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Rk(t){return Object.getPrototypeOf(t.constructor)===jo}function Nk(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function XC(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Lu?n=o:Rk(o)?i=o:r=o}),r||i||n||null}function Ok(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function TC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var sa=class extends Lo{constructor(e=null,n,i){super(Vm(n),Lm(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ju(n)&&(n.nonNullable||n.initialValueIsDefault)&&(DC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var kk=t=>t instanceof sa;var Fk={provide:Ri,useExisting:Ct(()=>Um)},SC=Promise.resolve(),Um=(()=>{class t extends Ri{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new sa,this._registered=!1,this.name="",this.update=new ot,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=XC(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),ZC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Nm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){SC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&Ys(i);SC.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?YC(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||t)(q(wr,9),q(Uo,10),q(Fm,10),q(Ni,10),q(_r,8),q(aa,8))}}static{this.\u0275dir=De({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"],options:[st.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([Fk]),ct,ii]})}}return t})(),eb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=De({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),Vk={provide:Ni,useExisting:Ct(()=>Bm),multi:!0},Bm=(()=>{class t extends jo{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xt(t)))(r||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&C("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ut([Vk]),ct]})}}return t})(),Lk={provide:Ni,useExisting:Ct(()=>$m),multi:!0};var jk=(()=>{class t{constructor(){this._accessors=[]}add(n,i){this._accessors.push([n,i])}remove(n){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===n){this._accessors.splice(i,1);return}}select(n){this._accessors.forEach(i=>{this._isSameGroup(i,n)&&i[1]!==n&&i[1].fireUncheck(n.value)})}_isSameGroup(n,i){return n[0].control?n[0]._parent===i._control._parent&&n[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$m=(()=>{class t extends jo{constructor(n,i,r,o){super(n,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=P(aa,{optional:!0})??ca}ngOnInit(){this._control=this._injector.get(Ri),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||t)(q(Fn),q(vn),q(jk),q(kt))}}static{this.\u0275dir=De({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&C("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ut([Lk]),ct]})}}return t})();var tb=new U("");var Uk={provide:wr,useExisting:Ct(()=>qm)},qm=(()=>{class t extends wr{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ot,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return Nm(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){bC(n.control||null,n,!1),Ok(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,Nk(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(bC(i||null,n),kk(r)&&(Nm(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);Mk(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&Pk(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jm(this.form,this),this._oldForm&&Vu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||t)(q(Uo,10),q(Fm,10),q(aa,8))}}static{this.\u0275dir=De({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&C("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[st.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([Uk]),ct,ii]})}}return t})();var Bk={provide:Ri,useExisting:Ct(()=>Gm)},Gm=(()=>{class t extends Ri{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ot,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=XC(this,o)}ngOnChanges(n){this._added||this._setUpControl(),ZC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return YC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(q(wr,13),q(Uo,10),q(Fm,10),q(Ni,10),q(tb,8))}}static{this.\u0275dir=De({type:t,selectors:[["","formControlName",""]],inputs:{name:[st.None,"formControlName","name"],isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ut([Bk]),ct,ii]})}}return t})(),$k={provide:Ni,useExisting:Ct(()=>Uu),multi:!0};function nb(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function qk(t){return t.split(":")[0]}var Uu=(()=>{class t extends jo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),r=nb(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=qk(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xt(t)))(r||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&C("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([$k]),ct]})}}return t})(),ib=(()=>{class t{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(nb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(q(vn),q(Fn),q(Uu,9))}}static{this.\u0275dir=De({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),Gk={provide:Ni,useExisting:Ct(()=>rb),multi:!0};function xC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Hk(t){return t.split(":")[0]}var rb=(()=>{class t extends jo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=Hk(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xt(t)))(r||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&C("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([Gk]),ct]})}}return t})(),ob=(()=>{class t{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(xC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(xC(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(q(vn),q(Fn),q(rb,9))}}static{this.\u0275dir=De({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function sb(t){return typeof t=="number"?t:parseFloat(t)}var Hm=(()=>{class t{constructor(){this._validator=Pu}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Pu,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=De({type:t,features:[ii]})}}return t})(),zk={provide:Uo,useExisting:Ct(()=>zm),multi:!0},zm=(()=>{class t extends Hm{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>sb(n),this.createValidator=n=>NC(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xt(t)))(r||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&xi("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ut([zk]),ct]})}}return t})(),Wk={provide:Uo,useExisting:Ct(()=>Wm),multi:!0},Wm=(()=>{class t extends Hm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>sb(n),this.createValidator=n=>RC(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xt(t)))(r||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&xi("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ut([Wk]),ct]})}}return t})(),Kk={provide:Uo,useExisting:Ct(()=>Km),multi:!0};var Km=(()=>{class t extends Hm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ys,this.createValidator=n=>OC}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xt(t)))(r||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&xi("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ut([Kk]),ct]})}}return t})();var ab=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({})}}return t})(),Om=class extends Lo{constructor(e,n,i){super(Vm(n),Lm(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){QC(this,!1,e),e.forEach((i,r)=>{KC(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function AC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var cb=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,i=null){let r=this._reduceControls(n),o={};return AC(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ku(r,o)}record(n,i=null){let r=this._reduceControls(n);return new Rm(r,i)}control(n,i,r){let o={};return this.useNonNullable?(AC(i)?o=i:(o.validators=i,o.asyncValidators=r),new sa(n,te(R({},o),{nonNullable:!0}))):new sa(n,i,r)}array(n,i,r){let o=n.map(s=>this._createControl(s));return new Om(o,i,r)}_reduceControls(n){let i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){if(n instanceof sa)return n;if(n instanceof Lo)return n;if(Array.isArray(n)){let i=n[0],r=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(i,r,o)}else return this.control(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var lb=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:aa,useValue:n.callSetDisabledState??ca}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({imports:[ab]})}}return t})(),ub=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:tb,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:aa,useValue:n.callSetDisabledState??ca}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({imports:[ab]})}}return t})();var Bu=[{id:1,name:"Stand. Flawinne FC",players:[{name:"Joueur non list\xE9",type:"milieu"}]},{id:2,name:"U10 Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Danielle",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:3,name:"U9 Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]}];function Qm(t){return(!t.players||t.players.length===0)&&(t.players=[{name:"Joueur non list\xE9",type:"milieu"}]),t}var ee="primary",ba=Symbol("RouteTitle"),eg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ho(t){return new eg(t)}function Yk(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Jk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}function Vn(t,e){let n=t?tg(t):void 0,i=e?tg(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!yb(t[r],e[r]))return!1;return!0}function tg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function yb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function wb(t){return t.length>0?t[t.length-1]:null}function Li(t){return hf(t)?t:gr(t)?Re(Promise.resolve(t)):z(t)}var Zk={exact:Eb,subset:Cb},Ib={exact:Xk,subset:e2,ignored:()=>!0};function db(t,e,n){return Zk[n.paths](t.root,e.root,n.matrixParams)&&Ib[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Xk(t,e){return Vn(t,e)}function Eb(t,e,n){if(!Er(t.segments,e.segments)||!Gu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!Eb(t.children[i],e.children[i],n))return!1;return!0}function e2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>yb(t[n],e[n]))}function Cb(t,e,n){return bb(t,e,e.segments,n)}function bb(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Er(r,n)||e.hasChildren()||!Gu(r,n,i))}else if(t.segments.length===n.length){if(!Er(t.segments,n)||!Gu(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!Cb(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Er(t.segments,r)||!Gu(t.segments,r,i)||!t.children[ee]?!1:bb(t.children[ee],e,o,i)}}function Gu(t,e,n){return e.every((i,r)=>Ib[n](t[r].parameters,i.parameters))}var Oi=class{constructor(e=new Ie([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ho(this.queryParams),this._queryParamMap}toString(){return i2.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hu(this)}},Ir=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ho(this.parameters),this._parameterMap}toString(){return Db(this)}};function t2(t,e){return Er(t,e)&&t.every((n,i)=>Vn(n.parameters,e[i].parameters))}function Er(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function n2(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===ee&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==ee&&(n=n.concat(e(r,i)))}),n}var Ta=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>new ma,providedIn:"root"})}}return t})(),ma=class{parse(e){let n=new ig(e);return new Oi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${la(e.root,!0)}`,i=s2(e.queryParams),r=typeof e.fragment=="string"?`#${r2(e.fragment)}`:"";return`${n}${i}${r}`}},i2=new ma;function Hu(t){return t.segments.map(e=>Db(e)).join("/")}function la(t,e){if(!t.hasChildren())return Hu(t);if(e){let n=t.children[ee]?la(t.children[ee],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==ee&&i.push(`${r}:${la(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=n2(t,(i,r)=>r===ee?[la(t.children[ee],!1)]:[`${r}:${la(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Hu(t)}/${n[0]}`:`${Hu(t)}/(${n.join("//")})`}}function Tb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $u(t){return Tb(t).replace(/%3B/gi,";")}function r2(t){return encodeURI(t)}function ng(t){return Tb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zu(t){return decodeURIComponent(t)}function hb(t){return zu(t.replace(/\+/g,"%20"))}function Db(t){return`${ng(t.path)}${o2(t.parameters)}`}function o2(t){return Object.entries(t).map(([e,n])=>`;${ng(e)}=${ng(n)}`).join("")}function s2(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${$u(n)}=${$u(r)}`).join("&"):`${$u(n)}=${$u(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var a2=/^[^\/()?;#]+/;function Ym(t){let e=t.match(a2);return e?e[0]:""}var c2=/^[^\/()?;=#]+/;function l2(t){let e=t.match(c2);return e?e[0]:""}var u2=/^[^=?&#]+/;function d2(t){let e=t.match(u2);return e?e[0]:""}var h2=/^[^&#]+/;function f2(t){let e=t.match(h2);return e?e[0]:""}var ig=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ee]=new Ie(e,n)),i}parseSegment(){let e=Ym(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Ir(zu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=l2(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Ym(this.remaining);r&&(i=r,this.capture(i))}e[zu(n)]=zu(i)}parseQueryParam(e){let n=d2(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=f2(this.remaining);s&&(i=s,this.capture(i))}let r=hb(n),o=hb(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Ym(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new $(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ee]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function Sb(t){return t.segments.length>0?new Ie([],{[ee]:t}):t}function xb(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=xb(r);if(i===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Ie(t.segments,e);return p2(n)}function p2(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new Ie(t.segments.concat(e.segments),e.children)}return t}function zo(t){return t instanceof Oi}function m2(t,e,n=null,i=null){let r=Ab(t);return Mb(r,e,n,i)}function Ab(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ie(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=Sb(i);return e??r}function Mb(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Jm(r,r,r,n,i);let o=g2(e);if(o.toRoot())return Jm(r,r,new Ie([],{}),n,i);let s=_2(o,r,t),a=s.processChildren?ha(s.segmentGroup,s.index,o.commands):Rb(s.segmentGroup,s.index,o.commands);return Jm(r,s.segmentGroup,a,n,i)}function Wu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ga(t){return typeof t=="object"&&t!=null&&t.outlets}function Jm(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=Pb(t,e,n);let a=Sb(xb(s));return new Oi(a,o,r)}function Pb(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=Pb(o,e,n)}),new Ie(t.segments,i)}var Ku=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Wu(i[0]))throw new $(4003,!1);let r=i.find(ga);if(r&&r!==wb(i))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function g2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ku(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Ku(n,e,i)}var qo=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function _2(t,e,n){if(t.isAbsolute)return new qo(e,!0,0);if(!n)return new qo(e,!1,NaN);if(n.parent===null)return new qo(n,!0,0);let i=Wu(t.commands[0])?0:1,r=n.segments.length-1+i;return v2(n,r,t.numberOfDoubleDots)}function v2(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $(4005,!1);r=i.segments.length}return new qo(i,!1,r-o)}function y2(t){return ga(t[0])?t[0].outlets:{[ee]:t}}function Rb(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return ha(t,e,n);let i=w2(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,i.pathIndex),{});return o.children[ee]=new Ie(t.segments.slice(i.pathIndex),t.children),ha(o,0,r)}else return i.match&&r.length===0?new Ie(t.segments,{}):i.match&&!t.hasChildren()?rg(t,e,n):i.match?ha(t,0,r):rg(t,e,n)}function ha(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let i=y2(n),r={};if(Object.keys(i).some(o=>o!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let o=ha(t.children[ee],e,n);return new Ie(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Rb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ie(t.segments,r)}}function w2(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(ga(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!pb(c,l,s))return o;i+=2}else{if(!pb(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function rg(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(ga(o)){let c=I2(o.outlets);return new Ie(i,c)}if(r===0&&Wu(n[0])){let c=t.segments[e];i.push(new Ir(c.path,fb(n[0]))),r++;continue}let s=ga(o)?o.outlets[ee]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Wu(a)?(i.push(new Ir(s,fb(a))),r+=2):(i.push(new Ir(s,{})),r++)}return new Ie(i,{})}function I2(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=rg(new Ie([],{}),0,i))}),e}function fb(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function pb(t,e,n){return t==n.path&&Vn(e,n.parameters)}var fa="imperative",Xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xe||{}),sn=class{constructor(e,n){this.id=e,this.url=n}},Wo=class extends sn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Xe.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends sn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(qt||{}),Qu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Qu||{}),ki=class extends sn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fi=class extends sn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Xe.NavigationSkipped}},_a=class extends sn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yu=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class extends sn{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ag=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ug=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fg=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pg=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ju=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Xe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},va=class{},ya=class{constructor(e){this.url=e}};var mg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Da,this.attachRef=null}},Da=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new mg,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=gg(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=gg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=_g(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return _g(e,this._root).map(n=>n.value)}};function gg(t,e){if(t===e.value)return e;for(let n of e.children){let i=gg(t,n);if(i)return i}return null}function _g(t,e){if(t===e.value)return[e];for(let n of e.children){let i=_g(t,n);if(i.length)return i.unshift(e),i}return[]}var $t=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function $o(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Xu=class extends Zu{constructor(e,n){super(e),this.snapshot=n,Sg(this,e)}toString(){return this.snapshot.toString()}};function Nb(t){let e=E2(t),n=new rt([new Ir("",{})]),i=new rt({}),r=new rt({}),o=new rt({}),s=new rt(""),a=new li(n,i,o,s,r,ee,t,e.root);return a.snapshot=e.root,new Xu(new $t(a,[]),e)}function E2(t){let e={},n={},i={},r="",o=new wa([],e,i,r,n,ee,t,null,{});return new ed("",new $t(o,[]))}var li=class{constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(l=>l[ba]))??z(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Ho(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Ho(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dg(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),r?.data),t._resolvedData)}:i={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},r&&kb(r)&&(i.resolve[ba]=r.title),i}var wa=class{get title(){return this.data?.[ba]}constructor(e,n,i,r,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ho(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ho(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ed=class extends Zu{constructor(e,n){super(n),this.url=e,Sg(this,n)}toString(){return Ob(this._root)}};function Sg(t,e){e.value._routerState=t,e.children.forEach(n=>Sg(t,n))}function Ob(t){let e=t.children.length>0?` { ${t.children.map(Ob).join(", ")} } `:"";return`${t.value}${e}`}function Zm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vn(e.params,n.params)||t.paramsSubject.next(n.params),Jk(e.url,n.url)||t.urlSubject.next(n.url),Vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vg(t,e){let n=Vn(t.params,e.params)&&t2(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||vg(t.parent,e.parent))}function kb(t){return typeof t.title=="string"||t.title===null}var xg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new ot,this.deactivateEvents=new ot,this.attachEvents=new ot,this.detachEvents=new ot,this.parentContexts=P(Da),this.location=P(xo),this.changeDetector=P(_r),this.environmentInjector=P(ft),this.inputBinder=P(rd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new yg(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=De({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ii]})}}return t})(),yg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===li?this.route:e===Da?this.childContexts:this.parent.get(e,n)}},rd=new U(""),mb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=Ps([i.queryParams,i.params,i.data]).pipe(Mt(([o,s,a],c)=>(a=R(R(R({},o),s),a),c===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=jE(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function C2(t,e,n){let i=Ia(t,e._root,n?n._root:void 0);return new Xu(i,e)}function Ia(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=b2(t,e,n);return new $t(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ia(t,a)),s}}let i=T2(e.value),r=e.children.map(o=>Ia(t,o));return new $t(i,r)}}function b2(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Ia(t,i,r);return Ia(t,i)})}function T2(t){return new li(new rt(t.url),new rt(t.params),new rt(t.queryParams),new rt(t.fragment),new rt(t.data),t.outlet,t.component,t)}var Fb="ngNavigationCancelingError";function Vb(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Lb(!1,qt.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Lb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Fb]=!0,n.cancellationCode=e,n}function D2(t){return jb(t)&&zo(t.url)}function jb(t){return!!t&&t[Fb]}var S2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=To({type:t,selectors:[["ng-component"]],standalone:!0,features:[Po],decls:1,vars:0,template:function(i,r){i&1&&T(0,"router-outlet")},dependencies:[xg],encapsulation:2})}}return t})();function x2(t,e){return t.providers&&!t._injector&&(t._injector=tu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ag(t){let e=t.children&&t.children.map(Ag),n=e?te(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=S2),n}function Ln(t){return t.outlet||ee}function A2(t,e){let n=t.filter(i=>Ln(i)===e);return n.push(...t.filter(i=>Ln(i)!==e)),n}function Sa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var M2=(t,e,n,i)=>X(r=>(new wg(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),wg=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Zm(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=$o(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=$o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=$o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=$o(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new pg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new hg(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(Zm(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Zm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Sa(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},td=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Go=class{constructor(e,n){this.component=e,this.route=n}};function P2(t,e,n){let i=t._root,r=e?e._root:null;return ua(i,r,n,[i.value])}function R2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Qo(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!kw(t)?t:e.get(t):i}function ua(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=$o(e);return t.children.forEach(s=>{N2(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>pa(a,n.getContext(s),r)),r}function N2(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=O2(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new td(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ua(t,e,a?a.children:null,i,r):ua(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Go(a.outlet.component,s))}else s&&pa(e,a,r),r.canActivateChecks.push(new td(i)),o.component?ua(t,null,a?a.children:null,i,r):ua(t,null,n,i,r);return r}function O2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Er(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Er(t.url,e.url)||!Vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vg(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!vg(t,e)}}function pa(t,e,n){let i=$o(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?pa(s,e.children.getContext(o),n):pa(s,null,n):pa(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Go(e.outlet.component,r)):n.canDeactivateChecks.push(new Go(null,r)):n.canDeactivateChecks.push(new Go(null,r))}function xa(t){return typeof t=="function"}function k2(t){return typeof t=="boolean"}function F2(t){return t&&xa(t.canLoad)}function V2(t){return t&&xa(t.canActivate)}function L2(t){return t&&xa(t.canActivateChild)}function j2(t){return t&&xa(t.canDeactivate)}function U2(t){return t&&xa(t.canMatch)}function Ub(t){return t instanceof Qn||t?.name==="EmptyError"}var qu=Symbol("INITIAL_VALUE");function Ko(){return Mt(t=>Ps(t.map(e=>e.pipe(Jn(1),_f(qu)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===qu)return qu;if(n===!1||n instanceof Oi)return n}return!0}),At(e=>e!==qu),Jn(1)))}function B2(t,e){return He(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?z(te(R({},n),{guardsResult:!0})):$2(s,i,r,t).pipe(He(a=>a&&k2(a)?q2(i,o,t,e):z(a)),X(a=>te(R({},n),{guardsResult:a})))})}function $2(t,e,n,i){return Re(t).pipe(He(r=>K2(r.component,r.route,n,e,i)),xn(r=>r!==!0,!0))}function q2(t,e,n,i){return Re(e).pipe(Yn(r=>ao(H2(r.route.parent,i),G2(r.route,i),W2(t,r.path,n),z2(t,r.route,n))),xn(r=>r!==!0,!0))}function G2(t,e){return t!==null&&e&&e(new fg(t)),z(!0)}function H2(t,e){return t!==null&&e&&e(new dg(t)),z(!0)}function z2(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return z(!0);let r=i.map(o=>nl(()=>{let s=Sa(e)??n,a=Qo(o,s),c=V2(a)?a.canActivate(e,t):gn(s,()=>a(e,t));return Li(c).pipe(xn())}));return z(r).pipe(Ko())}function W2(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>R2(s)).filter(s=>s!==null).map(s=>nl(()=>{let a=s.guards.map(c=>{let l=Sa(s.node)??n,u=Qo(c,l),h=L2(u)?u.canActivateChild(i,t):gn(l,()=>u(i,t));return Li(h).pipe(xn())});return z(a).pipe(Ko())}));return z(o).pipe(Ko())}function K2(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let c=Sa(e)??r,l=Qo(a,c),u=j2(l)?l.canDeactivate(t,e,n,i):gn(c,()=>l(t,e,n,i));return Li(u).pipe(xn())});return z(s).pipe(Ko())}function Q2(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return z(!0);let o=r.map(s=>{let a=Qo(s,t),c=F2(a)?a.canLoad(e,n):gn(t,()=>a(e,n));return Li(c)});return z(o).pipe(Ko(),Bb(i))}function Bb(t){return rf(ze(e=>{if(zo(e))throw Vb(t,e)}),X(e=>e===!0))}function Y2(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return z(!0);let o=r.map(s=>{let a=Qo(s,t),c=U2(a)?a.canMatch(e,n):gn(t,()=>a(e,n));return Li(c)});return z(o).pipe(Ko(),Bb(i))}var Ea=class{constructor(e){this.segmentGroup=e||null}},nd=class extends Error{constructor(e){super(),this.urlTree=e}};function Bo(t){return oo(new Ea(t))}function J2(t){return oo(new $(4e3,!1))}function Z2(t){return oo(Lb(!1,qt.GuardRejected))}var Ig=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return z(i);if(r.numberOfChildren>1||!r.children[ee])return J2(e.redirectTo);r=r.children[ee]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new nd(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Oi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Ie(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new $(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Eg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X2(t,e,n,i,r){let o=Mg(t,e,n);return o.matched?(i=x2(e,i),Y2(i,e,n,r).pipe(X(s=>s===!0?o:R({},Eg)))):z(o)}function Mg(t,e,n){if(e.path==="**")return eF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},Eg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Yk)(n,t,e);if(!r)return R({},Eg);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?R(R({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function eF(t){return{matched:!0,parameters:t.length>0?wb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function gb(t,e,n,i){return n.length>0&&iF(t,n,i)?{segmentGroup:new Ie(e,nF(i,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&rF(t,n,i)?{segmentGroup:new Ie(t.segments,tF(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function tF(t,e,n,i){let r={};for(let o of n)if(od(t,e,o)&&!i[Ln(o)]){let s=new Ie([],{});r[Ln(o)]=s}return R(R({},i),r)}function nF(t,e){let n={};n[ee]=e;for(let i of t)if(i.path===""&&Ln(i)!==ee){let r=new Ie([],{});n[Ln(i)]=r}return n}function iF(t,e,n){return n.some(i=>od(t,e,i)&&Ln(i)!==ee)}function rF(t,e,n){return n.some(i=>od(t,e,i))}function od(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function oF(t,e,n,i){return Ln(t)!==i&&(i===ee||!od(e,n,t))?!1:Mg(e,t,n).matched}function sF(t,e,n){return e.length===0&&!t.children[n]}var Cg=class{};function aF(t,e,n,i,r,o,s="emptyOnly"){return new bg(t,e,n,i,r,s,o).recognize()}var cF=31,bg=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ig(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=gb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(n=>{let i=new wa([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),r=new $t(i,n),o=new ed("",r),s=m2(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(vi(i=>{if(i instanceof nd)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ea?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Dg(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(X(o=>o instanceof $t?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Re(r).pipe(Yn(o=>{let s=i.children[o],a=A2(n,o);return this.processSegmentGroup(e,a,s,o)}),gf((o,s)=>(o.push(...s),o)),yi(null),mf(),He(o=>{if(o===null)return Bo(i);let s=$b(o);return lF(s),z(s)}))}processSegment(e,n,i,r,o,s){return Re(n).pipe(Yn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,o,s).pipe(vi(c=>{if(c instanceof Ea)return z(null);throw c}))),xn(a=>!!a),vi(a=>{if(Ub(a))return sF(i,r,o)?z(new Cg):Bo(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,o,s,a){return oF(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):Bo(r):Bo(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Mg(n,r,o);if(!a)return Bo(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cF&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,h).pipe(He(v=>this.processSegment(e,i,n,v.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=X2(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(Mt(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Mt(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:v}=a,y=new wa(u,v,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,dF(i),Ln(i),i.component??i._loadedComponent??null,i,hF(i)),{segmentGroup:D,slicedSegments:S}=gb(n,u,h,c);if(S.length===0&&D.hasChildren())return this.processChildren(l,c,D).pipe(X(F=>F===null?null:new $t(y,F)));if(c.length===0&&S.length===0)return z(new $t(y,[]));let A=Ln(i)===o;return this.processSegment(l,c,D,S,A?ee:o,!0).pipe(X(F=>new $t(y,F instanceof $t?[F]:[])))}))):Bo(n)))}getChildConfig(e,n,i){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):Q2(e,n,i,this.urlSerializer).pipe(He(r=>r?this.configLoader.loadChildren(e,n).pipe(ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Z2(n))):z({routes:[],injector:e})}};function lF(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function uF(t){let e=t.value.routeConfig;return e&&e.path===""}function $b(t){let e=[],n=new Set;for(let i of t){if(!uF(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=$b(i.children);e.push(new $t(i.value,r))}return e.filter(i=>!n.has(i))}function dF(t){return t.data||{}}function hF(t){return t.resolve||{}}function fF(t,e,n,i,r,o){return He(s=>aF(t,e,n,i,s.extractedUrl,r,o).pipe(X(({state:a,tree:c})=>te(R({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function pF(t,e){return He(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return z(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of qb(c))s.add(l);let a=0;return Re(s).pipe(Yn(c=>o.has(c)?mF(c,i,t,e):(c.data=Dg(c,c.parent,t).resolve,z(void 0))),ze(()=>a++),co(1),He(c=>a===s.size?z(n):jt))})}function qb(t){let e=t.children.map(n=>qb(n)).flat();return[t,...e]}function mF(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!kb(r)&&(o[ba]=r.title),gF(o,t,e,i).pipe(X(s=>(t._resolvedData=s,t.data=Dg(t,t.parent,n).resolve,null)))}function gF(t,e,n,i){let r=tg(t);if(r.length===0)return z({});let o={};return Re(r).pipe(He(s=>_F(t[s],e,n,i).pipe(xn(),ze(a=>{o[s]=a}))),co(1),pf(o),vi(s=>Ub(s)?jt:oo(s)))}function _F(t,e,n,i){let r=Sa(e)??i,o=Qo(t,r),s=o.resolve?o.resolve(e,n):gn(r,()=>o(e,n));return Li(s)}function Xm(t){return Mt(e=>{let n=t(e);return n?Re(n).pipe(X(()=>e)):z(e)})}var Gb=(()=>{class t{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ee);return i}getResolvedTitleForRoute(n){return n.data[ba]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(vF),providedIn:"root"})}}return t})(),vF=(()=>{class t extends Gb{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(B(wC))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Aa=new U("",{providedIn:"root",factory:()=>({})}),Ca=new U(""),Pg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(ru)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Li(n.loadComponent()).pipe(X(Hb),ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ir(()=>{this.componentLoaders.delete(n)})),r=new to(i,()=>new wt).pipe(eo());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=yF(i,this.compiler,n,this.onLoadEndListener).pipe(ir(()=>{this.childrenLoaders.delete(i)})),s=new to(o,()=>new wt).pipe(eo());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yF(t,e,n,i){return Li(t.loadChildren()).pipe(X(Hb),He(r=>r instanceof $s||Array.isArray(r)?z(r):Re(e.compileModuleAsync(r))),X(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Ca,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ag),injector:o}}))}function wF(t){return t&&typeof t=="object"&&"default"in t}function Hb(t){return wF(t)?t.default:t}var Rg=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(IF),providedIn:"root"})}}return t})(),IF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zb=new U(""),Wb=new U("");function EF(t,e,n){let i=t.get(Wb),r=t.get(mt);return t.get(we).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),CF(t))),{onViewTransitionCreated:c}=i;return c&&gn(t,()=>c({transition:a,from:e,to:n})),s})}function CF(t){return new Promise(e=>{eu(e,{injector:t})})}var Ng=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.transitionAbortSubject=new wt,this.configLoader=P(Pg),this.environmentInjector=P(ft),this.urlSerializer=P(Ta),this.rootContexts=P(Da),this.location=P(ko),this.inputBindingEnabled=P(rd,{optional:!0})!==null,this.titleStrategy=P(Gb),this.options=P(Aa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(Rg),this.createViewTransition=P(zb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let n=r=>this.events.next(new lg(r)),i=r=>this.events.next(new ug(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(te(R(R({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new rt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fa,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),X(o=>te(R({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Mt(o=>{let s=!1,a=!1;return z(o).pipe(Mt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",qt.SupersededByNewNavigation),jt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?te(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let h="";return this.events.next(new Fi(c.id,this.urlSerializer.serialize(c.rawUrl),h,Qu.IgnoredSameUrlNavigation)),c.resolve(null),jt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return z(c).pipe(Mt(h=>{let v=this.transitions?.getValue();return this.events.next(new Wo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),v!==this.transitions?.getValue()?jt:Promise.resolve(h)}),fF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=te(R({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let v=new Yu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:v,source:y,restoredState:D,extras:S}=c,A=new Wo(h,this.urlSerializer.serialize(v),y,D);this.events.next(A);let F=Nb(this.rootComponentType).snapshot;return this.currentTransition=o=te(R({},c),{targetSnapshot:F,urlAfterRedirects:v,extras:te(R({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,z(o)}else{let h="";return this.events.next(new Fi(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Qu.IgnoredByUrlHandlingStrategy)),c.resolve(null),jt}}),ze(c=>{let l=new og(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),X(c=>(this.currentTransition=o=te(R({},c),{guards:P2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),B2(this.environmentInjector,c=>this.events.next(c)),ze(c=>{if(o.guardsResult=c.guardsResult,zo(c.guardsResult))throw Vb(this.urlSerializer,c.guardsResult);let l=new sg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),At(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",qt.GuardRejected),!1)),Xm(c=>{if(c.guards.canActivateChecks.length)return z(c).pipe(ze(l=>{let u=new ag(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Mt(l=>{let u=!1;return z(l).pipe(pF(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",qt.NoDataFromResolver)}}))}),ze(l=>{let u=new cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Xm(c=>{let l=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(ze(v=>{u.component=v}),X(()=>{})));for(let v of u.children)h.push(...l(v));return h};return Ps(l(c.targetSnapshot.root)).pipe(yi(null),Jn(1))}),Xm(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Re(u).pipe(X(()=>o)):z(o)}),X(c=>{let l=C2(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=te(R({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ze(()=>{this.events.next(new va)}),M2(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Jn(1),ze({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),vf(this.transitionAbortSubject.pipe(ze(c=>{throw c}))),ir(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",qt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),vi(c=>{if(a=!0,jb(c))this.events.next(new ki(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),D2(c)?this.events.next(new ya(c.url)):o.resolve(!1);else{this.events.next(new _a(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return jt}))}))}cancelNavigationTransition(n,i,r){let o=new ki(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function bF(t){return t!==fa}var TF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(DF),providedIn:"root"})}}return t})(),Tg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},DF=(()=>{class t extends Tg{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xt(t)))(r||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Kb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(SF),providedIn:"root"})}}return t})(),SF=(()=>{class t extends Kb{constructor(){super(...arguments),this.location=P(ko),this.urlSerializer=P(Ta),this.options=P(Aa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(Rg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Oi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Nb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Wo)this.stateMemento=this.createStateMemento();else if(n instanceof Fi)this.rawUrlTree=i.initialUrl;else if(n instanceof Yu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else n instanceof va?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof ki&&(n.code===qt.GuardRejected||n.code===qt.NoDataFromResolver)?this.restoreHistory(i):n instanceof _a?this.restoreHistory(i,!0):n instanceof ci&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=R(R({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=R(R({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xt(t)))(r||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),da=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(da||{});function Qb(t,e){t.events.pipe(At(n=>n instanceof ci||n instanceof ki||n instanceof _a||n instanceof Fi),X(n=>n instanceof ci||n instanceof Fi?da.COMPLETE:(n instanceof ki?n.code===qt.Redirect||n.code===qt.SupersededByNewNavigation:!1)?da.REDIRECTING:da.FAILED),At(n=>n!==da.REDIRECTING),Jn(1)).subscribe(()=>{e()})}function xF(t){throw t}var AF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vi=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=P(nu),this.stateManager=P(Kb),this.options=P(Aa,{optional:!0})||{},this.pendingTasks=P(Ao),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(Ng),this.urlSerializer=P(Ta),this.location=P(ko),this.urlHandlingStrategy=P(Rg),this._events=new wt,this.errorHandler=this.options.errorHandler||xF,this.navigated=!1,this.routeReuseStrategy=P(TF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Ca,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(rd,{optional:!0}),this.eventsSubscription=new Be,this.isNgZoneEnabled=P(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ki&&i.code!==qt.Redirect&&i.code!==qt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ci)this.navigated=!0;else if(i instanceof ya){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||bF(r.source)};this.scheduleNavigation(s,fa,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}RF(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=R({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ag),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,u=null;switch(a){case"merge":u=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let v=r?r.snapshot:this.routerState.snapshot.root;h=Ab(v)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return Mb(h,n,u,l??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=zo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,fa,null,i)}navigate(n,i={skipLocationChange:!1}){return PF(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=R({},AF):i===!1?r=R({},MF):r=i,zo(n))return db(this.currentUrlTree,n,r);let o=this.parseUrl(n);return db(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,v)=>{a=h,c=v});let u=this.pendingTasks.add();return Qb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function RF(t){return!(t instanceof va)&&!(t instanceof ya)}var id=class{};var NF=(()=>{class t{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(At(n=>n instanceof ci),Yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=tu(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Re(r).pipe(so())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=z(null);let o=r.pipe(He(s=>s===null?z(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Re([o,s]).pipe(so())}else return o})}static{this.\u0275fac=function(i){return new(i||t)(B(Vi),B(ru),B(ft),B(id),B(Pg))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yb=new U(""),OF=(()=>{class t{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=P(ft),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Wo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ci?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Fi&&n.code===Qu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ju&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),eu(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ju(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){tE()}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function Jb(t,...e){return Do([{provide:Ca,multi:!0,useValue:t},[],{provide:li,useFactory:Zb,deps:[Vi]},{provide:Qs,multi:!0,useFactory:Xb},e.map(n=>n.\u0275providers)])}function Zb(t){return t.routerState.root}function Ma(t,e){return{\u0275kind:t,\u0275providers:e}}function Xb(){let t=P(kt);return e=>{let n=t.get(No);if(e!==n.components[0])return;let i=t.get(Vi),r=t.get(eT);t.get(Og)===1&&i.initialNavigation(),t.get(tT,null,ne.Optional)?.setUpPreloading(),t.get(Yb,null,ne.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var eT=new U("",{factory:()=>new wt}),Og=new U("",{providedIn:"root",factory:()=>1});function kF(){return Ma(2,[{provide:Og,useValue:0},{provide:iu,multi:!0,deps:[kt],useFactory:e=>{let n=e.get(KE,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Vi),o=e.get(eT);Qb(r,()=>{i(!0)}),e.get(Ng).afterPreactivation=()=>(i(!0),o.closed?z(void 0):o),r.initialNavigation()}))}}])}function FF(){return Ma(3,[{provide:iu,multi:!0,useFactory:()=>{let e=P(Vi);return()=>{e.setUpLocationChangeListener()}}},{provide:Og,useValue:2}])}var tT=new U("");function VF(t){return Ma(0,[{provide:tT,useExisting:NF},{provide:id,useExisting:t}])}function LF(){return Ma(8,[mb,{provide:rd,useExisting:mb}])}function jF(t){let e=[{provide:zb,useValue:EF},{provide:Wb,useValue:R({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ma(9,e)}var _b=new U("ROUTER_FORROOT_GUARD"),UF=[ko,{provide:Ta,useClass:ma},Vi,Da,{provide:li,useFactory:Zb,deps:[Vi]},Pg,[]],nT=(()=>{class t{constructor(n){}static forRoot(n,i){return{ngModule:t,providers:[UF,[],{provide:Ca,multi:!0,useValue:n},{provide:_b,useFactory:GF,deps:[[Vi,new Jt,new Cp]]},{provide:Aa,useValue:i||{}},i?.useHash?$F():qF(),BF(),i?.preloadingStrategy?VF(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?HF(i):[],i?.bindToComponentInputs?LF().\u0275providers:[],i?.enableViewTransitions?jF().\u0275providers:[],zF()]}}static forChild(n){return{ngModule:t,providers:[{provide:Ca,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||t)(B(_b,8))}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({})}}return t})();function BF(){return{provide:Yb,useFactory:()=>{let t=P(nC),e=P(we),n=P(Aa),i=P(Ng),r=P(Ta);return n.scrollOffset&&t.setOffset(n.scrollOffset),new OF(r,i,t,e,n)}}}function $F(){return{provide:vr,useClass:YE}}function qF(){return{provide:vr,useClass:gm}}function GF(t){return"guarded"}function HF(t){return[t.initialNavigation==="disabled"?FF().\u0275providers:[],t.initialNavigation==="enabledBlocking"?kF().\u0275providers:[]]}var vb=new U("");function zF(){return[{provide:vb,useFactory:Xb},{provide:Qs,multi:!0,useExisting:vb}]}var oT=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},WF=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],a=t[n++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},sT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,a=s?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=o>>2,h=(o&3)<<4|a>>4,v=(a&15)<<2|l>>6,y=l&63;c||(y=64,s||(v=64)),i.push(n[u],n[h],n[v],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let h=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||a==null||l==null||h==null)throw new Fg;let v=o<<2|a>>4;if(i.push(v),l!==64){let y=a<<4&240|l>>2;if(i.push(y),h!==64){let D=l<<6&192|h;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},KF=function(t){let e=oT(t);return sT.encodeByteArray(e,!0)},Pa=function(t){return KF(t).replace(/\./g,"")},Lg=function(t){try{return sT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var YF=()=>QF().__FIREBASE_DEFAULTS__,JF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Lg(t[1]);return e&&JSON.parse(e)},jg=()=>{try{return YF()||JF()||ZF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aT=t=>{var e,n;return(n=(e=jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cT=t=>{let e=aT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Ug=()=>{var t;return(t=jg())===null||t===void 0?void 0:t.config},lT=t=>{var e;return(e=jg())===null||e===void 0?void 0:e[`_${t}`]};var sd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function uT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pa(JSON.stringify(n)),Pa(JSON.stringify(s)),""].join(".")}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function hT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bg(){try{return typeof indexedDB=="object"}catch{return!1}}function pT(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var XF="FirebaseError",an=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=XF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ui.prototype.create)}},ui=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?eV(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new an(r,a,i)}};function eV(t,e){return t.replace(tV,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var tV=/\{\$([^}]+)}/g;function Yo(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if(rT(o)&&rT(s)){if(!Yo(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function rT(t){return t!==null&&typeof t=="object"}function $g(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mT(t,e){let n=new Vg(t,e);return n.subscribe.bind(n)}var Vg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");nV(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=kg),r.error===void 0&&(r.error=kg),r.complete===void 0&&(r.complete=kg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function nV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kg(){}var z7=4*60*60*1e3;function Tt(t){return t&&t._delegate?t._delegate:t}var ln=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Cr="[DEFAULT]";var qg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new sd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rV(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iV(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iV(t){return t===Cr?void 0:t}function rV(t){return t.instantiationMode==="EAGER"}var ad=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var oV=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),sV={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},aV=ce.INFO,cV={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},lV=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=cV[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ji=class{constructor(e){this.name=e,this._logLevel=aV,this._logHandler=lV,this._userLogHandler=null,oV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var uV=(t,e)=>e.some(n=>t instanceof n),gT,_T;function dV(){return gT||(gT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hV(){return _T||(_T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vT=new WeakMap,Hg=new WeakMap,yT=new WeakMap,Gg=new WeakMap,Wg=new WeakMap;function fV(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(jn(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&vT.set(n,t)}).catch(()=>{}),Wg.set(e,t),e}function pV(t){if(Hg.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Hg.set(t,e)}var zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wT(t){zg=t(zg)}function mV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(cd(this),e,...n);return yT.set(i,e.sort?e.sort():[e]),jn(i)}:hV().includes(t)?function(...e){return t.apply(cd(this),e),jn(vT.get(this))}:function(...e){return jn(t.apply(cd(this),e))}}function gV(t){return typeof t=="function"?mV(t):(t instanceof IDBTransaction&&pV(t),uV(t,dV())?new Proxy(t,zg):t)}function jn(t){if(t instanceof IDBRequest)return fV(t);if(Gg.has(t))return Gg.get(t);let e=gV(t);return e!==t&&(Gg.set(t,e),Wg.set(e,t)),e}var cd=t=>Wg.get(t);function ET(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),a=jn(s);return i&&s.addEventListener("upgradeneeded",c=>{i(jn(s.result),c.oldVersion,c.newVersion,jn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var _V=["get","getKey","getAll","getAllKeys","count"],vV=["put","add","delete","clear"],Kg=new Map;function IT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kg.get(e))return Kg.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=vV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_V.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return Kg.set(e,o),o}wT(t=>te(R({},t),{get:(e,n,i)=>IT(e,n)||t.get(e,n,i),has:(e,n)=>!!IT(e,n)||t.has(e,n)}));var Yg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yV(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function yV(t){let e=t.getComponent();return e?.type==="VERSION"}var Jg="@firebase/app",CT="0.9.24";var br=new ji("@firebase/app"),wV="@firebase/app-compat",IV="@firebase/analytics-compat",EV="@firebase/analytics",CV="@firebase/app-check-compat",bV="@firebase/app-check",TV="@firebase/auth",DV="@firebase/auth-compat",SV="@firebase/database",xV="@firebase/database-compat",AV="@firebase/functions",MV="@firebase/functions-compat",PV="@firebase/installations",RV="@firebase/installations-compat",NV="@firebase/messaging",OV="@firebase/messaging-compat",kV="@firebase/performance",FV="@firebase/performance-compat",VV="@firebase/remote-config",LV="@firebase/remote-config-compat",jV="@firebase/storage",UV="@firebase/storage-compat",BV="@firebase/firestore",$V="@firebase/firestore-compat",qV="firebase",GV="10.7.0";var Zg="[DEFAULT]",HV={[Jg]:"fire-core",[wV]:"fire-core-compat",[EV]:"fire-analytics",[IV]:"fire-analytics-compat",[bV]:"fire-app-check",[CV]:"fire-app-check-compat",[TV]:"fire-auth",[DV]:"fire-auth-compat",[SV]:"fire-rtdb",[xV]:"fire-rtdb-compat",[AV]:"fire-fn",[MV]:"fire-fn-compat",[PV]:"fire-iid",[RV]:"fire-iid-compat",[NV]:"fire-fcm",[OV]:"fire-fcm-compat",[kV]:"fire-perf",[FV]:"fire-perf-compat",[VV]:"fire-rc",[LV]:"fire-rc-compat",[jV]:"fire-gcs",[UV]:"fire-gcs-compat",[BV]:"fire-fst",[$V]:"fire-fst-compat","fire-js":"fire-js",[qV]:"fire-js-all"};var Ra=new Map,Xg=new Map;function zV(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bi(t){let e=t.name;if(Xg.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;Xg.set(e,t);for(let n of Ra.values())zV(n,t);return!0}function i_(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var WV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ui=new ui("app","Firebase",WV);var e_=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}};var Jo=GV;function r_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ui.create("bad-app-name",{appName:String(r)});if(n||(n=Ug()),!n)throw Ui.create("no-options");let o=Ra.get(r);if(o){if(Yo(n,o.options)&&Yo(i,o.config))return o;throw Ui.create("duplicate-app",{appName:r})}let s=new ad(r);for(let c of Xg.values())s.addComponent(c);let a=new e_(n,i,s);return Ra.set(r,a),a}function Oa(t=Zg){let e=Ra.get(t);if(!e&&t===Zg&&Ug())return r_();if(!e)throw Ui.create("no-app",{appName:t});return e}function ld(){return Array.from(Ra.values())}function et(t,e,n){var i;let r=(i=HV[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(a.join(" "));return}Bi(new ln(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var KV="firebase-heartbeat-database",QV=1,Na="firebase-heartbeat-store",Qg=null;function ST(){return Qg||(Qg=ET(KV,QV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Na)}}}).catch(t=>{throw Ui.create("idb-open",{originalErrorMessage:t.message})})),Qg}function YV(t){return E(this,null,function*(){try{return yield(yield ST()).transaction(Na).objectStore(Na).get(xT(t))}catch(e){if(e instanceof an)br.warn(e.message);else{let n=Ui.create("idb-get",{originalErrorMessage:e?.message});br.warn(n.message)}}})}function bT(t,e){return E(this,null,function*(){try{let i=(yield ST()).transaction(Na,"readwrite");yield i.objectStore(Na).put(e,xT(t)),yield i.done}catch(n){if(n instanceof an)br.warn(n.message);else{let i=Ui.create("idb-set",{originalErrorMessage:n?.message});br.warn(i.message)}}})}function xT(t){return`${t.name}!${t.options.appId}`}var JV=1024,ZV=30*24*60*60*1e3,t_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new n_(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=ZV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=TT(),{heartbeatsToSend:i,unsentEntries:r}=XV(this._heartbeatsCache.heartbeats),o=Pa(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function TT(){return new Date().toISOString().substring(0,10)}function XV(t,e=JV){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),DT(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),DT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var n_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Bg()?pT().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield YV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return bT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return bT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function DT(t){return Pa(JSON.stringify({version:2,heartbeats:t})).length}function eL(t){Bi(new ln("platform-logger",e=>new Yg(e),"PRIVATE")),Bi(new ln("heartbeat",e=>new t_(e),"PRIVATE")),et(Jg,CT,t),et(Jg,CT,"esm2017"),et("fire-js","")}eL("");var tL="firebase",nL="10.7.0";et(tL,nL,"app");var Xo=new ei("ANGULARFIRE2_VERSION");function s_(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Fa=(t,e)=>{let n=e?[e]:ld(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},ka=class{constructor(){return Fa(iL)}},iL="app-check";function Zo(){}var ud=class{zone;delegate;constructor(e,n=uf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},o_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo)),n.pipe(ze({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Va=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ud(Zone.current)),this.insideAngular=n.run(()=>new ud(Zone.current,lf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(B(we))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function rL(t){return dd().ngZone.runOutsideAngular(()=>t())}function Tr(t){return dd().ngZone.run(()=>t())}function oL(t){return sL(dd())(t)}function sL(t){return function(n){return n=n.lift(new o_(t.ngZone)),n.pipe(_i(t.outsideAngular),gi(t.insideAngular))}}var aL=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Tr(()=>t.apply(void 0,i))},Gt=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Tr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo))),i[o]=aL(i[o],n));let r=rL(()=>t.apply(this,i));if(!e)if(r instanceof oe){let o=dd();return r.pipe(_i(o.outsideAngular),gi(o.insideAngular))}else return Tr(()=>r);return r instanceof oe?r.pipe(oL):r instanceof Promise?Tr(()=>new Promise((o,s)=>r.then(a=>Tr(()=>o(a)),a=>Tr(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Tr(()=>r)};var Dr=class{constructor(e){return e}},La=class{constructor(){return ld()}};function cL(t){return t&&t.length===1?t[0]:new Dr(Oa())}var a_=new U("angularfire2._apps"),lL={provide:Dr,useFactory:cL,deps:[[new Jt,a_]]},uL={provide:La,deps:[[new Jt,a_]]};function dL(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Dr(i)}}var hL=(()=>{class t{constructor(n){et("angularfire",Xo.full,"core"),et("angularfire",Xo.full,"app"),et("angular",NE.full,n.toString())}static \u0275fac=function(i){return new(i||t)(B(en))};static \u0275mod=Nt({type:t});static \u0275inj=Rt({providers:[lL,uL]})}return t})();function AT(t,...e){return{ngModule:hL,providers:[{provide:a_,useFactory:dL(t),multi:!0,deps:[we,kt,Va,...e]}]}}var MT=Gt(r_,!0);function VT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var LT=VT,jT=new ui("auth","Firebase",VT());var pd=new ji("@firebase/auth");function pL(t,...e){pd.logLevel<=ce.WARN&&pd.warn(`Auth (${Jo}): ${t}`,...e)}function fd(t,...e){pd.logLevel<=ce.ERROR&&pd.error(`Auth (${Jo}): ${t}`,...e)}function PT(t,...e){throw v_(t,...e)}function UT(t,...e){return v_(t,...e)}function mL(t,e,n){let i=Object.assign(Object.assign({},LT()),{[e]:n});return new ui("auth","Firebase",i).create(e,{appName:t.name})}function v_(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return jT.create(t,...e)}function Ce(t,e,...n){if(!t)throw v_(e,...n)}function ja(t){let e="INTERNAL ASSERTION FAILED: "+t;throw fd(e),new Error(e)}function md(t,e){t||ja(e)}function gL(){return RT()==="http:"||RT()==="https:"}function RT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function _L(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gL()||hT()||"connection"in navigator)?navigator.onLine:!0}function vL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var xr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,md(n>e,"Short delay should be less than long delay!"),this.isMobile=dT()||fT()}get(){return _L()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function yL(t,e){md(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var gd=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var IL=new xr(3e4,6e4);function BT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Cd(o,s,a,c){return E(this,arguments,function*(t,e,n,i,r={}){return $T(t,r,()=>E(this,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let h=$g(Object.assign({key:t.config.apiKey},u)).slice(1),v=yield t._getAdditionalHeaders();return v["Content-Type"]="application/json",t.languageCode&&(v["X-Firebase-Locale"]=t.languageCode),gd.fetch()(qT(t,t.config.apiHost,n,h),Object.assign({method:e,headers:v,referrerPolicy:"no-referrer"},l))}))})}function $T(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},wL),e);try{let r=new u_(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw hd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw hd(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw hd(t,"user-disabled",s);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw mL(t,u,l);PT(t,u)}}catch(r){if(r instanceof an)throw r;PT(t,"network-request-failed",{message:String(r)})}})}function qT(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?yL(t.config,r):`${t.config.apiScheme}://${r}`}var u_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(UT(this.auth,"network-request-failed")),IL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function hd(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=UT(t,e,i);return r.customData._tokenResponse=n,r}function EL(t,e){return E(this,null,function*(){return Cd(t,"POST","/v1/accounts:delete",e)})}function CL(t,e){return E(this,null,function*(){return Cd(t,"POST","/v1/accounts:lookup",e)})}function Ua(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function y_(t,e=!1){return E(this,null,function*(){let n=Tt(t),i=yield n.getIdToken(e),r=GT(i);Ce(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Ua(c_(r.auth_time)),issuedAtTime:Ua(c_(r.iat)),expirationTime:Ua(c_(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function c_(t){return Number(t)*1e3}function GT(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{let r=Lg(n);return r?JSON.parse(r):(fd("Failed to decode base64 JWT payload"),null)}catch(r){return fd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function bL(t){let e=GT(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function d_(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof an&&TL(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function TL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var h_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var _d=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vd(t){return E(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield d_(t,CL(n,{idToken:i}));Ce(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?SL(o.providerUserInfo):[],a=DL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new _d(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,h)})}function w_(t){return E(this,null,function*(){let e=Tt(t);yield vd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function DL(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function SL(t){return t.map(e=>{var{providerId:n}=e,i=df(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function xL(t,e){return E(this,null,function*(){let n=yield $T(t,{},()=>E(this,null,function*(){let i=$g({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=qT(t,r,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gd.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function AL(t,e){return E(this,null,function*(){return Cd(t,"POST","/v2/accounts:revokeToken",BT(t,e))})}var yd=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return E(this,null,function*(){return Ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield xL(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new t;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(Ce(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(Ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ja("not implemented")}};function $i(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var wd=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=df(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _d(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield d_(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return y_(this,e)}reload(){return w_(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield vd(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){let e=yield this.getIdToken();return yield d_(this,EL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,a,c,l,u;let h=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ue=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:H,emailVerified:ye,isAnonymous:Je,providerData:pe,stsTokenManager:ht}=n;Ce(H&&ht,e,"internal-error");let Sn=yd.fromJSON(this.name,ht);Ce(typeof H=="string",e,"internal-error"),$i(h,e.name),$i(v,e.name),Ce(typeof ye=="boolean",e,"internal-error"),Ce(typeof Je=="boolean",e,"internal-error"),$i(y,e.name),$i(D,e.name),$i(S,e.name),$i(A,e.name),$i(F,e.name),$i(ue,e.name);let Zi=new t({uid:H,auth:e,email:v,emailVerified:ye,displayName:h,isAnonymous:Je,photoURL:D,phoneNumber:y,tenantId:S,stsTokenManager:Sn,createdAt:F,lastLoginAt:ue});return pe&&Array.isArray(pe)&&(Zi.providerData=pe.map(Kr=>Object.assign({},Kr))),A&&(Zi._redirectEventId=A),Zi}static _fromIdTokenResponse(e,n,i=!1){return E(this,null,function*(){let r=new yd;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield vd(o),o})}};var NT=new Map;function Sr(t){md(t instanceof Function,"Expected a class definition");let e=NT.get(t);return e?(md(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NT.set(t,e),e)}var ML=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,i){return E(this,null,function*(){this.storage[n]=i})}_get(n){return E(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),f_=ML;function l_(t,e,n){return`firebase:${t}:${e}:${n}`}var Id=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=l_(this.userKey,r.apiKey,o),this.fullPersistenceKey=l_("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?wd._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return E(this,null,function*(){if(!n.length)return new t(Sr(f_),e,i);let r=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Sr(f_),s=l_(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let h=wd._fromJSON(e,u);l!==o&&(a=h),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,i))})}};function OT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FL(e))return"Blackberry";if(VL(e))return"Webos";if(RL(e))return"Safari";if((e.includes("chrome/")||NL(e))&&!e.includes("edge/"))return"Chrome";if(kL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function PL(t=cn()){return/firefox\//i.test(t)}function RL(t=cn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NL(t=cn()){return/crios\//i.test(t)}function OL(t=cn()){return/iemobile/i.test(t)}function kL(t=cn()){return/android/i.test(t)}function FL(t=cn()){return/blackberry/i.test(t)}function VL(t=cn()){return/webos/i.test(t)}function HT(t,e=[]){let n;switch(t){case"Browser":n=OT(cn());break;case"Worker":n=`${OT(cn())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${i}`}var p_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function LL(n){return E(this,arguments,function*(t,e={}){return Cd(t,"GET","/v2/passwordPolicy",BT(t,e))})}var jL=6,m_=class{constructor(e){var n,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:jL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var g_=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ed(this),this.idTokenSubscription=new Ed(this),this.beforeStateQueue=new p_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Id.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield vd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=vL()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){let n=e?Tt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield LL(this),n=new m_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ui("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield AL(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Sr(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=yield Id.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&pL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function UL(t){return Tt(t)}var Ed=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=mT(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function BL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function $L(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}var UK=BL("rcb"),BK=new xr(3e4,6e4);var $K=new xr(2e3,1e4);var qK=10*60*1e3;var GK=new xr(3e4,6e4);var HK=new xr(5e3,15e3);var zK=encodeURIComponent("fac");var kT="@firebase/auth",FT="1.5.0";var __=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function qL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function GL(t){Bi(new ln("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;Ce(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(t)},l=new g_(i,r,o,c);return $L(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Bi(new ln("auth-internal",e=>{let n=UL(e.getProvider("auth").getImmediate());return(i=>new __(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(kT,FT,qL(t)),et(kT,FT,"esm2017")}var HL=5*60,WK=lT("authIdTokenMaxAge")||HL;GL("Browser");var Gj="auth";var bd=class{constructor(){return Fa(Gj)}};var Hj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},En={},N,$_=$_||{},Q=Hj||self;function Ld(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ec(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function zj(t){return Object.prototype.hasOwnProperty.call(t,I_)&&t[I_]||(t[I_]=++Wj)}var I_="closure_uid_"+(1e9*Math.random()>>>0),Wj=0;function Kj(t,e,n){return t.call.apply(t.bind,arguments)}function Qj(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt=Kj:gt=Qj,gt.apply(null,arguments)}function Td(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function qi(){this.s=this.s,this.o=this.o}var Yj=0;qi.prototype.s=!1;qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Yj!=0)&&zj(this)};qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var rD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function q_(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function zT(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(Ld(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=i[s]}else t.push(i)}}function _t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var Jj=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function za(t){return/^[\s\xa0]*$/.test(t)}function jd(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Un(t){return jd().indexOf(t)!=-1}function G_(t){return G_[" "](t),t}G_[" "]=function(){};function Zj(t,e){var n=U3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Xj=Un("Opera"),is=Un("Trident")||Un("MSIE"),oD=Un("Edge"),D_=oD||is,sD=Un("Gecko")&&!(jd().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge"))&&!(Un("Trident")||Un("MSIE"))&&!Un("Edge"),e3=jd().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge");function aD(){var t=Q.document;return t?t.documentMode:void 0}var S_;e:{if(Dd="",Sd=function(){var t=jd();if(sD)return/rv:([^\);]+)(\)|;)/.exec(t);if(oD)return/Edge\/([\d\.]+)/.exec(t);if(is)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(e3)return/WebKit\/(\S+)/.exec(t);if(Xj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Sd&&(Dd=Sd?Sd[1]:""),is&&(xd=aD(),xd!=null&&xd>parseFloat(Dd))){S_=String(xd);break e}S_=Dd}var Dd,Sd,xd,x_;Q.document&&is?(E_=aD(),x_=E_||parseInt(S_,10)||void 0):x_=void 0;var E_,t3=x_;function Wa(t,e){if(_t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sD){e:{try{G_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:n3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wa.$.h.call(this)}}nt(Wa,_t);var n3={2:"touch",3:"pen",4:"mouse"};Wa.prototype.h=function(){Wa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tc="closure_listenable_"+(1e6*Math.random()|0),i3=0;function r3(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++i3,this.fa=this.ia=!1}function Ud(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function H_(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function o3(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function cD(t){let e={};for(let n in t)e[n]=t[n];return e}var WT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lD(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<WT.length;o++)n=WT[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Bd(t){this.src=t,this.g={},this.h=0}Bd.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=M_(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new r3(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function A_(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=rD(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Ud(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function M_(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var z_="closure_lm_"+(1e6*Math.random()|0),C_={};function uD(t,e,n,i,r){if(i&&i.once)return hD(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)uD(t,e[o],n,i,r);return null}return n=Q_(n),t&&t[tc]?t.O(e,n,ec(i)?!!i.capture:!!i,r):dD(t,e,n,!1,i,r)}function dD(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=ec(r)?!!r.capture:!!r,a=K_(t);if(a||(t[z_]=a=new Bd(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=s3(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Jj||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(pD(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function s3(){function t(n){return e.call(t.src,t.listener,n)}let e=a3;return t}function hD(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)hD(t,e[o],n,i,r);return null}return n=Q_(n),t&&t[tc]?t.P(e,n,ec(i)?!!i.capture:!!i,r):dD(t,e,n,!0,i,r)}function fD(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)fD(t,e[o],n,i,r);else i=ec(i)?!!i.capture:!!i,n=Q_(n),t&&t[tc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=M_(o,n,i,r),-1<n&&(Ud(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=K_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=M_(e,n,i,r)),(n=-1<t?e[t]:null)&&W_(n))}function W_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[tc])A_(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(pD(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=K_(e))?(A_(n,t),n.h==0&&(n.src=null,e[z_]=null)):Ud(t)}}}function pD(t){return t in C_?C_[t]:C_[t]="on"+t}function a3(t,e){if(t.fa)t=!0;else{e=new Wa(e,this);var n=t.listener,i=t.la||t.src;t.ia&&W_(t),t=n.call(i,e)}return t}function K_(t){return t=t[z_],t instanceof Bd?t:null}var b_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q_(t){return typeof t=="function"?t:(t[b_]||(t[b_]=function(e){return t.handleEvent(e)}),t[b_])}function tt(){qi.call(this),this.i=new Bd(this),this.S=this,this.J=null}nt(tt,qi);tt.prototype[tc]=!0;tt.prototype.removeEventListener=function(t,e,n,i){fD(this,t,e,n,i)};function ut(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new _t(e,t);else if(e instanceof _t)e.target=e.target||t;else{var r=e;e=new _t(i,t),lD(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=Ad(s,i,!0,e)&&r}if(s=e.g=t,r=Ad(s,i,!0,e)&&r,r=Ad(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=Ad(s,i,!1,e)&&r}tt.prototype.N=function(){if(tt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Ud(n[i]);delete t.g[e],t.h--}}this.J=null};tt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};tt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Ad(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&A_(t.i,s),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var Y_=Q.JSON.stringify,P_=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function c3(){var t=J_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var R_=class{constructor(){this.h=this.g=null}add(e,n){let i=mD.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},mD=new P_(()=>new N_,t=>t.reset()),N_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function l3(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function u3(t){Q.setTimeout(()=>{throw t},0)}var Ka,Qa=!1,J_=new R_,gD=()=>{let t=Q.Promise.resolve(void 0);Ka=()=>{t.then(d3)}},d3=()=>{for(var t;t=c3();){try{t.h.call(t.g)}catch(n){u3(n)}var e=mD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qa=!1};function $d(t,e){tt.call(this),this.h=t||1,this.g=e||Q,this.j=gt(this.qb,this),this.l=Date.now()}nt($d,tt);N=$d.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(Z_(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Z_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){$d.$.N.call(this),Z_(this),delete this.g};function X_(t,e,n){if(typeof t=="function")n&&(t=gt(t,n));else if(t&&typeof t.handleEvent=="function")t=gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function _D(t){t.g=X_(()=>{t.g=null,t.i&&(t.i=!1,_D(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var O_=class extends qi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_D(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ya(t){qi.call(this),this.h=t,this.g={}}nt(Ya,qi);var KT=[];function vD(t,e,n,i){Array.isArray(n)||(n&&(KT[0]=n.toString()),n=KT);for(var r=0;r<n.length;r++){var o=uD(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function yD(t){H_(t.g,function(e,n){this.g.hasOwnProperty(n)&&W_(e)},t),t.g={}}Ya.prototype.N=function(){Ya.$.N.call(this),yD(this)};Ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qd(){this.g=!0}qd.prototype.Ea=function(){this.g=!1};function h3(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&h[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+s})}function f3(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+s})}function ts(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+m3(t,n)+(i?" "+i:"")})}function p3(t,e){t.info(function(){return"TIMEOUT: "+e})}qd.prototype.info=function(){};function m3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return Y_(n)}catch{return e}}var Rr={},QT=null;function Gd(){return QT=QT||new tt}Rr.Ta="serverreachability";function wD(t){_t.call(this,Rr.Ta,t)}nt(wD,_t);function Ja(t){let e=Gd();ut(e,new wD(e))}Rr.STAT_EVENT="statevent";function ID(t,e){_t.call(this,Rr.STAT_EVENT,t),this.stat=e}nt(ID,_t);function Dt(t){let e=Gd();ut(e,new ID(e,t))}Rr.Ua="timingevent";function ED(t,e){_t.call(this,Rr.Ua,t),this.size=e}nt(ED,_t);function nc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var Hd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},CD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ev(){}ev.prototype.h=null;function YT(t){return t.h||(t.h=t.i())}function bD(){}var ic={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tv(){_t.call(this,"d")}nt(tv,_t);function nv(){_t.call(this,"c")}nt(nv,_t);var k_;function zd(){}nt(zd,ev);zd.prototype.g=function(){return new XMLHttpRequest};zd.prototype.i=function(){return{}};k_=new zd;function rc(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Ya(this),this.P=g3,t=D_?125:void 0,this.V=new $d(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new TD}function TD(){this.i=null,this.g="",this.h=!1}var g3=45e3,DD={},F_={};N=rc.prototype;N.setTimeout=function(t){this.P=t};function V_(t,e,n){t.L=1,t.A=Kd(hi(e)),t.u=n,t.S=!0,SD(t,null)}function SD(t,e){t.G=Date.now(),oc(t),t.B=hi(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),kD(n.i,"t",i),t.o=0,n=t.l.J,t.h=new TD,t.g=n1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new O_(gt(t.Pa,t,t.g),t.O)),vD(t.U,t.g,"readystatechange",t.nb),e=t.I?cD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ja(),h3(t.j,t.v,t.B,t.m,t.W,t.u)}N.nb=function(t){t=t.target;let e=this.M;e&&Bn(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{let u=Bn(this.g);var e=this.g.Ia();let h=this.g.da();if(!(3>u)&&(u!=3||D_||this.g&&(this.h.h||this.g.ja()||eD(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Ja(3):Ja(2)),Wd(this);var n=this.g.da();this.ca=n;t:if(xD(this)){var i=eD(this.g);t="";var r=i.length,o=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),Ha(this);var s="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,f3(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!za(a)){var l=a;break t}}l=null}if(n=l)ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,L_(this,n);else{this.i=!1,this.s=3,Dt(12),Ar(this),Ha(this);break e}}this.S?(AD(this,u,s),D_&&this.i&&u==3&&(vD(this.U,this.V,"tick",this.mb),this.V.start())):(ts(this.j,this.m,s,null),L_(this,s)),u==4&&Ar(this),this.i&&!this.J&&(u==4?ZD(this.l,this):(this.i=!1,oc(this)))}else V3(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Ar(this),Ha(this)}}}catch{}finally{}};function xD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function AD(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=_3(t,n),r==F_){e==4&&(t.s=4,Dt(14),i=!1),ts(t.j,t.m,null,"[Incomplete Response]");break}else if(r==DD){t.s=4,Dt(15),ts(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else ts(t.j,t.m,r,null),L_(t,r);xD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Dt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cv(e),e.M=!0,Dt(11))):(ts(t.j,t.m,n,"[Invalid Chunked Response]"),Ar(t),Ha(t))}N.mb=function(){if(this.g){var t=Bn(this.g),e=this.g.ja();this.o<e.length&&(Wd(this),AD(this,t,e),this.i&&t!=4&&oc(this))}};function _3(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?F_:(n=Number(e.substring(n,i)),isNaN(n)?DD:(i+=1,i+n>e.length?F_:(e=e.slice(i,i+n),t.o=i+n,e)))}N.cancel=function(){this.J=!0,Ar(this)};function oc(t){t.Y=Date.now()+t.P,MD(t,t.P)}function MD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=nc(gt(t.lb,t),e)}function Wd(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}N.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(p3(this.j,this.B),this.L!=2&&(Ja(),Dt(17)),Ar(this),this.s=2,Ha(this)):MD(this,this.Y-t)};function Ha(t){t.l.H==0||t.J||ZD(t.l,t)}function Ar(t){Wd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Z_(t.V),yD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function L_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||j_(n.i,t))){if(!t.K&&j_(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Od(n),Jd(n);else break e;av(n),Dt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=nc(gt(n.ib,n),6e3));if(1>=LD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Mr(n,11)}else if((t.K||n.g==t)&&Od(n),!za(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));let v=l[5];v!=null&&typeof v=="number"&&0<v&&(i=1.5*v,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let y=t.g;if(y){let D=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var o=i.i;o.g||D.indexOf("spdy")==-1&&D.indexOf("quic")==-1&&D.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(iv(o,o.h),o.h=null))}if(i.F){let S=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.Da=S,ke(i.I,i.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=t1(i,i.J?i.pa:null,i.Y),s.K){jD(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.C&&(Wd(a),oc(a)),i.g=s}else YD(i);0<n.j.length&&Zd(n)}else l[0]!="stop"&&l[0]!="close"||Mr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Mr(n,7):sv(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Ja(4)}catch{}}function v3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ld(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function y3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ld(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function PD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ld(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=y3(t),i=v3(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var RD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Pr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Pr){this.h=t.h,Rd(this,t.j),this.s=t.s,this.g=t.g,Nd(this,t.m),this.l=t.l;var e=t.i,n=new Za;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),JT(this,n),this.o=t.o}else t&&(e=String(t).match(RD))?(this.h=!1,Rd(this,e[1]||"",!0),this.s=qa(e[2]||""),this.g=qa(e[3]||"",!0),Nd(this,e[4]),this.l=qa(e[5]||"",!0),JT(this,e[6]||"",!0),this.o=qa(e[7]||"")):(this.h=!1,this.i=new Za(null,this.h))}Pr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ga(e,ZT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ga(e,ZT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ga(n,n.charAt(0)=="/"?C3:E3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ga(n,T3)),t.join("")};function hi(t){return new Pr(t)}function Rd(t,e,n){t.j=n?qa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Nd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function JT(t,e,n){e instanceof Za?(t.i=e,D3(t.i,t.h)):(n||(e=Ga(e,b3)),t.i=new Za(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function Kd(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ga(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,I3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function I3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ZT=/[#\/\?@]/g,E3=/[#\?:]/g,C3=/[#\?]/g,b3=/[#\?@]/g,T3=/#/g;function Za(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Gi(t){t.g||(t.g=new Map,t.h=0,t.i&&w3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=Za.prototype;N.add=function(t,e){Gi(this),this.i=null,t=rs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ND(t,e){Gi(t),e=rs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function OD(t,e){return Gi(t),e=rs(t,e),t.g.has(e)}N.forEach=function(t,e){Gi(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};N.ta=function(){Gi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};N.Z=function(t){Gi(this);let e=[];if(typeof t=="string")OD(this,t)&&(e=e.concat(this.g.get(rs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return Gi(this),this.i=null,t=rs(this,t),OD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function kD(t,e,n){ND(t,e),0<n.length&&(t.i=null,t.g.set(rs(t,e),q_(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};function rs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function D3(t,e){e&&!t.j&&(Gi(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(ND(this,i),kD(this,r,n))},t)),t.j=e}var S3=class{constructor(t,e){this.g=t,this.map=e}};function FD(t){this.l=t||x3,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var x3=10;function VD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function LD(t){return t.h?1:t.g?t.g.size:0}function j_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function iv(t,e){t.g?t.g.add(e):t.h=e}function jD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FD.prototype.cancel=function(){if(this.i=UD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function UD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return q_(t.i)}var A3=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function M3(){this.g=new A3}function P3(t,e,n){let i=n||"";try{PD(t,function(r,o){let s=r;ec(r)&&(s=Y_(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function R3(t,e){let n=new qd;if(Q.Image){let i=new Image;i.onload=Td(Md,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Td(Md,n,i,"TestLoadImage: error",!1,e),i.onabort=Td(Md,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Td(Md,n,i,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Md(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function sc(t){this.l=t.ec||null,this.j=t.ob||!1}nt(sc,ev);sc.prototype.g=function(){return new Qd(this.l,this.j)};sc.prototype.i=function(t){return function(){return t}}({});function Qd(t,e){tt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=rv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(Qd,tt);var rv=0;N=Qd.prototype;N.open=function(t,e){if(this.readyState!=rv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xa(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ac(this)),this.readyState=rv};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function BD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ac(this):Xa(this),this.readyState==3&&BD(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,ac(this))};N.Ya=function(t){this.g&&(this.response=t,ac(this))};N.ka=function(){this.g&&ac(this)};function ac(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xa(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Xa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var N3=Q.JSON.parse;function Le(t){tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$D,this.L=this.M=!1}nt(Le,tt);var $D="",O3=/^https?$/i,k3=["POST","PUT"];N=Le.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():k_.g(),this.C=this.u?YT(this.u):YT(k_),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){XT(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Q.FormData&&t instanceof Q.FormData,!(0<=rD(k3,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HD(this),0<this.B&&((this.L=F3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=X_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){XT(this,o)}};function F3(t){return is&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof $_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function XT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qD(t),Yd(t)}function qD(t){t.F||(t.F=!0,ut(t,"complete"),ut(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),Yd(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yd(this,!0)),Le.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?GD(this):this.kb())};N.kb=function(){GD(this)};function GD(t){if(t.h&&typeof $_<"u"&&(!t.C[1]||Bn(t)!=4||t.da()!=2)){if(t.v&&Bn(t)==4)X_(t.La,0,t);else if(ut(t,"readystatechange"),Bn(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=s===0){var r=String(t.I).match(RD)[1]||null;!r&&Q.self&&Q.self.location&&(r=Q.self.location.protocol.slice(0,-1)),i=!O3.test(r?r.toLowerCase():"")}n=i}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var o=2<Bn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",qD(t)}}finally{Yd(t)}}}}function Yd(t,e){if(t.g){HD(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=i}catch{}}}function HD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function Bn(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),N3(e)}};function eD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $D:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function V3(t){let e={};t=(t.g&&2<=Bn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(za(t[i]))continue;var n=l3(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}o3(e,function(i){return i.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function zD(t){let e="";return H_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function ov(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=zD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ke(t,e,n))}function Ba(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function WD(t){this.Ga=0,this.j=[],this.l=new qd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ba("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ba("baseRetryDelayMs",5e3,t),this.hb=Ba("retryDelaySeedMs",1e4,t),this.eb=Ba("forwardChannelMaxRetries",2,t),this.xa=Ba("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FD(t&&t.concurrentRequestLimit),this.Ja=new M3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=WD.prototype;N.ra=8;N.H=1;function sv(t){if(KD(t),t.H==3){var e=t.W++,n=hi(t.I);if(ke(n,"SID",t.K),ke(n,"RID",e),ke(n,"TYPE","terminate"),cc(t,n),e=new rc(t,t.l,e),e.L=2,e.A=Kd(hi(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=n1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),oc(e)}e1(t)}function Jd(t){t.g&&(cv(t),t.g.cancel(),t.g=null)}function KD(t){Jd(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Od(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function Zd(t){if(!VD(t.i)&&!t.m){t.m=!0;var e=t.Na;Ka||gD(),Qa||(Ka(),Qa=!0),J_.add(e,t),t.C=0}}function L3(t,e){return LD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=nc(gt(t.Na,t,e),XD(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new rc(this,this.l,t),o=this.s;if(this.U&&(o?(o=cD(o),lD(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=QD(this,r,e),n=hi(this.I),ke(n,"RID",t),ke(n,"CVER",22),this.F&&ke(n,"X-HTTP-Session-Id",this.F),cc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(zD(o)))+"&"+e:this.o&&ov(n,this.o,o)),iv(this.i,r),this.bb&&ke(n,"TYPE","init"),this.P?(ke(n,"$req",e),ke(n,"SID","null"),r.aa=!0,V_(r,n,null)):V_(r,n,e),this.H=2}}else this.H==3&&(t?tD(this,t):this.j.length==0||VD(this.i)||tD(this))};function tD(t,e){var n;e?n=e.m:n=t.W++;let i=hi(t.I);ke(i,"SID",t.K),ke(i,"RID",n),ke(i,"AID",t.V),cc(t,i),t.o&&t.s&&ov(i,t.o,t.s),n=new rc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=QD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),iv(t.i,n),V_(n,i,e)}function cc(t,e){t.na&&H_(t.na,function(n,i){ke(e,i,n)}),t.h&&PD({},function(n,i){ke(e,i,n)})}function QD(t,e,n){n=Math.min(t.j.length,n);var i=t.h?gt(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{P3(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function YD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ka||gD(),Qa||(Ka(),Qa=!0),J_.add(e,t),t.A=0}}function av(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=nc(gt(t.Ma,t),XD(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,JD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=nc(gt(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dt(10),Jd(this),JD(this))};function cv(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function JD(t){t.g=new rc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=hi(t.wa);ke(e,"RID","rpc"),ke(e,"SID",t.K),ke(e,"AID",t.V),ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ke(e,"TO",t.qa),ke(e,"TYPE","xmlhttp"),cc(t,e),t.o&&t.s&&ov(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Kd(hi(e)),n.u=null,n.S=!0,SD(n,t)}N.ib=function(){this.v!=null&&(this.v=null,Jd(this),av(this),Dt(19))};function Od(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function ZD(t,e){var n=null;if(t.g==e){Od(t),cv(t),t.g=null;var i=2}else if(j_(t.i,e))n=e.F,jD(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Gd(),ut(i,new ED(i,n)),Zd(t)}else YD(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&L3(t,e)||i==2&&av(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Mr(t,5);break;case 4:Mr(t,10);break;case 3:Mr(t,6);break;default:Mr(t,2)}}}function XD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Mr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=gt(t.pb,t);n||(n=new Pr("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Rd(n,"https"),Kd(n)),R3(n.toString(),i)}else Dt(2);t.H=0,t.h&&t.h.za(e),e1(t),KD(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dt(2)):(this.l.info("Failed to ping google.com"),Dt(1))};function e1(t){if(t.H=0,t.ma=[],t.h){let e=UD(t.i);(e.length!=0||t.j.length!=0)&&(zT(t.ma,e),zT(t.ma,t.j),t.i.i.length=0,q_(t.j),t.j.length=0),t.h.ya()}}function t1(t,e,n){var i=n instanceof Pr?hi(n):new Pr(n);if(i.g!="")e&&(i.g=e+"."+i.g),Nd(i,i.m);else{var r=Q.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Pr(null);i&&Rd(o,i),e&&(o.g=e),r&&Nd(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&ke(i,n,e),ke(i,"VER",t.ra),cc(t,i),i}function n1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Le(new sc({ob:n})):new Le(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function i1(){}N=i1.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function kd(){if(is&&!(10<=Number(t3)))throw Error("Environmental error: no available transport.")}kd.prototype.g=function(t,e){return new Ht(t,e)};function Ht(t,e){tt.call(this),this.g=new WD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!za(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!za(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new os(this)}nt(Ht,tt);Ht.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=t1(t,null,t.Y),Zd(t)};Ht.prototype.close=function(){sv(this.g)};Ht.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Y_(t),t=n);e.j.push(new S3(e.fb++,t)),e.H==3&&Zd(e)};Ht.prototype.N=function(){this.g.h=null,delete this.j,sv(this.g),delete this.g,Ht.$.N.call(this)};function r1(t){tv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nt(r1,tv);function o1(){nv.call(this),this.status=1}nt(o1,nv);function os(t){this.g=t}nt(os,i1);os.prototype.Ba=function(){ut(this.g,"a")};os.prototype.Aa=function(t){ut(this.g,new r1(t))};os.prototype.za=function(t){ut(this.g,new o1)};os.prototype.ya=function(){ut(this.g,"b")};function j3(){this.blockSize=-1}function In(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}nt(In,j3);In.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function T_(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}In.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)T_(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){T_(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){T_(this,i),r=0;break}}this.h=r,this.i+=e};In.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function be(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var U3={};function lv(t){return-128<=t&&128>t?Zj(t,function(e){return new be([e|0],0>e?-1:0)}):new be([t|0],0>t?-1:0)}function $n(t){if(isNaN(t)||!isFinite(t))return ns;if(0>t)return lt($n(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=U_;return new be(e,0)}function s1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return lt(s1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=$n(Math.pow(e,8)),i=ns,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=$n(Math.pow(e,o)),i=i.R(o).add($n(s))):(i=i.R(n),i=i.add($n(s)))}return i}var U_=4294967296,ns=lv(0),B_=lv(1),nD=lv(16777216);N=be.prototype;N.ea=function(){if(un(this))return-lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:U_+i)*e,e*=U_}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(di(this))return"0";if(un(this))return"-"+lt(this).toString(t);for(var e=$n(Math.pow(t,6)),n=this,i="";;){var r=Vd(n,e).g;n=Fd(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,di(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function di(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function un(t){return t.h==-1}N.X=function(t){return t=Fd(this,t),un(t)?-1:di(t)?0:1};function lt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new be(n,~t.h).add(B_)}N.abs=function(){return un(this)?lt(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new be(n,n[n.length-1]&-2147483648?-1:0)};function Fd(t,e){return t.add(lt(e))}N.R=function(t){if(di(this)||di(t))return ns;if(un(this))return un(t)?lt(this).R(lt(t)):lt(lt(this).R(t));if(un(t))return lt(this.R(lt(t)));if(0>this.X(nD)&&0>t.X(nD))return $n(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=s*c,Pd(n,2*i+2*r),n[2*i+2*r+1]+=o*c,Pd(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,Pd(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,Pd(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new be(n,0)};function Pd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function $a(t,e){this.g=t,this.h=e}function Vd(t,e){if(di(e))throw Error("division by zero");if(di(t))return new $a(ns,ns);if(un(t))return e=Vd(lt(t),e),new $a(lt(e.g),lt(e.h));if(un(e))return e=Vd(t,lt(e)),new $a(lt(e.g),e.h);if(30<t.g.length){if(un(t)||un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=B_,i=e;0>=i.X(t);)n=iD(n),i=iD(i);var r=es(n,1),o=es(i,1);for(i=es(i,2),n=es(n,2);!di(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=es(i,1),n=es(n,1)}return e=Fd(t,r.R(e)),new $a(r,e)}for(r=ns;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=$n(n),s=o.R(e);un(s)||0<s.X(t);)n-=i,o=$n(n),s=o.R(e);di(o)&&(o=B_),r=r.add(o),t=Fd(t,s)}return new $a(r,t)}N.gb=function(t){return Vd(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new be(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new be(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new be(n,this.h^t.h)};function iD(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new be(n,t.h)}function es(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new be(r,t.h)}kd.prototype.createWebChannel=kd.prototype.g;Ht.prototype.send=Ht.prototype.u;Ht.prototype.open=Ht.prototype.m;Ht.prototype.close=Ht.prototype.close;Hd.NO_ERROR=0;Hd.TIMEOUT=8;Hd.HTTP_ERROR=6;CD.COMPLETE="complete";bD.EventType=ic;ic.OPEN="a";ic.CLOSE="b";ic.ERROR="c";ic.MESSAGE="d";tt.prototype.listen=tt.prototype.O;Le.prototype.listenOnce=Le.prototype.P;Le.prototype.getLastError=Le.prototype.Sa;Le.prototype.getLastErrorCode=Le.prototype.Ia;Le.prototype.getStatus=Le.prototype.da;Le.prototype.getResponseJson=Le.prototype.Wa;Le.prototype.getResponseText=Le.prototype.ja;Le.prototype.send=Le.prototype.ha;Le.prototype.setWithCredentials=Le.prototype.Oa;In.prototype.digest=In.prototype.l;In.prototype.reset=In.prototype.reset;In.prototype.update=In.prototype.j;be.prototype.add=be.prototype.add;be.prototype.multiply=be.prototype.R;be.prototype.modulo=be.prototype.gb;be.prototype.compare=be.prototype.X;be.prototype.toNumber=be.prototype.ea;be.prototype.toString=be.prototype.toString;be.prototype.getBits=be.prototype.D;be.fromNumber=$n;be.fromString=s1;var a1=En.createWebChannelTransport=function(){return new kd},c1=En.getStatEventTarget=function(){return Gd()},Xd=En.ErrorCode=Hd,l1=En.EventType=CD,u1=En.Event=Rr,uv=En.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},VQ=En.FetchXmlHttpFactory=sc,lc=En.WebChannel=bD,d1=En.XhrIo=Le,h1=En.Md5=In,Nr=En.Integer=be;var f1="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var Ds="10.7.0";var Vr=new ji("@firebase/firestore");function uc(){return Vr.logLevel}function L(t,...e){if(Vr.logLevel<=ce.DEBUG){let n=e.map(Wy);Vr.debug(`Firestore (${Ds}): ${t}`,...n)}}function fi(t,...e){if(Vr.logLevel<=ce.ERROR){let n=e.map(Wy);Vr.error(`Firestore (${Ds}): ${t}`,...n)}}function hs(t,...e){if(Vr.logLevel<=ce.WARN){let n=e.map(Wy);Vr.warn(`Firestore (${Ds}): ${t}`,...n)}}function Wy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+t;throw fi(e),new Error(e)}function Pe(t,e){t||W()}function Z(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends an{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var rh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},mv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}},gv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},_v=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cn,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pe(typeof i.accessToken=="string"),new rh(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new it(e)}},vv=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},yv=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new vv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Iv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new wv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function B3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var oh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=B3(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function ve(t,e){return t<e?-1:t>e?1:0}function fs(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var dt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new dt(0,0))}static max(){return new t(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var sh=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&W(),i===void 0?i=e.length-n:i>e.length-n&&W(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ve=class t extends sh{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new V(x.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},$3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wt=class t extends sh{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return $3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new V(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new V(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new V(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ve.fromString(e))}static fromName(e){return new t(Ve.fromString(e).popFirst(5))}static empty(){return new t(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ve(e.slice()))}};var Ev=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};Ev.UNKNOWN_ID=-1;function q3(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=J.fromTimestamp(i===1e9?new dt(n+1,0):new dt(n,i));return new Lr(r,G.empty(),e)}function G3(t){return new Lr(t.readTime,t.key,-1)}var Lr=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(J.min(),G.empty(),-1)}static max(){return new t(J.max(),G.empty(),-1)}};function H3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Sc(t){return E(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==z3)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},c=>i(c))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};function xc(t){return t.name==="IndexedDbTransactionError"}var q1=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Lh(t){return t==null}function gc(t){return t===0&&1/t==-1/0}function W3(t){return typeof t=="number"&&Number.isInteger(t)&&!gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var K3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KQ=[...K3,"documentOverlays"],Q3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Y3=Q3,QQ=[...Y3,"indexConfiguration","indexState","indexEntries"];function p1(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function G1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ue=class t{constructor(e,n){this.comparator=e,this.root=n||Gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ls(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ls(this.root,e,this.comparator,!1)}getReverseIterator(){return new ls(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ls(this.root,e,this.comparator,!0)}},ls=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gn=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class t{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ah(this.data.getIterator())}getIteratorFrom(e){return new ah(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ah=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class t{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new t([])}unionWith(e){let n=new yt(Wt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var ch=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var St=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ch("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};St.EMPTY_BYTE_STRING=new St("");var J3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(Pe(!!t),typeof t=="string"){let e=0,n=J3.exec(t);if(Pe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ki(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}function Ky(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qy(t){let e=t.mapValue.fields.__previous_value__;return Ky(e)?Qy(e):e}function _c(t){let e=Wi(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}var bv=class{constructor(e,n,i,r,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},lh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var eh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ky(t)?4:H1(t)?9007199254740991:10:W()}function Wn(t,e){if(t===e)return!0;let n=jr(t);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _c(t).isEqual(_c(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Wi(r.timestampValue),a=Wi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Ki(r.bytesValue).isEqual(Ki(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return je(r.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(r.geoPointValue.longitude)===je(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return je(r.integerValue)===je(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=je(r.doubleValue),a=je(o.doubleValue);return s===a?gc(s)===gc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return fs(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(p1(s)!==p1(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Wn(s[c],a[c])))return!1;return!0}(t,e);default:return W()}}function vc(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function ps(t,e){if(t===e)return 0;let n=jr(t),i=jr(e);if(n!==i)return ve(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=je(o.integerValue||o.doubleValue),c=je(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return m1(t.timestampValue,e.timestampValue);case 4:return m1(_c(t),_c(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ki(o),c=Ki(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=ve(a[l],c[l]);if(u!==0)return u}return ve(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ve(je(o.latitude),je(s.latitude));return a!==0?a:ve(je(o.longitude),je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=ps(a[l],c[l]);if(u)return u}return ve(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===eh.mapValue&&s===eh.mapValue)return 0;if(o===eh.mapValue)return 1;if(s===eh.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){let v=ve(c[h],u[h]);if(v!==0)return v;let y=ps(a[c[h]],l[u[h]]);if(y!==0)return y}return ve(c.length,u.length)}(t.mapValue,e.mapValue);default:throw W()}}function m1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=Wi(t),i=Wi(e),r=ve(n.seconds,i.seconds);return r!==0?r:ve(n.nanos,i.nanos)}function ms(t){return Tv(t)}function Tv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Wi(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=Tv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${Tv(n.fields[s])}`;return r+"}"}(t.mapValue):W()}function g1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dv(t){return!!t&&"integerValue"in t}function Yy(t){return!!t&&"arrayValue"in t}function _1(t){return!!t&&"nullValue"in t}function v1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nh(t){return!!t&&"mapValue"in t}function hc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Hr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=hc(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function H1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=Wt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=hc(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];nh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Hr(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(hc(this.value))}};function z1(t){let e=[];return Hr(t.fields,(n,i)=>{let r=new Wt([n]);if(nh(i)){let o=z1(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new dn(e)}var bn=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),zt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,J.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var gs=class{constructor(e,n){this.position=e,this.inclusive=n}};function y1(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=G.comparator(G.fromName(s.referenceValue),n.key):i=ps(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function w1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}var _s=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Z3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var uh=class{},Ye=class t extends uh{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new xv(e,n,i):n==="array-contains"?new Pv(e,i):n==="in"?new Rv(e,i):n==="not-in"?new Nv(e,i):n==="array-contains-any"?new Ov(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Av(e,i):new Mv(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ps(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Tn=class t extends uh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return W1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function W1(t){return t.op==="and"}function K1(t){return X3(t)&&W1(t)}function X3(t){for(let e of t.filters)if(e instanceof Tn)return!1;return!0}function Sv(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+ms(t.value);if(K1(t))return t.filters.map(e=>Sv(e)).join(",");{let e=t.filters.map(n=>Sv(n)).join(",");return`${t.op}(${e})`}}function Q1(t,e){return t instanceof Ye?function(i,r){return r instanceof Ye&&i.op===r.op&&i.field.isEqual(r.field)&&Wn(i.value,r.value)}(t,e):t instanceof Tn?function(i,r){return r instanceof Tn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&Q1(s,r.filters[a]),!0):!1}(t,e):void W()}function Y1(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${ms(n.value)}`}(t):t instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(Y1).join(" ,")+"}"}(t):"Filter"}var xv=class extends Ye{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},Av=class extends Ye{constructor(e,n){super(e,"in",n),this.keys=J1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Mv=class extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=J1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function J1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}var Pv=class extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Yy(n)&&vc(n.arrayValue,this.value)}},Rv=class extends Ye{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}},Nv=class extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!vc(this.value.arrayValue,n)}},Ov=class extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>vc(this.value.arrayValue,i))}};var kv=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function I1(t,e=null,n=[],i=[],r=null,o=null,s=null){return new kv(t,e,n,i,r,o,s)}function Jy(t){let e=Z(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Sv(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ms(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ms(i)).join(",")),e.ce=n}return e.ce}function Zy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w1(t.startAt,e.startAt)&&w1(t.endAt,e.endAt)}function Fv(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ur=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function eU(t,e,n,i,r,o,s,a){return new Ur(t,e,n,i,r,o,s,a)}function Xy(t){return new Ur(t)}function E1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Z1(t){return t.collectionGroup!==null}function fc(t){let e=Z(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(Wt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new _s(o,i))}),n.has(Wt.keyField().canonicalString())||e.le.push(new _s(Wt.keyField(),i))}return e.le}function Hn(t){let e=Z(t);return e.he||(e.he=tU(e,fc(t))),e.he}function tU(t,e){if(t.limitType==="F")return I1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new _s(r.field,o)});let n=t.endAt?new gs(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new gs(t.startAt.position,t.startAt.inclusive):null;return I1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Vv(t,e){let n=t.filters.concat([e]);return new Ur(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lv(t,e,n){return new Ur(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jh(t,e){return Zy(Hn(t),Hn(e))&&t.limitType===e.limitType}function X1(t){return`${Jy(Hn(t))}|lt:${t.limitType}`}function ss(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Y1(r)).join(", ")}]`),Lh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ms(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ms(r)).join(",")),`Target(${i})`}(Hn(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):G.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of fc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=y1(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,fc(i),r)||i.endAt&&!function(s,a,c){let l=y1(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,fc(i),r))}(t,e)}function nU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eS(t){return(e,n)=>{let i=!1;for(let r of fc(t)){let o=iU(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function iU(t,e,n){let i=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ps(c,l):W()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return W()}}var Qi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return G1(this.inner)}size(){return this.innerSize}};var rU=new Ue(G.comparator);function pi(){return rU}var tS=new Ue(G.comparator);function dc(...t){let e=tS;for(let n of t)e=e.insert(n.key,n);return e}function nS(t){let e=tS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Or(){return pc()}function iS(){return pc()}function pc(){return new Qi(t=>t.toString(),(t,e)=>t.isEqual(e))}var oU=new Ue(G.comparator),sU=new yt(G.comparator);function le(...t){let e=sU;for(let n of t)e=e.add(n);return e}var aU=new yt(ve);function cU(){return aU}function rS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function oS(t){return{integerValue:""+t}}function lU(t,e){return W3(e)?oS(e):rS(t,e)}var vs=class{constructor(){this._=void 0}};function uU(t,e,n){return t instanceof ys?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Ky(o)&&(o=Qy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Br?aS(t,e):t instanceof $r?cS(t,e):function(r,o){let s=sS(r,o),a=C1(s)+C1(r.Ie);return Dv(s)&&Dv(r.Ie)?oS(a):rS(r.serializer,a)}(t,e)}function dU(t,e,n){return t instanceof Br?aS(t,e):t instanceof $r?cS(t,e):n}function sS(t,e){return t instanceof ws?function(i){return Dv(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var ys=class extends vs{},Br=class extends vs{constructor(e){super(),this.elements=e}};function aS(t,e){let n=lS(e);for(let i of t.elements)n.some(r=>Wn(r,i))||n.push(i);return{arrayValue:{values:n}}}var $r=class extends vs{constructor(e){super(),this.elements=e}};function cS(t,e){let n=lS(e);for(let i of t.elements)n=n.filter(r=>!Wn(r,i));return{arrayValue:{values:n}}}var ws=class extends vs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function C1(t){return je(t.integerValue||t.doubleValue)}function lS(t){return Yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hU(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Br&&r instanceof Br||i instanceof $r&&r instanceof $r?fs(i.elements,r.elements,Wn):i instanceof ws&&r instanceof ws?Wn(i.Ie,r.Ie):i instanceof ys&&r instanceof ys}(t.transform,e.transform)}var jv=class{constructor(e,n){this.version=e,this.transformResults=n}},Hi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Is=class{};function uS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dh(t.key,Hi.none()):new qr(t.key,t.data,Hi.none());{let n=t.data,i=zt.empty(),r=new yt(Wt.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Kn(t.key,i,new dn(r.toArray()),Hi.none())}}function fU(t,e,n){t instanceof qr?function(r,o,s){let a=r.value.clone(),c=T1(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Kn?function(r,o,s){if(!ih(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=T1(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(dS(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,i){return t instanceof qr?function(o,s,a,c){if(!ih(o.precondition,s))return a;let l=o.value.clone(),u=D1(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Kn?function(o,s,a,c){if(!ih(o.precondition,s))return a;let l=D1(o.fieldTransforms,c,s),u=s.data;return u.setAll(dS(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(o,s,a){return ih(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function pU(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=sS(i.transform,r||null);o!=null&&(n===null&&(n=zt.empty()),n.set(i.field,o))}return n||null}function b1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&fs(i,r,(o,s)=>hU(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var qr=class extends Is{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Kn=class extends Is{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function dS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function T1(t,e,n){let i=new Map;Pe(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,dU(s,a,n[r]))}return i}function D1(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,uU(o,s,e))}return i}var dh=class extends Is{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Uv=class extends Is{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Bv=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&fU(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=mc(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=mc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=iS();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let c=uS(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(n,i)=>b1(n,i))&&fs(this.baseMutations,e.baseMutations,(n,i)=>b1(n,i))}},$v=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Pe(e.mutations.length===i.length);let r=function(){return oU}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var qv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Gv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ke,he;function mU(t){switch(t){default:return W();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function hS(t){if(t===void 0)return fi("GRPC error has no .code"),x.UNKNOWN;switch(t){case Ke.OK:return x.OK;case Ke.CANCELLED:return x.CANCELLED;case Ke.UNKNOWN:return x.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return x.INTERNAL;case Ke.UNAVAILABLE:return x.UNAVAILABLE;case Ke.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ke.NOT_FOUND:return x.NOT_FOUND;case Ke.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ke.ABORTED:return x.ABORTED;case Ke.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ke.DATA_LOSS:return x.DATA_LOSS;default:return W()}}(he=Ke||(Ke={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var S1=null;function gU(){return new TextEncoder}var _U=new Nr([4294967295,4294967295],0);function x1(t){let e=gU().encode(t),n=new h1;return n.update(e),new Uint8Array(n.digest())}function A1(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Nr([n,i],0),new Nr([r,o],0)]}var Hv=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new kr(`Invalid padding: ${n}`);if(i<0)throw new kr(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new kr(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new kr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Nr.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Nr.fromNumber(i)));return r.compare(_U)===1&&(r=new Nr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=x1(e),[i,r]=A1(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=x1(e),[i,r]=A1(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},kr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var hh=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(J.min(),r,new Ue(ve),pi(),le())}},yc=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,le(),le(),le())}};var us=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},fh=class{constructor(e,n){this.targetId=e,this.fe=n}},ph=class{constructor(e,n,i=St.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},mh=class{constructor(){this.ge=0,this.pe=P1(),this.ye=St.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=le(),n=le(),i=le();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:W()}}),new yc(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=P1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Pe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},zv=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=pi(),this.Qe=M1(),this.Ke=new Ue(ve)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(Fv(o))if(i===0){let s=new G(o.path);this.We(n,s,bn.newNoDocument(s,J.min()))}else Pe(i===1);else{let s=this.Ze(n);if(s!==i){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}S1?.tt(function(u,h,v,y,D){var S,A,F,ue,H,ye;let Je={localCacheCount:u,existenceFilterCount:h.count,databaseId:v.database,projectId:v.projectId},pe=h.unchangedNames;return pe&&(Je.bloomFilter={applied:D===0,hashCount:(S=pe?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(ue=(F=(A=pe?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&ue!==void 0?ue:0,padding:(ye=(H=pe?.bits)===null||H===void 0?void 0:H.padding)!==null&&ye!==void 0?ye:0,mightContain:ht=>{var Sn;return(Sn=y?.mightContain(ht))!==null&&Sn!==void 0&&Sn}}),Je}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=Ki(i).toUint8Array()}catch(c){if(c instanceof ch)return hs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Hv(s,r,o)}catch(c){return hs(c instanceof kr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&Fv(a.target)){let c=new G(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,bn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let i=le();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new hh(e,n,this.Ke,this.qe,i);return this.qe=pi(),this.Qe=M1(),this.Ke=new Ue(ve),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new mh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new yt(ve),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new mh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function M1(){return new Ue(G.comparator)}function P1(){return new Ue(G.comparator)}var vU={asc:"ASCENDING",desc:"DESCENDING"},yU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wU={and:"AND",or:"OR"},Wv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Kv(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IU(t,e){return gh(t,e.toTimestamp())}function zn(t){return Pe(!!t),J.fromTimestamp(function(n){let i=Wi(n);return new dt(i.seconds,i.nanos)}(t))}function e0(t,e){return function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function pS(t){let e=Ve.fromString(t);return Pe(vS(e)),e}function Qv(t,e){return e0(t.databaseId,e.path)}function dv(t,e){let n=pS(e);if(n.get(1)!==t.databaseId.projectId)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(mS(n))}function Yv(t,e){return e0(t.databaseId,e)}function EU(t){let e=pS(t);return e.length===4?Ve.emptyPath():mS(e)}function Jv(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mS(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R1(t,e,n){return{name:Qv(t,e),fields:n.value.mapValue.fields}}function CU(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Pe(u===void 0||typeof u=="string"),St.fromBase64String(u||"")):(Pe(u===void 0||u instanceof Uint8Array),St.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?x.UNKNOWN:hS(l.code);return new V(u,l.message||"")}(s);n=new ph(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=dv(t,i.document.name),o=zn(i.document.updateTime),s=i.document.createTime?zn(i.document.createTime):J.min(),a=new zt({mapValue:{fields:i.document.fields}}),c=bn.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new us(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=dv(t,i.document),o=i.readTime?zn(i.readTime):J.min(),s=bn.newNoDocument(r,o),a=i.removedTargetIds||[];n=new us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=dv(t,i.document),o=i.removedTargetIds||[];n=new us([],o,r,null)}else{if(!("filter"in e))return W();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new Gv(r,o),a=i.targetId;n=new fh(a,s)}}return n}function bU(t,e){let n;if(e instanceof qr)n={update:R1(t,e.key,e.value)};else if(e instanceof dh)n={delete:Qv(t,e.key)};else if(e instanceof Kn)n={update:R1(t,e.key,e.data),updateMask:NU(e.fieldMask)};else{if(!(e instanceof Uv))return W();n={verify:Qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof ys)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Br)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $r)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ws)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw W()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:IU(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(t,e.precondition)),n}function TU(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?zn(r.updateTime):zn(o);return s.isEqual(J.min())&&(s=zn(o)),new jv(s,r.transformResults||[])}(n,e))):[]}function DU(t,e){return{documents:[Yv(t,e.path)]}}function SU(t,e){let n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Yv(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yv(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);let r=function(c){if(c.length!==0)return _S(Tn.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);let o=function(c){if(c.length!==0)return c.map(l=>function(h){return{field:as(h.field),direction:MU(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Kv(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function xU(t){let e=EU(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Pe(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(h){let v=gS(h);return v instanceof Tn&&K1(v)?v.getFilters():[v]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(v=>function(D){return new _s(cs(D.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(h){let v;return v=typeof h=="object"?h.value:h,Lh(v)?null:v}(n.limit));let c=null;n.startAt&&(c=function(h){let v=!!h.before,y=h.values||[];return new gs(y,v)}(n.startAt));let l=null;return n.endAt&&(l=function(h){let v=!h.before,y=h.values||[];return new gs(y,v)}(n.endAt)),eU(e,r,s,o,a,"F",c,l)}function AU(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=cs(n.unaryFilter.field);return Ye.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=cs(n.unaryFilter.field);return Ye.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=cs(n.unaryFilter.field);return Ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=cs(n.unaryFilter.field);return Ye.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(cs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(i=>gS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function MU(t){return vU[t]}function PU(t){return yU[t]}function RU(t){return wU[t]}function as(t){return{fieldPath:t.canonicalString()}}function cs(t){return Wt.fromServerFormat(t.fieldPath)}function _S(t){return t instanceof Ye?function(n){if(n.op==="=="){if(v1(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NAN"}};if(_1(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v1(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NOT_NAN"}};if(_1(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(n.field),op:PU(n.op),value:n.value}}}(t):t instanceof Tn?function(n){let i=n.getFilters().map(r=>_S(r));return i.length===1?i[0]:{compositeFilter:{op:RU(n.op),filters:i}}}(t):W()}function NU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var wc=class t{constructor(e,n,i,r,o=J.min(),s=J.min(),a=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Zv=class{constructor(e){this.ut=e}};function OU(t){let e=xU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lv(e,e.limit,"L"):e}var _h=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(je(e.integerValue));else if("doubleValue"in e){let i=je(e.doubleValue);isNaN(i)?this.Tt(n,13):(this.Tt(n,15),gc(i)?n.Et(0):n.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(n,20),typeof i=="string"?n.dt(i):(n.dt(`${i.seconds||""}`),n.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ki(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Tt(n,45),n.Et(i.latitude||0),n.Et(i.longitude||0)}else"mapValue"in e?H1(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):W()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let i=e.fields||{};this.Tt(n,55);for(let r of Object.keys(i))this.At(r,n),this.Pt(i[r],n)}yt(e,n){let i=e.values||[];this.Tt(n,50);for(let r of i)this.Pt(r,n)}ft(e,n){this.Tt(n,37),G.fromName(e).path.forEach(i=>{this.Tt(n,60),this.wt(i,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};_h.St=new _h;var Xv=class{constructor(){this.on=new ey}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Lr.min())}updateCollectionGroup(e,n,i){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},ey=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new yt(Ve.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new yt(Ve.comparator)).toArray()}};var JQ=new Uint8Array(0);var qn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);var Ic=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var ty=class{constructor(){this.changes=new Qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?M.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ny=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var iy=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&mc(i.mutation,r,dn.empty(),dt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=le()){let r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=dc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=Or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,le()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=pi(),s=pc(),a=function(){return pc()}();return n.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Kn)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),mc(u.mutation,l,u.mutation.getFieldMask(),dt.now())):s.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new ny(u,(h=s.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let i=pc(),r=new Ue((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=i.get(c)||dn.empty();u=a.applyToLocalView(l,u),i.set(c,u);let h=(r.get(a.batchId)||le()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,h=iS();u.forEach(v=>{if(!o.has(v)){let y=uS(n.get(v),i.get(v));y!==null&&h.set(v,y),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,h))}return M.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Z1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):M.resolve(Or()),a=-1,c=o;return s.next(l=>M.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(v=>{c=c.insert(u,v)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,le())).next(u=>({batchId:a,changes:nS(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=dc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=dc();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,c=>{let l=function(h,v){return new Ur(v,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((h,v)=>{s=s.insert(h,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,bn.newInvalidDocument(u)))});let a=dc();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&mc(u.mutation,l,dn.empty(),dt.now()),Uh(n,l)&&(a=a.insert(c,l))}),a})}};var ry=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:zn(r.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:OU(r.bundledQuery),readTime:zn(r.readTime)}}(n)),M.resolve()}};var oy=class{constructor(){this.overlays=new Ue(G.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Or();return M.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.lt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.lr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),M.resolve()}getOverlaysForCollection(e,n,i){let r=Or(),o=n.length+1,s=new G(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return M.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Ue((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=Or(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Or(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return M.resolve(a)}lt(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new qv(n,i));let o=this.lr.get(n);o===void 0&&(o=le(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}};var Ec=class{constructor(){this.hr=new yt(Qe.Pr),this.Ir=new yt(Qe.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let i=new Qe(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new Qe(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){let n=new G(new Ve([])),i=new Qe(n,e),r=new Qe(n,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new G(new Ve([])),i=new Qe(n,e),r=new Qe(n,e+1),o=le();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Qe(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Qe=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return G.comparator(e.key,n.key)||ve(e.gr,n.gr)}static Tr(e,n){return ve(e.gr,n.gr)||G.comparator(e.key,n.key)}};var sy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new yt(Qe.Pr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Bv(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.yr=this.yr.add(new Qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.Sr(i),o=r<0?0:r;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Qe(n,0),r=new Qe(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{let a=this.wr(s.gr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new yt(ve);return n.forEach(r=>{let o=new Qe(r,0),s=new Qe(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),M.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;G.isDocumentKey(o)||(o=o.child(""));let s=new Qe(new G(o),0),a=new yt(ve);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gr)),!0)},s),M.resolve(this.br(a))}br(e){let n=[];return e.forEach(i=>{let r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Pe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return M.forEach(n.mutations,r=>{let o=new Qe(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){let i=new Qe(n,0),r=this.yr.firstAfterOrEqual(i);return M.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ay=class{constructor(e){this.Cr=e,this.docs=function(){return new Ue(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return M.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let i=pi();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():bn.newInvalidDocument(r))}),M.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=pi(),s=n.path,a=new G(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||H3(G3(u),i)<=0||(r.has(u.key)||Uh(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,i,r){W()}vr(e,n){return M.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new cy(this)}getSize(e){return M.resolve(this.size)}},cy=class extends ty{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var ly=class{constructor(e){this.persistence=e,this.Fr=new Qi(n=>Jy(n),Zy),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Ec,this.targetCount=0,this.Nr=Ic.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ic(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),M.waitFor(o).next(()=>r)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let i=this.Fr.get(n)||null;return M.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),M.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Or.mr(n);return M.resolve(i)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}};var uy=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new q1(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new ly(this),this.indexManager=new Xv,this.remoteDocumentCache=function(r){return new ay(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new Zv(n),this.Kr=new ry(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new sy(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){L("MemoryPersistence","Starting transaction:",e);let r=new dy(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,n){return M.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},dy=class extends Cv{constructor(e){super(),this.currentSequenceNumber=e}},hy=class t{constructor(e){this.persistence=e,this.Gr=new Ec,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),M.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,i=>{let r=G.fromPath(i);return this.Jr(e,r).next(o=>{o||n.removeEntry(r,J.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var fy=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=le(),r=le();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var py=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var my=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new py;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?(uc()<=ce.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(uc()<=ce.DEBUG&&L("QueryEngine","Query:",ss(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(uc()<=ce.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):M.resolve())}zi(e,n){if(E1(n))return M.resolve(null);let i=Hn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Lv(n,null,"F"),i=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=le(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,Lv(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,i,r){return E1(n)||r.isEqual(J.min())?M.resolve(null):this.Gi.getDocuments(e,i).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,i,r)?M.resolve(null):(uc()<=ce.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ss(n)),this.Xi(e,s,n,q3(r,-1)).next(a=>a))})}Yi(e,n){let i=new yt(eS(e));return n.forEach((r,o)=>{Uh(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,n,i){return uc()<=ce.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",ss(n)),this.Gi.getDocumentsMatchingQuery(e,n,Lr.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var gy=class{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new Ue(ve),this.ns=new Qi(o=>Jy(o),Zy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iy(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function kU(t,e,n,i){return new gy(t,e,n,i)}function yS(t,e){return E(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=le();for(let l of r){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function FU(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let h=l.batch,v=h.keys(),y=M.resolve();return v.forEach(D=>{y=y.next(()=>u.getEntry(c,D)).next(S=>{let A=l.docVersions.get(D);Pe(A!==null),S.version.compareTo(A)<0&&(h.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),u.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function wS(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function VU(t,e){let n=Z(t),i=e.snapshotVersion,r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;let a=[];e.targetChanges.forEach((u,h)=>{let v=r.get(h);if(!v)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,h)));let y=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(St.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):u.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(u.resumeToken,i)),r=r.insert(h,y),function(S,A,F){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(v,y,u)&&a.push(n.qr.updateTargetData(o,y))});let c=pi(),l=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(LU(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!i.isEqual(J.min())){let u=n.qr.getLastRemoteSnapshotVersion(o).next(h=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=r,o))}function LU(t,e,n){let i=le(),r=le();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=pi();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(J.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:r}})}function jU(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function UU(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,e).next(o=>o?(r=o,M.resolve(r)):n.qr.allocateTargetId(i).next(s=>(r=new wc(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}function _y(t,e,n){return E(this,null,function*(){let i=Z(t),r=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!xc(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)})}function N1(t,e,n){let i=Z(t),r=J.min(),o=le();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let h=Z(c),v=h.ns.get(u);return v!==void 0?M.resolve(h.ts.get(v)):h.qr.getTargetData(l,u)}(i,s,Hn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,n?r:J.min(),n?o:le())).next(a=>(BU(i,nU(e),a),{documents:a,ls:o})))}function BU(t,e,n){let i=t.rs.get(e)||J.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}var vh=class{constructor(){this.activeTargetIds=cU()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var vy=class{constructor(){this.eo=new vh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new vh,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var yy=class{ro(e){}shutdown(){}};var yh=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var th=null;function hv(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}var $U={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var wy=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var vt="WebChannelConnection",Iy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${r}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(n,i,r,o,s){let a=hv(),c=this.So(n,i);L("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,r).then(u=>(L("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw hs("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}Co(n,i,r,o,s,a){return this.wo(n,i,r,o,s)}bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ds}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}So(n,i){let r=$U[n];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,r){let o=hv();return new Promise((s,a)=>{let c=new d1;c.setWithCredentials(!0),c.listenOnce(l1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xd.NO_ERROR:let u=c.getResponseJson();L(vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Xd.TIMEOUT:L(vt,`RPC '${e}' ${o} timed out`),a(new V(x.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:let h=c.getStatus();if(L(vt,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);let y=v?.error;if(y&&y.status&&y.message){let D=function(A){let F=A.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(F)>=0?F:x.UNKNOWN}(y.status);a(new V(D,y.message))}else a(new V(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(x.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{L(vt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);L(vt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",l,i,15)})}vo(e,n,i){let r=hv(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=a1(),a=c1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let u=o.join("");L(vt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let h=s.createWebChannel(u,c),v=!1,y=!1,D=new wy({co:A=>{y?L(vt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(v||(L(vt,`Opening RPC '${e}' stream ${r} transport.`),h.open(),v=!0),L(vt,`RPC '${e}' stream ${r} sending:`,A),h.send(A))},lo:()=>h.close()}),S=(A,F,ue)=>{A.listen(F,H=>{try{ue(H)}catch(ye){setTimeout(()=>{throw ye},0)}})};return S(h,lc.EventType.OPEN,()=>{y||L(vt,`RPC '${e}' stream ${r} transport opened.`)}),S(h,lc.EventType.CLOSE,()=>{y||(y=!0,L(vt,`RPC '${e}' stream ${r} transport closed`),D.Ro())}),S(h,lc.EventType.ERROR,A=>{y||(y=!0,hs(vt,`RPC '${e}' stream ${r} transport errored:`,A),D.Ro(new V(x.UNAVAILABLE,"The operation could not be completed")))}),S(h,lc.EventType.MESSAGE,A=>{var F;if(!y){let ue=A.data[0];Pe(!!ue);let H=ue,ye=H.error||((F=H[0])===null||F===void 0?void 0:F.error);if(ye){L(vt,`RPC '${e}' stream ${r} received error:`,ye);let Je=ye.status,pe=function(Zi){let Kr=Ke[Zi];if(Kr!==void 0)return hS(Kr)}(Je),ht=ye.message;pe===void 0&&(pe=x.INTERNAL,ht="Unknown error status: "+Je+" with message "+ye.message),y=!0,D.Ro(new V(pe,ht)),h.close()}else L(vt,`RPC '${e}' stream ${r} received:`,ue),D.Vo(ue)}}),S(a,u1.STAT_EVENT,A=>{A.stat===uv.PROXY?L(vt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===uv.NOPROXY&&L(vt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.Ao()},0),D}};function fv(){return typeof document<"u"?document:null}function Bh(t){return new Wv(t,!0)}var wh=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Ih=class{constructor(e,n,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new wh(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return E(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return E(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return E(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===n&&this.s_(i,r)},i=>{e(()=>{let r=new V(x.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,n){let i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(()=>E(this,null,function*(){this.state=0,this.start()}))}o_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ey=class extends Ih{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=CU(this.serializer,e),i=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?zn(s.readTime):J.min()}(e);return this.listener.a_(n,i)}u_(e){let n={};n.database=Jv(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Fv(c)?{documents:DU(o,c)}:{query:SU(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=fS(o,s.resumeToken);let l=Kv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=gh(o,s.snapshotVersion.toTimestamp());let l=Kv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=AU(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){let n={};n.database=Jv(this.serializer),n.removeTarget=e,this.e_(n)}},Cy=class extends Ih{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=TU(e.writeResults,e.commitTime),i=zn(e.commitTime);return this.listener.I_(i,n)}return Pe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Jv(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>bU(this.serializer,i))};this.e_(n)}};var by=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,n,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new V(x.UNKNOWN,r.toString())})}Co(e,n,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,i,o,s,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(x.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var Ty=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(fi(n),this.f_=!1):L("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var Dy=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{i.enqueueAndForget(()=>E(this,null,function*(){zr(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(c){return E(this,null,function*(){let l=Z(c);l.C_.add(4),yield Ac(l),l.M_.set("Unknown"),l.C_.delete(4),yield $h(l)})}(this))}))}),this.M_=new Ty(i,r)}};function $h(t){return E(this,null,function*(){if(zr(t))for(let e of t.v_)yield e(!0)})}function Ac(t){return E(this,null,function*(){for(let e of t.v_)yield e(!1)})}function IS(t,e){let n=Z(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),i0(n)?n0(n):Ss(n).Ho()&&t0(n,e))}function ES(t,e){let n=Z(t),i=Ss(n);n.D_.delete(e),i.Ho()&&CS(n,e),n.D_.size===0&&(i.Ho()?i.Zo():zr(n)&&n.M_.set("Unknown"))}function t0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ss(t).u_(e)}function CS(t,e){t.x_.Oe(e),Ss(t).c_(e)}function n0(t){t.x_=new zv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ss(t).start(),t.M_.g_()}function i0(t){return zr(t)&&!Ss(t).jo()&&t.D_.size>0}function zr(t){return Z(t).C_.size===0}function bS(t){t.x_=void 0}function qU(t){return E(this,null,function*(){t.D_.forEach((e,n)=>{t0(t,e)})})}function GU(t,e){return E(this,null,function*(){bS(t),i0(t)?(t.M_.w_(e),n0(t)):t.M_.set("Unknown")})}function HU(t,e,n){return E(this,null,function*(){if(t.M_.set("Online"),e instanceof ph&&e.state===2&&e.cause)try{yield function(r,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.D_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.D_.delete(a),r.x_.removeTarget(a))})}(t,e)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Eh(t,i)}else if(e instanceof us?t.x_.$e(e):e instanceof fh?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(J.min()))try{let i=yield wS(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(St.EMPTY_BYTE_STRING,u.snapshotVersion)),CS(o,c);let h=new wc(u.target,c,l,u.sequenceNumber);t0(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){L("RemoteStore","Failed to raise snapshot:",i),yield Eh(t,i)}})}function Eh(t,e,n){return E(this,null,function*(){if(!xc(e))throw e;t.C_.add(1),yield Ac(t),t.M_.set("Offline"),n||(n=()=>wS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield $h(t)}))})}function TS(t,e){return e().catch(n=>Eh(t,n,e))}function qh(t){return E(this,null,function*(){let e=Z(t),n=Yi(e),i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;zU(e);)try{let r=yield jU(e.localStore,i);if(r===null){e.b_.length===0&&n.Zo();break}i=r.batchId,WU(e,r)}catch(r){yield Eh(e,r)}DS(e)&&SS(e)})}function zU(t){return zr(t)&&t.b_.length<10}function WU(t,e){t.b_.push(e);let n=Yi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function DS(t){return zr(t)&&!Yi(t).jo()&&t.b_.length>0}function SS(t){Yi(t).start()}function KU(t){return E(this,null,function*(){Yi(t).E_()})}function QU(t){return E(this,null,function*(){let e=Yi(t);for(let n of t.b_)e.P_(n.mutations)})}function YU(t,e,n){return E(this,null,function*(){let i=t.b_.shift(),r=$v.from(i,e,n);yield TS(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield qh(t)})}function JU(t,e){return E(this,null,function*(){e&&Yi(t).h_&&(yield function(i,r){return E(this,null,function*(){if(function(s){return mU(s)&&s!==x.ABORTED}(r.code)){let o=i.b_.shift();Yi(i).Yo(),yield TS(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield qh(i)}})}(t,e)),DS(t)&&SS(t)})}function O1(t,e){return E(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let i=zr(n);n.C_.add(3),yield Ac(n),i&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield $h(n)})}function ZU(t,e){return E(this,null,function*(){let n=Z(t);e?(n.C_.delete(2),yield $h(n)):e||(n.C_.add(2),yield Ac(n),n.M_.set("Unknown"))})}function Ss(t){return t.O_||(t.O_=function(n,i,r){let o=Z(n);return o.A_(),new Ey(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:qU.bind(null,t),Io:GU.bind(null,t),a_:HU.bind(null,t)}),t.v_.push(e=>E(this,null,function*(){e?(t.O_.Yo(),i0(t)?n0(t):t.M_.set("Unknown")):(yield t.O_.stop(),bS(t))}))),t.O_}function Yi(t){return t.N_||(t.N_=function(n,i,r){let o=Z(n);return o.A_(),new Cy(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:KU.bind(null,t),Io:JU.bind(null,t),T_:QU.bind(null,t),I_:YU.bind(null,t)}),t.v_.push(e=>E(this,null,function*(){e?(t.N_.Yo(),yield qh(t)):(yield t.N_.stop(),t.b_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var Sy=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function r0(t,e){if(fi("AsyncQueue",`${e}: ${t}`),xc(t))return new V(x.UNAVAILABLE,`${e}: ${t}`);throw t}var Ch=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=dc(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var bh=class{constructor(){this.B_=new Ue(G.comparator)}track(e){let n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):W():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}},Es=class t{constructor(e,n,i,r,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Ch.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var xy=class{constructor(){this.k_=void 0,this.listeners=[]}},Ay=class{constructor(){this.queries=new Qi(e=>X1(e),jh),this.onlineState="Unknown",this.q_=new Set}};function xS(t,e){return E(this,null,function*(){let n=Z(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new xy),r)try{o.k_=yield n.onListen(i)}catch(s){let a=r0(s,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&o0(n)})}function AS(t,e){return E(this,null,function*(){let n=Z(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=o.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function XU(t,e){let n=Z(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&o0(n)}function eB(t,e,n){let i=Z(t),r=i.queries.get(e);if(r)for(let o of r.listeners)o.onError(n);i.queries.delete(e)}function o0(t){t.q_.forEach(e=>{e.next()})}var Th=class{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Es(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Dh=class{constructor(e){this.key=e}},Sh=class{constructor(e){this.key=e}},My=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=le(),this.mutatedKeys=le(),this._a=eS(e),this.aa=new Ch(this._a)}get ua(){return this.ia}ca(e,n){let i=n?n.la:new bh,r=n?n.aa:this.aa,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{let v=r.get(u),y=Uh(this.query,h)?h:null,D=!!v&&this.mutatedKeys.has(v.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;v&&y?v.data.isEqual(y.data)?D!==S&&(i.track({type:3,doc:y}),A=!0):this.ha(v,y)||(i.track({type:2,doc:y}),A=!0,(c&&this._a(y,c)>0||l&&this._a(y,l)<0)&&(a=!0)):!v&&y?(i.track({type:0,doc:y}),A=!0):v&&!y&&(i.track({type:1,doc:v}),A=!0,(c||l)&&(a=!0)),A&&(y?(s=s.add(y),o=S?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((u,h)=>function(y,D){let S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return S(y)-S(D)}(u.type,h.type)||this._a(u.doc,h.doc)),this.Pa(i),r=r!=null&&r;let a=n&&!r?this.Ia():[],c=this.oa.size===0&&this.current&&!r?1:0,l=c!==this.sa;return this.sa=c,s.length!==0||l?{snapshot:new Es(this.query,e.aa,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new bh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=le(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});let n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new Sh(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new Dh(i))}),n}da(e){this.ia=e.ls,this.oa=le();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Es.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Py=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},Ry=class{constructor(e){this.key=e,this.Ra=!1}},Ny=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Qi(a=>X1(a),jh),this.fa=new Map,this.ga=new Set,this.pa=new Ue(G.comparator),this.ya=new Map,this.wa=new Ec,this.Sa={},this.ba=new Map,this.Da=Ic.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function tB(t,e){return E(this,null,function*(){let n=dB(t),i,r,o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{let s=yield UU(n.localStore,Hn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield nB(n,e,i,a==="current",s.resumeToken),n.isPrimaryClient&&IS(n.remoteStore,s)}return r})}function nB(t,e,n,i,r){return E(this,null,function*(){t.va=(h,v,y)=>function(S,A,F,ue){return E(this,null,function*(){let H=A.view.ca(F);H.Zi&&(H=yield N1(S.localStore,A.query,!1).then(({documents:ht})=>A.view.ca(ht,H)));let ye=ue&&ue.targetChanges.get(A.targetId),Je=ue&&ue.targetMismatches.get(A.targetId)!=null,pe=A.view.applyChanges(H,S.isPrimaryClient,ye,Je);return F1(S,A.targetId,pe.Ta),pe.snapshot})}(t,h,v,y);let o=yield N1(t.localStore,e,!0),s=new My(e,o.ls),a=s.ca(o.documents),c=yc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=s.applyChanges(a,t.isPrimaryClient,c);F1(t,n,l.Ta);let u=new Py(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot})}function iB(t,e){return E(this,null,function*(){let n=Z(t),i=n.ma.get(e),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter(o=>!jh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _y(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),ES(n.remoteStore,i.targetId),Oy(n,i.targetId)}).catch(Sc))):(Oy(n,i.targetId),yield _y(n.localStore,i.targetId,!0))})}function rB(t,e,n){return E(this,null,function*(){let i=hB(t);try{let r=yield function(s,a){let c=Z(s),l=dt.now(),u=a.reduce((y,D)=>y.add(D.key),le()),h,v;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=pi(),S=le();return c.ss.getEntries(y,u).next(A=>{D=A,D.forEach((F,ue)=>{ue.isValidDocument()||(S=S.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,D)).next(A=>{h=A;let F=[];for(let ue of a){let H=pU(ue,h.get(ue.key).overlayedDocument);H!=null&&F.push(new Kn(ue.key,H,z1(H.value.mapValue),Hi.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,F,a)}).next(A=>{v=A;let F=A.applyToLocalDocumentSet(h,S);return c.documentOverlayCache.saveOverlays(y,A.batchId,F)})}).then(()=>({batchId:v.batchId,changes:nS(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Ue(ve)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(i,r.batchId,n),yield Mc(i,r.changes),yield qh(i.remoteStore)}catch(r){let o=r0(r,"Failed to persist write");n.reject(o)}})}function MS(t,e){return E(this,null,function*(){let n=Z(t);try{let i=yield VU(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.ya.get(o);s&&(Pe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Pe(s.Ra):r.removedDocuments.size>0&&(Pe(s.Ra),s.Ra=!1))}),yield Mc(n,i,e)}catch(i){yield Sc(i)}})}function k1(t,e,n){let i=Z(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=Z(s);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(let v of h.listeners)v.Q_(a)&&(l=!0)}),l&&o0(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function oB(t,e,n){return E(this,null,function*(){let i=Z(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.ya.get(e),o=r&&r.key;if(o){let s=new Ue(G.comparator);s=s.insert(o,bn.newNoDocument(o,J.min()));let a=le().add(o),c=new hh(J.min(),new Map,new Ue(ve),s,a);yield MS(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),s0(i)}else yield _y(i.localStore,e,!1).then(()=>Oy(i,e,n)).catch(Sc)})}function sB(t,e){return E(this,null,function*(){let n=Z(t),i=e.batch.batchId;try{let r=yield FU(n.localStore,e);RS(n,i,null),PS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Mc(n,r)}catch(r){yield Sc(r)}})}function aB(t,e,n){return E(this,null,function*(){let i=Z(t);try{let r=yield function(s,a){let c=Z(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Pe(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);RS(i,e,n),PS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Mc(i,r)}catch(r){yield Sc(r)}})}function PS(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function RS(t,e,n){let i=Z(t),r=i.Sa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||NS(t,i)})}function NS(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(ES(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),s0(t))}function F1(t,e,n){for(let i of n)i instanceof Dh?(t.wa.addReference(i.key,e),cB(t,i)):i instanceof Sh?(L("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||NS(t,i.key)):W()}function cB(t,e){let n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(L("SyncEngine","New document in limbo: "+n),t.ga.add(i),s0(t))}function s0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new G(Ve.fromString(e)),i=t.Da.next();t.ya.set(i,new Ry(n)),t.pa=t.pa.insert(n,i),IS(t.remoteStore,new wc(Hn(Xy(n.path)),i,"TargetPurposeLimboResolution",q1._e))}}function Mc(t,e,n){return E(this,null,function*(){let i=Z(t),r=[],o=[],s=[];i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=fy.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield function(c,l){return E(this,null,function*(){let u=Z(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>M.forEach(l,v=>M.forEach(v.ki,y=>u.persistence.referenceDelegate.addReference(h,v.targetId,y)).next(()=>M.forEach(v.qi,y=>u.persistence.referenceDelegate.removeReference(h,v.targetId,y)))))}catch(h){if(!xc(h))throw h;L("LocalStore","Failed to update sequence numbers: "+h)}for(let h of l){let v=h.targetId;if(!h.fromCache){let y=u.ts.get(v),D=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(D);u.ts=u.ts.insert(v,S)}}})}(i.localStore,o))})}function lB(t,e){return E(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let i=yield yS(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new V(x.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Mc(n,i._s)}})}function uB(t,e){let n=Z(t),i=n.ya.get(e);if(i&&i.Ra)return le().add(i.key);{let r=le(),o=n.fa.get(e);if(!o)return r;for(let s of o){let a=n.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function dB(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oB.bind(null,e),e.Va.a_=XU.bind(null,e.eventManager),e.Va.Fa=eB.bind(null,e.eventManager),e}function hB(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aB.bind(null,e),e}var xh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return E(this,null,function*(){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kU(this.persistence,new my,e.initialUser,this.serializer)}createPersistence(e){return new uy(hy.jr,this.serializer)}createSharedClientState(e){return new vy}terminate(){return E(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var ky=class{initialize(e,n){return E(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>k1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lB.bind(null,this.syncEngine),yield ZU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Ay}()}createDatastore(e){let n=Bh(e.databaseInfo.databaseId),i=function(o){return new Iy(o)}(e.databaseInfo);return function(o,s,a,c){return new by(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new Dy(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>k1(this.syncEngine,n,0),function(){return yh.D()?new yh:new yy}())}createSyncEngine(e,n){return function(r,o,s,a,c,l,u){let h=new Ny(r,o,s,a,c,l);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return E(this,null,function*(){let i=Z(n);L("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Ac(i),i.F_.shutdown(),i.M_.set("Unknown")})}(this.remoteStore)}};var Ah=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Fy=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=it.UNAUTHENTICATED,this.clientId=oh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>E(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return E(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=r0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function pv(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>E(this,null,function*(){i.isEqual(r)||(yield yS(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function V1(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield pB(t);L("FirestoreClient","Initializing OnlineComponentProvider");let i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(r=>O1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>O1(e.remoteStore,o)),t._onlineComponents=e})}function fB(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function pB(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!fB(n))throw n;hs("Error using user provided cache. Falling back to memory cache: "+n),yield pv(t,new xh)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield pv(t,new xh);return t._offlineComponents})}function OS(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield V1(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield V1(t,new ky))),t._onlineComponents})}function mB(t){return OS(t).then(e=>e.syncEngine)}function kS(t){return E(this,null,function*(){let e=yield OS(t),n=e.eventManager;return n.onListen=tB.bind(null,e.syncEngine),n.onUnlisten=iB.bind(null,e.syncEngine),n})}function gB(t,e,n={}){let i=new Cn;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(o,s,a,c,l){let u=new Ah({next:v=>{s.enqueueAndForget(()=>AS(o,h));let y=v.docs.has(a);!y&&v.fromCache?l.reject(new V(x.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?l.reject(new V(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(v)},error:v=>l.reject(v)}),h=new Th(Xy(a.path),u,{includeMetadataChanges:!0,J_:!0});return xS(o,h)}(yield kS(t),t.asyncQueue,e,n,i)})),i.promise}function _B(t,e,n={}){let i=new Cn;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(o,s,a,c,l){let u=new Ah({next:v=>{s.enqueueAndForget(()=>AS(o,h)),v.fromCache&&c.source==="server"?l.reject(new V(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(v)},error:v=>l.reject(v)}),h=new Th(a,u,{includeMetadataChanges:!0,J_:!0});return xS(o,h)}(yield kS(t),t.asyncQueue,e,n,i)})),i.promise}function FS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var L1=new Map;function VS(t,e,n){if(!n)throw new V(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vB(t,e,n,i){if(e===!0&&i===!0)throw new V(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j1(t){if(!G.isDocumentKey(t))throw new V(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function U1(t){if(G.isDocumentKey(t))throw new V(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Gh(t);throw new V(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Mh=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new V(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Cs=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mh(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new mv;switch(i.type){case"firstParty":return new yv(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new V(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=L1.get(n);i&&(L("ComponentProvider","Removing Datastore"),L1.delete(n),i.terminate())}(this),Promise.resolve()}};function LS(t,e,n,i={}){var r;let o=(t=Ji(t,Cs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=it.MOCK_USER;else{a=uT(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new V(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new it(l)}t._authCredentials=new gv(new rh(a,c))}}var bs=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Vt=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zi=class t extends bs{constructor(e,n,i){super(e,n,Xy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function jS(t,e,...n){if(t=Tt(t),VS("collection","path",e),t instanceof Cs){let i=Ve.fromString(e,...n);return U1(i),new zi(t,null,i)}{if(!(t instanceof Vt||t instanceof zi))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Ve.fromString(e,...n));return U1(i),new zi(t.firestore,null,i)}}function a0(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=oh.newId()),VS("doc","path",e),t instanceof Cs){let i=Ve.fromString(e,...n);return j1(i),new Vt(t,null,new G(i))}{if(!(t instanceof Vt||t instanceof zi))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Ve.fromString(e,...n));return j1(i),new Vt(t.firestore,t instanceof zi?t.converter:null,new G(i))}}var Vy=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new wh(this,"async_queue_retry"),this.iu=()=>{let n=fv();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=fv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=fv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new Cn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return E(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!xc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw fi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);let r=Sy.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&W()}verifyOperationInProgress(){}uu(){return E(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};var Gr=class extends Cs{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Vy}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BS(this),this._firestoreClient.terminate()}};function US(t,e){let n=typeof t=="object"?t:Oa(),i=typeof t=="string"?t:e||"(default)",r=i_(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=cT("firestore");o&&LS(r,...o)}return r}function c0(t){return t._firestoreClient||BS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BS(t){var e,n,i;let r=t._freezeSettings(),o=function(a,c,l,u){return new bv(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,FS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Fy(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Cc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(St.fromBase64String(e))}catch(n){throw new V(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ts=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var bc=class{constructor(e){this._methodName=e}};var Tc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var yB=/^__.*__$/,Ly=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new qr(e,this.data,n,this.fieldTransforms)}},Ph=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function $S(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var jy=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Nh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if($S(this.Iu)&&yB.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},Uy=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Bh(e)}pu(e,n,i,r=!1){return new jy({Iu:e,methodName:n,gu:i,path:Wt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function l0(t){let e=t._freezeSettings(),n=Bh(t._databaseId);return new Uy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wB(t,e,n,i,r,o={}){let s=t.pu(o.merge||o.mergeFields?2:0,e,n,r);u0("Data must be an object, but it was:",s,i);let a=qS(i,s),c,l;if(o.merge)c=new dn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let h of o.mergeFields){let v=By(e,h,n);if(!s.contains(v))throw new V(x.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);HS(u,v)||u.push(v)}c=new dn(u),l=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=s.fieldTransforms;return new Ly(new zt(a),c,l)}var Rh=class t extends bc{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function IB(t,e,n,i){let r=t.pu(1,e,n);u0("Data must be an object, but it was:",r,i);let o=[],s=zt.empty();Hr(i,(c,l)=>{let u=d0(e,c,n);l=Tt(l);let h=r.Ru(u);if(l instanceof Rh)o.push(u);else{let v=Pc(l,h);v!=null&&(o.push(u),s.set(u,v))}});let a=new dn(o);return new Ph(s,a,r.fieldTransforms)}function EB(t,e,n,i,r,o){let s=t.pu(1,e,n),a=[By(e,i,n)],c=[r];if(o.length%2!=0)throw new V(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(By(e,o[v])),c.push(o[v+1]);let l=[],u=zt.empty();for(let v=a.length-1;v>=0;--v)if(!HS(l,a[v])){let y=a[v],D=c[v];D=Tt(D);let S=s.Ru(y);if(D instanceof Rh)l.push(y);else{let A=Pc(D,S);A!=null&&(l.push(y),u.set(y,A))}}let h=new dn(l);return new Ph(u,h,s.fieldTransforms)}function CB(t,e,n,i=!1){return Pc(n,t.pu(i?4:3,e))}function Pc(t,e){if(GS(t=Tt(t)))return u0("Unsupported field value:",e,t),qS(t,e);if(t instanceof bc)return function(i,r){if(!$S(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=Pc(a,r.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return lU(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=dt.fromDate(i);return{timestampValue:gh(r.serializer,o)}}if(i instanceof dt){let o=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gh(r.serializer,o)}}if(i instanceof Tc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Cc)return{bytesValue:fS(r.serializer,i._byteString)};if(i instanceof Vt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:e0(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Gh(i)}`)}(t,e)}function qS(t,e){let n={};return G1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(t,(i,r)=>{let o=Pc(r,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function GS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof Tc||t instanceof Cc||t instanceof Vt||t instanceof bc)}function u0(t,e,n){if(!GS(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Gh(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function By(t,e,n){if((e=Tt(e))instanceof Ts)return e._internalPath;if(typeof e=="string")return d0(t,e);throw Nh("Field path arguments must be of type string or ",t,!1,void 0,n)}var bB=new RegExp("[~\\*/\\[\\]]");function d0(t,e,n){if(e.search(bB)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ts(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nh(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new V(x.INVALID_ARGUMENT,a+t+c)}function HS(t,e){return t.some(n=>n.isEqual(e))}var Oh=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(h0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},$y=class extends Oh{data(){return super.data()}};function h0(t,e){return typeof e=="string"?d0(t,e):e instanceof Ts?e._internalPath:e._delegate._internalPath}function TB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dc=class{},qy=class extends Dc{};function zS(t,e,...n){let i=[];e instanceof Dc&&i.push(e),i=i.concat(n),function(o){let s=o.filter(c=>c instanceof Gy).length,a=o.filter(c=>c instanceof kh).length;if(s>1||s>0&&a>0)throw new V(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var kh=class t extends qy{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return KS(e._query,n),new bs(e.firestore,e.converter,Vv(e._query,n))}_parse(e){let n=l0(e.firestore);return function(o,s,a,c,l,u,h){let v;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new V(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){$1(h,u);let y=[];for(let D of h)y.push(B1(c,o,D));v={arrayValue:{values:y}}}else v=B1(c,o,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||$1(h,u),v=CB(a,s,h,u==="in"||u==="not-in");return Ye.create(l,u,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function WS(t,e,n){let i=e,r=h0("where",t);return kh._create(r,i,n)}var Gy=class t extends Dc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Tn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)KS(s,c),s=Vv(s,c)}(e._query,n),new bs(e.firestore,e.converter,Vv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function B1(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new V(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z1(e)&&n.indexOf("/")!==-1)throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Ve.fromString(n));if(!G.isDocumentKey(i))throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return g1(t,new G(i))}if(n instanceof Vt)return g1(t,n._key);throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function $1(t,e){if(!Array.isArray(t)||t.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KS(t,e){let n=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Hy=class{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Hr(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Tc(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=Qy(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(_c(e));default:return null}}convertTimestamp(e){let n=Wi(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Ve.fromString(e);Pe(vS(i));let r=new lh(i.get(1),i.get(3)),o=new G(i.popFirst(5));return r.isEqual(n)||fi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function DB(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Fr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fh=class extends Oh{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(h0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},ds=class extends Fh{data(e={}){return super.data(e)}},zy=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Fr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ds(this._firestore,this._userDataWriter,i.key,i,new Fr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new ds(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Fr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ds(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Fr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:SB(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function SB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function QS(t){t=Ji(t,Vt);let e=Ji(t.firestore,Gr);return gB(c0(e),t._key).then(n=>xB(e,t,n))}var Vh=class extends Hy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}};function YS(t){t=Ji(t,bs);let e=Ji(t.firestore,Gr),n=c0(e),i=new Vh(e);return TB(t._query),_B(n,t._query).then(r=>new zy(e,i,t,r))}function JS(t,e,n,...i){t=Ji(t,Vt);let r=Ji(t.firestore,Gr),o=l0(r),s;return s=typeof(e=Tt(e))=="string"||e instanceof Ts?EB(o,"updateDoc",t._key,e,n,i):IB(o,"updateDoc",t._key,e),XS(r,[s.toMutation(t._key,Hi.exists(!0))])}function ZS(t,e){let n=Ji(t.firestore,Gr),i=a0(t),r=DB(t.converter,e);return XS(n,[wB(l0(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Hi.exists(!1))]).then(()=>i)}function XS(t,e){return function(i,r){let o=new Cn;return i.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return rB(yield mB(i),r,o)})),o.promise}(c0(t),e)}function xB(t,e,n){let i=n.docs.get(e._key),r=new Vh(t);return new Fh(t,r,e._key,i,new Fr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Ds=r})(Jo),Bi(new ln("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Gr(new _v(i.getProvider("auth-internal")),new Iv(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),et(f1,"4.4.0",e),et(f1,"4.4.0","esm2017")})();var Wr=class{constructor(e){return e}},ex="firestore",f0=class{constructor(){return Fa(ex)}};var p0=new U("angularfire2.firestore-instances");function AB(t,e){let n=s_(ex,t,e);return n&&new Wr(n)}function MB(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Wr(i)}}var PB={provide:f0,deps:[[new Jt,p0]]},RB={provide:Wr,useFactory:AB,deps:[[new Jt,p0],Dr]},NB=(()=>{class t{constructor(){et("angularfire",Xo.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Nt({type:t});static \u0275inj=Rt({providers:[RB,PB]})}return t})();function tx(t,...e){return{ngModule:NB,providers:[{provide:p0,useFactory:MB(t),multi:!0,deps:[we,kt,Va,La,[new Jt,bd],[new Jt,ka],...e]}]}}var m0=Gt(ZS,!0);var Rc=Gt(jS,!0);var Hh=Gt(a0,!0);var g0=Gt(QS,!0);var _0=Gt(YS,!0);var nx=Gt(US,!0);var ix=Gt(zS,!0);var rx=Gt(JS,!0);var ox=Gt(WS,!0);var xs=(()=>{class t{constructor(n){this.firestore=n}saveMatch(n){return E(this,null,function*(){let i=yield m0(Rc(this.firestore,"matches"),te(R({},n),{heureDebut:n.heureDebut.toISOString(),updatedAt:new Date}));return console.log("Match saved:",i.id),i.id})}getAllMatches(){return E(this,null,function*(){let n=Rc(this.firestore,"matches");return(yield _0(n)).docs.map(r=>{let o=r.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date,duelsGagnes:o.duelsGagnes||[]}})})}getMatchById(n){return E(this,null,function*(){let i=yield g0(Hh(this.firestore,"matches",n));if(i.exists()){let r=i.data();return{equipe1:r.equipe1||"",equipe2:r.equipe2||"",score1:r.score1||0,score2:r.score2||0,buteurs:r.buteurs||[],heureDebut:new Date(r.heureDebut),lieu:r.lieu||"",positions:r.positions||{},showElements:r.showElements!==void 0?r.showElements:!0,competition:r.competition||void 0,updatedAt:r.updatedAt?new Date(r.updatedAt):new Date,duelsGagnes:r.duelsGagnes||[]}}return null})}saveCompetition(n){return E(this,null,function*(){let i=yield m0(Rc(this.firestore,"competitions"),te(R({},n),{createdAt:new Date,updatedAt:new Date}));return console.log("Competition saved:",i.id),i.id})}getCompetitionById(n){return E(this,null,function*(){let i=yield g0(Hh(this.firestore,"competitions",n));return i.exists()?te(R({},i.data()),{id:i.id}):null})}getCompetitionByName(n){return E(this,null,function*(){let i=Rc(this.firestore,"competitions"),r=ix(i,ox("name","==",n)),o=yield _0(r);if(!o.empty){let s=o.docs[0];return te(R({},s.data()),{id:s.id})}return null})}addMatchToCompetition(n,i){return E(this,null,function*(){let r=Hh(this.firestore,"competitions",n),o=yield this.getCompetitionById(n);if(o){let s=[...o.matchIds,i];yield rx(r,{matchIds:s,updatedAt:new Date})}})}getMatchesByCompetition(n){return E(this,null,function*(){let i=yield this.getCompetitionById(n);if(!i)return[];let r=[];for(let o of i.matchIds){let s=yield this.getMatchById(o);s&&r.push(s)}return r})}shareCompetition(n,i,r){return E(this,null,function*(){let o={name:n,matchIds:[],createdAt:new Date,updatedAt:new Date},s=yield this.saveCompetition(o);return r?.("Comp\xE9tition cr\xE9\xE9e"),s})}static{this.\u0275fac=function(i){return new(i||t)(B(Wr))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Dn=()=>({standalone:!0}),kB=t=>({"disabled-goal":t}),ax=()=>[],FB=(t,e)=>({"text-success":t,"text-danger":e});function VB(t,e){if(t&1){let n=k();f(0,"button",22),C("click",function(){w(n);let r=_();return I(r.showMatchForm=!0)}),T(1,"i",23),f(2,"span",24),m(3," Match"),p()()}if(t&2){let n=_();d(2),g("hidden",n.selectedCompetitionFilter)}}function LB(t,e){if(t&1){let n=k();f(0,"button",22),C("click",function(){w(n);let r=_();return I(r.showTeamFilterModal=!0)}),T(1,"i",25),p()}}function jB(t,e){if(t&1){let n=k();f(0,"button",26),C("click",function(){w(n);let r=_();return I(r.showCompetitionFilterModal=!0)}),T(1,"i",27),f(2,"span",28),m(3),p()()}if(t&2){let n=_();g("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info"),d(3),O(" ",n.selectedCompetitionFilter||"Comp\xE9titions","")}}function UB(t,e){if(t&1){let n=k();f(0,"button",29),C("click",function(){w(n);let r=_();return I(r.showRanking())}),T(1,"i",30)(2,"span"),p()}if(t&2){let n=_();g("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter),d(),Ee("text-white",n.selectedCompetitionFilter),d(),Ee("text-white",n.selectedCompetitionFilter)}}function BB(t,e){if(t&1){let n=k();f(0,"button",31),C("click",function(){w(n);let r=_();return I(r.shareCompetition())}),T(1,"i",32)(2,"span"),p()}if(t&2){let n=_();g("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter)("disabled",n.isSharingCompetition),d(),Ee("text-white",n.selectedCompetitionFilter),g("ngClass",n.isSharingCompetition?"fa-spinner fa-spin":"fa-share-alt"),d(),Ee("text-white",n.selectedCompetitionFilter)}}function $B(t,e){if(t&1){let n=k();f(0,"div",42)(1,"input",49),Oe("ngModelChange",function(r){w(n);let o=_(2);return Fe(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),I(r)}),p(),f(2,"label",50),m(3),p()()}if(t&2){let n=e.$implicit,i=_(2);d(),Mo("id",n.name),g("value",n.name),Ne("ngModel",i.selectedTeamFilter),d(),Mo("for",n.name),d(),re(n.name)}}function qB(t,e){if(t&1){let n=k();f(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36)(4,"h5",37),m(5,"S\xE9lectionner une \xC9quipe"),p(),f(6,"button",38),C("click",function(){w(n);let r=_();return I(r.closeTeamFilterModal())}),f(7,"span",39),m(8,"\xD7"),p()()(),f(9,"div",40),b(10,$B,4,5,"div",41),f(11,"div",42)(12,"input",43),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),I(r)}),p(),f(13,"label",44),m(14,"Toutes les \xE9quipes"),p()()(),f(15,"div",45)(16,"button",46),C("click",function(){w(n);let r=_();return I(r.openEditPlayersModal(r.selectedTeamFilter))}),m(17," \xC9diter "),p(),f(18,"button",47),C("click",function(){w(n);let r=_();return I(r.openNewTeamModal())}),T(19,"i",23),m(20," \xC9quipe "),p(),f(21,"button",48),C("click",function(){w(n);let r=_();return I(r.closeTeamFilterModal())}),m(22,"Fermer"),p()()()()()}if(t&2){let n=_();d(10),g("ngForOf",n.teams),d(2),g("value",""),Ne("ngModel",n.selectedTeamFilter),d(4),g("disabled",!n.selectedTeamFilter||n.selectedTeamFilter==="")}}function GB(t,e){if(t&1){let n=k();f(0,"div",42)(1,"input",49),Oe("ngModelChange",function(r){w(n);let o=_(2);return Fe(o.selectedCompetitionFilter,r)||(o.selectedCompetitionFilter=r),I(r)}),p(),f(2,"label",50)(3,"span",56),m(4),p()()()}if(t&2){let n=e.$implicit,i=_(2);d(),Mo("id",n),g("value",n),Ne("ngModel",i.selectedCompetitionFilter),d(),Mo("for",n),d(),g("ngClass",i.getCompetitionBadgeColor(n)),d(),re(n)}}function HB(t,e){if(t&1){let n=k();f(0,"div",51)(1,"div",34)(2,"div",35)(3,"div",36)(4,"h5",52),m(5,"S\xE9lectionner une Comp\xE9tition"),p(),f(6,"button",38),C("click",function(){w(n);let r=_();return I(r.closeCompetitionFilterModal())}),f(7,"span",39),m(8,"\xD7"),p()()(),f(9,"div",40),b(10,GB,5,6,"div",41),f(11,"div",42)(12,"input",53),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.selectedCompetitionFilter,r)||(o.selectedCompetitionFilter=r),I(r)}),p(),f(13,"label",54),m(14,"Toutes les comp\xE9titions"),p()()(),f(15,"div",55)(16,"button",48),C("click",function(){w(n);let r=_();return I(r.closeCompetitionFilterModal())}),m(17,"Fermer"),p()()()()()}if(t&2){let n=_();d(10),g("ngForOf",n.uniqueCompetitions),d(2),g("value",""),Ne("ngModel",n.selectedCompetitionFilter)}}function zB(t,e){if(t&1){let n=k();f(0,"button",90),C("click",function(){let r=w(n).$implicit,o=_(3);return I(o.selectTeam1(r))}),m(1),p()}if(t&2){let n=e.$implicit;d(),re(n)}}function WB(t,e){if(t&1&&(f(0,"div",88),b(1,zB,2,1,"button",89),p()),t&2){let n=_(2);d(),g("ngForOf",n.filteredTeams1)}}function KB(t,e){if(t&1){let n=k();f(0,"div",91)(1,"button",92),C("click",function(){w(n);let r=_(2);return I(r.selectTeam1(r.team1Search))}),m(2),p()()}if(t&2){let n=_(2);d(2),O(' Cr\xE9er "',n.team1Search,'" ')}}function QB(t,e){if(t&1){let n=k();f(0,"button",90),C("click",function(){let r=w(n).$implicit,o=_(3);return I(o.selectTeam2(r))}),m(1),p()}if(t&2){let n=e.$implicit;d(),re(n)}}function YB(t,e){if(t&1&&(f(0,"div",88),b(1,QB,2,1,"button",89),p()),t&2){let n=_(2);d(),g("ngForOf",n.filteredTeams2)}}function JB(t,e){if(t&1){let n=k();f(0,"div",91)(1,"button",92),C("click",function(){w(n);let r=_(2);return I(r.selectTeam2(r.team2Search))}),m(2),p()()}if(t&2){let n=_(2);d(2),O(' Cr\xE9er "',n.team2Search,'" ')}}function ZB(t,e){if(t&1){let n=k();f(0,"button",90),C("click",function(){let r=w(n).$implicit,o=_(3);return I(o.selectCompetition(r))}),m(1),p()}if(t&2){let n=e.$implicit;d(),re(n)}}function XB(t,e){if(t&1&&(f(0,"div",88),b(1,ZB,2,1,"button",89),p()),t&2){let n=_(2);d(),g("ngForOf",n.filteredCompetitions)}}function e$(t,e){if(t&1){let n=k();f(0,"div",91)(1,"button",92),C("click",function(){w(n);let r=_(2);return I(r.selectCompetition(r.competitionSearch))}),m(2),p()()}if(t&2){let n=_(2);d(2),O(' Cr\xE9er "',n.competitionSearch,'" ')}}function t$(t,e){if(t&1){let n=k();f(0,"div",57)(1,"div",58)(2,"div",35)(3,"div",36)(4,"h4",59),T(5,"i",60),m(6,"Ajouter un Match! "),p(),f(7,"button",61),C("click",function(){w(n);let r=_();return I(r.showMatchForm=!1)}),p()(),f(8,"div",40)(9,"form",62),C("ngSubmit",function(){w(n);let r=_();return I(r.onSubmit())}),f(10,"div",63)(11,"div",64)(12,"div",65)(13,"label",66),m(14,"\xC9quipe 1"),p(),f(15,"input",67),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.team1Search,r)||(o.team1Search=r),I(r)}),C("input",function(){w(n);let r=_();return I(r.updateFilteredTeams1())})("focus",function(){w(n);let r=_();return I(r.updateFilteredTeams1())}),p(),T(16,"input",68),b(17,WB,2,1,"div",69)(18,KB,3,1,"div",70),p(),f(19,"div",65)(20,"label",71),m(21,"\xC9quipe 2"),p(),f(22,"input",72),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.team2Search,r)||(o.team2Search=r),I(r)}),C("input",function(){w(n);let r=_();return I(r.updateFilteredTeams2())})("focus",function(){w(n);let r=_();return I(r.updateFilteredTeams2())}),p(),T(23,"input",73),b(24,YB,2,1,"div",69)(25,JB,3,1,"div",70),p()(),f(26,"div",64)(27,"div",74)(28,"label",75),m(29,"Heure de d\xE9but"),p(),T(30,"input",76),p(),f(31,"div",74)(32,"label",77),m(33,"Lieu du match (optionnel)"),p(),T(34,"input",78),p(),f(35,"div",65)(36,"label",79),m(37,"Comp\xE9tition (optionnel)"),p(),f(38,"input",80),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.competitionSearch,r)||(o.competitionSearch=r),I(r)}),C("input",function(){w(n);let r=_();return I(r.updateFilteredCompetitions())})("focus",function(){w(n);let r=_();return I(r.updateFilteredCompetitions())}),p(),T(39,"input",81),b(40,XB,2,1,"div",69)(41,e$,3,1,"div",70),p()()(),f(42,"div",82)(43,"button",83),m(44," Cr\xE9er le match "),p(),f(45,"button",84),m(46," \u{1F9F0} "),p(),f(47,"button",85),C("click",function(){w(n);let r=_();return I(r.showMatchForm=!1)}),m(48," Annuler "),p(),f(49,"ul",86)(50,"li")(51,"a",87),C("click",function(){w(n);let r=_();return I(r.exportMatches())}),m(52,"Exporter les matchs"),p()(),f(53,"li")(54,"a",87),C("click",function(){w(n);let r=_();return I(r.importMatches())}),m(55,"Importer des matchs"),p()()()()()()()()()}if(t&2){let n=_();d(9),g("formGroup",n.matchForm),d(6),Ne("ngModel",n.team1Search),g("ngModelOptions",Ft(14,Dn)),d(2),g("ngIf",n.filteredTeams1.length>0&&n.team1Search),d(),g("ngIf",n.shouldShowCreateTeam1()),d(4),Ne("ngModel",n.team2Search),g("ngModelOptions",Ft(15,Dn)),d(2),g("ngIf",n.filteredTeams2.length>0&&n.team2Search),d(),g("ngIf",n.shouldShowCreateTeam2()),d(13),Ne("ngModel",n.competitionSearch),g("ngModelOptions",Ft(16,Dn)),d(2),g("ngIf",n.filteredCompetitions.length>0&&n.competitionSearch),d(),g("ngIf",n.shouldShowCreateCompetition()),d(2),g("disabled",!n.matchForm.valid)}}function n$(t,e){t&1&&(f(0,"span",107),m(1,"\u2022"),p())}function i$(t,e){if(t&1&&(f(0,"span"),m(1),p()),t&2){let n=_().$implicit;d(),re(n.lieu)}}function r$(t,e){t&1&&(f(0,"span",107),m(1,"\u2022"),p())}function o$(t,e){if(t&1&&(f(0,"span")(1,"span",56),m(2),p()()),t&2){let n=_().$implicit,i=_(2);d(),g("ngClass",i.getCompetitionBadgeColor(n.competition)),d(),re(n.competition)}}function s$(t,e){t&1&&(f(0,"span"),T(1,"br"),p())}function a$(t,e){t&1&&(f(0,"span"),m(1,","),p())}function c$(t,e){if(t&1&&(f(0,"span",116),m(1),p()),t&2){let n=_(2).$implicit;d(),O("(Assist: ",n.assist,")")}}function l$(t,e){if(t&1&&(Se(0),b(1,s$,2,0,"span",100),m(2),b(3,a$,2,0,"span",100)(4,c$,2,1,"span",115),xe()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",n,"'"),d(),g("ngIf",i<r.minutes.length-1),d(),g("ngIf",r.assist)}}function u$(t,e){if(t&1&&(f(0,"div")(1,"div",113)(2,"span"),m(3),p(),f(4,"span",114),b(5,l$,5,4,"ng-container",111),p()()()),t&2){let n=e.$implicit;d(3),O("\u26BD ",n.nom,":"),d(2),g("ngForOf",n.minutes)}}function d$(t,e){t&1&&(f(0,"span"),T(1,"br"),p())}function h$(t,e){t&1&&(f(0,"span"),m(1,","),p())}function f$(t,e){if(t&1&&(f(0,"span",116),m(1),p()),t&2){let n=_(2).$implicit;d(),O("(Assist: ",n.assist,")")}}function p$(t,e){if(t&1&&(Se(0),b(1,d$,2,0,"span",100),m(2),b(3,h$,2,0,"span",100)(4,f$,2,1,"span",115),xe()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",n,"'"),d(),g("ngIf",i<r.minutes.length-1),d(),g("ngIf",r.assist)}}function m$(t,e){if(t&1&&(f(0,"div")(1,"div",117)(2,"span"),m(3),p(),f(4,"span",114),b(5,p$,5,4,"ng-container",111),p()()()),t&2){let n=e.$implicit;d(3),O("\u26BD ",n.nom,":"),d(2),g("ngForOf",n.minutes)}}function g$(t,e){t&1&&(f(0,"span"),T(1,"br"),p())}function _$(t,e){t&1&&(f(0,"span"),m(1,","),p())}function v$(t,e){if(t&1&&(f(0,"span",116),m(1),p()),t&2){let n=_(2).$implicit;d(),O("(Assist: ",n.assist,")")}}function y$(t,e){if(t&1&&(Se(0),b(1,g$,2,0,"span",100),m(2),b(3,_$,2,0,"span",100)(4,v$,2,1,"span",115),xe()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",n,"'"),d(),g("ngIf",i<r.minutes.length-1),d(),g("ngIf",r.assist)}}function w$(t,e){if(t&1&&(f(0,"div")(1,"div",113)(2,"span"),m(3),p(),f(4,"span",118),b(5,y$,5,4,"ng-container",111),p()()()),t&2){let n=e.$implicit;d(3),O("\u26BD ",n.nom,":"),d(2),g("ngForOf",n.minutes)}}function I$(t,e){t&1&&(f(0,"span"),T(1,"br"),p())}function E$(t,e){t&1&&(f(0,"span"),m(1,","),p())}function C$(t,e){if(t&1&&(f(0,"span",116),m(1),p()),t&2){let n=_(2).$implicit;d(),O("(Assist: ",n.assist,")")}}function b$(t,e){if(t&1&&(Se(0),b(1,I$,2,0,"span",100),m(2),b(3,E$,2,0,"span",100)(4,C$,2,1,"span",115),xe()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",n,"'"),d(),g("ngIf",i<r.minutes.length-1),d(),g("ngIf",r.assist)}}function T$(t,e){if(t&1&&(f(0,"div")(1,"div",117)(2,"span"),m(3),p(),f(4,"span",118),b(5,b$,5,4,"ng-container",111),p()()()),t&2){let n=e.$implicit;d(3),O("\u26BD ",n.nom,":"),d(2),g("ngForOf",n.minutes)}}function D$(t,e){if(t&1&&(f(0,"div",108)(1,"div",109)(2,"div",110),b(3,u$,6,2,"div",111)(4,m$,6,2,"div",111),p(),f(5,"div",112),b(6,w$,6,2,"div",111)(7,T$,6,2,"div",111),p()()()),t&2){let n=_().$implicit,i=_(2);d(3),g("ngForOf",i.getActiveGroupedScorers(n,1)),d(),g("ngForOf",i.getDisabledGroupedScorers(n,1)),d(2),g("ngForOf",i.getActiveGroupedScorers(n,2)),d(),g("ngForOf",i.getDisabledGroupedScorers(n,2))}}function S$(t,e){t&1&&(f(0,"span"),T(1,"br"),p())}function x$(t,e){t&1&&(f(0,"span"),m(1,","),p())}function A$(t,e){if(t&1&&(Se(0),b(1,S$,2,0,"span",100),m(2),b(3,x$,2,0,"span",100),xe()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",n,"'"),d(),g("ngIf",i<r.minutes.length-1)}}function M$(t,e){if(t&1&&(f(0,"div")(1,"div",119)(2,"span"),m(3),p(),f(4,"span",114),b(5,A$,4,3,"ng-container",111),p()()()),t&2){let n=e.$implicit;d(3),O("\u{1F6E1}\uFE0F ",n.nom,":"),d(2),g("ngForOf",n.minutes)}}function P$(t,e){t&1&&(f(0,"span"),T(1,"br"),p())}function R$(t,e){t&1&&(f(0,"span"),m(1,","),p())}function N$(t,e){if(t&1&&(Se(0),b(1,P$,2,0,"span",100),m(2),b(3,R$,2,0,"span",100),xe()),t&2){let n=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",n,"'"),d(),g("ngIf",i<r.minutes.length-1)}}function O$(t,e){if(t&1&&(f(0,"div")(1,"div",119)(2,"span"),m(3),p(),f(4,"span",118),b(5,N$,4,3,"ng-container",111),p()()()),t&2){let n=e.$implicit;d(3),O("\u{1F6E1}\uFE0F ",n.nom,":"),d(2),g("ngForOf",n.minutes)}}function k$(t,e){if(t&1&&(f(0,"div",108)(1,"div",109)(2,"div",110),b(3,M$,6,2,"div",111),p(),f(4,"div",112),b(5,O$,6,2,"div",111),p()()()),t&2){let n=_().$implicit,i=_(2);d(3),g("ngForOf",i.getGroupedDuels(n,1)),d(2),g("ngForOf",i.getGroupedDuels(n,2))}}function F$(t,e){if(t&1){let n=k();f(0,"div",120)(1,"button",121),C("click",function(){w(n);let r=_().$implicit,o=_(2);return I(o.selectMatch(r))}),T(2,"i",122),p(),f(3,"button",123),C("click",function(){w(n);let r=_().$implicit,o=_(2);return I(o.openDispositionModal(r))}),T(4,"i",124),p(),f(5,"button",125),C("click",function(){w(n);let r=_().$implicit,o=_(2);return I(o.toggleMatchEditForm(r))}),T(6,"i",32),p(),f(7,"button",126),C("click",function(){w(n);let r=_().$implicit,o=_(2);return I(o.shareMatch(r))}),T(8,"i",32),f(9,"span",127),m(10,"Partager"),p()()()}if(t&2){let n=_(3);d(6),g("ngClass",n.showMatchEditForm?"fa-pen-fancy":"fa-edit"),d(),g("disabled",n.isSharingMatch),d(),g("ngClass",n.isSharingMatch?"fa-spinner fa-spin":"fa-share-alt")}}function V$(t,e){if(t&1){let n=k();f(0,"div",96)(1,"div",97)(2,"div",98)(3,"span"),m(4),Ro(5,"date"),p(),b(6,n$,2,0,"span",99)(7,i$,2,1,"span",100)(8,r$,2,0,"span",99)(9,o$,3,2,"span",100),f(10,"button",101),C("click",function(){let r=w(n).$implicit,o=_(2);return I(o.toggleVisibility(r))}),T(11,"i",32),p()(),f(12,"div",102)(13,"div",103),m(14),p(),f(15,"button",104),C("click",function(){let r=w(n).$implicit,o=_(2);return I(o.selectMatch(r))}),m(16),p(),f(17,"div",103),m(18),p()(),b(19,D$,8,4,"div",105)(20,k$,6,2,"div",105)(21,F$,11,3,"div",106),p()()}if(t&2){let n=e.$implicit;xi("data-match-id",n.id),d(4),re(Ks(5,14,n.heureDebut,"EEEE d MMMM yyyy HH:mm")),d(2),g("ngIf",n.lieu),d(),g("ngIf",n.lieu),d(),g("ngIf",n.competition),d(),g("ngIf",n.competition),d(2),g("ngClass",n.showElements?"fa-chevron-up":"fa-chevron-right"),d(3),re(n.equipe1),d(2),nn(" ",n.score1," - ",n.score2," "),d(2),re(n.equipe2),d(),g("ngIf",n.showElements&&n.buteurs.length>0),d(),g("ngIf",n.showElements&&n.duelsGagnes&&n.duelsGagnes.length>0),d(),g("ngIf",n.showElements)}}function L$(t,e){if(t&1&&(f(0,"div",93),T(1,"h2"),f(2,"div",94),b(3,V$,22,17,"div",95),p()()),t&2){let n=_();d(3),g("ngForOf",n.getSortedMatches())}}function j$(t,e){if(t&1&&(Se(0),m(1),f(2,"div",152),m(3),p(),xe()),t&2){let n=_(2);d(),nn(" ",n.selectedMatch.score1," - ",n.selectedMatch.score2," "),d(2),nn(" (",n.getActiveGoalsCount(1)," - ",n.getActiveGoalsCount(2)," buts actifs) ")}}function U$(t,e){if(t&1){let n=k();Se(0),f(1,"div",153)(2,"input",154),Oe("ngModelChange",function(r){w(n);let o=_(2);return Fe(o.selectedMatch.score1,r)||(o.selectedMatch.score1=r),I(r)}),C("input",function(){w(n);let r=_(2);return r.selectedMatch.score1=r.validateScore(r.selectedMatch.score1),I(r.onScoreChange())}),p(),f(3,"span"),m(4,"-"),p(),f(5,"input",154),Oe("ngModelChange",function(r){w(n);let o=_(2);return Fe(o.selectedMatch.score2,r)||(o.selectedMatch.score2=r),I(r)}),C("input",function(){w(n);let r=_(2);return r.selectedMatch.score2=r.validateScore(r.selectedMatch.score2),I(r.onScoreChange())}),p()(),xe()}if(t&2){let n=_(2);d(2),Ne("ngModel",n.selectedMatch.score1),d(3),Ne("ngModel",n.selectedMatch.score2)}}function B$(t,e){if(t&1){let n=k();f(0,"button",90),C("click",function(){let r=w(n).$implicit,o=_(4);return I(o.selectButeurName(r))}),m(1),p()}if(t&2){let n=e.$implicit;d(),re(n)}}function $$(t,e){if(t&1&&(f(0,"div",88),b(1,B$,2,1,"button",89),p()),t&2){let n=_(3);d(),g("ngForOf",n.filteredButeurNames)}}function q$(t,e){if(t&1){let n=k();f(0,"div",91)(1,"button",92),C("click",function(){w(n);let r=_(3);return I(r.selectButeurName(r.buteurNameSearch))}),m(2),p()()}if(t&2){let n=_(3);d(2),O(' Cr\xE9er "',n.buteurNameSearch,'" ')}}function G$(t,e){if(t&1){let n=k();f(0,"button",90),C("click",function(){let r=w(n).$implicit,o=_(4);return I(o.selectAssistName(r))}),m(1),p()}if(t&2){let n=e.$implicit;d(),re(n)}}function H$(t,e){if(t&1&&(f(0,"div",88),b(1,G$,2,1,"button",89),p()),t&2){let n=_(3);d(),g("ngForOf",n.filteredAssistNames)}}function z$(t,e){if(t&1){let n=k();f(0,"div",91)(1,"button",92),C("click",function(){w(n);let r=_(3);return I(r.selectAssistName(r.assistSearch))}),m(2),p()()}if(t&2){let n=_(3);d(2),O(' Cr\xE9er "',n.assistSearch,'" ')}}function W$(t,e){if(t&1){let n=k();f(0,"div",155)(1,"div",58)(2,"div",35)(3,"div",36)(4,"h5",156),m(5),p(),f(6,"button",157),C("click",function(){w(n);let r=_(2);return I(r.showButeurForm=!1)}),p()(),f(7,"div",40)(8,"form",62),C("ngSubmit",function(){w(n);let r=_(2);return I(r.ajouterButeur())}),f(9,"div",158)(10,"div",159)(11,"label",160),m(12,"Nom du buteur"),p(),f(13,"input",161),Oe("ngModelChange",function(r){w(n);let o=_(2);return Fe(o.buteurNameSearch,r)||(o.buteurNameSearch=r),I(r)}),C("input",function(){w(n);let r=_(2);return I(r.updateFilteredButeurNames())})("focus",function(){w(n);let r=_(2);return I(r.updateFilteredButeurNames())}),p(),T(14,"input",162),b(15,$$,2,1,"div",69)(16,q$,3,1,"div",70),p(),f(17,"div",163)(18,"label",160),m(19,"Minute"),p(),T(20,"input",164),p(),f(21,"div",165)(22,"label",160),m(23,"\xC9quipe"),p(),f(24,"select",166),C("change",function(){w(n);let r=_(2);return I(r.onButeurEquipeChange())}),f(25,"option",167),m(26),p(),f(27,"option",167),m(28),p()()(),f(29,"div",168)(30,"label",160),m(31,"Assist (optionnel)"),p(),f(32,"input",169),Oe("ngModelChange",function(r){w(n);let o=_(2);return Fe(o.assistSearch,r)||(o.assistSearch=r),I(r)}),C("input",function(){w(n);let r=_(2);return I(r.updateFilteredAssistNames())})("focus",function(){w(n);let r=_(2);return I(r.updateFilteredAssistNames())}),p(),T(33,"input",170),b(34,H$,2,1,"div",69)(35,z$,3,1,"div",70),p()(),f(36,"div",171)(37,"button",172),C("click",function(){let r;w(n);let o=_(2);return I(o.addNewPlayer((r=o.buteurForm.get("nom"))==null?null:r.value))}),m(38),p(),f(39,"button",48),C("click",function(){w(n);let r=_(2);return I(r.annulerEditionButeur())}),m(40," Annuler "),p()()()()()()()}if(t&2){let n=_(2);d(5),re(n.editingButeur?"Modifier le buteur":"Nouveau buteur"),d(3),g("formGroup",n.buteurForm),d(5),Ne("ngModel",n.buteurNameSearch),g("ngModelOptions",Ft(16,Dn)),d(2),g("ngIf",n.filteredButeurNames.length>0&&n.buteurNameSearch),d(),g("ngIf",n.shouldShowCreateButeur()),d(9),g("value",1),d(),re(n.selectedMatch.equipe1),d(),g("value",2),d(),re(n.selectedMatch.equipe2),d(4),Ne("ngModel",n.assistSearch),g("ngModelOptions",Ft(17,Dn)),d(2),g("ngIf",n.filteredAssistNames.length>0&&n.assistSearch),d(),g("ngIf",n.shouldShowCreateAssist()),d(2),g("disabled",!n.buteurForm.valid),d(),O(" ",n.editingButeur?"Enregistrer":"Ajouter"," ")}}function K$(t,e){t&1&&T(0,"i",177)}function Q$(t,e){t&1&&T(0,"i",178)}function Y$(t,e){t&1&&T(0,"i",179)}function J$(t,e){if(t&1){let n=k();f(0,"button",173),C("click",function(){let r=w(n).$implicit,o=_(2);return I(o.quickAddAction(r.name,1))}),b(1,K$,1,0,"i",174)(2,Q$,1,0,"i",175)(3,Y$,1,0,"i",176),m(4),p()}if(t&2){let n=e.$implicit;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function Z$(t,e){if(t&1){let n=k();f(0,"button",173),C("click",function(){w(n);let r=_(2);return I(r.showButeurForm=!0)}),m(1," + "),p()}}function X$(t,e){t&1&&T(0,"i",177)}function e4(t,e){t&1&&T(0,"i",178)}function t4(t,e){t&1&&T(0,"i",179)}function n4(t,e){if(t&1){let n=k();f(0,"button",180),C("click",function(){let r=w(n).$implicit,o=_(2);return I(o.quickAddAction(r.name,2))}),b(1,X$,1,0,"i",174)(2,e4,1,0,"i",175)(3,t4,1,0,"i",176),m(4),p()}if(t&2){let n=e.$implicit;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function i4(t,e){if(t&1){let n=k();f(0,"button",180),C("click",function(){w(n);let r=_(2);return I(r.showButeurForm=!0)}),m(1," + "),p()}}function r4(t,e){if(t&1){let n=k();f(0,"div",182)(1,"div",183)(2,"span",184)(3,"strong",185),m(4),p()(),f(5,"div")(6,"button",186),C("click",function(){let r=w(n).index,o=_(3);return I(o.modifierButeur(o.matches.indexOf(o.selectedMatch),r))}),T(7,"i",187),p(),f(8,"button",188),C("click",function(){let r=w(n).index,o=_(3);return I(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),r))}),T(9,"i",189),p()()()()}if(t&2){let n=e.$implicit,i=e.index,r=_(3);d(),g("ngClass",DE(3,kB,r.isGoalDisabled(i))),d(2),g("ngClass",n.equipe===1?"buteur-team1":"buteur-team2"),d(),re(r.getButeurDisplay(n))}}function o4(t,e){if(t&1&&(f(0,"div"),b(1,r4,10,5,"div",181),p()),t&2){let n=_(2);d(),g("ngForOf",n.selectedMatch.buteurs)}}function s4(t,e){if(t&1){let n=k();f(0,"div",193)(1,"div",194)(2,"span",184)(3,"strong",195),m(4),p(),f(5,"em",195),m(6),p()(),f(7,"div")(8,"button",188),C("click",function(){let r=w(n).index,o=_(3);return I(o.supprimerDuel(o.matches.indexOf(o.selectedMatch),r))}),T(9,"i",189),p()()()()}if(t&2){let n=e.$implicit,i=_(3);d(4),nn("\u{1F6E1}\uFE0F ",n.nom," - ",n.minute,"'"),d(2),O("(",n.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")")}}function a4(t,e){if(t&1&&(f(0,"div",190)(1,"div",191)(2,"h4")(3,"span",148),m(4,"\u{1F6E1}\uFE0F"),p(),m(5),p()(),f(6,"div"),b(7,s4,10,3,"div",192),p()()),t&2){let n=_(2);d(5),O(" Duels gagn\xE9s (",n.selectedMatch.duelsGagnes.length,") "),d(2),g("ngForOf",n.selectedMatch.duelsGagnes)}}function c4(t,e){t&1&&T(0,"i",177)}function l4(t,e){t&1&&T(0,"i",178)}function u4(t,e){t&1&&T(0,"i",179)}function d4(t,e){if(t&1){let n=k();f(0,"button",201),C("click",function(){let r=w(n).$implicit,o=_(3);return I(o.assignPlayerToPosition(r.name))}),b(1,c4,1,0,"i",174)(2,l4,1,0,"i",175)(3,u4,1,0,"i",176),m(4),p()}if(t&2){let n=e.$implicit;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function h4(t,e){if(t&1){let n=k();f(0,"div",196)(1,"div",197)(2,"h6"),m(3),p(),f(4,"div",198),b(5,d4,5,4,"button",199),p(),f(6,"button",200),C("click",function(){w(n);let r=_(2);return I(r.selectedPosition=null)}),m(7," Annuler "),p()()()}if(t&2){let n=_(2);d(3),O("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),d(2),g("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function f4(t,e){if(t&1){let n=k();f(0,"div",128)(1,"div",129)(2,"button",130),C("click",function(){w(n);let r=_();return I(r.showScoreForm=!1)}),m(3,"\xD7"),p(),f(4,"h3",131),T(5,"i",132),m(6,"Modifier le score "),p(),T(7,"br"),f(8,"div",133)(9,"div",102)(10,"div",103),m(11),p(),f(12,"div",134),C("click",function(){w(n);let r=_();return I(r.showScoreForm=!0)}),b(13,j$,4,4,"ng-container",100)(14,U$,6,2,"ng-container",100),p(),f(15,"div",103),m(16),p()()(),b(17,W$,41,18,"div",135),f(18,"div",93)(19,"div",136)(20,"div",137)(21,"h5",138),m(22),p(),f(23,"div",139),b(24,J$,5,4,"button",140)(25,Z$,2,0,"button",141),p()(),f(26,"div",137)(27,"h5",142),m(28),p(),f(29,"div",143),b(30,n4,5,4,"button",144)(31,i4,2,0,"button",145),p()()()(),f(32,"div",146)(33,"div",147),C("click",function(){w(n);let r=_();return I(r.toggleButeursList())}),f(34,"h4")(35,"span",148),m(36),p(),m(37),p()(),b(38,o4,2,1,"div",100),p(),b(39,a4,8,2,"div",149)(40,h4,8,2,"div",150),f(41,"div",151)(42,"button",48),C("click",function(){w(n);let r=_();return I(r.selectedMatch=null)}),m(43," Fermer "),p()()()()}if(t&2){let n=_();d(11),re(n.selectedMatch.equipe1),d(2),g("ngIf",!n.showScoreForm),d(),g("ngIf",n.showScoreForm),d(2),re(n.selectedMatch.equipe2),d(),g("ngIf",n.showButeurForm),d(5),re(n.selectedMatch.equipe1),d(2),g("ngForOf",n.getTeamPlayers(1)),d(),g("ngIf",!n.showButeurForm),d(3),re(n.selectedMatch.equipe2),d(2),g("ngForOf",n.getTeamPlayers(2)),d(),g("ngIf",!n.showButeurForm),d(5),re(n.showButeursList?"\u25BC":"\u25B6"),d(),O(" Buteurs (",n.selectedMatch.buteurs.length,") "),d(),g("ngIf",n.showButeursList),d(),g("ngIf",n.selectedMatch.duelsGagnes&&n.selectedMatch.duelsGagnes.length>0),d(),g("ngIf",n.selectedPosition&&n.selectedMatch)}}function p4(t,e){if(t&1){let n=k();f(0,"button",90),C("click",function(){let r=w(n).$implicit,o=_(3);return I(o.selectEditTeam1(r))}),m(1),p()}if(t&2){let n=e.$implicit;d(),re(n)}}function m4(t,e){if(t&1&&(f(0,"div",88),b(1,p4,2,1,"button",89),p()),t&2){let n=_(2);d(),g("ngForOf",n.editFilteredTeams1)}}function g4(t,e){if(t&1){let n=k();f(0,"div",91)(1,"button",92),C("click",function(){w(n);let r=_(2);return I(r.selectEditTeam1(r.editTeam1Search))}),m(2),p()()}if(t&2){let n=_(2);d(2),O(' Cr\xE9er "',n.editTeam1Search,'" ')}}function _4(t,e){if(t&1){let n=k();f(0,"button",90),C("click",function(){let r=w(n).$implicit,o=_(3);return I(o.selectEditTeam2(r))}),m(1),p()}if(t&2){let n=e.$implicit;d(),re(n)}}function v4(t,e){if(t&1&&(f(0,"div",88),b(1,_4,2,1,"button",89),p()),t&2){let n=_(2);d(),g("ngForOf",n.editFilteredTeams2)}}function y4(t,e){if(t&1){let n=k();f(0,"div",91)(1,"button",92),C("click",function(){w(n);let r=_(2);return I(r.selectEditTeam2(r.editTeam2Search))}),m(2),p()()}if(t&2){let n=_(2);d(2),O(' Cr\xE9er "',n.editTeam2Search,'" ')}}function w4(t,e){if(t&1){let n=k();f(0,"button",90),C("click",function(){let r=w(n).$implicit,o=_(3);return I(o.selectEditCompetition(r))}),m(1),p()}if(t&2){let n=e.$implicit;d(),re(n)}}function I4(t,e){if(t&1&&(f(0,"div",88),b(1,w4,2,1,"button",89),p()),t&2){let n=_(2);d(),g("ngForOf",n.editFilteredCompetitions)}}function E4(t,e){if(t&1){let n=k();f(0,"div",91)(1,"button",92),C("click",function(){w(n);let r=_(2);return I(r.selectEditCompetition(r.editCompetitionSearch))}),m(2),p()()}if(t&2){let n=_(2);d(2),O(' Cr\xE9er "',n.editCompetitionSearch,'" ')}}function C4(t,e){if(t&1){let n=k();f(0,"div",202)(1,"div",35)(2,"span",203),C("click",function(){w(n);let r=_();return I(r.showMatchEditForm=!1)}),m(3,"\xD7"),p(),f(4,"h3",131),T(5,"i",204),m(6,"Modifier le match "),p(),f(7,"form",62),C("ngSubmit",function(){w(n);let r=_();return I(r.onSubmitMatchEdit())}),f(8,"div",205)(9,"label",206),m(10,"\xC9quipe 1:"),p(),f(11,"div",207)(12,"input",208),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.editTeam1Search,r)||(o.editTeam1Search=r),I(r)}),C("input",function(){w(n);let r=_();return I(r.updateEditFilteredTeams1())})("focus",function(){w(n);let r=_();return I(r.updateEditFilteredTeams1())}),p(),T(13,"input",68),b(14,m4,2,1,"div",69)(15,g4,3,1,"div",70),p()(),f(16,"div",205)(17,"label",209),m(18,"\xC9quipe 2:"),p(),f(19,"div",207)(20,"input",210),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.editTeam2Search,r)||(o.editTeam2Search=r),I(r)}),C("input",function(){w(n);let r=_();return I(r.updateEditFilteredTeams2())})("focus",function(){w(n);let r=_();return I(r.updateEditFilteredTeams2())}),p(),T(21,"input",73),b(22,v4,2,1,"div",69)(23,y4,3,1,"div",70),p()(),f(24,"div",205)(25,"label",211),m(26,"Heure de d\xE9but:"),p(),T(27,"input",212),p(),f(28,"div",205)(29,"label",213),m(30,"Lieu:"),p(),T(31,"input",214),p(),f(32,"div",205)(33,"label",215),m(34,"Comp\xE9tition:"),p(),f(35,"div",207)(36,"input",216),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.editCompetitionSearch,r)||(o.editCompetitionSearch=r),I(r)}),C("input",function(){w(n);let r=_();return I(r.updateEditFilteredCompetitions())})("focus",function(){w(n);let r=_();return I(r.updateEditFilteredCompetitions())}),p(),T(37,"input",81),b(38,I4,2,1,"div",69)(39,E4,3,1,"div",70),p()(),f(40,"div",217)(41,"button",218),C("click",function(){w(n);let r=_();return I(r.onSubmitMatchEdit())}),m(42,"Enregistrer"),p(),f(43,"button",219),C("click",function(){w(n);let r=_();return I(r.supprimerMatch(r.selectedMatch))}),T(44,"i",189),m(45," Supprimer le match "),p()()()()()}if(t&2){let n=_();d(7),g("formGroup",n.matchEditForm),d(5),Ne("ngModel",n.editTeam1Search),g("ngModelOptions",Ft(13,Dn)),d(2),g("ngIf",n.editFilteredTeams1.length>0&&n.editTeam1Search),d(),g("ngIf",n.editTeam1Search&&n.editFilteredTeams1.length===0&&!n.getTeamNames().includes(n.editTeam1Search)),d(5),Ne("ngModel",n.editTeam2Search),g("ngModelOptions",Ft(14,Dn)),d(2),g("ngIf",n.editFilteredTeams2.length>0&&n.editTeam2Search),d(),g("ngIf",n.editTeam2Search&&n.editFilteredTeams2.length===0&&!n.getTeamNames().includes(n.editTeam2Search)),d(13),Ne("ngModel",n.editCompetitionSearch),g("ngModelOptions",Ft(15,Dn)),d(2),g("ngIf",n.editFilteredCompetitions.length>0&&n.editCompetitionSearch),d(),g("ngIf",n.editCompetitionSearch&&n.editFilteredCompetitions.length===0&&!n.getCompetitionNames().includes(n.editCompetitionSearch))}}function b4(t,e){if(t&1&&(f(0,"span",234),m(1," \u2022 "),p()),t&2){let n=e.index,i=_(2);Ee("fade",n>=i.remainingDots)}}function T4(t,e){if(t&1&&(f(0,"option",235),m(1),p()),t&2){let n=e.$implicit,i=_(2);g("value",n.name)("disabled",n.name===i.lastGoalScorer),d(),O(" ",n.name," ")}}function D4(t,e){if(t&1){let n=k();f(0,"div",220)(1,"div",221)(2,"div",222),m(3,"\u26BDBUUUT !"),p(),f(4,"div",223),m(5),p(),f(6,"div",224),m(7),p(),f(8,"div",225),m(9,"\u26BD"),p(),f(10,"div",226),b(11,b4,2,2,"span",227),p(),f(12,"div",228)(13,"select",229),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.lastGoalAssist,r)||(o.lastGoalAssist=r),I(r)}),f(14,"option",230),m(15,"Aucun assist"),p(),b(16,T4,2,3,"option",231),p(),f(17,"div",232)(18,"button",104),C("click",function(){w(n);let r=_();return I(r.saveGoalWithAssist())}),m(19," Enregistrer "),p(),f(20,"button",233),C("click",function(){w(n);let r=_();return I(r.cancelGoal())}),m(21," Annuler "),p()()()()()}if(t&2){let n=_();d(5),O(" ",n.lastGoalScorer," "),d(2),O(" ",n.lastGoalTeam," "),d(4),g("ngForOf",Ft(5,ax).constructor(5)),d(2),Ne("ngModel",n.lastGoalAssist),d(3),g("ngForOf",n.getTeamPlayers(n.lastGoalTeam===(n.selectedMatch==null?null:n.selectedMatch.equipe1)?1:2))}}function S4(t,e){if(t&1&&(f(0,"span",234),m(1," \u2022 "),p()),t&2){let n=e.index,i=_(2);Ee("fade",n>=i.remainingDots)}}function x4(t,e){if(t&1){let n=k();f(0,"div",220)(1,"div",221)(2,"div",236),m(3,"\u{1F6E1}\uFE0FDUEL GAGN\xC9"),p(),f(4,"div",223),m(5),p(),f(6,"div",224),m(7),p(),f(8,"div",225),m(9,"\u{1F6E1}\uFE0F"),p(),f(10,"div",226),b(11,S4,2,2,"span",227),p(),f(12,"div",232)(13,"button",237),C("click",function(){w(n);let r=_();return I(r.saveDuel())}),m(14," Enregistrer "),p(),f(15,"button",233),C("click",function(){w(n);let r=_();return I(r.cancelDuel())}),m(16," Annuler "),p()()()()}if(t&2){let n=_();d(5),O(" ",n.lastDuelWinner," "),d(2),O(" ",n.lastDuelTeam," "),d(4),g("ngForOf",Ft(3,ax).constructor(5))}}function A4(t,e){t&1&&(f(0,"span",263),m(1,"-"),p())}function M4(t,e){t&1&&T(0,"i",177)}function P4(t,e){t&1&&T(0,"i",178)}function R4(t,e){t&1&&T(0,"i",179)}function N4(t,e){if(t&1&&(Se(0),b(1,M4,1,0,"i",174)(2,P4,1,0,"i",175)(3,R4,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function O4(t,e){t&1&&T(0,"i",177)}function k4(t,e){t&1&&T(0,"i",178)}function F4(t,e){t&1&&T(0,"i",179)}function V4(t,e){if(t&1&&(Se(0),b(1,O4,1,0,"i",174)(2,k4,1,0,"i",175)(3,F4,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function L4(t,e){if(t&1){let n=k();f(0,"div")(1,"div",264),C("click",function(){w(n);let r=_(2);return I(r.selectPosition(1,"milieu-offensif"))}),f(2,"div",252)(3,"span",253),m(4,"MO"),p(),f(5,"span",255),b(6,V4,5,4,"ng-container",100),p()()()()}if(t&2){let n=_(2);d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),d(4),g("ngIf",n.getPlayerForPosition(1,"milieu-offensif"))}}function j4(t,e){t&1&&T(0,"i",177)}function U4(t,e){t&1&&T(0,"i",178)}function B4(t,e){t&1&&T(0,"i",179)}function $4(t,e){if(t&1&&(Se(0),b(1,j4,1,0,"i",174)(2,U4,1,0,"i",175)(3,B4,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function q4(t,e){t&1&&T(0,"i",177)}function G4(t,e){t&1&&T(0,"i",178)}function H4(t,e){t&1&&T(0,"i",179)}function z4(t,e){if(t&1&&(Se(0),b(1,q4,1,0,"i",174)(2,G4,1,0,"i",175)(3,H4,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function W4(t,e){t&1&&T(0,"i",177)}function K4(t,e){t&1&&T(0,"i",178)}function Q4(t,e){t&1&&T(0,"i",179)}function Y4(t,e){if(t&1&&(Se(0),b(1,W4,1,0,"i",174)(2,K4,1,0,"i",175)(3,Q4,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function J4(t,e){t&1&&T(0,"i",177)}function Z4(t,e){t&1&&T(0,"i",178)}function X4(t,e){t&1&&T(0,"i",179)}function e5(t,e){if(t&1&&(Se(0),b(1,J4,1,0,"i",174)(2,Z4,1,0,"i",175)(3,X4,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function t5(t,e){if(t&1){let n=k();f(0,"div")(1,"div",265),C("click",function(){w(n);let r=_(2);return I(r.selectPosition(1,"defenseur-gauche"))}),f(2,"div",252)(3,"span",253),m(4,"DG"),p(),f(5,"span",255),b(6,e5,5,4,"ng-container",100),p()()()()}if(t&2){let n=_(2);d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),d(4),g("ngIf",n.getPlayerForPosition(1,"defenseur-gauche"))}}function n5(t,e){t&1&&T(0,"i",177)}function i5(t,e){t&1&&T(0,"i",178)}function r5(t,e){t&1&&T(0,"i",179)}function o5(t,e){if(t&1&&(Se(0),b(1,n5,1,0,"i",174)(2,i5,1,0,"i",175)(3,r5,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function s5(t,e){if(t&1){let n=k();f(0,"div")(1,"div",266),C("click",function(){w(n);let r=_(2);return I(r.selectPosition(1,"defenseur-droit"))}),f(2,"div",252)(3,"span",253),m(4,"DD"),p(),f(5,"span",255),b(6,o5,5,4,"ng-container",100),p()()()()}if(t&2){let n=_(2);d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),d(4),g("ngIf",n.getPlayerForPosition(1,"defenseur-droit"))}}function a5(t,e){t&1&&T(0,"i",177)}function c5(t,e){t&1&&T(0,"i",178)}function l5(t,e){t&1&&T(0,"i",179)}function u5(t,e){if(t&1&&(Se(0),b(1,a5,1,0,"i",174)(2,c5,1,0,"i",175)(3,l5,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function d5(t,e){t&1&&(f(0,"span",263),m(1,"-"),p())}function h5(t,e){t&1&&T(0,"i",177)}function f5(t,e){t&1&&T(0,"i",178)}function p5(t,e){t&1&&T(0,"i",179)}function m5(t,e){if(t&1&&(Se(0),b(1,h5,1,0,"i",174)(2,f5,1,0,"i",175)(3,p5,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function g5(t,e){t&1&&T(0,"i",177)}function _5(t,e){t&1&&T(0,"i",178)}function v5(t,e){t&1&&T(0,"i",179)}function y5(t,e){if(t&1&&(Se(0),b(1,g5,1,0,"i",174)(2,_5,1,0,"i",175)(3,v5,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function w5(t,e){if(t&1){let n=k();f(0,"div")(1,"div",264),C("click",function(){w(n);let r=_(2);return I(r.selectPosition(2,"milieu-offensif"))}),f(2,"div",252)(3,"span",253),m(4,"MO"),p(),f(5,"span",255),b(6,y5,5,4,"ng-container",100),p()()()()}if(t&2){let n=_(2);d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),d(4),g("ngIf",n.getPlayerForPosition(2,"milieu-offensif"))}}function I5(t,e){t&1&&T(0,"i",177)}function E5(t,e){t&1&&T(0,"i",178)}function C5(t,e){t&1&&T(0,"i",179)}function b5(t,e){if(t&1&&(Se(0),b(1,I5,1,0,"i",174)(2,E5,1,0,"i",175)(3,C5,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function T5(t,e){t&1&&T(0,"i",177)}function D5(t,e){t&1&&T(0,"i",178)}function S5(t,e){t&1&&T(0,"i",179)}function x5(t,e){if(t&1&&(Se(0),b(1,T5,1,0,"i",174)(2,D5,1,0,"i",175)(3,S5,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function A5(t,e){t&1&&T(0,"i",177)}function M5(t,e){t&1&&T(0,"i",178)}function P5(t,e){t&1&&T(0,"i",179)}function R5(t,e){if(t&1&&(Se(0),b(1,A5,1,0,"i",174)(2,M5,1,0,"i",175)(3,P5,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function N5(t,e){t&1&&T(0,"i",177)}function O5(t,e){t&1&&T(0,"i",178)}function k5(t,e){t&1&&T(0,"i",179)}function F5(t,e){if(t&1&&(Se(0),b(1,N5,1,0,"i",174)(2,O5,1,0,"i",175)(3,k5,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function V5(t,e){if(t&1){let n=k();f(0,"div")(1,"div",265),C("click",function(){w(n);let r=_(2);return I(r.selectPosition(2,"defenseur-gauche"))}),f(2,"div",252)(3,"span",253),m(4,"DG"),p(),f(5,"span",255),b(6,F5,5,4,"ng-container",100),p()()()()}if(t&2){let n=_(2);d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),d(4),g("ngIf",n.getPlayerForPosition(2,"defenseur-gauche"))}}function L5(t,e){t&1&&T(0,"i",177)}function j5(t,e){t&1&&T(0,"i",178)}function U5(t,e){t&1&&T(0,"i",179)}function B5(t,e){if(t&1&&(Se(0),b(1,L5,1,0,"i",174)(2,j5,1,0,"i",175)(3,U5,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function $5(t,e){if(t&1){let n=k();f(0,"div")(1,"div",266),C("click",function(){w(n);let r=_(2);return I(r.selectPosition(2,"defenseur-droit"))}),f(2,"div",252)(3,"span",253),m(4,"DD"),p(),f(5,"span",255),b(6,B5,5,4,"ng-container",100),p()()()()}if(t&2){let n=_(2);d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),d(4),g("ngIf",n.getPlayerForPosition(2,"defenseur-droit"))}}function q5(t,e){t&1&&T(0,"i",177)}function G5(t,e){t&1&&T(0,"i",178)}function H5(t,e){t&1&&T(0,"i",179)}function z5(t,e){if(t&1&&(Se(0),b(1,q5,1,0,"i",174)(2,G5,1,0,"i",175)(3,H5,1,0,"i",176),m(4),xe()),t&2){let n=e.ngIf;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function W5(t,e){t&1&&T(0,"div")}function K5(t,e){t&1&&T(0,"i",177)}function Q5(t,e){t&1&&T(0,"i",178)}function Y5(t,e){t&1&&T(0,"i",179)}function J5(t,e){if(t&1){let n=k();f(0,"button",201),C("click",function(){let r=w(n).$implicit,o=_(3);return I(o.assignPlayerToPosition(r.name))}),b(1,K5,1,0,"i",174)(2,Q5,1,0,"i",175)(3,Y5,1,0,"i",176),m(4),p()}if(t&2){let n=e.$implicit;d(),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="defenseur"),d(),g("ngIf",n.type==="milieu"),d(),O(" ",n.name," ")}}function Z5(t,e){if(t&1){let n=k();f(0,"div",196)(1,"div",197)(2,"h6"),m(3),p(),f(4,"div",198),b(5,J5,5,4,"button",199),p(),f(6,"button",200),C("click",function(){w(n);let r=_(2);return I(r.selectedPosition=null)}),m(7," Annuler "),p()()()}if(t&2){let n=_(2);d(3),O("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),d(2),g("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function X5(t,e){if(t&1){let n=k();f(0,"div",238)(1,"div",239)(2,"button",203),C("click",function(){w(n);let r=_();return I(r.closeDispositionModal())}),m(3,"\xD7"),p(),f(4,"h3",131),T(5,"i",240),m(6,"Disposition tactique "),p(),f(7,"div",241)(8,"button",242),C("click",function(){w(n);let r=_();return I(r.toggleDefendersAndMidfielders())}),m(9),p(),f(10,"div",243)(11,"div",244)(12,"button",245),C("click",function(){w(n);let r=_();return I(r.encodingGoalsEnabled=!r.encodingGoalsEnabled)}),T(13,"i",177),m(14),p(),f(15,"button",246),C("click",function(){w(n);let r=_();return I(r.encodingDuelsEnabled=!r.encodingDuelsEnabled)}),T(16,"i",178),m(17),p()()()(),f(18,"div",247)(19,"div",248)(20,"div",249)(21,"h5",138),m(22),p(),f(23,"div",250)(24,"div",251),C("click",function(){w(n);let r=_();return I(r.selectPosition(1,"attaquant"))}),f(25,"div",252)(26,"span",253),m(27,"AT"),p(),b(28,A4,2,0,"span",254),f(29,"span",255),b(30,N4,5,4,"ng-container",100),p()()(),b(31,L4,7,3,"div",100),f(32,"div",256),C("click",function(){w(n);let r=_();return I(r.selectPosition(1,"milieu-gauche"))}),f(33,"div",252)(34,"span",253),m(35,"MG"),p(),f(36,"span",255),b(37,$4,5,4,"ng-container",100),p()()(),f(38,"div",257),C("click",function(){w(n);let r=_();return I(r.selectPosition(1,"milieu-droit"))}),f(39,"div",252)(40,"span",253),m(41,"MD"),p(),f(42,"span",255),b(43,z4,5,4,"ng-container",100),p()()(),f(44,"div",258),C("click",function(){w(n);let r=_();return I(r.selectPosition(1,"defenseur-central"))}),f(45,"div",252)(46,"span",253),m(47,"DC"),p(),f(48,"span",255),b(49,Y4,5,4,"ng-container",100),p()()(),b(50,t5,7,3,"div",100)(51,s5,7,3,"div",100),f(52,"div",259),C("click",function(){w(n);let r=_();return I(r.selectPosition(1,"gardien"))}),f(53,"div",252)(54,"span",253),m(55,"G"),p(),f(56,"span",255),b(57,u5,5,4,"ng-container",100),p()()()()(),f(58,"div",260)(59,"h5",142),m(60),p(),f(61,"div",250)(62,"div",251),C("click",function(){w(n);let r=_();return I(r.selectPosition(2,"attaquant"))}),f(63,"div",252)(64,"span",253),m(65,"AT"),p(),b(66,d5,2,0,"span",254),f(67,"span",255),b(68,m5,5,4,"ng-container",100),p()()(),b(69,w5,7,3,"div",100),f(70,"div",256),C("click",function(){w(n);let r=_();return I(r.selectPosition(2,"milieu-gauche"))}),f(71,"div",252)(72,"span",253),m(73,"MG"),p(),f(74,"span",255),b(75,b5,5,4,"ng-container",100),p()()(),f(76,"div",257),C("click",function(){w(n);let r=_();return I(r.selectPosition(2,"milieu-droit"))}),f(77,"div",252)(78,"span",253),m(79,"MD"),p(),f(80,"span",255),b(81,x5,5,4,"ng-container",100),p()()(),f(82,"div",258),C("click",function(){w(n);let r=_();return I(r.selectPosition(2,"defenseur-central"))}),f(83,"div",252)(84,"span",253),m(85,"DC"),p(),f(86,"span",255),b(87,R5,5,4,"ng-container",100),p()()(),b(88,V5,7,3,"div",100)(89,$5,7,3,"div",100),f(90,"div",259),C("click",function(){w(n);let r=_();return I(r.selectPosition(2,"gardien"))}),f(91,"div",252)(92,"span",253),m(93,"G"),p(),f(94,"span",255),b(95,z5,5,4,"ng-container",100),p()()(),b(96,W5,1,0,"div",100),p()()(),f(97,"div",261)(98,"p",262),m(99," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),p()()(),b(100,Z5,8,2,"div",150),p()()}if(t&2){let n=_();d(9),O(" ",n.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),d(3),Ee("btn-success",n.encodingGoalsEnabled)("btn-outline-success",!n.encodingGoalsEnabled),d(2),O(" Buts ",n.encodingGoalsEnabled?"ON":"OFF"," "),d(),Ee("btn-success",n.encodingDuelsEnabled)("btn-outline-success",!n.encodingDuelsEnabled),d(2),O(" Duels ",n.encodingDuelsEnabled?"ON":"OFF"," "),d(5),re(n.selectedMatch.equipe1),d(3),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),d(3),g("ngIf",n.getPlayerForPosition(1,"attaquant")),d(2),g("ngIf",n.getPlayerForPosition(1,"attaquant")),d(),g("ngIf",n.showDefendersAndMidfielders),d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),d(4),g("ngIf",n.getPlayerForPosition(1,"milieu-gauche")),d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),d(4),g("ngIf",n.getPlayerForPosition(1,"milieu-droit")),d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),d(4),g("ngIf",n.getPlayerForPosition(1,"defenseur-central")),d(),g("ngIf",n.showDefendersAndMidfielders),d(),g("ngIf",n.showDefendersAndMidfielders),d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),d(4),g("ngIf",n.getPlayerForPosition(1,"gardien")),d(3),re(n.selectedMatch.equipe2),d(3),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),d(3),g("ngIf",n.getPlayerForPosition(2,"attaquant")),d(2),g("ngIf",n.getPlayerForPosition(2,"attaquant")),d(),g("ngIf",n.showDefendersAndMidfielders),d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),d(4),g("ngIf",n.getPlayerForPosition(2,"milieu-gauche")),d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),d(4),g("ngIf",n.getPlayerForPosition(2,"milieu-droit")),d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),d(4),g("ngIf",n.getPlayerForPosition(2,"defenseur-central")),d(),g("ngIf",n.showDefendersAndMidfielders),d(),g("ngIf",n.showDefendersAndMidfielders),d(2),Ee("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),d(4),g("ngIf",n.getPlayerForPosition(2,"gardien")),d(),g("ngIf",n.showDefendersAndMidfielders),d(4),g("ngIf",n.selectedPosition&&n.selectedMatch)}}function eq(t,e){if(t&1){let n=k();f(0,"div",128)(1,"div",58)(2,"div",35)(3,"div",36)(4,"h5",156),m(5,"Choisir le format d'export"),p(),f(6,"button",157),C("click",function(){w(n);let r=_();return I(r.closeExportModal())}),p()(),f(7,"div",40)(8,"div",267)(9,"input",268),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.exportFormats.txt,r)||(o.exportFormats.txt=r),I(r)}),p(),f(10,"label",269),m(11," Format TXT "),p()(),f(12,"div",267)(13,"input",270),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.exportFormats.csv,r)||(o.exportFormats.csv=r),I(r)}),p(),f(14,"label",271),m(15," Format CSV "),p()(),f(16,"div",267)(17,"input",272),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.exportFormats.json,r)||(o.exportFormats.json=r),I(r)}),p(),f(18,"label",273),m(19," Format JSON "),p()()(),f(20,"div",55)(21,"button",48),C("click",function(){w(n);let r=_();return I(r.closeExportModal())}),m(22,"Annuler"),p(),f(23,"button",274),C("click",function(){w(n);let r=_();return I(r.confirmExport())}),m(24,"Exporter"),p()()()()()}if(t&2){let n=_();d(9),Ne("ngModel",n.exportFormats.txt),d(4),Ne("ngModel",n.exportFormats.csv),d(4),Ne("ngModel",n.exportFormats.json),d(6),g("disabled",!n.isExportFormatSelected())}}function tq(t,e){if(t&1){let n=k();f(0,"button",285),C("click",function(){w(n);let r=_(2);return I(r.showLocalStorageData())}),m(1,"Afficher les donn\xE9es sauvegard\xE9es"),p()}}function nq(t,e){if(t&1){let n=k();f(0,"button",286),C("click",function(){w(n);let r=_(2);return I(r.hideLocalStorageData())}),m(1,"Cacher les donn\xE9es sauvegard\xE9es"),p()}}function iq(t,e){if(t&1&&(f(0,"div",287)(1,"pre"),m(2),Ro(3,"json"),p()()),t&2){let n=_(2);d(2),re(PE(3,1,n.localStorageData))}}function rq(t,e){if(t&1){let n=k();f(0,"div",128)(1,"div",58)(2,"div",35)(3,"div",36)(4,"h5",156),m(5,"Comment utiliser BUUUT.be"),p(),f(6,"button",157),C("click",function(){w(n);let r=_();return I(r.showHelpModal=!1)}),p()(),f(7,"div",40)(8,"h6"),m(9,"Fonctionnalit\xE9s principales :"),p(),f(10,"ul",275)(11,"li",74),T(12,"i",276),f(13,"strong"),m(14,"Cr\xE9er un match :"),p(),m(15,' Cliquez sur "Nouveau Match" pour enregistrer un nouveau match. '),p(),f(16,"li",74),T(17,"i",277),f(18,"strong"),m(19,"Enregistrer les buts :"),p(),m(20," Cliquez sur le score pour ajouter les buteurs et leurs minutes. "),p(),f(21,"li",74),T(22,"i",278),f(23,"strong"),m(24,"G\xE9rer les \xE9quipes :"),p(),m(25," Ajoutez des joueurs \xE0 vos \xE9quipes lors de l'enregistrement des buts. "),p(),f(26,"li",74),T(27,"i",279),f(28,"strong"),m(29,"Partager :"),p(),m(30," Partagez vos matchs via le bouton de partage. "),p(),f(31,"li",74),T(32,"i",280),f(33,"strong"),m(34,"Exporter :"),p(),m(35," Exportez vos matchs en TXT, CSV ou JSON. "),p(),f(36,"li",74),T(37,"i",281),f(38,"strong"),m(39,"Importer :"),p(),m(40," Importez des matchs depuis diff\xE9rents formats. "),p()()(),f(41,"div",55),b(42,tq,2,0,"button",282)(43,nq,2,0,"button",283),f(44,"button",48),C("click",function(){w(n);let r=_();return I(r.showHelpModal=!1)}),m(45,"Fermer"),p()(),b(46,iq,4,3,"div",284),p()()()}if(t&2){let n=_();d(42),g("ngIf",!n.showingLocalStorageData),d(),g("ngIf",n.showingLocalStorageData),d(3),g("ngIf",n.showingLocalStorageData)}}function oq(t,e){if(t&1&&(f(0,"tr")(1,"td",292),m(2),p(),f(3,"td",292),m(4),p(),f(5,"td",292)(6,"strong"),m(7),p()(),f(8,"td",292),m(9),p(),f(10,"td",292),m(11),p(),f(12,"td",292),m(13),p(),f(14,"td",292),m(15),p(),f(16,"td",292),m(17),p(),f(18,"td",292),m(19),p(),f(20,"td",293),m(21),p()()),t&2){let n=e.$implicit,i=e.index;d(2),re(i+1),d(2),re(n.name),d(3),re(n.points),d(2),re(n.matches),d(2),re(n.wins),d(2),re(n.draws),d(2),re(n.losses),d(2),re(n.goalsFor),d(2),re(n.goalsAgainst),d(),g("ngClass",SE(12,FB,n.goalDifference>0,n.goalDifference<0)),d(),nn(" ",n.goalDifference>0?"+":"","",n.goalDifference," ")}}function sq(t,e){if(t&1){let n=k();f(0,"div",128)(1,"div",288)(2,"div",35)(3,"div",36)(4,"h5",156),m(5),p(),f(6,"button",157),C("click",function(){w(n);let r=_();return I(r.closeRankingModal())}),p()(),f(7,"div",289)(8,"div",290)(9,"table",291)(10,"thead")(11,"tr")(12,"th",292),m(13,"Pos"),p(),f(14,"th",292),m(15,"\xC9quipe"),p(),f(16,"th",292),m(17,"Pts"),p(),f(18,"th",292),m(19,"J"),p(),f(20,"th",292),m(21,"G"),p(),f(22,"th",292),m(23,"N"),p(),f(24,"th",292),m(25,"P"),p(),f(26,"th",292),m(27,"BP"),p(),f(28,"th",292),m(29,"BC"),p(),f(30,"th",292),m(31,"Diff"),p()()(),f(32,"tbody"),b(33,oq,22,15,"tr",111),p()()()(),f(34,"div",55)(35,"button",48),C("click",function(){w(n);let r=_();return I(r.closeRankingModal())}),m(36,"Fermer"),p()()()()()}if(t&2){let n=_();d(5),O("Classement - ",n.selectedCompetitionFilter,""),d(28),g("ngForOf",n.currentRanking)}}function aq(t,e){if(t&1){let n=k();f(0,"i",313),C("click",function(){w(n);let r=_().$implicit,o=_(2);return I(o.cyclePlayerType(r))}),p()}}function cq(t,e){if(t&1){let n=k();f(0,"i",314),C("click",function(){w(n);let r=_().$implicit,o=_(2);return I(o.cyclePlayerType(r))}),p()}}function lq(t,e){if(t&1){let n=k();f(0,"i",315),C("click",function(){w(n);let r=_().$implicit,o=_(2);return I(o.cyclePlayerType(r))}),p()}}function uq(t,e){if(t&1){let n=k();f(0,"span",316),C("click",function(){w(n);let r=_().$implicit,o=_(2);return I(o.openPlayerGoalsModal(r))}),m(1),p()}if(t&2){let n=_().$implicit,i=_(2);d(),O(" ",i.getGoalsForPlayer(n.name)," \u26BD ")}}function dq(t,e){if(t&1){let n=k();f(0,"li",303)(1,"div",304)(2,"span",305),b(3,aq,1,0,"i",306)(4,cq,1,0,"i",307)(5,lq,1,0,"i",308),f(6,"input",309),Oe("ngModelChange",function(r){let o=w(n).$implicit;return Fe(o.name,r)||(o.name=r),I(r)}),p(),b(7,uq,2,1,"span",310),p(),f(8,"button",311),C("click",function(){let r=w(n).index,o=_(2);return I(o.removePlayer(r))}),T(9,"i",312),p()()()}if(t&2){let n=e.$implicit,i=_(2);d(3),g("ngIf",n.type==="attaquant"),d(),g("ngIf",n.type==="milieu"),d(),g("ngIf",n.type==="defenseur"),d(),Ne("ngModel",n.name),d(),g("ngIf",i.getGoalsForPlayer(n.name)>0)}}function hq(t,e){if(t&1){let n=k();f(0,"i",317),C("click",function(){w(n);let r=_(2);return I(r.cycleNewPlayerType())}),p()}}function fq(t,e){if(t&1){let n=k();f(0,"i",318),C("click",function(){w(n);let r=_(2);return I(r.cycleNewPlayerType())}),p()}}function pq(t,e){if(t&1){let n=k();f(0,"i",319),C("click",function(){w(n);let r=_(2);return I(r.cycleNewPlayerType())}),p()}}function mq(t,e){if(t&1){let n=k();f(0,"div",128)(1,"div",294)(2,"div",35)(3,"div",36)(4,"h5",156),m(5),p(),f(6,"button",38),C("click",function(){w(n);let r=_();return I(r.closeEditPlayersModal())}),f(7,"span",39),m(8,"\xD7"),p()()(),f(9,"div",40)(10,"ul",295),b(11,dq,10,5,"li",296),p(),f(12,"div",297)(13,"input",298),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.newPlayerName,r)||(o.newPlayerName=r),I(r)}),C("keyup.enter",function(){w(n);let r=_();return I(r.addPlayer())}),p(),b(14,hq,1,0,"i",299)(15,fq,1,0,"i",300)(16,pq,1,0,"i",301),f(17,"button",237),C("click",function(){w(n);let r=_();return I(r.addPlayer())}),m(18,"Ajouter"),p()()(),f(19,"div",55)(20,"button",48),C("click",function(){w(n);let r=_();return I(r.closeEditPlayersModal())}),m(21,"Fermer"),p(),f(22,"button",302),C("click",function(){w(n);let r=_();return I(r.savePlayersEdit())}),m(23,"Enregistrer"),p()()()()()}if(t&2){let n=_();d(5),O("\xC9diter les joueurs de ",n.teamToEdit.name,""),d(6),g("ngForOf",n.teamToEdit.players),d(2),Ne("ngModel",n.newPlayerName),d(),g("ngIf",n.newPlayerType==="attaquant"),d(),g("ngIf",n.newPlayerType==="milieu"),d(),g("ngIf",n.newPlayerType==="defenseur")}}function gq(t,e){if(t&1&&(f(0,"div",323),T(1,"i",324),m(2),Ro(3,"date"),f(4,"span",325),T(5,"i",326),m(6),p(),f(7,"span",325),m(8),p(),f(9,"span",325),m(10),p()()),t&2){let n=e.$implicit,i=_(3);d(2),O(" ",Ks(3,5,n.match.heureDebut,"dd/MM/yyyy HH:mm")," "),d(4),O(" ",n.minute,"'"),d(2),O("vs ",n.match.equipe1===(i.teamToEdit==null?null:i.teamToEdit.name)?n.match.equipe2:n.match.equipe1,""),d(2),nn("(score: ",n.match.score1," - ",n.match.score2,")")}}function _q(t,e){t&1&&(f(0,"div",327),m(1,"Aucun but trouv\xE9."),p())}function vq(t,e){if(t&1){let n=k();Se(0),f(1,"div",40),b(2,gq,11,8,"div",320)(3,_q,2,0,"div",321),p(),f(4,"div",55)(5,"button",322),C("click",function(){w(n);let r=_(2);return I(r.closePlayerGoalsModal())}),m(6,"Fermer"),p()(),xe()}if(t&2){let n=_(2);d(2),g("ngForOf",n.getPlayerGoalsDetails(n.selectedPlayerGoalsModal)),d(),g("ngIf",n.getPlayerGoalsDetails(n.selectedPlayerGoalsModal).length===0)}}function yq(t,e){if(t&1){let n=k();f(0,"div",57)(1,"div",58)(2,"div",35)(3,"div",36)(4,"h5",156),m(5),p(),f(6,"button",61),C("click",function(){w(n);let r=_();return I(r.closePlayerGoalsModal())}),p()(),b(7,vq,7,2,"ng-container",100),p()()()}if(t&2){let n=_();d(5),O("Buts de ",n.selectedPlayerGoalsModal.name,""),d(2),g("ngIf",n.selectedPlayerGoalsModal)}}function wq(t,e){if(t&1){let n=k();f(0,"div",334)(1,"input",335),Oe("ngModelChange",function(r){let o=w(n).$implicit;return Fe(o.name,r)||(o.name=r),I(r)}),p(),f(2,"select",336),Oe("ngModelChange",function(r){let o=w(n).$implicit;return Fe(o.type,r)||(o.type=r),I(r)}),f(3,"option",337),m(4,"Attaquant"),p(),f(5,"option",338),m(6,"Milieu"),p(),f(7,"option",339),m(8,"D\xE9fenseur"),p()(),f(9,"button",340),C("click",function(){let r=w(n).index,o=_(2);return I(o.removeNewTeamPlayer(r))}),T(10,"i",312),p()()}if(t&2){let n=e.$implicit,i=_(2);d(),Ne("ngModel",n.name),g("ngModelOptions",Ft(5,Dn)),d(),Ne("ngModel",n.type),g("ngModelOptions",Ft(6,Dn)),d(7),g("disabled",i.newTeamPlayers.length===1)}}function Iq(t,e){if(t&1){let n=k();f(0,"div",57)(1,"div",58)(2,"div",35)(3,"div",36)(4,"h5",156),m(5,"Cr\xE9er une nouvelle \xE9quipe"),p(),f(6,"button",61),C("click",function(){w(n);let r=_();return I(r.closeNewTeamModal())}),p()(),f(7,"div",40)(8,"div",74)(9,"label",328),m(10,"Nom de l'\xE9quipe"),p(),f(11,"input",329),Oe("ngModelChange",function(r){w(n);let o=_();return Fe(o.newTeamName,r)||(o.newTeamName=r),I(r)}),p()(),f(12,"div",330),m(13,"Joueurs"),p(),b(14,wq,11,7,"div",331),f(15,"button",332),C("click",function(){w(n);let r=_();return I(r.addNewTeamPlayer())}),m(16,"+ Ajouter un joueur"),p()(),f(17,"div",55)(18,"button",322),C("click",function(){w(n);let r=_();return I(r.closeNewTeamModal())}),m(19,"Annuler"),p(),f(20,"button",333),C("click",function(){w(n);let r=_();return I(r.createNewTeam())}),m(21,"Cr\xE9er l'\xE9quipe"),p()()()()()}if(t&2){let n=_();d(11),Ne("ngModel",n.newTeamName),g("ngModelOptions",Ft(4,Dn)),d(3),g("ngForOf",n.newTeamPlayers),d(6),g("disabled",n.canCreateNewTeam())}}var zh=class t{static{this.competitionColors=new Map}constructor(e,n){this.fb=e,this.firestoreService=n,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.editingButeur=null,this.teams=Bu,this.selectedTeam=null,this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!0,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.selectedCompetitionFilter="",this.showCompetitionFilterModal=!1,this.remainingDots=5,this.usedColors=[],this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1},this.showHelpModal=!1,this.showRankingModal=!1,this.currentRanking=[],this.isSharingCompetition=!1,this.isSharingMatch=!1,this.sharingLogs=[],this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerType="milieu",this.selectedPlayerGoalsIndex=null,this.selectedPlayerGoalsModal=null,this.team1Search="",this.team2Search="",this.filteredTeams1=[],this.filteredTeams2=[],this.showNewTeamModal=!1,this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}],this.competitionSearch="",this.filteredCompetitions=[],this.disabledGoals=[],this.showingLocalStorageData=!1,this.localStorageData=null,this.editTeam1Search="",this.editTeam2Search="",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editCompetitionSearch="",this.editFilteredCompetitions=[],this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.showDuelCelebration=!1,this.lastDuelWinner="",this.lastDuelTeam="",this.encodingGoalsEnabled=!1,this.encodingDuelsEnabled=!1,this.matchForm=this.fb.group({equipe1:[this.teams[0].name,Ze.required],equipe2:["",Ze.required],heureDebut:[this.getCurrentDateTime(),Ze.required],lieu:[""],competition:[""]}),this.scoreForm=this.fb.group({score1:[0,[Ze.required,Ze.min(0)]],score2:[0,[Ze.required,Ze.min(0)]]}),this.buteurForm=this.fb.group({nom:["",Ze.required],minute:["",[Ze.required,Ze.min(1),Ze.max(90)]],equipe:["",Ze.required],assist:[""]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(i=>{let r=this.buteurForm.get("assist");r&&r.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",Ze.required],equipe2:["",Ze.required],heureDebut:["",Ze.required],lieu:[""],competition:[""]})}ngOnInit(){return E(this,null,function*(){this.loadSavedData(),this.startAutoSave(),yield this.loadMatchFromUrl(),this.updateFilteredTeams1(),this.updateFilteredTeams2()})}getCurrentDateTime(){let e=new Date,n=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-n).toISOString().slice(0,16)}onSubmit(){if(this.matchForm.valid){let n=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,i=te(R({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],duelsGagnes:[],showElements:!0,updatedAt:new Date});console.log("Nouveau match cr\xE9\xE9:",i),this.matches.push(i),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1}else console.log("MatchForm invalide - soumission annul\xE9e")}calculateElapsedMinutes(e){let n=new Date,i=new Date(e),r=new Date(i.getTime()),o=Math.floor((n.getTime()-r.getTime())/(1e3*60));return o>90?this.getLastScoredMinute()+1:Math.max(1,o)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(e=>e.minute))}selectMatch(e){this.selectedMatch=e,this.scoreForm.patchValue({score1:e.score1,score2:e.score2});let n=this.calculateElapsedMinutes(e.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.buteurForm.patchValue({nom:"",minute:n,equipe:1});let i=this.teams.find(o=>o.name===e.equipe1),r=this.teams.find(o=>o.name===e.equipe2);if(i?Qm(i):this.teams.push({id:this.teams.length+1,name:e.equipe1,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),r?Qm(r):this.teams.push({id:this.teams.length+1,name:e.equipe2,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),e.equipe1==="U10 Stand. Flawinne FC"){let o=this.teams.find(s=>s.name==="U10 Stand. Flawinne FC");this.selectedTeam=o||null}this.maintainScoreConsistency()}updateScore(){if(!this.selectedMatch){console.log("selectedMatch null - mise \xE0 jour annul\xE9e");return}this.selectedMatch.score1=0,this.selectedMatch.score2=0,this.selectedMatch.buteurs=[],console.log("Score apr\xE8s mise \xE0 jour:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2,buteurs:this.selectedMatch.buteurs}),this.saveData()}modifierButeur(e,n){let i=this.matches[e],r=i.buteurs[n];console.log("Match trouv\xE9:",i),console.log("Buteur \xE0 modifier:",r),this.isGoalDisabled(n)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===n)),console.log("But r\xE9activ\xE9 pour \xE9dition")),this.editingButeur={index:n,buteur:R({},r)},this.buteurForm.patchValue({nom:r.nom,minute:r.minute,equipe:r.equipe,assist:r.assist||""}),this.gererOuvertureFermetureButeurForm(!0),this.showButeurForm=!0}ajouterButeur(){if(this.buteurForm.valid&&this.selectedMatch){let e=this.buteurForm.value;console.log("Donn\xE9es du buteur:",e);let n={nom:e.nom,minute:e.minute,equipe:e.equipe,assist:e.assist||void 0};if(console.log("Nouveau buteur cr\xE9\xE9:",n),this.editingButeur){let i=this.matches.indexOf(this.selectedMatch);this.matches[i].buteurs[this.editingButeur.index]=n,console.log("Buteur modifi\xE9 dans le match")}else this.selectedMatch.buteurs.push(n),console.log("Buteur ajout\xE9 au match"),n.equipe===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2));console.log("Match apr\xE8s ajout/modification:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1)}else console.log("ButeurForm invalide ou selectedMatch null - ajout annul\xE9")}annulerEditionButeur(){this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1),console.log("\xC9dition de buteur annul\xE9e")}supprimerButeur(e,n){let i=this.matches[e],r=i.buteurs[n];confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le but de ${r.nom} \xE0 la minute ${r.minute} ?`)&&(console.log("Match:",i),console.log("Buteur \xE0 supprimer:",r),this.isGoalDisabled(n)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===n)),console.log("But d\xE9sactiv\xE9 retir\xE9 de la liste")),r.equipe===1?(i.score1=Math.max(0,i.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",i.score1)):(i.score2=Math.max(0,i.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",i.score2)),i.buteurs.splice(n,1),console.log("Buteur supprim\xE9 du match"),console.log("Match apr\xE8s suppression:",i),this.maintainScoreConsistency(),this.saveData())}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(r=>r.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let i={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(r)?.setValue(i.name)}}editNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let i={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(r)?.setValue(i.name)}}addNewPlayer(e){if(e&&e.trim()){let n=this.teams.find(i=>i.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));n&&(n.players.some(i=>i.name===e.trim())||n.players.push({name:e.trim(),type:"milieu"}),this.buteurForm.get("nom")?.setValue(e.trim()))}}getTeamPlayers(e){if(!this.selectedMatch)return[];let n=e===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(r=>r.name===n)?.players||[]}quickAddGoal(e,n){if(console.log("quickAddGoal() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}let r={nom:e,minute:i,equipe:n};console.log("Nouveau buteur rapide cr\xE9\xE9:",r),this.selectedMatch.buteurs.push(r),console.log("Buteur ajout\xE9 au match"),n===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2)),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.lastGoalScorer=e,this.lastGoalTeam=n===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.showGoalCelebration=!0,this.remainingDots=5,console.log("C\xE9l\xE9bration du but:",{scorer:this.lastGoalScorer,team:this.lastGoalTeam,showCelebration:this.showGoalCelebration}),this.startCelebrationTimer(),console.log("But ajout\xE9 rapidement avec succ\xE8s")}quickAddDuel(e,n){if(console.log("quickAddDuel() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.duelsGagnes||(this.selectedMatch.duelsGagnes=[]);let r={nom:e,minute:i,equipe:n};console.log("Nouveau duel gagn\xE9 cr\xE9\xE9:",r),this.selectedMatch.duelsGagnes.push(r),console.log("Duel gagn\xE9 ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.lastDuelWinner=e,this.lastDuelTeam=n===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.showDuelCelebration=!0,this.remainingDots=5,console.log("C\xE9l\xE9bration du duel gagn\xE9:",{winner:this.lastDuelWinner,team:this.lastDuelTeam,showCelebration:this.showDuelCelebration}),this.startCelebrationTimer(),console.log("Duel gagn\xE9 ajout\xE9 rapidement avec succ\xE8s")}quickAddAction(e,n){if(console.log("quickAddAction() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - action rapide annul\xE9e");return}let i=this.getPlayerByName(n,e);if(!i){console.log("Joueur non trouv\xE9 - action rapide annul\xE9e");return}console.log("Type du joueur:",i.type);let r=i.type==="defenseur";console.log("isDefensivePlayer:",r),r?this.quickAddDuel(e,n):this.quickAddGoal(e,n)}saveGoalWithAssist(){if(console.log("saveGoalWithAssist() appel\xE9e"),!this.selectedMatch||!this.lastGoalScorer){console.log("selectedMatch ou lastGoalScorer null - sauvegarde annul\xE9e");return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.lastGoalScorer&&(e.assist=this.lastGoalAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showGoalCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelGoal(){if(console.log("cancelGoal() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(this.selectedMatch.buteurs.length>0){let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];console.log("Dernier buteur \xE0 supprimer:",e),e.equipe===1?(this.selectedMatch.score1=Math.max(0,this.selectedMatch.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2=Math.max(0,this.selectedMatch.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score2)),this.selectedMatch.buteurs.pop(),console.log("Dernier buteur supprim\xE9")}this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist=""}saveDuel(){console.log("saveDuel() appel\xE9e"),this.saveData(),this.showDuelCelebration=!1,this.lastDuelWinner="",this.lastDuelTeam="",console.log("Duel gagn\xE9 sauvegard\xE9 avec succ\xE8s")}cancelDuel(){if(console.log("cancelDuel() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(this.selectedMatch.duelsGagnes&&this.selectedMatch.duelsGagnes.length>0){let e=this.selectedMatch.duelsGagnes[this.selectedMatch.duelsGagnes.length-1];console.log("Dernier duel \xE0 supprimer:",e),this.selectedMatch.duelsGagnes.pop(),console.log("Dernier duel supprim\xE9")}this.showDuelCelebration=!1}supprimerDuel(e,n){if(console.log("supprimerDuel() appel\xE9e avec matchIndex:",e,"duelIndex:",n),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.duelsGagnes||n<0||n>=i.duelsGagnes.length){console.log("Index de duel invalide - suppression annul\xE9e");return}console.log("Match:",i),console.log("Duel \xE0 supprimer:",i.duelsGagnes[n]),i.duelsGagnes.splice(n,1),console.log("Duel supprim\xE9"),this.saveData(),console.log("Duel supprim\xE9 avec succ\xE8s")}supprimerMatch(e){if(!confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?"))return;let n=this.matches.findIndex(i=>i.id===e.id);n!==-1&&(this.matches.splice(n,1),this.saveData())}loadSavedData(){let e=localStorage.getItem("footballMatches");if(e){let n=JSON.parse(e);new Date(n.expirationDate)>new Date?(this.matches=n.matches.map(r=>te(R({},r),{heureDebut:new Date(r.heureDebut),duelsGagnes:r.duelsGagnes||[]})),n.teams&&(this.teams=n.teams)):localStorage.removeItem("footballMatches")}}saveData(){let e=new Date;e.setMonth(e.getMonth()+3);let n={matches:this.matches,teams:this.teams,expirationDate:e.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(n))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(e,n){return e.buteurs.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c),o.assist&&(s.assist=o.assist)):r.push({nom:o.nom,minutes:[o.minute],assist:o.assist}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom))}getGroupedDuels(e,n){return e.duelsGagnes?e.duelsGagnes.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getActiveGroupedScorers(e,n){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===n&&!this.isGoalDisabledForMatch(e,r.index)).reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}getDisabledGroupedScorers(e,n){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===n&&this.isGoalDisabledForMatch(e,r.index)&&r.buteur.nom!=="Joueur non list\xE9").reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(e,n){this.selectedPosition={team:e,position:n};let i=this.getPlayerForPosition(e,n);if(i&&this.selectedMatch){let r=n.includes("defenseur")||n==="gardien";console.log("isDefensivePosition"+r),r?this.encodingDuelsEnabled&&this.quickAddDuel(i.name,e):this.encodingGoalsEnabled&&this.quickAddGoal(i.name,e)}}assignPlayerToPosition(e){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let n=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[n]=e,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(e,n){if(this.selectedMatch?.positions){let i=`${e}_${n}`,r=this.selectedMatch.positions[i];if(r)return this.getPlayerByName(e,r)}return null}getPlayerByName(e,n){let i=this.teams.find(r=>r.name===(e===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));return i&&i.players.find(r=>r.name===n)||null}openDispositionModal(e){this.selectedMatch=e,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(e){e.showElements=!e.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(e){this.selectedMatch=e,this.matchEditForm.patchValue({equipe1:e.equipe1,equipe2:e.equipe2,heureDebut:this.getNearestValidTime(e.heureDebut),lieu:e.lieu,competition:e.competition}),this.editTeam1Search=e.equipe1,this.editTeam2Search=e.equipe2,this.editCompetitionSearch=e.competition||"",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editFilteredCompetitions=[],this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(e){let n=new Date(e);return n.getMinutes()<30?n.setMinutes(0):n.setMinutes(30),n.toISOString().slice(0,16)}onSubmitMatchEdit(){if(this.matchEditForm.valid&&this.selectedMatch){let e=this.matchEditForm.value;this.selectedMatch.equipe1=e.equipe1,this.selectedMatch.equipe2=e.equipe2,this.selectedMatch.heureDebut=new Date(e.heureDebut),this.selectedMatch.lieu=e.lieu,this.selectedMatch.competition=e.competition,this.saveData(),this.showMatchEditForm=!1}}get filteredMatches(){return this.matches.filter(e=>{let n=!this.selectedTeamFilter||e.equipe1===this.selectedTeamFilter||e.equipe2===this.selectedTeamFilter,i=!this.selectedCompetitionFilter||e.competition===this.selectedCompetitionFilter;return n&&i})}closeTeamFilterModal(){this.showTeamFilterModal=!1}shareMatch(e){return E(this,null,function*(){this.isSharingMatch=!0;try{let n=yield this.firestoreService.saveMatch(e),i=`${window.location.origin}?matchId=${n}`,r=`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${this.getGroupedScorers(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${e.equipe2}:
${this.getGroupedScorers(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

Duels gagn\xE9s :
${e.equipe1}:
${this.getGroupedDuels(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

${e.equipe2}:
${this.getGroupedDuels(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

Lien direct vers le match : ${i}
      `.trim();if(navigator.share)yield navigator.share({title:`${e.equipe1} vs ${e.equipe2}`,text:r,url:i});else{let o=document.createElement("textarea");o.value=r,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}catch(n){console.error("Erreur lors de la sauvegarde ou du partage du match:",n),alert("Une erreur est survenue lors de la sauvegarde ou du partage du match.")}finally{this.isSharingMatch=!1}})}loadMatchFromUrl(){return E(this,null,function*(){let e=new URLSearchParams(window.location.search),n=e.get("competitionId"),i=e.get("matchId");if(n)try{let r=yield this.firestoreService.getCompetitionById(n);if(r){let o=yield this.firestoreService.getMatchesByCompetition(n);o.length>0&&(this.matches=o,this.selectedCompetitionFilter=r.name,this.saveData())}}catch(r){console.error("Erreur lors du chargement de la comp\xE9tition:",r)}else if(i)try{let r=yield this.firestoreService.getMatchById(i);r?(r.heureDebut=new Date(r.heureDebut),this.matches.findIndex(s=>s.id===r.id)===-1&&(this.matches.push(r),this.saveData()),this.selectMatch(r),setTimeout(()=>{let s=document.querySelector(`[data-match-id="${r.id}"]`);s&&s.scrollIntoView({behavior:"smooth"})},100)):console.error("Match non trouv\xE9 dans Firestore")}catch(r){console.error("Erreur lors du chargement du match depuis Firestore:",r)}})}getButeurDisplay(e){let n=`\u26BD ${e.nom} (${e.minute}')`;return e.assist&&(n+=` (Assist: ${e.assist})`),n}saveMatchToFirestore(e){return E(this,null,function*(){try{let n=yield this.firestoreService.saveMatch(e);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",n),window.location.href=`/match/${n}`}catch(n){console.error("Erreur lors de l'enregistrement du match dans Firestore:",n)}})}closeCompetitionFilterModal(){this.showCompetitionFilterModal=!1}get uniqueCompetitions(){let e=this.matches.map(n=>n.competition).filter(n=>n!==void 0&&n!=="");return[...new Set(e)]}getCompetitionBadgeColor(e){let n=["badge-pastel-primary","badge-pastel-secondary","badge-pastel-success","badge-pastel-danger","badge-pastel-warning","badge-pastel-info","badge-pastel-dark","badge-pastel-purple","badge-pastel-pink","badge-pastel-teal"];if(t.competitionColors.has(e))return t.competitionColors.get(e);let i=e.split("").reduce((s,a)=>a.charCodeAt(0)+((s<<5)-s),0),r=Math.abs(i)%n.length,o=n[r];return t.competitionColors.set(e,o),o}exportMatches(){this.showExportModal=!0}closeExportModal(){this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1}}isExportFormatSelected(){return this.exportFormats.txt||this.exportFormats.csv||this.exportFormats.json}confirmExport(){return E(this,null,function*(){if(this.exportFormats.txt){let e=this.exportToTxt();this.downloadFile(e,"matches.txt")}if(this.exportFormats.csv){let e=this.exportToCsv();this.downloadFile(e,"matches.csv")}if(this.exportFormats.json){let e=this.exportToJson();this.downloadFile(e,"matches.json")}this.closeExportModal()})}exportToTxt(){let e=`FOOTBALL MATCHES EXPORT
`;e+=`========================

`;for(let n of this.getSortedMatches()){if(e+=`Match: ${n.equipe1} vs ${n.equipe2}
`,e+=`Score: ${n.score1} - ${n.score2}
`,e+=`Date: ${n.heureDebut.toLocaleString("fr-FR")}
`,n.lieu&&(e+=`Lieu: ${n.lieu}
`),n.competition&&(e+=`Comp\xE9tition: ${n.competition}
`),n.buteurs.length>0){e+=`
Buteurs:
`;let i=this.getGroupedScorers(n,1),r=this.getGroupedScorers(n,2);if(i.length>0){e+=`${n.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}if(r.length>0){e+=`${n.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}}if(n.duelsGagnes&&n.duelsGagnes.length>0){e+=`
Duels gagn\xE9s:
`;let i=this.getGroupedDuels(n,1),r=this.getGroupedDuels(n,2);if(i.length>0){e+=`${n.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}if(r.length>0){e+=`${n.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}}e+=`
`+"=".repeat(50)+`

`}return e}exportToCsv(){let e=`\xC9quipe 1,\xC9quipe 2,Score 1,Score 2,Date,Lieu,Comp\xE9tition,Buteurs \xC9quipe 1,Buteurs \xC9quipe 2,Duels \xC9quipe 1,Duels \xC9quipe 2
`;for(let n of this.getSortedMatches()){let i=this.getGroupedScorers(n,1),r=this.getGroupedScorers(n,2),o=this.getGroupedDuels(n,1),s=this.getGroupedDuels(n,2),a=i.map(h=>`${h.nom}(${h.minutes.join(",")}')`).join("; "),c=r.map(h=>`${h.nom}(${h.minutes.join(",")}')`).join("; "),l=o.map(h=>`${h.nom}(${h.minutes.join(",")}')`).join("; "),u=s.map(h=>`${h.nom}(${h.minutes.join(",")}')`).join("; ");e+=`"${n.equipe1}","${n.equipe2}",${n.score1},${n.score2},"${n.heureDebut.toLocaleString("fr-FR")}","${n.lieu||""}","${n.competition||""}","${a}","${c}","${l}","${u}"
`}return e}exportToJson(){let e=this.getSortedMatches().map(n=>({equipe1:n.equipe1,equipe2:n.equipe2,score1:n.score1,score2:n.score2,heureDebut:n.heureDebut.toISOString(),lieu:n.lieu,competition:n.competition,buteurs:n.buteurs,duelsGagnes:n.duelsGagnes||[]}));return JSON.stringify(e,null,2)}downloadFile(e,n){let i=new Blob([e],{type:"text/plain"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=n,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(r),document.body.removeChild(o)}importMatches(){let e=document.createElement("input");e.type="file",e.accept=".txt,.csv,.json",e.onchange=n=>{let i=n.target.files?.[0];if(i){let r=new FileReader;r.onload=o=>{let s=o.target?.result,a=i.name.split(".").pop()?.toLowerCase();try{let c=[];switch(a){case"txt":c=this.parseTxtImport(s);break;case"csv":c=this.parseCsvImport(s);break;case"json":c=this.parseJsonImport(s);break;default:throw new Error("Format de fichier non support\xE9")}c.length>0?confirm(`Voulez-vous importer ${c.length} match(s) ?`)&&(this.matches.push(...c),this.saveData(),alert("Import r\xE9ussi !")):alert("Aucun match trouv\xE9 dans le fichier.")}catch(c){console.error("Erreur lors de l'import:",c),alert("Erreur lors de l'import du fichier. V\xE9rifiez le format.")}},r.readAsText(i)}},e.click()}parseTxtImport(e){let n=[],i=e.split("----------------------------------------");for(let r of i){if(!r.trim())continue;let o=r.trim().split(`
`),s={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};for(let a of o)if(a.startsWith("Match : ")){let c=a.replace("Match : ","").split(" vs ");s.equipe1=c[0].trim(),s.equipe2=c[1].trim()}else if(a.startsWith("Score : ")){let c=a.replace("Score : ","").split(" - ");s.score1=parseInt(c[0]),s.score2=parseInt(c[1])}else if(a.startsWith("Date : "))s.heureDebut=new Date(a.replace("Date : ",""));else if(a.startsWith("Lieu : "))s.lieu=a.replace("Lieu : ","").trim();else if(a.startsWith("Comp\xE9tition : "))s.competition=a.replace("Comp\xE9tition : ","").trim();else if(a.includes(":")){let[c,l]=a.split(":"),u=c.replace("-","").trim(),h=l.match(/\d+/g),v=l.match(/\(Assist: (.*?)\)/);h&&h.forEach(y=>{s.buteurs?.push({nom:u,minute:parseInt(y),equipe:a.includes(s.equipe1)?1:2,assist:v?v[1]:void 0})})}s.equipe1&&s.equipe2&&n.push(s)}return n}parseCsvImport(e){let n=e.trim().split(`
`);if(n.length<2)throw new Error("Fichier CSV vide ou invalide");let i=n[0].split(",").map(o=>o.replace(/"/g,"").trim()),r=[];for(let o=1;o<n.length;o++){let s=n[o],a=this.parseCsvLine(s);if(a.length<8)continue;let c={id:this.matches.length+o,equipe1:a[0]?.replace(/"/g,"")||"",equipe2:a[1]?.replace(/"/g,"")||"",score1:parseInt(a[2])||0,score2:parseInt(a[3])||0,heureDebut:new Date(a[4]||new Date),lieu:a[5]?.replace(/"/g,"")||"",competition:a[6]?.replace(/"/g,"")||"",buteurs:[],duelsGagnes:[],updatedAt:new Date};if(a[7]){let l=a[7].replace(/"/g,"");if(l){let u=this.parseScorersString(l,1);c.buteurs.push(...u)}}if(a[8]){let l=a[8].replace(/"/g,"");if(l){let u=this.parseScorersString(l,2);c.buteurs.push(...u)}}if(a[9]){let l=a[9].replace(/"/g,"");if(l){let u=this.parseDuelsString(l,1);c.duelsGagnes.push(...u)}}if(a[10]){let l=a[10].replace(/"/g,"");if(l){let u=this.parseDuelsString(l,2);c.duelsGagnes.push(...u)}}r.push(c)}return r}parseJsonImport(e){try{return JSON.parse(e).map(i=>te(R({},i),{heureDebut:new Date(i.heureDebut),duelsGagnes:i.duelsGagnes||[]}))}catch{throw new Error("Format JSON invalide")}}parseCsvLine(e){let n=[],i="",r=!1;for(let o=0;o<e.length;o++){let s=e[o];s==='"'?r=!r:s===","&&!r?(n.push(i.trim()),i=""):i+=s}return n.push(i.trim()),n}parseScorersString(e,n){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(u=>parseInt(u.trim())).filter(u=>!isNaN(u));for(let u of l)i.push({nom:a,minute:u,equipe:n})}}return i}parseDuelsString(e,n){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(u=>parseInt(u.trim())).filter(u=>!isNaN(u));for(let u of l)i.push({nom:a,minute:u,equipe:n})}}return i}getSortedMatches(){return this.filteredMatches.slice().sort((e,n)=>new Date(n.heureDebut).getTime()-new Date(e.heureDebut).getTime())}calculateRanking(e){let n=new Map;return this.matches.filter(r=>r.competition===e).forEach(r=>{[r.equipe1,r.equipe2].forEach(a=>{n.has(a)||n.set(a,{name:a,points:0,matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0})});let o=n.get(r.equipe1),s=n.get(r.equipe2);o.matches++,s.matches++,o.goalsFor+=r.score1,o.goalsAgainst+=r.score2,s.goalsFor+=r.score2,s.goalsAgainst+=r.score1,r.score1>r.score2?(o.wins++,o.points+=3,s.losses++):r.score1<r.score2?(s.wins++,s.points+=3,o.losses++):(o.draws++,s.draws++,o.points+=1,s.points+=1)}),n.forEach(r=>{r.goalDifference=r.goalsFor-r.goalsAgainst}),Array.from(n.values()).sort((r,o)=>o.points!==r.points?o.points-r.points:o.goalDifference!==r.goalDifference?o.goalDifference-r.goalDifference:o.goalsFor-r.goalsFor)}showRanking(){this.selectedCompetitionFilter?(this.currentRanking=this.calculateRanking(this.selectedCompetitionFilter),this.showRankingModal=!0):alert("Veuillez s\xE9lectionner une comp\xE9tition pour voir le classement")}closeRankingModal(){this.showRankingModal=!1}shareCompetition(){return E(this,null,function*(){if(!this.selectedCompetitionFilter){alert("Veuillez s\xE9lectionner une comp\xE9tition");return}this.isSharingCompetition=!0,this.sharingLogs=["Comp\xE9tition en cours de sauvegarde..."];try{let e=this.matches.filter(r=>r.competition===this.selectedCompetitionFilter);if(e.length===0){alert("Aucun match trouv\xE9 pour cette comp\xE9tition");return}let n=yield this.firestoreService.shareCompetition(this.selectedCompetitionFilter,e,r=>{this.sharingLogs.push(r)}),i=`
          Comp\xE9tition : ${this.selectedCompetitionFilter}
          Nombre de matchs : ${e.length}

          Matchs :
          ${e.map(r=>`
          ${r.equipe1} vs ${r.equipe2}
          Score : ${r.score1} - ${r.score2}
          Date : ${r.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          Lieu : ${r.lieu||"Non sp\xE9cifi\xE9"}
          ----------------------------------------`).join(`
`)}

          Lien vers la comp\xE9tition : ${window.location.origin}?competitionId=${n}
                `.trim();if(navigator.share)yield navigator.share({title:`Comp\xE9tition ${this.selectedCompetitionFilter}`,text:i,url:`${window.location.origin}?competitionId=${n}`});else{let r=document.createElement("textarea");r.value=i,document.body.appendChild(r),r.select();try{document.execCommand("copy"),alert("Informations de la comp\xE9tition copi\xE9es dans le presse-papiers !")}catch(o){console.error("Erreur lors de la copie:",o)}document.body.removeChild(r)}this.sharingLogs.push("Association des matchs en cours...");for(let r of e){let o=yield this.firestoreService.saveMatch(r);this.sharingLogs.push(`Match ${r.equipe1} vs ${r.equipe2} sauvegard\xE9`),yield this.firestoreService.addMatchToCompetition(n,o)}this.sharingLogs.push("Comp\xE9tition sauvegard\xE9e avec succ\xE8s !")}catch(e){console.error("Erreur lors de la sauvegarde ou du partage de la comp\xE9tition:",e),this.sharingLogs.push("Erreur lors de la sauvegarde de la comp\xE9tition"),alert("Une erreur est survenue lors de la sauvegarde ou du partage de la comp\xE9tition.")}finally{this.isSharingCompetition=!1}})}validateScore(e){let n=Math.max(0,e);return console.log("validateScore() appel\xE9e avec:",e,"retourne:",n),n}openEditPlayersModal(e){let n=this.teams.find(i=>i.name===e);n&&(this.teamToEdit=te(R({},n),{players:[...n.players]}),this.showEditPlayersModal=!0)}closeEditPlayersModal(){this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerName=""}addPlayer(){this.teamToEdit&&this.newPlayerName.trim()&&(this.teamToEdit.players.push({name:this.newPlayerName.trim(),type:this.newPlayerType}),this.newPlayerName="",this.newPlayerType="milieu",this.saveData())}removePlayer(e){if(this.teamToEdit){let n=this.teamToEdit.players[e];if(!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le joueur ${n.name} ?`))return;this.teamToEdit.players.splice(e,1),this.saveData()}}savePlayersEdit(){if(this.teamToEdit){let e=this.teams.findIndex(n=>n.name===this.teamToEdit.name);e!==-1&&(this.teams[e]=te(R({},this.teamToEdit),{players:[...this.teamToEdit.players]}))}this.saveData(),this.closeEditPlayersModal()}getPlayersSortedByGoals(){if(!this.teamToEdit)return[];let e={};for(let n of this.teamToEdit.players){e[n.name]=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===n.name){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&e[n.name]++}}}return[...this.teamToEdit.players].sort((n,i)=>e[i.name]-e[n.name])}getGoalsForPlayer(e){if(!this.teamToEdit)return 0;let n=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===e){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&n++}}return n}cyclePlayerType(e){e.type==="attaquant"?e.type="milieu":e.type==="milieu"?e.type="defenseur":e.type="attaquant"}cycleNewPlayerType(){this.newPlayerType==="attaquant"?this.newPlayerType="milieu":this.newPlayerType==="milieu"?this.newPlayerType="defenseur":this.newPlayerType="attaquant"}getPlayerGoalsDetails(e){let n=[];for(let i of this.matches)if(i.equipe1===this.teamToEdit?.name||i.equipe2===this.teamToEdit?.name)for(let r of i.buteurs)r.nom===e.name&&n.push({match:i,minute:r.minute});return n}openPlayerGoalsModal(e){this.selectedPlayerGoalsModal=e}closePlayerGoalsModal(){this.selectedPlayerGoalsModal=null}updateFilteredTeams1(){let e=this.team1Search.toLowerCase();if(e.length<3){this.filteredTeams1=[];return}this.filteredTeams1=Bu.map(n=>n.name).filter(n=>n.toLowerCase().includes(e)).filter(n=>n!==this.matchForm.value.equipe2)}updateFilteredTeams2(){let e=this.team2Search.toLowerCase();if(e.length<3){this.filteredTeams2=[];return}this.filteredTeams2=Bu.map(n=>n.name).filter(n=>n.toLowerCase().includes(e)).filter(n=>n!==this.matchForm.value.equipe1)}selectTeam1(e){this.matchForm.patchValue({equipe1:e}),this.team1Search=e,this.filteredTeams1=[]}selectTeam2(e){this.matchForm.patchValue({equipe2:e}),this.team2Search=e,this.filteredTeams2=[]}openNewTeamModal(){this.showNewTeamModal=!0,this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}]}closeNewTeamModal(){this.showNewTeamModal=!1}addNewTeamPlayer(){this.newTeamPlayers.push({name:"",type:"milieu"})}removeNewTeamPlayer(e){this.newTeamPlayers.length>1&&this.newTeamPlayers.splice(e,1)}createNewTeam(){if(!this.newTeamName.trim()||this.newTeamPlayers.every(n=>!n.name.trim()))return;let e={id:Date.now(),name:this.newTeamName.trim(),players:this.newTeamPlayers.filter(n=>n.name.trim())};this.teams.push(e),this.saveData(),this.closeNewTeamModal()}canCreateNewTeam(){return!this.newTeamName.trim()||this.newTeamPlayers.every(e=>!e.name.trim())}updateFilteredCompetitions(){let e=this.competitionSearch.toLowerCase();if(e.length<3){this.filteredCompetitions=[];return}let n=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.filteredCompetitions=n.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectCompetition(e){this.matchForm.patchValue({competition:e}),this.competitionSearch=e,this.filteredCompetitions=[]}startCelebrationTimer(){console.log("startCelebrationTimer() appel\xE9e"),this.celebrationTimer=setInterval(()=>{this.remainingDots--,console.log("Dots restants:",this.remainingDots),this.remainingDots<=0&&(this.showGoalCelebration?(this.showGoalCelebration=!1,this.saveGoalWithAssist()):this.showDuelCelebration&&(this.showDuelCelebration=!1,this.saveDuel()),clearInterval(this.celebrationTimer))},1e3)}onScoreChange(){if(console.log("onScoreChange() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - modification annul\xE9e");return}let e=this.selectedMatch.score1,n=this.selectedMatch.score2;console.log("Scores actuels:",{score1:e,score2:n});let i=this.getActiveGoalsCount(1),r=this.getActiveGoalsCount(2);console.log("Buts actifs:",{team1:i,team2:r}),this.handleTeamScoreChange(1,e,i),this.handleTeamScoreChange(2,n,r),console.log("Match apr\xE8s modification:",this.selectedMatch),this.saveData()}handleTeamScoreChange(e,n,i){console.log(`handleTeamScoreChange() pour \xE9quipe ${e}:`,{newScore:n,currentGoals:i});let r=this.selectedMatch.id;if(n>i){let o=this.disabledGoals.filter(c=>c.matchId===r&&this.selectedMatch.buteurs[c.buteurIndex].equipe===e);console.log(`Buts d\xE9sactiv\xE9s pour \xE9quipe ${e}:`,o.length);let s=Math.min(n-i,o.length);console.log(`R\xE9activation de ${s} buts d\xE9sactiv\xE9s`);for(let c=0;c<s;c++){let l=o[c];this.disabledGoals=this.disabledGoals.filter(u=>!(u.matchId===l.matchId&&u.buteurIndex===l.buteurIndex)),console.log("But r\xE9activ\xE9 \xE0 l'index:",l.buteurIndex)}let a=n-i-s;if(a>0){console.log(`Ajout de ${a} buts "Joueur non list\xE9"`);for(let c=0;c<a;c++){let l={nom:"Joueur non list\xE9",minute:1,equipe:e};this.selectedMatch.buteurs.push(l),console.log("But ajout\xE9:",l)}}}else if(n<i){let o=i-n;console.log(`D\xE9sactivation de ${o} buts de l'\xE9quipe ${e}`),this.selectedMatch.buteurs.map((a,c)=>({buteur:a,index:c})).filter(a=>a.buteur.equipe===e&&!this.isGoalDisabled(a.index)).slice(-o).forEach(a=>{r!==void 0&&(a.buteur.nom==="Joueur non list\xE9"?(this.selectedMatch.buteurs.splice(a.index,1),console.log('"Joueur non list\xE9" supprim\xE9:',a.buteur)):(this.disabledGoals.push({matchId:r,buteurIndex:a.index}),console.log("But d\xE9sactiv\xE9:",a.buteur)))})}}isGoalDisabled(e){return this.selectedMatch?this.disabledGoals.some(n=>n.matchId===this.selectedMatch.id&&n.buteurIndex===e):!1}isGoalDisabledForMatch(e,n){return this.disabledGoals.some(r=>r.matchId===e.id&&r.buteurIndex===n)}maintainScoreConsistency(){if(!this.selectedMatch)return;console.log("maintainScoreConsistency() appel\xE9e");let e=this.getActiveGoalsCount(1),n=this.getActiveGoalsCount(2);console.log("Buts actifs actuels:",{team1:e,team2:n}),console.log("Scores actuels:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2}),this.selectedMatch.score1!==e&&(console.log(`Incoh\xE9rence \xE9quipe 1: score=${this.selectedMatch.score1}, buts actifs=${e}`),this.handleTeamScoreChange(1,this.selectedMatch.score1,e)),this.selectedMatch.score2!==n&&(console.log(`Incoh\xE9rence \xE9quipe 2: score=${this.selectedMatch.score2}, buts actifs=${n}`),this.handleTeamScoreChange(2,this.selectedMatch.score2,n))}getActiveGoalsCount(e){return this.selectedMatch?this.selectedMatch.buteurs.filter((n,i)=>n.equipe===e&&!this.isGoalDisabled(i)).length:0}getActiveGoalsCountForMatch(e,n){return e.buteurs.filter((i,r)=>i.equipe===n&&!this.isGoalDisabledForMatch(e,r)).length}showLocalStorageData(){let e=localStorage.getItem("footballMatches");this.localStorageData=e?JSON.parse(e):"Aucune donn\xE9e trouv\xE9e.",this.showingLocalStorageData=!0}hideLocalStorageData(){this.showingLocalStorageData=!1}updateEditFilteredTeams1(){let e=this.editTeam1Search.toLowerCase();if(e.length<3){this.editFilteredTeams1=[];return}this.editFilteredTeams1=this.teams.map(n=>n.name).filter(n=>n.toLowerCase().includes(e)).filter(n=>n!==this.matchEditForm.value.equipe2)}updateEditFilteredTeams2(){let e=this.editTeam2Search.toLowerCase();if(e.length<3){this.editFilteredTeams2=[];return}this.editFilteredTeams2=this.teams.map(n=>n.name).filter(n=>n.toLowerCase().includes(e)).filter(n=>n!==this.matchEditForm.value.equipe1)}selectEditTeam1(e){this.matchEditForm.patchValue({equipe1:e}),this.editTeam1Search=e,this.editFilteredTeams1=[]}selectEditTeam2(e){this.matchEditForm.patchValue({equipe2:e}),this.editTeam2Search=e,this.editFilteredTeams2=[]}updateEditFilteredCompetitions(){let e=this.editCompetitionSearch.toLowerCase();if(e.length<3){this.editFilteredCompetitions=[];return}let n=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.editFilteredCompetitions=n.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectEditCompetition(e){this.matchEditForm.patchValue({competition:e}),this.editCompetitionSearch=e,this.editFilteredCompetitions=[]}getTeamNames(){return this.teams.map(e=>e.name)}getCompetitionNames(){return Array.from(new Set(this.matches.map(e=>e.competition).filter(e=>!!e)))}updateFilteredButeurNames(){let e=this.buteurForm.get("equipe")?.value,n=(this.buteurNameSearch||"").toLowerCase();if(!e||n.length<3){this.filteredButeurNames=[];return}this.filteredButeurNames=this.getTeamPlayers(e).map(i=>i.name).filter(i=>i.toLowerCase().includes(n))}selectButeurName(e){this.buteurNameSearch=e,this.buteurForm.get("nom")?.setValue(e),this.filteredButeurNames=[]}updateFilteredAssistNames(){let e=this.buteurForm.get("equipe")?.value,n=this.buteurForm.get("nom")?.value,i=(this.assistSearch||"").toLowerCase();if(!e||i.length<3){this.filteredAssistNames=[];return}this.filteredAssistNames=this.getTeamPlayers(e).map(r=>r.name).filter(r=>r!==n).filter(r=>r.toLowerCase().includes(i))}selectAssistName(e){this.assistSearch=e,this.buteurForm.get("assist")?.setValue(e),this.filteredAssistNames=[]}onButeurEquipeChange(){this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.buteurForm.get("nom")?.setValue(""),this.buteurForm.get("assist")?.setValue("")}gererOuvertureFermetureButeurForm(e){e?(this.buteurNameSearch=this.buteurForm.get("nom")?.value||"",this.assistSearch=this.buteurForm.get("assist")?.value||""):(this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[])}shouldShowCreateButeur(){let e=this.buteurForm.get("equipe")?.value,n=this.buteurNameSearch;if(!e||!n||n.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredButeurNames.length===0&&!i.includes(n)}shouldShowCreateAssist(){let e=this.buteurForm.get("equipe")?.value,n=this.assistSearch;if(!e||!n||n.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredAssistNames.length===0&&!i.includes(n)}shouldShowCreateTeam1(){let e=this.team1Search;if(!e||e.length<3)return!1;let n=this.getTeamNames();return this.filteredTeams1.length===0&&!n.includes(e)}shouldShowCreateTeam2(){let e=this.team2Search;if(!e||e.length<3)return!1;let n=this.getTeamNames();return this.filteredTeams2.length===0&&!n.includes(e)}shouldShowCreateCompetition(){let e=this.competitionSearch;if(!e||e.length<3)return!1;let n=this.getCompetitionNames();return this.filteredCompetitions.length===0&&!n.includes(e)}static{this.\u0275fac=function(n){return new(n||t)(q(cb),q(xs))}}static{this.\u0275cmp=To({type:t,selectors:[["app-root"]],standalone:!0,features:[Po],decls:34,vars:20,consts:[[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lead","text-muted","mb-0"],[1,"btn","btn-link","ms-2",3,"click"],[1,"fas","fa-question-circle","text-warning"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","btn mt-2",3,"ngClass","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","disabled","click",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","score-modal","tabindex","-1","aria-labelledby","competitionFilterModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade show","tabindex","-1","style","display:block; background:rgba(0,0,0,0.5);",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration","style","margin-top: -100px;",4,"ngIf"],["class","disposition-modal",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-plus-circle","text-white"],[3,"hidden"],[1,"fas","fa-users","text-white"],[1,"btn","mt-2",3,"click","ngClass"],[1,"fas","fa-trophy","text-white"],[1,"text-white"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden"],[1,"fas","fa-list-ol"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden","disabled"],[1,"fas",3,"ngClass"],["tabindex","-1","aria-labelledby","teamFilterModalLabel","aria-hidden","true",1,"score-modal"],["role","document",1,"modal-dialog","modal-body"],[1,"modal-content"],[1,"modal-header"],["id","teamFilterModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"modal-footer","d-flex"],["type","button",1,"btn","btn-primary","ms-2",3,"click","disabled"],["type","button",1,"btn","btn-success","me-auto",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],[1,"form-check-label",3,"for"],["tabindex","-1","aria-labelledby","competitionFilterModalLabel","aria-hidden","true",1,"score-modal"],["id","competitionFilterModalLabel",1,"modal-title"],["type","radio","id","allCompetitions",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allCompetitions",1,"form-check-label"],[1,"modal-footer"],[1,"badge",3,"ngClass"],["tabindex","-1",1,"modal","fade","show",2,"display","block","background","rgba(0,0,0,0.5)"],[1,"modal-dialog"],[1,"modal-title","mb-0","text-primary","fw-bold",2,"font-size","1.8rem","text-shadow","2px 2px 4px rgba(0,0,0,0.1)"],[1,"fas","fa-futbol","me-2"],["type","button","aria-label","Fermer",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"row",2,"width","100%","margin","0 auto","padding","10px","border-radius","10px","background","linear-gradient(to top, rgba(0,0,0,0.1) 0%, transparent 70%)"],[1,"col-md-6"],[1,"mb-3","position-relative"],["for","equipe1",1,"form-label"],["id","equipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe1"],["class","list-group position-absolute w-100",4,"ngIf"],["class","mt-1",4,"ngIf"],["for","equipe2",1,"form-label"],["id","equipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe2"],[1,"mb-3"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["for","competition",1,"form-label","text-muted"],["id","competition","type","text","placeholder","Rechercher ou cr\xE9er une comp\xE9tition...","name","competitionSearch","autocomplete","off",1,"form-control","form-control-sm",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","competition"],[1,"d-flex","gap-2","ms-2","mt-3"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-auto"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"list-group","position-absolute","w-100"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"mt-1"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"mt-4"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"match-details"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn","btn-primary",3,"click"],["class","match-scorers",4,"ngIf"],["class","match-actions d-flex gap-2 justify-content-center mt-3",4,"ngIf"],[1,"mx-2"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[4,"ngFor","ngForOf"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"buteur-equipe","disabled-scorer"],[1,"minutes-list","right-team"],[1,"buteur-equipe","duel-equipe"],[1,"match-actions","d-flex","gap-2","justify-content-center","mt-3"],["title","Ajouter un but",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-futbol"],["title","Disposition tactique",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-tshirt"],["title","Modifier le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],["title","Partager le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click","disabled"],[1,"ms-1"],[1,"score-modal"],[1,"score-modal-content"],[1,"close-button",2,"position","absolute","right","0","top","O","transform","translateY(-45%)",3,"click"],[2,"text-align","center"],[1,"fas","fa-futbol","me-2",2,"color","#27ae60"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center",3,"click"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"row"],[1,"col-sm-6"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],["class","duels-list mb-3",4,"ngIf"],["class","player-selector",4,"ngIf"],[1,"mt-3"],[1,"score-info",2,"font-size","0.7em","opacity","0.8"],[1,"d-flex","align-items-center","justify-content-center","gap-1"],["type","number","min","0","onkeypress","return event.charCode >= 48",1,"form-control","form-control-sm",2,"width","42px","text-align","center","padding","2px 4px",3,"ngModelChange","input","ngModel"],["tabindex","-1",1,"score-modal"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"row","g-3"],[1,"col-md-5","position-relative"],[1,"form-label","small"],["type","text","placeholder","Nom du buteur","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","nom"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control"],[1,"col-md-4"],["formControlName","equipe",1,"form-select",3,"change"],[3,"value"],[1,"col-md-12","position-relative"],["type","text","placeholder","Nom du passeur (optionnel)","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","assist"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],["class","fas fa-futbol me-1",4,"ngIf"],["class","fas fa-shield me-1",4,"ngIf"],["class","fas fa-arrows-alt-h me-1",4,"ngIf"],[1,"fas","fa-futbol","me-1"],[1,"fas","fa-shield","me-1"],[1,"fas","fa-arrows-alt-h","me-1"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",3,"ngClass"],[1,"flex-grow-1"],[3,"ngClass"],[1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"duels-list","mb-3"],[1,"section-header"],["class","duel-item",4,"ngFor","ngForOf"],[1,"duel-item"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",2,"border-color","#28a745 !important"],[2,"color","#28a745"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],[1,"match-edit-modal"],[1,"close-button",3,"click"],[1,"fas","fa-calendar-days","me-2",2,"color","#27ae60"],[1,"form-group"],["for","equipe1"],[1,"position-relative"],["id","editEquipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","equipe2"],["id","editEquipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["for","competition",1,"form-label"],["id","editCompetition","type","text","placeholder","Championnat, tournoi, amical...","name","editCompetitionSearch","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],[1,"button-group","mt-3"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger","float-end",2,"float","right",3,"click"],[1,"goal-celebration",2,"margin-top","-100px"],[1,"celebration-content",2,"width","300px"],[1,"goal-text",2,"transform","scale(1.5)"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],[1,"assist-section","mt-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"button-group","mt-2"],[1,"btn","btn-outline-danger","ms-2",3,"click"],[1,"dot"],[3,"value","disabled"],[1,"goal-text",2,"transform","scale(1.5)","color","#28a745"],[1,"btn","btn-success",3,"click"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"fas","fa-tshirt","me-2",2,"color","#27ae60"],[1,"disposition-controls","mb-3"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"encoding-controls","mt-2"],["role","group",1,"btn-group"],["title","Activer/d\xE9sactiver l'encodage des buts",1,"btn","btn-sm",3,"click"],["title","Activer/d\xE9sactiver l'encodage des duels gagn\xE9s",1,"btn","btn-sm",3,"click"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"],[1,"form-check","mb-2"],["type","checkbox","id","txtFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","txtFormat",1,"form-check-label"],["type","checkbox","id","csvFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","csvFormat",1,"form-check-label"],["type","checkbox","id","jsonFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","jsonFormat",1,"form-check-label"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-unstyled"],[1,"fas","fa-plus-circle","text-primary"],[1,"fas","fa-futbol","text-primary"],[1,"fas","fa-users","text-primary"],[1,"fas","fa-share-alt","text-primary"],[1,"fas","fa-download","text-primary"],[1,"fas","fa-upload","text-primary"],["type","button","class","btn btn-info me-auto",3,"click",4,"ngIf"],["type","button","class","btn btn-warning me-auto",3,"click",4,"ngIf"],["class","p-3 bg-light border mt-2","style","max-height: 300px; overflow: auto; font-size: 0.95em;",4,"ngIf"],["type","button",1,"btn","btn-info","me-auto",3,"click"],["type","button",1,"btn","btn-warning","me-auto",3,"click"],[1,"p-3","bg-light","border","mt-2",2,"max-height","300px","overflow","auto","font-size","0.95em"],[1,"modal-dialog","modal-xl",2,"min-width","100%","margin-right","0"],[1,"modal-body","p-0"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[1,"px-1"],[1,"px-1",3,"ngClass"],["role","document",1,"modal-dialog"],[1,"list-group","mb-3"],["class","list-group-item d-flex flex-column align-items-start",4,"ngFor","ngForOf"],[1,"input-group"],["placeholder","Ajouter un joueur...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],["class","fas fa-futbol type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"list-group-item","d-flex","flex-column","align-items-start"],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["class","fas fa-futbol me-2 type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h me-2 type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield me-2 type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],[1,"form-control","form-control-sm","me-2",2,"max-width","140px","display","inline-block",3,"ngModelChange","ngModel"],["class","badge bg-primary ms-2","style","cursor:pointer;",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],["title","Changer le type (Attaquant)",1,"fas","fa-futbol","me-2","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","me-2","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield","me-2","type-icon","type-icon-clickable",3,"click"],[1,"badge","bg-primary","ms-2",2,"cursor","pointer",3,"click"],["title","Changer le type (Attaquant)",1,"fas","fa-futbol","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield","type-icon","type-icon-clickable",3,"click"],["class","mb-2",4,"ngFor","ngForOf"],["class","small text-muted",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"mb-2"],[1,"fas","fa-calendar-alt","me-1"],[1,"ms-2"],[1,"fas","fa-stopwatch"],[1,"small","text-muted"],[1,"form-label"],["placeholder","Nom de l'\xE9quipe",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"mb-2","fw-bold"],["class","d-flex align-items-center mb-2 gap-2",4,"ngFor","ngForOf"],[1,"btn","btn-link","p-0","mt-1",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"d-flex","align-items-center","mb-2","gap-2"],["placeholder","Nom du joueur",1,"form-control","form-control-sm",2,"max-width","180px",3,"ngModelChange","ngModel","ngModelOptions"],[1,"form-select","form-select-sm",2,"max-width","120px",3,"ngModelChange","ngModel","ngModelOptions"],["value","attaquant"],["value","milieu"],["value","defenseur"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"]],template:function(n,i){n&1&&(f(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span",3),m(4,"BUUUT"),p(),f(5,"span",4),m(6,".be"),p()(),f(7,"div",5)(8,"p",6),m(9,"Enregistrez maintenant tous vos buts!"),p(),f(10,"button",7),C("click",function(){return i.showHelpModal=!0}),T(11,"i",8),p()()(),f(12,"div",9),b(13,VB,4,1,"button",10)(14,LB,2,0,"button",10)(15,jB,4,2,"button",11)(16,UB,3,6,"button",12)(17,BB,3,8,"button",13)(18,qB,23,4,"div",14)(19,HB,18,3,"div",15),p(),b(20,t$,56,17,"div",16)(21,L$,4,1,"div",17)(22,f4,44,16,"div",18)(23,C4,46,16,"div",19)(24,D4,22,6,"div",20)(25,x4,17,4,"div",20)(26,X5,101,53,"div",21)(27,eq,25,4,"div",18)(28,rq,47,3,"div",18)(29,sq,37,2,"div",18),p(),T(30,"router-outlet"),b(31,mq,24,6,"div",18)(32,yq,8,2,"div",16)(33,Iq,22,5,"div",16)),n&2&&(d(13),g("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),d(),g("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),d(),g("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm),d(),g("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm),d(),g("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm),d(),g("ngIf",i.showTeamFilterModal),d(),g("ngIf",i.showCompetitionFilterModal),d(),g("ngIf",i.showMatchForm),d(),g("ngIf",i.filteredMatches.length>0),d(),g("ngIf",i.selectedMatch&&i.showScoreForm),d(),g("ngIf",i.selectedMatch&&i.showMatchEditForm),d(),g("ngIf",i.showGoalCelebration),d(),g("ngIf",i.showDuelCelebration),d(),g("ngIf",i.showDispositionModal&&i.selectedMatch),d(),g("ngIf",i.showExportModal),d(),g("ngIf",i.showHelpModal),d(),g("ngIf",i.showRankingModal),d(2),g("ngIf",i.showEditPlayersModal&&i.teamToEdit&&i.teamToEdit.players),d(),g("ngIf",i.selectedPlayerGoalsModal),d(),g("ngIf",i.showNewTeamModal))},dependencies:[Js,eC,vu,yu,tC,wu,ub,eb,ib,ob,Lu,Bm,km,Uu,$m,zC,WC,Km,Wm,zm,qm,Gm,lb,Um,nT,xg],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-2px)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #4b29b967}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{position:fixed;top:10px;left:0;width:100%;height:calc(100% - 10px);display:flex;justify-content:center;align-items:flex-start;z-index:1000;padding:0;overflow-y:auto}.score-modal-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1000px;margin:1.75rem auto;background:#fff;border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026;padding:.2rem;outline:0;overflow-y:auto;animation:_ngcontent-%COMP%_fadeIn .3s}.modal-body[_ngcontent-%COMP%]{overflow-y:auto}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.match-duels[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.5rem;margin-top:.5rem}.team-duels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.duels-column[_ngcontent-%COMP%]{flex:1;max-width:50%}.duels-column.left[_ngcontent-%COMP%]{text-align:left}.duels-column.right[_ngcontent-%COMP%]{text-align:right}.duel-equipe[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.duel-equipe[_ngcontent-%COMP%]   .minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4b29b900}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.team-scorers[_ngcontent-%COMP%]{gap:1rem}.scorers-column[_ngcontent-%COMP%]{padding:0 .5rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:solid #3498db;width:99%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.buteur-team1[_ngcontent-%COMP%]{color:#3498db}.buteur-team2[_ngcontent-%COMP%]{color:#27ae60}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:90%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:0 1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%], .duel-equipe[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#191137e6,#40327bcc);padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-controls[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.encoding-controls[_ngcontent-%COMP%]{margin-top:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;font-size:.8rem;padding:.375rem .75rem}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:8px;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:.5rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:1000px;width:98%;overflow-y:auto}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}.share-icon[_ngcontent-%COMP%]{color:#3498db;font-size:1.2em;margin-right:.5rem;transition:transform .3s ease;display:inline-block;transform:scaleX(-1)}.share-icon[_ngcontent-%COMP%]:hover{transform:scaleX(-1) scale(1.2);color:#2980b9}.badge-pastel-primary[_ngcontent-%COMP%]{background-color:#b3d1ff;color:#2c3e50}.badge-pastel-secondary[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#2c3e50}.badge-pastel-success[_ngcontent-%COMP%]{background-color:#b3ffb3;color:#2c3e50}.badge-pastel-danger[_ngcontent-%COMP%]{background-color:#ffb3b3;color:#2c3e50}.badge-pastel-warning[_ngcontent-%COMP%]{background-color:#ffe6b3;color:#2c3e50}.badge-pastel-info[_ngcontent-%COMP%]{background-color:#b3e6ff;color:#2c3e50}.badge-pastel-dark[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#2c3e50}.badge-pastel-purple[_ngcontent-%COMP%]{background-color:#e6b3ff;color:#2c3e50}.badge-pastel-pink[_ngcontent-%COMP%]{background-color:#ffb3e6;color:#2c3e50}.badge-pastel-teal[_ngcontent-%COMP%]{background-color:#b3ffe6;color:#2c3e50}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{font-size:1.3em;margin:0 .2em;cursor:pointer;color:#bbb;transition:color .2s,background .2s,border .2s;border-radius:50%;padding:.2em .3em}.type-icons[_ngcontent-%COMP%]   .type-icon.active-type[_ngcontent-%COMP%]{color:#fff;background:#3498db;border:2px solid #3498db}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]:hover{color:#3498db;background:#eaf6ff}.type-icon.type-icon-clickable[_ngcontent-%COMP%]{font-size:1em;color:#fff;background:#3498db;border:2px solid #3498db;border-radius:25%;padding:.25em .35em;margin-right:.5em;box-shadow:0 2px 8px #3498db40;cursor:pointer;transition:transform .1s,box-shadow .2s,background .2s;outline:2px solid #fff;outline-offset:2px}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:hover{background:#217dbb;color:#fff;box-shadow:0 4px 16px #3498db59;transform:scale(1.12) rotate(-8deg)}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:active{background:#176093;transform:scale(.95) rotate(4deg);box-shadow:0 2px 8px #3498db26}.list-group.position-absolute[_ngcontent-%COMP%]{z-index:1050;background:#fff;border:1px solid #ddd;box-shadow:0 2px 8px #00000014;max-height:220px;overflow-y:auto}.disabled-goal[_ngcontent-%COMP%]{opacity:.5;background-color:#f8f9fa;border-color:#dee2e6!important}.disabled-goal[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-decoration:line-through;color:#6c757d!important}.disabled-goal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{opacity:.8}.disabled-scorer[_ngcontent-%COMP%]{opacity:.5;text-decoration:line-through;color:#6c757d!important}.disabled-scorer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through}.score-modal[_ngcontent-%COMP%], .match-edit-modal[_ngcontent-%COMP%], .disposition-modal[_ngcontent-%COMP%], .modal.fade.show[_ngcontent-%COMP%], .modal[style*="display:block"][_ngcontent-%COMP%]{background:#00000080!important}']})}};var cx=(()=>{class t{constructor(n){this.http=n,this.apiUrl="http://localhost:3000/api/matches"}createMatch(n){return this.http.post(this.apiUrl,n)}getAllMatches(){return this.http.get(this.apiUrl)}getMatchById(n){return this.http.get(`${this.apiUrl}/${n}`)}updateMatch(n,i){return this.http.put(`${this.apiUrl}/${n}`,i)}deleteMatch(n){return this.http.delete(`${this.apiUrl}/${n}`)}static{this.\u0275fac=function(i){return new(i||t)(B(Cm))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Eq(t,e){if(t&1&&(f(0,"span"),m(1),p()),t&2){let n=_().$implicit;d(),O("(Assist: ",n.assist,")")}}function Cq(t,e){if(t&1&&(f(0,"div",5)(1,"p"),m(2),b(3,Eq,2,1,"span",6),p()()),t&2){let n=e.$implicit;d(2),nn(" ",n.nom," (",n.minute,"') "),d(),g("ngIf",n.assist)}}function bq(t,e){if(t&1&&(f(0,"div",1)(1,"h2"),m(2),p(),f(3,"div",2)(4,"p"),m(5),Ro(6,"date"),p(),f(7,"p"),m(8),p(),f(9,"p"),m(10),p()(),f(11,"div",3)(12,"h3"),m(13,"Buteurs"),p(),b(14,Cq,4,3,"div",4),p()()),t&2){let n=_();d(2),nn("",n.match.equipe1," vs ",n.match.equipe2,""),d(3),O("Date: ",Ks(6,7,n.match.heureDebut,"medium"),""),d(3),O("Lieu: ",n.match.lieu,""),d(2),nn("Score: ",n.match.score1," - ",n.match.score2,""),d(4),g("ngForOf",n.match.buteurs)}}var lx=(()=>{class t{constructor(n,i){this.route=n,this.firestoreService=i,this.match=null}ngOnInit(){this.route.params.subscribe(n=>{let i=n.id;i&&this.loadMatch(i)})}loadMatch(n){return E(this,null,function*(){try{this.match=yield this.firestoreService.getMatchById(n)}catch(i){console.error("Erreur lors du chargement du match:",i)}})}static{this.\u0275fac=function(i){return new(i||t)(q(li),q(xs))}}static{this.\u0275cmp=To({type:t,selectors:[["app-match-detail"]],standalone:!0,features:[Po],decls:1,vars:1,consts:[["class","match-detail",4,"ngIf"],[1,"match-detail"],[1,"match-info"],[1,"buteurs"],["class","buteur",4,"ngFor","ngForOf"],[1,"buteur"],[4,"ngIf"]],template:function(i,r){i&1&&b(0,bq,15,10,"div",0),i&2&&g("ngIf",r.match)},dependencies:[Js,vu,yu,wu],styles:[".match-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.match-info[_ngcontent-%COMP%]{margin:20px 0}.buteurs[_ngcontent-%COMP%]{margin-top:20px}.buteur[_ngcontent-%COMP%]{margin:10px 0}"]})}}return t})();var ux=[{path:"match/:id",component:lx}];var dx={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var hx={providers:[Jb(ux),xs,Sp(AT(()=>MT(dx.firebaseConfig)),tx(()=>nx()))]};yC(zh,{providers:[...hx.providers,dC(),cx]}).catch(t=>console.error(t));
