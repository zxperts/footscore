var hS=Object.defineProperty,fS=Object.defineProperties;var pS=Object.getOwnPropertyDescriptors;var vv=Object.getOwnPropertySymbols;var mS=Object.prototype.hasOwnProperty,gS=Object.prototype.propertyIsEnumerable;var wv=(t,e,n)=>e in t?hS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M=(t,e)=>{for(var n in e||={})mS.call(e,n)&&wv(t,n,e[n]);if(vv)for(var n of vv(e))gS.call(e,n)&&wv(t,n,e[n]);return t},Y=(t,e)=>fS(t,pS(e));var E=(t,e,n)=>new Promise((i,r)=>{var o=c=>{try{a(n.next(c))}catch(l){r(l)}},s=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var Cv=null;var Yh=1,Jh=Symbol("SIGNAL");function ye(t){let e=Cv;return Cv=t,e}var Ev={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _S(t){if(!(ef(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Yh)){if(!t.producerMustRecompute(t)&&!Zh(t)){t.dirty=!1,t.lastCleanEpoch=Yh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Yh}}function Iv(t){return t&&(t.nextProducerIndex=0),ye(t)}function bv(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ef(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Zh(t){Vc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(_S(n),i!==n.version))return!0}return!1}function Tv(t){if(Vc(t),ef(t))for(let e=0;e<t.producerNode.length;e++)Xh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xh(t,e){if(yS(t),Vc(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Xh(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Vc(r),r.producerIndexOfThis[i]=e}}function ef(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function yS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function vS(){throw new Error}var wS=vS;function Dv(t){wS=t}function J(t){return typeof t=="function"}function Zr(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Lc=Zr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function tr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var $e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(J(i))try{i()}catch(o){e=o instanceof Lc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{xv(o)}catch(s){e=e??[],s instanceof Lc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Lc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)xv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&tr(n,e)}remove(e){let{_finalizers:n}=this;n&&tr(n,e),e instanceof t&&e._removeParent(this)}};$e.EMPTY=(()=>{let t=new $e;return t.closed=!0,t})();var tf=$e.EMPTY;function jc(t){return t instanceof $e||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function xv(t){J(t)?t():t.unsubscribe()}var hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xr={setTimeout(t,e,...n){let{delegate:i}=Xr;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Uc(t){Xr.setTimeout(()=>{let{onUnhandledError:e}=hn;if(e)e(t);else throw t})}function Ns(){}var Sv=nf("C",void 0,void 0);function Av(t){return nf("E",void 0,t)}function Mv(t){return nf("N",t,void 0)}function nf(t,e,n){return{kind:t,value:e,error:n}}var nr=null;function eo(t){if(hn.useDeprecatedSynchronousErrorHandling){let e=!nr;if(e&&(nr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=nr;if(nr=null,n)throw i}}else t()}function Pv(t){hn.useDeprecatedSynchronousErrorHandling&&nr&&(nr.errorThrown=!0,nr.error=t)}var ir=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jc(e)&&e.add(this)):this.destination=IS}static create(e,n,i){return new to(e,n,i)}next(e){this.isStopped?of(Mv(e),this):this._next(e)}error(e){this.isStopped?of(Av(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?of(Sv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CS=Function.prototype.bind;function rf(t,e){return CS.call(t,e)}var sf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Bc(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Bc(i)}else Bc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Bc(n)}}},to=class extends ir{constructor(e,n,i){super();let r;if(J(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&hn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&rf(e.next,o),error:e.error&&rf(e.error,o),complete:e.complete&&rf(e.complete,o)}):r=e}this.destination=new sf(r)}};function Bc(t){hn.useDeprecatedSynchronousErrorHandling?Pv(t):Uc(t)}function ES(t){throw t}function of(t,e){let{onStoppedNotification:n}=hn;n&&Xr.setTimeout(()=>n(t,e))}var IS={closed:!0,next:Ns,error:ES,complete:Ns};var no=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(t){return t}function af(...t){return cf(t)}function cf(t){return t.length===0?Lt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=TS(n)?n:new to(n,i,r);return eo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=Rv(i),new i((r,o)=>{let s=new to({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[no](){return this}pipe(...n){return cf(n)(this)}toPromise(n){return n=Rv(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function Rv(t){var e;return(e=t??hn.Promise)!==null&&e!==void 0?e:Promise}function bS(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function TS(t){return t&&t instanceof ir||bS(t)&&jc(t)}function lf(t){return J(t?.lift)}function de(t){return e=>{if(lf(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,i,r){return new uf(t,e,n,i,r)}var uf=class extends ir{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function io(){return de((t,e)=>{let n=null;t._refCount++;let i=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var ro=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,lf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return io()(this)}};var Nv=Zr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wt=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new $c(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Nv}next(n){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?tf:(this.currentObservers=null,o.push(n),new $e(()=>{this.currentObservers=null,tr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new $c(e,n),t})(),$c=class extends wt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:tf}};var ot=class extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var df={now(){return(df.delegate||Date).now()},delegate:void 0};var qc=class extends $e{constructor(e,n){super()}schedule(e,n=0){return this}};var Os={setInterval(t,e,...n){let{delegate:i}=Os;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Os;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var oo=class extends qc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Os.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Os.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,tr(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var so=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};so.now=df.now;var ao=class extends so{constructor(e,n=so.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var hf=new ao(oo);var Gc=class extends oo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Hc=class extends ao{};var ff=new Hc(Gc);var jt=new oe(t=>t.complete());function Ov(t){return t&&J(t.schedule)}function kv(t){return t[t.length-1]}function zc(t){return J(kv(t))?t.pop():void 0}function mi(t){return Ov(kv(t))?t.pop():void 0}function pf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Vv(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(p){s(p)}}function c(u){try{l(i.throw(u))}catch(p){s(p)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((i=i.apply(t,e||[])).next())})}function Fv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rr(t){return this instanceof rr?(this.v=t,this):new rr(t)}function Lv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(v){return function(D){return Promise.resolve(D).then(v,p)}}function a(v,D){i[v]&&(r[v]=function(x){return new Promise(function(A,F){o.push([v,x,A,F])>1||c(v,x)})},D&&(r[v]=D(r[v])))}function c(v,D){try{l(i[v](D))}catch(x){y(o[0][3],x)}}function l(v){v.value instanceof rr?Promise.resolve(v.value.v).then(u,p):y(o[0][2],v)}function u(v){c("next",v)}function p(v){c("throw",v)}function y(v,D){v(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}function jv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Fv=="function"?Fv(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Wc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Kc(t){return J(t?.then)}function Qc(t){return J(t[no])}function Yc(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function Jc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function DS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zc=DS();function Xc(t){return J(t?.[Zc])}function el(t){return Lv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield rr(n.read());if(r)return yield rr(void 0);yield yield rr(i)}}finally{n.releaseLock()}})}function tl(t){return J(t?.getReader)}function Ge(t){if(t instanceof oe)return t;if(t!=null){if(Qc(t))return xS(t);if(Wc(t))return SS(t);if(Kc(t))return AS(t);if(Yc(t))return Uv(t);if(Xc(t))return MS(t);if(tl(t))return PS(t)}throw Jc(t)}function xS(t){return new oe(e=>{let n=t[no]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SS(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function AS(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Uc)})}function MS(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Uv(t){return new oe(e=>{RS(t,e).catch(n=>e.error(n))})}function PS(t){return Uv(el(t))}function RS(t,e){var n,i,r,o;return Vv(this,void 0,void 0,function*(){try{for(n=jv(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function St(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function gi(t,e=0){return de((n,i)=>{n.subscribe(se(i,r=>St(i,t,()=>i.next(r),e),()=>St(i,t,()=>i.complete(),e),r=>St(i,t,()=>i.error(r),e)))})}function _i(t,e=0){return de((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function Bv(t,e){return Ge(t).pipe(_i(e),gi(e))}function $v(t,e){return Ge(t).pipe(_i(e),gi(e))}function qv(t,e){return new oe(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function Gv(t,e){return new oe(n=>{let i;return St(n,e,()=>{i=t[Zc](),St(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>J(i?.return)&&i.return()})}function nl(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{St(n,e,()=>{let i=t[Symbol.asyncIterator]();St(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Hv(t,e){return nl(el(t),e)}function zv(t,e){if(t!=null){if(Qc(t))return Bv(t,e);if(Wc(t))return qv(t,e);if(Kc(t))return $v(t,e);if(Yc(t))return nl(t,e);if(Xc(t))return Gv(t,e);if(tl(t))return Hv(t,e)}throw Jc(t)}function ke(t,e){return e?zv(t,e):Ge(t)}function z(...t){let e=mi(t);return ke(t,e)}function co(t,e){let n=J(t)?t:()=>t,i=r=>r.error(n());return new oe(e?r=>e.schedule(i,0,r):i)}function mf(t){return!!t&&(t instanceof oe||J(t.lift)&&J(t.subscribe))}var Qn=Zr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return de((n,i)=>{let r=0;n.subscribe(se(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:NS}=Array;function OS(t,e){return NS(e)?t(...e):t(e)}function il(t){return ee(e=>OS(t,e))}var{isArray:kS}=Array,{getPrototypeOf:FS,prototype:VS,keys:LS}=Object;function rl(t){if(t.length===1){let e=t[0];if(kS(e))return{args:e,keys:null};if(jS(e)){let n=LS(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function jS(t){return t&&typeof t=="object"&&FS(t)===VS}function ol(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function ks(...t){let e=mi(t),n=zc(t),{args:i,keys:r}=rl(t);if(i.length===0)return ke([],e);let o=new oe(US(i,e,r?s=>ol(r,s):Lt));return n?o.pipe(il(n)):o}function US(t,e,n=Lt){return i=>{Wv(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)Wv(e,()=>{let l=ke(t[c],e),u=!1;l.subscribe(se(i,p=>{o[c]=p,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Wv(t,e,n){t?St(n,t,e):e()}function Kv(t,e,n,i,r,o,s,a){let c=[],l=0,u=0,p=!1,y=()=>{p&&!c.length&&!l&&e.complete()},v=x=>l<i?D(x):c.push(x),D=x=>{o&&e.next(x),l++;let A=!1;Ge(n(x,u++)).subscribe(se(e,F=>{r?.(F),o?v(F):e.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<i;){let F=c.shift();s?St(e,s,()=>D(F)):D(F)}y()}catch(F){e.error(F)}}))};return t.subscribe(se(e,v,()=>{p=!0,y()})),()=>{a?.()}}function He(t,e,n=1/0){return J(e)?He((i,r)=>ee((o,s)=>e(i,o,r,s))(Ge(t(i,r))),n):(typeof e=="number"&&(n=e),de((i,r)=>Kv(i,r,t,n)))}function lo(t=1/0){return He(Lt,t)}function Qv(){return lo(1)}function uo(...t){return Qv()(ke(t,mi(t)))}function sl(t){return new oe(e=>{Ge(t()).subscribe(e)})}function gf(...t){let e=zc(t),{args:n,keys:i}=rl(t),r=new oe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let p=!1;Ge(n[u]).subscribe(se(o,y=>{p||(p=!0,l--),a[u]=y},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(i?ol(i,a):a),o.complete())}))}});return e?r.pipe(il(e)):r}function At(t,e){return de((n,i)=>{let r=0;n.subscribe(se(i,o=>t.call(e,o,r++)&&i.next(o)))})}function yi(t){return de((e,n)=>{let i=null,r=!1,o;i=e.subscribe(se(n,void 0,void 0,s=>{o=Ge(t(s,yi(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function Yv(t,e,n,i,r){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(se(s,u=>{let p=l++;c=a?t(c,u,p):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Yn(t,e){return J(e)?He(t,e,1):He(t,1)}function vi(t){return de((e,n)=>{let i=!1;e.subscribe(se(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Jn(t){return t<=0?()=>jt:de((e,n)=>{let i=0;e.subscribe(se(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function _f(t){return ee(()=>t)}function al(t=BS){return de((e,n)=>{let i=!1;e.subscribe(se(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function BS(){return new Qn}function or(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?At((r,o)=>t(r,o,i)):Lt,Jn(1),n?vi(e):al(()=>new Qn))}function ho(t){return t<=0?()=>jt:de((e,n)=>{let i=[];e.subscribe(se(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function yf(t,e){let n=arguments.length>=2;return i=>i.pipe(t?At((r,o)=>t(r,o,i)):Lt,ho(1),n?vi(e):al(()=>new Qn))}function vf(t,e){return de(Yv(t,e,arguments.length>=2,!0))}function wf(...t){let e=mi(t);return de((n,i)=>{(e?uo(t,n,e):uo(t,n)).subscribe(i)})}function Mt(t,e){return de((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(se(i,c=>{r?.unsubscribe();let l=0,u=o++;Ge(t(c,u)).subscribe(r=se(i,p=>i.next(e?e(c,p,u,l++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Cf(t){return de((e,n)=>{Ge(t).subscribe(se(n,()=>n.complete(),Ns)),!n.closed&&e.subscribe(n)})}function ze(t,e,n){let i=J(t)||e||n?{next:t,error:e,complete:n}:t;return i?de((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(se(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Lt}var $S="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Vl(e,n)),this.code=e}};function Vl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ks(t){return{toString:t}.toString()}var cl="__parameters__";function qS(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function Ow(t,e,n){return Ks(()=>{let i=qS(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let p=c.hasOwnProperty(cl)?c[cl]:Object.defineProperty(c,cl,{value:[]})[cl];for(;p.length<=u;)p.push(null);return(p[u]=p[u]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Zn=globalThis;function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function GS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Jv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var HS=Me({__forward_ref__:Me});function It(t){return t.__forward_ref__=It,t.toString=function(){return Et(this())},t}function Ct(t){return kw(t)?t():t}function kw(t){return typeof t=="function"&&t.hasOwnProperty(HS)&&t.__forward_ref__===It}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ll(t){return Zv(t,Vw)||Zv(t,Lw)}function Fw(t){return Ll(t)!==null}function Zv(t,e){return t.hasOwnProperty(e)?t[e]:null}function zS(t){let e=t&&(t[Vw]||t[Lw]);return e||null}function Xv(t){return t&&(t.hasOwnProperty(ew)||t.hasOwnProperty(WS))?t[ew]:null}var Vw=Me({\u0275prov:Me}),ew=Me({\u0275inj:Me}),Lw=Me({ngInjectableDef:Me}),WS=Me({ngInjectorDef:Me}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jw(t){return t&&!!t.\u0275providers}var KS=Me({\u0275cmp:Me}),QS=Me({\u0275dir:Me}),YS=Me({\u0275pipe:Me}),JS=Me({\u0275mod:Me}),gl=Me({\u0275fac:Me}),Fs=Me({__NG_ELEMENT_ID__:Me}),tw=Me({__NG_ENV_ID__:Me});function Vs(t){return typeof t=="string"?t:t==null?"":String(t)}function ZS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Vs(t)}function XS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Tp(t,e){throw new $(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),Lf;function Uw(){return Lf}function Pt(t){let e=Lf;return Lf=t,e}function Bw(t,e,n){let i=Ll(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&ie.Optional)return null;if(e!==void 0)return e;Tp(t,"Injector")}var eA={},Ls=eA,jf="__NG_DI_FLAG__",_l="ngTempTokenPath",tA="ngTokenPath",nA=/\n/gm,iA="\u0275",nw="__source",_o;function rA(){return _o}function wi(t){let e=_o;return _o=t,e}function oA(t,e=ie.Default){if(_o===void 0)throw new $(-203,!1);return _o===null?Bw(t,void 0,e):_o.get(t,e&ie.Optional?null:void 0,e)}function B(t,e=ie.Default){return(Uw()||oA)(Ct(t),e)}function R(t,e=ie.Default){return B(t,jl(e))}function jl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Uf(t){let e=[];for(let n=0;n<t.length;n++){let i=Ct(t[n]);if(Array.isArray(i)){if(i.length===0)throw new $(900,!1);let r,o=ie.Default;for(let s=0;s<i.length;s++){let a=i[s],c=sA(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(B(r,o))}else e.push(B(i))}return e}function $w(t,e){return t[jf]=e,t.prototype[jf]=e,t}function sA(t){return t[jf]}function aA(t,e,n,i){let r=t[_l];throw e[nw]&&r.unshift(e[nw]),t.message=cA(`
`+t.message,r,n,i),t[tA]=r,t[_l]=null,t}function cA(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==iA?t.slice(2):t;let r=Et(e);if(Array.isArray(e))r=e.map(Et).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(nA,`
  `)}`}var Zt=$w(Ow("Optional"),8);var Dp=$w(Ow("SkipSelf"),4);function lr(t,e){let n=t.hasOwnProperty(gl);return n?t[gl]:null}function xp(t,e){t.forEach(n=>Array.isArray(n)?xp(n,e):e(n))}function qw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lA(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function uA(t,e,n){let i=Qs(t,e);return i>=0?t[i|1]=n:(i=~i,lA(t,i,e,n)),i}function Ef(t,e){let n=Qs(t,e);if(n>=0)return t[n|1]}function Qs(t,e){return dA(t,e,1)}function dA(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var vo={},Qt=[],wo=new U(""),Gw=new U("",-1),Hw=new U(""),vl=class{get(e,n=Ls){if(n===Ls){let i=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw i.name="NullInjectorError",i}return n}},zw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zw||{}),Mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Mn||{}),st=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(st||{});function hA(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function Bf(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];pA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function fA(t){return t===3||t===4||t===6}function pA(t){return t.charCodeAt(0)===64}function js(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?iw(t,n,r,null,e[++i]):iw(t,n,r,null,null))}}return t}function iw(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var Ww="ng-template";function mA(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&hA(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Sp(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Sp(t){return t.type===4&&t.value!==Ww}function gA(t,e,n){let i=t.type===4&&!n?Ww:t.value;return e===i}function _A(t,e,n){let i=4,r=t.attrs,o=r!==null?wA(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!fn(i)&&!fn(c))return!1;if(s&&fn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!gA(t,c,n)||c===""&&e.length===1){if(fn(i))return!1;s=!0}}else if(i&8){if(r===null||!mA(t,r,c,n)){if(fn(i))return!1;s=!0}}else{let l=e[++a],u=yA(c,r,Sp(t),n);if(u===-1){if(fn(i))return!1;s=!0;continue}if(l!==""){let p;if(u>o?p="":p=r[u+1].toLowerCase(),i&2&&l!==p){if(fn(i))return!1;s=!0}}}}return fn(i)||s}function fn(t){return(t&1)===0}function yA(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return CA(e,t)}function vA(t,e,n=!1){for(let i=0;i<e.length;i++)if(_A(t,e[i],n))return!0;return!1}function wA(t){for(let e=0;e<t.length;e++){let n=t[e];if(fA(n))return e}return t.length}function CA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function rw(t,e){return t?":not("+e.trim()+")":e}function EA(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!fn(s)&&(e+=rw(o,r),r=""),i=s,o=o||!fn(i);n++}return r!==""&&(e+=rw(o,r)),e}function IA(t){return t.map(EA).join(",")}function bA(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!fn(r))break;r=o}i++}return{attrs:e,classes:n}}function xi(t){return Ks(()=>{let e=Zw(t),n=Y(M({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Mn.Emulated,styles:t.styles||Qt,_:null,schemas:t.schemas||null,tView:null,id:""});Xw(n);let i=t.dependencies;return n.directiveDefs=sw(i,!1),n.pipeDefs=sw(i,!0),n.id=xA(n),n})}function TA(t){return Ei(t)||Kw(t)}function DA(t){return t!==null}function Nt(t){return Ks(()=>({type:t.type,bootstrap:t.bootstrap||Qt,declarations:t.declarations||Qt,imports:t.imports||Qt,exports:t.exports||Qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ow(t,e){if(t==null)return vo;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=st.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==st.None?[i,a]:i,e[o]=s):n[o]=i}return n}function Pe(t){return Ks(()=>{let e=Zw(t);return Xw(e),e})}function Ap(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ei(t){return t[KS]||null}function Kw(t){return t[QS]||null}function Qw(t){return t[YS]||null}function Yw(t){let e=Ei(t)||Kw(t)||Qw(t);return e!==null?e.standalone:!1}function Jw(t,e){let n=t[JS]||null;if(!n&&e===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function Zw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||vo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ow(t.inputs,e),outputs:ow(t.outputs),debugInfo:null}}function Xw(t){t.features?.forEach(e=>e(t))}function sw(t,e){if(!t)return null;let n=e?Qw:TA;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(DA)}function xA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function So(t){return{\u0275providers:t}}function Mp(...t){return{\u0275providers:eC(!0,t),\u0275fromNgModule:!0}}function eC(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return xp(e,s=>{let a=s;$f(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&tC(r,o),n}function tC(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Pp(r,o=>{e(o,i)})}}function $f(t,e,n,i){if(t=Ct(t),!t)return!1;let r=null,o=Xv(t),s=!o&&Ei(t);if(!o&&!s){let c=t.ngModule;if(o=Xv(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)$f(l,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{xp(o.imports,u=>{$f(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&tC(l,e)}if(!a){let l=lr(r)||(()=>new r);e({provide:r,useFactory:l,deps:Qt},r),e({provide:Hw,useValue:r,multi:!0},r),e({provide:wo,useValue:()=>B(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=t;Pp(c,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function Pp(t,e){for(let n of t)jw(n)&&(n=n.\u0275providers),Array.isArray(n)?Pp(n,e):e(n)}var SA=Me({provide:String,useValue:Me});function nC(t){return t!==null&&typeof t=="object"&&SA in t}function AA(t){return!!(t&&t.useExisting)}function MA(t){return!!(t&&t.useFactory)}function Co(t){return typeof t=="function"}function PA(t){return!!t.useClass}var Ul=new U(""),dl={},RA={},If;function Rp(){return If===void 0&&(If=new vl),If}var ht=class{},Us=class extends ht{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gf(e,s=>this.processProvider(s)),this.records.set(Gw,fo(void 0,this)),r.has("environment")&&this.records.set(ht,fo(void 0,this));let o=this.records.get(Ul);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Hw,Qt,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=wi(this),i=Pt(void 0),r;try{return e()}finally{wi(n),Pt(i)}}get(e,n=Ls,i=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tw))return e[tw](this);i=jl(i);let r,o=wi(this),s=Pt(void 0);try{if(!(i&ie.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=VA(e)&&Ll(e);l&&this.injectableDefInScope(l)?c=fo(qf(e),dl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&ie.Self?Rp():this.parent;return n=i&ie.Optional&&n===Ls?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[_l]=a[_l]||[]).unshift(Et(e)),o)throw a;return aA(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(s),wi(o)}}resolveInjectorInitializers(){let e=ye(null),n=wi(this),i=Pt(void 0),r;try{let o=this.get(wo,Qt,ie.Self);for(let s of o)s()}finally{wi(n),Pt(i),ye(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Et(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=Ct(e);let n=Co(e)?e:Ct(e&&e.provide),i=OA(e);if(!Co(e)&&e.multi===!0){let r=this.records.get(n);r||(r=fo(void 0,dl,!0),r.factory=()=>Uf(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=ye(null);try{return n.value===dl&&(n.value=RA,n.value=n.factory()),typeof n.value=="object"&&n.value&&FA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qf(t){let e=Ll(t),n=e!==null?e.factory:lr(t);if(n!==null)return n;if(t instanceof U)throw new $(204,!1);if(t instanceof Function)return NA(t);throw new $(204,!1)}function NA(t){if(t.length>0)throw new $(204,!1);let n=zS(t);return n!==null?()=>n.factory(t):()=>new t}function OA(t){if(nC(t))return fo(void 0,t.useValue);{let e=iC(t);return fo(e,dl)}}function iC(t,e,n){let i;if(Co(t)){let r=Ct(t);return lr(r)||qf(r)}else if(nC(t))i=()=>Ct(t.useValue);else if(MA(t))i=()=>t.useFactory(...Uf(t.deps||[]));else if(AA(t))i=()=>B(Ct(t.useExisting));else{let r=Ct(t&&(t.useClass||t.provide));if(kA(t))i=()=>new r(...Uf(t.deps));else return lr(r)||qf(r)}return i}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kA(t){return!!t.deps}function FA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function VA(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function Gf(t,e){for(let n of t)Array.isArray(n)?Gf(n,e):n&&jw(n)?Gf(n.\u0275providers,e):e(n)}function gn(t,e){t instanceof Us&&t.assertNotDestroyed();let n,i=wi(t),r=Pt(void 0);try{return e()}finally{wi(i),Pt(r)}}function rC(){return Uw()!==void 0||rA()!=null}function LA(t){if(!rC())throw new $(-203,!1)}function jA(t){return typeof t=="function"}var ti=0,ae=1,K=2,ft=3,pn=4,_n=5,wl=6,Bs=7,mn=8,Eo=9,Pn=10,We=11,$s=12,aw=13,Ao=14,Rn=15,Bl=16,po=17,Io=18,$l=19,oC=20,Ci=21,bf=22,ur=23,Jt=25,sC=1;var dr=7,Cl=8,El=9,Yt=10,Np=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Np||{});function ar(t){return Array.isArray(t)&&typeof t[sC]=="object"}function ni(t){return Array.isArray(t)&&t[sC]===!0}function Op(t){return(t.flags&4)!==0}function ql(t){return t.componentOffset>-1}function Gl(t){return(t.flags&1)===1}function Ii(t){return!!t.template}function UA(t){return(t[K]&512)!==0}var Hf=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function aC(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function ii(){return cC}function cC(t){return t.type.prototype.ngOnChanges&&(t.setInput=$A),BA}ii.ngInherit=!0;function BA(){let t=uC(this),e=t?.current;if(e){let n=t.previous;if(n===vo)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function $A(t,e,n,i,r){let o=this.declaredInputs[i],s=uC(t)||qA(t,{previous:vo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Hf(l&&l.currentValue,n,c===vo),aC(t,e,r,n)}var lC="__ngSimpleChanges__";function uC(t){return t[lC]||null}function qA(t,e){return t[lC]=e}var cw=null;var Sn=function(t,e,n){cw?.(t,e,n)},GA="svg",HA="math",zA=!1;function WA(){return zA}function Nn(t){for(;Array.isArray(t);)t=t[ti];return t}function dC(t,e){return Nn(e[t])}function Xt(t,e){return Nn(e[t.index])}function hC(t,e){return t.data[e]}function fC(t,e){return t[e]}function Si(t,e){let n=e[t];return ar(n)?n:n[ti]}function kp(t){return(t[K]&128)===128}function KA(t){return ni(t[ft])}function bo(t,e){return e==null?null:t[e]}function pC(t){t[po]=0}function QA(t){t[K]&1024||(t[K]|=1024,kp(t)&&qs(t))}function YA(t,e){for(;t>0;)e=e[Ao],t--;return e}function Fp(t){return!!(t[K]&9216||t[ur]?.dirty)}function zf(t){t[Pn].changeDetectionScheduler?.notify(1),Fp(t)?qs(t):t[K]&64&&(WA()?(t[K]|=1024,qs(t)):t[Pn].changeDetectionScheduler?.notify())}function qs(t){t[Pn].changeDetectionScheduler?.notify();let e=Gs(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!kp(e)));)e=Gs(e)}function mC(t,e){if((t[K]&256)===256)throw new $(911,!1);t[Ci]===null&&(t[Ci]=[]),t[Ci].push(e)}function JA(t,e){if(t[Ci]===null)return;let n=t[Ci].indexOf(e);n!==-1&&t[Ci].splice(n,1)}function Gs(t){let e=t[ft];return ni(e)?e[ft]:e}var re={lFrame:IC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ZA(){return re.lFrame.elementDepthCount}function XA(){re.lFrame.elementDepthCount++}function eM(){re.lFrame.elementDepthCount--}function gC(){return re.bindingsEnabled}function tM(){return re.skipHydrationRootTNode!==null}function nM(t){return re.skipHydrationRootTNode===t}function iM(){re.skipHydrationRootTNode=null}function ge(){return re.lFrame.lView}function pt(){return re.lFrame.tView}function w(t){return re.lFrame.contextLView=t,t[mn]}function C(t){return re.lFrame.contextLView=null,t}function Ot(){let t=_C();for(;t!==null&&t.type===64;)t=t.parent;return t}function _C(){return re.lFrame.currentTNode}function rM(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function gr(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function Vp(){return re.lFrame.isParent}function yC(){re.lFrame.isParent=!1}function Ys(){let t=re.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function oM(){return re.lFrame.bindingIndex}function sM(t){return re.lFrame.bindingIndex=t}function Hl(){return re.lFrame.bindingIndex++}function vC(t){let e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function aM(){return re.lFrame.inI18n}function cM(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wf(e)}function lM(){return re.lFrame.currentDirectiveIndex}function Wf(t){re.lFrame.currentDirectiveIndex=t}function uM(t){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function wC(t){re.lFrame.currentQueryIndex=t}function dM(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[_n]:null}function CC(t,e,n){if(n&ie.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&ie.Host);)if(r=dM(o),r===null||(o=o[Ao],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=re.lFrame=EC();return i.currentTNode=e,i.lView=t,!0}function Lp(t){let e=EC(),n=t[ae];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function EC(){let t=re.lFrame,e=t===null?null:t.child;return e===null?IC(t):e}function IC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function bC(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var TC=bC;function jp(){let t=bC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hM(t){return(re.lFrame.contextLView=YA(t,re.lFrame.contextLView))[mn]}function _r(){return re.lFrame.selectedIndex}function hr(t){re.lFrame.selectedIndex=t}function Up(){let t=re.lFrame;return hC(t.tView,t.selectedIndex)}function fM(){return re.lFrame.currentNamespace}var DC=!0;function zl(){return DC}function Wl(t){DC=t}function pM(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=cC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Kl(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function hl(t,e,n){xC(t,e,3,n)}function fl(t,e,n,i){(t[K]&3)===n&&xC(t,e,n,i)}function Tf(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function xC(t,e,n,i){let r=i!==void 0?t[po]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[po]+=65536),(a<o||o==-1)&&(mM(t,n,e,c),t[po]=(t[po]&4294901760)+c+2),c++}function lw(t,e){Sn(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),Sn(5,t,e)}}function mM(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[K]>>14<t[po]>>16&&(t[K]&3)===e&&(t[K]+=16384,lw(a,o)):lw(a,o)}var yo=-1,fr=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function gM(t){return t instanceof fr}function _M(t){return(t.flags&8)!==0}function yM(t){return(t.flags&16)!==0}function SC(t){return t!==yo}function Il(t){return t&32767}function vM(t){return t>>16}function bl(t,e){let n=vM(t),i=e;for(;n>0;)i=i[Ao],n--;return i}var Kf=!0;function Tl(t){let e=Kf;return Kf=t,e}var wM=256,AC=wM-1,MC=5,CM=0,An={};function EM(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Fs)&&(i=n[Fs]),i==null&&(i=n[Fs]=CM++);let r=i&AC,o=1<<r;e.data[t+(r>>MC)]|=o}function Dl(t,e){let n=PC(t,e);if(n!==-1)return n;let i=e[ae];i.firstCreatePass&&(t.injectorIndex=e.length,Df(i.data,t),Df(e,null),Df(i.blueprint,null));let r=Bp(t,e),o=t.injectorIndex;if(SC(r)){let s=Il(r),a=bl(r,e),c=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Df(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=FC(r),i===null)return yo;if(n++,r=r[Ao],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return yo}function Qf(t,e,n){EM(t,e,n)}function RC(t,e,n){if(n&ie.Optional||t!==void 0)return t;Tp(e,"NodeInjector")}function NC(t,e,n,i){if(n&ie.Optional&&i===void 0&&(i=null),!(n&(ie.Self|ie.Host))){let r=t[Eo],o=Pt(void 0);try{return r?r.get(e,i,n&ie.Optional):Bw(e,i,n&ie.Optional)}finally{Pt(o)}}return RC(i,e,n)}function OC(t,e,n,i=ie.Default,r){if(t!==null){if(e[K]&2048&&!(i&ie.Self)){let s=xM(t,e,n,i,An);if(s!==An)return s}let o=kC(t,e,n,i,An);if(o!==An)return o}return NC(e,n,i,r)}function kC(t,e,n,i,r){let o=TM(n);if(typeof o=="function"){if(!CC(e,t,i))return i&ie.Host?RC(r,n,i):NC(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&ie.Optional))Tp(n);else return s}finally{TC()}}else if(typeof o=="number"){let s=null,a=PC(t,e),c=yo,l=i&ie.Host?e[Rn][_n]:null;for((a===-1||i&ie.SkipSelf)&&(c=a===-1?Bp(t,e):e[a+8],c===yo||!dw(i,!1)?a=-1:(s=e[ae],a=Il(c),e=bl(c,e)));a!==-1;){let u=e[ae];if(uw(o,a,u.data)){let p=IM(a,e,n,s,i,l);if(p!==An)return p}c=e[a+8],c!==yo&&dw(i,e[ae].data[a+8]===l)&&uw(o,a,e)?(s=u,a=Il(c),e=bl(c,e)):a=-1}}return r}function IM(t,e,n,i,r,o){let s=e[ae],a=s.data[t+8],c=i==null?ql(a)&&Kf:i!=s&&(a.type&3)!==0,l=r&ie.Host&&o===a,u=bM(a,s,n,c,l);return u!==null?To(e,s,u,a):An}function bM(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,p=i?a:a+u,y=r?a+u:l;for(let v=p;v<y;v++){let D=s[v];if(v<c&&n===D||v>=c&&D.type===n)return v}if(r){let v=s[c];if(v&&Ii(v)&&v.type===n)return c}return null}function To(t,e,n,i){let r=t[n],o=e.data;if(gM(r)){let s=r;s.resolving&&XS(ZS(o[n]));let a=Tl(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Pt(s.injectImpl):null,u=CC(t,i,ie.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&pM(n,o[n],e)}finally{l!==null&&Pt(l),Tl(a),s.resolving=!1,TC()}}return r}function TM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fs)?t[Fs]:void 0;return typeof e=="number"?e>=0?e&AC:DM:e}function uw(t,e,n){let i=1<<t;return!!(n[e+(t>>MC)]&i)}function dw(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var cr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return OC(this._tNode,this._lView,e,jl(i),n)}};function DM(){return new cr(Ot(),ge())}function en(t){return Ks(()=>{let e=t.prototype.constructor,n=e[gl]||Yf(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[gl]||Yf(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Yf(t){return kw(t)?()=>{let e=Yf(Ct(t));return e&&e()}:lr(t)}function xM(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let a=kC(o,s,n,i|ie.Self,An);if(a!==An)return a;let c=o.parent;if(!c){let l=s[oC];if(l){let u=l.get(n,An,i);if(u!==An)return u}c=FC(s),s=s[Ao]}o=c}return r}function FC(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[_n]:null}function hw(t,e=null,n=null,i){let r=VC(t,e,n,i);return r.resolveInjectorInitializers(),r}function VC(t,e=null,n=null,i,r=new Set){let o=[n||Qt,Mp(t)];return i=i||(typeof t=="object"?void 0:Et(t)),new Us(o,e||Rp(),i||null,r)}var kt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ls}static{this.NULL=new vl}static create(n,i){if(Array.isArray(n))return hw({name:""},i,n,"");{let r=n.name??"";return hw({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=j({token:t,providedIn:"any",factory:()=>B(Gw)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var SM="ngOriginalError";function xf(t){return t[SM]}var On=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&xf(e);for(;n&&xf(n);)n=xf(n);return n||null}},LC=new U("",{providedIn:"root",factory:()=>R(On).handleError.bind(void 0)}),$p=(()=>{class t{static{this.__NG_ELEMENT_ID__=AM}static{this.__NG_ENV_ID__=n=>n}}return t})(),Jf=class extends $p{constructor(e){super(),this._lView=e}onDestroy(e){return mC(this._lView,e),()=>JA(this._lView,e)}};function AM(){return new Jf(ge())}function MM(){return Ql(Ot(),ge())}function Ql(t,e){return new yn(Xt(t,e))}var yn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=MM}}return t})();var Zf=class extends wt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,rC()&&(this.destroyRef=R($p,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Sf(o),r&&(r=Sf(r)),s&&(s=Sf(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof $e&&e.add(a),a}};function Sf(t){return e=>{setTimeout(t,void 0,e)}}var Fe=Zf;function jC(t){return(t.flags&128)===128}var UC=new Map,PM=0;function RM(){return PM++}function NM(t){UC.set(t[$l],t)}function OM(t){UC.delete(t[$l])}var fw="__ngContext__";function bi(t,e){ar(e)?(t[fw]=e[$l],NM(e)):t[fw]=e}function BC(t){return qC(t[$s])}function $C(t){return qC(t[pn])}function qC(t){for(;t!==null&&!ni(t);)t=t[pn];return t}var Xf;function GC(t){Xf=t}function kM(){if(Xf!==void 0)return Xf;if(typeof document<"u")return document;throw new $(210,!1)}var qp=new U("",{providedIn:"root",factory:()=>FM}),FM="ng",Gp=new U(""),tn=new U("",{providedIn:"platform",factory:()=>"unknown"});var Hp=new U("",{providedIn:"root",factory:()=>kM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var VM="h",LM="b";var jM=()=>null;function zp(t,e,n=!1){return jM(t,e,n)}var HC=!1,UM=new U("",{providedIn:"root",factory:()=>HC});var ep=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$S})`}};function Wp(t){return t instanceof ep?t.changingThisBreaksApplicationSecurity:t}var BM=/^>|^->|<!--|-->|--!>|<!-$/g,$M=/(<|>)/g,qM="\u200B$1\u200B";function GM(t){return t.replace(BM,e=>e.replace($M,qM))}function zC(t){return t instanceof Function?t():t}function HM(t){return(t??R(kt)).get(tn)==="browser"}var Xn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xn||{}),zM;function Kp(t,e){return zM(t,e)}function mo(t,e,n,i,r){if(i!=null){let o,s=!1;ni(i)?o=i:ar(i)&&(s=!0,i=i[ti]);let a=Nn(i);t===0&&n!==null?r==null?JC(e,n,a):xl(e,n,a,r||null,!0):t===1&&n!==null?xl(e,n,a,r||null,!0):t===2?uP(e,a,s):t===3&&e.destroyNode(a),o!=null&&hP(e,t,o,n,r)}}function WM(t,e){return t.createText(e)}function KM(t,e,n){t.setValue(e,n)}function QM(t,e){return t.createComment(GM(e))}function WC(t,e,n){return t.createElement(e,n)}function YM(t,e){KC(t,e),e[ti]=null,e[_n]=null}function JM(t,e,n,i,r,o){i[ti]=r,i[_n]=e,Jl(t,i,n,1,r,o)}function KC(t,e){e[Pn].changeDetectionScheduler?.notify(1),Jl(t,e,e[We],2,null,null)}function ZM(t){let e=t[$s];if(!e)return Af(t[ae],t);for(;e;){let n=null;if(ar(e))n=e[$s];else{let i=e[Yt];i&&(n=i)}if(!n){for(;e&&!e[pn]&&e!==t;)ar(e)&&Af(e[ae],e),e=e[ft];e===null&&(e=t),ar(e)&&Af(e[ae],e),n=e&&e[pn]}e=n}}function XM(t,e,n,i){let r=Yt+i,o=n.length;i>0&&(n[r-1][pn]=e),i<o-Yt?(e[pn]=n[r],qw(n,Yt+i,e)):(n.push(e),e[pn]=null),e[ft]=n;let s=e[Bl];s!==null&&n!==s&&eP(s,e);let a=e[Io];a!==null&&a.insertView(t),zf(e),e[K]|=128}function eP(t,e){let n=t[El],r=e[ft][ft][Rn];e[Rn]!==r&&(t[K]|=Np.HasTransplantedViews),n===null?t[El]=[e]:n.push(e)}function QC(t,e){let n=t[El],i=n.indexOf(e);n.splice(i,1)}function tp(t,e){if(t.length<=Yt)return;let n=Yt+e,i=t[n];if(i){let r=i[Bl];r!==null&&r!==t&&QC(r,i),e>0&&(t[n-1][pn]=i[pn]);let o=yl(t,Yt+e);YM(i[ae],i);let s=o[Io];s!==null&&s.detachView(o[ae]),i[ft]=null,i[pn]=null,i[K]&=-129}return i}function YC(t,e){if(!(e[K]&256)){let n=e[We];n.destroyNode&&Jl(t,e,n,3,null,null),ZM(e)}}function Af(t,e){if(e[K]&256)return;let n=ye(null);try{e[K]&=-129,e[K]|=256,e[ur]&&Tv(e[ur]),nP(t,e),tP(t,e),e[ae].type===1&&e[We].destroy();let i=e[Bl];if(i!==null&&ni(e[ft])){i!==e[ft]&&QC(i,e);let r=e[Io];r!==null&&r.detachView(t)}OM(e)}finally{ye(n)}}function tP(t,e){let n=t.cleanup,i=e[Bs];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Bs]=null);let r=e[Ci];if(r!==null){e[Ci]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function nP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof fr)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Sn(4,a,c);try{c.call(a)}finally{Sn(5,a,c)}}else{Sn(4,r,o);try{o.call(r)}finally{Sn(5,r,o)}}}}}function iP(t,e,n){return rP(t,e.parent,n)}function rP(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[ti];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Mn.None||o===Mn.Emulated)return null}return Xt(i,n)}}function xl(t,e,n,i,r){t.insertBefore(e,n,i,r)}function JC(t,e,n){t.appendChild(e,n)}function pw(t,e,n,i,r){i!==null?xl(t,e,n,i,r):JC(t,e,n)}function oP(t,e,n,i){t.removeChild(e,n,i)}function Qp(t,e){return t.parentNode(e)}function sP(t,e){return t.nextSibling(e)}function aP(t,e,n){return lP(t,e,n)}function cP(t,e,n){return t.type&40?Xt(t,n):null}var lP=cP,mw;function Yl(t,e,n,i){let r=iP(t,i,e),o=e[We],s=i.parent||e[_n],a=aP(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)pw(o,r,n[c],a,!1);else pw(o,r,n,a,!1);mw!==void 0&&mw(o,i,e,n,r)}function pl(t,e){if(e!==null){let n=e.type;if(n&3)return Xt(e,t);if(n&4)return np(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return pl(t,i);{let r=t[e.index];return ni(r)?np(-1,r):Nn(r)}}else{if(n&32)return Kp(e,t)()||Nn(t[e.index]);{let i=ZC(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Gs(t[Rn]);return pl(r,i)}else return pl(t,e.next)}}}return null}function ZC(t,e){if(e!==null){let i=t[Rn][_n],r=e.projection;return i.projection[r]}return null}function np(t,e){let n=Yt+t+1;if(n<e.length){let i=e[n],r=i[ae].firstChild;if(r!==null)return pl(i,r)}return e[dr]}function uP(t,e,n){let i=Qp(t,e);i&&oP(t,i,e,n)}function Yp(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],c=n.type;if(s&&e===0&&(a&&bi(Nn(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)Yp(t,e,n.child,i,r,o,!1),mo(e,t,r,a,o);else if(c&32){let l=Kp(n,i),u;for(;u=l();)mo(e,t,r,u,o);mo(e,t,r,a,o)}else c&16?dP(t,e,i,n,r,o):mo(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Jl(t,e,n,i,r,o){Yp(n,i,t.firstChild,e,r,o,!1)}function dP(t,e,n,i,r,o){let s=n[Rn],c=s[_n].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];mo(e,t,r,u,o)}else{let l=c,u=s[ft];jC(i)&&(l.flags|=128),Yp(t,e,l,u,r,o,!0)}}function hP(t,e,n,i,r){let o=n[dr],s=Nn(n);o!==s&&mo(e,t,i,o,r);for(let a=Yt;a<n.length;a++){let c=n[a];Jl(c[ae],c,t,e,i,o)}}function fP(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Xn.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Xn.Important),t.setStyle(n,i,r,o))}}function pP(t,e,n){t.setAttribute(e,"style",n)}function XC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function eE(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Bf(t,e,i),r!==null&&XC(t,e,r),o!==null&&pP(t,e,o)}var kn={};function d(t=1){tE(pt(),ge(),_r()+t,!1)}function tE(t,e,n,i){if(!i)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&hl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&fl(e,o,0,n)}hr(n)}function q(t,e=ie.Default){let n=ge();if(n===null)return B(t,e);let i=Ot();return OC(i,n,Ct(t),e)}function nE(){let t="invalid";throw new Error(t)}function iE(t,e,n,i,r,o){let s=ye(null);try{let a=null;r&st.SignalBased&&(a=e[i][Jh]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&st.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):aC(e,a,i,o)}finally{ye(s)}}function mP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)hr(~r);else{let o=r,s=n[++i],a=n[++i];cM(s,o);let c=e[o];a(2,c)}}}finally{hr(-1)}}function Zl(t,e,n,i,r,o,s,a,c,l,u){let p=e.blueprint.slice();return p[ti]=r,p[K]=i|4|128|8|64,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),pC(p),p[ft]=p[Ao]=t,p[mn]=n,p[Pn]=s||t&&t[Pn],p[We]=a||t&&t[We],p[Eo]=c||t&&t[Eo]||null,p[_n]=o,p[$l]=RM(),p[wl]=u,p[oC]=l,p[Rn]=e.type==2?t[Rn]:p,p}function Js(t,e,n,i,r){let o=t.data[e];if(o===null)o=gP(t,e,n,i,r),aM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=rM();o.injectorIndex=s===null?-1:s.injectorIndex}return gr(o,!0),o}function gP(t,e,n,i,r){let o=_C(),s=Vp(),a=s?o:o&&o.parent,c=t.data[e]=CP(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function rE(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function oE(t,e,n,i,r){let o=_r(),s=i&2;try{hr(-1),s&&e.length>Jt&&tE(t,e,Jt,!1),Sn(s?2:0,r),n(i,r)}finally{hr(o),Sn(s?3:1,r)}}function Jp(t,e,n){if(Op(e)){let i=ye(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{ye(i)}}}function Zp(t,e,n){gC()&&(xP(t,e,n,Xt(n,e)),(n.flags&64)===64&&lE(t,e,n))}function Xp(t,e,n=Xt){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function sE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=em(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function em(t,e,n,i,r,o,s,a,c,l,u){let p=Jt+i,y=p+r,v=_P(p,y),D=typeof l=="function"?l():l;return v[ae]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:u}}function _P(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:kn);return n}function yP(t,e,n,i){let o=i.get(UM,HC)||n===Mn.ShadowDom,s=t.selectRootElement(e,o);return vP(s),s}function vP(t){wP(t)}var wP=()=>null;function CP(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return tM()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function gw(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=st.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}t===0?_w(i,n,l,a,c):_w(i,n,l,a)}return i}function _w(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function EP(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let p=o[u],y=n?n.get(p):null,v=y?y.inputs:null,D=y?y.outputs:null;c=gw(0,p.inputs,u,c,v),l=gw(1,p.outputs,u,l,D);let x=c!==null&&s!==null&&!Sp(e)?LP(c,u,s):null;a.push(x)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function IP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function aE(t,e,n,i,r,o,s,a){let c=Xt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(nm(t,n,u,i,r),ql(e)&&bP(n,e.index)):e.type&3?(i=IP(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function bP(t,e){let n=Si(e,t);n[K]&16||(n[K]|=64)}function tm(t,e,n,i){if(gC()){let r=i===null?null:{"":-1},o=AP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&cE(t,e,n,s,r,a),r&&MP(n,i,r)}n.mergedAttrs=js(n.mergedAttrs,n.attrs)}function cE(t,e,n,i,r,o){for(let l=0;l<i.length;l++)Qf(Dl(n,e),t,i[l].type);RP(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=rE(t,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=js(n.mergedAttrs,u.hostAttrs),NP(t,n,e,c,u),PP(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let p=u.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}EP(t,n,o)}function TP(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;DP(s)!=a&&s.push(a),s.push(n,i,o)}}function DP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function xP(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;ql(n)&&OP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Dl(n,e),bi(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],l=To(e,t,a,n);if(bi(l,e),s!==null&&VP(e,a-r,l,c,n,s),Ii(c)){let u=Si(n.index,e);u[mn]=To(e,t,a,n)}}}function lE(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=lM();try{hr(o);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];Wf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&SP(c,l)}}finally{hr(-1),Wf(s)}}function SP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function AP(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(vA(e,s.selectors,!1))if(i||(i=[]),Ii(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;ip(t,e,c)}else i.unshift(s),ip(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function ip(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function MP(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new $(-301,!1);i.push(e[r],o)}}}function PP(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ii(e)&&(n[""]=t)}}function RP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function NP(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=lr(r.type,!0)),s=new fr(o,Ii(r),q);t.blueprint[i]=s,n[i]=s,TP(t,e,i,rE(t,n,r.hostVars,kn),r)}function OP(t,e,n){let i=Xt(e,t),r=sE(n),o=t[Pn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Xl(t,Zl(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function kP(t,e,n,i,r,o){let s=Xt(t,e);FP(e[We],s,o,t.value,n,i,r)}function FP(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Vs(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function VP(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],p=s[a++];iE(i,n,c,l,u,p)}}function LP(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function uE(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function dE(t,e){let n=t.contentQueries;if(n!==null){let i=ye(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];wC(o),a.contentQueries(2,e[s],s)}}}finally{ye(i)}}}function Xl(t,e){return t[$s]?t[aw][pn]=e:t[$s]=e,t[aw]=e,e}function rp(t,e,n){wC(0);let i=ye(null);try{e(t,n)}finally{ye(i)}}function jP(t){return t[Bs]||(t[Bs]=[])}function UP(t){return t.cleanup||(t.cleanup=[])}function hE(t,e){let n=t[Eo],i=n?n.get(On,null):null;i&&i.handleError(e)}function nm(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];iE(u,l,i,a,c,r)}}function fE(t,e,n){let i=dC(e,t);KM(t[We],i,n)}function BP(t,e){let n=Si(e,t),i=n[ae];$P(i,n);let r=n[ti];r!==null&&n[wl]===null&&(n[wl]=zp(r,n[Eo])),im(i,n,n[mn])}function $P(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function im(t,e,n){Lp(e);try{let i=t.viewQuery;i!==null&&rp(1,i,n);let r=t.template;r!==null&&oE(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Io]?.finishViewCreation(t),t.staticContentQueries&&dE(t,e),t.staticViewQueries&&rp(2,t.viewQuery,n);let o=t.components;o!==null&&qP(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[K]&=-5,jp()}}function qP(t,e){for(let n=0;n<e.length;n++)BP(t,e[n])}function GP(t,e,n,i){let r=ye(null);try{let o=e.tView,a=t[K]&4096?4096:16,c=Zl(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=t[e.index];c[Bl]=l;let u=t[Io];return u!==null&&(c[Io]=u.createEmbeddedView(o)),im(o,c,n),c}finally{ye(r)}}function yw(t,e){return!e||e.firstChild===null||jC(t)}function HP(t,e,n,i=!0){let r=e[ae];if(XM(r,e,t,n),i){let s=np(n,t),a=e[We],c=Qp(a,t[dr]);c!==null&&JM(r,t[_n],a,e,c,s)}let o=e[wl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Sl(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Nn(o)),ni(o)&&zP(o,i);let s=n.type;if(s&8)Sl(t,e,n.child,i);else if(s&32){let a=Kp(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=ZC(e,n);if(Array.isArray(a))i.push(...a);else{let c=Gs(e[Rn]);Sl(c[ae],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function zP(t,e){for(let n=Yt;n<t.length;n++){let i=t[n],r=i[ae].firstChild;r!==null&&Sl(i[ae],i,r,e)}t[dr]!==t[ti]&&e.push(t[dr])}var pE=[];function WP(t){return t[ur]??KP(t)}function KP(t){let e=pE.pop()??Object.create(YP);return e.lView=t,e}function QP(t){t.lView[ur]!==t&&(t.lView=null,pE.push(t))}var YP=Y(M({},Ev),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qs(t.lView)},consumerOnSignalRead(){this.lView[ur]=this}}),mE=100;function gE(t,e=!0,n=0){let i=t[Pn],r=i.rendererFactory,o=!1;o||r.begin?.();try{JP(t,n)}catch(s){throw e&&hE(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function JP(t,e){op(t,e);let n=0;for(;Fp(t);){if(n===mE)throw new $(103,!1);n++,op(t,1)}}function ZP(t,e,n,i){let r=e[K];if((r&256)===256)return;let o=!1;!o&&e[Pn].inlineEffectRunner?.flush(),Lp(e);let s=null,a=null;!o&&XP(t)&&(a=WP(e),s=Iv(a));try{pC(e),sM(t.bindingStartIndex),n!==null&&oE(t,e,n,2,i);let c=(r&3)===3;if(!o)if(c){let p=t.preOrderCheckHooks;p!==null&&hl(e,p,null)}else{let p=t.preOrderHooks;p!==null&&fl(e,p,0,null),Tf(e,0)}if(eR(e),_E(e,0),t.contentQueries!==null&&dE(t,e),!o)if(c){let p=t.contentCheckHooks;p!==null&&hl(e,p)}else{let p=t.contentHooks;p!==null&&fl(e,p,1),Tf(e,1)}mP(t,e);let l=t.components;l!==null&&vE(e,l,0);let u=t.viewQuery;if(u!==null&&rp(2,u,i),!o)if(c){let p=t.viewCheckHooks;p!==null&&hl(e,p)}else{let p=t.viewHooks;p!==null&&fl(e,p,2),Tf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[bf]){for(let p of e[bf])p();e[bf]=null}o||(e[K]&=-73)}catch(c){throw qs(e),c}finally{a!==null&&(bv(a,s),QP(a)),jp()}}function XP(t){return t.type!==2}function _E(t,e){for(let n=BC(t);n!==null;n=$C(n))for(let i=Yt;i<n.length;i++){let r=n[i];yE(r,e)}}function eR(t){for(let e=BC(t);e!==null;e=$C(e)){if(!(e[K]&Np.HasTransplantedViews))continue;let n=e[El];for(let i=0;i<n.length;i++){let r=n[i],o=r[ft];QA(r)}}}function tR(t,e,n){let i=Si(e,t);yE(i,n)}function yE(t,e){kp(t)&&op(t,e)}function op(t,e){let i=t[ae],r=t[K],o=t[ur],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Zh(o)),o&&(o.dirty=!1),t[K]&=-9217,s)ZP(i,t,i.template,t[mn]);else if(r&8192){_E(t,1);let a=i.components;a!==null&&vE(t,a,1)}}function vE(t,e,n){for(let i=0;i<e.length;i++)tR(t,e[i],n)}function rm(t){for(t[Pn].changeDetectionScheduler?.notify();t;){t[K]|=64;let e=Gs(t);if(UA(t)&&!e)return t;t=e}return null}var pr=class{get rootNodes(){let e=this._lView,n=e[ae];return Sl(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mn]}set context(e){this._lView[mn]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ft];if(ni(e)){let n=e[Cl],i=n?n.indexOf(this):-1;i>-1&&(tp(e,i),yl(n,i))}this._attachedToViewContainer=!1}YC(this._lView[ae],this._lView)}onDestroy(e){mC(this._lView,e)}markForCheck(){rm(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){zf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,gE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,KC(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e,zf(this._lView)}},eu=(()=>{class t{static{this.__NG_ELEMENT_ID__=rR}}return t})(),nR=eu,iR=class extends nR{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=GP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new pr(r)}};function rR(){return oR(Ot(),ge())}function oR(t,e){return t.type&4?new iR(e,t,Ql(t,e)):null}var aW=new RegExp(`^(\\d+)*(${LM}|${VM})*(.*)`);var sR=()=>null;function vw(t,e){return sR(t,e)}var Al=class{},sp=class{},Ml=class{};function aR(t){let e=Error(`No component factory found for ${Et(t)}.`);return e[cR]=t,e}var cR="ngComponent";var ap=class{resolveComponentFactory(e){throw aR(e)}},tu=(()=>{class t{static{this.NULL=new ap}}return t})(),Hs=class{},Fn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>lR()}}return t})();function lR(){let t=ge(),e=Ot(),n=Si(e.index,t);return(ar(n)?n:t)[We]}var uR=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}}return t})(),Mf={};var ww=new Set;function nu(t){ww.has(t)||(ww.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Cw(...t){}function dR(){let t=typeof Zn.requestAnimationFrame=="function",e=Zn[t?"requestAnimationFrame":"setTimeout"],n=Zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=dR().nativeRequestAnimationFrame,pR(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,hR,Cw,Cw);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},hR={};function om(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cp(t),t.isCheckStableRunning=!0,om(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cp(t))}function pR(t){let e=()=>{fR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(mR(a))return n.invokeTask(r,o,s,a);try{return Ew(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Iw(t)}},onInvoke:(n,i,r,o,s,a,c)=>{try{return Ew(t),n.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Iw(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,cp(t),om(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function cp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ew(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Iw(t){t._nesting--,om(t)}function mR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var go=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(go||{}),gR={destroy(){}};function iu(t,e){!e&&LA(iu);let n=e?.injector??R(kt);if(!HM(n))return gR;nu("NgAfterNextRender");let i=n.get(sm),r=i.handler??=new up,o=e?.phase??go.MixedReadWrite,s=()=>{r.unregister(c),a()},a=n.get($p).onDestroy(s),c=gn(n,()=>new lp(o,()=>{s(),t()}));return r.register(c),{destroy:s}}var lp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=R(Ie),this.errorHandler=R(On,{optional:!0}),R(Al,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},up=class{constructor(){this.executingCallbacks=!1,this.buckets={[go.EarlyRead]:new Set,[go.Write]:new Set,[go.MixedReadWrite]:new Set,[go.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},sm=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Pl(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Jv(r,a);else if(o==2){let c=a,l=e[++s];i=Jv(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Rl=class extends tu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ei(e);return new Do(n,this.ngModule)}};function bw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function _R(t){let e=t.toLowerCase();return e==="svg"?GA:e==="math"?HA:null}var dp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=jl(i);let r=this.injector.get(e,Mf,i);return r!==Mf||n===Mf?r:this.parentInjector.get(e,n,i)}},Do=class extends Ml{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=bw(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return bw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=IA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=ye(null);try{r=r||this.ngModule;let s=r instanceof ht?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new dp(e,s):e,c=a.get(Hs,null);if(c===null)throw new $(407,!1);let l=a.get(uR,null),u=a.get(sm,null),p=a.get(Al,null),y={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:p},v=c.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",x=i?yP(v,i,this.componentDef.encapsulation,a):WC(v,D,_R(D)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let F=null;x!==null&&(F=zp(x,a,!0));let ue=em(0,null,null,1,0,null,null,null,null,null,null),H=Zl(null,ue,null,A,null,null,y,v,a,null,F);Lp(H);let Ee,Ze;try{let me=this.componentDef,dt,Dn=null;me.findHostDirectiveDefs?(dt=[],Dn=new Map,me.findHostDirectiveDefs(me,dt,Dn),dt.push(me)):dt=[me];let er=yR(H,x),Jr=vR(er,x,me,dt,H,y,v);Ze=hC(ue,Jt),x&&ER(v,me,x,i),n!==void 0&&IR(Ze,this.ngContentSelectors,n),Ee=CR(Jr,me,dt,Dn,H,[bR]),im(ue,H,null)}finally{jp()}return new hp(this.componentType,Ee,Ql(Ze,H),H,Ze)}finally{ye(o)}}},hp=class extends sp{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pr(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;nm(o[ae],o,r,e,n),this.previousInputValues.set(e,n);let s=Si(this._tNode.index,o);rm(s)}}get injector(){return new cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yR(t,e){let n=t[ae],i=Jt;return t[i]=e,Js(n,i,2,"#host",null)}function vR(t,e,n,i,r,o,s){let a=r[ae];wR(i,t,e,s);let c=null;e!==null&&(c=zp(e,r[Eo]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let p=Zl(r,sE(n),null,u,r[t.index],t,o,l,null,null,c);return a.firstCreatePass&&ip(a,t,i.length-1),Xl(r,p),r[t.index]=p}function wR(t,e,n,i){for(let r of t)e.mergedAttrs=js(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Pl(e,e.mergedAttrs,!0),n!==null&&eE(i,n,e))}function CR(t,e,n,i,r,o){let s=Ot(),a=r[ae],c=Xt(s,r);cE(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let p=s.directiveStart+u,y=To(r,a,p,s);bi(y,r)}lE(a,r,s),c&&bi(c,r);let l=To(r,a,s.directiveStart+s.componentOffset,s);if(t[mn]=r[mn]=l,o!==null)for(let u of o)u(l,e);return Jp(a,s,r),l}function ER(t,e,n,i){if(i)Bf(t,n,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=bA(e.selectors[0]);r&&Bf(t,n,r),o&&o.length>0&&XC(t,n,o.join(" "))}}function IR(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function bR(){let t=Ot();Kl(ge()[ae],t)}var Mo=(()=>{class t{static{this.__NG_ELEMENT_ID__=TR}}return t})();function TR(){let t=Ot();return xR(t,ge())}var DR=Mo,wE=class extends DR{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new cr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bp(this._hostTNode,this._hostLView);if(SC(e)){let n=bl(e,this._hostLView),i=Il(e),r=n[ae].data[i+8];return new cr(r,n)}else return new cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Tw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=vw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,yw(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!jA(e),a;if(s)a=n;else{let D=n||{};a=D.index,i=D.injector,r=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let c=s?e:new Do(Ei(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let x=(s?l:this.parentInjector).get(ht,null);x&&(o=x)}let u=Ei(c.componentType??{}),p=vw(this._lContainer,u?.id??null),y=p?.firstChild??null,v=c.create(l,r,y,o);return this.insertImpl(v.hostView,a,yw(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(KA(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[ft],l=new wE(c,c[_n],c[ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return HP(s,r,o,i),e.attachToViewContainerRef(),qw(Pf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Tw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=tp(this._lContainer,n);i&&(yl(Pf(this._lContainer),n),YC(i[ae],i))}detach(e){let n=this._adjustIndex(e,-1),i=tp(this._lContainer,n);return i&&yl(Pf(this._lContainer),n)!=null?new pr(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function Tw(t){return t[Cl]}function Pf(t){return t[Cl]||(t[Cl]=[])}function xR(t,e){let n,i=e[t.index];return ni(i)?n=i:(n=uE(i,e,null,t),e[t.index]=n,Xl(e,n)),AR(n,e,t,i),new wE(n,t,e)}function SR(t,e){let n=t[We],i=n.createComment(""),r=Xt(e,t),o=Qp(n,r);return xl(n,o,i,sP(n,r),!1),i}var AR=RR,MR=()=>!1;function PR(t,e,n){return MR(t,e,n)}function RR(t,e,n,i){if(t[dr])return;let r;n.type&8?r=Nn(i):r=SR(e,n),t[dr]=r}function NR(t){return typeof t=="function"&&t[Jh]!==void 0}function CE(t){return NR(t)&&typeof t.set=="function"}function OR(t){return Object.getPrototypeOf(t.prototype).constructor}function at(t){let e=OR(t.type),n=!0,i=[t];for(;e;){let r;if(Ii(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=ll(t.inputs),s.inputTransforms=ll(t.inputTransforms),s.declaredInputs=ll(t.declaredInputs),s.outputs=ll(t.outputs);let a=r.hostBindings;a&&jR(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&VR(t,c),l&&LR(t,l),kR(t,r),GS(t.outputs,r.outputs),Ii(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===at&&(n=!1)}}e=Object.getPrototypeOf(e)}FR(i)}function kR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function FR(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=js(r.hostAttrs,n=js(n,r.hostAttrs))}}function ll(t){return t===vo?{}:t===Qt?[]:t}function VR(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function LR(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function jR(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var Ti=class{},zs=class{};var fp=class extends Ti{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rl(this);let r=Jw(e);this._bootstrapComponents=zC(r.bootstrap),this._r3Injector=VC(e,n,[{provide:Ti,useValue:this},{provide:tu,useValue:this.componentFactoryResolver},...i],Et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},pp=class extends zs{constructor(e){super(),this.moduleType=e}create(e){return new fp(this.moduleType,e,[])}};var Nl=class extends Ti{constructor(e){super(),this.componentFactoryResolver=new Rl(this),this.instance=null;let n=new Us([...e.providers,{provide:Ti,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],e.parent||Rp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ru(t,e,n=null){return new Nl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Po=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function EE(t){return BR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function UR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function BR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function am(t,e,n){return t[e]=n}function $R(t,e){return t[e]}function Di(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function IE(t,e,n,i){let r=Di(t,e,n);return Di(t,e+1,i)||r}function qR(t){return(t.flags&32)===32}function GR(t,e,n,i,r,o,s,a,c){let l=e.consts,u=Js(e,t,4,s||null,bo(l,a));tm(e,n,u,bo(l,c)),Kl(e,u);let p=u.tView=em(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),p.queries=e.queries.embeddedTView(u)),u}function T(t,e,n,i,r,o,s,a){let c=ge(),l=pt(),u=t+Jt,p=l.firstCreatePass?GR(u,l,c,e,n,i,r,o,s):l.data[u];gr(p,!1);let y=HR(l,c,p,t);zl()&&Yl(l,c,y,p),bi(y,c);let v=uE(y,c,y,p);return c[u]=v,Xl(c,v),PR(v,p,c),Gl(p)&&Zp(l,c,p),s!=null&&Xp(c,p,a),T}var HR=zR;function zR(t,e,n,i){return Wl(!0),e[We].createComment("")}function Ai(t,e,n,i){let r=ge(),o=Hl();if(Di(r,o,e)){let s=pt(),a=Up();kP(a,r,t,e,n,i)}return Ai}function WR(t,e,n,i){return Di(t,Hl(),n)?e+Vs(n)+i:kn}function KR(t,e,n,i,r,o){let s=oM(),a=IE(t,s,n,r);return vC(2),a?e+Vs(n)+i+Vs(r)+o:kn}function ul(t,e){return t<<17|e<<2}function mr(t){return t>>17&32767}function QR(t){return(t&2)==2}function YR(t,e){return t&131071|e<<17}function mp(t){return t|2}function xo(t){return(t&131068)>>2}function Rf(t,e){return t&-131069|e<<2}function JR(t){return(t&1)===1}function gp(t){return t|1}function ZR(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=mr(s),c=xo(s);t[i]=n;let l=!1,u;if(Array.isArray(n)){let p=n;u=p[1],(u===null||Qs(p,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let y=mr(t[a+1]);t[i+1]=ul(y,a),y!==0&&(t[y+1]=Rf(t[y+1],i)),t[a+1]=YR(t[a+1],i)}else t[i+1]=ul(a,0),a!==0&&(t[a+1]=Rf(t[a+1],i)),a=i;else t[i+1]=ul(c,0),a===0?a=i:t[c+1]=Rf(t[c+1],i),c=i;l&&(t[i+1]=mp(t[i+1])),Dw(t,u,i,!0),Dw(t,u,i,!1),XR(e,u,t,i,o),s=ul(a,c),o?e.classBindings=s:e.styleBindings=s}function XR(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Qs(o,e)>=0&&(n[i+1]=gp(n[i+1]))}function Dw(t,e,n,i){let r=t[n+1],o=e===null,s=i?mr(r):xo(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];eN(c,e)&&(a=!0,t[s+1]=i?gp(l):mp(l)),s=i?mr(l):xo(l)}a&&(t[n+1]=i?mp(r):gp(r))}function eN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qs(t,e)>=0:!1}function _(t,e,n){let i=ge(),r=Hl();if(Di(i,r,e)){let o=pt(),s=Up();aE(o,s,i,t,e,i[We],n,!1)}return _}function xw(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";nm(t,n,o[s],s,i)}function Te(t,e){return tN(t,e,null,!0),Te}function tN(t,e,n,i){let r=ge(),o=pt(),s=vC(2);if(o.firstUpdatePass&&iN(o,t,s,i),e!==kn&&Di(r,s,e)){let a=o.data[_r()];cN(o,a,r,r[We],t,r[s+1]=lN(e,n),i,s)}}function nN(t,e){return e>=t.expandoStartIndex}function iN(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[_r()],s=nN(t,n);uN(o,i)&&e===null&&!s&&(e=!1),e=rN(r,o,e,i),ZR(r,o,e,n,s,i)}}function rN(t,e,n,i){let r=uM(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Nf(null,t,e,n,i),n=Ws(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Nf(r,t,e,n,i),o===null){let c=oN(t,e,i);c!==void 0&&Array.isArray(c)&&(c=Nf(null,t,e,c[1],i),c=Ws(c,e.attrs,i),sN(t,e,i,c))}else o=aN(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function oN(t,e,n){let i=n?e.classBindings:e.styleBindings;if(xo(i)!==0)return t[mr(i)]}function sN(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[mr(r)]=i}function aN(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Ws(i,s,n)}return Ws(i,e.attrs,n)}function Nf(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Ws(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Ws(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),uA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function cN(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=JR(l)?Sw(c,e,n,r,xo(l),s):void 0;if(!Ol(u)){Ol(o)||QR(l)&&(o=Sw(c,null,n,r,a,s));let p=dC(_r(),n);fP(i,s,p,r,o)}}function Sw(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),u=l?c[1]:c,p=u===null,y=n[r+1];y===kn&&(y=p?Qt:void 0);let v=p?Ef(y,i):u===i?y:void 0;if(l&&!Ol(v)&&(v=Ef(c,i)),Ol(v)&&(a=v,s))return a;let D=t[r+1];r=s?mr(D):xo(D)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ef(c,i))}return a}function Ol(t){return t!==void 0}function lN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Et(Wp(t)))),t}function uN(t,e){return(t.flags&(e?8:16))!==0}function dN(t,e,n,i,r,o){let s=e.consts,a=bo(s,r),c=Js(e,t,2,i,a);return tm(e,n,c,bo(s,o)),c.attrs!==null&&Pl(c,c.attrs,!1),c.mergedAttrs!==null&&Pl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(t,e,n,i){let r=ge(),o=pt(),s=Jt+t,a=r[We],c=o.firstCreatePass?dN(s,o,r,e,n,i):o.data[s],l=hN(o,r,c,a,e,t);r[s]=l;let u=Gl(c);return gr(c,!0),eE(a,l,c),!qR(c)&&zl()&&Yl(o,r,l,c),ZA()===0&&bi(l,r),XA(),u&&(Zp(o,r,c),Jp(o,c,r)),i!==null&&Xp(r,c),h}function f(){let t=Ot();Vp()?yC():(t=t.parent,gr(t,!1));let e=t;nM(e)&&iM(),eM();let n=pt();return n.firstCreatePass&&(Kl(n,t),Op(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&_M(e)&&xw(n,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yM(e)&&xw(n,e,ge(),e.stylesWithoutHost,!1),f}function b(t,e,n,i){return h(t,e,n,i),f(),b}var hN=(t,e,n,i,r,o)=>(Wl(!0),WC(i,r,fM()));function fN(t,e,n,i,r){let o=e.consts,s=bo(o,i),a=Js(e,t,8,"ng-container",s);s!==null&&Pl(a,s,!0);let c=bo(o,r);return tm(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Se(t,e,n){let i=ge(),r=pt(),o=t+Jt,s=r.firstCreatePass?fN(o,r,i,e,n):r.data[o];gr(s,!0);let a=pN(r,i,s,t);return i[o]=a,zl()&&Yl(r,i,a,s),bi(a,i),Gl(s)&&(Zp(r,i,s),Jp(r,s,i)),n!=null&&Xp(i,s),Se}function Ae(){let t=Ot(),e=pt();return Vp()?yC():(t=t.parent,gr(t,!1)),e.firstCreatePass&&(Kl(e,t),Op(t)&&e.queries.elementEnd(t)),Ae}var pN=(t,e,n,i)=>(Wl(!0),QM(e[We],""));function O(){return ge()}var sr=void 0;function mN(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var gN=["en",[["a","p"],["AM","PM"],sr],[["AM","PM"],sr,sr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sr,"{1} 'at' {0}",sr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",mN],Of={};function nn(t){let e=_N(t),n=Aw(e);if(n)return n;let i=e.split("-")[0];if(n=Aw(i),n)return n;if(i==="en")return gN;throw new $(701,!1)}function Aw(t){return t in Of||(Of[t]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[t]),Of[t]}var qe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qe||{});function _N(t){return t.toLowerCase().replace(/_/g,"-")}var kl="en-US";var yN=kl;function vN(t){typeof t=="string"&&(yN=t.toLowerCase().replace(/_/g,"-"))}function I(t,e,n,i){let r=ge(),o=pt(),s=Ot();return bE(o,r,r[We],s,t,e,i),I}function wN(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Bs],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function bE(t,e,n,i,r,o,s){let a=Gl(i),l=t.firstCreatePass&&UP(t),u=e[mn],p=jP(e),y=!0;if(i.type&3||s){let x=Xt(i,e),A=s?s(x):x,F=p.length,ue=s?Ee=>s(Nn(Ee[i.index])):i.index,H=null;if(!s&&a&&(H=wN(t,e,r,i.index)),H!==null){let Ee=H.__ngLastListenerFn__||H;Ee.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,y=!1}else{o=Pw(i,e,u,o,!1);let Ee=n.listen(A,r,o);p.push(o,Ee),l&&l.push(r,ue,F,F+1)}}else o=Pw(i,e,u,o,!1);let v=i.outputs,D;if(y&&v!==null&&(D=v[r])){let x=D.length;if(x)for(let A=0;A<x;A+=2){let F=D[A],ue=D[A+1],Ze=e[F][ue].subscribe(o),me=p.length;p.push(o,Ze),l&&l.push(r,i.index,me,-(me+1))}}}function Mw(t,e,n,i){let r=ye(null);try{return Sn(6,e,n),n(i)!==!1}catch(o){return hE(t,o),!1}finally{Sn(7,e,n),ye(r)}}function Pw(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?Si(t.index,e):e;rm(a);let c=Mw(e,n,i,s),l=o.__ngNextListenerFn__;for(;l;)c=Mw(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function g(t=1){return hM(t)}function CN(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function m(t,e=""){let n=ge(),i=pt(),r=t+Jt,o=i.firstCreatePass?Js(i,r,1,e,null):i.data[r],s=EN(i,n,o,e,t);n[r]=s,zl()&&Yl(i,n,s,o),gr(o,!1)}var EN=(t,e,n,i,r)=>(Wl(!0),WM(e[We],i));function ne(t){return N("",t,""),ne}function N(t,e,n){let i=ge(),r=WR(i,t,e,n);return r!==kn&&fE(i,_r(),r),N}function rn(t,e,n,i,r){let o=ge(),s=KR(o,t,e,n,i,r);return s!==kn&&fE(o,_r(),s),rn}function fe(t,e,n){CE(e)&&(e=e());let i=ge(),r=Hl();if(Di(i,r,e)){let o=pt(),s=Up();aE(o,s,i,t,e,i[We],n,!1)}return fe}function _e(t,e){let n=CE(t);return n&&t.set(e),n}function pe(t,e){let n=ge(),i=pt(),r=Ot();return bE(i,n,n[We],r,t,e),pe}function IN(t,e,n){let i=pt();if(i.firstCreatePass){let r=Ii(t);_p(n,i.data,i.blueprint,r,!0),_p(e,i.data,i.blueprint,r,!1)}}function _p(t,e,n,i,r){if(t=Ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)_p(t[o],e,n,i,r);else{let o=pt(),s=ge(),a=Ot(),c=Co(t)?t:Ct(t.provide),l=iC(t),u=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Co(t)||!t.multi){let v=new fr(l,r,q),D=Ff(c,e,r?u:u+y,p);D===-1?(Qf(Dl(a,s),o,c),kf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[D]=v,s[D]=v)}else{let v=Ff(c,e,u+y,p),D=Ff(c,e,u,u+y),x=v>=0&&n[v],A=D>=0&&n[D];if(r&&!A||!r&&!x){Qf(Dl(a,s),o,c);let F=DN(r?TN:bN,n.length,r,i,l);!r&&A&&(n[D].providerFactory=F),kf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=TE(n[r?D:v],l,!r&&i);kf(o,t,v>-1?v:D,F)}!r&&i&&A&&n[D].componentProviders++}}}function kf(t,e,n,i){let r=Co(e),o=PA(e);if(r||o){let c=(o?Ct(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function TE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ff(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function bN(t,e,n,i){return yp(this.multi,[])}function TN(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=To(n,n[ae],this.providerFactory.index,i);o=a.slice(0,s),yp(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],yp(r,o);return o}function yp(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function DN(t,e,n,i,r){let o=new fr(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,TE(o,r,i&&!n),o}function Ut(t,e=[]){return n=>{n.providersResolver=(i,r)=>IN(i,r?r(t):t,e)}}var xN=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=eC(!1,n.type),r=i.length>0?ru([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(B(ht))})}}return t})();function Mi(t){nu("NgStandalone"),t.getStandaloneInjector=e=>e.get(xN).getOrCreateStandaloneInjector(t)}function Ft(t,e,n){let i=Ys()+t,r=ge();return r[i]===kn?am(r,i,n?e.call(n):e()):$R(r,i)}function DE(t,e,n,i){return AE(ge(),Ys(),t,e,n,i)}function xE(t,e,n,i,r){return ME(ge(),Ys(),t,e,n,i,r)}function SE(t,e){let n=t[e];return n===kn?void 0:n}function AE(t,e,n,i,r,o){let s=e+n;return Di(t,s,r)?am(t,s+1,o?i.call(o,r):i(r)):SE(t,s+1)}function ME(t,e,n,i,r,o,s){let a=e+n;return IE(t,a,r,o)?am(t,a+2,s?i.call(s,r,o):i(r,o)):SE(t,a+2)}function Ro(t,e){let n=pt(),i,r=t+Jt;n.firstCreatePass?(i=SN(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=lr(i.type,!0)),s,a=Pt(q);try{let c=Tl(!1),l=o();return Tl(c),CN(n,ge(),r,l),l}finally{Pt(a)}}function SN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function PE(t,e,n){let i=t+Jt,r=ge(),o=fC(r,i);return RE(r,i)?AE(r,Ys(),e,o.transform,n,o):o.transform(n)}function Zs(t,e,n,i){let r=t+Jt,o=ge(),s=fC(o,r);return RE(o,r)?ME(o,Ys(),e,s.transform,n,i,s):s.transform(n,i)}function RE(t,e){return t[ae].data[e].pure}var ei=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},NE=new ei("17.3.12"),ou=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var OE=new U("");function yr(t){return!!t&&typeof t.then=="function"}function kE(t){return!!t&&typeof t.subscribe=="function"}var su=new U(""),FE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=R(su,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(yr(o))n.push(o);else if(kE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xs=new U("");function AN(){Dv(()=>{throw new $(600,!1)})}function MN(t){return t.isBoundToModule}function PN(t,e,n){try{let i=n();return yr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var No=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(LC),this.afterRenderEffectManager=R(sm),this.externalTestViews=new Set,this.beforeRender=new wt,this.afterTick=new wt,this.componentTypes=[],this.components=[],this.isStable=R(Po).hasPendingTasks.pipe(ee(n=>!n)),this._injector=R(ht)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Ml;if(!this._injector.get(FE).done){let y=!r&&Yw(n),v=!1;throw new $(405,v)}let s;r?s=n:s=this._injector.get(tu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=MN(s)?void 0:this._injector.get(Ti),c=i||s.selector,l=s.create(kt.NULL,[],c,a),u=l.location.nativeElement,p=l.injector.get(OE,null);return p?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Vf(this.components,l),p?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new $(101,!1);let i=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,ye(i)}}detectChangesInAttachedViews(n){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===mE)throw new $(103,!1);if(n){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)RN(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>vp(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>vp(o))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Vf(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(Xs,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Vf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Vf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RN(t,e,n){!e&&!vp(t)||NN(t,n,e)}function vp(t){return Fp(t)}function NN(t,e,n){let i;n?(i=0,t[K]|=1024):t[K]&64?i=0:i=1,gE(t,e,i)}var wp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},au=(()=>{class t{compileModuleSync(n){return new pp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=Jw(n),o=zC(r.declarations).reduce((s,a)=>{let c=Ei(a);return c&&s.push(new Do(c)),s},[]);return new wp(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ON=(()=>{class t{constructor(){this.zone=R(Ie),this.applicationRef=R(No)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function kN(t){return[{provide:Ie,useFactory:t},{provide:wo,multi:!0,useFactory:()=>{let e=R(ON,{optional:!0});return()=>e.initialize()}},{provide:wo,multi:!0,useFactory:()=>{let e=R(jN);return()=>{e.initialize()}}},{provide:LC,useFactory:FN}]}function FN(){let t=R(Ie),e=R(On);return n=>t.runOutsideAngular(()=>e.handleError(n))}function VN(t){let e=kN(()=>new Ie(LN(t)));return So([[],e])}function LN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var jN=(()=>{class t{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=R(Ie),this.pendingTasks=R(Po)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function UN(){return typeof $localize<"u"&&$localize.locale||kl}var cu=new U("",{providedIn:"root",factory:()=>R(cu,ie.Optional|ie.SkipSelf)||UN()});var VE=new U("");var ml=null;function BN(t=[],e){return kt.create({name:e,providers:[{provide:Ul,useValue:"platform"},{provide:VE,useValue:new Set([()=>ml=null])},...t]})}function $N(t=[]){if(ml)return ml;let e=BN(t);return ml=e,AN(),qN(e),e}function qN(t){t.get(Gp,null)?.forEach(n=>n())}var vr=(()=>{class t{static{this.__NG_ELEMENT_ID__=GN}}return t})();function GN(t){return HN(Ot(),ge(),(t&16)===16)}function HN(t,e,n){if(ql(t)&&!n){let i=Si(t.index,e);return new pr(i,i)}else if(t.type&47){let i=e[Rn];return new pr(i,e)}return null}var Cp=class{constructor(){}supports(e){return EE(e)}create(e){return new Ep(e)}},zN=(t,e)=>e,Ep=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zN}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<Rw(i,r,o)?n:i,a=Rw(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let y=0;y<l;y++){let v=y<o.length?o[y]:o[y]=0,D=v+y;u<=D&&D<l&&(o[y]=v+1)}let p=s.previousIndex;o[p]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!EE(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,UR(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new Ip(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Fl),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ip=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},bp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Fl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new bp,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Rw(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function Nw(){return new cm([new Cp])}var cm=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:Nw})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||Nw()),deps:[[t,new Dp,new Zt]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new $(901,!1)}}return t})();function LE(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=$N(i),o=[VN(),...n||[]],a=new Nl({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ie);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(On,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>a.destroy(),y=r.get(VE);return y.add(p),a.onDestroy(()=>{u.unsubscribe(),y.delete(p)}),PN(l,c,()=>{let v=a.get(FE);return v.runInitializers(),v.donePromise.then(()=>{let D=a.get(cu,kl);vN(D||kl);let x=a.get(No);return e!==void 0&&x.bootstrap(e),x})})})}catch(e){return Promise.reject(e)}}function ea(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function jE(t){let e=Ei(t);if(!e)return null;let n=new Do(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var zE=null;function ai(){return zE}function WE(t){zE??=t}var _u=class{};var mt=new U(""),_m=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>R(QN),providedIn:"platform"})}}return t})(),KE=new U(""),QN=(()=>{class t extends _m{constructor(){super(),this._doc=R(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ai().getBaseHref(this._doc)}onPopState(n){let i=ai().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=ai().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function ym(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function UE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function oi(t){return t&&t[0]!=="?"?"?"+t:t}var wr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>R(vm),providedIn:"root"})}}return t})(),QE=new U(""),vm=(()=>{class t extends wr{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??R(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ym(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+oi(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||t)(B(_m),B(QE,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YE=(()=>{class t extends wr{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=ym(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+oi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||t)(B(_m),B(QE,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),ko=(()=>{class t{constructor(n){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=ZN(UE(BE(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+oi(i))}normalize(n){return t.stripTrailingSlash(JN(this._basePath,BE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=oi}static{this.joinWithSlash=ym}static{this.stripTrailingSlash=UE}static{this.\u0275fac=function(i){return new(i||t)(B(wr))}}static{this.\u0275prov=j({token:t,factory:()=>YN(),providedIn:"root"})}}return t})();function YN(){return new ko(B(wr))}function JN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function BE(t){return t.replace(/\/index.html$/,"")}function ZN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var bt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(bt||{}),Re=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Re||{}),$t=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}($t||{}),Pi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function XN(t){return nn(t)[qe.LocaleId]}function eO(t,e,n){let i=nn(t),r=[i[qe.DayPeriodsFormat],i[qe.DayPeriodsStandalone]],o=on(r,e);return on(o,n)}function tO(t,e,n){let i=nn(t),r=[i[qe.DaysFormat],i[qe.DaysStandalone]],o=on(r,e);return on(o,n)}function nO(t,e,n){let i=nn(t),r=[i[qe.MonthsFormat],i[qe.MonthsStandalone]],o=on(r,e);return on(o,n)}function iO(t,e){let i=nn(t)[qe.Eras];return on(i,e)}function lu(t,e){let n=nn(t);return on(n[qe.DateFormat],e)}function uu(t,e){let n=nn(t);return on(n[qe.TimeFormat],e)}function du(t,e){let i=nn(t)[qe.DateTimeFormat];return on(i,e)}function vu(t,e){let n=nn(t),i=n[qe.NumberSymbols][e];if(typeof i>"u"){if(e===Pi.CurrencyDecimal)return n[qe.NumberSymbols][Pi.Decimal];if(e===Pi.CurrencyGroup)return n[qe.NumberSymbols][Pi.Group]}return i}function JE(t){if(!t[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rO(t){let e=nn(t);return JE(e),(e[qe.ExtraData][2]||[]).map(i=>typeof i=="string"?lm(i):[lm(i[0]),lm(i[1])])}function oO(t,e,n){let i=nn(t);JE(i);let r=[i[qe.ExtraData][0],i[qe.ExtraData][1]],o=on(r,e)||[];return on(o,n)||[]}function on(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function lm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var sO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hu={},aO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,si=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(si||{}),we=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(we||{}),ve=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ve||{});function cO(t,e,n,i){let r=_O(t);e=ri(n,e)||e;let s=[],a;for(;e;)if(a=aO.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=r.getTimezoneOffset();i&&(c=XE(i,c),r=gO(r,i,!0));let l="";return s.forEach(u=>{let p=pO(u);l+=p?p(r,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function yu(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function ri(t,e){let n=XN(t);if(hu[n]??={},hu[n][e])return hu[n][e];let i="";switch(e){case"shortDate":i=lu(t,$t.Short);break;case"mediumDate":i=lu(t,$t.Medium);break;case"longDate":i=lu(t,$t.Long);break;case"fullDate":i=lu(t,$t.Full);break;case"shortTime":i=uu(t,$t.Short);break;case"mediumTime":i=uu(t,$t.Medium);break;case"longTime":i=uu(t,$t.Long);break;case"fullTime":i=uu(t,$t.Full);break;case"short":let r=ri(t,"shortTime"),o=ri(t,"shortDate");i=fu(du(t,$t.Short),[r,o]);break;case"medium":let s=ri(t,"mediumTime"),a=ri(t,"mediumDate");i=fu(du(t,$t.Medium),[s,a]);break;case"long":let c=ri(t,"longTime"),l=ri(t,"longDate");i=fu(du(t,$t.Long),[c,l]);break;case"full":let u=ri(t,"fullTime"),p=ri(t,"fullDate");i=fu(du(t,$t.Full),[u,p]);break}return i&&(hu[n][e]=i),i}function fu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function vn(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function lO(t,e){return vn(t,3).substring(0,e)}function Ke(t,e,n=0,i=!1,r=!1){return function(o,s){let a=uO(t,o);if((n>0||a>-n)&&(a+=n),t===we.Hours)a===0&&n===-12&&(a=12);else if(t===we.FractionalSeconds)return lO(a,e);let c=vu(s,Pi.MinusSign);return vn(a,e,c,i,r)}}function uO(t,e){switch(t){case we.FullYear:return e.getFullYear();case we.Month:return e.getMonth();case we.Date:return e.getDate();case we.Hours:return e.getHours();case we.Minutes:return e.getMinutes();case we.Seconds:return e.getSeconds();case we.FractionalSeconds:return e.getMilliseconds();case we.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ne(t,e,n=bt.Format,i=!1){return function(r,o){return dO(r,o,t,e,n,i)}}function dO(t,e,n,i,r,o){switch(n){case ve.Months:return nO(e,r,i)[t.getMonth()];case ve.Days:return tO(e,r,i)[t.getDay()];case ve.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=rO(e),u=oO(e,r,i),p=l.findIndex(y=>{if(Array.isArray(y)){let[v,D]=y,x=s>=v.hours&&a>=v.minutes,A=s<D.hours||s===D.hours&&a<D.minutes;if(v.hours<D.hours){if(x&&A)return!0}else if(x||A)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(p!==-1)return u[p]}return eO(e,r,i)[s<12?0:1];case ve.Eras:return iO(e,i)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function pu(t){return function(e,n,i){let r=-1*i,o=vu(n,Pi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case si.Short:return(r>=0?"+":"")+vn(s,2,o)+vn(Math.abs(r%60),2,o);case si.ShortGMT:return"GMT"+(r>=0?"+":"")+vn(s,1,o);case si.Long:return"GMT"+(r>=0?"+":"")+vn(s,2,o)+":"+vn(Math.abs(r%60),2,o);case si.Extended:return i===0?"Z":(r>=0?"+":"")+vn(s,2,o)+":"+vn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var hO=0,gu=4;function fO(t){let e=yu(t,hO,1).getDay();return yu(t,0,1+(e<=gu?gu:gu+7)-e)}function ZE(t){let e=t.getDay(),n=e===0?-3:gu-e;return yu(t.getFullYear(),t.getMonth(),t.getDate()+n)}function um(t,e=!1){return function(n,i){let r;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{let o=ZE(n),s=fO(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return vn(r,t,vu(i,Pi.MinusSign))}}function mu(t,e=!1){return function(n,i){let o=ZE(n).getFullYear();return vn(o,t,vu(i,Pi.MinusSign),e)}}var dm={};function pO(t){if(dm[t])return dm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ne(ve.Eras,Re.Abbreviated);break;case"GGGG":e=Ne(ve.Eras,Re.Wide);break;case"GGGGG":e=Ne(ve.Eras,Re.Narrow);break;case"y":e=Ke(we.FullYear,1,0,!1,!0);break;case"yy":e=Ke(we.FullYear,2,0,!0,!0);break;case"yyy":e=Ke(we.FullYear,3,0,!1,!0);break;case"yyyy":e=Ke(we.FullYear,4,0,!1,!0);break;case"Y":e=mu(1);break;case"YY":e=mu(2,!0);break;case"YYY":e=mu(3);break;case"YYYY":e=mu(4);break;case"M":case"L":e=Ke(we.Month,1,1);break;case"MM":case"LL":e=Ke(we.Month,2,1);break;case"MMM":e=Ne(ve.Months,Re.Abbreviated);break;case"MMMM":e=Ne(ve.Months,Re.Wide);break;case"MMMMM":e=Ne(ve.Months,Re.Narrow);break;case"LLL":e=Ne(ve.Months,Re.Abbreviated,bt.Standalone);break;case"LLLL":e=Ne(ve.Months,Re.Wide,bt.Standalone);break;case"LLLLL":e=Ne(ve.Months,Re.Narrow,bt.Standalone);break;case"w":e=um(1);break;case"ww":e=um(2);break;case"W":e=um(1,!0);break;case"d":e=Ke(we.Date,1);break;case"dd":e=Ke(we.Date,2);break;case"c":case"cc":e=Ke(we.Day,1);break;case"ccc":e=Ne(ve.Days,Re.Abbreviated,bt.Standalone);break;case"cccc":e=Ne(ve.Days,Re.Wide,bt.Standalone);break;case"ccccc":e=Ne(ve.Days,Re.Narrow,bt.Standalone);break;case"cccccc":e=Ne(ve.Days,Re.Short,bt.Standalone);break;case"E":case"EE":case"EEE":e=Ne(ve.Days,Re.Abbreviated);break;case"EEEE":e=Ne(ve.Days,Re.Wide);break;case"EEEEE":e=Ne(ve.Days,Re.Narrow);break;case"EEEEEE":e=Ne(ve.Days,Re.Short);break;case"a":case"aa":case"aaa":e=Ne(ve.DayPeriods,Re.Abbreviated);break;case"aaaa":e=Ne(ve.DayPeriods,Re.Wide);break;case"aaaaa":e=Ne(ve.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=Ne(ve.DayPeriods,Re.Abbreviated,bt.Standalone,!0);break;case"bbbb":e=Ne(ve.DayPeriods,Re.Wide,bt.Standalone,!0);break;case"bbbbb":e=Ne(ve.DayPeriods,Re.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(ve.DayPeriods,Re.Abbreviated,bt.Format,!0);break;case"BBBB":e=Ne(ve.DayPeriods,Re.Wide,bt.Format,!0);break;case"BBBBB":e=Ne(ve.DayPeriods,Re.Narrow,bt.Format,!0);break;case"h":e=Ke(we.Hours,1,-12);break;case"hh":e=Ke(we.Hours,2,-12);break;case"H":e=Ke(we.Hours,1);break;case"HH":e=Ke(we.Hours,2);break;case"m":e=Ke(we.Minutes,1);break;case"mm":e=Ke(we.Minutes,2);break;case"s":e=Ke(we.Seconds,1);break;case"ss":e=Ke(we.Seconds,2);break;case"S":e=Ke(we.FractionalSeconds,1);break;case"SS":e=Ke(we.FractionalSeconds,2);break;case"SSS":e=Ke(we.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=pu(si.Short);break;case"ZZZZZ":e=pu(si.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=pu(si.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=pu(si.Long);break;default:return null}return dm[t]=e,e}function XE(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function mO(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function gO(t,e,n){let i=n?-1:1,r=t.getTimezoneOffset(),o=XE(e,r);return mO(t,i*(o-r))}function _O(t){if($E(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return yu(r,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(sO))return yO(i)}let e=new Date(t);if(!$E(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function yO(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function $E(t){return t instanceof Date&&!isNaN(t.valueOf())}function wu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var hm=/\s+/,qE=[],eI=(()=>{class t{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=qE,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(hm):qE}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(hm):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(hm).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(q(yn),q(Fn))}}static{this.\u0275dir=Pe({type:t,selectors:[["","ngClass",""]],inputs:{klass:[st.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var fm=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Fo=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new fm(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),GE(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);GE(o,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(q(Mo),q(eu),q(cm))}}static{this.\u0275dir=Pe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function GE(t,e){t.context.$implicit=e.item}var Vo=(()=>{class t{constructor(n,i){this._viewContainer=n,this._context=new pm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){HE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){HE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(q(Mo),q(eu))}}static{this.\u0275dir=Pe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),pm=class{constructor(){this.$implicit=null,this.ngIf=null}};function HE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Et(e)}'.`)}function vO(t,e){return new $(2100,!1)}var wO="mediumDate",CO=new U(""),EO=new U(""),Cu=(()=>{class t{constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,o){if(n==null||n===""||n!==n)return null;try{let s=i??this.defaultOptions?.dateFormat??wO,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return cO(n,s,o||this.locale,a)}catch(s){throw vO(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(q(cu,16),q(CO,24),q(EO,24))}}static{this.\u0275pipe=Ap({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var tI=(()=>{class t{transform(n){return JSON.stringify(n,null,2)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=Ap({name:"json",type:t,pure:!1,standalone:!0})}}return t})();var Cr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({})}}return t})(),wm="browser",IO="server";function bO(t){return t===wm}function Eu(t){return t===IO}var nI=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>bO(R(tn))?new mm(R(mt),window):new gm})}}return t})(),mm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=TO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function TO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var gm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Oo=class{};var na=class{},Tu=class{},Er=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Em=class{encodeKey(e){return iI(e)}encodeValue(e){return iI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function SO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var AO=/%(\d[a-f0-9])/gi,MO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iI(t){return encodeURIComponent(t).replace(AO,(e,n)=>MO[n]??e)}function bu(t){return`${t}`}var Ri=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Em,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=SO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(bu):[bu(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(bu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(bu(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Im=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function PO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rI(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function oI(t){return typeof Blob<"u"&&t instanceof Blob}function sI(t){return typeof FormData<"u"&&t instanceof FormData}function RO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ta=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(PO(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Er,this.context??=new Im,!this.params)this.params=new Ri,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rI(this.body)||oI(this.body)||sI(this.body)||RO(this.body)?this.body:this.body instanceof Ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sI(this.body)?null:oI(this.body)?this.body.type||null:rI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,v)=>y.set(v,e.setHeaders[v]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((y,v)=>y.set(v,e.setParams[v]),u)),new t(n,i,s,{params:u,headers:l,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},Lo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Lo||{}),ia=class{constructor(e,n=Su.Ok,i="OK"){this.headers=e.headers||new Er,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},bm=class t extends ia{constructor(e={}){super(e),this.type=Lo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Du=class t extends ia{constructor(e={}){super(e),this.type=Lo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},xu=class extends ia{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Su=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Su||{});function Cm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Tm=(()=>{class t{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof ta)o=n;else{let c;r.headers instanceof Er?c=r.headers:c=new Er(r.headers);let l;r.params&&(r.params instanceof Ri?l=r.params:l=new Ri({fromObject:r.params})),o=new ta(n,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=z(o).pipe(Yn(c=>this.handler.handle(c)));if(n instanceof ta||r.observe==="events")return s;let a=s.pipe(At(c=>c instanceof Du));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ee(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Ri().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,Cm(r,i))}post(n,i,r={}){return this.request("POST",n,Cm(r,i))}put(n,i,r={}){return this.request("PUT",n,Cm(r,i))}static{this.\u0275fac=function(i){return new(i||t)(B(na))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function NO(t,e){return e(t)}function OO(t,e,n){return(i,r)=>gn(n,()=>e(i,o=>t(o,r)))}var lI=new U(""),kO=new U(""),FO=new U("");var aI=(()=>{class t extends na{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=R(Po);let r=R(FO,{optional:!0});this.backend=r??n}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(lI),...this.injector.get(kO,[])]));this.chain=r.reduceRight((o,s)=>OO(o,s,this.injector),NO)}let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(or(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||t)(B(Tu),B(ht))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var VO=/^\)\]\}',?\n/;function LO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var cI=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new $(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ke(i.\u0275loadImpl()):z(null)).pipe(Mt(()=>new oe(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((x,A)=>s.setRequestHeader(x,A.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let x=n.detectContentTypeHeader();x!==null&&s.setRequestHeader("Content-Type",x)}if(n.responseType){let x=n.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let x=s.statusText||"OK",A=new Er(s.getAllResponseHeaders()),F=LO(s)||n.url;return c=new bm({headers:A,status:s.status,statusText:x,url:F}),c},u=()=>{let{headers:x,status:A,statusText:F,url:ue}=l(),H=null;A!==Su.NoContent&&(H=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=H?Su.Ok:0);let Ee=A>=200&&A<300;if(n.responseType==="json"&&typeof H=="string"){let Ze=H;H=H.replace(VO,"");try{H=H!==""?JSON.parse(H):null}catch(me){H=Ze,Ee&&(Ee=!1,H={error:me,text:H})}}Ee?(o.next(new Du({body:H,headers:x,status:A,statusText:F,url:ue||void 0})),o.complete()):o.error(new xu({error:H,headers:x,status:A,statusText:F,url:ue||void 0}))},p=x=>{let{url:A}=l(),F=new xu({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(F)},y=!1,v=x=>{y||(o.next(l()),y=!0);let A={type:Lo.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(A.total=x.total),n.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},D=x=>{let A={type:Lo.UploadProgress,loaded:x.loaded};x.lengthComputable&&(A.total=x.total),o.next(A)};return s.addEventListener("load",u),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:Lo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",u),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(B(Oo))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),uI=new U(""),jO="XSRF-TOKEN",UO=new U("",{providedIn:"root",factory:()=>jO}),BO="X-XSRF-TOKEN",$O=new U("",{providedIn:"root",factory:()=>BO}),Au=class{},qO=(()=>{class t{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=wu(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(B(mt),B(tn),B(UO))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function GO(t,e){let n=t.url.toLowerCase();if(!R(uI)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=R(Au).getToken(),r=R($O);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}function dI(...t){let e=[Tm,cI,aI,{provide:na,useExisting:aI},{provide:Tu,useExisting:cI},{provide:lI,useValue:GO,multi:!0},{provide:uI,useValue:!0},{provide:Au,useClass:qO}];for(let n of t)e.push(...n.\u0275providers);return So(e)}var Sm=class extends _u{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Am=class t extends Sm{static makeCurrent(){WE(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=zO();return n==null?null:WO(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wu(document.cookie,e)}},ra=null;function zO(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}function WO(t){return new URL(t,document.baseURI).pathname}var KO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Mm=new U(""),mI=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||t)(B(Mm),B(Ie))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Mu=class{constructor(e){this._doc=e}},Dm="ng-app-id",gI=(()=>{class t{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Eu(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Dm}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(Dm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Dm,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(B(mt),B(qp),B(Hp,8),B(tn))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),xm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rm=/%COMP%/g,_I="%COMP%",QO=`_nghost-${_I}`,YO=`_ngcontent-${_I}`,JO=!0,ZO=new U("",{providedIn:"root",factory:()=>JO});function XO(t){return YO.replace(Rm,t)}function e2(t){return QO.replace(Rm,t)}function yI(t,e){return e.map(n=>n.replace(Rm,t))}var hI=(()=>{class t{constructor(n,i,r,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Eu(a),this.defaultRenderer=new oa(n,s,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Mn.ShadowDom&&(i=Y(M({},i),{encapsulation:Mn.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Pu?r.applyToHost(n):r instanceof sa&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Mn.Emulated:o=new Pu(c,l,i,this.appId,u,s,a,p);break;case Mn.ShadowDom:return new Pm(c,l,n,i,s,a,this.nonce,p);default:o=new sa(c,l,i,u,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(B(mI),B(gI),B(qp),B(ZO),B(mt),B(tn),B(Ie),B(Hp))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),oa=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(xm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fI(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(fI(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new $(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=xm[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=xm[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Xn.DashCase|Xn.Important)?e.style.setProperty(n,i,r&Xn.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ai().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Pm=class extends oa{constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=yI(r.id,r.styles);for(let u of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=u,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sa=class extends oa{constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?yI(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Pu=class extends sa{constructor(e,n,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,n,i,o,s,a,c,l),this.contentAttr=XO(l),this.hostAttr=e2(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},t2=(()=>{class t extends Mu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(B(mt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),pI=["alt","control","meta","shift"],n2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},i2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},r2=(()=>{class t extends Mu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ai().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),pI.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,i){let r=n2[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),pI.forEach(s=>{if(s!==r){let a=i2[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{t.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||t)(B(mt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function vI(t,e){return LE(M({rootComponent:t},o2(e)))}function o2(t){return{appProviders:[...u2,...t?.providers??[]],platformProviders:l2}}function s2(){Am.makeCurrent()}function a2(){return new On}function c2(){return GC(document),document}var l2=[{provide:tn,useValue:wm},{provide:Gp,useValue:s2,multi:!0},{provide:mt,useFactory:c2,deps:[]}];var u2=[{provide:Ul,useValue:"root"},{provide:On,useFactory:a2,deps:[]},{provide:Mm,useClass:t2,multi:!0,deps:[mt,Ie,tn]},{provide:Mm,useClass:r2,multi:!0,deps:[mt]},hI,gI,mI,{provide:Hs,useExisting:hI},{provide:Oo,useClass:KO,deps:[]},[]];var wI=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||t)(B(mt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var MI=(()=>{class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||t)(q(Fn),q(yn))}}static{this.\u0275dir=Pe({type:t})}}return t})(),Bo=(()=>{class t extends MI{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=en(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,features:[at]})}}return t})(),ki=new U(""),h2={provide:ki,useExisting:It(()=>Vm),multi:!0},Vm=(()=>{class t extends Bo{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=en(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Ut([h2]),at]})}}return t})(),f2={provide:ki,useExisting:It(()=>$o),multi:!0};function p2(){let t=ai()?ai().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var m2=new U(""),$o=(()=>{class t extends MI{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!p2())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||t)(q(Fn),q(yn),q(m2,8))}}static{this.\u0275dir=Pe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&I("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ut([f2]),at]})}}return t})();function Ni(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function PI(t){return t!=null&&typeof t.length=="number"}var qo=new U(""),Lm=new U(""),g2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xe=class{static min(e){return RI(e)}static max(e){return NI(e)}static required(e){return OI(e)}static requiredTrue(e){return _2(e)}static email(e){return y2(e)}static minLength(e){return v2(e)}static maxLength(e){return w2(e)}static pattern(e){return C2(e)}static nullValidator(e){return Nu(e)}static compose(e){return UI(e)}static composeAsync(e){return $I(e)}};function RI(t){return e=>{if(Ni(e.value)||Ni(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function NI(t){return e=>{if(Ni(e.value)||Ni(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function OI(t){return Ni(t.value)?{required:!0}:null}function _2(t){return t.value===!0?null:{required:!0}}function y2(t){return Ni(t.value)||g2.test(t.value)?null:{email:!0}}function v2(t){return e=>Ni(e.value)||!PI(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function w2(t){return e=>PI(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function C2(t){if(!t)return Nu;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Ni(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Nu(t){return null}function kI(t){return t!=null}function FI(t){return yr(t)?ke(t):t}function VI(t){let e={};return t.forEach(n=>{e=n!=null?M(M({},e),n):e}),Object.keys(e).length===0?null:e}function LI(t,e){return e.map(n=>n(t))}function E2(t){return!t.validate}function jI(t){return t.map(e=>E2(e)?e:n=>e.validate(n))}function UI(t){if(!t)return null;let e=t.filter(kI);return e.length==0?null:function(n){return VI(LI(n,e))}}function BI(t){return t!=null?UI(jI(t)):null}function $I(t){if(!t)return null;let e=t.filter(kI);return e.length==0?null:function(n){let i=LI(n,e).map(FI);return gf(i).pipe(ee(VI))}}function qI(t){return t!=null?$I(jI(t)):null}function CI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function GI(t){return t._rawValidators}function HI(t){return t._rawAsyncValidators}function Nm(t){return t?Array.isArray(t)?t:[t]:[]}function Ou(t,e){return Array.isArray(t)?t.includes(e):t===e}function EI(t,e){let n=Nm(e);return Nm(t).forEach(r=>{Ou(n,r)||n.push(r)}),n}function II(t,e){return Nm(e).filter(n=>!Ou(t,n))}var ku=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ir=class extends ku{get formDirective(){return null}get path(){return null}},Oi=class extends ku{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Fu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},I2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},M7=Y(M({},I2),{"[class.ng-submitted]":"isSubmitted"}),Uu=(()=>{class t extends Fu{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(q(Oi,2))}}static{this.\u0275dir=Pe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Te("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[at]})}}return t})(),zI=(()=>{class t extends Fu{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(q(Ir,10))}}static{this.\u0275dir=Pe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Te("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[at]})}}return t})();var aa="VALID",Ru="INVALID",jo="PENDING",ca="DISABLED";function jm(t){return(Bu(t)?t.validators:t)||null}function b2(t){return Array.isArray(t)?BI(t):t||null}function Um(t,e){return(Bu(e)?e.asyncValidators:t)||null}function T2(t){return Array.isArray(t)?qI(t):t||null}function Bu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function WI(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new $(1e3,"");if(!i[n])throw new $(1001,"")}function KI(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new $(1002,"")})}var Uo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===aa}get invalid(){return this.status===Ru}get pending(){return this.status==jo}get disabled(){return this.status===ca}get enabled(){return this.status!==ca}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(EI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(EI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(II(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(II(e,this._rawAsyncValidators))}hasValidator(e){return Ou(this._rawValidators,e)}hasAsyncValidator(e){return Ou(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=jo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ca,this.errors=null,this._forEachChild(i=>{i.disable(Y(M({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(M({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=aa,this._forEachChild(i=>{i.enable(Y(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Y(M({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===aa||this.status===jo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ca:aa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=jo,this._hasOwnPendingAsyncValidator=!0;let n=FI(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?ca:this.errors?Ru:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jo)?jo:this._anyControlsHaveStatus(Ru)?Ru:aa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=b2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=T2(this._rawAsyncValidators)}},Vu=class extends Uo{constructor(e,n,i){super(jm(n),Um(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){KI(this,!0,e),Object.keys(e).forEach(i=>{WI(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Om=class extends Vu{};var ua=new U("CallSetDisabledState",{providedIn:"root",factory:()=>da}),da="always";function QI(t,e){return[...e.path,t]}function km(t,e,n=da){Bm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),x2(t,e),A2(t,e),S2(t,e),D2(t,e)}function bI(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ju(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Lu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function D2(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Bm(t,e){let n=GI(t);e.validator!==null?t.setValidators(CI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=HI(t);e.asyncValidator!==null?t.setAsyncValidators(CI(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Lu(e._rawValidators,r),Lu(e._rawAsyncValidators,r)}function ju(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=GI(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=HI(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Lu(e._rawValidators,i),Lu(e._rawAsyncValidators,i),n}function x2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&YI(t,e)})}function S2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&YI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function YI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function A2(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function M2(t,e){t==null,Bm(t,e)}function P2(t,e){return ju(t,e)}function JI(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function R2(t){return Object.getPrototypeOf(t.constructor)===Bo}function N2(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ZI(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===$o?n=o:R2(o)?i=o:r=o}),r||i||n||null}function O2(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function TI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var la=class extends Uo{constructor(e=null,n,i){super(jm(n),Um(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(DI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var k2=t=>t instanceof la;var F2={provide:Oi,useExisting:It(()=>ha)},xI=Promise.resolve(),ha=(()=>{class t extends Oi{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new la,this._registered=!1,this.name="",this.update=new Fe,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ZI(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),JI(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){km(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){xI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&ea(i);xI.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?QI(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||t)(q(Ir,9),q(qo,10),q(Lm,10),q(ki,10),q(vr,8),q(ua,8))}}static{this.\u0275dir=Pe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"],options:[st.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([F2]),at,ii]})}}return t})(),XI=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Pe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),V2={provide:ki,useExisting:It(()=>$m),multi:!0},$m=(()=>{class t extends Bo{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=en(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&I("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ut([V2]),at]})}}return t})(),L2={provide:ki,useExisting:It(()=>qm),multi:!0};var j2=(()=>{class t{constructor(){this._accessors=[]}add(n,i){this._accessors.push([n,i])}remove(n){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===n){this._accessors.splice(i,1);return}}select(n){this._accessors.forEach(i=>{this._isSameGroup(i,n)&&i[1]!==n&&i[1].fireUncheck(n.value)})}_isSameGroup(n,i){return n[0].control?n[0]._parent===i._control._parent&&n[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qm=(()=>{class t extends Bo{constructor(n,i,r,o){super(n,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=R(ua,{optional:!0})??da}ngOnInit(){this._control=this._injector.get(Oi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||t)(q(Fn),q(yn),q(j2),q(kt))}}static{this.\u0275dir=Pe({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ut([L2]),at]})}}return t})();var eb=new U("");var U2={provide:Ir,useExisting:It(()=>Gm)},Gm=(()=>{class t extends Ir{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ju(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return km(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){bI(n.control||null,n,!1),O2(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,N2(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(bI(i||null,n),k2(r)&&(km(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);M2(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&P2(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bm(this.form,this),this._oldForm&&ju(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||t)(q(qo,10),q(Lm,10),q(ua,8))}}static{this.\u0275dir=Pe({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&I("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[st.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([U2]),at,ii]})}}return t})();var B2={provide:Oi,useExisting:It(()=>Hm)},Hm=(()=>{class t extends Oi{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ZI(this,o)}ngOnChanges(n){this._added||this._setUpControl(),JI(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return QI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(q(Ir,13),q(qo,10),q(Lm,10),q(ki,10),q(eb,8))}}static{this.\u0275dir=Pe({type:t,selectors:[["","formControlName",""]],inputs:{name:[st.None,"formControlName","name"],isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ut([B2]),at,ii]})}}return t})(),$2={provide:ki,useExisting:It(()=>Go),multi:!0};function tb(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function q2(t){return t.split(":")[0]}var Go=(()=>{class t extends Bo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),r=tb(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=q2(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=en(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([$2]),at]})}}return t})(),$u=(()=>{class t{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(tb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(q(yn),q(Fn),q(Go,9))}}static{this.\u0275dir=Pe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),G2={provide:ki,useExisting:It(()=>nb),multi:!0};function SI(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function H2(t){return t.split(":")[0]}var nb=(()=>{class t extends Bo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=H2(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=en(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([G2]),at]})}}return t})(),qu=(()=>{class t{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(SI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(SI(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(q(yn),q(Fn),q(nb,9))}}static{this.\u0275dir=Pe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function ib(t){return typeof t=="number"?t:parseFloat(t)}var zm=(()=>{class t{constructor(){this._validator=Nu}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Nu,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Pe({type:t,features:[ii]})}}return t})(),z2={provide:qo,useExisting:It(()=>Wm),multi:!0},Wm=(()=>{class t extends zm{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>ib(n),this.createValidator=n=>NI(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=en(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ai("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ut([z2]),at]})}}return t})(),W2={provide:qo,useExisting:It(()=>Km),multi:!0},Km=(()=>{class t extends zm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>ib(n),this.createValidator=n=>RI(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=en(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ai("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ut([W2]),at]})}}return t})(),K2={provide:qo,useExisting:It(()=>Qm),multi:!0};var Qm=(()=>{class t extends zm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ea,this.createValidator=n=>OI}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=en(t)))(r||t)}})()}static{this.\u0275dir=Pe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ai("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ut([K2]),at]})}}return t})();var rb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({})}}return t})(),Fm=class extends Uo{constructor(e,n,i){super(jm(n),Um(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){KI(this,!1,e),e.forEach((i,r)=>{WI(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function AI(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var ob=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,i=null){let r=this._reduceControls(n),o={};return AI(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Vu(r,o)}record(n,i=null){let r=this._reduceControls(n);return new Om(r,i)}control(n,i,r){let o={};return this.useNonNullable?(AI(i)?o=i:(o.validators=i,o.asyncValidators=r),new la(n,Y(M({},o),{nonNullable:!0}))):new la(n,i,r)}array(n,i,r){let o=n.map(s=>this._createControl(s));return new Fm(o,i,r)}_reduceControls(n){let i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){if(n instanceof la)return n;if(n instanceof Uo)return n;if(Array.isArray(n)){let i=n[0],r=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(i,r,o)}else return this.control(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Gu=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ua,useValue:n.callSetDisabledState??da}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({imports:[rb]})}}return t})(),sb=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:eb,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ua,useValue:n.callSetDisabledState??da}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({imports:[rb]})}}return t})();var cb=[{id:1,name:"Stand. Flawinne FC",players:[{name:"Joueur non list\xE9",type:"milieu"}]},{id:2,name:"U10 Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Daniel",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:3,name:"U9 Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]},{id:4,name:"U11B Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Daniel",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:5,name:"U10A Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]}];function Ym(t){return(!t.players||t.players.length===0)&&(t.players=[{name:"Joueur non list\xE9",type:"milieu"}]),t}var te="primary",Sa=Symbol("RouteTitle"),tg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qo(t){return new tg(t)}function Q2(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Y2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}function Vn(t,e){let n=t?ng(t):void 0,i=e?ng(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!_b(t[r],e[r]))return!1;return!0}function ng(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function _b(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function yb(t){return t.length>0?t[t.length-1]:null}function Ui(t){return mf(t)?t:yr(t)?ke(Promise.resolve(t)):z(t)}var J2={exact:wb,subset:Cb},vb={exact:Z2,subset:X2,ignored:()=>!0};function lb(t,e,n){return J2[n.paths](t.root,e.root,n.matrixParams)&&vb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Z2(t,e){return Vn(t,e)}function wb(t,e,n){if(!Tr(t.segments,e.segments)||!Wu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!wb(t.children[i],e.children[i],n))return!1;return!0}function X2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_b(t[n],e[n]))}function Cb(t,e,n){return Eb(t,e,e.segments,n)}function Eb(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Tr(r,n)||e.hasChildren()||!Wu(r,n,i))}else if(t.segments.length===n.length){if(!Tr(t.segments,n)||!Wu(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!Cb(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Tr(t.segments,r)||!Wu(t.segments,r,i)||!t.children[te]?!1:Eb(t.children[te],e,o,i)}}function Wu(t,e,n){return e.every((i,r)=>vb[n](t[r].parameters,i.parameters))}var Fi=class{constructor(e=new be([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Qo(this.queryParams),this._queryParamMap}toString(){return nk.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ku(this)}},br=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qo(this.parameters),this._parameterMap}toString(){return bb(this)}};function ek(t,e){return Tr(t,e)&&t.every((n,i)=>Vn(n.parameters,e[i].parameters))}function Tr(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function tk(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===te&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==te&&(n=n.concat(e(r,i)))}),n}var Aa=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>new va,providedIn:"root"})}}return t})(),va=class{parse(e){let n=new rg(e);return new Fi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${fa(e.root,!0)}`,i=ok(e.queryParams),r=typeof e.fragment=="string"?`#${ik(e.fragment)}`:"";return`${n}${i}${r}`}},nk=new va;function Ku(t){return t.segments.map(e=>bb(e)).join("/")}function fa(t,e){if(!t.hasChildren())return Ku(t);if(e){let n=t.children[te]?fa(t.children[te],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==te&&i.push(`${r}:${fa(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=tk(t,(i,r)=>r===te?[fa(t.children[te],!1)]:[`${r}:${fa(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${Ku(t)}/${n[0]}`:`${Ku(t)}/(${n.join("//")})`}}function Ib(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hu(t){return Ib(t).replace(/%3B/gi,";")}function ik(t){return encodeURI(t)}function ig(t){return Ib(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qu(t){return decodeURIComponent(t)}function ub(t){return Qu(t.replace(/\+/g,"%20"))}function bb(t){return`${ig(t.path)}${rk(t.parameters)}`}function rk(t){return Object.entries(t).map(([e,n])=>`;${ig(e)}=${ig(n)}`).join("")}function ok(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Hu(n)}=${Hu(r)}`).join("&"):`${Hu(n)}=${Hu(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var sk=/^[^\/()?;#]+/;function Jm(t){let e=t.match(sk);return e?e[0]:""}var ak=/^[^\/()?;=#]+/;function ck(t){let e=t.match(ak);return e?e[0]:""}var lk=/^[^=?&#]+/;function uk(t){let e=t.match(lk);return e?e[0]:""}var dk=/^[^&#]+/;function hk(t){let e=t.match(dk);return e?e[0]:""}var rg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[te]=new be(e,n)),i}parseSegment(){let e=Jm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new br(Qu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ck(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Jm(this.remaining);r&&(i=r,this.capture(i))}e[Qu(n)]=Qu(i)}parseQueryParam(e){let n=uk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=hk(this.remaining);s&&(i=s,this.capture(i))}let r=ub(n),o=ub(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Jm(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new $(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[te]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function Tb(t){return t.segments.length>0?new be([],{[te]:t}):t}function Db(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=Db(r);if(i===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new be(t.segments,e);return fk(n)}function fk(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new be(t.segments.concat(e.segments),e.children)}return t}function Yo(t){return t instanceof Fi}function pk(t,e,n=null,i=null){let r=xb(t);return Sb(r,e,n,i)}function xb(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new be(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=Tb(i);return e??r}function Sb(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Zm(r,r,r,n,i);let o=mk(e);if(o.toRoot())return Zm(r,r,new be([],{}),n,i);let s=gk(o,r,t),a=s.processChildren?ga(s.segmentGroup,s.index,o.commands):Mb(s.segmentGroup,s.index,o.commands);return Zm(r,s.segmentGroup,a,n,i)}function Yu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function wa(t){return typeof t=="object"&&t!=null&&t.outlets}function Zm(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=Ab(t,e,n);let a=Tb(Db(s));return new Fi(a,o,r)}function Ab(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=Ab(o,e,n)}),new be(t.segments,i)}var Ju=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Yu(i[0]))throw new $(4003,!1);let r=i.find(wa);if(r&&r!==yb(i))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ju(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Ju(n,e,i)}var Wo=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function gk(t,e,n){if(t.isAbsolute)return new Wo(e,!0,0);if(!n)return new Wo(e,!1,NaN);if(n.parent===null)return new Wo(n,!0,0);let i=Yu(t.commands[0])?0:1,r=n.segments.length-1+i;return _k(n,r,t.numberOfDoubleDots)}function _k(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $(4005,!1);r=i.segments.length}return new Wo(i,!1,r-o)}function yk(t){return wa(t[0])?t[0].outlets:{[te]:t}}function Mb(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return ga(t,e,n);let i=vk(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new be(t.segments.slice(0,i.pathIndex),{});return o.children[te]=new be(t.segments.slice(i.pathIndex),t.children),ga(o,0,r)}else return i.match&&r.length===0?new be(t.segments,{}):i.match&&!t.hasChildren()?og(t,e,n):i.match?ga(t,0,r):og(t,e,n)}function ga(t,e,n){if(n.length===0)return new be(t.segments,{});{let i=yk(n),r={};if(Object.keys(i).some(o=>o!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let o=ga(t.children[te],e,n);return new be(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Mb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new be(t.segments,r)}}function vk(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(wa(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!hb(c,l,s))return o;i+=2}else{if(!hb(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function og(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(wa(o)){let c=wk(o.outlets);return new be(i,c)}if(r===0&&Yu(n[0])){let c=t.segments[e];i.push(new br(c.path,db(n[0]))),r++;continue}let s=wa(o)?o.outlets[te]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Yu(a)?(i.push(new br(s,db(a))),r+=2):(i.push(new br(s,{})),r++)}return new be(i,{})}function wk(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=og(new be([],{}),0,i))}),e}function db(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function hb(t,e,n){return t==n.path&&Vn(e,n.parameters)}var _a="imperative",et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(et||{}),sn=class{constructor(e,n){this.id=e,this.url=n}},Jo=class extends sn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=et.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends sn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Gt||{}),Zu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zu||{}),Vi=class extends sn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Li=class extends sn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=et.NavigationSkipped}},Ca=class extends sn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xu=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ag=class extends sn{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cg=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class extends sn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ug=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dg=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pg=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mg=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ed=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=et.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ea=class{},Ia=class{constructor(e){this.url=e}};var gg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ma,this.attachRef=null}},Ma=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new gg,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),td=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=_g(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=_g(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=yg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return yg(e,this._root).map(n=>n.value)}};function _g(t,e){if(t===e.value)return e;for(let n of e.children){let i=_g(t,n);if(i)return i}return null}function yg(t,e){if(t===e.value)return[e];for(let n of e.children){let i=yg(t,n);if(i.length)return i.unshift(e),i}return[]}var qt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function zo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var nd=class extends td{constructor(e,n){super(e),this.snapshot=n,Sg(this,e)}toString(){return this.snapshot.toString()}};function Pb(t){let e=Ck(t),n=new ot([new br("",{})]),i=new ot({}),r=new ot({}),o=new ot({}),s=new ot(""),a=new li(n,i,o,s,r,te,t,e.root);return a.snapshot=e.root,new nd(new qt(a,[]),e)}function Ck(t){let e={},n={},i={},r="",o=new ba([],e,i,r,n,te,t,null,{});return new id("",new qt(o,[]))}var li=class{constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[Sa]))??z(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Qo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Qo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xg(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:M(M({},e.params),t.params),data:M(M({},e.data),t.data),resolve:M(M(M(M({},t.data),e.data),r?.data),t._resolvedData)}:i={params:M({},t.params),data:M({},t.data),resolve:M(M({},t.data),t._resolvedData??{})},r&&Nb(r)&&(i.resolve[Sa]=r.title),i}var ba=class{get title(){return this.data?.[Sa]}constructor(e,n,i,r,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},id=class extends td{constructor(e,n){super(n),this.url=e,Sg(this,n)}toString(){return Rb(this._root)}};function Sg(t,e){e.value._routerState=t,e.children.forEach(n=>Sg(t,n))}function Rb(t){let e=t.children.length>0?` { ${t.children.map(Rb).join(", ")} } `:"";return`${t.value}${e}`}function Xm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vn(e.params,n.params)||t.paramsSubject.next(n.params),Y2(e.url,n.url)||t.urlSubject.next(n.url),Vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vg(t,e){let n=Vn(t.params,e.params)&&ek(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||vg(t.parent,e.parent))}function Nb(t){return typeof t.title=="string"||t.title===null}var Ag=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=R(Ma),this.location=R(Mo),this.changeDetector=R(vr),this.environmentInjector=R(ht),this.inputBinder=R(ad,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new wg(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Pe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ii]})}}return t})(),wg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===li?this.route:e===Ma?this.childContexts:this.parent.get(e,n)}},ad=new U(""),fb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=ks([i.queryParams,i.params,i.data]).pipe(Mt(([o,s,a],c)=>(a=M(M(M({},o),s),a),c===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=jE(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function Ek(t,e,n){let i=Ta(t,e._root,n?n._root:void 0);return new nd(i,e)}function Ta(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=Ik(t,e,n);return new qt(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ta(t,a)),s}}let i=bk(e.value),r=e.children.map(o=>Ta(t,o));return new qt(i,r)}}function Ik(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Ta(t,i,r);return Ta(t,i)})}function bk(t){return new li(new ot(t.url),new ot(t.params),new ot(t.queryParams),new ot(t.fragment),new ot(t.data),t.outlet,t.component,t)}var Ob="ngNavigationCancelingError";function kb(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Yo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Fb(!1,Gt.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Fb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ob]=!0,n.cancellationCode=e,n}function Tk(t){return Vb(t)&&Yo(t.url)}function Vb(t){return!!t&&t[Ob]}var Dk=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=xi({type:t,selectors:[["ng-component"]],standalone:!0,features:[Mi],decls:1,vars:0,template:function(i,r){i&1&&b(0,"router-outlet")},dependencies:[Ag],encapsulation:2})}}return t})();function xk(t,e){return t.providers&&!t._injector&&(t._injector=ru(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Mg(t){let e=t.children&&t.children.map(Mg),n=e?Y(M({},t),{children:e}):M({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=Dk),n}function Ln(t){return t.outlet||te}function Sk(t,e){let n=t.filter(i=>Ln(i)===e);return n.push(...t.filter(i=>Ln(i)!==e)),n}function Pa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ak=(t,e,n,i)=>ee(r=>(new Cg(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Cg=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Xm(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=zo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=zo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=zo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=zo(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new mg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fg(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(Xm(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Pa(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},rd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ko=class{constructor(e,n){this.component=e,this.route=n}};function Mk(t,e,n){let i=t._root,r=e?e._root:null;return pa(i,r,n,[i.value])}function Pk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Xo(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!Fw(t)?t:e.get(t):i}function pa(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=zo(e);return t.children.forEach(s=>{Rk(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ya(a,n.getContext(s),r)),r}function Rk(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Nk(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new rd(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pa(t,e,a?a.children:null,i,r):pa(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ko(a.outlet.component,s))}else s&&ya(e,a,r),r.canActivateChecks.push(new rd(i)),o.component?pa(t,null,a?a.children:null,i,r):pa(t,null,n,i,r);return r}function Nk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Tr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Tr(t.url,e.url)||!Vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vg(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!vg(t,e)}}function ya(t,e,n){let i=zo(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?ya(s,e.children.getContext(o),n):ya(s,null,n):ya(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ko(e.outlet.component,r)):n.canDeactivateChecks.push(new Ko(null,r)):n.canDeactivateChecks.push(new Ko(null,r))}function Ra(t){return typeof t=="function"}function Ok(t){return typeof t=="boolean"}function kk(t){return t&&Ra(t.canLoad)}function Fk(t){return t&&Ra(t.canActivate)}function Vk(t){return t&&Ra(t.canActivateChild)}function Lk(t){return t&&Ra(t.canDeactivate)}function jk(t){return t&&Ra(t.canMatch)}function Lb(t){return t instanceof Qn||t?.name==="EmptyError"}var zu=Symbol("INITIAL_VALUE");function Zo(){return Mt(t=>ks(t.map(e=>e.pipe(Jn(1),wf(zu)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===zu)return zu;if(n===!1||n instanceof Fi)return n}return!0}),At(e=>e!==zu),Jn(1)))}function Uk(t,e){return He(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?z(Y(M({},n),{guardsResult:!0})):Bk(s,i,r,t).pipe(He(a=>a&&Ok(a)?$k(i,o,t,e):z(a)),ee(a=>Y(M({},n),{guardsResult:a})))})}function Bk(t,e,n,i){return ke(t).pipe(He(r=>Wk(r.component,r.route,n,e,i)),xn(r=>r!==!0,!0))}function $k(t,e,n,i){return ke(e).pipe(Yn(r=>uo(Gk(r.route.parent,i),qk(r.route,i),zk(t,r.path,n),Hk(t,r.route,n))),xn(r=>r!==!0,!0))}function qk(t,e){return t!==null&&e&&e(new pg(t)),z(!0)}function Gk(t,e){return t!==null&&e&&e(new hg(t)),z(!0)}function Hk(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return z(!0);let r=i.map(o=>sl(()=>{let s=Pa(e)??n,a=Xo(o,s),c=Fk(a)?a.canActivate(e,t):gn(s,()=>a(e,t));return Ui(c).pipe(xn())}));return z(r).pipe(Zo())}function zk(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Pk(s)).filter(s=>s!==null).map(s=>sl(()=>{let a=s.guards.map(c=>{let l=Pa(s.node)??n,u=Xo(c,l),p=Vk(u)?u.canActivateChild(i,t):gn(l,()=>u(i,t));return Ui(p).pipe(xn())});return z(a).pipe(Zo())}));return z(o).pipe(Zo())}function Wk(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let c=Pa(e)??r,l=Xo(a,c),u=Lk(l)?l.canDeactivate(t,e,n,i):gn(c,()=>l(t,e,n,i));return Ui(u).pipe(xn())});return z(s).pipe(Zo())}function Kk(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return z(!0);let o=r.map(s=>{let a=Xo(s,t),c=kk(a)?a.canLoad(e,n):gn(t,()=>a(e,n));return Ui(c)});return z(o).pipe(Zo(),jb(i))}function jb(t){return af(ze(e=>{if(Yo(e))throw kb(t,e)}),ee(e=>e===!0))}function Qk(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return z(!0);let o=r.map(s=>{let a=Xo(s,t),c=jk(a)?a.canMatch(e,n):gn(t,()=>a(e,n));return Ui(c)});return z(o).pipe(Zo(),jb(i))}var Da=class{constructor(e){this.segmentGroup=e||null}},od=class extends Error{constructor(e){super(),this.urlTree=e}};function Ho(t){return co(new Da(t))}function Yk(t){return co(new $(4e3,!1))}function Jk(t){return co(Fb(!1,Gt.GuardRejected))}var Eg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return z(i);if(r.numberOfChildren>1||!r.children[te])return Yk(e.redirectTo);r=r.children[te]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new od(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Fi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new be(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new $(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zk(t,e,n,i,r){let o=Pg(t,e,n);return o.matched?(i=xk(e,i),Qk(i,e,n,r).pipe(ee(s=>s===!0?o:M({},Ig)))):z(o)}function Pg(t,e,n){if(e.path==="**")return Xk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?M({},Ig):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Q2)(n,t,e);if(!r)return M({},Ig);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?M(M({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Xk(t){return{matched:!0,parameters:t.length>0?yb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function pb(t,e,n,i){return n.length>0&&nF(t,n,i)?{segmentGroup:new be(e,tF(i,new be(n,t.children))),slicedSegments:[]}:n.length===0&&iF(t,n,i)?{segmentGroup:new be(t.segments,eF(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function eF(t,e,n,i){let r={};for(let o of n)if(cd(t,e,o)&&!i[Ln(o)]){let s=new be([],{});r[Ln(o)]=s}return M(M({},i),r)}function tF(t,e){let n={};n[te]=e;for(let i of t)if(i.path===""&&Ln(i)!==te){let r=new be([],{});n[Ln(i)]=r}return n}function nF(t,e,n){return n.some(i=>cd(t,e,i)&&Ln(i)!==te)}function iF(t,e,n){return n.some(i=>cd(t,e,i))}function cd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function rF(t,e,n,i){return Ln(t)!==i&&(i===te||!cd(e,n,t))?!1:Pg(e,t,n).matched}function oF(t,e,n){return e.length===0&&!t.children[n]}var bg=class{};function sF(t,e,n,i,r,o,s="emptyOnly"){return new Tg(t,e,n,i,r,s,o).recognize()}var aF=31,Tg=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Eg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=pb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(n=>{let i=new ba([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),r=new qt(i,n),o=new id("",r),s=pk(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,te).pipe(yi(i=>{if(i instanceof od)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Da?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=xg(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(ee(o=>o instanceof qt?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return ke(r).pipe(Yn(o=>{let s=i.children[o],a=Sk(n,o);return this.processSegmentGroup(e,a,s,o)}),vf((o,s)=>(o.push(...s),o)),vi(null),yf(),He(o=>{if(o===null)return Ho(i);let s=Ub(o);return cF(s),z(s)}))}processSegment(e,n,i,r,o,s){return ke(n).pipe(Yn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,o,s).pipe(yi(c=>{if(c instanceof Da)return z(null);throw c}))),xn(a=>!!a),yi(a=>{if(Lb(a))return oF(i,r,o)?z(new bg):Ho(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,o,s,a){return rF(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):Ho(r):Ho(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Pg(n,r,o);if(!a)return Ho(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aF&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,p).pipe(He(y=>this.processSegment(e,i,n,y.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=Zk(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(Mt(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Mt(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:p,parameters:y}=a,v=new ba(u,y,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,uF(i),Ln(i),i.component??i._loadedComponent??null,i,dF(i)),{segmentGroup:D,slicedSegments:x}=pb(n,u,p,c);if(x.length===0&&D.hasChildren())return this.processChildren(l,c,D).pipe(ee(F=>F===null?null:new qt(v,F)));if(c.length===0&&x.length===0)return z(new qt(v,[]));let A=Ln(i)===o;return this.processSegment(l,c,D,x,A?te:o,!0).pipe(ee(F=>new qt(v,F instanceof qt?[F]:[])))}))):Ho(n)))}getChildConfig(e,n,i){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):Kk(e,n,i,this.urlSerializer).pipe(He(r=>r?this.configLoader.loadChildren(e,n).pipe(ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Jk(n))):z({routes:[],injector:e})}};function cF(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function lF(t){let e=t.value.routeConfig;return e&&e.path===""}function Ub(t){let e=[],n=new Set;for(let i of t){if(!lF(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=Ub(i.children);e.push(new qt(i.value,r))}return e.filter(i=>!n.has(i))}function uF(t){return t.data||{}}function dF(t){return t.resolve||{}}function hF(t,e,n,i,r,o){return He(s=>sF(t,e,n,i,s.extractedUrl,r,o).pipe(ee(({state:a,tree:c})=>Y(M({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function fF(t,e){return He(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return z(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Bb(c))s.add(l);let a=0;return ke(s).pipe(Yn(c=>o.has(c)?pF(c,i,t,e):(c.data=xg(c,c.parent,t).resolve,z(void 0))),ze(()=>a++),ho(1),He(c=>a===s.size?z(n):jt))})}function Bb(t){let e=t.children.map(n=>Bb(n)).flat();return[t,...e]}function pF(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!Nb(r)&&(o[Sa]=r.title),mF(o,t,e,i).pipe(ee(s=>(t._resolvedData=s,t.data=xg(t,t.parent,n).resolve,null)))}function mF(t,e,n,i){let r=ng(t);if(r.length===0)return z({});let o={};return ke(r).pipe(He(s=>gF(t[s],e,n,i).pipe(xn(),ze(a=>{o[s]=a}))),ho(1),_f(o),yi(s=>Lb(s)?jt:co(s)))}function gF(t,e,n,i){let r=Pa(e)??i,o=Xo(t,r),s=o.resolve?o.resolve(e,n):gn(r,()=>o(e,n));return Ui(s)}function eg(t){return Mt(e=>{let n=t(e);return n?ke(n).pipe(ee(()=>e)):z(e)})}var $b=(()=>{class t{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===te);return i}getResolvedTitleForRoute(n){return n.data[Sa]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>R(_F),providedIn:"root"})}}return t})(),_F=(()=>{class t extends $b{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(B(wI))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Na=new U("",{providedIn:"root",factory:()=>({})}),xa=new U(""),Rg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(au)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Ui(n.loadComponent()).pipe(ee(qb),ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),or(()=>{this.componentLoaders.delete(n)})),r=new ro(i,()=>new wt).pipe(io());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=yF(i,this.compiler,n,this.onLoadEndListener).pipe(or(()=>{this.childrenLoaders.delete(i)})),s=new ro(o,()=>new wt).pipe(io());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yF(t,e,n,i){return Ui(t.loadChildren()).pipe(ee(qb),He(r=>r instanceof zs||Array.isArray(r)?z(r):ke(e.compileModuleAsync(r))),ee(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(xa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Mg),injector:o}}))}function vF(t){return t&&typeof t=="object"&&"default"in t}function qb(t){return vF(t)?t.default:t}var Ng=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>R(wF),providedIn:"root"})}}return t})(),wF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Gb=new U(""),Hb=new U("");function CF(t,e,n){let i=t.get(Hb),r=t.get(mt);return t.get(Ie).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),EF(t))),{onViewTransitionCreated:c}=i;return c&&gn(t,()=>c({transition:a,from:e,to:n})),s})}function EF(t){return new Promise(e=>{iu(e,{injector:t})})}var Og=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.transitionAbortSubject=new wt,this.configLoader=R(Rg),this.environmentInjector=R(ht),this.urlSerializer=R(Aa),this.rootContexts=R(Ma),this.location=R(ko),this.inputBindingEnabled=R(ad,{optional:!0})!==null,this.titleStrategy=R($b),this.options=R(Na,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(Ng),this.createViewTransition=R(Gb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let n=r=>this.events.next(new ug(r)),i=r=>this.events.next(new dg(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Y(M(M({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new ot({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_a,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),ee(o=>Y(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Mt(o=>{let s=!1,a=!1;return z(o).pipe(Mt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Gt.SupersededByNewNavigation),jt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Y(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let p="";return this.events.next(new Li(c.id,this.urlSerializer.serialize(c.rawUrl),p,Zu.IgnoredSameUrlNavigation)),c.resolve(null),jt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return z(c).pipe(Mt(p=>{let y=this.transitions?.getValue();return this.events.next(new Jo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?jt:Promise.resolve(p)}),hF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Y(M({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new Xu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:y,source:v,restoredState:D,extras:x}=c,A=new Jo(p,this.urlSerializer.serialize(y),v,D);this.events.next(A);let F=Pb(this.rootComponentType).snapshot;return this.currentTransition=o=Y(M({},c),{targetSnapshot:F,urlAfterRedirects:y,extras:Y(M({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,z(o)}else{let p="";return this.events.next(new Li(c.id,this.urlSerializer.serialize(c.extractedUrl),p,Zu.IgnoredByUrlHandlingStrategy)),c.resolve(null),jt}}),ze(c=>{let l=new sg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ee(c=>(this.currentTransition=o=Y(M({},c),{guards:Mk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Uk(this.environmentInjector,c=>this.events.next(c)),ze(c=>{if(o.guardsResult=c.guardsResult,Yo(c.guardsResult))throw kb(this.urlSerializer,c.guardsResult);let l=new ag(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),At(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Gt.GuardRejected),!1)),eg(c=>{if(c.guards.canActivateChecks.length)return z(c).pipe(ze(l=>{let u=new cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Mt(l=>{let u=!1;return z(l).pipe(fF(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Gt.NoDataFromResolver)}}))}),ze(l=>{let u=new lg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),eg(c=>{let l=u=>{let p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(ze(y=>{u.component=y}),ee(()=>{})));for(let y of u.children)p.push(...l(y));return p};return ks(l(c.targetSnapshot.root)).pipe(vi(null),Jn(1))}),eg(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?ke(u).pipe(ee(()=>o)):z(o)}),ee(c=>{let l=Ek(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Y(M({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ze(()=>{this.events.next(new Ea)}),Ak(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Jn(1),ze({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Cf(this.transitionAbortSubject.pipe(ze(c=>{throw c}))),or(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Gt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),yi(c=>{if(a=!0,Vb(c))this.events.next(new Vi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Tk(c)?this.events.next(new Ia(c.url)):o.resolve(!1);else{this.events.next(new Ca(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return jt}))}))}cancelNavigationTransition(n,i,r){let o=new Vi(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function IF(t){return t!==_a}var bF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>R(TF),providedIn:"root"})}}return t})(),Dg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},TF=(()=>{class t extends Dg{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=en(t)))(r||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:()=>R(DF),providedIn:"root"})}}return t})(),DF=(()=>{class t extends zb{constructor(){super(...arguments),this.location=R(ko),this.urlSerializer=R(Aa),this.options=R(Na,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(Ng),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Pb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Jo)this.stateMemento=this.createStateMemento();else if(n instanceof Li)this.rawUrlTree=i.initialUrl;else if(n instanceof Xu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else n instanceof Ea?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Vi&&(n.code===Gt.GuardRejected||n.code===Gt.NoDataFromResolver)?this.restoreHistory(i):n instanceof Ca?this.restoreHistory(i,!0):n instanceof ci&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=M(M({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=M(M({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=en(t)))(r||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ma=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ma||{});function Wb(t,e){t.events.pipe(At(n=>n instanceof ci||n instanceof Vi||n instanceof Ca||n instanceof Li),ee(n=>n instanceof ci||n instanceof Li?ma.COMPLETE:(n instanceof Vi?n.code===Gt.Redirect||n.code===Gt.SupersededByNewNavigation:!1)?ma.REDIRECTING:ma.FAILED),At(n=>n!==ma.REDIRECTING),Jn(1)).subscribe(()=>{e()})}function xF(t){throw t}var SF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ji=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(ou),this.stateManager=R(zb),this.options=R(Na,{optional:!0})||{},this.pendingTasks=R(Po),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(Og),this.urlSerializer=R(Aa),this.location=R(ko),this.urlHandlingStrategy=R(Ng),this._events=new wt,this.errorHandler=this.options.errorHandler||xF,this.navigated=!1,this.routeReuseStrategy=R(bF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(xa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(ad,{optional:!0}),this.eventsSubscription=new $e,this.isNgZoneEnabled=R(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Vi&&i.code!==Gt.Redirect&&i.code!==Gt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ci)this.navigated=!0;else if(i instanceof Ia){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||IF(r.source)};this.scheduleNavigation(s,_a,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}PF(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_a,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=M({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Mg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,u=null;switch(a){case"merge":u=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let y=r?r.snapshot:this.routerState.snapshot.root;p=xb(y)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return Sb(p,n,u,l??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Yo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,_a,null,i)}navigate(n,i={skipLocationChange:!1}){return MF(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=M({},SF):i===!1?r=M({},AF):r=i,Yo(n))return lb(this.currentUrlTree,n,r);let o=this.parseUrl(n);return lb(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,c=y});let u=this.pendingTasks.add();return Wb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function MF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function PF(t){return!(t instanceof Ea)&&!(t instanceof Ia)}var sd=class{};var RF=(()=>{class t{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(At(n=>n instanceof ci),Yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=ru(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ke(r).pipe(lo())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=z(null);let o=r.pipe(He(s=>s===null?z(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ke([o,s]).pipe(lo())}else return o})}static{this.\u0275fac=function(i){return new(i||t)(B(ji),B(au),B(ht),B(sd),B(Rg))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Kb=new U(""),NF=(()=>{class t{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=R(ht),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Jo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ci?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Li&&n.code===Zu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ed&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),iu(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new ed(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){nE()}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function Qb(t,...e){return So([{provide:xa,multi:!0,useValue:t},[],{provide:li,useFactory:Yb,deps:[ji]},{provide:Xs,multi:!0,useFactory:Jb},e.map(n=>n.\u0275providers)])}function Yb(t){return t.routerState.root}function Oa(t,e){return{\u0275kind:t,\u0275providers:e}}function Jb(){let t=R(kt);return e=>{let n=t.get(No);if(e!==n.components[0])return;let i=t.get(ji),r=t.get(Zb);t.get(kg)===1&&i.initialNavigation(),t.get(Xb,null,ie.Optional)?.setUpPreloading(),t.get(Kb,null,ie.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Zb=new U("",{factory:()=>new wt}),kg=new U("",{providedIn:"root",factory:()=>1});function OF(){return Oa(2,[{provide:kg,useValue:0},{provide:su,multi:!0,deps:[kt],useFactory:e=>{let n=e.get(KE,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(ji),o=e.get(Zb);Wb(r,()=>{i(!0)}),e.get(Og).afterPreactivation=()=>(i(!0),o.closed?z(void 0):o),r.initialNavigation()}))}}])}function kF(){return Oa(3,[{provide:su,multi:!0,useFactory:()=>{let e=R(ji);return()=>{e.setUpLocationChangeListener()}}},{provide:kg,useValue:2}])}var Xb=new U("");function FF(t){return Oa(0,[{provide:Xb,useExisting:RF},{provide:sd,useExisting:t}])}function VF(){return Oa(8,[fb,{provide:ad,useExisting:fb}])}function LF(t){let e=[{provide:Gb,useValue:CF},{provide:Hb,useValue:M({skipNextTransition:!!t?.skipInitialTransition},t)}];return Oa(9,e)}var mb=new U("ROUTER_FORROOT_GUARD"),jF=[ko,{provide:Aa,useClass:va},ji,Ma,{provide:li,useFactory:Yb,deps:[ji]},Rg,[]],eT=(()=>{class t{constructor(n){}static forRoot(n,i){return{ngModule:t,providers:[jF,[],{provide:xa,multi:!0,useValue:n},{provide:mb,useFactory:qF,deps:[[ji,new Zt,new Dp]]},{provide:Na,useValue:i||{}},i?.useHash?BF():$F(),UF(),i?.preloadingStrategy?FF(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?GF(i):[],i?.bindToComponentInputs?VF().\u0275providers:[],i?.enableViewTransitions?LF().\u0275providers:[],HF()]}}static forChild(n){return{ngModule:t,providers:[{provide:xa,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||t)(B(mb,8))}}static{this.\u0275mod=Nt({type:t})}static{this.\u0275inj=Rt({})}}return t})();function UF(){return{provide:Kb,useFactory:()=>{let t=R(nI),e=R(Ie),n=R(Na),i=R(Og),r=R(Aa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new NF(r,i,t,e,n)}}}function BF(){return{provide:wr,useClass:YE}}function $F(){return{provide:wr,useClass:vm}}function qF(t){return"guarded"}function GF(t){return[t.initialNavigation==="disabled"?kF().\u0275providers:[],t.initialNavigation==="enabledBlocking"?OF().\u0275providers:[]]}var gb=new U("");function HF(){return[{provide:gb,useFactory:Jb},{provide:Xs,multi:!0,useExisting:gb}]}function zF(t,e){if(t&1&&(h(0,"option",12),m(1),f()),t&2){let n=e.$implicit;_("value",n),d(),N(" ",n," ")}}function WF(t,e){if(t&1&&(h(0,"option",12),m(1),f()),t&2){let n=e.$implicit;_("value",n),d(),N(" ",n," ")}}function KF(t,e){if(t&1){let n=O();h(0,"div",19)(1,"div",20)(2,"div",21)(3,"h6",22),b(4,"i",23),m(5,"Nouvelle Comp\xE9tition "),f()(),h(6,"div",24)(7,"div",25)(8,"div",26)(9,"label",27),m(10,"Nom de la comp\xE9tition *"),f(),h(11,"input",28),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.competitionForm.name,r)||(o.competitionForm.name=r),C(r)}),f()(),h(12,"div",26)(13,"label",29),m(14,"Type"),f(),h(15,"select",30),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.competitionForm.type,r)||(o.competitionForm.type=r),C(r)}),T(16,WF,2,2,"option",13),f()(),h(17,"div",26)(18,"label",31),m(19,"Saison (lecture seule)"),f(),h(20,"input",32),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.competitionForm.season,r)||(o.competitionForm.season=r),C(r)}),f()()(),h(21,"div",33)(22,"label",34),m(23,"Description"),f(),h(24,"textarea",35),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.competitionForm.description,r)||(o.competitionForm.description=r),C(r)}),f()(),h(25,"div",36)(26,"button",37),I("click",function(){w(n);let r=g();return C(r.submitForm())}),b(27,"i",38),m(28,"Cr\xE9er "),f(),h(29,"button",17),I("click",function(){w(n);let r=g();return C(r.cancelForm())}),b(30,"i",18),m(31,"Annuler "),f()()()()()}if(t&2){let n=g();d(11),fe("ngModel",n.competitionForm.name),d(4),fe("ngModel",n.competitionForm.type),d(),_("ngForOf",n.competitionTypes),d(4),fe("ngModel",n.competitionForm.season),d(4),fe("ngModel",n.competitionForm.description)}}function QF(t,e){if(t&1&&(h(0,"option",12),m(1),f()),t&2){let n=e.$implicit;_("value",n),d(),N(" ",n," ")}}function YF(t,e){if(t&1){let n=O();h(0,"div",19)(1,"div",20)(2,"div",39)(3,"h6",22),b(4,"i",40),m(5,"Modifier la Comp\xE9tition "),f()(),h(6,"div",24)(7,"div",25)(8,"div",26)(9,"label",41),m(10,"Nom de la comp\xE9tition *"),f(),h(11,"input",42),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.competitionForm.name,r)||(o.competitionForm.name=r),C(r)}),f()(),h(12,"div",26)(13,"label",43),m(14,"Type"),f(),h(15,"select",44),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.competitionForm.type,r)||(o.competitionForm.type=r),C(r)}),T(16,QF,2,2,"option",13),f()(),h(17,"div",26)(18,"label",45),m(19,"Saison (lecture seule)"),f(),h(20,"input",46),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.competitionForm.season,r)||(o.competitionForm.season=r),C(r)}),f()()(),h(21,"div",33)(22,"label",47),m(23,"Description"),f(),h(24,"textarea",48),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.competitionForm.description,r)||(o.competitionForm.description=r),C(r)}),f()(),h(25,"div",36)(26,"button",49),I("click",function(){w(n);let r=g();return C(r.submitForm())}),b(27,"i",38),m(28,"Mettre \xE0 jour "),f(),h(29,"button",17),I("click",function(){w(n);let r=g();return C(r.cancelForm())}),b(30,"i",18),m(31,"Annuler "),f()()()()()}if(t&2){let n=g();d(11),fe("ngModel",n.competitionForm.name),d(4),fe("ngModel",n.competitionForm.type),d(),_("ngForOf",n.competitionTypes),d(4),fe("ngModel",n.competitionForm.season),d(4),fe("ngModel",n.competitionForm.description)}}function JF(t,e){if(t&1&&(h(0,"span",75),b(1,"i",76),m(2),f()),t&2){let n=g(2).$implicit,i=g(2);d(2),N("",i.getSuggestedSeason(n)," ")}}function ZF(t,e){if(t&1&&(h(0,"span",72),b(1,"i",73),m(2,"Sans saison "),T(3,JF,3,1,"span",74),f()),t&2){let n=g().$implicit,i=g(2);d(3),_("ngIf",i.getSuggestedSeason(n))}}function XF(t,e){if(t&1){let n=O();h(0,"button",77),I("click",function(){w(n);let r=g().$implicit,o=g(2);return C(o.openSeasonAssignment(r))}),b(1,"i",78),f()}}function eV(t,e){if(t&1){let n=O();h(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54)(4,"input",63),I("change",function(){let r=w(n).$implicit,o=g(2);return C(o.selectCompetition(r))}),f(),h(5,"label",64)(6,"span",65),m(7),f(),T(8,ZF,4,1,"span",66),f()()(),h(9,"div",58),T(10,XF,2,0,"button",67),h(11,"button",68),I("click",function(){let r=w(n).$implicit,o=g(2);return C(o.openEditForm(r))}),b(12,"i",69),f(),h(13,"button",70),I("click",function(){let r=w(n).$implicit,o=g(2);return C(o.deleteCompetition(r))}),b(14,"i",71),f()()()()}if(t&2){let n=e.$implicit,i=g(2);d(4),_("value",n)("checked",i.selectedCompetition===n)("id","comp-"+n),d(3),ne(n),d(),_("ngIf",i.isCompetitionWithoutSeason(n)),d(2),_("ngIf",i.isCompetitionWithoutSeason(n))}}function tV(t,e){t&1&&(h(0,"div",79)(1,"div",80),b(2,"i",81),h(3,"p"),m(4,"Aucune comp\xE9tition trouv\xE9e pour cette saison."),f(),h(5,"p"),m(6,"Cr\xE9ez votre premi\xE8re comp\xE9tition !"),f()()())}function nV(t,e){if(t&1){let n=O();h(0,"button",82),I("click",function(){w(n);let r=g(2);return C(r.openAddForm())}),b(1,"i",23),m(2," Ajouter une nouvelle comp\xE9tition "),f()}}function iV(t,e){if(t&1){let n=O();h(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53)(4,"div",54)(5,"input",55),I("change",function(){w(n);let r=g();return C(r.selectCompetition(""))}),f(),h(6,"label",56)(7,"span",57),m(8),f()()()(),b(9,"div",58),f()(),T(10,eV,15,6,"div",59)(11,tV,7,0,"div",60),h(12,"div",61),T(13,nV,3,0,"button",62),f()()}if(t&2){let n=g();d(5),_("value","")("checked",n.selectedCompetition===""||n.selectedCompetition===n.selectedSeason),d(3),N("Toutes les comp\xE9titions de ",n.selectedSeason||"toutes les saisons",""),d(2),_("ngForOf",n.competitions),d(),_("ngIf",n.competitions.length===0),d(2),_("ngIf",!n.showAddForm&&!n.showEditForm)}}var nT=(()=>{class t{constructor(){this.competitions=[],this.selectedSeason="",this.selectedCompetition="",this.isCompetitionWithoutSeason=()=>!1,this.getSuggestedSeason=()=>null,this.availableSeasons=[],this.competitionSelected=new Fe,this.competitionAdded=new Fe,this.competitionUpdated=new Fe,this.competitionDeleted=new Fe,this.assignSeason=new Fe,this.closeModal=new Fe,this.seasonChanged=new Fe,this.showAddForm=!1,this.showEditForm=!1,this.editingCompetition=null,this.competitionForm={name:"",description:"",season:"",type:""},this.competitionTypes=["Championnat","Coupe","Tournoi","Match amical","Playoff","Autre"]}ngOnInit(){(!this.availableSeasons||this.availableSeasons.length===0)&&(this.availableSeasons=this.generateSeasons()),this.competitionForm.season=this.selectedSeason}generateSeasons(){let n=new Date().getFullYear(),i=[];for(let r=-5;r<=2;r++){let o=n+r;o>=2020&&i.push(`${o}-${o+1}`)}return i}selectCompetition(n){this.selectedCompetition=n,n===""?this.competitionSelected.emit(this.selectedSeason):this.competitionSelected.emit(n),this.closeModal.emit()}openAddForm(){this.showAddForm=!0,this.showEditForm=!1,this.resetForm()}openEditForm(n){this.editingCompetition={name:n,season:this.selectedSeason},this.competitionForm=M({},this.editingCompetition),this.showEditForm=!0,this.showAddForm=!1}cancelForm(){this.showAddForm=!1,this.showEditForm=!1,this.resetForm()}submitForm(){this.competitionForm.name.trim()&&(this.showAddForm?this.competitionAdded.emit(Y(M({},this.competitionForm),{createdAt:new Date,updatedAt:new Date})):this.showEditForm&&this.editingCompetition&&this.competitionUpdated.emit({oldName:this.editingCompetition.name,newCompetition:Y(M({},this.competitionForm),{id:this.editingCompetition.id,updatedAt:new Date})}),this.cancelForm())}deleteCompetition(n){confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la comp\xE9tition "${n}" ?

Attention : Cette action supprimera \xE9galement tous les matchs associ\xE9s.`)&&this.competitionDeleted.emit(n)}assignSeasonToCompetition(n,i){this.assignSeason.emit({competition:n,season:i})}openSeasonAssignment(n){let i=this.getSuggestedSeason(n),r=`Attribuer une saison \xE0 la comp\xE9tition "${n}"

`;i&&(r+=`Saison sugg\xE9r\xE9e (bas\xE9e sur le premier match) : ${i}

`),r+=`Saisons disponibles :
${this.availableSeasons.join(`
`)}

Entrez la saison souhait\xE9e :`;let o=prompt(r);o&&this.availableSeasons.includes(o)?this.assignSeasonToCompetition(n,o):o&&alert("Saison invalide. Veuillez choisir une saison de la liste.")}resetForm(){this.competitionForm={name:"",description:"",season:this.selectedSeason,type:"Championnat"},this.editingCompetition=null}close(){this.closeModal.emit()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=xi({type:t,selectors:[["app-competition-filter-modal"]],inputs:{competitions:"competitions",selectedSeason:"selectedSeason",selectedCompetition:"selectedCompetition",isCompetitionWithoutSeason:"isCompetitionWithoutSeason",getSuggestedSeason:"getSuggestedSeason",availableSeasons:"availableSeasons"},outputs:{competitionSelected:"competitionSelected",competitionAdded:"competitionAdded",competitionUpdated:"competitionUpdated",competitionDeleted:"competitionDeleted",assignSeason:"assignSeason",closeModal:"closeModal",seasonChanged:"seasonChanged"},standalone:!0,features:[Mi],decls:25,vars:6,consts:[[1,"modal-overlay"],[1,"competition-modal"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-trophy","me-2"],["type","button","aria-label","Fermer",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"season-selector","mb-4","d-flex","align-items-center"],["for","seasonSelect",1,"form-label","fw-bold","mb-0","me-3"],[1,"fas","fa-calendar-alt","me-2"],["id","seasonSelect",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","competition-form mb-4",4,"ngIf"],["class","competitions-list",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],[1,"competition-form","mb-4"],[1,"card"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"fas","fa-plus","me-2"],[1,"card-body"],[1,"row"],[1,"col-md-6","mb-3"],["for","compName",1,"form-label"],["type","text","id","compName","placeholder","Ex: Ligue 1, Coupe de France...",1,"form-control",3,"ngModelChange","ngModel"],["for","compType",1,"form-label"],["id","compType",1,"form-select",3,"ngModelChange","ngModel"],["for","compSeason",1,"form-label"],["type","text","id","compSeason","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],["for","compDescription",1,"form-label"],["id","compDescription","rows","2","placeholder","Description optionnelle de la comp\xE9tition...",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-save","me-2"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-edit","me-2"],["for","editCompName",1,"form-label"],["type","text","id","editCompName","placeholder","Ex: Ligue 1, Coupe de France...",1,"form-control",3,"ngModelChange","ngModel"],["for","editCompType",1,"form-label"],["id","editCompType",1,"form-select",3,"ngModelChange","ngModel"],["for","editCompSeason",1,"form-label"],["type","text","id","editCompSeason","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","editCompDescription",1,"form-label"],["id","editCompDescription","rows","2","placeholder","Description optionnelle de la comp\xE9tition...",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"competitions-list"],[1,"competition-item","mb-2"],[1,"competition-card"],[1,"competition-info"],[1,"form-check"],["type","radio","id","allCompetitions",1,"form-check-input",3,"change","value","checked"],["for","allCompetitions",1,"form-check-label"],[1,"badge","bg-secondary"],[1,"competition-actions"],["class","competition-item mb-2",4,"ngFor","ngForOf"],["class","no-competitions",4,"ngIf"],[1,"add-competition-section","mt-4"],["type","button","class","btn btn-success w-100",3,"click",4,"ngIf"],["type","radio",1,"form-check-input",3,"change","value","checked","id"],["for","'comp-' + competition",1,"form-check-label"],[1,"badge","competition-badge"],["class","badge bg-warning ms-2",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-warning","title","Attribuer une saison",3,"click",4,"ngIf"],["type","button","title","Modifier la comp\xE9tition",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["type","button","title","Supprimer la comp\xE9tition",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[1,"badge","bg-warning","ms-2"],[1,"fas","fa-exclamation-triangle","me-1"],["class","badge bg-info ms-1",4,"ngIf"],[1,"badge","bg-info","ms-1"],[1,"fas","fa-lightbulb","me-1"],["type","button","title","Attribuer une saison",1,"btn","btn-sm","btn-outline-warning",3,"click"],[1,"fas","fa-calendar-plus"],[1,"no-competitions"],[1,"text-center","text-muted","py-4"],[1,"fas","fa-trophy","fa-3x","mb-3"],["type","button",1,"btn","btn-success","w-100",3,"click"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),b(4,"i",4),m(5," Gestion des Comp\xE9titions "),f(),h(6,"button",5),I("click",function(){return r.close()}),h(7,"span",6),m(8,"\xD7"),f()()(),h(9,"div",7)(10,"div",8)(11,"label",9),b(12,"i",10),m(13,"Saison : "),f(),h(14,"select",11),pe("ngModelChange",function(s){return _e(r.selectedSeason,s)||(r.selectedSeason=s),s}),I("ngModelChange",function(s){return r.seasonChanged.emit(s)}),h(15,"option",12),m(16,"Toutes les saisons"),f(),T(17,zF,2,2,"option",13),f()(),T(18,KF,32,5,"div",14)(19,YF,32,5,"div",14)(20,iV,14,6,"div",15),f(),h(21,"div",16)(22,"button",17),I("click",function(){return r.close()}),b(23,"i",18),m(24,"Fermer "),f()()()()),i&2&&(d(14),fe("ngModel",r.selectedSeason),d(),_("value",""),d(2),_("ngForOf",r.availableSeasons),d(),_("ngIf",r.showAddForm),d(),_("ngIf",r.showEditForm),d(),_("ngIf",!r.showAddForm&&!r.showEditForm))},dependencies:[Cr,Fo,Vo,Gu,$u,qu,$o,Go,Uu,ha],styles:[".competition-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:800px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.5rem;border-bottom:none}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.season-selector[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}.season-selector[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#495057}.season-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #dee2e6;border-radius:8px;padding:.5rem;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.season-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.add-competition-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:1rem;font-size:1.1rem;font-weight:600;border-radius:10px;transition:all .3s ease;box-shadow:0 4px 15px #28a7454d}.add-competition-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #28a74566}.competition-form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 4px 20px #0000001a;overflow:hidden}.competition-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:none}.competition-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-weight:600}.competition-form[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.competition-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin-bottom:.5rem}.competition-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .competition-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:8px;padding:.75rem;transition:border-color .3s ease,box-shadow .3s ease}.competition-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .competition-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.competition-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;border-radius:8px;transition:all .3s ease}.competition-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.competitions-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.competition-item[_ngcontent-%COMP%]{transition:all .3s ease}.competition-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.competition-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.competition-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0}.competition-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.competition-badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem;border-radius:20px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}.badge.bg-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#495057)!important}.form-check[_ngcontent-%COMP%]{margin-bottom:0}.form-check-input[_ngcontent-%COMP%]{width:1.2em;height:1.2em;margin-top:.1em;cursor:pointer}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#667eea;border-color:#667eea}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem;font-weight:500}.no-competitions[_ngcontent-%COMP%]{padding:2rem}.no-competitions[_ngcontent-%COMP%]   .fa-trophy[_ngcontent-%COMP%]{color:#dee2e6}.no-competitions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1.1rem}@media (max-width: 768px){.competition-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.modal-body[_ngcontent-%COMP%], .competition-form[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.competition-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;text-align:left;min-height:55px}.competition-actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-end;gap:.5rem;flex-shrink:0}.competition-info[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.competition-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}@media (max-width: 480px){.competition-card[_ngcontent-%COMP%]{flex-direction:row;text-align:left;min-height:50px;padding:.75rem}.competition-actions[_ngcontent-%COMP%]{justify-content:flex-end;width:auto;gap:.4rem}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.competition-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.competition-form[_ngcontent-%COMP%], .competitions-list[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1040;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]})}}return t})();var rT=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},rV=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],a=t[n++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},oT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,a=s?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,v=l&63;c||(v=64,s||(y=64)),i.push(n[u],n[p],n[y],n[v])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let p=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||a==null||l==null||p==null)throw new Vg;let y=o<<2|a>>4;if(i.push(y),l!==64){let v=a<<4&240|l>>2;if(i.push(v),p!==64){let D=l<<6&192|p;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Vg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},oV=function(t){let e=rT(t);return oT.encodeByteArray(e,!0)},ka=function(t){return oV(t).replace(/\./g,"")},jg=function(t){try{return oT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var aV=()=>sV().__FIREBASE_DEFAULTS__,cV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&jg(t[1]);return e&&JSON.parse(e)},Ug=()=>{try{return aV()||cV()||lV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sT=t=>{var e,n;return(n=(e=Ug())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aT=t=>{let e=sT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Bg=()=>{var t;return(t=Ug())===null||t===void 0?void 0:t.config},cT=t=>{var e;return(e=Ug())===null||e===void 0?void 0:e[`_${t}`]};var ld=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function lT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ka(JSON.stringify(n)),ka(JSON.stringify(s)),""].join(".")}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function dT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $g(){try{return typeof indexedDB=="object"}catch{return!1}}function fT(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var uV="FirebaseError",an=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=uV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ui.prototype.create)}},ui=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?dV(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new an(r,a,i)}};function dV(t,e){return t.replace(hV,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var hV=/\{\$([^}]+)}/g;function es(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if(iT(o)&&iT(s)){if(!es(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function iT(t){return t!==null&&typeof t=="object"}function qg(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pT(t,e){let n=new Lg(t,e);return n.subscribe.bind(n)}var Lg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");fV(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Fg),r.error===void 0&&(r.error=Fg),r.complete===void 0&&(r.complete=Fg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function fV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fg(){}var dK=4*60*60*1e3;function Tt(t){return t&&t._delegate?t._delegate:t}var ln=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Dr="[DEFAULT]";var Gg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new ld;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mV(e))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Dr){return this.instances.has(e)}getOptions(e=Dr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pV(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Dr){return this.component?this.component.multipleInstances?e:Dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pV(t){return t===Dr?void 0:t}function mV(t){return t.instantiationMode==="EAGER"}var ud=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Gg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var gV=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),_V={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},yV=ce.INFO,vV={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},wV=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=vV[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Bi=class{constructor(e){this.name=e,this._logLevel=yV,this._logHandler=wV,this._userLogHandler=null,gV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var CV=(t,e)=>e.some(n=>t instanceof n),mT,gT;function EV(){return mT||(mT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IV(){return gT||(gT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var _T=new WeakMap,zg=new WeakMap,yT=new WeakMap,Hg=new WeakMap,Kg=new WeakMap;function bV(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(jn(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&_T.set(n,t)}).catch(()=>{}),Kg.set(e,t),e}function TV(t){if(zg.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});zg.set(t,e)}var Wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vT(t){Wg=t(Wg)}function DV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(dd(this),e,...n);return yT.set(i,e.sort?e.sort():[e]),jn(i)}:IV().includes(t)?function(...e){return t.apply(dd(this),e),jn(_T.get(this))}:function(...e){return jn(t.apply(dd(this),e))}}function xV(t){return typeof t=="function"?DV(t):(t instanceof IDBTransaction&&TV(t),CV(t,EV())?new Proxy(t,Wg):t)}function jn(t){if(t instanceof IDBRequest)return bV(t);if(Hg.has(t))return Hg.get(t);let e=xV(t);return e!==t&&(Hg.set(t,e),Kg.set(e,t)),e}var dd=t=>Kg.get(t);function CT(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),a=jn(s);return i&&s.addEventListener("upgradeneeded",c=>{i(jn(s.result),c.oldVersion,c.newVersion,jn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var SV=["get","getKey","getAll","getAllKeys","count"],AV=["put","add","delete","clear"],Qg=new Map;function wT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qg.get(e))return Qg.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=AV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||SV.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return Qg.set(e,o),o}vT(t=>Y(M({},t),{get:(e,n,i)=>wT(e,n)||t.get(e,n,i),has:(e,n)=>!!wT(e,n)||t.has(e,n)}));var Jg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MV(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function MV(t){let e=t.getComponent();return e?.type==="VERSION"}var Zg="@firebase/app",ET="0.9.24";var xr=new Bi("@firebase/app"),PV="@firebase/app-compat",RV="@firebase/analytics-compat",NV="@firebase/analytics",OV="@firebase/app-check-compat",kV="@firebase/app-check",FV="@firebase/auth",VV="@firebase/auth-compat",LV="@firebase/database",jV="@firebase/database-compat",UV="@firebase/functions",BV="@firebase/functions-compat",$V="@firebase/installations",qV="@firebase/installations-compat",GV="@firebase/messaging",HV="@firebase/messaging-compat",zV="@firebase/performance",WV="@firebase/performance-compat",KV="@firebase/remote-config",QV="@firebase/remote-config-compat",YV="@firebase/storage",JV="@firebase/storage-compat",ZV="@firebase/firestore",XV="@firebase/firestore-compat",eL="firebase",tL="10.7.0";var Xg="[DEFAULT]",nL={[Zg]:"fire-core",[PV]:"fire-core-compat",[NV]:"fire-analytics",[RV]:"fire-analytics-compat",[kV]:"fire-app-check",[OV]:"fire-app-check-compat",[FV]:"fire-auth",[VV]:"fire-auth-compat",[LV]:"fire-rtdb",[jV]:"fire-rtdb-compat",[UV]:"fire-fn",[BV]:"fire-fn-compat",[$V]:"fire-iid",[qV]:"fire-iid-compat",[GV]:"fire-fcm",[HV]:"fire-fcm-compat",[zV]:"fire-perf",[WV]:"fire-perf-compat",[KV]:"fire-rc",[QV]:"fire-rc-compat",[YV]:"fire-gcs",[JV]:"fire-gcs-compat",[ZV]:"fire-fst",[XV]:"fire-fst-compat","fire-js":"fire-js",[eL]:"fire-js-all"};var Fa=new Map,e_=new Map;function iL(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qi(t){let e=t.name;if(e_.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;e_.set(e,t);for(let n of Fa.values())iL(n,t);return!0}function r_(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var rL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$i=new ui("app","Firebase",rL);var t_=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}};var ts=tL;function o_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Xg,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw $i.create("bad-app-name",{appName:String(r)});if(n||(n=Bg()),!n)throw $i.create("no-options");let o=Fa.get(r);if(o){if(es(n,o.options)&&es(i,o.config))return o;throw $i.create("duplicate-app",{appName:r})}let s=new ud(r);for(let c of e_.values())s.addComponent(c);let a=new t_(n,i,s);return Fa.set(r,a),a}function La(t=Xg){let e=Fa.get(t);if(!e&&t===Xg&&Bg())return o_();if(!e)throw $i.create("no-app",{appName:t});return e}function hd(){return Array.from(Fa.values())}function tt(t,e,n){var i;let r=(i=nL[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(a.join(" "));return}qi(new ln(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var oL="firebase-heartbeat-database",sL=1,Va="firebase-heartbeat-store",Yg=null;function DT(){return Yg||(Yg=CT(oL,sL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Va)}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),Yg}function aL(t){return E(this,null,function*(){try{return yield(yield DT()).transaction(Va).objectStore(Va).get(xT(t))}catch(e){if(e instanceof an)xr.warn(e.message);else{let n=$i.create("idb-get",{originalErrorMessage:e?.message});xr.warn(n.message)}}})}function IT(t,e){return E(this,null,function*(){try{let i=(yield DT()).transaction(Va,"readwrite");yield i.objectStore(Va).put(e,xT(t)),yield i.done}catch(n){if(n instanceof an)xr.warn(n.message);else{let i=$i.create("idb-set",{originalErrorMessage:n?.message});xr.warn(i.message)}}})}function xT(t){return`${t.name}!${t.options.appId}`}var cL=1024,lL=30*24*60*60*1e3,n_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new i_(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=lL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=bT(),{heartbeatsToSend:i,unsentEntries:r}=uL(this._heartbeatsCache.heartbeats),o=ka(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function bT(){return new Date().toISOString().substring(0,10)}function uL(t,e=cL){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),TT(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),TT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var i_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return $g()?fT().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield aL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return IT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return IT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function TT(t){return ka(JSON.stringify({version:2,heartbeats:t})).length}function dL(t){qi(new ln("platform-logger",e=>new Jg(e),"PRIVATE")),qi(new ln("heartbeat",e=>new n_(e),"PRIVATE")),tt(Zg,ET,t),tt(Zg,ET,"esm2017"),tt("fire-js","")}dL("");var hL="firebase",fL="10.7.0";tt(hL,fL,"app");var is=new ei("ANGULARFIRE2_VERSION");function a_(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ua=(t,e)=>{let n=e?[e]:hd(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},ja=class{constructor(){return Ua(pL)}},pL="app-check";function ns(){}var fd=class{zone;delegate;constructor(e,n=ff){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},s_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ns,{},ns,ns)),n.pipe(ze({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ba=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new fd(Zone.current)),this.insideAngular=n.run(()=>new fd(Zone.current,hf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(B(Ie))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function mL(t){return pd().ngZone.runOutsideAngular(()=>t())}function Sr(t){return pd().ngZone.run(()=>t())}function gL(t){return _L(pd())(t)}function _L(t){return function(n){return n=n.lift(new s_(t.ngZone)),n.pipe(_i(t.outsideAngular),gi(t.insideAngular))}}var yL=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Sr(()=>t.apply(void 0,i))},Ht=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Sr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ns,{},ns,ns))),i[o]=yL(i[o],n));let r=mL(()=>t.apply(this,i));if(!e)if(r instanceof oe){let o=pd();return r.pipe(_i(o.outsideAngular),gi(o.insideAngular))}else return Sr(()=>r);return r instanceof oe?r.pipe(gL):r instanceof Promise?Sr(()=>new Promise((o,s)=>r.then(a=>Sr(()=>o(a)),a=>Sr(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Sr(()=>r)};var Ar=class{constructor(e){return e}},$a=class{constructor(){return hd()}};function vL(t){return t&&t.length===1?t[0]:new Ar(La())}var c_=new U("angularfire2._apps"),wL={provide:Ar,useFactory:vL,deps:[[new Zt,c_]]},CL={provide:$a,deps:[[new Zt,c_]]};function EL(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Ar(i)}}var IL=(()=>{class t{constructor(n){tt("angularfire",is.full,"core"),tt("angularfire",is.full,"app"),tt("angular",NE.full,n.toString())}static \u0275fac=function(i){return new(i||t)(B(tn))};static \u0275mod=Nt({type:t});static \u0275inj=Rt({providers:[wL,CL]})}return t})();function ST(t,...e){return{ngModule:IL,providers:[{provide:c_,useFactory:EL(t),multi:!0,deps:[Ie,kt,Ba,...e]}]}}var AT=Ht(o_,!0);function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VT=FT,LT=new ui("auth","Firebase",FT());var _d=new Bi("@firebase/auth");function TL(t,...e){_d.logLevel<=ce.WARN&&_d.warn(`Auth (${ts}): ${t}`,...e)}function gd(t,...e){_d.logLevel<=ce.ERROR&&_d.error(`Auth (${ts}): ${t}`,...e)}function MT(t,...e){throw v_(t,...e)}function jT(t,...e){return v_(t,...e)}function DL(t,e,n){let i=Object.assign(Object.assign({},VT()),{[e]:n});return new ui("auth","Firebase",i).create(e,{appName:t.name})}function v_(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return LT.create(t,...e)}function De(t,e,...n){if(!t)throw v_(e,...n)}function qa(t){let e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function yd(t,e){t||qa(e)}function xL(){return PT()==="http:"||PT()==="https:"}function PT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function SL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xL()||dT()||"connection"in navigator)?navigator.onLine:!0}function AL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Pr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,yd(n>e,"Short delay should be less than long delay!"),this.isMobile=uT()||hT()}get(){return SL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ML(t,e){yd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var vd=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var PL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var RL=new Pr(3e4,6e4);function UT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Dd(o,s,a,c){return E(this,arguments,function*(t,e,n,i,r={}){return BT(t,r,()=>E(this,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let p=qg(Object.assign({key:t.config.apiKey},u)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),vd.fetch()($T(t,t.config.apiHost,n,p),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},l))}))})}function BT(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},PL),e);try{let r=new d_(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw md(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw md(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw md(t,"user-disabled",s);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw DL(t,u,l);MT(t,u)}}catch(r){if(r instanceof an)throw r;MT(t,"network-request-failed",{message:String(r)})}})}function $T(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?ML(t.config,r):`${t.config.apiScheme}://${r}`}var d_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(jT(this.auth,"network-request-failed")),RL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function md(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=jT(t,e,i);return r.customData._tokenResponse=n,r}function NL(t,e){return E(this,null,function*(){return Dd(t,"POST","/v1/accounts:delete",e)})}function OL(t,e){return E(this,null,function*(){return Dd(t,"POST","/v1/accounts:lookup",e)})}function Ga(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function w_(t,e=!1){return E(this,null,function*(){let n=Tt(t),i=yield n.getIdToken(e),r=qT(i);De(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Ga(l_(r.auth_time)),issuedAtTime:Ga(l_(r.iat)),expirationTime:Ga(l_(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function l_(t){return Number(t)*1e3}function qT(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{let r=jg(n);return r?JSON.parse(r):(gd("Failed to decode base64 JWT payload"),null)}catch(r){return gd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function kL(t){let e=qT(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function h_(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof an&&FL(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function FL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var f_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var wd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Cd(t){return E(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield h_(t,OL(n,{idToken:i}));De(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?LL(o.providerUserInfo):[],a=VL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wd(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,p)})}function C_(t){return E(this,null,function*(){let e=Tt(t);yield Cd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function VL(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function LL(t){return t.map(e=>{var{providerId:n}=e,i=pf(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function jL(t,e){return E(this,null,function*(){let n=yield BT(t,{},()=>E(this,null,function*(){let i=qg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=$T(t,r,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vd.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function UL(t,e){return E(this,null,function*(){return Dd(t,"POST","/v2/accounts:revokeToken",UT(t,e))})}var Ed=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return E(this,null,function*(){return De(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield jL(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new t;return i&&(De(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(De(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(De(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qa("not implemented")}};function Gi(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Id=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=pf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield h_(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return w_(this,e)}reload(){return C_(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Cd(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){let e=yield this.getIdToken();return yield h_(this,NL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,a,c,l,u;let p=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ue=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:H,emailVerified:Ee,isAnonymous:Ze,providerData:me,stsTokenManager:dt}=n;De(H&&dt,e,"internal-error");let Dn=Ed.fromJSON(this.name,dt);De(typeof H=="string",e,"internal-error"),Gi(p,e.name),Gi(y,e.name),De(typeof Ee=="boolean",e,"internal-error"),De(typeof Ze=="boolean",e,"internal-error"),Gi(v,e.name),Gi(D,e.name),Gi(x,e.name),Gi(A,e.name),Gi(F,e.name),Gi(ue,e.name);let er=new t({uid:H,auth:e,email:y,emailVerified:Ee,displayName:p,isAnonymous:Ze,photoURL:D,phoneNumber:v,tenantId:x,stsTokenManager:Dn,createdAt:F,lastLoginAt:ue});return me&&Array.isArray(me)&&(er.providerData=me.map(Jr=>Object.assign({},Jr))),A&&(er._redirectEventId=A),er}static _fromIdTokenResponse(e,n,i=!1){return E(this,null,function*(){let r=new Ed;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Cd(o),o})}};var RT=new Map;function Mr(t){yd(t instanceof Function,"Expected a class definition");let e=RT.get(t);return e?(yd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RT.set(t,e),e)}var BL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,i){return E(this,null,function*(){this.storage[n]=i})}_get(n){return E(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),p_=BL;function u_(t,e,n){return`firebase:${t}:${e}:${n}`}var bd=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=u_(this.userKey,r.apiKey,o),this.fullPersistenceKey=u_("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Id._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return E(this,null,function*(){if(!n.length)return new t(Mr(p_),e,i);let r=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Mr(p_),s=u_(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let p=Id._fromJSON(e,u);l!==o&&(a=p),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,i))})}};function NT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($L(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WL(e))return"Blackberry";if(KL(e))return"Webos";if(qL(e))return"Safari";if((e.includes("chrome/")||GL(e))&&!e.includes("edge/"))return"Chrome";if(zL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function $L(t=cn()){return/firefox\//i.test(t)}function qL(t=cn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GL(t=cn()){return/crios\//i.test(t)}function HL(t=cn()){return/iemobile/i.test(t)}function zL(t=cn()){return/android/i.test(t)}function WL(t=cn()){return/blackberry/i.test(t)}function KL(t=cn()){return/webos/i.test(t)}function GT(t,e=[]){let n;switch(t){case"Browser":n=NT(cn());break;case"Worker":n=`${NT(cn())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ts}/${i}`}var m_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function QL(n){return E(this,arguments,function*(t,e={}){return Dd(t,"GET","/v2/passwordPolicy",UT(t,e))})}var YL=6,g_=class{constructor(e){var n,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:YL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var __=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Td(this),this.idTokenSubscription=new Td(this),this.beforeStateQueue=new m_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield bd.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Cd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=AL()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){let n=e?Tt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield QL(this),n=new g_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ui("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield UL(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Mr(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=yield bd.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&TL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function JL(t){return Tt(t)}var Td=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pT(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function ZL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function XL(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Mr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}var oQ=ZL("rcb"),sQ=new Pr(3e4,6e4);var aQ=new Pr(2e3,1e4);var cQ=10*60*1e3;var lQ=new Pr(3e4,6e4);var uQ=new Pr(5e3,15e3);var dQ=encodeURIComponent("fac");var OT="@firebase/auth",kT="1.5.0";var y_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function e3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function t3(t){qi(new ln("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;De(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(t)},l=new __(i,r,o,c);return XL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qi(new ln("auth-internal",e=>{let n=JL(e.getProvider("auth").getImmediate());return(i=>new y_(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(OT,kT,e3(t)),tt(OT,kT,"esm2017")}var n3=5*60,hQ=cT("authIdTokenMaxAge")||n3;t3("Browser");var tj="auth";var xd=class{constructor(){return Ua(tj)}};var nj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cn={},k,q_=q_||{},Q=nj||self;function Bd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ij(t){return Object.prototype.hasOwnProperty.call(t,E_)&&t[E_]||(t[E_]=++rj)}var E_="closure_uid_"+(1e9*Math.random()>>>0),rj=0;function oj(t,e,n){return t.call.apply(t.bind,arguments)}function sj(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt=oj:gt=sj,gt.apply(null,arguments)}function Sd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function it(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Hi(){this.s=this.s,this.o=this.o}var aj=0;Hi.prototype.s=!1;Hi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),aj!=0)&&ij(this)};Hi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var iD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function G_(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function HT(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(Bd(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=i[s]}else t.push(i)}}function _t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var cj=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function Ya(t){return/^[\s\xa0]*$/.test(t)}function $d(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Un(t){return $d().indexOf(t)!=-1}function H_(t){return H_[" "](t),t}H_[" "]=function(){};function lj(t,e){var n=Jj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var uj=Un("Opera"),as=Un("Trident")||Un("MSIE"),rD=Un("Edge"),x_=rD||as,oD=Un("Gecko")&&!($d().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge"))&&!(Un("Trident")||Un("MSIE"))&&!Un("Edge"),dj=$d().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge");function sD(){var t=Q.document;return t?t.documentMode:void 0}var S_;e:{if(Ad="",Md=function(){var t=$d();if(oD)return/rv:([^\);]+)(\)|;)/.exec(t);if(rD)return/Edge\/([\d\.]+)/.exec(t);if(as)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(dj)return/WebKit\/(\S+)/.exec(t);if(uj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Md&&(Ad=Md?Md[1]:""),as&&(Pd=sD(),Pd!=null&&Pd>parseFloat(Ad))){S_=String(Pd);break e}S_=Ad}var Ad,Md,Pd,A_;Q.document&&as?(I_=sD(),A_=I_||parseInt(S_,10)||void 0):A_=void 0;var I_,hj=A_;function Ja(t,e){if(_t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(oD){e:{try{H_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:fj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ja.$.h.call(this)}}it(Ja,_t);var fj={2:"touch",3:"pen",4:"mouse"};Ja.prototype.h=function(){Ja.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oc="closure_listenable_"+(1e6*Math.random()|0),pj=0;function mj(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++pj,this.fa=this.ia=!1}function qd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function z_(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function gj(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function aD(t){let e={};for(let n in t)e[n]=t[n];return e}var zT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cD(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<zT.length;o++)n=zT[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Gd(t){this.src=t,this.g={},this.h=0}Gd.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=P_(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new mj(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function M_(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=iD(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(qd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function P_(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var W_="closure_lm_"+(1e6*Math.random()|0),b_={};function lD(t,e,n,i,r){if(i&&i.once)return dD(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)lD(t,e[o],n,i,r);return null}return n=Y_(n),t&&t[oc]?t.O(e,n,rc(i)?!!i.capture:!!i,r):uD(t,e,n,!1,i,r)}function uD(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=rc(r)?!!r.capture:!!r,a=Q_(t);if(a||(t[W_]=a=new Gd(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=_j(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)cj||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(fD(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _j(){function t(n){return e.call(t.src,t.listener,n)}let e=yj;return t}function dD(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)dD(t,e[o],n,i,r);return null}return n=Y_(n),t&&t[oc]?t.P(e,n,rc(i)?!!i.capture:!!i,r):uD(t,e,n,!0,i,r)}function hD(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)hD(t,e[o],n,i,r);else i=rc(i)?!!i.capture:!!i,n=Y_(n),t&&t[oc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=P_(o,n,i,r),-1<n&&(qd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Q_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=P_(e,n,i,r)),(n=-1<t?e[t]:null)&&K_(n))}function K_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[oc])M_(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(fD(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Q_(e))?(M_(n,t),n.h==0&&(n.src=null,e[W_]=null)):qd(t)}}}function fD(t){return t in b_?b_[t]:b_[t]="on"+t}function yj(t,e){if(t.fa)t=!0;else{e=new Ja(e,this);var n=t.listener,i=t.la||t.src;t.ia&&K_(t),t=n.call(i,e)}return t}function Q_(t){return t=t[W_],t instanceof Gd?t:null}var T_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y_(t){return typeof t=="function"?t:(t[T_]||(t[T_]=function(e){return t.handleEvent(e)}),t[T_])}function nt(){Hi.call(this),this.i=new Gd(this),this.S=this,this.J=null}it(nt,Hi);nt.prototype[oc]=!0;nt.prototype.removeEventListener=function(t,e,n,i){hD(this,t,e,n,i)};function lt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new _t(e,t);else if(e instanceof _t)e.target=e.target||t;else{var r=e;e=new _t(i,t),cD(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=Rd(s,i,!0,e)&&r}if(s=e.g=t,r=Rd(s,i,!0,e)&&r,r=Rd(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=Rd(s,i,!1,e)&&r}nt.prototype.N=function(){if(nt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)qd(n[i]);delete t.g[e],t.h--}}this.J=null};nt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};nt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Rd(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&M_(t.i,s),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var J_=Q.JSON.stringify,R_=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function vj(){var t=Z_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var N_=class{constructor(){this.h=this.g=null}add(e,n){let i=pD.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},pD=new R_(()=>new O_,t=>t.reset()),O_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function wj(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Cj(t){Q.setTimeout(()=>{throw t},0)}var Za,Xa=!1,Z_=new N_,mD=()=>{let t=Q.Promise.resolve(void 0);Za=()=>{t.then(Ej)}},Ej=()=>{for(var t;t=vj();){try{t.h.call(t.g)}catch(n){Cj(n)}var e=pD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xa=!1};function Hd(t,e){nt.call(this),this.h=t||1,this.g=e||Q,this.j=gt(this.qb,this),this.l=Date.now()}it(Hd,nt);k=Hd.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lt(this,"tick"),this.ga&&(X_(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function X_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}k.N=function(){Hd.$.N.call(this),X_(this),delete this.g};function e0(t,e,n){if(typeof t=="function")n&&(t=gt(t,n));else if(t&&typeof t.handleEvent=="function")t=gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function gD(t){t.g=e0(()=>{t.g=null,t.i&&(t.i=!1,gD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var k_=class extends Hi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gD(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ec(t){Hi.call(this),this.h=t,this.g={}}it(ec,Hi);var WT=[];function _D(t,e,n,i){Array.isArray(n)||(n&&(WT[0]=n.toString()),n=WT);for(var r=0;r<n.length;r++){var o=lD(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function yD(t){z_(t.g,function(e,n){this.g.hasOwnProperty(n)&&K_(e)},t),t.g={}}ec.prototype.N=function(){ec.$.N.call(this),yD(this)};ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zd(){this.g=!0}zd.prototype.Ea=function(){this.g=!1};function Ij(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var p=u.split("_");s=2<=p.length&&p[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+s})}function bj(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+s})}function os(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Dj(t,n)+(i?" "+i:"")})}function Tj(t,e){t.info(function(){return"TIMEOUT: "+e})}zd.prototype.info=function(){};function Dj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return J_(n)}catch{return e}}var kr={},KT=null;function Wd(){return KT=KT||new nt}kr.Ta="serverreachability";function vD(t){_t.call(this,kr.Ta,t)}it(vD,_t);function tc(t){let e=Wd();lt(e,new vD(e))}kr.STAT_EVENT="statevent";function wD(t,e){_t.call(this,kr.STAT_EVENT,t),this.stat=e}it(wD,_t);function Dt(t){let e=Wd();lt(e,new wD(e,t))}kr.Ua="timingevent";function CD(t,e){_t.call(this,kr.Ua,t),this.size=e}it(CD,_t);function sc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var Kd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ED={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function t0(){}t0.prototype.h=null;function QT(t){return t.h||(t.h=t.i())}function ID(){}var ac={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function n0(){_t.call(this,"d")}it(n0,_t);function i0(){_t.call(this,"c")}it(i0,_t);var F_;function Qd(){}it(Qd,t0);Qd.prototype.g=function(){return new XMLHttpRequest};Qd.prototype.i=function(){return{}};F_=new Qd;function cc(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new ec(this),this.P=xj,t=x_?125:void 0,this.V=new Hd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bD}function bD(){this.i=null,this.g="",this.h=!1}var xj=45e3,TD={},V_={};k=cc.prototype;k.setTimeout=function(t){this.P=t};function L_(t,e,n){t.L=1,t.A=Jd(hi(e)),t.u=n,t.S=!0,DD(t,null)}function DD(t,e){t.G=Date.now(),lc(t),t.B=hi(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),OD(n.i,"t",i),t.o=0,n=t.l.J,t.h=new bD,t.g=t1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new k_(gt(t.Pa,t,t.g),t.O)),_D(t.U,t.g,"readystatechange",t.nb),e=t.I?aD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),tc(),Ij(t.j,t.v,t.B,t.m,t.W,t.u)}k.nb=function(t){t=t.target;let e=this.M;e&&Bn(t)==3?e.l():this.Pa(t)};k.Pa=function(t){try{if(t==this.g)e:{let u=Bn(this.g);var e=this.g.Ia();let p=this.g.da();if(!(3>u)&&(u!=3||x_||this.g&&(this.h.h||this.g.ja()||XT(this.g)))){this.J||u!=4||e==7||(e==8||0>=p?tc(3):tc(2)),Yd(this);var n=this.g.da();this.ca=n;t:if(xD(this)){var i=XT(this.g);t="";var r=i.length,o=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),Qa(this);var s="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,bj(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ya(a)){var l=a;break t}}l=null}if(n=l)os(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,j_(this,n);else{this.i=!1,this.s=3,Dt(12),Rr(this),Qa(this);break e}}this.S?(SD(this,u,s),x_&&this.i&&u==3&&(_D(this.U,this.V,"tick",this.mb),this.V.start())):(os(this.j,this.m,s,null),j_(this,s)),u==4&&Rr(this),this.i&&!this.J&&(u==4?JD(this.l,this):(this.i=!1,lc(this)))}else Kj(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Rr(this),Qa(this)}}}catch{}finally{}};function xD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function SD(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=Sj(t,n),r==V_){e==4&&(t.s=4,Dt(14),i=!1),os(t.j,t.m,null,"[Incomplete Response]");break}else if(r==TD){t.s=4,Dt(15),os(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else os(t.j,t.m,r,null),j_(t,r);xD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Dt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),l0(e),e.M=!0,Dt(11))):(os(t.j,t.m,n,"[Invalid Chunked Response]"),Rr(t),Qa(t))}k.mb=function(){if(this.g){var t=Bn(this.g),e=this.g.ja();this.o<e.length&&(Yd(this),SD(this,t,e),this.i&&t!=4&&lc(this))}};function Sj(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?V_:(n=Number(e.substring(n,i)),isNaN(n)?TD:(i+=1,i+n>e.length?V_:(e=e.slice(i,i+n),t.o=i+n,e)))}k.cancel=function(){this.J=!0,Rr(this)};function lc(t){t.Y=Date.now()+t.P,AD(t,t.P)}function AD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=sc(gt(t.lb,t),e)}function Yd(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}k.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Tj(this.j,this.B),this.L!=2&&(tc(),Dt(17)),Rr(this),this.s=2,Qa(this)):AD(this,this.Y-t)};function Qa(t){t.l.H==0||t.J||JD(t.l,t)}function Rr(t){Yd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,X_(t.V),yD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function j_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||U_(n.i,t))){if(!t.K&&U_(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Vd(n),eh(n);else break e;c0(n),Dt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=sc(gt(n.ib,n),6e3));if(1>=VD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Nr(n,11)}else if((t.K||n.g==t)&&Vd(n),!Ya(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let p=l[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));let y=l[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let v=t.g;if(v){let D=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var o=i.i;o.g||D.indexOf("spdy")==-1&&D.indexOf("quic")==-1&&D.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(r0(o,o.h),o.h=null))}if(i.F){let x=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.Da=x,Ve(i.I,i.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=e1(i,i.J?i.pa:null,i.Y),s.K){LD(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.C&&(Yd(a),lc(a)),i.g=s}else QD(i);0<n.j.length&&th(n)}else l[0]!="stop"&&l[0]!="close"||Nr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Nr(n,7):a0(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}tc(4)}catch{}}function Aj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Bd(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Mj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function MD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Mj(t),i=Aj(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var PD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Or(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Or){this.h=t.h,kd(this,t.j),this.s=t.s,this.g=t.g,Fd(this,t.m),this.l=t.l;var e=t.i,n=new nc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),YT(this,n),this.o=t.o}else t&&(e=String(t).match(PD))?(this.h=!1,kd(this,e[1]||"",!0),this.s=Wa(e[2]||""),this.g=Wa(e[3]||"",!0),Fd(this,e[4]),this.l=Wa(e[5]||"",!0),YT(this,e[6]||"",!0),this.o=Wa(e[7]||"")):(this.h=!1,this.i=new nc(null,this.h))}Or.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ka(e,JT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ka(e,JT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ka(n,n.charAt(0)=="/"?Oj:Nj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ka(n,Fj)),t.join("")};function hi(t){return new Or(t)}function kd(t,e,n){t.j=n?Wa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function YT(t,e,n){e instanceof nc?(t.i=e,Vj(t.i,t.h)):(n||(e=Ka(e,kj)),t.i=new nc(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function Jd(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ka(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Rj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var JT=/[#\/\?@]/g,Nj=/[#\?:]/g,Oj=/[#\?]/g,kj=/[#\?@]/g,Fj=/#/g;function nc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zi(t){t.g||(t.g=new Map,t.h=0,t.i&&Pj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}k=nc.prototype;k.add=function(t,e){zi(this),this.i=null,t=cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function RD(t,e){zi(t),e=cs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ND(t,e){return zi(t),e=cs(t,e),t.g.has(e)}k.forEach=function(t,e){zi(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};k.ta=function(){zi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};k.Z=function(t){zi(this);let e=[];if(typeof t=="string")ND(this,t)&&(e=e.concat(this.g.get(cs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};k.set=function(t,e){return zi(this),this.i=null,t=cs(this,t),ND(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};k.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function OD(t,e,n){RD(t,e),0<n.length&&(t.i=null,t.g.set(cs(t,e),G_(n)),t.h+=n.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};function cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Vj(t,e){e&&!t.j&&(zi(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(RD(this,i),OD(this,r,n))},t)),t.j=e}var Lj=class{constructor(t,e){this.g=t,this.map=e}};function kD(t){this.l=t||jj,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jj=10;function FD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function VD(t){return t.h?1:t.g?t.g.size:0}function U_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function r0(t,e){t.g?t.g.add(e):t.h=e}function LD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}kD.prototype.cancel=function(){if(this.i=jD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function jD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return G_(t.i)}var Uj=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function Bj(){this.g=new Uj}function $j(t,e,n){let i=n||"";try{MD(t,function(r,o){let s=r;rc(r)&&(s=J_(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function qj(t,e){let n=new zd;if(Q.Image){let i=new Image;i.onload=Sd(Nd,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Sd(Nd,n,i,"TestLoadImage: error",!1,e),i.onabort=Sd(Nd,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Sd(Nd,n,i,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Nd(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function uc(t){this.l=t.ec||null,this.j=t.ob||!1}it(uc,t0);uc.prototype.g=function(){return new Zd(this.l,this.j)};uc.prototype.i=function(t){return function(){return t}}({});function Zd(t,e){nt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=o0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(Zd,nt);var o0=0;k=Zd.prototype;k.open=function(t,e){if(this.readyState!=o0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ic(this)};k.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dc(this)),this.readyState=o0};k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ic(this)),this.g&&(this.readyState=3,ic(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function UD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dc(this):ic(this),this.readyState==3&&UD(this)}};k.Za=function(t){this.g&&(this.response=this.responseText=t,dc(this))};k.Ya=function(t){this.g&&(this.response=t,dc(this))};k.ka=function(){this.g&&dc(this)};function dc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ic(t)}k.setRequestHeader=function(t,e){this.v.append(t,e)};k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ic(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Zd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Gj=Q.JSON.parse;function je(t){nt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=BD,this.L=this.M=!1}it(je,nt);var BD="",Hj=/^https?$/i,zj=["POST","PUT"];k=je.prototype;k.Oa=function(t){this.M=t};k.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():F_.g(),this.C=this.u?QT(this.u):QT(F_),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){ZT(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Q.FormData&&t instanceof Q.FormData,!(0<=iD(zj,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{GD(this),0<this.B&&((this.L=Wj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=e0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){ZT(this,o)}};function Wj(t){return as&&typeof t.timeout=="number"&&t.ontimeout!==void 0}k.ua=function(){typeof q_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function ZT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$D(t),Xd(t)}function $D(t){t.F||(t.F=!0,lt(t,"complete"),lt(t,"error"))}k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lt(this,"complete"),lt(this,"abort"),Xd(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xd(this,!0)),je.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?qD(this):this.kb())};k.kb=function(){qD(this)};function qD(t){if(t.h&&typeof q_<"u"&&(!t.C[1]||Bn(t)!=4||t.da()!=2)){if(t.v&&Bn(t)==4)e0(t.La,0,t);else if(lt(t,"readystatechange"),Bn(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=s===0){var r=String(t.I).match(PD)[1]||null;!r&&Q.self&&Q.self.location&&(r=Q.self.location.protocol.slice(0,-1)),i=!Hj.test(r?r.toLowerCase():"")}n=i}if(n)lt(t,"complete"),lt(t,"success");else{t.m=6;try{var o=2<Bn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",$D(t)}}finally{Xd(t)}}}}function Xd(t,e){if(t.g){GD(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||lt(t,"ready");try{n.onreadystatechange=i}catch{}}}function GD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}k.isActive=function(){return!!this.g};function Bn(t){return t.g?t.g.readyState:0}k.da=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Gj(e)}};function XT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case BD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Kj(t){let e={};t=(t.g&&2<=Bn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Ya(t[i]))continue;var n=wj(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}gj(e,function(i){return i.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function HD(t){let e="";return z_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function s0(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=HD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function Ha(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zD(t){this.Ga=0,this.j=[],this.l=new zd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ha("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ha("baseRetryDelayMs",5e3,t),this.hb=Ha("retryDelaySeedMs",1e4,t),this.eb=Ha("forwardChannelMaxRetries",2,t),this.xa=Ha("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new kD(t&&t.concurrentRequestLimit),this.Ja=new Bj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=zD.prototype;k.ra=8;k.H=1;function a0(t){if(WD(t),t.H==3){var e=t.W++,n=hi(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),hc(t,n),e=new cc(t,t.l,e),e.L=2,e.A=Jd(hi(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=t1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),lc(e)}XD(t)}function eh(t){t.g&&(l0(t),t.g.cancel(),t.g=null)}function WD(t){eh(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Vd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function th(t){if(!FD(t.i)&&!t.m){t.m=!0;var e=t.Na;Za||mD(),Xa||(Za(),Xa=!0),Z_.add(e,t),t.C=0}}function Qj(t,e){return VD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=sc(gt(t.Na,t,e),ZD(t,t.C)),t.C++,!0)}k.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new cc(this,this.l,t),o=this.s;if(this.U&&(o?(o=aD(o),cD(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KD(this,r,e),n=hi(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),hc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(HD(o)))+"&"+e:this.o&&s0(n,this.o,o)),r0(this.i,r),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),r.aa=!0,L_(r,n,null)):L_(r,n,e),this.H=2}}else this.H==3&&(t?eD(this,t):this.j.length==0||FD(this.i)||eD(this))};function eD(t,e){var n;e?n=e.m:n=t.W++;let i=hi(t.I);Ve(i,"SID",t.K),Ve(i,"RID",n),Ve(i,"AID",t.V),hc(t,i),t.o&&t.s&&s0(i,t.o,t.s),n=new cc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=KD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),r0(t.i,n),L_(n,i,e)}function hc(t,e){t.na&&z_(t.na,function(n,i){Ve(e,i,n)}),t.h&&MD({},function(n,i){Ve(e,i,n)})}function KD(t,e,n){n=Math.min(t.j.length,n);var i=t.h?gt(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{$j(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function QD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Za||mD(),Xa||(Za(),Xa=!0),Z_.add(e,t),t.A=0}}function c0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=sc(gt(t.Ma,t),ZD(t,t.A)),t.A++,!0)}k.Ma=function(){if(this.u=null,YD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sc(gt(this.jb,this),t)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dt(10),eh(this),YD(this))};function l0(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function YD(t){t.g=new cc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=hi(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),hc(t,e),t.o&&t.s&&s0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Jd(hi(e)),n.u=null,n.S=!0,DD(n,t)}k.ib=function(){this.v!=null&&(this.v=null,eh(this),c0(this),Dt(19))};function Vd(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function JD(t,e){var n=null;if(t.g==e){Vd(t),l0(t),t.g=null;var i=2}else if(U_(t.i,e))n=e.F,LD(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Wd(),lt(i,new CD(i,n)),th(t)}else QD(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&Qj(t,e)||i==2&&c0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Nr(t,5);break;case 4:Nr(t,10);break;case 3:Nr(t,6);break;default:Nr(t,2)}}}function ZD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Nr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=gt(t.pb,t);n||(n=new Or("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||kd(n,"https"),Jd(n)),qj(n.toString(),i)}else Dt(2);t.H=0,t.h&&t.h.za(e),XD(t),WD(t)}k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dt(2)):(this.l.info("Failed to ping google.com"),Dt(1))};function XD(t){if(t.H=0,t.ma=[],t.h){let e=jD(t.i);(e.length!=0||t.j.length!=0)&&(HT(t.ma,e),HT(t.ma,t.j),t.i.i.length=0,G_(t.j),t.j.length=0),t.h.ya()}}function e1(t,e,n){var i=n instanceof Or?hi(n):new Or(n);if(i.g!="")e&&(i.g=e+"."+i.g),Fd(i,i.m);else{var r=Q.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Or(null);i&&kd(o,i),e&&(o.g=e),r&&Fd(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Ve(i,n,e),Ve(i,"VER",t.ra),hc(t,i),i}function t1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new je(new uc({ob:n})):new je(t.va),e.Oa(t.J),e}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function n1(){}k=n1.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function Ld(){if(as&&!(10<=Number(hj)))throw Error("Environmental error: no available transport.")}Ld.prototype.g=function(t,e){return new zt(t,e)};function zt(t,e){nt.call(this),this.g=new zD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ya(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ya(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ls(this)}it(zt,nt);zt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=e1(t,null,t.Y),th(t)};zt.prototype.close=function(){a0(this.g)};zt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=J_(t),t=n);e.j.push(new Lj(e.fb++,t)),e.H==3&&th(e)};zt.prototype.N=function(){this.g.h=null,delete this.j,a0(this.g),delete this.g,zt.$.N.call(this)};function i1(t){n0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}it(i1,n0);function r1(){i0.call(this),this.status=1}it(r1,i0);function ls(t){this.g=t}it(ls,n1);ls.prototype.Ba=function(){lt(this.g,"a")};ls.prototype.Aa=function(t){lt(this.g,new i1(t))};ls.prototype.za=function(t){lt(this.g,new r1)};ls.prototype.ya=function(){lt(this.g,"b")};function Yj(){this.blockSize=-1}function wn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(wn,Yj);wn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function D_(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}wn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)D_(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){D_(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){D_(this,i),r=0;break}}this.h=r,this.i+=e};wn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function xe(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var Jj={};function u0(t){return-128<=t&&128>t?lj(t,function(e){return new xe([e|0],0>e?-1:0)}):new xe([t|0],0>t?-1:0)}function $n(t){if(isNaN(t)||!isFinite(t))return ss;if(0>t)return ct($n(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=B_;return new xe(e,0)}function o1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ct(o1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=$n(Math.pow(e,8)),i=ss,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=$n(Math.pow(e,o)),i=i.R(o).add($n(s))):(i=i.R(n),i=i.add($n(s)))}return i}var B_=4294967296,ss=u0(0),$_=u0(1),tD=u0(16777216);k=xe.prototype;k.ea=function(){if(un(this))return-ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:B_+i)*e,e*=B_}return t};k.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(di(this))return"0";if(un(this))return"-"+ct(this).toString(t);for(var e=$n(Math.pow(t,6)),n=this,i="";;){var r=Ud(n,e).g;n=jd(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,di(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function di(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function un(t){return t.h==-1}k.X=function(t){return t=jd(this,t),un(t)?-1:di(t)?0:1};function ct(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new xe(n,~t.h).add($_)}k.abs=function(){return un(this)?ct(this):this};k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new xe(n,n[n.length-1]&-2147483648?-1:0)};function jd(t,e){return t.add(ct(e))}k.R=function(t){if(di(this)||di(t))return ss;if(un(this))return un(t)?ct(this).R(ct(t)):ct(ct(this).R(t));if(un(t))return ct(this.R(ct(t)));if(0>this.X(tD)&&0>t.X(tD))return $n(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=s*c,Od(n,2*i+2*r),n[2*i+2*r+1]+=o*c,Od(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,Od(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,Od(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new xe(n,0)};function Od(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function za(t,e){this.g=t,this.h=e}function Ud(t,e){if(di(e))throw Error("division by zero");if(di(t))return new za(ss,ss);if(un(t))return e=Ud(ct(t),e),new za(ct(e.g),ct(e.h));if(un(e))return e=Ud(t,ct(e)),new za(ct(e.g),e.h);if(30<t.g.length){if(un(t)||un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=$_,i=e;0>=i.X(t);)n=nD(n),i=nD(i);var r=rs(n,1),o=rs(i,1);for(i=rs(i,2),n=rs(n,2);!di(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=rs(i,1),n=rs(n,1)}return e=jd(t,r.R(e)),new za(r,e)}for(r=ss;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=$n(n),s=o.R(e);un(s)||0<s.X(t);)n-=i,o=$n(n),s=o.R(e);di(o)&&(o=$_),r=r.add(o),t=jd(t,s)}return new za(r,t)}k.gb=function(t){return Ud(this,t).h};k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new xe(n,this.h&t.h)};k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new xe(n,this.h|t.h)};k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new xe(n,this.h^t.h)};function nD(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new xe(n,t.h)}function rs(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new xe(r,t.h)}Ld.prototype.createWebChannel=Ld.prototype.g;zt.prototype.send=zt.prototype.u;zt.prototype.open=zt.prototype.m;zt.prototype.close=zt.prototype.close;Kd.NO_ERROR=0;Kd.TIMEOUT=8;Kd.HTTP_ERROR=6;ED.COMPLETE="complete";ID.EventType=ac;ac.OPEN="a";ac.CLOSE="b";ac.ERROR="c";ac.MESSAGE="d";nt.prototype.listen=nt.prototype.O;je.prototype.listenOnce=je.prototype.P;je.prototype.getLastError=je.prototype.Sa;je.prototype.getLastErrorCode=je.prototype.Ia;je.prototype.getStatus=je.prototype.da;je.prototype.getResponseJson=je.prototype.Wa;je.prototype.getResponseText=je.prototype.ja;je.prototype.send=je.prototype.ha;je.prototype.setWithCredentials=je.prototype.Oa;wn.prototype.digest=wn.prototype.l;wn.prototype.reset=wn.prototype.reset;wn.prototype.update=wn.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=$n;xe.fromString=o1;var s1=Cn.createWebChannelTransport=function(){return new Ld},a1=Cn.getStatEventTarget=function(){return Wd()},nh=Cn.ErrorCode=Kd,c1=Cn.EventType=ED,l1=Cn.Event=kr,d0=Cn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nY=Cn.FetchXmlHttpFactory=uc,fc=Cn.WebChannel=ID,u1=Cn.XhrIo=je,d1=Cn.Md5=wn,Fr=Cn.Integer=xe;var h1="@firebase/firestore";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var Ms="10.7.0";var Ur=new Bi("@firebase/firestore");function pc(){return Ur.logLevel}function L(t,...e){if(Ur.logLevel<=ce.DEBUG){let n=e.map(Ky);Ur.debug(`Firestore (${Ms}): ${t}`,...n)}}function fi(t,...e){if(Ur.logLevel<=ce.ERROR){let n=e.map(Ky);Ur.error(`Firestore (${Ms}): ${t}`,...n)}}function gs(t,...e){if(Ur.logLevel<=ce.WARN){let n=e.map(Ky);Ur.warn(`Firestore (${Ms}): ${t}`,...n)}}function Ky(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: `+t;throw fi(e),new Error(e)}function Oe(t,e){t||W()}function X(t,e){return t}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends an{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var En=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ah=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},g0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}},_0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},y0=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new En;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new En,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new En)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Oe(typeof i.accessToken=="string"),new ah(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new rt(e)}},v0=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},w0=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new v0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},C0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},E0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new C0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Zj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var ch=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=Zj(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function Ce(t,e){return t<e?-1:t>e?1:0}function _s(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var ut=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Z=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ut(0,0))}static max(){return new t(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lh=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&W(),i===void 0?i=e.length-n:i>e.length-n&&W(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Le=class t extends lh{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new V(S.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},Xj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class t extends lh{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return Xj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new V(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new V(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new V(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Le.fromString(e))}static fromName(e){return new t(Le.fromString(e).popFirst(5))}static empty(){return new t(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Le(e.slice()))}};var I0=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};I0.UNKNOWN_ID=-1;function eU(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Z.fromTimestamp(i===1e9?new ut(n+1,0):new ut(n,i));return new Br(r,G.empty(),e)}function tU(t){return new Br(t.readTime,t.key,-1)}var Br=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(Z.min(),G.empty(),-1)}static max(){return new t(Z.max(),G.empty(),-1)}};function nU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}var iU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",b0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Pc(t){return E(this,null,function*(){if(t.code!==S.FAILED_PRECONDITION||t.message!==iU)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},c=>i(c))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};function Rc(t){return t.name==="IndexedDbTransactionError"}var $1=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Bh(t){return t==null}function wc(t){return t===0&&1/t==-1/0}function rU(t){return typeof t=="number"&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var oU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fY=[...oU,"documentOverlays"],sU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aU=sU,pY=[...aU,"indexConfiguration","indexState","indexEntries"];function f1(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Be=class t{constructor(e,n){this.comparator=e,this.root=n||Gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}},fs=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gn=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vt=class t{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uh(this.data.getIterator())}getIteratorFrom(e){return new uh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},uh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class t{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new vt(Kt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var dh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xt.EMPTY_BYTE_STRING=new xt("");var cU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(Oe(!!t),typeof t=="string"){let e=0,n=cU.exec(t);if(Oe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yi(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}function Qy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yy(t){let e=t.mapValue.fields.__previous_value__;return Qy(e)?Yy(e):e}function Cc(t){let e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}var T0=class{constructor(e,n,i,r,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},hh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qy(t)?4:G1(t)?9007199254740991:10:W()}function Wn(t,e){if(t===e)return!0;let n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cc(t).isEqual(Cc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Qi(r.timestampValue),a=Qi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Yi(r.bytesValue).isEqual(Yi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Ue(r.geoPointValue.latitude)===Ue(o.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ue(r.integerValue)===Ue(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Ue(r.doubleValue),a=Ue(o.doubleValue);return s===a?wc(s)===wc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return _s(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(f1(s)!==f1(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Wn(s[c],a[c])))return!1;return!0}(t,e);default:return W()}}function Ec(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function ys(t,e){if(t===e)return 0;let n=$r(t),i=$r(e);if(n!==i)return Ce(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ue(o.integerValue||o.doubleValue),c=Ue(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return p1(t.timestampValue,e.timestampValue);case 4:return p1(Cc(t),Cc(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Yi(o),c=Yi(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Ce(a[l],c[l]);if(u!==0)return u}return Ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ce(Ue(o.latitude),Ue(s.latitude));return a!==0?a:Ce(Ue(o.longitude),Ue(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=ys(a[l],c[l]);if(u)return u}return Ce(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===ih.mapValue&&s===ih.mapValue)return 0;if(o===ih.mapValue)return 1;if(s===ih.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let p=0;p<c.length&&p<u.length;++p){let y=Ce(c[p],u[p]);if(y!==0)return y;let v=ys(a[c[p]],l[u[p]]);if(v!==0)return v}return Ce(c.length,u.length)}(t.mapValue,e.mapValue);default:throw W()}}function p1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);let n=Qi(t),i=Qi(e),r=Ce(n.seconds,i.seconds);return r!==0?r:Ce(n.nanos,i.nanos)}function vs(t){return D0(t)}function D0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Qi(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=D0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${D0(n.fields[s])}`;return r+"}"}(t.mapValue):W()}function m1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function x0(t){return!!t&&"integerValue"in t}function Jy(t){return!!t&&"arrayValue"in t}function g1(t){return!!t&&"nullValue"in t}function _1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oh(t){return!!t&&"mapValue"in t}function gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Kr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=gc(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function G1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Wt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(n)}setAll(e){let n=Kt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=gc(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];oh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Kr(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(gc(this.value))}};function H1(t){let e=[];return Kr(t.fields,(n,i)=>{let r=new Kt([n]);if(oh(i)){let o=H1(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new dn(e)}var In=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Z.min(),Z.min(),Z.min(),Wt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,Z.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,Z.min(),Z.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Z.min(),Z.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ws=class{constructor(e,n){this.position=e,this.inclusive=n}};function y1(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=G.comparator(G.fromName(s.referenceValue),n.key):i=ys(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function v1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}var Cs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function lU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fh=class{},Je=class t extends fh{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new A0(e,n,i):n==="array-contains"?new R0(e,i):n==="in"?new N0(e,i):n==="not-in"?new O0(e,i):n==="array-contains-any"?new k0(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new M0(e,i):new P0(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ys(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},bn=class t extends fh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return z1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function z1(t){return t.op==="and"}function W1(t){return uU(t)&&z1(t)}function uU(t){for(let e of t.filters)if(e instanceof bn)return!1;return!0}function S0(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+vs(t.value);if(W1(t))return t.filters.map(e=>S0(e)).join(",");{let e=t.filters.map(n=>S0(n)).join(",");return`${t.op}(${e})`}}function K1(t,e){return t instanceof Je?function(i,r){return r instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&Wn(i.value,r.value)}(t,e):t instanceof bn?function(i,r){return r instanceof bn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&K1(s,r.filters[a]),!0):!1}(t,e):void W()}function Q1(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${vs(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map(Q1).join(" ,")+"}"}(t):"Filter"}var A0=class extends Je{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},M0=class extends Je{constructor(e,n){super(e,"in",n),this.keys=Y1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},P0=class extends Je{constructor(e,n){super(e,"not-in",n),this.keys=Y1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Y1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}var R0=class extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Jy(n)&&Ec(n.arrayValue,this.value)}},N0=class extends Je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}},O0=class extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ec(this.value.arrayValue,n)}},k0=class extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Jy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ec(this.value.arrayValue,i))}};var F0=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function w1(t,e=null,n=[],i=[],r=null,o=null,s=null){return new F0(t,e,n,i,r,o,s)}function Zy(t){let e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>S0(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>vs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>vs(i)).join(",")),e.ce=n}return e.ce}function Xy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v1(t.startAt,e.startAt)&&v1(t.endAt,e.endAt)}function V0(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var qr=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function dU(t,e,n,i,r,o,s,a){return new qr(t,e,n,i,r,o,s,a)}function ev(t){return new qr(t)}function C1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J1(t){return t.collectionGroup!==null}function _c(t){let e=X(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new vt(Kt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Cs(o,i))}),n.has(Kt.keyField().canonicalString())||e.le.push(new Cs(Kt.keyField(),i))}return e.le}function Hn(t){let e=X(t);return e.he||(e.he=hU(e,_c(t))),e.he}function hU(t,e){if(t.limitType==="F")return w1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Cs(r.field,o)});let n=t.endAt?new ws(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ws(t.startAt.position,t.startAt.inclusive):null;return w1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function L0(t,e){let n=t.filters.concat([e]);return new qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function j0(t,e,n){return new qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return Xy(Hn(t),Hn(e))&&t.limitType===e.limitType}function Z1(t){return`${Zy(Hn(t))}|lt:${t.limitType}`}function us(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Q1(r)).join(", ")}]`),Bh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>vs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>vs(r)).join(",")),`Target(${i})`}(Hn(t))}; limitType=${t.limitType})`}function qh(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):G.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of _c(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=y1(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,_c(i),r)||i.endAt&&!function(s,a,c){let l=y1(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,_c(i),r))}(t,e)}function fU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X1(t){return(e,n)=>{let i=!1;for(let r of _c(t)){let o=pU(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function pU(t,e,n){let i=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ys(c,l):W()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return W()}}var Ji=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return q1(this.inner)}size(){return this.innerSize}};var mU=new Be(G.comparator);function pi(){return mU}var ex=new Be(G.comparator);function mc(...t){let e=ex;for(let n of t)e=e.insert(n.key,n);return e}function tx(t){let e=ex;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Vr(){return yc()}function nx(){return yc()}function yc(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}var gU=new Be(G.comparator),_U=new vt(G.comparator);function le(...t){let e=_U;for(let n of t)e=e.add(n);return e}var yU=new vt(Ce);function vU(){return yU}function ix(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function rx(t){return{integerValue:""+t}}function wU(t,e){return rU(e)?rx(e):ix(t,e)}var Es=class{constructor(){this._=void 0}};function CU(t,e,n){return t instanceof Is?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Qy(o)&&(o=Yy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Gr?sx(t,e):t instanceof Hr?ax(t,e):function(r,o){let s=ox(r,o),a=E1(s)+E1(r.Ie);return x0(s)&&x0(r.Ie)?rx(a):ix(r.serializer,a)}(t,e)}function EU(t,e,n){return t instanceof Gr?sx(t,e):t instanceof Hr?ax(t,e):n}function ox(t,e){return t instanceof bs?function(i){return x0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Is=class extends Es{},Gr=class extends Es{constructor(e){super(),this.elements=e}};function sx(t,e){let n=cx(e);for(let i of t.elements)n.some(r=>Wn(r,i))||n.push(i);return{arrayValue:{values:n}}}var Hr=class extends Es{constructor(e){super(),this.elements=e}};function ax(t,e){let n=cx(e);for(let i of t.elements)n=n.filter(r=>!Wn(r,i));return{arrayValue:{values:n}}}var bs=class extends Es{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function E1(t){return Ue(t.integerValue||t.doubleValue)}function cx(t){return Jy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IU(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Gr&&r instanceof Gr||i instanceof Hr&&r instanceof Hr?_s(i.elements,r.elements,Wn):i instanceof bs&&r instanceof bs?Wn(i.Ie,r.Ie):i instanceof Is&&r instanceof Is}(t.transform,e.transform)}var U0=class{constructor(e,n){this.version=e,this.transformResults=n}},Wi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ts=class{};function lx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ph(t.key,Wi.none()):new zr(t.key,t.data,Wi.none());{let n=t.data,i=Wt.empty(),r=new vt(Kt.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Kn(t.key,i,new dn(r.toArray()),Wi.none())}}function bU(t,e,n){t instanceof zr?function(r,o,s){let a=r.value.clone(),c=b1(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Kn?function(r,o,s){if(!sh(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=b1(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(ux(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function vc(t,e,n,i){return t instanceof zr?function(o,s,a,c){if(!sh(o.precondition,s))return a;let l=o.value.clone(),u=T1(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Kn?function(o,s,a,c){if(!sh(o.precondition,s))return a;let l=T1(o.fieldTransforms,c,s),u=s.data;return u.setAll(ux(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(o,s,a){return sh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function TU(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=ox(i.transform,r||null);o!=null&&(n===null&&(n=Wt.empty()),n.set(i.field,o))}return n||null}function I1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&_s(i,r,(o,s)=>IU(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var zr=class extends Ts{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Kn=class extends Ts{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ux(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function b1(t,e,n){let i=new Map;Oe(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,EU(s,a,n[r]))}return i}function T1(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,CU(o,s,e))}return i}var ph=class extends Ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},B0=class extends Ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var $0=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&bU(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=vc(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=vc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=nx();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let c=lx(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(n,i)=>I1(n,i))&&_s(this.baseMutations,e.baseMutations,(n,i)=>I1(n,i))}},q0=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Oe(e.mutations.length===i.length);let r=function(){return gU}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var G0=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var H0=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Qe,he;function DU(t){switch(t){default:return W();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function dx(t){if(t===void 0)return fi("GRPC error has no .code"),S.UNKNOWN;switch(t){case Qe.OK:return S.OK;case Qe.CANCELLED:return S.CANCELLED;case Qe.UNKNOWN:return S.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return S.INTERNAL;case Qe.UNAVAILABLE:return S.UNAVAILABLE;case Qe.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Qe.NOT_FOUND:return S.NOT_FOUND;case Qe.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Qe.ABORTED:return S.ABORTED;case Qe.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Qe.DATA_LOSS:return S.DATA_LOSS;default:return W()}}(he=Qe||(Qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var D1=null;function xU(){return new TextEncoder}var SU=new Fr([4294967295,4294967295],0);function x1(t){let e=xU().encode(t),n=new d1;return n.update(e),new Uint8Array(n.digest())}function S1(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fr([n,i],0),new Fr([r,o],0)]}var z0=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Lr(`Invalid padding: ${n}`);if(i<0)throw new Lr(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Lr(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Lr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Fr.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Fr.fromNumber(i)));return r.compare(SU)===1&&(r=new Fr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=x1(e),[i,r]=S1(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=x1(e),[i,r]=S1(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Lr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var mh=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(Z.min(),r,new Be(Ce),pi(),le())}},Ic=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,le(),le(),le())}};var ps=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},gh=class{constructor(e,n){this.targetId=e,this.fe=n}},_h=class{constructor(e,n,i=xt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},yh=class{constructor(){this.ge=0,this.pe=M1(),this.ye=xt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=le(),n=le(),i=le();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:W()}}),new Ic(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=M1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Oe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},W0=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=pi(),this.Qe=A1(),this.Ke=new Be(Ce)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(V0(o))if(i===0){let s=new G(o.path);this.We(n,s,In.newNoDocument(s,Z.min()))}else Oe(i===1);else{let s=this.Ze(n);if(s!==i){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}D1?.tt(function(u,p,y,v,D){var x,A,F,ue,H,Ee;let Ze={localCacheCount:u,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},me=p.unchangedNames;return me&&(Ze.bloomFilter={applied:D===0,hashCount:(x=me?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(ue=(F=(A=me?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&ue!==void 0?ue:0,padding:(Ee=(H=me?.bits)===null||H===void 0?void 0:H.padding)!==null&&Ee!==void 0?Ee:0,mightContain:dt=>{var Dn;return(Dn=v?.mightContain(dt))!==null&&Dn!==void 0&&Dn}}),Ze}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=Yi(i).toUint8Array()}catch(c){if(c instanceof dh)return gs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new z0(s,r,o)}catch(c){return gs(c instanceof Lr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&V0(a.target)){let c=new G(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,In.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let i=le();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new mh(e,n,this.Ke,this.qe,i);return this.qe=pi(),this.Qe=A1(),this.Ke=new Be(Ce),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new yh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new vt(Ce),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new yh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function A1(){return new Be(G.comparator)}function M1(){return new Be(G.comparator)}var AU={asc:"ASCENDING",desc:"DESCENDING"},MU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PU={and:"AND",or:"OR"},K0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Q0(t,e){return t.useProto3Json||Bh(e)?e:{value:e}}function vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RU(t,e){return vh(t,e.toTimestamp())}function zn(t){return Oe(!!t),Z.fromTimestamp(function(n){let i=Qi(n);return new ut(i.seconds,i.nanos)}(t))}function tv(t,e){return function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function fx(t){let e=Le.fromString(t);return Oe(_x(e)),e}function Y0(t,e){return tv(t.databaseId,e.path)}function h0(t,e){let n=fx(e);if(n.get(1)!==t.databaseId.projectId)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(px(n))}function J0(t,e){return tv(t.databaseId,e)}function NU(t){let e=fx(t);return e.length===4?Le.emptyPath():px(e)}function Z0(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function px(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P1(t,e,n){return{name:Y0(t,e),fields:n.value.mapValue.fields}}function OU(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Oe(u===void 0||typeof u=="string"),xt.fromBase64String(u||"")):(Oe(u===void 0||u instanceof Uint8Array),xt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?S.UNKNOWN:dx(l.code);return new V(u,l.message||"")}(s);n=new _h(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=h0(t,i.document.name),o=zn(i.document.updateTime),s=i.document.createTime?zn(i.document.createTime):Z.min(),a=new Wt({mapValue:{fields:i.document.fields}}),c=In.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new ps(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=h0(t,i.document),o=i.readTime?zn(i.readTime):Z.min(),s=In.newNoDocument(r,o),a=i.removedTargetIds||[];n=new ps([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=h0(t,i.document),o=i.removedTargetIds||[];n=new ps([],o,r,null)}else{if(!("filter"in e))return W();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new H0(r,o),a=i.targetId;n=new gh(a,s)}}return n}function kU(t,e){let n;if(e instanceof zr)n={update:P1(t,e.key,e.value)};else if(e instanceof ph)n={delete:Y0(t,e.key)};else if(e instanceof Kn)n={update:P1(t,e.key,e.data),updateMask:GU(e.fieldMask)};else{if(!(e instanceof B0))return W();n={verify:Y0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Is)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bs)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw W()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:RU(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(t,e.precondition)),n}function FU(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?zn(r.updateTime):zn(o);return s.isEqual(Z.min())&&(s=zn(o)),new U0(s,r.transformResults||[])}(n,e))):[]}function VU(t,e){return{documents:[J0(t,e.path)]}}function LU(t,e){let n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=J0(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=J0(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);let r=function(c){if(c.length!==0)return gx(bn.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);let o=function(c){if(c.length!==0)return c.map(l=>function(p){return{field:ds(p.field),direction:BU(p.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Q0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function jU(t){let e=NU(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Oe(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(p){let y=mx(p);return y instanceof bn&&W1(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(D){return new Cs(hs(D.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Bh(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(p){let y=!!p.before,v=p.values||[];return new ws(v,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,v=p.values||[];return new ws(v,y)}(n.endAt)),dU(e,r,s,o,a,"F",c,l)}function UU(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=hs(n.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=hs(n.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=hs(n.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=hs(n.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(hs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(i=>mx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function BU(t){return AU[t]}function $U(t){return MU[t]}function qU(t){return PU[t]}function ds(t){return{fieldPath:t.canonicalString()}}function hs(t){return Kt.fromServerFormat(t.fieldPath)}function gx(t){return t instanceof Je?function(n){if(n.op==="=="){if(_1(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NAN"}};if(g1(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_1(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NAN"}};if(g1(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(n.field),op:$U(n.op),value:n.value}}}(t):t instanceof bn?function(n){let i=n.getFilters().map(r=>gx(r));return i.length===1?i[0]:{compositeFilter:{op:qU(n.op),filters:i}}}(t):W()}function GU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _x(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var bc=class t{constructor(e,n,i,r,o=Z.min(),s=Z.min(),a=xt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var X0=class{constructor(e){this.ut=e}};function HU(t){let e=jU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?j0(e,e.limit,"L"):e}var wh=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ue(e.integerValue));else if("doubleValue"in e){let i=Ue(e.doubleValue);isNaN(i)?this.Tt(n,13):(this.Tt(n,15),wc(i)?n.Et(0):n.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(n,20),typeof i=="string"?n.dt(i):(n.dt(`${i.seconds||""}`),n.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Yi(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Tt(n,45),n.Et(i.latitude||0),n.Et(i.longitude||0)}else"mapValue"in e?G1(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):W()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let i=e.fields||{};this.Tt(n,55);for(let r of Object.keys(i))this.At(r,n),this.Pt(i[r],n)}yt(e,n){let i=e.values||[];this.Tt(n,50);for(let r of i)this.Pt(r,n)}ft(e,n){this.Tt(n,37),G.fromName(e).path.forEach(i=>{this.Tt(n,60),this.wt(i,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};wh.St=new wh;var ey=class{constructor(){this.on=new ty}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Br.min())}updateCollectionGroup(e,n,i){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},ty=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new vt(Le.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new vt(Le.comparator)).toArray()}};var gY=new Uint8Array(0);var qn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);var Tc=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var ny=class{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?P.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var iy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ry=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&vc(i.mutation,r,dn.empty(),ut.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=le()){let r=Vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=mc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=Vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,le()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=pi(),s=yc(),a=function(){return yc()}();return n.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Kn)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),vc(u.mutation,l,u.mutation.getFieldMask(),ut.now())):s.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var p;return a.set(l,new iy(u,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let i=yc(),r=new Be((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=i.get(c)||dn.empty();u=a.applyToLocalView(l,u),i.set(c,u);let p=(r.get(a.batchId)||le()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,p=nx();u.forEach(y=>{if(!o.has(y)){let v=lx(n.get(y),i.get(y));v!==null&&p.set(y,v),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):P.resolve(Vr()),a=-1,c=o;return s.next(l=>P.forEach(l,(u,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(u)?P.resolve():this.remoteDocumentCache.getEntry(e,u).next(y=>{c=c.insert(u,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,le())).next(u=>({batchId:a,changes:tx(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=mc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=mc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,c=>{let l=function(p,y){return new qr(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,In.newInvalidDocument(u)))});let a=mc();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&vc(u.mutation,l,dn.empty(),ut.now()),qh(n,l)&&(a=a.insert(c,l))}),a})}};var oy=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:zn(r.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:HU(r.bundledQuery),readTime:zn(r.readTime)}}(n)),P.resolve()}};var sy=class{constructor(){this.overlays=new Be(G.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Vr();return P.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.lt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.lr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),P.resolve()}getOverlaysForCollection(e,n,i){let r=Vr(),o=n.length+1,s=new G(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return P.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Be((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=Vr(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Vr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return P.resolve(a)}lt(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new G0(n,i));let o=this.lr.get(n);o===void 0&&(o=le(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}};var Dc=class{constructor(){this.hr=new vt(Ye.Pr),this.Ir=new vt(Ye.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let i=new Ye(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new Ye(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){let n=new G(new Le([])),i=new Ye(n,e),r=new Ye(n,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new G(new Le([])),i=new Ye(n,e),r=new Ye(n,e+1),o=le();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ye(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Ye=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return G.comparator(e.key,n.key)||Ce(e.gr,n.gr)}static Tr(e,n){return Ce(e.gr,n.gr)||G.comparator(e.key,n.key)}};var ay=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new vt(Ye.Pr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new $0(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.yr=this.yr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.Sr(i),o=r<0?0:r;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Ye(n,0),r=new Ye(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{let a=this.wr(s.gr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new vt(Ce);return n.forEach(r=>{let o=new Ye(r,0),s=new Ye(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),P.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;G.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new G(o),0),a=new vt(Ce);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gr)),!0)},s),P.resolve(this.br(a))}br(e){let n=[];return e.forEach(i=>{let r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Oe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return P.forEach(n.mutations,r=>{let o=new Ye(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){let i=new Ye(n,0),r=this.yr.firstAfterOrEqual(i);return P.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var cy=class{constructor(e){this.Cr=e,this.docs=function(){return new Be(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return P.resolve(i?i.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let i=pi();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():In.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=pi(),s=n.path,a=new G(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||nU(tU(u),i)<=0||(r.has(u.key)||qh(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,i,r){W()}vr(e,n){return P.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ly(this)}getSize(e){return P.resolve(this.size)}},ly=class extends ny{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var uy=class{constructor(e){this.persistence=e,this.Fr=new Ji(n=>Zy(n),Xy),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Dc,this.targetCount=0,this.Nr=Tc.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Tc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),P.waitFor(o).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let i=this.Fr.get(n)||null;return P.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),P.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Or.mr(n);return P.resolve(i)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}};var dy=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new $1(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new uy(this),this.indexManager=new ey,this.remoteDocumentCache=function(r){return new cy(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new X0(n),this.Kr=new oy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new ay(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){L("MemoryPersistence","Starting transaction:",e);let r=new hy(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,n){return P.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},hy=class extends b0{constructor(e){super(),this.currentSequenceNumber=e}},fy=class t{constructor(e){this.persistence=e,this.Gr=new Dc,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),P.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,i=>{let r=G.fromPath(i);return this.Jr(e,r).next(o=>{o||n.removeEntry(r,Z.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var py=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=le(),r=le();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var my=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var gy=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new my;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?(pc()<=ce.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(pc()<=ce.DEBUG&&L("QueryEngine","Query:",us(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(pc()<=ce.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):P.resolve())}zi(e,n){if(C1(n))return P.resolve(null);let i=Hn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=j0(n,null,"F"),i=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=le(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,j0(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,i,r){return C1(n)||r.isEqual(Z.min())?P.resolve(null):this.Gi.getDocuments(e,i).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,i,r)?P.resolve(null):(pc()<=ce.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),us(n)),this.Xi(e,s,n,eU(r,-1)).next(a=>a))})}Yi(e,n){let i=new vt(X1(e));return n.forEach((r,o)=>{qh(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,n,i){return pc()<=ce.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",us(n)),this.Gi.getDocumentsMatchingQuery(e,n,Br.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var _y=class{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new Be(Ce),this.ns=new Ji(o=>Zy(o),Xy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ry(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function zU(t,e,n,i){return new _y(t,e,n,i)}function yx(t,e){return E(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=le();for(let l of r){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function WU(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let p=l.batch,y=p.keys(),v=P.resolve();return y.forEach(D=>{v=v.next(()=>u.getEntry(c,D)).next(x=>{let A=l.docVersions.get(D);Oe(A!==null),x.version.compareTo(A)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),u.addEntry(x)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function vx(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function KU(t,e){let n=X(t),i=e.snapshotVersion,r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;let a=[];e.targetChanges.forEach((u,p)=>{let y=r.get(p);if(!y)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,p).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,p)));let v=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(xt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):u.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(u.resumeToken,i)),r=r.insert(p,v),function(x,A,F){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(y,v,u)&&a.push(n.qr.updateTargetData(o,v))});let c=pi(),l=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(QU(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!i.isEqual(Z.min())){let u=n.qr.getLastRemoteSnapshotVersion(o).next(p=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=r,o))}function QU(t,e,n){let i=le(),r=le();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=pi();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Z.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:r}})}function YU(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function JU(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,e).next(o=>o?(r=o,P.resolve(r)):n.qr.allocateTargetId(i).next(s=>(r=new bc(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}function yy(t,e,n){return E(this,null,function*(){let i=X(t),r=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Rc(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)})}function R1(t,e,n){let i=X(t),r=Z.min(),o=le();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let p=X(c),y=p.ns.get(u);return y!==void 0?P.resolve(p.ts.get(y)):p.qr.getTargetData(l,u)}(i,s,Hn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,n?r:Z.min(),n?o:le())).next(a=>(ZU(i,fU(e),a),{documents:a,ls:o})))}function ZU(t,e,n){let i=t.rs.get(e)||Z.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}var Ch=class{constructor(){this.activeTargetIds=vU()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var vy=class{constructor(){this.eo=new Ch,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ch,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var wy=class{ro(e){}shutdown(){}};var Eh=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rh=null;function f0(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}var XU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Cy=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var yt="WebChannelConnection",Ey=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${r}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(n,i,r,o,s){let a=f0(),c=this.So(n,i);L("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,r).then(u=>(L("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw gs("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}Co(n,i,r,o,s,a){return this.wo(n,i,r,o,s)}bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}So(n,i){let r=XU[n];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,r){let o=f0();return new Promise((s,a)=>{let c=new u1;c.setWithCredentials(!0),c.listenOnce(c1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case nh.NO_ERROR:let u=c.getResponseJson();L(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case nh.TIMEOUT:L(yt,`RPC '${e}' ${o} timed out`),a(new V(S.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:let p=c.getStatus();if(L(yt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);let v=y?.error;if(v&&v.status&&v.message){let D=function(A){let F=A.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(F)>=0?F:S.UNKNOWN}(v.status);a(new V(D,v.message))}else a(new V(S.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(S.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{L(yt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);L(yt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",l,i,15)})}vo(e,n,i){let r=f0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=s1(),a=a1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let u=o.join("");L(yt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let p=s.createWebChannel(u,c),y=!1,v=!1,D=new Cy({co:A=>{v?L(yt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(y||(L(yt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),y=!0),L(yt,`RPC '${e}' stream ${r} sending:`,A),p.send(A))},lo:()=>p.close()}),x=(A,F,ue)=>{A.listen(F,H=>{try{ue(H)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return x(p,fc.EventType.OPEN,()=>{v||L(yt,`RPC '${e}' stream ${r} transport opened.`)}),x(p,fc.EventType.CLOSE,()=>{v||(v=!0,L(yt,`RPC '${e}' stream ${r} transport closed`),D.Ro())}),x(p,fc.EventType.ERROR,A=>{v||(v=!0,gs(yt,`RPC '${e}' stream ${r} transport errored:`,A),D.Ro(new V(S.UNAVAILABLE,"The operation could not be completed")))}),x(p,fc.EventType.MESSAGE,A=>{var F;if(!v){let ue=A.data[0];Oe(!!ue);let H=ue,Ee=H.error||((F=H[0])===null||F===void 0?void 0:F.error);if(Ee){L(yt,`RPC '${e}' stream ${r} received error:`,Ee);let Ze=Ee.status,me=function(er){let Jr=Qe[er];if(Jr!==void 0)return dx(Jr)}(Ze),dt=Ee.message;me===void 0&&(me=S.INTERNAL,dt="Unknown error status: "+Ze+" with message "+Ee.message),v=!0,D.Ro(new V(me,dt)),p.close()}else L(yt,`RPC '${e}' stream ${r} received:`,ue),D.Vo(ue)}}),x(a,l1.STAT_EVENT,A=>{A.stat===d0.PROXY?L(yt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===d0.NOPROXY&&L(yt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.Ao()},0),D}};function p0(){return typeof document<"u"?document:null}function Gh(t){return new K0(t,!0)}var Ih=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var bh=class{constructor(e,n,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ih(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return E(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return E(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return E(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===n&&this.s_(i,r)},i=>{e(()=>{let r=new V(S.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,n){let i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(()=>E(this,null,function*(){this.state=0,this.start()}))}o_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Iy=class extends bh{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=OU(this.serializer,e),i=function(o){if(!("targetChange"in o))return Z.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?zn(s.readTime):Z.min()}(e);return this.listener.a_(n,i)}u_(e){let n={};n.database=Z0(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=V0(c)?{documents:VU(o,c)}:{query:LU(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=hx(o,s.resumeToken);let l=Q0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=vh(o,s.snapshotVersion.toTimestamp());let l=Q0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=UU(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){let n={};n.database=Z0(this.serializer),n.removeTarget=e,this.e_(n)}},by=class extends bh{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=FU(e.writeResults,e.commitTime),i=zn(e.commitTime);return this.listener.I_(i,n)}return Oe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Z0(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>kU(this.serializer,i))};this.e_(n)}};var Ty=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,n,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new V(S.UNKNOWN,r.toString())})}Co(e,n,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,i,o,s,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(S.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var Dy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(fi(n),this.f_=!1):L("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var xy=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{i.enqueueAndForget(()=>E(this,null,function*(){Qr(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(c){return E(this,null,function*(){let l=X(c);l.C_.add(4),yield Nc(l),l.M_.set("Unknown"),l.C_.delete(4),yield Hh(l)})}(this))}))}),this.M_=new Dy(i,r)}};function Hh(t){return E(this,null,function*(){if(Qr(t))for(let e of t.v_)yield e(!0)})}function Nc(t){return E(this,null,function*(){for(let e of t.v_)yield e(!1)})}function wx(t,e){let n=X(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),rv(n)?iv(n):Ps(n).Ho()&&nv(n,e))}function Cx(t,e){let n=X(t),i=Ps(n);n.D_.delete(e),i.Ho()&&Ex(n,e),n.D_.size===0&&(i.Ho()?i.Zo():Qr(n)&&n.M_.set("Unknown"))}function nv(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ps(t).u_(e)}function Ex(t,e){t.x_.Oe(e),Ps(t).c_(e)}function iv(t){t.x_=new W0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ps(t).start(),t.M_.g_()}function rv(t){return Qr(t)&&!Ps(t).jo()&&t.D_.size>0}function Qr(t){return X(t).C_.size===0}function Ix(t){t.x_=void 0}function e4(t){return E(this,null,function*(){t.D_.forEach((e,n)=>{nv(t,e)})})}function t4(t,e){return E(this,null,function*(){Ix(t),rv(t)?(t.M_.w_(e),iv(t)):t.M_.set("Unknown")})}function n4(t,e,n){return E(this,null,function*(){if(t.M_.set("Online"),e instanceof _h&&e.state===2&&e.cause)try{yield function(r,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.D_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.D_.delete(a),r.x_.removeTarget(a))})}(t,e)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Th(t,i)}else if(e instanceof ps?t.x_.$e(e):e instanceof gh?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Z.min()))try{let i=yield vx(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(xt.EMPTY_BYTE_STRING,u.snapshotVersion)),Ex(o,c);let p=new bc(u.target,c,l,u.sequenceNumber);nv(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){L("RemoteStore","Failed to raise snapshot:",i),yield Th(t,i)}})}function Th(t,e,n){return E(this,null,function*(){if(!Rc(e))throw e;t.C_.add(1),yield Nc(t),t.M_.set("Offline"),n||(n=()=>vx(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Hh(t)}))})}function bx(t,e){return e().catch(n=>Th(t,n,e))}function zh(t){return E(this,null,function*(){let e=X(t),n=Zi(e),i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;i4(e);)try{let r=yield YU(e.localStore,i);if(r===null){e.b_.length===0&&n.Zo();break}i=r.batchId,r4(e,r)}catch(r){yield Th(e,r)}Tx(e)&&Dx(e)})}function i4(t){return Qr(t)&&t.b_.length<10}function r4(t,e){t.b_.push(e);let n=Zi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Tx(t){return Qr(t)&&!Zi(t).jo()&&t.b_.length>0}function Dx(t){Zi(t).start()}function o4(t){return E(this,null,function*(){Zi(t).E_()})}function s4(t){return E(this,null,function*(){let e=Zi(t);for(let n of t.b_)e.P_(n.mutations)})}function a4(t,e,n){return E(this,null,function*(){let i=t.b_.shift(),r=q0.from(i,e,n);yield bx(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield zh(t)})}function c4(t,e){return E(this,null,function*(){e&&Zi(t).h_&&(yield function(i,r){return E(this,null,function*(){if(function(s){return DU(s)&&s!==S.ABORTED}(r.code)){let o=i.b_.shift();Zi(i).Yo(),yield bx(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield zh(i)}})}(t,e)),Tx(t)&&Dx(t)})}function N1(t,e){return E(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let i=Qr(n);n.C_.add(3),yield Nc(n),i&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Hh(n)})}function l4(t,e){return E(this,null,function*(){let n=X(t);e?(n.C_.delete(2),yield Hh(n)):e||(n.C_.add(2),yield Nc(n),n.M_.set("Unknown"))})}function Ps(t){return t.O_||(t.O_=function(n,i,r){let o=X(n);return o.A_(),new Iy(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:e4.bind(null,t),Io:t4.bind(null,t),a_:n4.bind(null,t)}),t.v_.push(e=>E(this,null,function*(){e?(t.O_.Yo(),rv(t)?iv(t):t.M_.set("Unknown")):(yield t.O_.stop(),Ix(t))}))),t.O_}function Zi(t){return t.N_||(t.N_=function(n,i,r){let o=X(n);return o.A_(),new by(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:o4.bind(null,t),Io:c4.bind(null,t),T_:s4.bind(null,t),I_:a4.bind(null,t)}),t.v_.push(e=>E(this,null,function*(){e?(t.N_.Yo(),yield zh(t)):(yield t.N_.stop(),t.b_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var Sy=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new En,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ov(t,e){if(fi("AsyncQueue",`${e}: ${t}`),Rc(t))return new V(S.UNAVAILABLE,`${e}: ${t}`);throw t}var Dh=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=mc(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var xh=class{constructor(){this.B_=new Be(G.comparator)}track(e){let n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):W():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}},Ds=class t{constructor(e,n,i,r,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Dh.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var Ay=class{constructor(){this.k_=void 0,this.listeners=[]}},My=class{constructor(){this.queries=new Ji(e=>Z1(e),$h),this.onlineState="Unknown",this.q_=new Set}};function xx(t,e){return E(this,null,function*(){let n=X(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new Ay),r)try{o.k_=yield n.onListen(i)}catch(s){let a=ov(s,`Initialization of query '${us(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&sv(n)})}function Sx(t,e){return E(this,null,function*(){let n=X(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=o.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function u4(t,e){let n=X(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&sv(n)}function d4(t,e,n){let i=X(t),r=i.queries.get(e);if(r)for(let o of r.listeners)o.onError(n);i.queries.delete(e)}function sv(t){t.q_.forEach(e=>{e.next()})}var Sh=class{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Ds(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Ah=class{constructor(e){this.key=e}},Mh=class{constructor(e){this.key=e}},Py=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=le(),this.mutatedKeys=le(),this._a=X1(e),this.aa=new Dh(this._a)}get ua(){return this.ia}ca(e,n){let i=n?n.la:new xh,r=n?n.aa:this.aa,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,p)=>{let y=r.get(u),v=qh(this.query,p)?p:null,D=!!y&&this.mutatedKeys.has(y.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),A=!1;y&&v?y.data.isEqual(v.data)?D!==x&&(i.track({type:3,doc:v}),A=!0):this.ha(y,v)||(i.track({type:2,doc:v}),A=!0,(c&&this._a(v,c)>0||l&&this._a(v,l)<0)&&(a=!0)):!y&&v?(i.track({type:0,doc:v}),A=!0):y&&!v&&(i.track({type:1,doc:y}),A=!0,(c||l)&&(a=!0)),A&&(v?(s=s.add(v),o=x?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((u,p)=>function(v,D){let x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return x(v)-x(D)}(u.type,p.type)||this._a(u.doc,p.doc)),this.Pa(i),r=r!=null&&r;let a=n&&!r?this.Ia():[],c=this.oa.size===0&&this.current&&!r?1:0,l=c!==this.sa;return this.sa=c,s.length!==0||l?{snapshot:new Ds(this.query,e.aa,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new xh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=le(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});let n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new Mh(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new Ah(i))}),n}da(e){this.ia=e.ls,this.oa=le();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ds.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Ry=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},Ny=class{constructor(e){this.key=e,this.Ra=!1}},Oy=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Ji(a=>Z1(a),$h),this.fa=new Map,this.ga=new Set,this.pa=new Be(G.comparator),this.ya=new Map,this.wa=new Dc,this.Sa={},this.ba=new Map,this.Da=Tc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function h4(t,e){return E(this,null,function*(){let n=E4(t),i,r,o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{let s=yield JU(n.localStore,Hn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield f4(n,e,i,a==="current",s.resumeToken),n.isPrimaryClient&&wx(n.remoteStore,s)}return r})}function f4(t,e,n,i,r){return E(this,null,function*(){t.va=(p,y,v)=>function(x,A,F,ue){return E(this,null,function*(){let H=A.view.ca(F);H.Zi&&(H=yield R1(x.localStore,A.query,!1).then(({documents:dt})=>A.view.ca(dt,H)));let Ee=ue&&ue.targetChanges.get(A.targetId),Ze=ue&&ue.targetMismatches.get(A.targetId)!=null,me=A.view.applyChanges(H,x.isPrimaryClient,Ee,Ze);return k1(x,A.targetId,me.Ta),me.snapshot})}(t,p,y,v);let o=yield R1(t.localStore,e,!0),s=new Py(e,o.ls),a=s.ca(o.documents),c=Ic.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=s.applyChanges(a,t.isPrimaryClient,c);k1(t,n,l.Ta);let u=new Ry(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot})}function p4(t,e){return E(this,null,function*(){let n=X(t),i=n.ma.get(e),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter(o=>!$h(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield yy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),Cx(n.remoteStore,i.targetId),ky(n,i.targetId)}).catch(Pc))):(ky(n,i.targetId),yield yy(n.localStore,i.targetId,!0))})}function m4(t,e,n){return E(this,null,function*(){let i=I4(t);try{let r=yield function(s,a){let c=X(s),l=ut.now(),u=a.reduce((v,D)=>v.add(D.key),le()),p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let D=pi(),x=le();return c.ss.getEntries(v,u).next(A=>{D=A,D.forEach((F,ue)=>{ue.isValidDocument()||(x=x.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,D)).next(A=>{p=A;let F=[];for(let ue of a){let H=TU(ue,p.get(ue.key).overlayedDocument);H!=null&&F.push(new Kn(ue.key,H,H1(H.value.mapValue),Wi.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,F,a)}).next(A=>{y=A;let F=A.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(v,A.batchId,F)})}).then(()=>({batchId:y.batchId,changes:tx(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Be(Ce)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(i,r.batchId,n),yield Oc(i,r.changes),yield zh(i.remoteStore)}catch(r){let o=ov(r,"Failed to persist write");n.reject(o)}})}function Ax(t,e){return E(this,null,function*(){let n=X(t);try{let i=yield KU(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.ya.get(o);s&&(Oe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Oe(s.Ra):r.removedDocuments.size>0&&(Oe(s.Ra),s.Ra=!1))}),yield Oc(n,i,e)}catch(i){yield Pc(i)}})}function O1(t,e,n){let i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=X(s);c.onlineState=a;let l=!1;c.queries.forEach((u,p)=>{for(let y of p.listeners)y.Q_(a)&&(l=!0)}),l&&sv(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function g4(t,e,n){return E(this,null,function*(){let i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.ya.get(e),o=r&&r.key;if(o){let s=new Be(G.comparator);s=s.insert(o,In.newNoDocument(o,Z.min()));let a=le().add(o),c=new mh(Z.min(),new Map,new Be(Ce),s,a);yield Ax(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),av(i)}else yield yy(i.localStore,e,!1).then(()=>ky(i,e,n)).catch(Pc)})}function _4(t,e){return E(this,null,function*(){let n=X(t),i=e.batch.batchId;try{let r=yield WU(n.localStore,e);Px(n,i,null),Mx(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Oc(n,r)}catch(r){yield Pc(r)}})}function y4(t,e,n){return E(this,null,function*(){let i=X(t);try{let r=yield function(s,a){let c=X(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Oe(p!==null),u=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);Px(i,e,n),Mx(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Oc(i,r)}catch(r){yield Pc(r)}})}function Mx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Px(t,e,n){let i=X(t),r=i.Sa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function ky(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||Rx(t,i)})}function Rx(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(Cx(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),av(t))}function k1(t,e,n){for(let i of n)i instanceof Ah?(t.wa.addReference(i.key,e),v4(t,i)):i instanceof Mh?(L("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||Rx(t,i.key)):W()}function v4(t,e){let n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(L("SyncEngine","New document in limbo: "+n),t.ga.add(i),av(t))}function av(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new G(Le.fromString(e)),i=t.Da.next();t.ya.set(i,new Ny(n)),t.pa=t.pa.insert(n,i),wx(t.remoteStore,new bc(Hn(ev(n.path)),i,"TargetPurposeLimboResolution",$1._e))}}function Oc(t,e,n){return E(this,null,function*(){let i=X(t),r=[],o=[],s=[];i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=py.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield function(c,l){return E(this,null,function*(){let u=X(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,y=>P.forEach(y.ki,v=>u.persistence.referenceDelegate.addReference(p,y.targetId,v)).next(()=>P.forEach(y.qi,v=>u.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))}catch(p){if(!Rc(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let v=u.ts.get(y),D=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(D);u.ts=u.ts.insert(y,x)}}})}(i.localStore,o))})}function w4(t,e){return E(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let i=yield yx(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new V(S.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Oc(n,i._s)}})}function C4(t,e){let n=X(t),i=n.ya.get(e);if(i&&i.Ra)return le().add(i.key);{let r=le(),o=n.fa.get(e);if(!o)return r;for(let s of o){let a=n.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function E4(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ax.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g4.bind(null,e),e.Va.a_=u4.bind(null,e.eventManager),e.Va.Fa=d4.bind(null,e.eventManager),e}function I4(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y4.bind(null,e),e}var Ph=class{constructor(){this.synchronizeTabs=!1}initialize(e){return E(this,null,function*(){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return zU(this.persistence,new gy,e.initialUser,this.serializer)}createPersistence(e){return new dy(fy.jr,this.serializer)}createSharedClientState(e){return new vy}terminate(){return E(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Fy=class{initialize(e,n){return E(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>O1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=w4.bind(null,this.syncEngine),yield l4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new My}()}createDatastore(e){let n=Gh(e.databaseInfo.databaseId),i=function(o){return new Ey(o)}(e.databaseInfo);return function(o,s,a,c){return new Ty(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new xy(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>O1(this.syncEngine,n,0),function(){return Eh.D()?new Eh:new wy}())}createSyncEngine(e,n){return function(r,o,s,a,c,l,u){let p=new Oy(r,o,s,a,c,l);return u&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return E(this,null,function*(){let i=X(n);L("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Nc(i),i.F_.shutdown(),i.M_.set("Unknown")})}(this.remoteStore)}};var Rh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Vy=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=rt.UNAUTHENTICATED,this.clientId=ch.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>E(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return E(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new En;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=ov(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function m0(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>E(this,null,function*(){i.isEqual(r)||(yield yx(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function F1(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield T4(t);L("FirestoreClient","Initializing OnlineComponentProvider");let i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(r=>N1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>N1(e.remoteStore,o)),t._onlineComponents=e})}function b4(t){return t.name==="FirebaseError"?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function T4(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield m0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!b4(n))throw n;gs("Error using user provided cache. Falling back to memory cache: "+n),yield m0(t,new Ph)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield m0(t,new Ph);return t._offlineComponents})}function Nx(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield F1(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield F1(t,new Fy))),t._onlineComponents})}function D4(t){return Nx(t).then(e=>e.syncEngine)}function Ox(t){return E(this,null,function*(){let e=yield Nx(t),n=e.eventManager;return n.onListen=h4.bind(null,e.syncEngine),n.onUnlisten=p4.bind(null,e.syncEngine),n})}function x4(t,e,n={}){let i=new En;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(o,s,a,c,l){let u=new Rh({next:y=>{s.enqueueAndForget(()=>Sx(o,p));let v=y.docs.has(a);!v&&y.fromCache?l.reject(new V(S.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&c&&c.source==="server"?l.reject(new V(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Sh(ev(a.path),u,{includeMetadataChanges:!0,J_:!0});return xx(o,p)}(yield Ox(t),t.asyncQueue,e,n,i)})),i.promise}function S4(t,e,n={}){let i=new En;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(o,s,a,c,l){let u=new Rh({next:y=>{s.enqueueAndForget(()=>Sx(o,p)),y.fromCache&&c.source==="server"?l.reject(new V(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Sh(a,u,{includeMetadataChanges:!0,J_:!0});return xx(o,p)}(yield Ox(t),t.asyncQueue,e,n,i)})),i.promise}function kx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var V1=new Map;function Fx(t,e,n){if(!n)throw new V(S.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A4(t,e,n,i){if(e===!0&&i===!0)throw new V(S.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L1(t){if(!G.isDocumentKey(t))throw new V(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j1(t){if(G.isDocumentKey(t))throw new V(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Wh(t);throw new V(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Nh=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new V(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},xs=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nh(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new g0;switch(i.type){case"firstParty":return new w0(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new V(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=V1.get(n);i&&(L("ComponentProvider","Removing Datastore"),V1.delete(n),i.terminate())}(this),Promise.resolve()}};function Vx(t,e,n,i={}){var r;let o=(t=Xi(t,xs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=rt.MOCK_USER;else{a=lT(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new V(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new rt(l)}t._authCredentials=new _0(new ah(a,c))}}var Ss=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Vt=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ki=class t extends Ss{constructor(e,n,i){super(e,n,ev(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Lx(t,e,...n){if(t=Tt(t),Fx("collection","path",e),t instanceof xs){let i=Le.fromString(e,...n);return j1(i),new Ki(t,null,i)}{if(!(t instanceof Vt||t instanceof Ki))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Le.fromString(e,...n));return j1(i),new Ki(t.firestore,null,i)}}function cv(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=ch.newId()),Fx("doc","path",e),t instanceof xs){let i=Le.fromString(e,...n);return L1(i),new Vt(t,null,new G(i))}{if(!(t instanceof Vt||t instanceof Ki))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Le.fromString(e,...n));return L1(i),new Vt(t.firestore,t instanceof Ki?t.converter:null,new G(i))}}var Ly=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ih(this,"async_queue_retry"),this.iu=()=>{let n=p0();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=p0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=p0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new En;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return E(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Rc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw fi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);let r=Sy.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&W()}verifyOperationInProgress(){}uu(){return E(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};var Wr=class extends xs{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Ly}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ux(this),this._firestoreClient.terminate()}};function jx(t,e){let n=typeof t=="object"?t:La(),i=typeof t=="string"?t:e||"(default)",r=r_(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=aT("firestore");o&&Vx(r,...o)}return r}function lv(t){return t._firestoreClient||Ux(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ux(t){var e,n,i;let r=t._freezeSettings(),o=function(a,c,l,u){return new T0(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,kx(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Vy(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var xc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(xt.fromBase64String(e))}catch(n){throw new V(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var As=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Sc=class{constructor(e){this._methodName=e}};var Ac=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}};var M4=/^__.*__$/,jy=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new zr(e,this.data,n,this.fieldTransforms)}},Oh=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Bx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var Uy=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Fh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Bx(this.Iu)&&M4.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},By=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Gh(e)}pu(e,n,i,r=!1){return new Uy({Iu:e,methodName:n,gu:i,path:Kt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function uv(t){let e=t._freezeSettings(),n=Gh(t._databaseId);return new By(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P4(t,e,n,i,r,o={}){let s=t.pu(o.merge||o.mergeFields?2:0,e,n,r);dv("Data must be an object, but it was:",s,i);let a=$x(i,s),c,l;if(o.merge)c=new dn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let p of o.mergeFields){let y=$y(e,p,n);if(!s.contains(y))throw new V(S.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Gx(u,y)||u.push(y)}c=new dn(u),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new jy(new Wt(a),c,l)}var kh=class t extends Sc{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function R4(t,e,n,i){let r=t.pu(1,e,n);dv("Data must be an object, but it was:",r,i);let o=[],s=Wt.empty();Kr(i,(c,l)=>{let u=hv(e,c,n);l=Tt(l);let p=r.Ru(u);if(l instanceof kh)o.push(u);else{let y=kc(l,p);y!=null&&(o.push(u),s.set(u,y))}});let a=new dn(o);return new Oh(s,a,r.fieldTransforms)}function N4(t,e,n,i,r,o){let s=t.pu(1,e,n),a=[$y(e,i,n)],c=[r];if(o.length%2!=0)throw new V(S.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push($y(e,o[y])),c.push(o[y+1]);let l=[],u=Wt.empty();for(let y=a.length-1;y>=0;--y)if(!Gx(l,a[y])){let v=a[y],D=c[y];D=Tt(D);let x=s.Ru(v);if(D instanceof kh)l.push(v);else{let A=kc(D,x);A!=null&&(l.push(v),u.set(v,A))}}let p=new dn(l);return new Oh(u,p,s.fieldTransforms)}function O4(t,e,n,i=!1){return kc(n,t.pu(i?4:3,e))}function kc(t,e){if(qx(t=Tt(t)))return dv("Unsupported field value:",e,t),$x(t,e);if(t instanceof Sc)return function(i,r){if(!Bx(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=kc(a,r.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wU(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=ut.fromDate(i);return{timestampValue:vh(r.serializer,o)}}if(i instanceof ut){let o=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vh(r.serializer,o)}}if(i instanceof Ac)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof xc)return{bytesValue:hx(r.serializer,i._byteString)};if(i instanceof Vt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tv(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Wh(i)}`)}(t,e)}function $x(t,e){let n={};return q1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(t,(i,r)=>{let o=kc(r,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function qx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Ac||t instanceof xc||t instanceof Vt||t instanceof Sc)}function dv(t,e,n){if(!qx(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Wh(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function $y(t,e,n){if((e=Tt(e))instanceof As)return e._internalPath;if(typeof e=="string")return hv(t,e);throw Fh("Field path arguments must be of type string or ",t,!1,void 0,n)}var k4=new RegExp("[~\\*/\\[\\]]");function hv(t,e,n){if(e.search(k4)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new As(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fh(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new V(S.INVALID_ARGUMENT,a+t+c)}function Gx(t,e){return t.some(n=>n.isEqual(e))}var Vh=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new qy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},qy=class extends Vh{data(){return super.data()}};function fv(t,e){return typeof e=="string"?hv(t,e):e instanceof As?e._internalPath:e._delegate._internalPath}function F4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mc=class{},Gy=class extends Mc{};function Hx(t,e,...n){let i=[];e instanceof Mc&&i.push(e),i=i.concat(n),function(o){let s=o.filter(c=>c instanceof Hy).length,a=o.filter(c=>c instanceof Lh).length;if(s>1||s>0&&a>0)throw new V(S.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Lh=class t extends Gy{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return Wx(e._query,n),new Ss(e.firestore,e.converter,L0(e._query,n))}_parse(e){let n=uv(e.firestore);return function(o,s,a,c,l,u,p){let y;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new V(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){B1(p,u);let v=[];for(let D of p)v.push(U1(c,o,D));y={arrayValue:{values:v}}}else y=U1(c,o,p)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||B1(p,u),y=O4(a,s,p,u==="in"||u==="not-in");return Je.create(l,u,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function zx(t,e,n){let i=e,r=fv("where",t);return Lh._create(r,i,n)}var Hy=class t extends Mc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:bn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)Wx(s,c),s=L0(s,c)}(e._query,n),new Ss(e.firestore,e.converter,L0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function U1(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J1(e)&&n.indexOf("/")!==-1)throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Le.fromString(n));if(!G.isDocumentKey(i))throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return m1(t,new G(i))}if(n instanceof Vt)return m1(t,n._key);throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function B1(t,e){if(!Array.isArray(t)||t.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wx(t,e){let n=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(S.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(S.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var zy=class{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Kr(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Ac(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=Yy(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){let n=Qi(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Le.fromString(e);Oe(_x(i));let r=new hh(i.get(1),i.get(3)),o=new G(i.popFirst(5));return r.isEqual(n)||fi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function V4(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var jr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},jh=class extends Vh{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(fv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},ms=class extends jh{data(e={}){return super.data(e)}},Wy=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new jr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ms(this._firestore,this._userDataWriter,i.key,i,new jr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new ms(r._firestore,r._userDataWriter,a.doc.key,a.doc,new jr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ms(r._firestore,r._userDataWriter,a.doc.key,a.doc,new jr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:L4(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function L4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function Kx(t){t=Xi(t,Vt);let e=Xi(t.firestore,Wr);return x4(lv(e),t._key).then(n=>j4(e,t,n))}var Uh=class extends zy{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}};function Qx(t){t=Xi(t,Ss);let e=Xi(t.firestore,Wr),n=lv(e),i=new Uh(e);return F4(t._query),S4(n,t._query).then(r=>new Wy(e,i,t,r))}function Yx(t,e,n,...i){t=Xi(t,Vt);let r=Xi(t.firestore,Wr),o=uv(r),s;return s=typeof(e=Tt(e))=="string"||e instanceof As?N4(o,"updateDoc",t._key,e,n,i):R4(o,"updateDoc",t._key,e),Zx(r,[s.toMutation(t._key,Wi.exists(!0))])}function Jx(t,e){let n=Xi(t.firestore,Wr),i=cv(t),r=V4(t.converter,e);return Zx(n,[P4(uv(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Wi.exists(!1))]).then(()=>i)}function Zx(t,e){return function(i,r){let o=new En;return i.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return m4(yield D4(i),r,o)})),o.promise}(lv(t),e)}function j4(t,e,n){let i=n.docs.get(e._key),r=new Uh(t);return new jh(t,r,e._key,i,new jr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Ms=r})(ts),qi(new ln("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Wr(new y0(i.getProvider("auth-internal")),new E0(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hh(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tt(h1,"4.4.0",e),tt(h1,"4.4.0","esm2017")})();var Yr=class{constructor(e){return e}},Xx="firestore",pv=class{constructor(){return Ua(Xx)}};var mv=new U("angularfire2.firestore-instances");function U4(t,e){let n=a_(Xx,t,e);return n&&new Yr(n)}function B4(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Yr(i)}}var $4={provide:pv,deps:[[new Zt,mv]]},q4={provide:Yr,useFactory:U4,deps:[[new Zt,mv],Ar]},G4=(()=>{class t{constructor(){tt("angularfire",is.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Nt({type:t});static \u0275inj=Rt({providers:[q4,$4]})}return t})();function eS(t,...e){return{ngModule:G4,providers:[{provide:mv,useFactory:B4(t),multi:!0,deps:[Ie,kt,Ba,$a,[new Zt,xd],[new Zt,ja],...e]}]}}var gv=Ht(Jx,!0);var Fc=Ht(Lx,!0);var Kh=Ht(cv,!0);var _v=Ht(Kx,!0);var yv=Ht(Qx,!0);var tS=Ht(jx,!0);var nS=Ht(Hx,!0);var iS=Ht(Yx,!0);var rS=Ht(zx,!0);var Rs=(()=>{class t{constructor(n){this.firestore=n}saveMatch(n){return E(this,null,function*(){let i=yield gv(Fc(this.firestore,"matches"),Y(M({},n),{heureDebut:n.heureDebut.toISOString(),updatedAt:new Date}));return console.log("Match saved:",i.id),i.id})}getAllMatches(){return E(this,null,function*(){let n=Fc(this.firestore,"matches");return(yield yv(n)).docs.map(r=>{let o=r.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date,duelsGagnes:o.duelsGagnes||[]}})})}getMatchById(n){return E(this,null,function*(){let i=yield _v(Kh(this.firestore,"matches",n));if(i.exists()){let r=i.data();return{equipe1:r.equipe1||"",equipe2:r.equipe2||"",score1:r.score1||0,score2:r.score2||0,buteurs:r.buteurs||[],heureDebut:new Date(r.heureDebut),lieu:r.lieu||"",positions:r.positions||{},showElements:r.showElements!==void 0?r.showElements:!0,competition:r.competition||void 0,updatedAt:r.updatedAt?new Date(r.updatedAt):new Date,duelsGagnes:r.duelsGagnes||[]}}return null})}saveCompetition(n){return E(this,null,function*(){let i=yield gv(Fc(this.firestore,"competitions"),Y(M({},n),{createdAt:new Date,updatedAt:new Date}));return console.log("Competition saved:",i.id),i.id})}getCompetitionById(n){return E(this,null,function*(){let i=yield _v(Kh(this.firestore,"competitions",n));return i.exists()?Y(M({},i.data()),{id:i.id}):null})}getCompetitionByName(n){return E(this,null,function*(){let i=Fc(this.firestore,"competitions"),r=nS(i,rS("name","==",n)),o=yield yv(r);if(!o.empty){let s=o.docs[0];return Y(M({},s.data()),{id:s.id})}return null})}addMatchToCompetition(n,i){return E(this,null,function*(){let r=Kh(this.firestore,"competitions",n),o=yield this.getCompetitionById(n);if(o){let s=[...o.matchIds,i];yield iS(r,{matchIds:s,updatedAt:new Date})}})}getMatchesByCompetition(n){return E(this,null,function*(){let i=yield this.getCompetitionById(n);if(!i)return[];let r=[];for(let o of i.matchIds){let s=yield this.getMatchById(o);s&&r.push(s)}return r})}shareCompetition(n,i,r){return E(this,null,function*(){let o={name:n,matchIds:[],createdAt:new Date,updatedAt:new Date},s=yield this.saveCompetition(o);return r?.("Comp\xE9tition cr\xE9\xE9e"),s})}static{this.\u0275fac=function(i){return new(i||t)(B(Yr))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Tn=()=>({standalone:!0}),z4=t=>({"disabled-goal":t}),sS=()=>[],W4=(t,e)=>({"text-success":t,"text-danger":e});function K4(t,e){if(t&1){let n=O();h(0,"button",23),I("click",function(){w(n);let r=g();return C(r.showMatchForm=!0)}),b(1,"i",24),h(2,"span",25),m(3," Match"),f()()}if(t&2){let n=g();d(2),_("hidden",n.selectedCompetitionFilter)}}function Q4(t,e){if(t&1){let n=O();h(0,"button",23),I("click",function(){w(n);let r=g();return C(r.showTeamFilterModal=!0)}),b(1,"i",26),f()}}function Y4(t,e){if(t&1){let n=O();h(0,"button",27),I("click",function(){w(n);let r=g();return C(r.openCompetitionFilterModal())}),b(1,"i",28),h(2,"span",29),m(3),f()()}if(t&2){let n=g();_("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info"),d(3),N(" ",n.selectedCompetitionFilter||n.getCurrentSeason(),"")}}function J4(t,e){if(t&1){let n=O();h(0,"button",30),I("click",function(){w(n);let r=g();return C(r.showRanking())}),b(1,"i",31)(2,"span"),f()}if(t&2){let n=g();_("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter),d(),Te("text-white",n.selectedCompetitionFilter),d(),Te("text-white",n.selectedCompetitionFilter)}}function Z4(t,e){if(t&1){let n=O();h(0,"button",32),I("click",function(){w(n);let r=g();return C(r.shareCompetition())}),b(1,"i",33)(2,"span"),f()}if(t&2){let n=g();_("ngClass",n.selectedCompetitionFilter?n.getCompetitionBadgeColor(n.selectedCompetitionFilter):"btn-info")("hidden",!n.selectedCompetitionFilter)("disabled",n.isSharingCompetition),d(),Te("text-white",n.selectedCompetitionFilter),_("ngClass",n.isSharingCompetition?"fa-spinner fa-spin":"fa-share-alt"),d(),Te("text-white",n.selectedCompetitionFilter)}}function X4(t,e){if(t&1&&(Se(0),m(1),Ae()),t&2){let n=g(2);d(),N(" de ",n.selectedCompetitionFilter," ")}}function eB(t,e){if(t&1){let n=O();h(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"input",57),pe("ngModelChange",function(r){w(n);let o=g(2);return _e(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),C(r)}),f(),h(5,"label",58)(6,"span",59),m(7),f()()()(),h(8,"div",50)(9,"button",60),I("click",function(){let r=w(n).$implicit,o=g(2);return C(o.openEditPlayersModal(r.name))}),b(10,"i",61),f(),h(11,"button",62),I("click",function(){let r=w(n).$implicit,o=g(2);return C(o.deleteTeam(r.name))}),b(12,"i",63),f()()()()}if(t&2){let n=e.$implicit,i=g(2);d(4),_("value",n.name),fe("ngModel",i.selectedTeamFilter),_("id","team-"+n.name),d(3),ne(n.name)}}function tB(t,e){if(t&1){let n=O();h(0,"div",34)(1,"div",35)(2,"div",36)(3,"h5",37),b(4,"i",38),m(5," S\xE9lectionner une \xC9quipe "),f(),h(6,"button",39),I("click",function(){w(n);let r=g();return C(r.closeTeamFilterModal())}),h(7,"span",40),m(8,"\xD7"),f()()(),h(9,"div",41)(10,"div",42)(11,"div",43)(12,"div",44)(13,"div",45)(14,"input",46),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),C(r)}),f(),h(15,"label",47)(16,"span",48),m(17," Toutes les \xE9quipes "),T(18,X4,2,1,"ng-container",49),f()()()(),b(19,"div",50),f()(),T(20,eB,13,4,"div",51),f(),h(21,"div",52)(22,"button",53),I("click",function(){w(n);let r=g();return C(r.openNewTeamModal())}),b(23,"i",54),m(24," Nouvelle \xC9quipe "),f(),h(25,"button",55),I("click",function(){w(n);let r=g();return C(r.closeTeamFilterModal())}),b(26,"i",56),m(27,"Fermer "),f()()()()}if(t&2){let n=g();d(14),_("value",""),fe("ngModel",n.selectedTeamFilter),d(4),_("ngIf",n.selectedCompetitionFilter),d(2),_("ngForOf",n.filteredTeamsForModal)}}function nB(t,e){if(t&1){let n=O();h(0,"app-competition-filter-modal",64),I("seasonChanged",function(r){w(n);let o=g();return C(o.onSeasonChanged(r))})("competitionSelected",function(r){w(n);let o=g();return C(o.onCompetitionSelected(r))})("competitionAdded",function(r){w(n);let o=g();return C(o.onCompetitionAdded(r))})("competitionUpdated",function(r){w(n);let o=g();return C(o.onCompetitionUpdated(r))})("competitionDeleted",function(r){w(n);let o=g();return C(o.onCompetitionDeleted(r))})("assignSeason",function(r){w(n);let o=g();return C(o.onAssignSeason(r))})("closeModal",function(){w(n);let r=g();return C(r.closeCompetitionFilterModal())}),f()}if(t&2){let n=g();_("competitions",n.uniqueCompetitions)("selectedSeason",n.selectedSeason)("availableSeasons",n.filteredSeasonsForModal)("selectedCompetition",n.selectedCompetitionFilter)("isCompetitionWithoutSeason",n.isCompetitionWithoutSeason.bind(n))("getSuggestedSeason",n.getSuggestedSeasonForCompetition.bind(n))}}function iB(t,e){if(t&1){let n=O();h(0,"button",95),I("click",function(){let r=w(n).$implicit,o=g(3);return C(o.selectTeam1(r))}),m(1),f()}if(t&2){let n=e.$implicit;d(),ne(n)}}function rB(t,e){if(t&1&&(h(0,"div",93),T(1,iB,2,1,"button",94),f()),t&2){let n=g(2);d(),_("ngForOf",n.filteredTeams1)}}function oB(t,e){if(t&1){let n=O();h(0,"div",96)(1,"button",97),I("click",function(){w(n);let r=g(2);return C(r.openNewTeamModalFor("equipe1"))}),m(2),f()()}if(t&2){let n=g(2);d(2),N(' Cr\xE9er "',n.team1Search,'" ')}}function sB(t,e){if(t&1){let n=O();h(0,"button",95),I("click",function(){let r=w(n).$implicit,o=g(3);return C(o.selectTeam2(r))}),m(1),f()}if(t&2){let n=e.$implicit;d(),ne(n)}}function aB(t,e){if(t&1&&(h(0,"div",93),T(1,sB,2,1,"button",94),f()),t&2){let n=g(2);d(),_("ngForOf",n.filteredTeams2)}}function cB(t,e){if(t&1){let n=O();h(0,"div",96)(1,"button",97),I("click",function(){w(n);let r=g(2);return C(r.openNewTeamModalFor("equipe2"))}),m(2),f()()}if(t&2){let n=g(2);d(2),N(' Cr\xE9er "',n.team2Search,'" ')}}function lB(t,e){if(t&1){let n=O();h(0,"button",95),I("click",function(){let r=w(n).$implicit,o=g(3);return C(o.selectCompetition(r))}),m(1),f()}if(t&2){let n=e.$implicit;d(),ne(n)}}function uB(t,e){if(t&1&&(h(0,"div",93),T(1,lB,2,1,"button",94),f()),t&2){let n=g(2);d(),_("ngForOf",n.filteredCompetitions)}}function dB(t,e){if(t&1){let n=O();h(0,"div",96)(1,"button",97),I("click",function(){w(n);let r=g(2);return C(r.selectCompetition(r.competitionSearch))}),m(2),f()()}if(t&2){let n=g(2);d(2),N(' Cr\xE9er "',n.competitionSearch,'" ')}}function hB(t,e){if(t&1){let n=O();h(0,"div",34)(1,"div",65)(2,"div",36)(3,"h4",37),b(4,"i",66),m(5,"Ajouter un Match! "),f(),h(6,"button",39),I("click",function(){w(n);let r=g();return C(r.showMatchForm=!1)}),h(7,"span",40),m(8,"\xD7"),f()()(),h(9,"div",41)(10,"form",67),I("ngSubmit",function(){w(n);let r=g();return C(r.onSubmit())}),h(11,"div",68)(12,"div",69)(13,"div",70)(14,"label",71),m(15,"\xC9quipe 1"),f(),h(16,"input",72),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.team1Search,r)||(o.team1Search=r),C(r)}),I("input",function(){w(n);let r=g();return C(r.updateFilteredTeams1())})("focus",function(){w(n);let r=g();return C(r.updateFilteredTeams1())}),f(),b(17,"input",73),T(18,rB,2,1,"div",74)(19,oB,3,1,"div",75),f(),h(20,"div",70)(21,"label",76),m(22,"\xC9quipe 2"),f(),h(23,"input",77),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.team2Search,r)||(o.team2Search=r),C(r)}),I("input",function(){w(n);let r=g();return C(r.updateFilteredTeams2())})("focus",function(){w(n);let r=g();return C(r.updateFilteredTeams2())}),f(),b(24,"input",78),T(25,aB,2,1,"div",74)(26,cB,3,1,"div",75),f()(),h(27,"div",69)(28,"div",79)(29,"label",80),m(30,"Heure de d\xE9but"),f(),b(31,"input",81),f(),h(32,"div",79)(33,"label",82),m(34,"Lieu du match (optionnel)"),f(),b(35,"input",83),f(),h(36,"div",70)(37,"label",84),m(38,"Comp\xE9tition (optionnel)"),f(),h(39,"input",85),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.competitionSearch,r)||(o.competitionSearch=r),C(r)}),I("input",function(){w(n);let r=g();return C(r.updateFilteredCompetitions())})("focus",function(){w(n);let r=g();return C(r.updateFilteredCompetitions())}),f(),b(40,"input",86),T(41,uB,2,1,"div",74)(42,dB,3,1,"div",75),f()()(),h(43,"div",87)(44,"button",88),m(45," Cr\xE9er le match "),f(),h(46,"button",89),m(47," \u{1F9F0} "),f(),h(48,"button",90),I("click",function(){w(n);let r=g();return C(r.showMatchForm=!1)}),m(49," Annuler "),f(),h(50,"ul",91)(51,"li")(52,"a",92),I("click",function(){w(n);let r=g();return C(r.exportMatches())}),m(53,"Exporter les matchs"),f()(),h(54,"li")(55,"a",92),I("click",function(){w(n);let r=g();return C(r.importMatches())}),m(56,"Importer des matchs"),f()()()()()(),h(57,"div",52)(58,"button",55),I("click",function(){w(n);let r=g();return C(r.showMatchForm=!1)}),b(59,"i",56),m(60,"Annuler "),f()()()()}if(t&2){let n=g();d(10),_("formGroup",n.matchForm),d(6),fe("ngModel",n.team1Search),_("ngModelOptions",Ft(13,Tn)),d(2),_("ngIf",n.filteredTeams1.length>0&&n.team1Search),d(),_("ngIf",n.shouldShowCreateTeam1()),d(4),fe("ngModel",n.team2Search),_("ngModelOptions",Ft(14,Tn)),d(2),_("ngIf",n.filteredTeams2.length>0&&n.team2Search),d(),_("ngIf",n.shouldShowCreateTeam2()),d(13),fe("ngModel",n.competitionSearch),_("ngModelOptions",Ft(15,Tn)),d(2),_("ngIf",n.filteredCompetitions.length>0&&n.competitionSearch),d(),_("ngIf",n.shouldShowCreateCompetition())}}function fB(t,e){t&1&&(h(0,"span",110),m(1,"\u2022"),f())}function pB(t,e){if(t&1&&(h(0,"span"),m(1),f()),t&2){let n=g().$implicit;d(),ne(n.lieu)}}function mB(t,e){t&1&&(h(0,"span",110),m(1,"\u2022"),f())}function gB(t,e){if(t&1&&(h(0,"span")(1,"span",111),m(2),f()()),t&2){let n=g().$implicit,i=g(2);d(),_("ngClass",i.getCompetitionBadgeColor(n.competition)),d(),ne(n.competition)}}function _B(t,e){t&1&&(h(0,"span"),b(1,"br"),f())}function yB(t,e){t&1&&(h(0,"span"),m(1,","),f())}function vB(t,e){if(t&1&&(h(0,"span",119),m(1),f()),t&2){let n=g(2).$implicit;d(),N("(Assist: ",n.assist,")")}}function wB(t,e){if(t&1&&(Se(0),T(1,_B,2,0,"span",49),m(2),T(3,yB,2,0,"span",49)(4,vB,2,1,"span",118),Ae()),t&2){let n=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),N(" ",n,"'"),d(),_("ngIf",i<r.minutes.length-1),d(),_("ngIf",r.assist)}}function CB(t,e){if(t&1&&(h(0,"div")(1,"div",116)(2,"span"),m(3),f(),h(4,"span",117),T(5,wB,5,4,"ng-container",100),f()()()),t&2){let n=e.$implicit;d(3),N("\u26BD ",n.nom,":"),d(2),_("ngForOf",n.minutes)}}function EB(t,e){t&1&&(h(0,"span"),b(1,"br"),f())}function IB(t,e){t&1&&(h(0,"span"),m(1,","),f())}function bB(t,e){if(t&1&&(h(0,"span",119),m(1),f()),t&2){let n=g(2).$implicit;d(),N("(Assist: ",n.assist,")")}}function TB(t,e){if(t&1&&(Se(0),T(1,EB,2,0,"span",49),m(2),T(3,IB,2,0,"span",49)(4,bB,2,1,"span",118),Ae()),t&2){let n=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),N(" ",n,"'"),d(),_("ngIf",i<r.minutes.length-1),d(),_("ngIf",r.assist)}}function DB(t,e){if(t&1&&(h(0,"div")(1,"div",120)(2,"span"),m(3),f(),h(4,"span",117),T(5,TB,5,4,"ng-container",100),f()()()),t&2){let n=e.$implicit;d(3),N("\u26BD ",n.nom,":"),d(2),_("ngForOf",n.minutes)}}function xB(t,e){t&1&&(h(0,"span"),b(1,"br"),f())}function SB(t,e){t&1&&(h(0,"span"),m(1,","),f())}function AB(t,e){if(t&1&&(h(0,"span",119),m(1),f()),t&2){let n=g(2).$implicit;d(),N("(Assist: ",n.assist,")")}}function MB(t,e){if(t&1&&(Se(0),T(1,xB,2,0,"span",49),m(2),T(3,SB,2,0,"span",49)(4,AB,2,1,"span",118),Ae()),t&2){let n=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),N(" ",n,"'"),d(),_("ngIf",i<r.minutes.length-1),d(),_("ngIf",r.assist)}}function PB(t,e){if(t&1&&(h(0,"div")(1,"div",116)(2,"span"),m(3),f(),h(4,"span",121),T(5,MB,5,4,"ng-container",100),f()()()),t&2){let n=e.$implicit;d(3),N("\u26BD ",n.nom,":"),d(2),_("ngForOf",n.minutes)}}function RB(t,e){t&1&&(h(0,"span"),b(1,"br"),f())}function NB(t,e){t&1&&(h(0,"span"),m(1,","),f())}function OB(t,e){if(t&1&&(h(0,"span",119),m(1),f()),t&2){let n=g(2).$implicit;d(),N("(Assist: ",n.assist,")")}}function kB(t,e){if(t&1&&(Se(0),T(1,RB,2,0,"span",49),m(2),T(3,NB,2,0,"span",49)(4,OB,2,1,"span",118),Ae()),t&2){let n=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),N(" ",n,"'"),d(),_("ngIf",i<r.minutes.length-1),d(),_("ngIf",r.assist)}}function FB(t,e){if(t&1&&(h(0,"div")(1,"div",120)(2,"span"),m(3),f(),h(4,"span",121),T(5,kB,5,4,"ng-container",100),f()()()),t&2){let n=e.$implicit;d(3),N("\u26BD ",n.nom,":"),d(2),_("ngForOf",n.minutes)}}function VB(t,e){if(t&1&&(h(0,"div",112)(1,"div",113)(2,"div",114),T(3,CB,6,2,"div",100)(4,DB,6,2,"div",100),f(),h(5,"div",115),T(6,PB,6,2,"div",100)(7,FB,6,2,"div",100),f()()()),t&2){let n=g().$implicit,i=g(2);d(3),_("ngForOf",i.getActiveGroupedScorers(n,1)),d(),_("ngForOf",i.getDisabledGroupedScorers(n,1)),d(2),_("ngForOf",i.getActiveGroupedScorers(n,2)),d(),_("ngForOf",i.getDisabledGroupedScorers(n,2))}}function LB(t,e){t&1&&(h(0,"span"),b(1,"br"),f())}function jB(t,e){t&1&&(h(0,"span"),m(1,","),f())}function UB(t,e){if(t&1&&(Se(0),T(1,LB,2,0,"span",49),m(2),T(3,jB,2,0,"span",49),Ae()),t&2){let n=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),N(" ",n,"'"),d(),_("ngIf",i<r.minutes.length-1)}}function BB(t,e){if(t&1&&(h(0,"div")(1,"div",122)(2,"span"),m(3),f(),h(4,"span",117),T(5,UB,4,3,"ng-container",100),f()()()),t&2){let n=e.$implicit;d(3),N("\u{1F6E1}\uFE0F ",n.nom,":"),d(2),_("ngForOf",n.minutes)}}function $B(t,e){t&1&&(h(0,"span"),b(1,"br"),f())}function qB(t,e){t&1&&(h(0,"span"),m(1,","),f())}function GB(t,e){if(t&1&&(Se(0),T(1,$B,2,0,"span",49),m(2),T(3,qB,2,0,"span",49),Ae()),t&2){let n=e.$implicit,i=e.index,r=g().$implicit;d(),_("ngIf",i>0&&i%5===0),d(),N(" ",n,"'"),d(),_("ngIf",i<r.minutes.length-1)}}function HB(t,e){if(t&1&&(h(0,"div")(1,"div",122)(2,"span"),m(3),f(),h(4,"span",121),T(5,GB,4,3,"ng-container",100),f()()()),t&2){let n=e.$implicit;d(3),N("\u{1F6E1}\uFE0F ",n.nom,":"),d(2),_("ngForOf",n.minutes)}}function zB(t,e){if(t&1&&(h(0,"div",112)(1,"div",113)(2,"div",114),T(3,BB,6,2,"div",100),f(),h(4,"div",115),T(5,HB,6,2,"div",100),f()()()),t&2){let n=g().$implicit,i=g(2);d(3),_("ngForOf",i.getGroupedDuels(n,1)),d(2),_("ngForOf",i.getGroupedDuels(n,2))}}function WB(t,e){if(t&1){let n=O();h(0,"div",123)(1,"button",124),I("click",function(){w(n);let r=g().$implicit,o=g(2);return C(o.selectMatch(r))}),b(2,"i",125),f(),h(3,"button",126),I("click",function(){w(n);let r=g().$implicit,o=g(2);return C(o.openDispositionModal(r))}),b(4,"i",127),f(),h(5,"button",128),I("click",function(){w(n);let r=g().$implicit,o=g(2);return C(o.toggleMatchEditForm(r))}),b(6,"i",33),f(),h(7,"button",129),I("click",function(){w(n);let r=g().$implicit,o=g(2);return C(o.shareMatch(r))}),b(8,"i",33),h(9,"span",130),m(10,"Partager"),f()()()}if(t&2){let n=g(3);d(6),_("ngClass",n.showMatchEditForm?"fa-pen-fancy":"fa-edit"),d(),_("disabled",n.isSharingMatch),d(),_("ngClass",n.isSharingMatch?"fa-spinner fa-spin":"fa-share-alt")}}function KB(t,e){if(t&1){let n=O();h(0,"div")(1,"div",101)(2,"div",102)(3,"span"),m(4),Ro(5,"date"),f(),T(6,fB,2,0,"span",103)(7,pB,2,1,"span",49)(8,mB,2,0,"span",103)(9,gB,3,2,"span",49),h(10,"button",104),I("click",function(){let r=w(n).$implicit,o=g(2);return C(o.toggleVisibility(r))}),b(11,"i",33),f()(),h(12,"div",105)(13,"div",106),m(14),f(),h(15,"button",107),I("click",function(){let r=w(n).$implicit,o=g(2);return C(o.selectMatch(r))}),m(16),f(),h(17,"div",106),m(18),f()(),T(19,VB,8,4,"div",108)(20,zB,6,2,"div",108)(21,WB,11,3,"div",109),f()()}if(t&2){let n=e.$implicit,i=g(2);Ai("data-match-id",n.id),d(4),ne(Zs(5,15,n.heureDebut,"EEEE dd/MM/yy HH:mm")),d(2),_("ngIf",n.lieu),d(),_("ngIf",n.lieu),d(),_("ngIf",n.competition),d(),_("ngIf",n.competition),d(2),_("ngClass",n.showElements?"fa-chevron-up":"fa-chevron-right"),d(3),ne(n.equipe1),d(),_("ngClass",i.getScoreColor(n)),d(),rn(" ",n.score1," - ",n.score2," "),d(2),ne(n.equipe2),d(),_("ngIf",n.showElements&&n.buteurs.length>0),d(),_("ngIf",n.showElements&&n.duelsGagnes&&n.duelsGagnes.length>0),d(),_("ngIf",n.showElements)}}function QB(t,e){if(t&1&&(h(0,"div",98),b(1,"h2"),h(2,"div",99),T(3,KB,22,18,"div",100),f()()),t&2){let n=g();d(3),_("ngForOf",n.getSortedMatches())}}function YB(t,e){if(t&1&&(Se(0),m(1),h(2,"div",155),m(3),f(),Ae()),t&2){let n=g(2);d(),rn(" ",n.selectedMatch.score1," - ",n.selectedMatch.score2," "),d(2),rn(" (",n.getActiveGoalsCount(1)," - ",n.getActiveGoalsCount(2)," buts actifs) ")}}function JB(t,e){if(t&1){let n=O();Se(0),h(1,"div",156)(2,"input",157),pe("ngModelChange",function(r){w(n);let o=g(2);return _e(o.selectedMatch.score1,r)||(o.selectedMatch.score1=r),C(r)}),I("input",function(){w(n);let r=g(2);return r.selectedMatch.score1=r.validateScore(r.selectedMatch.score1),C(r.onScoreChange())}),f(),h(3,"span"),m(4,"-"),f(),h(5,"input",157),pe("ngModelChange",function(r){w(n);let o=g(2);return _e(o.selectedMatch.score2,r)||(o.selectedMatch.score2=r),C(r)}),I("input",function(){w(n);let r=g(2);return r.selectedMatch.score2=r.validateScore(r.selectedMatch.score2),C(r.onScoreChange())}),f()(),Ae()}if(t&2){let n=g(2);d(2),fe("ngModel",n.selectedMatch.score1),d(3),fe("ngModel",n.selectedMatch.score2)}}function ZB(t,e){if(t&1){let n=O();h(0,"button",95),I("click",function(){let r=w(n).$implicit,o=g(4);return C(o.selectButeurName(r))}),m(1),f()}if(t&2){let n=e.$implicit;d(),ne(n)}}function XB(t,e){if(t&1&&(h(0,"div",93),T(1,ZB,2,1,"button",94),f()),t&2){let n=g(3);d(),_("ngForOf",n.filteredButeurNames)}}function e$(t,e){if(t&1){let n=O();h(0,"div",96)(1,"button",97),I("click",function(){w(n);let r=g(3);return C(r.selectButeurName(r.buteurNameSearch))}),m(2),f()()}if(t&2){let n=g(3);d(2),N(' Cr\xE9er "',n.buteurNameSearch,'" ')}}function t$(t,e){if(t&1){let n=O();h(0,"button",95),I("click",function(){let r=w(n).$implicit,o=g(4);return C(o.selectAssistName(r))}),m(1),f()}if(t&2){let n=e.$implicit;d(),ne(n)}}function n$(t,e){if(t&1&&(h(0,"div",93),T(1,t$,2,1,"button",94),f()),t&2){let n=g(3);d(),_("ngForOf",n.filteredAssistNames)}}function i$(t,e){if(t&1){let n=O();h(0,"div",96)(1,"button",97),I("click",function(){w(n);let r=g(3);return C(r.selectAssistName(r.assistSearch))}),m(2),f()()}if(t&2){let n=g(3);d(2),N(' Cr\xE9er "',n.assistSearch,'" ')}}function r$(t,e){if(t&1){let n=O();h(0,"div",158)(1,"div",159)(2,"div",160)(3,"div",36)(4,"h5",37),m(5),f(),h(6,"button",161),I("click",function(){w(n);let r=g(2);return C(r.showButeurForm=!1)}),f()(),h(7,"div",41)(8,"form",67),I("ngSubmit",function(){w(n);let r=g(2);return C(r.ajouterButeur())}),h(9,"div",162)(10,"div",163)(11,"label",164),m(12,"Nom du buteur"),f(),h(13,"input",165),pe("ngModelChange",function(r){w(n);let o=g(2);return _e(o.buteurNameSearch,r)||(o.buteurNameSearch=r),C(r)}),I("input",function(){w(n);let r=g(2);return C(r.updateFilteredButeurNames())})("focus",function(){w(n);let r=g(2);return C(r.updateFilteredButeurNames())}),f(),b(14,"input",166),T(15,XB,2,1,"div",74)(16,e$,3,1,"div",75),f(),h(17,"div",167)(18,"label",164),m(19,"Minute"),f(),b(20,"input",168),f(),h(21,"div",169)(22,"label",164),m(23,"\xC9quipe"),f(),h(24,"select",170),I("change",function(){w(n);let r=g(2);return C(r.onButeurEquipeChange())}),h(25,"option",171),m(26),f(),h(27,"option",171),m(28),f()()(),h(29,"div",172)(30,"label",164),m(31,"Assist (optionnel)"),f(),h(32,"input",173),pe("ngModelChange",function(r){w(n);let o=g(2);return _e(o.assistSearch,r)||(o.assistSearch=r),C(r)}),I("input",function(){w(n);let r=g(2);return C(r.updateFilteredAssistNames())})("focus",function(){w(n);let r=g(2);return C(r.updateFilteredAssistNames())}),f(),b(33,"input",174),T(34,n$,2,1,"div",74)(35,i$,3,1,"div",75),f()(),h(36,"div",175)(37,"button",176),I("click",function(){let r;w(n);let o=g(2);return C(o.addNewPlayer((r=o.buteurForm.get("nom"))==null?null:r.value))}),m(38),f(),h(39,"button",55),I("click",function(){w(n);let r=g(2);return C(r.annulerEditionButeur())}),m(40," Annuler "),f()()()()()()()}if(t&2){let n=g(2);d(5),ne(n.editingButeur?"Modifier le buteur":"Nouveau buteur"),d(3),_("formGroup",n.buteurForm),d(5),fe("ngModel",n.buteurNameSearch),_("ngModelOptions",Ft(16,Tn)),d(2),_("ngIf",n.filteredButeurNames.length>0&&n.buteurNameSearch),d(),_("ngIf",n.shouldShowCreateButeur()),d(9),_("value",1),d(),ne(n.selectedMatch.equipe1),d(),_("value",2),d(),ne(n.selectedMatch.equipe2),d(4),fe("ngModel",n.assistSearch),_("ngModelOptions",Ft(17,Tn)),d(2),_("ngIf",n.filteredAssistNames.length>0&&n.assistSearch),d(),_("ngIf",n.shouldShowCreateAssist()),d(2),_("disabled",!n.buteurForm.valid),d(),N(" ",n.editingButeur?"Enregistrer":"Ajouter"," ")}}function o$(t,e){t&1&&b(0,"i",181)}function s$(t,e){t&1&&b(0,"i",182)}function a$(t,e){t&1&&b(0,"i",183)}function c$(t,e){if(t&1){let n=O();h(0,"button",177),I("click",function(){let r=w(n).$implicit,o=g(2);return C(o.quickAddAction(r.name,1))}),T(1,o$,1,0,"i",178)(2,s$,1,0,"i",179)(3,a$,1,0,"i",180),m(4),f()}if(t&2){let n=e.$implicit;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function l$(t,e){if(t&1){let n=O();h(0,"button",177),I("click",function(){w(n);let r=g(2);return C(r.showButeurForm=!0)}),m(1," + "),f()}}function u$(t,e){t&1&&b(0,"i",181)}function d$(t,e){t&1&&b(0,"i",182)}function h$(t,e){t&1&&b(0,"i",183)}function f$(t,e){if(t&1){let n=O();h(0,"button",184),I("click",function(){let r=w(n).$implicit,o=g(2);return C(o.quickAddAction(r.name,2))}),T(1,u$,1,0,"i",178)(2,d$,1,0,"i",179)(3,h$,1,0,"i",180),m(4),f()}if(t&2){let n=e.$implicit;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function p$(t,e){if(t&1){let n=O();h(0,"button",184),I("click",function(){w(n);let r=g(2);return C(r.showButeurForm=!0)}),m(1," + "),f()}}function m$(t,e){if(t&1){let n=O();h(0,"div",186)(1,"div",187)(2,"span",188)(3,"strong",189),m(4),f()(),h(5,"div")(6,"button",190),I("click",function(){let r=w(n).index,o=g(3);return C(o.modifierButeur(o.matches.indexOf(o.selectedMatch),r))}),b(7,"i",61),f(),h(8,"button",191),I("click",function(){let r=w(n).index,o=g(3);return C(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),r))}),b(9,"i",192),f()()()()}if(t&2){let n=e.$implicit,i=e.index,r=g(3);d(),_("ngClass",DE(3,z4,r.isGoalDisabled(i))),d(2),_("ngClass",n.equipe===1?"buteur-team1":"buteur-team2"),d(),ne(r.getButeurDisplay(n))}}function g$(t,e){if(t&1&&(h(0,"div"),T(1,m$,10,5,"div",185),f()),t&2){let n=g(2);d(),_("ngForOf",n.selectedMatch.buteurs)}}function _$(t,e){if(t&1){let n=O();h(0,"div",196)(1,"div",197)(2,"span",188)(3,"strong",198),m(4),f(),h(5,"em",198),m(6),f()(),h(7,"div")(8,"button",191),I("click",function(){let r=w(n).index,o=g(3);return C(o.supprimerDuel(o.matches.indexOf(o.selectedMatch),r))}),b(9,"i",192),f()()()()}if(t&2){let n=e.$implicit,i=g(3);d(4),rn("\u{1F6E1}\uFE0F ",n.nom," - ",n.minute,"'"),d(2),N("(",n.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")")}}function y$(t,e){if(t&1&&(h(0,"div",193)(1,"div",194)(2,"h4")(3,"span",151),m(4,"\u{1F6E1}\uFE0F"),f(),m(5),f()(),h(6,"div"),T(7,_$,10,3,"div",195),f()()),t&2){let n=g(2);d(5),N(" Duels gagn\xE9s (",n.selectedMatch.duelsGagnes.length,") "),d(2),_("ngForOf",n.selectedMatch.duelsGagnes)}}function v$(t,e){t&1&&b(0,"i",181)}function w$(t,e){t&1&&b(0,"i",182)}function C$(t,e){t&1&&b(0,"i",183)}function E$(t,e){if(t&1){let n=O();h(0,"button",204),I("click",function(){let r=w(n).$implicit,o=g(3);return C(o.assignPlayerToPosition(r.name))}),T(1,v$,1,0,"i",178)(2,w$,1,0,"i",179)(3,C$,1,0,"i",180),m(4),f()}if(t&2){let n=e.$implicit;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function I$(t,e){if(t&1){let n=O();h(0,"div",199)(1,"div",200)(2,"h6"),m(3),f(),h(4,"div",201),T(5,E$,5,4,"button",202),f(),h(6,"button",203),I("click",function(){w(n);let r=g(2);return C(r.selectedPosition=null)}),m(7," Annuler "),f()()()}if(t&2){let n=g(2);d(3),N("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),d(2),_("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function b$(t,e){if(t&1){let n=O();h(0,"div",131)(1,"div",132)(2,"button",133),I("click",function(){w(n);let r=g();return C(r.showScoreForm=!1)}),m(3,"\xD7"),f(),h(4,"h3",134),b(5,"i",135),m(6,"Modifier le score "),f(),b(7,"br"),h(8,"div",136)(9,"div",105)(10,"div",106),m(11),f(),h(12,"div",137),I("click",function(){w(n);let r=g();return C(r.showScoreForm=!0)}),T(13,YB,4,4,"ng-container",49)(14,JB,6,2,"ng-container",49),f(),h(15,"div",106),m(16),f()()(),T(17,r$,41,18,"div",138),h(18,"div",98)(19,"div",139)(20,"div",140)(21,"h5",141),m(22),f(),h(23,"div",142),T(24,c$,5,4,"button",143)(25,l$,2,0,"button",144),f()(),h(26,"div",140)(27,"h5",145),m(28),f(),h(29,"div",146),T(30,f$,5,4,"button",147)(31,p$,2,0,"button",148),f()()()(),h(32,"div",149)(33,"div",150),I("click",function(){w(n);let r=g();return C(r.toggleButeursList())}),h(34,"h4")(35,"span",151),m(36),f(),m(37),f()(),T(38,g$,2,1,"div",49),f(),T(39,y$,8,2,"div",152)(40,I$,8,2,"div",153),h(41,"div",154)(42,"button",55),I("click",function(){w(n);let r=g();return C(r.selectedMatch=null)}),m(43," Fermer "),f()()()()}if(t&2){let n=g();d(11),ne(n.selectedMatch.equipe1),d(),_("ngClass",n.getScoreColor(n.selectedMatch)),d(),_("ngIf",!n.showScoreForm),d(),_("ngIf",n.showScoreForm),d(2),ne(n.selectedMatch.equipe2),d(),_("ngIf",n.showButeurForm),d(5),ne(n.selectedMatch.equipe1),d(2),_("ngForOf",n.getTeamPlayers(1)),d(),_("ngIf",!n.showButeurForm),d(3),ne(n.selectedMatch.equipe2),d(2),_("ngForOf",n.getTeamPlayers(2)),d(),_("ngIf",!n.showButeurForm),d(5),ne(n.showButeursList?"\u25BC":"\u25B6"),d(),N(" Buteurs (",n.selectedMatch.buteurs.length,") "),d(),_("ngIf",n.showButeursList),d(),_("ngIf",n.selectedMatch.duelsGagnes&&n.selectedMatch.duelsGagnes.length>0),d(),_("ngIf",n.selectedPosition&&n.selectedMatch)}}function T$(t,e){if(t&1){let n=O();h(0,"button",95),I("click",function(){let r=w(n).$implicit,o=g(3);return C(o.selectEditTeam1(r))}),m(1),f()}if(t&2){let n=e.$implicit;d(),ne(n)}}function D$(t,e){if(t&1&&(h(0,"div",93),T(1,T$,2,1,"button",94),f()),t&2){let n=g(2);d(),_("ngForOf",n.editFilteredTeams1)}}function x$(t,e){if(t&1){let n=O();h(0,"div",96)(1,"button",97),I("click",function(){w(n);let r=g(2);return C(r.selectEditTeam1(r.editTeam1Search))}),m(2),f()()}if(t&2){let n=g(2);d(2),N(' Cr\xE9er "',n.editTeam1Search,'" ')}}function S$(t,e){if(t&1){let n=O();h(0,"button",95),I("click",function(){let r=w(n).$implicit,o=g(3);return C(o.selectEditTeam2(r))}),m(1),f()}if(t&2){let n=e.$implicit;d(),ne(n)}}function A$(t,e){if(t&1&&(h(0,"div",93),T(1,S$,2,1,"button",94),f()),t&2){let n=g(2);d(),_("ngForOf",n.editFilteredTeams2)}}function M$(t,e){if(t&1){let n=O();h(0,"div",96)(1,"button",97),I("click",function(){w(n);let r=g(2);return C(r.selectEditTeam2(r.editTeam2Search))}),m(2),f()()}if(t&2){let n=g(2);d(2),N(' Cr\xE9er "',n.editTeam2Search,'" ')}}function P$(t,e){if(t&1){let n=O();h(0,"button",95),I("click",function(){let r=w(n).$implicit,o=g(3);return C(o.selectEditCompetition(r))}),m(1),f()}if(t&2){let n=e.$implicit;d(),ne(n)}}function R$(t,e){if(t&1&&(h(0,"div",93),T(1,P$,2,1,"button",94),f()),t&2){let n=g(2);d(),_("ngForOf",n.editFilteredCompetitions)}}function N$(t,e){if(t&1){let n=O();h(0,"div",96)(1,"button",97),I("click",function(){w(n);let r=g(2);return C(r.selectEditCompetition(r.editCompetitionSearch))}),m(2),f()()}if(t&2){let n=g(2);d(2),N(' Cr\xE9er "',n.editCompetitionSearch,'" ')}}function O$(t,e){if(t&1){let n=O();h(0,"div",205)(1,"div",160)(2,"span",206),I("click",function(){w(n);let r=g();return C(r.showMatchEditForm=!1)}),m(3,"\xD7"),f(),h(4,"h3",134),b(5,"i",207),m(6,"Modifier le match "),f(),h(7,"form",67),I("ngSubmit",function(){w(n);let r=g();return C(r.onSubmitMatchEdit())}),h(8,"div",208)(9,"label",209),m(10,"\xC9quipe 1:"),f(),h(11,"div",210)(12,"input",211),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.editTeam1Search,r)||(o.editTeam1Search=r),C(r)}),I("input",function(){w(n);let r=g();return C(r.updateEditFilteredTeams1())})("focus",function(){w(n);let r=g();return C(r.updateEditFilteredTeams1())}),f(),b(13,"input",73),T(14,D$,2,1,"div",74)(15,x$,3,1,"div",75),f()(),h(16,"div",208)(17,"label",212),m(18,"\xC9quipe 2:"),f(),h(19,"div",210)(20,"input",213),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.editTeam2Search,r)||(o.editTeam2Search=r),C(r)}),I("input",function(){w(n);let r=g();return C(r.updateEditFilteredTeams2())})("focus",function(){w(n);let r=g();return C(r.updateEditFilteredTeams2())}),f(),b(21,"input",78),T(22,A$,2,1,"div",74)(23,M$,3,1,"div",75),f()(),h(24,"div",208)(25,"label",214),m(26,"Heure de d\xE9but:"),f(),b(27,"input",215),f(),h(28,"div",208)(29,"label",216),m(30,"Lieu:"),f(),b(31,"input",217),f(),h(32,"div",208)(33,"label",218),m(34,"Comp\xE9tition:"),f(),h(35,"div",210)(36,"input",219),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.editCompetitionSearch,r)||(o.editCompetitionSearch=r),C(r)}),I("input",function(){w(n);let r=g();return C(r.updateEditFilteredCompetitions())})("focus",function(){w(n);let r=g();return C(r.updateEditFilteredCompetitions())}),f(),b(37,"input",86),T(38,R$,2,1,"div",74)(39,N$,3,1,"div",75),f()(),h(40,"div",220)(41,"button",221),I("click",function(){w(n);let r=g();return C(r.onSubmitMatchEdit())}),m(42,"Enregistrer"),f(),h(43,"button",222),I("click",function(){w(n);let r=g();return C(r.supprimerMatch(r.selectedMatch))}),b(44,"i",192),m(45," Supprimer le match "),f()()()()()}if(t&2){let n=g();d(7),_("formGroup",n.matchEditForm),d(5),fe("ngModel",n.editTeam1Search),_("ngModelOptions",Ft(13,Tn)),d(2),_("ngIf",n.editFilteredTeams1.length>0&&n.editTeam1Search),d(),_("ngIf",n.editTeam1Search&&n.editFilteredTeams1.length===0&&!n.getTeamNames().includes(n.editTeam1Search)),d(5),fe("ngModel",n.editTeam2Search),_("ngModelOptions",Ft(14,Tn)),d(2),_("ngIf",n.editFilteredTeams2.length>0&&n.editTeam2Search),d(),_("ngIf",n.editTeam2Search&&n.editFilteredTeams2.length===0&&!n.getTeamNames().includes(n.editTeam2Search)),d(13),fe("ngModel",n.editCompetitionSearch),_("ngModelOptions",Ft(15,Tn)),d(2),_("ngIf",n.editFilteredCompetitions.length>0&&n.editCompetitionSearch),d(),_("ngIf",n.editCompetitionSearch&&n.editFilteredCompetitions.length===0&&!n.getCompetitionNames().includes(n.editCompetitionSearch))}}function k$(t,e){if(t&1&&(h(0,"span",238),m(1," \u2022 "),f()),t&2){let n=e.index,i=g(2);Te("fade",n>=i.remainingDots)}}function F$(t,e){if(t&1&&(h(0,"option",239),m(1),f()),t&2){let n=e.$implicit,i=g(2);_("value",n.name)("disabled",n.name===i.lastGoalScorer),d(),N(" ",n.name," ")}}function V$(t,e){if(t&1){let n=O();h(0,"div",223)(1,"div",224)(2,"div",225),m(3,"\u26BDBUUUT !"),f(),h(4,"div",226),m(5),f(),h(6,"div",227),m(7),f(),h(8,"div",228),m(9,"\u26BD"),f(),h(10,"div",229),T(11,k$,2,2,"span",230),f(),h(12,"div",231)(13,"select",232),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.lastGoalAssist,r)||(o.lastGoalAssist=r),C(r)}),h(14,"option",233),m(15,"Aucun assist"),f(),T(16,F$,2,3,"option",234),f(),h(17,"div",235)(18,"button",236),I("click",function(){w(n);let r=g();return C(r.saveGoalWithAssist())}),m(19," Enregistrer "),f(),h(20,"button",237),I("click",function(){w(n);let r=g();return C(r.cancelGoal())}),m(21," Annuler "),f()()()()()}if(t&2){let n=g();d(5),N(" ",n.lastGoalScorer," "),d(2),N(" ",n.lastGoalTeam," "),d(4),_("ngForOf",Ft(5,sS).constructor(5)),d(2),fe("ngModel",n.lastGoalAssist),d(3),_("ngForOf",n.getTeamPlayers(n.lastGoalTeam===(n.selectedMatch==null?null:n.selectedMatch.equipe1)?1:2))}}function L$(t,e){if(t&1&&(h(0,"span",238),m(1," \u2022 "),f()),t&2){let n=e.index,i=g(2);Te("fade",n>=i.remainingDots)}}function j$(t,e){if(t&1){let n=O();h(0,"div",223)(1,"div",224)(2,"div",240),m(3,"\u{1F6E1}\uFE0FDUEL GAGN\xC9"),f(),h(4,"div",226),m(5),f(),h(6,"div",227),m(7),f(),h(8,"div",228),m(9,"\u{1F6E1}\uFE0F"),f(),h(10,"div",229),T(11,L$,2,2,"span",230),f(),h(12,"div",235)(13,"button",241),I("click",function(){w(n);let r=g();return C(r.saveDuel())}),m(14," Enregistrer "),f(),h(15,"button",237),I("click",function(){w(n);let r=g();return C(r.cancelDuel())}),m(16," Annuler "),f()()()()}if(t&2){let n=g();d(5),N(" ",n.lastDuelWinner," "),d(2),N(" ",n.lastDuelTeam," "),d(4),_("ngForOf",Ft(3,sS).constructor(5))}}function U$(t,e){t&1&&(h(0,"span",267),m(1,"-"),f())}function B$(t,e){t&1&&b(0,"i",181)}function $$(t,e){t&1&&b(0,"i",182)}function q$(t,e){t&1&&b(0,"i",183)}function G$(t,e){if(t&1&&(Se(0),T(1,B$,1,0,"i",178)(2,$$,1,0,"i",179)(3,q$,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function H$(t,e){t&1&&b(0,"i",181)}function z$(t,e){t&1&&b(0,"i",182)}function W$(t,e){t&1&&b(0,"i",183)}function K$(t,e){if(t&1&&(Se(0),T(1,H$,1,0,"i",178)(2,z$,1,0,"i",179)(3,W$,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function Q$(t,e){if(t&1){let n=O();h(0,"div")(1,"div",268),I("click",function(){w(n);let r=g(2);return C(r.selectPosition(1,"milieu-offensif"))}),h(2,"div",256)(3,"span",257),m(4,"MO"),f(),h(5,"span",259),T(6,K$,5,4,"ng-container",49),f()()()()}if(t&2){let n=g(2);d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),d(4),_("ngIf",n.getPlayerForPosition(1,"milieu-offensif"))}}function Y$(t,e){t&1&&b(0,"i",181)}function J$(t,e){t&1&&b(0,"i",182)}function Z$(t,e){t&1&&b(0,"i",183)}function X$(t,e){if(t&1&&(Se(0),T(1,Y$,1,0,"i",178)(2,J$,1,0,"i",179)(3,Z$,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function e5(t,e){t&1&&b(0,"i",181)}function t5(t,e){t&1&&b(0,"i",182)}function n5(t,e){t&1&&b(0,"i",183)}function i5(t,e){if(t&1&&(Se(0),T(1,e5,1,0,"i",178)(2,t5,1,0,"i",179)(3,n5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function r5(t,e){t&1&&b(0,"i",181)}function o5(t,e){t&1&&b(0,"i",182)}function s5(t,e){t&1&&b(0,"i",183)}function a5(t,e){if(t&1&&(Se(0),T(1,r5,1,0,"i",178)(2,o5,1,0,"i",179)(3,s5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function c5(t,e){t&1&&b(0,"i",181)}function l5(t,e){t&1&&b(0,"i",182)}function u5(t,e){t&1&&b(0,"i",183)}function d5(t,e){if(t&1&&(Se(0),T(1,c5,1,0,"i",178)(2,l5,1,0,"i",179)(3,u5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function h5(t,e){if(t&1){let n=O();h(0,"div")(1,"div",269),I("click",function(){w(n);let r=g(2);return C(r.selectPosition(1,"defenseur-gauche"))}),h(2,"div",256)(3,"span",257),m(4,"DG"),f(),h(5,"span",259),T(6,d5,5,4,"ng-container",49),f()()()()}if(t&2){let n=g(2);d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),d(4),_("ngIf",n.getPlayerForPosition(1,"defenseur-gauche"))}}function f5(t,e){t&1&&b(0,"i",181)}function p5(t,e){t&1&&b(0,"i",182)}function m5(t,e){t&1&&b(0,"i",183)}function g5(t,e){if(t&1&&(Se(0),T(1,f5,1,0,"i",178)(2,p5,1,0,"i",179)(3,m5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function _5(t,e){if(t&1){let n=O();h(0,"div")(1,"div",270),I("click",function(){w(n);let r=g(2);return C(r.selectPosition(1,"defenseur-droit"))}),h(2,"div",256)(3,"span",257),m(4,"DD"),f(),h(5,"span",259),T(6,g5,5,4,"ng-container",49),f()()()()}if(t&2){let n=g(2);d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),d(4),_("ngIf",n.getPlayerForPosition(1,"defenseur-droit"))}}function y5(t,e){t&1&&b(0,"i",181)}function v5(t,e){t&1&&b(0,"i",182)}function w5(t,e){t&1&&b(0,"i",183)}function C5(t,e){if(t&1&&(Se(0),T(1,y5,1,0,"i",178)(2,v5,1,0,"i",179)(3,w5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function E5(t,e){t&1&&(h(0,"span",267),m(1,"-"),f())}function I5(t,e){t&1&&b(0,"i",181)}function b5(t,e){t&1&&b(0,"i",182)}function T5(t,e){t&1&&b(0,"i",183)}function D5(t,e){if(t&1&&(Se(0),T(1,I5,1,0,"i",178)(2,b5,1,0,"i",179)(3,T5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function x5(t,e){t&1&&b(0,"i",181)}function S5(t,e){t&1&&b(0,"i",182)}function A5(t,e){t&1&&b(0,"i",183)}function M5(t,e){if(t&1&&(Se(0),T(1,x5,1,0,"i",178)(2,S5,1,0,"i",179)(3,A5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function P5(t,e){if(t&1){let n=O();h(0,"div")(1,"div",268),I("click",function(){w(n);let r=g(2);return C(r.selectPosition(2,"milieu-offensif"))}),h(2,"div",256)(3,"span",257),m(4,"MO"),f(),h(5,"span",259),T(6,M5,5,4,"ng-container",49),f()()()()}if(t&2){let n=g(2);d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-offensif"),d(4),_("ngIf",n.getPlayerForPosition(2,"milieu-offensif"))}}function R5(t,e){t&1&&b(0,"i",181)}function N5(t,e){t&1&&b(0,"i",182)}function O5(t,e){t&1&&b(0,"i",183)}function k5(t,e){if(t&1&&(Se(0),T(1,R5,1,0,"i",178)(2,N5,1,0,"i",179)(3,O5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function F5(t,e){t&1&&b(0,"i",181)}function V5(t,e){t&1&&b(0,"i",182)}function L5(t,e){t&1&&b(0,"i",183)}function j5(t,e){if(t&1&&(Se(0),T(1,F5,1,0,"i",178)(2,V5,1,0,"i",179)(3,L5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function U5(t,e){t&1&&b(0,"i",181)}function B5(t,e){t&1&&b(0,"i",182)}function $5(t,e){t&1&&b(0,"i",183)}function q5(t,e){if(t&1&&(Se(0),T(1,U5,1,0,"i",178)(2,B5,1,0,"i",179)(3,$5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function G5(t,e){t&1&&b(0,"i",181)}function H5(t,e){t&1&&b(0,"i",182)}function z5(t,e){t&1&&b(0,"i",183)}function W5(t,e){if(t&1&&(Se(0),T(1,G5,1,0,"i",178)(2,H5,1,0,"i",179)(3,z5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function K5(t,e){if(t&1){let n=O();h(0,"div")(1,"div",269),I("click",function(){w(n);let r=g(2);return C(r.selectPosition(2,"defenseur-gauche"))}),h(2,"div",256)(3,"span",257),m(4,"DG"),f(),h(5,"span",259),T(6,W5,5,4,"ng-container",49),f()()()()}if(t&2){let n=g(2);d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-gauche"),d(4),_("ngIf",n.getPlayerForPosition(2,"defenseur-gauche"))}}function Q5(t,e){t&1&&b(0,"i",181)}function Y5(t,e){t&1&&b(0,"i",182)}function J5(t,e){t&1&&b(0,"i",183)}function Z5(t,e){if(t&1&&(Se(0),T(1,Q5,1,0,"i",178)(2,Y5,1,0,"i",179)(3,J5,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function X5(t,e){if(t&1){let n=O();h(0,"div")(1,"div",270),I("click",function(){w(n);let r=g(2);return C(r.selectPosition(2,"defenseur-droit"))}),h(2,"div",256)(3,"span",257),m(4,"DD"),f(),h(5,"span",259),T(6,Z5,5,4,"ng-container",49),f()()()()}if(t&2){let n=g(2);d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-droit"),d(4),_("ngIf",n.getPlayerForPosition(2,"defenseur-droit"))}}function e9(t,e){t&1&&b(0,"i",181)}function t9(t,e){t&1&&b(0,"i",182)}function n9(t,e){t&1&&b(0,"i",183)}function i9(t,e){if(t&1&&(Se(0),T(1,e9,1,0,"i",178)(2,t9,1,0,"i",179)(3,n9,1,0,"i",180),m(4),Ae()),t&2){let n=e.ngIf;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function r9(t,e){t&1&&b(0,"div")}function o9(t,e){t&1&&b(0,"i",181)}function s9(t,e){t&1&&b(0,"i",182)}function a9(t,e){t&1&&b(0,"i",183)}function c9(t,e){if(t&1){let n=O();h(0,"button",204),I("click",function(){let r=w(n).$implicit,o=g(3);return C(o.assignPlayerToPosition(r.name))}),T(1,o9,1,0,"i",178)(2,s9,1,0,"i",179)(3,a9,1,0,"i",180),m(4),f()}if(t&2){let n=e.$implicit;d(),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="defenseur"),d(),_("ngIf",n.type==="milieu"),d(),N(" ",n.name," ")}}function l9(t,e){if(t&1){let n=O();h(0,"div",199)(1,"div",200)(2,"h6"),m(3),f(),h(4,"div",201),T(5,c9,5,4,"button",202),f(),h(6,"button",203),I("click",function(){w(n);let r=g(2);return C(r.selectedPosition=null)}),m(7," Annuler "),f()()()}if(t&2){let n=g(2);d(3),N("S\xE9lectionner un joueur pour ",n.selectedPosition.position,""),d(2),_("ngForOf",n.getTeamPlayers(n.selectedPosition.team))}}function u9(t,e){if(t&1){let n=O();h(0,"div",242)(1,"div",243)(2,"button",206),I("click",function(){w(n);let r=g();return C(r.closeDispositionModal())}),m(3,"\xD7"),f(),h(4,"h3",134),b(5,"i",244),m(6,"Disposition tactique "),f(),h(7,"div",245)(8,"button",246),I("click",function(){w(n);let r=g();return C(r.toggleDefendersAndMidfielders())}),m(9),f(),h(10,"div",247)(11,"div",248)(12,"button",249),I("click",function(){w(n);let r=g();return C(r.encodingGoalsEnabled=!r.encodingGoalsEnabled)}),b(13,"i",181),m(14),f(),h(15,"button",250),I("click",function(){w(n);let r=g();return C(r.encodingDuelsEnabled=!r.encodingDuelsEnabled)}),b(16,"i",182),m(17),f()()()(),h(18,"div",251)(19,"div",252)(20,"div",253)(21,"h5",141),m(22),f(),h(23,"div",254)(24,"div",255),I("click",function(){w(n);let r=g();return C(r.selectPosition(1,"attaquant"))}),h(25,"div",256)(26,"span",257),m(27,"AT"),f(),T(28,U$,2,0,"span",258),h(29,"span",259),T(30,G$,5,4,"ng-container",49),f()()(),T(31,Q$,7,3,"div",49),h(32,"div",260),I("click",function(){w(n);let r=g();return C(r.selectPosition(1,"milieu-gauche"))}),h(33,"div",256)(34,"span",257),m(35,"MG"),f(),h(36,"span",259),T(37,X$,5,4,"ng-container",49),f()()(),h(38,"div",261),I("click",function(){w(n);let r=g();return C(r.selectPosition(1,"milieu-droit"))}),h(39,"div",256)(40,"span",257),m(41,"MD"),f(),h(42,"span",259),T(43,i5,5,4,"ng-container",49),f()()(),h(44,"div",262),I("click",function(){w(n);let r=g();return C(r.selectPosition(1,"defenseur-central"))}),h(45,"div",256)(46,"span",257),m(47,"DC"),f(),h(48,"span",259),T(49,a5,5,4,"ng-container",49),f()()(),T(50,h5,7,3,"div",49)(51,_5,7,3,"div",49),h(52,"div",263),I("click",function(){w(n);let r=g();return C(r.selectPosition(1,"gardien"))}),h(53,"div",256)(54,"span",257),m(55,"G"),f(),h(56,"span",259),T(57,C5,5,4,"ng-container",49),f()()()()(),h(58,"div",264)(59,"h5",145),m(60),f(),h(61,"div",254)(62,"div",255),I("click",function(){w(n);let r=g();return C(r.selectPosition(2,"attaquant"))}),h(63,"div",256)(64,"span",257),m(65,"AT"),f(),T(66,E5,2,0,"span",258),h(67,"span",259),T(68,D5,5,4,"ng-container",49),f()()(),T(69,P5,7,3,"div",49),h(70,"div",260),I("click",function(){w(n);let r=g();return C(r.selectPosition(2,"milieu-gauche"))}),h(71,"div",256)(72,"span",257),m(73,"MG"),f(),h(74,"span",259),T(75,k5,5,4,"ng-container",49),f()()(),h(76,"div",261),I("click",function(){w(n);let r=g();return C(r.selectPosition(2,"milieu-droit"))}),h(77,"div",256)(78,"span",257),m(79,"MD"),f(),h(80,"span",259),T(81,j5,5,4,"ng-container",49),f()()(),h(82,"div",262),I("click",function(){w(n);let r=g();return C(r.selectPosition(2,"defenseur-central"))}),h(83,"div",256)(84,"span",257),m(85,"DC"),f(),h(86,"span",259),T(87,q5,5,4,"ng-container",49),f()()(),T(88,K5,7,3,"div",49)(89,X5,7,3,"div",49),h(90,"div",263),I("click",function(){w(n);let r=g();return C(r.selectPosition(2,"gardien"))}),h(91,"div",256)(92,"span",257),m(93,"G"),f(),h(94,"span",259),T(95,i9,5,4,"ng-container",49),f()()(),T(96,r9,1,0,"div",49),f()()(),h(97,"div",265)(98,"p",266),m(99," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),f()()(),T(100,l9,8,2,"div",153),f()()}if(t&2){let n=g();d(9),N(" ",n.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),d(3),Te("btn-success",n.encodingGoalsEnabled)("btn-outline-success",!n.encodingGoalsEnabled),d(2),N(" Buts ",n.encodingGoalsEnabled?"ON":"OFF"," "),d(),Te("btn-success",n.encodingDuelsEnabled)("btn-outline-success",!n.encodingDuelsEnabled),d(2),N(" Duels ",n.encodingDuelsEnabled?"ON":"OFF"," "),d(5),ne(n.selectedMatch.equipe1),d(3),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),d(3),_("ngIf",n.getPlayerForPosition(1,"attaquant")),d(2),_("ngIf",n.getPlayerForPosition(1,"attaquant")),d(),_("ngIf",n.showDefendersAndMidfielders),d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),d(4),_("ngIf",n.getPlayerForPosition(1,"milieu-gauche")),d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),d(4),_("ngIf",n.getPlayerForPosition(1,"milieu-droit")),d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),d(4),_("ngIf",n.getPlayerForPosition(1,"defenseur-central")),d(),_("ngIf",n.showDefendersAndMidfielders),d(),_("ngIf",n.showDefendersAndMidfielders),d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===1&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),d(4),_("ngIf",n.getPlayerForPosition(1,"gardien")),d(3),ne(n.selectedMatch.equipe2),d(3),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="attaquant"),d(3),_("ngIf",n.getPlayerForPosition(2,"attaquant")),d(2),_("ngIf",n.getPlayerForPosition(2,"attaquant")),d(),_("ngIf",n.showDefendersAndMidfielders),d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-gauche"),d(4),_("ngIf",n.getPlayerForPosition(2,"milieu-gauche")),d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="milieu-droit"),d(4),_("ngIf",n.getPlayerForPosition(2,"milieu-droit")),d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="defenseur-central"),d(4),_("ngIf",n.getPlayerForPosition(2,"defenseur-central")),d(),_("ngIf",n.showDefendersAndMidfielders),d(),_("ngIf",n.showDefendersAndMidfielders),d(2),Te("selected",(n.selectedPosition==null?null:n.selectedPosition.team)===2&&(n.selectedPosition==null?null:n.selectedPosition.position)==="gardien"),d(4),_("ngIf",n.getPlayerForPosition(2,"gardien")),d(),_("ngIf",n.showDefendersAndMidfielders),d(4),_("ngIf",n.selectedPosition&&n.selectedMatch)}}function d9(t,e){if(t&1){let n=O();h(0,"div",131)(1,"div",159)(2,"div",160)(3,"div",36)(4,"h5",37),m(5,"Choisir le format d'export"),f(),h(6,"button",161),I("click",function(){w(n);let r=g();return C(r.closeExportModal())}),f()(),h(7,"div",41)(8,"div",271)(9,"input",272),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.exportFormats.txt,r)||(o.exportFormats.txt=r),C(r)}),f(),h(10,"label",273),m(11," Format TXT "),f()(),h(12,"div",271)(13,"input",274),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.exportFormats.csv,r)||(o.exportFormats.csv=r),C(r)}),f(),h(14,"label",275),m(15," Format CSV "),f()(),h(16,"div",271)(17,"input",276),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.exportFormats.json,r)||(o.exportFormats.json=r),C(r)}),f(),h(18,"label",277),m(19," Format JSON "),f()()(),h(20,"div",52)(21,"button",55),I("click",function(){w(n);let r=g();return C(r.closeExportModal())}),m(22,"Annuler"),f(),h(23,"button",278),I("click",function(){w(n);let r=g();return C(r.confirmExport())}),m(24,"Exporter"),f()()()()()}if(t&2){let n=g();d(9),fe("ngModel",n.exportFormats.txt),d(4),fe("ngModel",n.exportFormats.csv),d(4),fe("ngModel",n.exportFormats.json),d(6),_("disabled",!n.isExportFormatSelected())}}function h9(t,e){if(t&1){let n=O();h(0,"button",289),I("click",function(){w(n);let r=g(2);return C(r.showLocalStorageData())}),m(1,"Afficher les donn\xE9es sauvegard\xE9es"),f()}}function f9(t,e){if(t&1){let n=O();h(0,"button",290),I("click",function(){w(n);let r=g(2);return C(r.hideLocalStorageData())}),m(1,"Cacher les donn\xE9es sauvegard\xE9es"),f()}}function p9(t,e){if(t&1&&(h(0,"div",291)(1,"pre"),m(2),Ro(3,"json"),f()()),t&2){let n=g(2);d(2),ne(PE(3,1,n.localStorageData))}}function m9(t,e){if(t&1){let n=O();h(0,"div",131)(1,"div",159)(2,"div",160)(3,"div",36)(4,"h5",37),m(5,"BUUUT et c'est gratuit!"),f(),h(6,"button",161),I("click",function(){w(n);let r=g();return C(r.showHelpModal=!1)}),f()(),h(7,"div",41)(8,"h6"),m(9,"Fonctionnalit\xE9s principales :"),f(),h(10,"ul",279)(11,"li",79),b(12,"i",280),h(13,"strong"),m(14,"Cr\xE9er un match :"),f(),m(15,' Cliquez sur "Nouveau Match" pour enregistrer un nouveau match. '),f(),h(16,"li",79),b(17,"i",281),h(18,"strong"),m(19,"Enregistrer les buts :"),f(),m(20," Cliquez sur le score pour ajouter les buteurs et leurs minutes. "),f(),h(21,"li",79),b(22,"i",282),h(23,"strong"),m(24,"G\xE9rer les \xE9quipes :"),f(),m(25," Ajoutez des joueurs \xE0 vos \xE9quipes lors de l'enregistrement des buts. "),f(),h(26,"li",79),b(27,"i",283),h(28,"strong"),m(29,"Partager :"),f(),m(30," Partagez vos matchs via le bouton de partage. "),f(),h(31,"li",79),b(32,"i",284),h(33,"strong"),m(34,"Exporter :"),f(),m(35," Exportez vos matchs en TXT, CSV ou JSON. "),f(),h(36,"li",79),b(37,"i",285),h(38,"strong"),m(39,"Importer :"),f(),m(40," Importez des matchs depuis diff\xE9rents formats. "),f()()(),h(41,"div",52),T(42,h9,2,0,"button",286)(43,f9,2,0,"button",287),h(44,"button",55),I("click",function(){w(n);let r=g();return C(r.showHelpModal=!1)}),m(45,"Fermer"),f()(),T(46,p9,4,3,"div",288),f()()()}if(t&2){let n=g();d(42),_("ngIf",!n.showingLocalStorageData),d(),_("ngIf",n.showingLocalStorageData),d(3),_("ngIf",n.showingLocalStorageData)}}function g9(t,e){if(t&1&&(h(0,"tr")(1,"td",296),m(2),f(),h(3,"td",296),m(4),f(),h(5,"td",296)(6,"strong"),m(7),f()(),h(8,"td",296),m(9),f(),h(10,"td",296),m(11),f(),h(12,"td",296),m(13),f(),h(14,"td",296),m(15),f(),h(16,"td",296),m(17),f(),h(18,"td",296),m(19),f(),h(20,"td",297),m(21),f()()),t&2){let n=e.$implicit,i=e.index;d(2),ne(i+1),d(2),ne(n.name),d(3),ne(n.points),d(2),ne(n.matches),d(2),ne(n.wins),d(2),ne(n.draws),d(2),ne(n.losses),d(2),ne(n.goalsFor),d(2),ne(n.goalsAgainst),d(),_("ngClass",xE(12,W4,n.goalDifference>0,n.goalDifference<0)),d(),rn(" ",n.goalDifference>0?"+":"","",n.goalDifference," ")}}function _9(t,e){if(t&1){let n=O();h(0,"div",34)(1,"div",292)(2,"div",36)(3,"h5",37),b(4,"i",293),m(5),f(),h(6,"button",39),I("click",function(){w(n);let r=g();return C(r.closeRankingModal())}),h(7,"span",40),m(8,"\xD7"),f()()(),h(9,"div",41)(10,"div",294)(11,"table",295)(12,"thead")(13,"tr")(14,"th",296),m(15,"Pos"),f(),h(16,"th",296),m(17,"\xC9quipe"),f(),h(18,"th",296),m(19,"Pts"),f(),h(20,"th",296),m(21,"J"),f(),h(22,"th",296),m(23,"G"),f(),h(24,"th",296),m(25,"N"),f(),h(26,"th",296),m(27,"P"),f(),h(28,"th",296),m(29,"BP"),f(),h(30,"th",296),m(31,"BC"),f(),h(32,"th",296),m(33,"Diff"),f()()(),h(34,"tbody"),T(35,g9,22,15,"tr",100),f()()()(),h(36,"div",52)(37,"button",55),I("click",function(){w(n);let r=g();return C(r.closeRankingModal())}),b(38,"i",56),m(39,"Fermer "),f()()()()}if(t&2){let n=g();d(5),N(" Classement - ",n.selectedCompetitionFilter," "),d(30),_("ngForOf",n.currentRanking)}}function y9(t,e){if(t&1){let n=O();h(0,"i",323),I("click",function(){w(n);let r=g().$implicit,o=g(2);return C(o.cyclePlayerType(r))}),f()}}function v9(t,e){if(t&1){let n=O();h(0,"i",324),I("click",function(){w(n);let r=g().$implicit,o=g(2);return C(o.cyclePlayerType(r))}),f()}}function w9(t,e){if(t&1){let n=O();h(0,"i",325),I("click",function(){w(n);let r=g().$implicit,o=g(2);return C(o.cyclePlayerType(r))}),f()}}function C9(t,e){if(t&1){let n=O();h(0,"span",326),I("click",function(){w(n);let r=g().$implicit,o=g(2);return C(o.openPlayerGoalsModal(r))}),m(1),f()}if(t&2){let n=g().$implicit,i=g(2);d(),N(" ",i.getGoalsForPlayer(n.name)," \u26BD ")}}function E9(t,e){if(t&1){let n=O();h(0,"div",315)(1,"div",316)(2,"div",317)(3,"div",318),T(4,y9,1,0,"i",309)(5,v9,1,0,"i",310)(6,w9,1,0,"i",311),f(),h(7,"input",319),pe("ngModelChange",function(r){let o=w(n).$implicit;return _e(o.name,r)||(o.name=r),C(r)}),f(),T(8,C9,2,1,"span",320),f(),h(9,"div",321)(10,"button",322),I("click",function(){let r=w(n).index,o=g(2);return C(o.removePlayer(r))}),b(11,"i",63),f()()()()}if(t&2){let n=e.$implicit,i=g(2);d(4),_("ngIf",n.type==="attaquant"),d(),_("ngIf",n.type==="milieu"),d(),_("ngIf",n.type==="defenseur"),d(),fe("ngModel",n.name),d(),_("ngIf",i.getGoalsForPlayer(n.name)>0)}}function I9(t,e){if(t&1){let n=O();h(0,"i",323),I("click",function(){w(n);let r=g(2);return C(r.cycleNewPlayerType())}),f()}}function b9(t,e){if(t&1){let n=O();h(0,"i",324),I("click",function(){w(n);let r=g(2);return C(r.cycleNewPlayerType())}),f()}}function T9(t,e){if(t&1){let n=O();h(0,"i",325),I("click",function(){w(n);let r=g(2);return C(r.cycleNewPlayerType())}),f()}}function D9(t,e){if(t&1){let n=O();h(0,"div",298)(1,"div",299)(2,"div",36)(3,"h5",37),b(4,"i",300),m(5),f(),h(6,"button",39),I("click",function(){w(n);let r=g();return C(r.closeEditPlayersModal())}),h(7,"span",40),m(8,"\xD7"),f()()(),h(9,"div",41)(10,"div",301)(11,"h6",79),b(12,"i",302),m(13," Joueurs actuels "),f(),T(14,E9,12,5,"div",303),f(),h(15,"div",304)(16,"h6",79),b(17,"i",54),m(18," Ajouter un nouveau joueur "),f(),h(19,"div",305)(20,"div",306)(21,"input",307),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.newPlayerName,r)||(o.newPlayerName=r),C(r)}),I("keyup.enter",function(){w(n);let r=g();return C(r.addPlayer())}),f(),h(22,"div",308),T(23,I9,1,0,"i",309)(24,b9,1,0,"i",310)(25,T9,1,0,"i",311),f(),h(26,"button",241),I("click",function(){w(n);let r=g();return C(r.addPlayer())}),b(27,"i",312),m(28,"Ajouter "),f()()()()(),h(29,"div",52)(30,"button",55),I("click",function(){w(n);let r=g();return C(r.closeEditPlayersModal())}),b(31,"i",56),m(32,"Fermer "),f(),h(33,"button",313),I("click",function(){w(n);let r=g();return C(r.savePlayersEdit())}),b(34,"i",314),m(35,"Enregistrer "),f()()()()}if(t&2){let n=g();d(5),N(" \xC9diter les joueurs de ",n.teamToEdit.name," "),d(9),_("ngForOf",n.teamToEdit.players),d(7),fe("ngModel",n.newPlayerName),d(2),_("ngIf",n.newPlayerType==="attaquant"),d(),_("ngIf",n.newPlayerType==="milieu"),d(),_("ngIf",n.newPlayerType==="defenseur")}}function x9(t,e){if(t&1&&(h(0,"div",332),b(1,"i",333),m(2),Ro(3,"date"),h(4,"span",334),b(5,"i",335),m(6),f(),h(7,"span",334),m(8),f(),h(9,"span",334),m(10),f()()),t&2){let n=e.$implicit,i=g(3);d(2),N(" ",Zs(3,5,n.match.heureDebut,"dd/MM/yyyy HH:mm")," "),d(4),N(" ",n.minute,"'"),d(2),N("vs ",n.match.equipe1===(i.teamToEdit==null?null:i.teamToEdit.name)?n.match.equipe2:n.match.equipe1,""),d(2),rn("(score: ",n.match.score1," - ",n.match.score2,")")}}function S9(t,e){t&1&&(h(0,"div",336),m(1,"Aucun but trouv\xE9."),f())}function A9(t,e){if(t&1){let n=O();Se(0),h(1,"div",41),T(2,x9,11,8,"div",329)(3,S9,2,0,"div",330),f(),h(4,"div",52)(5,"button",331),I("click",function(){w(n);let r=g(2);return C(r.closePlayerGoalsModal())}),m(6,"Fermer"),f()(),Ae()}if(t&2){let n=g(2);d(2),_("ngForOf",n.getPlayerGoalsDetails(n.selectedPlayerGoalsModal)),d(),_("ngIf",n.getPlayerGoalsDetails(n.selectedPlayerGoalsModal).length===0)}}function M9(t,e){if(t&1){let n=O();h(0,"div",327)(1,"div",159)(2,"div",160)(3,"div",36)(4,"h5",37),m(5),f(),h(6,"button",328),I("click",function(){w(n);let r=g();return C(r.closePlayerGoalsModal())}),f()(),T(7,A9,7,2,"ng-container",49),f()()()}if(t&2){let n=g();d(5),N("Buts de ",n.selectedPlayerGoalsModal.name,""),d(2),_("ngIf",n.selectedPlayerGoalsModal)}}function P9(t,e){if(t&1){let n=O();h(0,"div",343)(1,"input",344),pe("ngModelChange",function(r){let o=w(n).$implicit;return _e(o.name,r)||(o.name=r),C(r)}),f(),h(2,"select",345),pe("ngModelChange",function(r){let o=w(n).$implicit;return _e(o.type,r)||(o.type=r),C(r)}),h(3,"option",346),m(4,"Attaquant"),f(),h(5,"option",347),m(6,"Milieu"),f(),h(7,"option",348),m(8,"D\xE9fenseur"),f()(),h(9,"button",349),I("click",function(){let r=w(n).index,o=g(2);return C(o.removeNewTeamPlayer(r))}),b(10,"i",63),f()()}if(t&2){let n=e.$implicit,i=g(2);d(),fe("ngModel",n.name),_("ngModelOptions",Ft(5,Tn)),d(),fe("ngModel",n.type),_("ngModelOptions",Ft(6,Tn)),d(7),_("disabled",i.newTeamPlayers.length===1)}}function R9(t,e){if(t&1){let n=O();h(0,"div",327)(1,"div",159)(2,"div",160)(3,"div",36)(4,"h5",37),m(5,"Cr\xE9er une nouvelle \xE9quipe"),f(),h(6,"button",328),I("click",function(){w(n);let r=g();return C(r.closeNewTeamModal())}),f()(),h(7,"div",41)(8,"div",79)(9,"label",337),m(10,"Nom de l'\xE9quipe"),f(),h(11,"input",338),pe("ngModelChange",function(r){w(n);let o=g();return _e(o.newTeamName,r)||(o.newTeamName=r),C(r)}),f()(),h(12,"div",339),m(13,"Joueurs"),f(),T(14,P9,11,7,"div",340),h(15,"button",341),I("click",function(){w(n);let r=g();return C(r.addNewTeamPlayer())}),m(16,"+ Ajouter un joueur"),f()(),h(17,"div",52)(18,"button",331),I("click",function(){w(n);let r=g();return C(r.closeNewTeamModal())}),m(19,"Annuler"),f(),h(20,"button",342),I("click",function(){w(n);let r=g();return C(r.createNewTeam())}),m(21,"Cr\xE9er l'\xE9quipe"),f()()()()()}if(t&2){let n=g();d(11),fe("ngModel",n.newTeamName),_("ngModelOptions",Ft(4,Tn)),d(3),_("ngForOf",n.newTeamPlayers),d(6),_("disabled",n.canCreateNewTeam())}}var Qh=class t{static{this.competitionColors=new Map}constructor(e,n){this.fb=e,this.firestoreService=n,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.editingButeur=null,this.teams=cb,this.selectedTeam=null,this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!0,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.selectedCompetitionFilter="",this.showCompetitionFilterModal=!1,this.remainingDots=5,this.usedColors=[],this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1},this.showHelpModal=!1,this.showRankingModal=!1,this.currentRanking=[],this.isSharingCompetition=!1,this.isSharingMatch=!1,this.sharingLogs=[],this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerType="milieu",this.selectedPlayerGoalsIndex=null,this.selectedPlayerGoalsModal=null,this.team1Search="",this.team2Search="",this.filteredTeams1=[],this.filteredTeams2=[],this.showNewTeamModal=!1,this.editingCompetitionName="",this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}],this.competitionSearch="",this.filteredCompetitions=[],this.disabledGoals=[],this.showingLocalStorageData=!1,this.localStorageData=null,this.editTeam1Search="",this.editTeam2Search="",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editCompetitionSearch="",this.editFilteredCompetitions=[],this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.showDuelCelebration=!1,this.lastDuelWinner="",this.lastDuelTeam="",this.encodingGoalsEnabled=!1,this.encodingDuelsEnabled=!1,this.newTeamTargetField=null,this.selectedSeason="",this.matchForm=this.fb.group({equipe1:[this.teams[0].name,Xe.required],equipe2:["",Xe.required],heureDebut:[this.getCurrentDateTime(),Xe.required],lieu:[""],competition:[""]}),this.scoreForm=this.fb.group({score1:[0,[Xe.required,Xe.min(0)]],score2:[0,[Xe.required,Xe.min(0)]]}),this.buteurForm=this.fb.group({nom:["",Xe.required],minute:["",[Xe.required,Xe.min(1),Xe.max(90)]],equipe:["",Xe.required],assist:[""]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(i=>{let r=this.buteurForm.get("assist");r&&r.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",Xe.required],equipe2:["",Xe.required],heureDebut:["",Xe.required],lieu:[""],competition:[""]})}ngOnInit(){return E(this,null,function*(){this.loadSavedData(),this.startAutoSave(),yield this.loadMatchFromUrl(),this.updateFilteredTeams1(),this.updateFilteredTeams2(),this.selectedSeason=this.getCurrentSeason(),this.selectedCompetitionFilter=this.getCurrentSeason(),this.createU10U11CompetitionsIfNeeded()})}createU10U11CompetitionsIfNeeded(){let e=this.matches.map(o=>o.competition).filter(o=>o!==void 0&&o!==""),n=e.includes("Championnat U10"),i=e.includes("Championnat U11");if(n&&i)return;let r=[];if(!n){let o={id:this.matches.length+1,equipe1:"U10 Stand. Flawinne FC",equipe2:"U10A Stand. Flawinne FC",score1:0,score2:0,buteurs:[],heureDebut:new Date(2025,7,1,18,0),lieu:"Terrain Flawinne",positions:{},showElements:!0,competition:"Championnat U10",updatedAt:new Date,duelsGagnes:[]};r.push(o)}if(!i){let o={id:this.matches.length+r.length+1,equipe1:"U11B Stand. Flawinne FC",equipe2:"U10 Stand. Flawinne FC",score1:0,score2:0,buteurs:[],heureDebut:new Date(2025,7,1,19,30),lieu:"Terrain Flawinne",positions:{},showElements:!0,competition:"Championnat U11",updatedAt:new Date,duelsGagnes:[]};r.push(o)}r.length>0&&(this.matches.push(...r),this.saveData(),console.log(`Comp\xE9titions cr\xE9\xE9es : ${r.map(o=>o.competition).join(", ")}`))}getCurrentDateTime(){let e=new Date,n=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-n).toISOString().slice(0,16)}onSubmit(){if(this.matchForm.valid){let n=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,i=Y(M({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],duelsGagnes:[],showElements:!0,updatedAt:new Date});console.log("Nouveau match cr\xE9\xE9:",i),this.matches.push(i),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1}else console.log("MatchForm invalide - soumission annul\xE9e")}calculateElapsedMinutes(e){let n=new Date,i=new Date(e),r=new Date(i.getTime()),o=Math.floor((n.getTime()-r.getTime())/(1e3*60));return o>90?this.getLastScoredMinute()+1:Math.max(1,o)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(e=>e.minute))}selectMatch(e){this.selectedMatch=e,this.scoreForm.patchValue({score1:e.score1,score2:e.score2});let n=this.calculateElapsedMinutes(e.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.buteurForm.patchValue({nom:"",minute:n,equipe:1});let i=this.teams.find(o=>o.name===e.equipe1),r=this.teams.find(o=>o.name===e.equipe2);if(i?Ym(i):this.teams.push({id:this.teams.length+1,name:e.equipe1,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),r?Ym(r):this.teams.push({id:this.teams.length+1,name:e.equipe2,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),e.equipe1==="U10 Stand. Flawinne FC"){let o=this.teams.find(s=>s.name==="U10 Stand. Flawinne FC");this.selectedTeam=o||null}this.maintainScoreConsistency()}updateScore(){if(!this.selectedMatch){console.log("selectedMatch null - mise \xE0 jour annul\xE9e");return}this.selectedMatch.score1=0,this.selectedMatch.score2=0,this.selectedMatch.buteurs=[],console.log("Score apr\xE8s mise \xE0 jour:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2,buteurs:this.selectedMatch.buteurs}),this.saveData()}modifierButeur(e,n){let i=this.matches[e],r=i.buteurs[n];console.log("Match trouv\xE9:",i),console.log("Buteur \xE0 modifier:",r),this.isGoalDisabled(n)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===n)),console.log("But r\xE9activ\xE9 pour \xE9dition")),this.editingButeur={index:n,buteur:M({},r)},this.buteurForm.patchValue({nom:r.nom,minute:r.minute,equipe:r.equipe,assist:r.assist||""}),this.gererOuvertureFermetureButeurForm(!0),this.showButeurForm=!0}ajouterButeur(){if(this.buteurForm.valid&&this.selectedMatch){let e=this.buteurForm.value;console.log("Donn\xE9es du buteur:",e);let n={nom:e.nom,minute:e.minute,equipe:e.equipe,assist:e.assist||void 0};if(console.log("Nouveau buteur cr\xE9\xE9:",n),this.editingButeur){let i=this.matches.indexOf(this.selectedMatch);this.matches[i].buteurs[this.editingButeur.index]=n,console.log("Buteur modifi\xE9 dans le match")}else this.selectedMatch.buteurs.push(n),console.log("Buteur ajout\xE9 au match"),n.equipe===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2));console.log("Match apr\xE8s ajout/modification:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1)}else console.log("ButeurForm invalide ou selectedMatch null - ajout annul\xE9")}annulerEditionButeur(){this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1),console.log("\xC9dition de buteur annul\xE9e")}supprimerButeur(e,n){let i=this.matches[e],r=i.buteurs[n];confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le but de ${r.nom} \xE0 la minute ${r.minute} ?`)&&(console.log("Match:",i),console.log("Buteur \xE0 supprimer:",r),this.isGoalDisabled(n)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===n)),console.log("But d\xE9sactiv\xE9 retir\xE9 de la liste")),r.equipe===1?(i.score1=Math.max(0,i.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",i.score1)):(i.score2=Math.max(0,i.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",i.score2)),i.buteurs.splice(n,1),console.log("Buteur supprim\xE9 du match"),console.log("Match apr\xE8s suppression:",i),this.maintainScoreConsistency(),this.saveData())}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(r=>r.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let i={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(r)?.setValue(i.name)}}editNewTeam(e){let n=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(n&&n.trim()){let i={id:this.teams.length+1,name:n.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(r)?.setValue(i.name)}}addNewPlayer(e){if(e&&e.trim()){let n=this.teams.find(i=>i.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));n&&(n.players.some(i=>i.name===e.trim())||n.players.push({name:e.trim(),type:"milieu"}),this.buteurForm.get("nom")?.setValue(e.trim()))}}getTeamPlayers(e){if(!this.selectedMatch)return[];let n=e===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(r=>r.name===n)?.players||[]}quickAddGoal(e,n){if(console.log("quickAddGoal() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}let r={nom:e,minute:i,equipe:n};console.log("Nouveau buteur rapide cr\xE9\xE9:",r),this.selectedMatch.buteurs.push(r),console.log("Buteur ajout\xE9 au match"),n===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2)),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.lastGoalScorer=e,this.lastGoalTeam=n===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.showGoalCelebration=!0,this.remainingDots=5,console.log("C\xE9l\xE9bration du but:",{scorer:this.lastGoalScorer,team:this.lastGoalTeam,showCelebration:this.showGoalCelebration}),this.startCelebrationTimer(),console.log("But ajout\xE9 rapidement avec succ\xE8s")}quickAddDuel(e,n){if(console.log("quickAddDuel() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.duelsGagnes||(this.selectedMatch.duelsGagnes=[]);let r={nom:e,minute:i,equipe:n};console.log("Nouveau duel gagn\xE9 cr\xE9\xE9:",r),this.selectedMatch.duelsGagnes.push(r),console.log("Duel gagn\xE9 ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.lastDuelWinner=e,this.lastDuelTeam=n===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.showDuelCelebration=!0,this.remainingDots=5,console.log("C\xE9l\xE9bration du duel gagn\xE9:",{winner:this.lastDuelWinner,team:this.lastDuelTeam,showCelebration:this.showDuelCelebration}),this.startCelebrationTimer(),console.log("Duel gagn\xE9 ajout\xE9 rapidement avec succ\xE8s")}quickAddAction(e,n){if(console.log("quickAddAction() appel\xE9e avec playerName:",e,"teamNumber:",n),!this.selectedMatch){console.log("selectedMatch null - action rapide annul\xE9e");return}let i=this.getPlayerByName(n,e);if(!i){console.log("Joueur non trouv\xE9 - action rapide annul\xE9e");return}console.log("Type du joueur:",i.type);let r=i.type==="defenseur";console.log("isDefensivePlayer:",r),r?this.quickAddDuel(e,n):this.quickAddGoal(e,n)}saveGoalWithAssist(){if(console.log("saveGoalWithAssist() appel\xE9e"),!this.selectedMatch||!this.lastGoalScorer){console.log("selectedMatch ou lastGoalScorer null - sauvegarde annul\xE9e");return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.lastGoalScorer&&(e.assist=this.lastGoalAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showGoalCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelGoal(){if(console.log("cancelGoal() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(this.selectedMatch.buteurs.length>0){let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];console.log("Dernier buteur \xE0 supprimer:",e),e.equipe===1?(this.selectedMatch.score1=Math.max(0,this.selectedMatch.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2=Math.max(0,this.selectedMatch.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score2)),this.selectedMatch.buteurs.pop(),console.log("Dernier buteur supprim\xE9")}this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist=""}saveDuel(){console.log("saveDuel() appel\xE9e"),this.saveData(),this.showDuelCelebration=!1,this.lastDuelWinner="",this.lastDuelTeam="",console.log("Duel gagn\xE9 sauvegard\xE9 avec succ\xE8s")}cancelDuel(){if(console.log("cancelDuel() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(this.selectedMatch.duelsGagnes&&this.selectedMatch.duelsGagnes.length>0){let e=this.selectedMatch.duelsGagnes[this.selectedMatch.duelsGagnes.length-1];console.log("Dernier duel \xE0 supprimer:",e),this.selectedMatch.duelsGagnes.pop(),console.log("Dernier duel supprim\xE9")}this.showDuelCelebration=!1}supprimerDuel(e,n){if(console.log("supprimerDuel() appel\xE9e avec matchIndex:",e,"duelIndex:",n),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.duelsGagnes||n<0||n>=i.duelsGagnes.length){console.log("Index de duel invalide - suppression annul\xE9e");return}console.log("Match:",i),console.log("Duel \xE0 supprimer:",i.duelsGagnes[n]),i.duelsGagnes.splice(n,1),console.log("Duel supprim\xE9"),this.saveData(),console.log("Duel supprim\xE9 avec succ\xE8s")}supprimerMatch(e){if(!confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?"))return;let n=this.matches.findIndex(i=>i.id===e.id);n!==-1&&(this.matches.splice(n,1),this.saveData())}loadSavedData(){let e=localStorage.getItem("footballMatches");if(e){let n=JSON.parse(e);new Date(n.expirationDate)>new Date?(this.matches=n.matches.map(r=>Y(M({},r),{heureDebut:new Date(r.heureDebut),duelsGagnes:r.duelsGagnes||[]})),n.teams&&(this.teams=n.teams)):localStorage.removeItem("footballMatches")}}saveData(){let e=new Date;e.setMonth(e.getMonth()+3);let n={matches:this.matches,teams:this.teams,expirationDate:e.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(n))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(e,n){return e.buteurs.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c),o.assist&&(s.assist=o.assist)):r.push({nom:o.nom,minutes:[o.minute],assist:o.assist}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom))}getGroupedDuels(e,n){return e.duelsGagnes?e.duelsGagnes.filter(r=>r.equipe===n).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getActiveGroupedScorers(e,n){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===n&&!this.isGoalDisabledForMatch(e,r.index)).reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}getDisabledGroupedScorers(e,n){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===n&&this.isGoalDisabledForMatch(e,r.index)&&r.buteur.nom!=="Joueur non list\xE9").reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(e,n){this.selectedPosition={team:e,position:n};let i=this.getPlayerForPosition(e,n);if(i&&this.selectedMatch){let r=n.includes("defenseur")||n==="gardien";console.log("isDefensivePosition"+r),r?this.encodingDuelsEnabled&&this.quickAddDuel(i.name,e):this.encodingGoalsEnabled&&this.quickAddGoal(i.name,e)}}assignPlayerToPosition(e){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let n=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[n]=e,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(e,n){if(this.selectedMatch?.positions){let i=`${e}_${n}`,r=this.selectedMatch.positions[i];if(r)return this.getPlayerByName(e,r)}return null}getPlayerByName(e,n){let i=this.teams.find(r=>r.name===(e===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));return i&&i.players.find(r=>r.name===n)||null}openDispositionModal(e){this.selectedMatch=e,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(e){e.showElements=!e.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(e){this.selectedMatch=e,this.matchEditForm.patchValue({equipe1:e.equipe1,equipe2:e.equipe2,heureDebut:this.getNearestValidTime(e.heureDebut),lieu:e.lieu,competition:e.competition}),this.editTeam1Search=e.equipe1,this.editTeam2Search=e.equipe2,this.editCompetitionSearch=e.competition||"",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editFilteredCompetitions=[],this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(e){let n=new Date(e);return n.getMinutes()<30?n.setMinutes(0):n.setMinutes(30),n.toISOString().slice(0,16)}onSubmitMatchEdit(){if(this.matchEditForm.valid&&this.selectedMatch){let e=this.matchEditForm.value;this.selectedMatch.equipe1=e.equipe1,this.selectedMatch.equipe2=e.equipe2,this.selectedMatch.heureDebut=new Date(e.heureDebut),this.selectedMatch.lieu=e.lieu,this.selectedMatch.competition=e.competition,this.saveData(),this.showMatchEditForm=!1}}get filteredMatches(){return this.matches.filter(e=>{let n=!this.selectedTeamFilter||e.equipe1===this.selectedTeamFilter||e.equipe2===this.selectedTeamFilter,i=this.selectedCompetitionFilter&&this.selectedCompetitionFilter.includes("-"),r=!0;return this.selectedCompetitionFilter&&(i?r=this.getSeasonFromDate(e.heureDebut)===this.selectedCompetitionFilter:r=e.competition===this.selectedCompetitionFilter),n&&r})}closeTeamFilterModal(){this.showTeamFilterModal=!1}get filteredTeamsForModal(){if(!this.selectedCompetitionFilter)return this.teams;if(this.selectedCompetitionFilter.includes("-")){let n=new Set;return this.matches.forEach(i=>{this.getSeasonFromDate(i.heureDebut)===this.selectedCompetitionFilter&&(n.add(i.equipe1),n.add(i.equipe2))}),this.teams.filter(i=>n.has(i.name))}else{let n=new Set;return this.matches.forEach(i=>{i.competition===this.selectedCompetitionFilter&&(n.add(i.equipe1),n.add(i.equipe2))}),this.teams.filter(i=>n.has(i.name))}}shareMatch(e){return E(this,null,function*(){this.isSharingMatch=!0;try{let n=yield this.firestoreService.saveMatch(e),i=`${window.location.origin}?matchId=${n}`,r=`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${this.getGroupedScorers(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${e.equipe2}:
${this.getGroupedScorers(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

Duels gagn\xE9s :
${e.equipe1}:
${this.getGroupedDuels(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

${e.equipe2}:
${this.getGroupedDuels(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

Lien direct vers le match : ${i}
      `.trim();if(navigator.share)yield navigator.share({title:`${e.equipe1} vs ${e.equipe2}`,text:r,url:i});else{let o=document.createElement("textarea");o.value=r,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}catch(n){console.error("Erreur lors de la sauvegarde ou du partage du match:",n),alert("Une erreur est survenue lors de la sauvegarde ou du partage du match.")}finally{this.isSharingMatch=!1}})}loadMatchFromUrl(){return E(this,null,function*(){let e=new URLSearchParams(window.location.search),n=e.get("competitionId"),i=e.get("matchId");if(n)try{let r=yield this.firestoreService.getCompetitionById(n);if(r){let o=yield this.firestoreService.getMatchesByCompetition(n);o.length>0&&(this.matches=o,this.selectedCompetitionFilter=r.name,this.saveData())}}catch(r){console.error("Erreur lors du chargement de la comp\xE9tition:",r)}else if(i)try{let r=yield this.firestoreService.getMatchById(i);r?(r.heureDebut=new Date(r.heureDebut),this.matches.findIndex(s=>s.id===r.id)===-1&&(this.matches.push(r),this.saveData()),this.selectMatch(r),setTimeout(()=>{let s=document.querySelector(`[data-match-id="${r.id}"]`);s&&s.scrollIntoView({behavior:"smooth"})},100)):console.error("Match non trouv\xE9 dans Firestore")}catch(r){console.error("Erreur lors du chargement du match depuis Firestore:",r)}})}getButeurDisplay(e){let n=`\u26BD ${e.nom} (${e.minute}')`;return e.assist&&(n+=` (Assist: ${e.assist})`),n}saveMatchToFirestore(e){return E(this,null,function*(){try{let n=yield this.firestoreService.saveMatch(e);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",n),window.location.href=`/match/${n}`}catch(n){console.error("Erreur lors de l'enregistrement du match dans Firestore:",n)}})}closeCompetitionFilterModal(){this.showCompetitionFilterModal=!1}openCompetitionFilterModal(){this.selectedSeason=this.getCurrentSeason(),this.showCompetitionFilterModal=!0}onSeasonChanged(e){this.selectedSeason=e,this.selectedCompetitionFilter=e}onCompetitionSelected(e){this.selectedCompetitionFilter=e,this.showCompetitionFilterModal=!1}onCompetitionAdded(e){return E(this,null,function*(){try{console.log("Ajout de la comp\xE9tition:",e);let n={equipe1:"\xC9quipe temporaire",equipe2:"\xC9quipe temporaire",score1:0,score2:0,buteurs:[],heureDebut:new Date,lieu:"",positions:{},showElements:!0,competition:e.name,updatedAt:new Date,duelsGagnes:[]};this.matches.push(n),this.saveData(),this.showCompetitionFilterModal=!1,alert(`Comp\xE9tition "${e.name}" ajout\xE9e avec succ\xE8s !`)}catch(n){console.error("Erreur lors de l'ajout de la comp\xE9tition:",n),alert("Erreur lors de l'ajout de la comp\xE9tition.")}})}onCompetitionUpdated(e){return E(this,null,function*(){try{console.log("Mise \xE0 jour de la comp\xE9tition:",e);let{oldName:n,newCompetition:i}=e;n!==i.name&&(this.matches.forEach(r=>{r.competition===n&&(r.competition=i.name,r.updatedAt=new Date)}),this.selectedCompetitionFilter===n&&(this.selectedCompetitionFilter=i.name),this.saveData(),alert(`Comp\xE9tition "${n}" mise \xE0 jour vers "${i.name}" avec succ\xE8s !`)),this.showCompetitionFilterModal=!1}catch(n){console.error("Erreur lors de la mise \xE0 jour de la comp\xE9tition:",n),alert("Erreur lors de la mise \xE0 jour de la comp\xE9tition.")}})}onCompetitionDeleted(e){return E(this,null,function*(){try{if(console.log("Suppression de la comp\xE9tition:",e),!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la comp\xE9tition "${e}" ?

Cette action supprimera \xE9galement tous les matchs associ\xE9s.`))return;this.matches=this.matches.filter(n=>n.competition!==e),this.selectedCompetitionFilter===e&&(this.selectedCompetitionFilter=""),this.saveData(),this.showCompetitionFilterModal=!1,alert(`Comp\xE9tition "${e}" supprim\xE9e avec succ\xE8s !`)}catch(n){console.error("Erreur lors de la suppression de la comp\xE9tition:",n),alert("Erreur lors de la suppression de la comp\xE9tition.")}})}assignSeasonToCompetition(e,n){return E(this,null,function*(){try{console.log(`Attribution de la saison ${n} \xE0 la comp\xE9tition ${e}`);let i=this.matches.filter(r=>r.competition===e);if(i.length===0){alert(`Aucun match trouv\xE9 pour la comp\xE9tition "${e}"`);return}i.forEach(r=>{let[o]=n.split("-"),s=new Date(parseInt(o),7,1);r.heureDebut=s,r.updatedAt=new Date}),this.saveData(),alert(`Saison "${n}" attribu\xE9e \xE0 la comp\xE9tition "${e}" avec succ\xE8s !`)}catch(i){console.error("Erreur lors de l'attribution de la saison:",i),alert("Une erreur est survenue lors de l'attribution de la saison.")}})}assignSeasonAutomatically(e,n){try{console.log(`Attribution automatique de la saison ${n} \xE0 la comp\xE9tition ${e}`);let i=this.matches.filter(r=>r.competition===e);if(i.length===0)return;i.forEach(r=>{r.updatedAt=new Date}),this.saveData()}catch(i){console.error("Erreur lors de l'attribution automatique de la saison:",i)}}isCompetitionWithoutSeason(e){let n=this.matches.filter(r=>r.competition===e);return n.length===0?!1:!n.some(r=>{if(!r.heureDebut)return!1;try{let o=this.getSeasonFromDate(r.heureDebut);return o&&o!==""}catch{return!1}})}getSuggestedSeasonForCompetition(e){let n=this.matches.filter(o=>o.competition===e);if(n.length===0)return null;let r=n.sort((o,s)=>!o.heureDebut||!s.heureDebut?0:o.heureDebut.getTime()-s.heureDebut.getTime())[0];if(!r.heureDebut)return null;try{return this.getSeasonFromDate(r.heureDebut)}catch{return null}}onAssignSeason(e){this.assignSeasonToCompetition(e.competition,e.season)}getCurrentSeason(){let e=new Date,n=e.getFullYear();return e.getMonth()+1>=8?`${n}-${n+1}`:`${n-1}-${n}`}getSeasonFromDate(e){let n=e.getFullYear();return e.getMonth()+1>=8?`${n}-${n+1}`:`${n-1}-${n}`}getCompetitionsBySeason(e){(!e||e==="")&&(e=this.getCurrentSeason());let n=this.matches.filter(o=>this.getSeasonFromDate(o.heureDebut)===e).map(o=>o.competition).filter(o=>o!==void 0&&o!==""),i=this.matches.filter(o=>{if(!o.competition||o.competition==="")return!1;let a=this.matches.filter(c=>c.competition===o.competition).reduce((c,l)=>l.heureDebut<c.heureDebut?l:c);return o.id===a.id&&this.getSeasonFromDate(o.heureDebut)===e?(this.assignSeasonAutomatically(o.competition,e),!0):!1}).map(o=>o.competition).filter(o=>o!==void 0&&o!==""),r=[...n,...i];return[...new Set(r)]}getAvailableSeasons(){return this.matches.map(n=>this.getSeasonFromDate(n.heureDebut)).filter((n,i,r)=>r.indexOf(n)===i).sort((n,i)=>{let r=parseInt(n.split("-")[0]);return parseInt(i.split("-")[0])-r})}get uniqueCompetitions(){return this.getCompetitionsBySeason(this.selectedSeason)}getCompetitionBadgeColor(e){let n=["badge-pastel-primary","badge-pastel-secondary","badge-pastel-success","badge-pastel-danger","badge-pastel-warning","badge-pastel-info","badge-pastel-dark","badge-pastel-purple","badge-pastel-pink","badge-pastel-teal"];if(t.competitionColors.has(e))return t.competitionColors.get(e);let i=e.split("").reduce((s,a)=>a.charCodeAt(0)+((s<<5)-s),0),r=Math.abs(i)%n.length,o=n[r];return t.competitionColors.set(e,o),o}getScoreColor(e){if(![e.equipe1,e.equipe2].some(s=>s.toLowerCase().includes("flawinne")))return"btn-light";let i=e.equipe1.toLowerCase().includes("flawinne")?e.equipe1:e.equipe2,r=e.equipe1.toLowerCase().includes("flawinne")?e.score1:e.score2,o=e.equipe1.toLowerCase().includes("flawinne")?e.score2:e.score1;return r>o?"btn-score-success":r<o?"btn-score-danger":"btn-score-light"}exportMatches(){this.showExportModal=!0}closeExportModal(){this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1}}isExportFormatSelected(){return this.exportFormats.txt||this.exportFormats.csv||this.exportFormats.json}confirmExport(){return E(this,null,function*(){if(this.exportFormats.txt){let e=this.exportToTxt();this.downloadFile(e,"matches.txt")}if(this.exportFormats.csv){let e=this.exportToCsv();this.downloadFile(e,"matches.csv")}if(this.exportFormats.json){let e=this.exportToJson();this.downloadFile(e,"matches.json")}this.closeExportModal()})}exportToTxt(){let e=`FOOTBALL MATCHES EXPORT
`;e+=`========================

`;for(let n of this.getSortedMatches()){if(e+=`Match: ${n.equipe1} vs ${n.equipe2}
`,e+=`Score: ${n.score1} - ${n.score2}
`,e+=`Date: ${n.heureDebut.toLocaleString("fr-FR")}
`,n.lieu&&(e+=`Lieu: ${n.lieu}
`),n.competition&&(e+=`Comp\xE9tition: ${n.competition}
`),n.buteurs.length>0){e+=`
Buteurs:
`;let i=this.getGroupedScorers(n,1),r=this.getGroupedScorers(n,2);if(i.length>0){e+=`${n.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}if(r.length>0){e+=`${n.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}}if(n.duelsGagnes&&n.duelsGagnes.length>0){e+=`
Duels gagn\xE9s:
`;let i=this.getGroupedDuels(n,1),r=this.getGroupedDuels(n,2);if(i.length>0){e+=`${n.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}if(r.length>0){e+=`${n.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}}e+=`
`+"=".repeat(50)+`

`}return e}exportToCsv(){let e=`\xC9quipe 1,\xC9quipe 2,Score 1,Score 2,Date,Lieu,Comp\xE9tition,Buteurs \xC9quipe 1,Buteurs \xC9quipe 2,Duels \xC9quipe 1,Duels \xC9quipe 2
`;for(let n of this.getSortedMatches()){let i=this.getGroupedScorers(n,1),r=this.getGroupedScorers(n,2),o=this.getGroupedDuels(n,1),s=this.getGroupedDuels(n,2),a=i.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),c=r.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),l=o.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),u=s.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; ");e+=`"${n.equipe1}","${n.equipe2}",${n.score1},${n.score2},"${n.heureDebut.toLocaleString("fr-FR")}","${n.lieu||""}","${n.competition||""}","${a}","${c}","${l}","${u}"
`}return e}exportToJson(){let e=this.getSortedMatches().map(n=>({equipe1:n.equipe1,equipe2:n.equipe2,score1:n.score1,score2:n.score2,heureDebut:n.heureDebut.toISOString(),lieu:n.lieu,competition:n.competition,buteurs:n.buteurs,duelsGagnes:n.duelsGagnes||[]}));return JSON.stringify(e,null,2)}downloadFile(e,n){let i=new Blob([e],{type:"text/plain"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=n,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(r),document.body.removeChild(o)}importMatches(){let e=document.createElement("input");e.type="file",e.accept=".txt,.csv,.json",e.onchange=n=>{let i=n.target.files?.[0];if(i){let r=new FileReader;r.onload=o=>{let s=o.target?.result,a=i.name.split(".").pop()?.toLowerCase();try{let c=[];switch(a){case"txt":c=this.parseTxtImport(s);break;case"csv":c=this.parseCsvImport(s);break;case"json":c=this.parseJsonImport(s);break;default:throw new Error("Format de fichier non support\xE9")}c.length>0?confirm(`Voulez-vous importer ${c.length} match(s) ?`)&&(this.matches.push(...c),this.saveData(),alert("Import r\xE9ussi !")):alert("Aucun match trouv\xE9 dans le fichier.")}catch(c){console.error("Erreur lors de l'import:",c),alert("Erreur lors de l'import du fichier. V\xE9rifiez le format.")}},r.readAsText(i)}},e.click()}parseTxtImport(e){let n=[],i=e.split("----------------------------------------");for(let r of i){if(!r.trim())continue;let o=r.trim().split(`
`),s={id:this.matches.length+n.length+1,score1:0,score2:0,buteurs:[]};for(let a of o)if(a.startsWith("Match : ")){let c=a.replace("Match : ","").split(" vs ");s.equipe1=c[0].trim(),s.equipe2=c[1].trim()}else if(a.startsWith("Score : ")){let c=a.replace("Score : ","").split(" - ");s.score1=parseInt(c[0]),s.score2=parseInt(c[1])}else if(a.startsWith("Date : "))s.heureDebut=new Date(a.replace("Date : ",""));else if(a.startsWith("Lieu : "))s.lieu=a.replace("Lieu : ","").trim();else if(a.startsWith("Comp\xE9tition : "))s.competition=a.replace("Comp\xE9tition : ","").trim();else if(a.includes(":")){let[c,l]=a.split(":"),u=c.replace("-","").trim(),p=l.match(/\d+/g),y=l.match(/\(Assist: (.*?)\)/);p&&p.forEach(v=>{s.buteurs?.push({nom:u,minute:parseInt(v),equipe:a.includes(s.equipe1)?1:2,assist:y?y[1]:void 0})})}s.equipe1&&s.equipe2&&n.push(s)}return n}parseCsvImport(e){let n=e.trim().split(`
`);if(n.length<2)throw new Error("Fichier CSV vide ou invalide");let i=n[0].split(",").map(o=>o.replace(/"/g,"").trim()),r=[];for(let o=1;o<n.length;o++){let s=n[o],a=this.parseCsvLine(s);if(a.length<8)continue;let c={id:this.matches.length+o,equipe1:a[0]?.replace(/"/g,"")||"",equipe2:a[1]?.replace(/"/g,"")||"",score1:parseInt(a[2])||0,score2:parseInt(a[3])||0,heureDebut:new Date(a[4]||new Date),lieu:a[5]?.replace(/"/g,"")||"",competition:a[6]?.replace(/"/g,"")||"",buteurs:[],duelsGagnes:[],updatedAt:new Date};if(a[7]){let l=a[7].replace(/"/g,"");if(l){let u=this.parseScorersString(l,1);c.buteurs.push(...u)}}if(a[8]){let l=a[8].replace(/"/g,"");if(l){let u=this.parseScorersString(l,2);c.buteurs.push(...u)}}if(a[9]){let l=a[9].replace(/"/g,"");if(l){let u=this.parseDuelsString(l,1);c.duelsGagnes.push(...u)}}if(a[10]){let l=a[10].replace(/"/g,"");if(l){let u=this.parseDuelsString(l,2);c.duelsGagnes.push(...u)}}r.push(c)}return r}parseJsonImport(e){try{return JSON.parse(e).map(i=>Y(M({},i),{heureDebut:new Date(i.heureDebut),duelsGagnes:i.duelsGagnes||[]}))}catch{throw new Error("Format JSON invalide")}}parseCsvLine(e){let n=[],i="",r=!1;for(let o=0;o<e.length;o++){let s=e[o];s==='"'?r=!r:s===","&&!r?(n.push(i.trim()),i=""):i+=s}return n.push(i.trim()),n}parseScorersString(e,n){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(u=>parseInt(u.trim())).filter(u=>!isNaN(u));for(let u of l)i.push({nom:a,minute:u,equipe:n})}}return i}parseDuelsString(e,n){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(u=>parseInt(u.trim())).filter(u=>!isNaN(u));for(let u of l)i.push({nom:a,minute:u,equipe:n})}}return i}getSortedMatches(){return this.filteredMatches.slice().sort((e,n)=>new Date(n.heureDebut).getTime()-new Date(e.heureDebut).getTime())}calculateRanking(e){let n=new Map;return this.matches.filter(r=>r.competition===e).forEach(r=>{[r.equipe1,r.equipe2].forEach(a=>{n.has(a)||n.set(a,{name:a,points:0,matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0})});let o=n.get(r.equipe1),s=n.get(r.equipe2);o.matches++,s.matches++,o.goalsFor+=r.score1,o.goalsAgainst+=r.score2,s.goalsFor+=r.score2,s.goalsAgainst+=r.score1,r.score1>r.score2?(o.wins++,o.points+=3,s.losses++):r.score1<r.score2?(s.wins++,s.points+=3,o.losses++):(o.draws++,s.draws++,o.points+=1,s.points+=1)}),n.forEach(r=>{r.goalDifference=r.goalsFor-r.goalsAgainst}),Array.from(n.values()).sort((r,o)=>o.points!==r.points?o.points-r.points:o.goalDifference!==r.goalDifference?o.goalDifference-r.goalDifference:o.goalsFor-r.goalsFor)}showRanking(){this.selectedCompetitionFilter?(this.currentRanking=this.calculateRanking(this.selectedCompetitionFilter),this.showRankingModal=!0):alert("Veuillez s\xE9lectionner une comp\xE9tition pour voir le classement")}closeRankingModal(){this.showRankingModal=!1}shareCompetition(){return E(this,null,function*(){if(!this.selectedCompetitionFilter){alert("Veuillez s\xE9lectionner une comp\xE9tition");return}this.isSharingCompetition=!0,this.sharingLogs=["Comp\xE9tition en cours de sauvegarde..."];try{let e=this.matches.filter(r=>r.competition===this.selectedCompetitionFilter);if(e.length===0){alert("Aucun match trouv\xE9 pour cette comp\xE9tition");return}let n=yield this.firestoreService.shareCompetition(this.selectedCompetitionFilter,e,r=>{this.sharingLogs.push(r)}),i=`
          Comp\xE9tition : ${this.selectedCompetitionFilter}
          Nombre de matchs : ${e.length}

          Matchs :
          ${e.map(r=>`
          ${r.equipe1} vs ${r.equipe2}
          Score : ${r.score1} - ${r.score2}
          Date : ${r.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          Lieu : ${r.lieu||"Non sp\xE9cifi\xE9"}
          ----------------------------------------`).join(`
`)}

          Lien vers la comp\xE9tition : ${window.location.origin}?competitionId=${n}
                `.trim();if(navigator.share)yield navigator.share({title:`Comp\xE9tition ${this.selectedCompetitionFilter}`,text:i,url:`${window.location.origin}?competitionId=${n}`});else{let r=document.createElement("textarea");r.value=i,document.body.appendChild(r),r.select();try{document.execCommand("copy"),alert("Informations de la comp\xE9tition copi\xE9es dans le presse-papiers !")}catch(o){console.error("Erreur lors de la copie:",o)}document.body.removeChild(r)}this.sharingLogs.push("Association des matchs en cours...");for(let r of e){let o=yield this.firestoreService.saveMatch(r);this.sharingLogs.push(`Match ${r.equipe1} vs ${r.equipe2} sauvegard\xE9`),yield this.firestoreService.addMatchToCompetition(n,o)}this.sharingLogs.push("Comp\xE9tition sauvegard\xE9e avec succ\xE8s !")}catch(e){console.error("Erreur lors de la sauvegarde ou du partage de la comp\xE9tition:",e),this.sharingLogs.push("Erreur lors de la sauvegarde de la comp\xE9tition"),alert("Une erreur est survenue lors de la sauvegarde ou du partage de la comp\xE9tition.")}finally{this.isSharingCompetition=!1}})}validateScore(e){let n=Math.max(0,e);return console.log("validateScore() appel\xE9e avec:",e,"retourne:",n),n}openEditPlayersModal(e){let n=this.teams.find(i=>i.name===e);n&&(this.teamToEdit=Y(M({},n),{players:[...n.players]}),this.showEditPlayersModal=!0)}closeEditPlayersModal(){this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerName=""}addPlayer(){this.teamToEdit&&this.newPlayerName.trim()&&(this.teamToEdit.players.push({name:this.newPlayerName.trim(),type:this.newPlayerType}),this.newPlayerName="",this.newPlayerType="milieu",this.saveData())}removePlayer(e){if(this.teamToEdit){let n=this.teamToEdit.players[e];if(!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le joueur ${n.name} ?`))return;this.teamToEdit.players.splice(e,1),this.saveData()}}savePlayersEdit(){if(this.teamToEdit){let e=this.teams.findIndex(n=>n.name===this.teamToEdit.name);e!==-1&&(this.teams[e]=Y(M({},this.teamToEdit),{players:[...this.teamToEdit.players]}))}this.saveData(),this.closeEditPlayersModal()}getPlayersSortedByGoals(){if(!this.teamToEdit)return[];let e={};for(let n of this.teamToEdit.players){e[n.name]=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===n.name){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&e[n.name]++}}}return[...this.teamToEdit.players].sort((n,i)=>e[i.name]-e[n.name])}getGoalsForPlayer(e){if(!this.teamToEdit)return 0;let n=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===e){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&n++}}return n}cyclePlayerType(e){e.type==="attaquant"?e.type="milieu":e.type==="milieu"?e.type="defenseur":e.type="attaquant"}cycleNewPlayerType(){this.newPlayerType==="attaquant"?this.newPlayerType="milieu":this.newPlayerType==="milieu"?this.newPlayerType="defenseur":this.newPlayerType="attaquant"}getPlayerGoalsDetails(e){let n=[];for(let i of this.matches)if(i.equipe1===this.teamToEdit?.name||i.equipe2===this.teamToEdit?.name)for(let r of i.buteurs)r.nom===e.name&&n.push({match:i,minute:r.minute});return n}openPlayerGoalsModal(e){this.selectedPlayerGoalsModal=e}closePlayerGoalsModal(){this.selectedPlayerGoalsModal=null}updateFilteredTeams1(){let e=this.team1Search;if(this.matchForm.patchValue({equipe1:e}),e.length<3){this.filteredTeams1=[];return}this.filteredTeams1=this.teams.map(n=>n.name).filter(n=>n.toLowerCase().includes(e.toLowerCase())).filter(n=>n!==this.matchForm.value.equipe2)}updateFilteredTeams2(){let e=this.team2Search;if(this.matchForm.patchValue({equipe2:e}),e.length<3){this.filteredTeams2=[];return}this.filteredTeams2=this.teams.map(n=>n.name).filter(n=>n.toLowerCase().includes(e.toLowerCase())).filter(n=>n!==this.matchForm.value.equipe1)}selectTeam1(e){this.matchForm.patchValue({equipe1:e}),this.team1Search=e,this.filteredTeams1=[]}selectTeam2(e){this.matchForm.patchValue({equipe2:e}),this.team2Search=e,this.filteredTeams2=[]}openNewTeamModal(){this.showNewTeamModal=!0,this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}]}closeNewTeamModal(){this.showNewTeamModal=!1}addNewTeamPlayer(){this.newTeamPlayers.push({name:"",type:"milieu"})}removeNewTeamPlayer(e){this.newTeamPlayers.length>1&&this.newTeamPlayers.splice(e,1)}openNewTeamModalFor(e){this.newTeamTargetField=e,this.showNewTeamModal=!0,this.newTeamName=e==="equipe1"?this.team1Search:this.team2Search,this.newTeamPlayers=[{name:"",type:"milieu"}]}createNewTeam(){if(!this.newTeamName.trim()||this.newTeamPlayers.every(n=>!n.name.trim()))return;let e={id:Date.now(),name:this.newTeamName.trim(),players:this.newTeamPlayers.filter(n=>n.name.trim())};this.teams.push(e),this.saveData(),this.newTeamTargetField==="equipe1"?(this.matchForm.patchValue({equipe1:e.name}),this.team1Search=e.name):this.newTeamTargetField==="equipe2"&&(this.matchForm.patchValue({equipe2:e.name}),this.team2Search=e.name),this.closeNewTeamModal(),this.newTeamTargetField=null}canCreateNewTeam(){return!this.newTeamName.trim()||this.newTeamPlayers.every(e=>!e.name.trim())}updateFilteredCompetitions(){let e=this.competitionSearch.toLowerCase();if(e.length<3){this.filteredCompetitions=[];return}let n=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.filteredCompetitions=n.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectCompetition(e){this.matchForm.patchValue({competition:e}),this.competitionSearch=e,this.filteredCompetitions=[]}startCelebrationTimer(){console.log("startCelebrationTimer() appel\xE9e"),this.celebrationTimer=setInterval(()=>{this.remainingDots--,console.log("Dots restants:",this.remainingDots),this.remainingDots<=0&&(this.showGoalCelebration?(this.showGoalCelebration=!1,this.saveGoalWithAssist()):this.showDuelCelebration&&(this.showDuelCelebration=!1,this.saveDuel()),clearInterval(this.celebrationTimer))},1e3)}onScoreChange(){if(console.log("onScoreChange() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - modification annul\xE9e");return}let e=this.selectedMatch.score1,n=this.selectedMatch.score2;console.log("Scores actuels:",{score1:e,score2:n});let i=this.getActiveGoalsCount(1),r=this.getActiveGoalsCount(2);console.log("Buts actifs:",{team1:i,team2:r}),this.handleTeamScoreChange(1,e,i),this.handleTeamScoreChange(2,n,r),console.log("Match apr\xE8s modification:",this.selectedMatch),this.saveData()}handleTeamScoreChange(e,n,i){console.log(`handleTeamScoreChange() pour \xE9quipe ${e}:`,{newScore:n,currentGoals:i});let r=this.selectedMatch.id;if(n>i){let o=this.disabledGoals.filter(c=>c.matchId===r&&this.selectedMatch.buteurs[c.buteurIndex].equipe===e);console.log(`Buts d\xE9sactiv\xE9s pour \xE9quipe ${e}:`,o.length);let s=Math.min(n-i,o.length);console.log(`R\xE9activation de ${s} buts d\xE9sactiv\xE9s`);for(let c=0;c<s;c++){let l=o[c];this.disabledGoals=this.disabledGoals.filter(u=>!(u.matchId===l.matchId&&u.buteurIndex===l.buteurIndex)),console.log("But r\xE9activ\xE9 \xE0 l'index:",l.buteurIndex)}let a=n-i-s;if(a>0){console.log(`Ajout de ${a} buts "Joueur non list\xE9"`);for(let c=0;c<a;c++){let l={nom:"Joueur non list\xE9",minute:1,equipe:e};this.selectedMatch.buteurs.push(l),console.log("But ajout\xE9:",l)}}}else if(n<i){let o=i-n;console.log(`D\xE9sactivation de ${o} buts de l'\xE9quipe ${e}`),this.selectedMatch.buteurs.map((a,c)=>({buteur:a,index:c})).filter(a=>a.buteur.equipe===e&&!this.isGoalDisabled(a.index)).slice(-o).forEach(a=>{r!==void 0&&(a.buteur.nom==="Joueur non list\xE9"?(this.selectedMatch.buteurs.splice(a.index,1),console.log('"Joueur non list\xE9" supprim\xE9:',a.buteur)):(this.disabledGoals.push({matchId:r,buteurIndex:a.index}),console.log("But d\xE9sactiv\xE9:",a.buteur)))})}}isGoalDisabled(e){return this.selectedMatch?this.disabledGoals.some(n=>n.matchId===this.selectedMatch.id&&n.buteurIndex===e):!1}isGoalDisabledForMatch(e,n){return this.disabledGoals.some(r=>r.matchId===e.id&&r.buteurIndex===n)}maintainScoreConsistency(){if(!this.selectedMatch)return;console.log("maintainScoreConsistency() appel\xE9e");let e=this.getActiveGoalsCount(1),n=this.getActiveGoalsCount(2);console.log("Buts actifs actuels:",{team1:e,team2:n}),console.log("Scores actuels:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2}),this.selectedMatch.score1!==e&&(console.log(`Incoh\xE9rence \xE9quipe 1: score=${this.selectedMatch.score1}, buts actifs=${e}`),this.handleTeamScoreChange(1,this.selectedMatch.score1,e)),this.selectedMatch.score2!==n&&(console.log(`Incoh\xE9rence \xE9quipe 2: score=${this.selectedMatch.score2}, buts actifs=${n}`),this.handleTeamScoreChange(2,this.selectedMatch.score2,n))}getActiveGoalsCount(e){return this.selectedMatch?this.selectedMatch.buteurs.filter((n,i)=>n.equipe===e&&!this.isGoalDisabled(i)).length:0}getActiveGoalsCountForMatch(e,n){return e.buteurs.filter((i,r)=>i.equipe===n&&!this.isGoalDisabledForMatch(e,r)).length}showLocalStorageData(){let e=localStorage.getItem("footballMatches");this.localStorageData=e?JSON.parse(e):"Aucune donn\xE9e trouv\xE9e.",this.showingLocalStorageData=!0}hideLocalStorageData(){this.showingLocalStorageData=!1}updateEditFilteredTeams1(){let e=this.editTeam1Search.toLowerCase();if(e.length<3){this.editFilteredTeams1=[];return}this.editFilteredTeams1=this.teams.map(n=>n.name).filter(n=>n.toLowerCase().includes(e)).filter(n=>n!==this.matchEditForm.value.equipe2)}updateEditFilteredTeams2(){let e=this.editTeam2Search.toLowerCase();if(e.length<3){this.editFilteredTeams2=[];return}this.editFilteredTeams2=this.teams.map(n=>n.name).filter(n=>n.toLowerCase().includes(e)).filter(n=>n!==this.matchEditForm.value.equipe1)}selectEditTeam1(e){this.matchEditForm.patchValue({equipe1:e}),this.editTeam1Search=e,this.editFilteredTeams1=[]}selectEditTeam2(e){this.matchEditForm.patchValue({equipe2:e}),this.editTeam2Search=e,this.editFilteredTeams2=[]}updateEditFilteredCompetitions(){let e=this.editCompetitionSearch.toLowerCase();if(e.length<3){this.editFilteredCompetitions=[];return}let n=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.editFilteredCompetitions=n.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectEditCompetition(e){this.matchEditForm.patchValue({competition:e}),this.editCompetitionSearch=e,this.editFilteredCompetitions=[]}getTeamNames(){return this.teams.map(e=>e.name)}getCompetitionNames(){return Array.from(new Set(this.matches.map(e=>e.competition).filter(e=>!!e)))}updateFilteredButeurNames(){let e=this.buteurForm.get("equipe")?.value,n=(this.buteurNameSearch||"").toLowerCase();if(!e||n.length<3){this.filteredButeurNames=[];return}this.filteredButeurNames=this.getTeamPlayers(e).map(i=>i.name).filter(i=>i.toLowerCase().includes(n))}selectButeurName(e){this.buteurNameSearch=e,this.buteurForm.get("nom")?.setValue(e),this.filteredButeurNames=[]}updateFilteredAssistNames(){let e=this.buteurForm.get("equipe")?.value,n=this.buteurForm.get("nom")?.value,i=(this.assistSearch||"").toLowerCase();if(!e||i.length<3){this.filteredAssistNames=[];return}this.filteredAssistNames=this.getTeamPlayers(e).map(r=>r.name).filter(r=>r!==n).filter(r=>r.toLowerCase().includes(i))}selectAssistName(e){this.assistSearch=e,this.buteurForm.get("assist")?.setValue(e),this.filteredAssistNames=[]}onButeurEquipeChange(){this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.buteurForm.get("nom")?.setValue(""),this.buteurForm.get("assist")?.setValue("")}gererOuvertureFermetureButeurForm(e){e?(this.buteurNameSearch=this.buteurForm.get("nom")?.value||"",this.assistSearch=this.buteurForm.get("assist")?.value||""):(this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[])}shouldShowCreateButeur(){let e=this.buteurForm.get("equipe")?.value,n=this.buteurNameSearch;if(!e||!n||n.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredButeurNames.length===0&&!i.includes(n)}shouldShowCreateAssist(){let e=this.buteurForm.get("equipe")?.value,n=this.assistSearch;if(!e||!n||n.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredAssistNames.length===0&&!i.includes(n)}shouldShowCreateTeam1(){let e=this.team1Search;if(!e||e.length<3)return!1;let n=this.getTeamNames();return this.filteredTeams1.length===0&&!n.includes(e)}shouldShowCreateTeam2(){let e=this.team2Search;if(!e||e.length<3)return!1;let n=this.getTeamNames();return this.filteredTeams2.length===0&&!n.includes(e)}shouldShowCreateCompetition(){let e=this.competitionSearch;if(!e||e.length<3)return!1;let n=this.getCompetitionNames();return this.filteredCompetitions.length===0&&!n.includes(e)}deleteTeam(e){let n=this.matches.filter(i=>i.equipe1===e||i.equipe2===e);if(n.length>0){if(!confirm(`L'\xE9quipe "${e}" est impliqu\xE9e dans ${n.length} match(s).
Supprimer aussi ces matchs ?`))return;this.matches=this.matches.filter(r=>r.equipe1!==e&&r.equipe2!==e)}else if(!confirm(`Supprimer d\xE9finitivement l'\xE9quipe "${e}" ?`))return;this.teams=this.teams.filter(i=>i.name!==e),this.saveData(),this.selectedTeamFilter===e&&(this.selectedTeamFilter="")}get filteredSeasonsForModal(){let e=new Set;for(let i of this.matches)if(i.competition&&i.competition.trim()!==""){let r=this.getSeasonFromDate(i.heureDebut);r&&e.add(r)}let n=this.getCurrentSeason();return e.add(n),Array.from(e).sort((i,r)=>{let o=parseInt(i.split("-")[0]);return parseInt(r.split("-")[0])-o})}static{this.\u0275fac=function(n){return new(n||t)(q(ob),q(Rs))}}static{this.\u0275cmp=xi({type:t,selectors:[["app-root"]],standalone:!0,features:[Mi],decls:34,vars:20,consts:[[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lead","text-muted","mb-0"],[1,"btn","btn-link","ms-2",3,"click"],[1,"fas","fa-question-circle","text-warning"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","btn mt-2",3,"ngClass","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","disabled","click",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[3,"competitions","selectedSeason","availableSeasons","selectedCompetition","isCompetitionWithoutSeason","getSuggestedSeason","seasonChanged","competitionSelected","competitionAdded","competitionUpdated","competitionDeleted","assignSeason","closeModal",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration","style","margin-top: -100px;",4,"ngIf"],["class","disposition-modal",4,"ngIf"],["class","modal-overlay edit-players-overlay",4,"ngIf"],["class","modal fade show","tabindex","-1","style","display:block; background:rgba(0,0,0,0.5);",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-plus-circle","text-white"],[3,"hidden"],[1,"fas","fa-users","text-white"],[1,"btn","mt-2",3,"click","ngClass"],[1,"fas","fa-trophy","text-white"],[1,"text-white"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden"],[1,"fas","fa-list-ol"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden","disabled"],[1,"fas",3,"ngClass"],[1,"modal-overlay"],[1,"team-modal"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-users","me-2"],["type","button","aria-label","Fermer",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"team-item","mb-2"],[1,"team-card"],[1,"team-info"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"badge","bg-secondary"],[4,"ngIf"],[1,"team-actions"],["class","team-item mb-2",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-success","me-auto",3,"click"],[1,"fas","fa-plus-circle","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],["for","'team-' + team.name",1,"form-check-label"],[1,"badge","team-badge"],["title","Modifier l'\xE9quipe",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["title","Supprimer l'\xE9quipe",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[3,"seasonChanged","competitionSelected","competitionAdded","competitionUpdated","competitionDeleted","assignSeason","closeModal","competitions","selectedSeason","availableSeasons","selectedCompetition","isCompetitionWithoutSeason","getSuggestedSeason"],[1,"match-modal"],[1,"fas","fa-futbol","me-2"],[3,"ngSubmit","formGroup"],[1,"row",2,"width","100%","margin","0 auto","padding","10px","border-radius","10px","background","linear-gradient(to top, rgba(0,0,0,0.1) 0%, transparent 70%)"],[1,"col-md-6"],[1,"mb-3","position-relative"],["for","equipe1",1,"form-label"],["id","equipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe1"],["class","list-group position-absolute w-100",4,"ngIf"],["class","mt-1",4,"ngIf"],["for","equipe2",1,"form-label"],["id","equipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe2"],[1,"mb-3"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["for","competition",1,"form-label","text-muted"],["id","competition","type","text","placeholder","Rechercher ou cr\xE9er une comp\xE9tition...","name","competitionSearch","autocomplete","off",1,"form-control","form-control-sm",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","competition"],[1,"d-flex","gap-2","ms-2","mt-3"],["type","submit",1,"btn","btn-primary","px-4"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-auto"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"list-group","position-absolute","w-100"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"mt-1"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"mt-4"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"match-details"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],[1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn",3,"click","ngClass"],["class","match-scorers",4,"ngIf"],["class","match-actions d-flex gap-2 justify-content-center mt-3",4,"ngIf"],[1,"mx-2"],[1,"badge",3,"ngClass"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"buteur-equipe","disabled-scorer"],[1,"minutes-list","right-team"],[1,"buteur-equipe","duel-equipe"],[1,"match-actions","d-flex","gap-2","justify-content-center","mt-3"],["title","Ajouter un but",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-futbol"],["title","Disposition tactique",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-tshirt"],["title","Modifier le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],["title","Partager le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click","disabled"],[1,"ms-1"],[1,"score-modal"],[1,"score-modal-content"],[1,"close-button",2,"position","absolute","right","0","top","O","transform","translateY(-45%)",3,"click"],[2,"text-align","center"],[1,"fas","fa-futbol","me-2",2,"color","#27ae60"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center",3,"click","ngClass"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"row"],[1,"col-sm-6"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],["class","duels-list mb-3",4,"ngIf"],["class","player-selector",4,"ngIf"],[1,"mt-3"],[1,"score-info",2,"font-size","0.7em","opacity","0.8"],[1,"d-flex","align-items-center","justify-content-center","gap-1"],["type","number","min","0","onkeypress","return event.charCode >= 48",1,"form-control","form-control-sm",2,"width","42px","text-align","center","padding","2px 4px",3,"ngModelChange","input","ngModel"],["tabindex","-1",1,"score-modal"],[1,"modal-dialog"],[1,"modal-content"],["type","button",1,"btn-close",3,"click"],[1,"row","g-3"],[1,"col-md-5","position-relative"],[1,"form-label","small"],["type","text","placeholder","Nom du buteur","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","nom"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control"],[1,"col-md-4"],["formControlName","equipe",1,"form-select",3,"change"],[3,"value"],[1,"col-md-12","position-relative"],["type","text","placeholder","Nom du passeur (optionnel)","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","assist"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],["class","fas fa-futbol me-1",4,"ngIf"],["class","fas fa-shield me-1",4,"ngIf"],["class","fas fa-arrows-alt-h me-1",4,"ngIf"],[1,"fas","fa-futbol","me-1"],[1,"fas","fa-shield","me-1"],[1,"fas","fa-arrows-alt-h","me-1"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",3,"ngClass"],[1,"flex-grow-1"],[3,"ngClass"],[1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"duels-list","mb-3"],[1,"section-header"],["class","duel-item",4,"ngFor","ngForOf"],[1,"duel-item"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",2,"border-color","#28a745 !important"],[2,"color","#28a745"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],[1,"match-edit-modal"],[1,"close-button",3,"click"],[1,"fas","fa-calendar-days","me-2",2,"color","#27ae60"],[1,"form-group"],["for","equipe1"],[1,"position-relative"],["id","editEquipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","equipe2"],["id","editEquipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["for","competition",1,"form-label"],["id","editCompetition","type","text","placeholder","Championnat, tournoi, amical...","name","editCompetitionSearch","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],[1,"button-group","mt-3"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger","float-end",2,"float","right",3,"click"],[1,"goal-celebration",2,"margin-top","-100px"],[1,"celebration-content",2,"width","300px"],[1,"goal-text",2,"transform","scale(1.5)"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],[1,"assist-section","mt-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"button-group","mt-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-outline-danger","ms-2",3,"click"],[1,"dot"],[3,"value","disabled"],[1,"goal-text",2,"transform","scale(1.5)","color","#28a745"],[1,"btn","btn-success",3,"click"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"fas","fa-tshirt","me-2",2,"color","#27ae60"],[1,"disposition-controls","mb-3"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"encoding-controls","mt-2"],["role","group",1,"btn-group"],["title","Activer/d\xE9sactiver l'encodage des buts",1,"btn","btn-sm",3,"click"],["title","Activer/d\xE9sactiver l'encodage des duels gagn\xE9s",1,"btn","btn-sm",3,"click"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"],[1,"form-check","mb-2"],["type","checkbox","id","txtFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","txtFormat",1,"form-check-label"],["type","checkbox","id","csvFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","csvFormat",1,"form-check-label"],["type","checkbox","id","jsonFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","jsonFormat",1,"form-check-label"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-unstyled"],[1,"fas","fa-plus-circle","text-primary"],[1,"fas","fa-futbol","text-primary"],[1,"fas","fa-users","text-primary"],[1,"fas","fa-share-alt","text-primary"],[1,"fas","fa-download","text-primary"],[1,"fas","fa-upload","text-primary"],["type","button","class","btn btn-info me-auto",3,"click",4,"ngIf"],["type","button","class","btn btn-warning me-auto",3,"click",4,"ngIf"],["class","p-3 bg-light border mt-2","style","max-height: 300px; overflow: auto; font-size: 0.95em;",4,"ngIf"],["type","button",1,"btn","btn-info","me-auto",3,"click"],["type","button",1,"btn","btn-warning","me-auto",3,"click"],[1,"p-3","bg-light","border","mt-2",2,"max-height","300px","overflow","auto","font-size","0.95em"],[1,"ranking-modal"],[1,"fas","fa-list-ol","me-2"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[1,"px-1"],[1,"px-1",3,"ngClass"],[1,"modal-overlay","edit-players-overlay"],[1,"edit-players-modal"],[1,"fas","fa-users-cog","me-2"],[1,"players-list","mb-4"],[1,"fas","fa-list","me-2"],["class","player-item mb-2",4,"ngFor","ngForOf"],[1,"add-player-section"],[1,"add-player-form"],[1,"input-group"],["placeholder","Nom du nouveau joueur...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"type-selector"],["class","fas fa-futbol type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],[1,"fas","fa-plus","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-save","me-2"],[1,"player-item","mb-2"],[1,"player-card"],[1,"player-info"],[1,"player-type-icon"],["placeholder","Nom du joueur",1,"form-control","player-name-input",3,"ngModelChange","ngModel"],["class","badge bg-primary ms-2 goals-badge",3,"click",4,"ngIf"],[1,"player-actions"],["title","Supprimer le joueur",1,"btn","btn-sm","btn-outline-danger",3,"click"],["title","Changer le type (Attaquant)",1,"fas","fa-futbol","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield","type-icon","type-icon-clickable",3,"click"],[1,"badge","bg-primary","ms-2","goals-badge",3,"click"],["tabindex","-1",1,"modal","fade","show",2,"display","block","background","rgba(0,0,0,0.5)"],["type","button","aria-label","Fermer",1,"btn-close",3,"click"],["class","mb-2",4,"ngFor","ngForOf"],["class","small text-muted",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"mb-2"],[1,"fas","fa-calendar-alt","me-1"],[1,"ms-2"],[1,"fas","fa-stopwatch"],[1,"small","text-muted"],[1,"form-label"],["placeholder","Nom de l'\xE9quipe",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"mb-2","fw-bold"],["class","d-flex align-items-center mb-2 gap-2",4,"ngFor","ngForOf"],[1,"btn","btn-link","p-0","mt-1",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"d-flex","align-items-center","mb-2","gap-2"],["placeholder","Nom du joueur",1,"form-control","form-control-sm",2,"max-width","180px",3,"ngModelChange","ngModel","ngModelOptions"],[1,"form-select","form-select-sm",2,"max-width","120px",3,"ngModelChange","ngModel","ngModelOptions"],["value","attaquant"],["value","milieu"],["value","defenseur"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span",3),m(4,"BUUUT"),f(),h(5,"span",4),m(6,".be"),f()(),h(7,"div",5)(8,"p",6),m(9,"Immortalisez vos matchs!"),f(),h(10,"button",7),I("click",function(){return i.showHelpModal=!0}),b(11,"i",8),f()()(),h(12,"div",9),T(13,K4,4,1,"button",10)(14,Q4,2,0,"button",10)(15,Y4,4,2,"button",11)(16,J4,3,6,"button",12)(17,Z4,3,8,"button",13)(18,tB,28,4,"div",14)(19,nB,1,6,"app-competition-filter-modal",15),f(),T(20,hB,61,16,"div",14)(21,QB,4,1,"div",16)(22,b$,44,17,"div",17)(23,O$,46,16,"div",18)(24,V$,22,6,"div",19)(25,j$,17,4,"div",19)(26,u9,101,53,"div",20)(27,d9,25,4,"div",17)(28,m9,47,3,"div",17)(29,_9,40,2,"div",14),f(),b(30,"router-outlet"),T(31,D9,36,6,"div",21)(32,M9,8,2,"div",22)(33,R9,22,5,"div",22)),n&2&&(d(13),_("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),d(),_("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),d(),_("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm),d(),_("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm&&i.selectedCompetitionFilter&&!i.selectedCompetitionFilter.includes("-")),d(),_("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm),d(),_("ngIf",i.showTeamFilterModal),d(),_("ngIf",i.showCompetitionFilterModal),d(),_("ngIf",i.showMatchForm),d(),_("ngIf",i.filteredMatches.length>0),d(),_("ngIf",i.selectedMatch&&i.showScoreForm),d(),_("ngIf",i.selectedMatch&&i.showMatchEditForm),d(),_("ngIf",i.showGoalCelebration),d(),_("ngIf",i.showDuelCelebration),d(),_("ngIf",i.showDispositionModal&&i.selectedMatch),d(),_("ngIf",i.showExportModal),d(),_("ngIf",i.showHelpModal),d(),_("ngIf",i.showRankingModal),d(2),_("ngIf",i.showEditPlayersModal&&i.teamToEdit&&i.teamToEdit.players),d(),_("ngIf",i.selectedPlayerGoalsModal),d(),_("ngIf",i.showNewTeamModal))},dependencies:[Cr,eI,Fo,Vo,tI,Cu,sb,XI,$u,qu,$o,$m,Vm,Go,qm,Uu,zI,Qm,Km,Wm,Gm,Hm,Gu,ha,eT,Ag,nT],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:scale(1.1)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:.5rem;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #4b29b967}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{position:fixed;top:10px;left:0;width:100%;height:calc(100% - 10px);display:flex;justify-content:center;align-items:flex-start;z-index:1000;padding:0;overflow-y:auto}.score-modal-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1000px;margin:1.75rem auto;background:#fff;border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026;padding:.2rem;outline:0;overflow-y:auto;animation:_ngcontent-%COMP%_fadeIn .3s}.modal-body[_ngcontent-%COMP%]{overflow-y:auto}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.match-duels[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.5rem;margin-top:.5rem}.team-duels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.duels-column[_ngcontent-%COMP%]{flex:1;max-width:50%}.duels-column.left[_ngcontent-%COMP%]{text-align:left}.duels-column.right[_ngcontent-%COMP%]{text-align:right}.duel-equipe[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.duel-equipe[_ngcontent-%COMP%]   .minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4b29b900}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.team-scorers[_ngcontent-%COMP%]{gap:1rem}.scorers-column[_ngcontent-%COMP%]{padding:0 .5rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:solid #3498db;width:99%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.buteur-team1[_ngcontent-%COMP%]{color:#3498db}.buteur-team2[_ngcontent-%COMP%]{color:#27ae60}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:90%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:0 1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%], .duel-equipe[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#191137e6,#40327bcc);padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-controls[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.encoding-controls[_ngcontent-%COMP%]{margin-top:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;font-size:.8rem;padding:.375rem .75rem}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:8px;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:.5rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:1000px;width:98%;overflow-y:auto}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}.share-icon[_ngcontent-%COMP%]{color:#3498db;font-size:1.2em;margin-right:.5rem;transition:transform .3s ease;display:inline-block;transform:scaleX(-1)}.share-icon[_ngcontent-%COMP%]:hover{transform:scaleX(-1) scale(1.2);color:#2980b9}.badge-pastel-primary[_ngcontent-%COMP%]{background-color:#b3d1ff;color:#2c3e50}.badge-pastel-secondary[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#2c3e50}.badge-pastel-success[_ngcontent-%COMP%]{background-color:#b3ffb3;color:#2c3e50}.badge-pastel-danger[_ngcontent-%COMP%]{background-color:#ffb3b3;color:#2c3e50}.badge-pastel-warning[_ngcontent-%COMP%]{background-color:#ffe6b3;color:#2c3e50}.badge-pastel-info[_ngcontent-%COMP%]{background-color:#b3e6ff;color:#2c3e50}.badge-pastel-dark[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#2c3e50}.badge-pastel-purple[_ngcontent-%COMP%]{background-color:#e6b3ff;color:#2c3e50}.badge-pastel-pink[_ngcontent-%COMP%]{background-color:#ffb3e6;color:#2c3e50}.badge-pastel-teal[_ngcontent-%COMP%]{background-color:#b3ffe6;color:#2c3e50}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{font-size:1.3em;margin:0 .2em;cursor:pointer;color:#bbb;transition:color .2s,background .2s,border .2s;border-radius:50%;padding:.2em .3em}.type-icons[_ngcontent-%COMP%]   .type-icon.active-type[_ngcontent-%COMP%]{color:#fff;background:#3498db;border:2px solid #3498db}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]:hover{color:#3498db;background:#eaf6ff}.type-icon.type-icon-clickable[_ngcontent-%COMP%]{font-size:1em;color:#fff;background:#3498db;border:2px solid #3498db;border-radius:25%;padding:.25em .35em;margin-right:.5em;box-shadow:0 2px 8px #3498db40;cursor:pointer;transition:transform .1s,box-shadow .2s,background .2s;outline:2px solid #fff;outline-offset:2px}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:hover{background:#217dbb;color:#fff;box-shadow:0 4px 16px #3498db59;transform:scale(1.12) rotate(-8deg)}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:active{background:#176093;transform:scale(.95) rotate(4deg);box-shadow:0 2px 8px #3498db26}.list-group.position-absolute[_ngcontent-%COMP%]{z-index:1050;background:#fff;border:1px solid #ddd;box-shadow:0 2px 8px #00000014;max-height:220px;overflow-y:auto}.disabled-goal[_ngcontent-%COMP%]{opacity:.5;background-color:#f8f9fa;border-color:#dee2e6!important}.disabled-goal[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-decoration:line-through;color:#6c757d!important}.disabled-goal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{opacity:.8}.disabled-scorer[_ngcontent-%COMP%]{opacity:.5;text-decoration:line-through;color:#6c757d!important}.disabled-scorer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through}.score-modal[_ngcontent-%COMP%], .match-edit-modal[_ngcontent-%COMP%], .disposition-modal[_ngcontent-%COMP%], .modal.fade.show[_ngcontent-%COMP%], .modal[style*="display:block"][_ngcontent-%COMP%]{background:#00000080!important}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1040;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.edit-players-overlay[_ngcontent-%COMP%]{z-index:1055!important}.team-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:600px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.match-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:800px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.ranking-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:1000px;width:95%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.team-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.team-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .match-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .ranking-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.team-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.team-item[_ngcontent-%COMP%]{transition:all .3s ease}.team-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.team-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.team-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0}.team-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.team-badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem;border-radius:20px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}@media (max-width: 768px){.team-modal[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.team-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;text-align:left;min-height:55px}.team-actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-end;gap:.5rem;flex-shrink:0}.team-info[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.team-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}@media (max-width: 480px){.team-card[_ngcontent-%COMP%]{flex-direction:row;text-align:left;min-height:50px;padding:.75rem}.team-actions[_ngcontent-%COMP%]{justify-content:flex-end;width:auto;gap:.4rem}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.team-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.team-modal[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.edit-players-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:700px;width:90%;max-height:90vh;overflow:hidden;z-index:1060;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.edit-players-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.edit-players-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.edit-players-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.edit-players-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.edit-players-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.players-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .add-player-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.player-item[_ngcontent-%COMP%]{transition:all .3s ease}.player-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.player-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.player-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0;gap:.75rem}.player-type-icon[_ngcontent-%COMP%]{flex-shrink:0}.player-name-input[_ngcontent-%COMP%]{flex:1;min-width:0;max-width:200px}.goals-badge[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer;transition:all .3s ease}.goals-badge[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.player-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.add-player-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:1.5rem;border-radius:10px;border:1px solid #dee2e6}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1;border:2px solid #e9ecef;border-radius:8px;padding:.75rem;transition:border-color .3s ease,box-shadow .3s ease}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.type-selector[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;border-radius:8px;transition:all .3s ease;flex-shrink:0}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}@media (max-width: 768px){.edit-players-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.player-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;min-height:55px}.player-actions[_ngcontent-%COMP%]{gap:.5rem}.player-name-input[_ngcontent-%COMP%]{max-width:150px}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}}@media (max-width: 480px){.player-card[_ngcontent-%COMP%]{min-height:50px;padding:.75rem}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.player-name-input[_ngcontent-%COMP%]{max-width:120px}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.type-selector[_ngcontent-%COMP%]{justify-content:center}}.btn-score-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 14px #10b98163;transition:all .3s ease}.btn-score-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-2px);box-shadow:0 6px 20px #10b98180}.btn-score-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 14px #ef444463;transition:all .3s ease}.btn-score-danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c);transform:translateY(-2px);box-shadow:0 6px 20px #ef444480}.btn-score-light[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border:2px solid #d1d5db;box-shadow:0 2px 8px #0000001a;transition:all .3s ease}.btn-score-light[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e5e7eb,#d1d5db);transform:translateY(-1px);box-shadow:0 4px 12px #00000026}']})}};var aS=(()=>{class t{constructor(n){this.http=n,this.apiUrl="http://localhost:3000/api/matches"}createMatch(n){return this.http.post(this.apiUrl,n)}getAllMatches(){return this.http.get(this.apiUrl)}getMatchById(n){return this.http.get(`${this.apiUrl}/${n}`)}updateMatch(n,i){return this.http.put(`${this.apiUrl}/${n}`,i)}deleteMatch(n){return this.http.delete(`${this.apiUrl}/${n}`)}static{this.\u0275fac=function(i){return new(i||t)(B(Tm))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function N9(t,e){if(t&1&&(h(0,"span"),m(1),f()),t&2){let n=g().$implicit;d(),N("(Assist: ",n.assist,")")}}function O9(t,e){if(t&1&&(h(0,"div",5)(1,"p"),m(2),T(3,N9,2,1,"span",6),f()()),t&2){let n=e.$implicit;d(2),rn(" ",n.nom," (",n.minute,"') "),d(),_("ngIf",n.assist)}}function k9(t,e){if(t&1&&(h(0,"div",1)(1,"h2"),m(2),f(),h(3,"div",2)(4,"p"),m(5),Ro(6,"date"),f(),h(7,"p"),m(8),f(),h(9,"p"),m(10),f()(),h(11,"div",3)(12,"h3"),m(13,"Buteurs"),f(),T(14,O9,4,3,"div",4),f()()),t&2){let n=g();d(2),rn("",n.match.equipe1," vs ",n.match.equipe2,""),d(3),N("Date: ",Zs(6,7,n.match.heureDebut,"medium"),""),d(3),N("Lieu: ",n.match.lieu,""),d(2),rn("Score: ",n.match.score1," - ",n.match.score2,""),d(4),_("ngForOf",n.match.buteurs)}}var cS=(()=>{class t{constructor(n,i){this.route=n,this.firestoreService=i,this.match=null}ngOnInit(){this.route.params.subscribe(n=>{let i=n.id;i&&this.loadMatch(i)})}loadMatch(n){return E(this,null,function*(){try{this.match=yield this.firestoreService.getMatchById(n)}catch(i){console.error("Erreur lors du chargement du match:",i)}})}static{this.\u0275fac=function(i){return new(i||t)(q(li),q(Rs))}}static{this.\u0275cmp=xi({type:t,selectors:[["app-match-detail"]],standalone:!0,features:[Mi],decls:1,vars:1,consts:[["class","match-detail",4,"ngIf"],[1,"match-detail"],[1,"match-info"],[1,"buteurs"],["class","buteur",4,"ngFor","ngForOf"],[1,"buteur"],[4,"ngIf"]],template:function(i,r){i&1&&T(0,k9,15,10,"div",0),i&2&&_("ngIf",r.match)},dependencies:[Cr,Fo,Vo,Cu],styles:[".match-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.match-info[_ngcontent-%COMP%]{margin:20px 0}.buteurs[_ngcontent-%COMP%]{margin-top:20px}.buteur[_ngcontent-%COMP%]{margin:10px 0}"]})}}return t})();var lS=[{path:"match/:id",component:cS}];var uS={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var dS={providers:[Qb(lS),Rs,Mp(ST(()=>AT(uS.firebaseConfig)),eS(()=>tS()))]};vI(Qh,{providers:[...dS.providers,dI(),aS]}).catch(t=>console.error(t));
