var _S=Object.defineProperty,vS=Object.defineProperties;var yS=Object.getOwnPropertyDescriptors;var Dy=Object.getOwnPropertySymbols;var wS=Object.prototype.hasOwnProperty,CS=Object.prototype.propertyIsEnumerable;var xy=(n,e,t)=>e in n?_S(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M=(n,e)=>{for(var t in e||={})wS.call(e,t)&&xy(n,t,e[t]);if(Dy)for(var t of Dy(e))CS.call(e,t)&&xy(n,t,e[t]);return n},Y=(n,e)=>vS(n,yS(e));var E=(n,e,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(l){r(l)}},s=c=>{try{a(t.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Sy=null;var Zh=1,Xh=Symbol("SIGNAL");function ve(n){let e=Sy;return Sy=n,e}var Ay={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bS(n){if(!(nf(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Zh)){if(!n.producerMustRecompute(n)&&!ef(n)){n.dirty=!1,n.lastCleanEpoch=Zh;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Zh}}function My(n){return n&&(n.nextProducerIndex=0),ve(n)}function Py(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(nf(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)tf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ef(n){Lc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(bS(t),i!==t.version))return!0}return!1}function Ry(n){if(Lc(n),nf(n))for(let e=0;e<n.producerNode.length;e++)tf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function tf(n,e){if(ES(n),Lc(n),n.liveConsumerNode.length===1)for(let i=0;i<n.producerNode.length;i++)tf(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Lc(r),r.producerIndexOfThis[i]=e}}function nf(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Lc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ES(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function IS(){throw new Error}var TS=IS;function Ny(n){TS=n}function J(n){return typeof n=="function"}function to(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var jc=to(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function rr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(J(i))try{i()}catch(o){e=o instanceof jc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Oy(o)}catch(s){e=e??[],s instanceof jc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new jc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Oy(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&rr(t,e)}remove(e){let{_finalizers:t}=this;t&&rr(t,e),e instanceof n&&e._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();var rf=$e.EMPTY;function Uc(n){return n instanceof $e||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function Oy(n){J(n)?n():n.unsubscribe()}var pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var no={setTimeout(n,e,...t){let{delegate:i}=no;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=no;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Bc(n){no.setTimeout(()=>{let{onUnhandledError:e}=pn;if(e)e(n);else throw n})}function ks(){}var ky=of("C",void 0,void 0);function Fy(n){return of("E",void 0,n)}function Vy(n){return of("N",n,void 0)}function of(n,e,t){return{kind:n,value:e,error:t}}var or=null;function io(n){if(pn.useDeprecatedSynchronousErrorHandling){let e=!or;if(e&&(or={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=or;if(or=null,t)throw i}}else n()}function Ly(n){pn.useDeprecatedSynchronousErrorHandling&&or&&(or.errorThrown=!0,or.error=n)}var sr=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uc(e)&&e.add(this)):this.destination=SS}static create(e,t,i){return new ro(e,t,i)}next(e){this.isStopped?af(Vy(e),this):this._next(e)}error(e){this.isStopped?af(Fy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?af(ky,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},DS=Function.prototype.bind;function sf(n,e){return DS.call(n,e)}var cf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){$c(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){$c(i)}else $c(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){$c(t)}}},ro=class extends sr{constructor(e,t,i){super();let r;if(J(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&sf(e.next,o),error:e.error&&sf(e.error,o),complete:e.complete&&sf(e.complete,o)}):r=e}this.destination=new cf(r)}};function $c(n){pn.useDeprecatedSynchronousErrorHandling?Ly(n):Bc(n)}function xS(n){throw n}function af(n,e){let{onStoppedNotification:t}=pn;t&&no.setTimeout(()=>t(n,e))}var SS={closed:!0,next:ks,error:xS,complete:ks};var oo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(n){return n}function lf(...n){return uf(n)}function uf(n){return n.length===0?Lt:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=MS(t)?t:new ro(t,i,r);return io(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=jy(i),new i((r,o)=>{let s=new ro({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[oo](){return this}pipe(...t){return uf(t)(this)}toPromise(t){return t=jy(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function jy(n){var e;return(e=n??pn.Promise)!==null&&e!==void 0?e:Promise}function AS(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}function MS(n){return n&&n instanceof sr||AS(n)&&Uc(n)}function df(n){return J(n?.lift)}function de(n){return e=>{if(df(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,e,t,i,r){return new hf(n,e,t,i,r)}var hf=class extends sr{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function so(){return de((n,e)=>{let t=null;n._refCount++;let i=se(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var ao=class extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,df(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let t=this.getSubject();e.add(this.source.subscribe(se(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return so()(this)}};var Uy=to(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wt=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new qc(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Uy}next(t){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?rf:(this.currentObservers=null,o.push(t),new $e(()=>{this.currentObservers=null,rr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new oe;return t.source=this,t}}return n.create=(e,t)=>new qc(e,t),n})(),qc=class extends wt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:rf}};var ot=class extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var ff={now(){return(ff.delegate||Date).now()},delegate:void 0};var Gc=class extends $e{constructor(e,t){super()}schedule(e,t=0){return this}};var Fs={setInterval(n,e,...t){let{delegate:i}=Fs;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Fs;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var co=class extends Gc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Fs.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Fs.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,rr(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var lo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};lo.now=ff.now;var uo=class extends lo{constructor(e,t=lo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var pf=new uo(co);var zc=class extends co{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Hc=class extends uo{};var mf=new Hc(zc);var jt=new oe(n=>n.complete());function By(n){return n&&J(n.schedule)}function $y(n){return n[n.length-1]}function Wc(n){return J($y(n))?n.pop():void 0}function _i(n){return By($y(n))?n.pop():void 0}function gf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Gy(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(p){s(p)}}function c(u){try{l(i.throw(u))}catch(p){s(p)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}function qy(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ar(n){return this instanceof ar?(this.v=n,this):new ar(n)}function zy(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){i[y]&&(r[y]=function(x){return new Promise(function(A,F){o.push([y,x,A,F])>1||c(y,x)})},D&&(r[y]=D(r[y])))}function c(y,D){try{l(i[y](D))}catch(x){v(o[0][3],x)}}function l(y){y.value instanceof ar?Promise.resolve(y.value.v).then(u,p):v(o[0][2],y)}function u(y){c("next",y)}function p(y){c("throw",y)}function v(y,D){y(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Hy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof qy=="function"?qy(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Kc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Qc(n){return J(n?.then)}function Yc(n){return J(n[oo])}function Jc(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function Zc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function PS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xc=PS();function el(n){return J(n?.[Xc])}function tl(n){return zy(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield ar(t.read());if(r)return yield ar(void 0);yield yield ar(i)}}finally{t.releaseLock()}})}function nl(n){return J(n?.getReader)}function Ge(n){if(n instanceof oe)return n;if(n!=null){if(Yc(n))return RS(n);if(Kc(n))return NS(n);if(Qc(n))return OS(n);if(Jc(n))return Wy(n);if(el(n))return kS(n);if(nl(n))return FS(n)}throw Zc(n)}function RS(n){return new oe(e=>{let t=n[oo]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function NS(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function OS(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Bc)})}function kS(n){return new oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Wy(n){return new oe(e=>{VS(n,e).catch(t=>e.error(t))})}function FS(n){return Wy(tl(n))}function VS(n,e){var t,i,r,o;return Gy(this,void 0,void 0,function*(){try{for(t=Hy(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function St(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function vi(n,e=0){return de((t,i)=>{t.subscribe(se(i,r=>St(i,n,()=>i.next(r),e),()=>St(i,n,()=>i.complete(),e),r=>St(i,n,()=>i.error(r),e)))})}function yi(n,e=0){return de((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Ky(n,e){return Ge(n).pipe(yi(e),vi(e))}function Qy(n,e){return Ge(n).pipe(yi(e),vi(e))}function Yy(n,e){return new oe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function Jy(n,e){return new oe(t=>{let i;return St(t,e,()=>{i=n[Xc](),St(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>J(i?.return)&&i.return()})}function il(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{St(t,e,()=>{let i=n[Symbol.asyncIterator]();St(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Zy(n,e){return il(tl(n),e)}function Xy(n,e){if(n!=null){if(Yc(n))return Ky(n,e);if(Kc(n))return Yy(n,e);if(Qc(n))return Qy(n,e);if(Jc(n))return il(n,e);if(el(n))return Jy(n,e);if(nl(n))return Zy(n,e)}throw Zc(n)}function ke(n,e){return e?Xy(n,e):Ge(n)}function H(...n){let e=_i(n);return ke(n,e)}function ho(n,e){let t=J(n)?n:()=>n,i=r=>r.error(t());return new oe(e?r=>e.schedule(i,0,r):i)}function _f(n){return!!n&&(n instanceof oe||J(n.lift)&&J(n.subscribe))}var Yn=to(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return de((t,i)=>{let r=0;t.subscribe(se(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:LS}=Array;function jS(n,e){return LS(e)?n(...e):n(e)}function rl(n){return ee(e=>jS(n,e))}var{isArray:US}=Array,{getPrototypeOf:BS,prototype:$S,keys:qS}=Object;function ol(n){if(n.length===1){let e=n[0];if(US(e))return{args:e,keys:null};if(GS(e)){let t=qS(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function GS(n){return n&&typeof n=="object"&&BS(n)===$S}function sl(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Vs(...n){let e=_i(n),t=Wc(n),{args:i,keys:r}=ol(n);if(i.length===0)return ke([],e);let o=new oe(zS(i,e,r?s=>sl(r,s):Lt));return t?o.pipe(rl(t)):o}function zS(n,e,t=Lt){return i=>{ew(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)ew(e,()=>{let l=ke(n[c],e),u=!1;l.subscribe(se(i,p=>{o[c]=p,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function ew(n,e,t){n?St(t,n,e):e()}function tw(n,e,t,i,r,o,s,a){let c=[],l=0,u=0,p=!1,v=()=>{p&&!c.length&&!l&&e.complete()},y=x=>l<i?D(x):c.push(x),D=x=>{o&&e.next(x),l++;let A=!1;Ge(t(x,u++)).subscribe(se(e,F=>{r?.(F),o?y(F):e.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<i;){let F=c.shift();s?St(e,s,()=>D(F)):D(F)}v()}catch(F){e.error(F)}}))};return n.subscribe(se(e,y,()=>{p=!0,v()})),()=>{a?.()}}function ze(n,e,t=1/0){return J(e)?ze((i,r)=>ee((o,s)=>e(i,o,r,s))(Ge(n(i,r))),t):(typeof e=="number"&&(t=e),de((i,r)=>tw(i,r,n,t)))}function fo(n=1/0){return ze(Lt,n)}function nw(){return fo(1)}function po(...n){return nw()(ke(n,_i(n)))}function al(n){return new oe(e=>{Ge(n()).subscribe(e)})}function vf(...n){let e=Wc(n),{args:t,keys:i}=ol(n),r=new oe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let p=!1;Ge(t[u]).subscribe(se(o,v=>{p||(p=!0,l--),a[u]=v},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(i?sl(i,a):a),o.complete())}))}});return e?r.pipe(rl(e)):r}function At(n,e){return de((t,i)=>{let r=0;t.subscribe(se(i,o=>n.call(e,o,r++)&&i.next(o)))})}function wi(n){return de((e,t)=>{let i=null,r=!1,o;i=e.subscribe(se(t,void 0,void 0,s=>{o=Ge(n(s,wi(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function iw(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(se(s,u=>{let p=l++;c=a?n(c,u,p):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Jn(n,e){return J(e)?ze(n,e,1):ze(n,1)}function Ci(n){return de((e,t)=>{let i=!1;e.subscribe(se(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Zn(n){return n<=0?()=>jt:de((e,t)=>{let i=0;e.subscribe(se(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function yf(n){return ee(()=>n)}function cl(n=HS){return de((e,t)=>{let i=!1;e.subscribe(se(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function HS(){return new Yn}function cr(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function An(n,e){let t=arguments.length>=2;return i=>i.pipe(n?At((r,o)=>n(r,o,i)):Lt,Zn(1),t?Ci(e):cl(()=>new Yn))}function mo(n){return n<=0?()=>jt:de((e,t)=>{let i=[];e.subscribe(se(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function wf(n,e){let t=arguments.length>=2;return i=>i.pipe(n?At((r,o)=>n(r,o,i)):Lt,mo(1),t?Ci(e):cl(()=>new Yn))}function Cf(n,e){return de(iw(n,e,arguments.length>=2,!0))}function bf(...n){let e=_i(n);return de((t,i)=>{(e?po(n,t,e):po(n,t)).subscribe(i)})}function Mt(n,e){return de((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(se(i,c=>{r?.unsubscribe();let l=0,u=o++;Ge(n(c,u)).subscribe(r=se(i,p=>i.next(e?e(c,p,u,l++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ef(n){return de((e,t)=>{Ge(n).subscribe(se(t,()=>t.complete(),ks)),!t.closed&&e.subscribe(t)})}function He(n,e,t){let i=J(n)||e||t?{next:n,error:e,complete:t}:n;return i?de((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(se(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Lt}var WS="https://g.co/ng/security#xss",$=class extends Error{constructor(e,t){super(Ll(e,t)),this.code=e}};function Ll(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Qs(n){return{toString:n}.toString()}var ll="__parameters__";function KS(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function Bw(n,e,t){return Qs(()=>{let i=KS(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let p=c.hasOwnProperty(ll)?c[ll]:Object.defineProperty(c,ll,{value:[]})[ll];for(;p.length<=u;)p.push(null);return(p[u]=p[u]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Xn=globalThis;function Me(n){for(let e in n)if(n[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function QS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function bt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(bt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function rw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var YS=Me({__forward_ref__:Me});function Et(n){return n.__forward_ref__=Et,n.toString=function(){return bt(this())},n}function Ct(n){return $w(n)?n():n}function $w(n){return typeof n=="function"&&n.hasOwnProperty(YS)&&n.__forward_ref__===Et}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rt(n){return{providers:n.providers||[],imports:n.imports||[]}}function jl(n){return ow(n,Gw)||ow(n,zw)}function qw(n){return jl(n)!==null}function ow(n,e){return n.hasOwnProperty(e)?n[e]:null}function JS(n){let e=n&&(n[Gw]||n[zw]);return e||null}function sw(n){return n&&(n.hasOwnProperty(aw)||n.hasOwnProperty(ZS))?n[aw]:null}var Gw=Me({\u0275prov:Me}),aw=Me({\u0275inj:Me}),zw=Me({ngInjectableDef:Me}),ZS=Me({ngInjectorDef:Me}),U=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Hw(n){return n&&!!n.\u0275providers}var XS=Me({\u0275cmp:Me}),eA=Me({\u0275dir:Me}),tA=Me({\u0275pipe:Me}),nA=Me({\u0275mod:Me}),_l=Me({\u0275fac:Me}),Ls=Me({__NG_ELEMENT_ID__:Me}),cw=Me({__NG_ENV_ID__:Me});function Ei(n){return typeof n=="string"?n:n==null?"":String(n)}function iA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ei(n)}function rA(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new $(-200,n)}function xp(n,e){throw new $(-201,!1)}var ie=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ie||{}),Uf;function Ww(){return Uf}function Pt(n){let e=Uf;return Uf=n,e}function Kw(n,e,t){let i=jl(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&ie.Optional)return null;if(e!==void 0)return e;xp(n,"Injector")}var oA={},js=oA,Bf="__NG_DI_FLAG__",vl="ngTempTokenPath",sA="ngTokenPath",aA=/\n/gm,cA="\u0275",lw="__source",wo;function lA(){return wo}function bi(n){let e=wo;return wo=n,e}function uA(n,e=ie.Default){if(wo===void 0)throw new $(-203,!1);return wo===null?Kw(n,void 0,e):wo.get(n,e&ie.Optional?null:void 0,e)}function B(n,e=ie.Default){return(Ww()||uA)(Ct(n),e)}function N(n,e=ie.Default){return B(n,Ul(e))}function Ul(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function $f(n){let e=[];for(let t=0;t<n.length;t++){let i=Ct(n[t]);if(Array.isArray(i)){if(i.length===0)throw new $(900,!1);let r,o=ie.Default;for(let s=0;s<i.length;s++){let a=i[s],c=dA(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(B(r,o))}else e.push(B(i))}return e}function Qw(n,e){return n[Bf]=e,n.prototype[Bf]=e,n}function dA(n){return n[Bf]}function hA(n,e,t,i){let r=n[vl];throw e[lw]&&r.unshift(e[lw]),n.message=fA(`
`+n.message,r,t,i),n[sA]=r,n[vl]=null,n}function fA(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==cA?n.slice(2):n;let r=bt(e);if(Array.isArray(e))r=e.map(bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):bt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(aA,`
  `)}`}var Xt=Qw(Bw("Optional"),8);var Sp=Qw(Bw("SkipSelf"),4);function hr(n,e){let t=n.hasOwnProperty(_l);return t?n[_l]:null}function Ap(n,e){n.forEach(t=>Array.isArray(t)?Ap(t,e):e(t))}function Yw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function yl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function pA(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function mA(n,e,t){let i=Ys(n,e);return i>=0?n[i|1]=t:(i=~i,pA(n,i,e,t)),i}function If(n,e){let t=Ys(n,e);if(t>=0)return n[t|1]}function Ys(n,e){return gA(n,e,1)}function gA(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var bo={},Yt=[],Eo=new U(""),Jw=new U("",-1),Zw=new U(""),wl=class{get(e,t=js){if(t===js){let i=new Error(`NullInjectorError: No provider for ${bt(e)}!`);throw i.name="NullInjectorError",i}return t}},Xw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Xw||{}),Rn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Rn||{}),st=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(st||{});function _A(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function qf(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];yA(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function vA(n){return n===3||n===4||n===6}function yA(n){return n.charCodeAt(0)===64}function Us(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?uw(n,t,r,null,e[++i]):uw(n,t,r,null,null))}}return n}function uw(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var eC="ng-template";function wA(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&_A(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Mp(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Mp(n){return n.type===4&&n.value!==eC}function CA(n,e,t){let i=n.type===4&&!t?eC:n.value;return e===i}function bA(n,e,t){let i=4,r=n.attrs,o=r!==null?TA(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!mn(i)&&!mn(c))return!1;if(s&&mn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!CA(n,c,t)||c===""&&e.length===1){if(mn(i))return!1;s=!0}}else if(i&8){if(r===null||!wA(n,r,c,t)){if(mn(i))return!1;s=!0}}else{let l=e[++a],u=EA(c,r,Mp(n),t);if(u===-1){if(mn(i))return!1;s=!0;continue}if(l!==""){let p;if(u>o?p="":p=r[u+1].toLowerCase(),i&2&&l!==p){if(mn(i))return!1;s=!0}}}}return mn(i)||s}function mn(n){return(n&1)===0}function EA(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return DA(e,n)}function IA(n,e,t=!1){for(let i=0;i<e.length;i++)if(bA(n,e[i],t))return!0;return!1}function TA(n){for(let e=0;e<n.length;e++){let t=n[e];if(vA(t))return e}return n.length}function DA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function dw(n,e){return n?":not("+e.trim()+")":e}function xA(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!mn(s)&&(e+=dw(o,r),r=""),i=s,o=o||!mn(i);t++}return r!==""&&(e+=dw(o,r)),e}function SA(n){return n.map(xA).join(",")}function AA(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!mn(r))break;r=o}i++}return{attrs:e,classes:t}}function Ai(n){return Qs(()=>{let e=oC(n),t=Y(M({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Xw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Rn.Emulated,styles:n.styles||Yt,_:null,schemas:n.schemas||null,tView:null,id:""});sC(t);let i=n.dependencies;return t.directiveDefs=fw(i,!1),t.pipeDefs=fw(i,!0),t.id=RA(t),t})}function MA(n){return Ti(n)||tC(n)}function PA(n){return n!==null}function Nt(n){return Qs(()=>({type:n.type,bootstrap:n.bootstrap||Yt,declarations:n.declarations||Yt,imports:n.imports||Yt,exports:n.exports||Yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function hw(n,e){if(n==null)return bo;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=st.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==st.None?[i,a]:i,e[o]=s):t[o]=i}return t}function Pe(n){return Qs(()=>{let e=oC(n);return sC(e),e})}function Bl(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ti(n){return n[XS]||null}function tC(n){return n[eA]||null}function nC(n){return n[tA]||null}function iC(n){let e=Ti(n)||tC(n)||nC(n);return e!==null?e.standalone:!1}function rC(n,e){let t=n[nA]||null;if(!t&&e===!0)throw new Error(`Type ${bt(n)} does not have '\u0275mod' property.`);return t}function oC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||bo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Yt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hw(n.inputs,e),outputs:hw(n.outputs),debugInfo:null}}function sC(n){n.features?.forEach(e=>e(n))}function fw(n,e){if(!n)return null;let t=e?nC:MA;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(PA)}function RA(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Po(n){return{\u0275providers:n}}function Pp(...n){return{\u0275providers:aC(!0,n),\u0275fromNgModule:!0}}function aC(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return Ap(e,s=>{let a=s;Gf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&cC(r,o),t}function cC(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Rp(r,o=>{e(o,i)})}}function Gf(n,e,t,i){if(n=Ct(n),!n)return!1;let r=null,o=sw(n),s=!o&&Ti(n);if(!o&&!s){let c=n.ngModule;if(o=sw(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Gf(l,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{Ap(o.imports,u=>{Gf(u,e,t,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&cC(l,e)}if(!a){let l=hr(r)||(()=>new r);e({provide:r,useFactory:l,deps:Yt},r),e({provide:Zw,useValue:r,multi:!0},r),e({provide:Eo,useValue:()=>B(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=n;Rp(c,u=>{e(u,l)})}}else return!1;return r!==n&&n.providers!==void 0}function Rp(n,e){for(let t of n)Hw(t)&&(t=t.\u0275providers),Array.isArray(t)?Rp(t,e):e(t)}var NA=Me({provide:String,useValue:Me});function lC(n){return n!==null&&typeof n=="object"&&NA in n}function OA(n){return!!(n&&n.useExisting)}function kA(n){return!!(n&&n.useFactory)}function Io(n){return typeof n=="function"}function FA(n){return!!n.useClass}var $l=new U(""),hl={},VA={},Tf;function Np(){return Tf===void 0&&(Tf=new wl),Tf}var ht=class{},Bs=class extends ht{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hf(e,s=>this.processProvider(s)),this.records.set(Jw,go(void 0,this)),r.has("environment")&&this.records.set(ht,go(void 0,this));let o=this.records.get($l);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Zw,Yt,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=bi(this),i=Pt(void 0),r;try{return e()}finally{bi(t),Pt(i)}}get(e,t=js,i=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cw))return e[cw](this);i=Ul(i);let r,o=bi(this),s=Pt(void 0);try{if(!(i&ie.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=$A(e)&&jl(e);l&&this.injectableDefInScope(l)?c=go(zf(e),hl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&ie.Self?Np():this.parent;return t=i&ie.Optional&&t===js?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[vl]=a[vl]||[]).unshift(bt(e)),o)throw a;return hA(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(s),bi(o)}}resolveInjectorInitializers(){let e=ve(null),t=bi(this),i=Pt(void 0),r;try{let o=this.get(Eo,Yt,ie.Self);for(let s of o)s()}finally{bi(t),Pt(i),ve(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(bt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=Ct(e);let t=Io(e)?e:Ct(e&&e.provide),i=jA(e);if(!Io(e)&&e.multi===!0){let r=this.records.get(t);r||(r=go(void 0,hl,!0),r.factory=()=>$f(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=ve(null);try{return t.value===hl&&(t.value=VA,t.value=t.factory()),typeof t.value=="object"&&t.value&&BA(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function zf(n){let e=jl(n),t=e!==null?e.factory:hr(n);if(t!==null)return t;if(n instanceof U)throw new $(204,!1);if(n instanceof Function)return LA(n);throw new $(204,!1)}function LA(n){if(n.length>0)throw new $(204,!1);let t=JS(n);return t!==null?()=>t.factory(n):()=>new n}function jA(n){if(lC(n))return go(void 0,n.useValue);{let e=uC(n);return go(e,hl)}}function uC(n,e,t){let i;if(Io(n)){let r=Ct(n);return hr(r)||zf(r)}else if(lC(n))i=()=>Ct(n.useValue);else if(kA(n))i=()=>n.useFactory(...$f(n.deps||[]));else if(OA(n))i=()=>B(Ct(n.useExisting));else{let r=Ct(n&&(n.useClass||n.provide));if(UA(n))i=()=>new r(...$f(n.deps));else return hr(r)||zf(r)}return i}function go(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function UA(n){return!!n.deps}function BA(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $A(n){return typeof n=="function"||typeof n=="object"&&n instanceof U}function Hf(n,e){for(let t of n)Array.isArray(t)?Hf(t,e):t&&Hw(t)?Hf(t.\u0275providers,e):e(t)}function vn(n,e){n instanceof Bs&&n.assertNotDestroyed();let t,i=bi(n),r=Pt(void 0);try{return e()}finally{bi(i),Pt(r)}}function dC(){return Ww()!==void 0||lA()!=null}function qA(n){if(!dC())throw new $(-203,!1)}function GA(n){return typeof n=="function"}var ii=0,ae=1,K=2,ft=3,gn=4,yn=5,Cl=6,$s=7,_n=8,To=9,Nn=10,We=11,qs=12,pw=13,Ro=14,On=15,ql=16,_o=17,Do=18,Gl=19,hC=20,Ii=21,Df=22,fr=23,Zt=25,fC=1;var pr=7,bl=8,El=9,Jt=10,Op=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Op||{});function ur(n){return Array.isArray(n)&&typeof n[fC]=="object"}function ri(n){return Array.isArray(n)&&n[fC]===!0}function kp(n){return(n.flags&4)!==0}function zl(n){return n.componentOffset>-1}function Hl(n){return(n.flags&1)===1}function Di(n){return!!n.template}function zA(n){return(n[K]&512)!==0}var Wf=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function pC(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function oi(){return mC}function mC(n){return n.type.prototype.ngOnChanges&&(n.setInput=WA),HA}oi.ngInherit=!0;function HA(){let n=_C(this),e=n?.current;if(e){let t=n.previous;if(t===bo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function WA(n,e,t,i,r){let o=this.declaredInputs[i],s=_C(n)||KA(n,{previous:bo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Wf(l&&l.currentValue,t,c===bo),pC(n,e,r,t)}var gC="__ngSimpleChanges__";function _C(n){return n[gC]||null}function KA(n,e){return n[gC]=e}var mw=null;var Mn=function(n,e,t){mw?.(n,e,t)},QA="svg",YA="math",JA=!1;function ZA(){return JA}function kn(n){for(;Array.isArray(n);)n=n[ii];return n}function vC(n,e){return kn(e[n])}function en(n,e){return kn(e[n.index])}function yC(n,e){return n.data[e]}function wC(n,e){return n[e]}function Mi(n,e){let t=e[n];return ur(t)?t:t[ii]}function Fp(n){return(n[K]&128)===128}function XA(n){return ri(n[ft])}function xo(n,e){return e==null?null:n[e]}function CC(n){n[_o]=0}function eM(n){n[K]&1024||(n[K]|=1024,Fp(n)&&Gs(n))}function tM(n,e){for(;n>0;)e=e[Ro],n--;return e}function Vp(n){return!!(n[K]&9216||n[fr]?.dirty)}function Kf(n){n[Nn].changeDetectionScheduler?.notify(1),Vp(n)?Gs(n):n[K]&64&&(ZA()?(n[K]|=1024,Gs(n)):n[Nn].changeDetectionScheduler?.notify())}function Gs(n){n[Nn].changeDetectionScheduler?.notify();let e=zs(n);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Fp(e)));)e=zs(e)}function bC(n,e){if((n[K]&256)===256)throw new $(911,!1);n[Ii]===null&&(n[Ii]=[]),n[Ii].push(e)}function nM(n,e){if(n[Ii]===null)return;let t=n[Ii].indexOf(e);t!==-1&&n[Ii].splice(t,1)}function zs(n){let e=n[ft];return ri(e)?e[ft]:e}var re={lFrame:MC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function iM(){return re.lFrame.elementDepthCount}function rM(){re.lFrame.elementDepthCount++}function oM(){re.lFrame.elementDepthCount--}function EC(){return re.bindingsEnabled}function sM(){return re.skipHydrationRootTNode!==null}function aM(n){return re.skipHydrationRootTNode===n}function cM(){re.skipHydrationRootTNode=null}function fe(){return re.lFrame.lView}function pt(){return re.lFrame.tView}function w(n){return re.lFrame.contextLView=n,n[_n]}function C(n){return re.lFrame.contextLView=null,n}function Ot(){let n=IC();for(;n!==null&&n.type===64;)n=n.parent;return n}function IC(){return re.lFrame.currentTNode}function lM(){let n=re.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function yr(n,e){let t=re.lFrame;t.currentTNode=n,t.isParent=e}function Lp(){return re.lFrame.isParent}function TC(){re.lFrame.isParent=!1}function Js(){let n=re.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function DC(){return re.lFrame.bindingIndex}function uM(n){return re.lFrame.bindingIndex=n}function Wl(){return re.lFrame.bindingIndex++}function jp(n){let e=re.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function dM(){return re.lFrame.inI18n}function hM(n,e){let t=re.lFrame;t.bindingIndex=t.bindingRootIndex=n,Qf(e)}function fM(){return re.lFrame.currentDirectiveIndex}function Qf(n){re.lFrame.currentDirectiveIndex=n}function pM(n){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function xC(n){re.lFrame.currentQueryIndex=n}function mM(n){let e=n[ae];return e.type===2?e.declTNode:e.type===1?n[yn]:null}function SC(n,e,t){if(t&ie.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&ie.Host);)if(r=mM(o),r===null||(o=o[Ro],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=re.lFrame=AC();return i.currentTNode=e,i.lView=n,!0}function Up(n){let e=AC(),t=n[ae];re.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function AC(){let n=re.lFrame,e=n===null?null:n.child;return e===null?MC(n):e}function MC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function PC(){let n=re.lFrame;return re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var RC=PC;function Bp(){let n=PC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gM(n){return(re.lFrame.contextLView=tM(n,re.lFrame.contextLView))[_n]}function Pi(){return re.lFrame.selectedIndex}function mr(n){re.lFrame.selectedIndex=n}function $p(){let n=re.lFrame;return yC(n.tView,n.selectedIndex)}function _M(){return re.lFrame.currentNamespace}var NC=!0;function Kl(){return NC}function Ql(n){NC=n}function vM(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=mC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Yl(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function fl(n,e,t){OC(n,e,3,t)}function pl(n,e,t,i){(n[K]&3)===t&&OC(n,e,t,i)}function xf(n,e){let t=n[K];(t&3)===e&&(t&=16383,t+=1,n[K]=t)}function OC(n,e,t,i){let r=i!==void 0?n[_o]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[_o]+=65536),(a<o||o==-1)&&(yM(n,t,e,c),n[_o]=(n[_o]&4294901760)+c+2),c++}function gw(n,e){Mn(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),Mn(5,n,e)}}function yM(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[K]>>14<n[_o]>>16&&(n[K]&3)===e&&(n[K]+=16384,gw(a,o)):gw(a,o)}var Co=-1,gr=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function wM(n){return n instanceof gr}function CM(n){return(n.flags&8)!==0}function bM(n){return(n.flags&16)!==0}function kC(n){return n!==Co}function Il(n){return n&32767}function EM(n){return n>>16}function Tl(n,e){let t=EM(n),i=e;for(;t>0;)i=i[Ro],t--;return i}var Yf=!0;function Dl(n){let e=Yf;return Yf=n,e}var IM=256,FC=IM-1,VC=5,TM=0,Pn={};function DM(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ls)&&(i=t[Ls]),i==null&&(i=t[Ls]=TM++);let r=i&FC,o=1<<r;e.data[n+(r>>VC)]|=o}function xl(n,e){let t=LC(n,e);if(t!==-1)return t;let i=e[ae];i.firstCreatePass&&(n.injectorIndex=e.length,Sf(i.data,n),Sf(e,null),Sf(i.blueprint,null));let r=qp(n,e),o=n.injectorIndex;if(kC(r)){let s=Il(r),a=Tl(r,e),c=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Sf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function LC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function qp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=qC(r),i===null)return Co;if(t++,r=r[Ro],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Co}function Jf(n,e,t){DM(n,e,t)}function jC(n,e,t){if(t&ie.Optional||n!==void 0)return n;xp(e,"NodeInjector")}function UC(n,e,t,i){if(t&ie.Optional&&i===void 0&&(i=null),!(t&(ie.Self|ie.Host))){let r=n[To],o=Pt(void 0);try{return r?r.get(e,i,t&ie.Optional):Kw(e,i,t&ie.Optional)}finally{Pt(o)}}return jC(i,e,t)}function BC(n,e,t,i=ie.Default,r){if(n!==null){if(e[K]&2048&&!(i&ie.Self)){let s=PM(n,e,t,i,Pn);if(s!==Pn)return s}let o=$C(n,e,t,i,Pn);if(o!==Pn)return o}return UC(e,t,i,r)}function $C(n,e,t,i,r){let o=AM(t);if(typeof o=="function"){if(!SC(e,n,i))return i&ie.Host?jC(r,t,i):UC(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&ie.Optional))xp(t);else return s}finally{RC()}}else if(typeof o=="number"){let s=null,a=LC(n,e),c=Co,l=i&ie.Host?e[On][yn]:null;for((a===-1||i&ie.SkipSelf)&&(c=a===-1?qp(n,e):e[a+8],c===Co||!vw(i,!1)?a=-1:(s=e[ae],a=Il(c),e=Tl(c,e)));a!==-1;){let u=e[ae];if(_w(o,a,u.data)){let p=xM(a,e,t,s,i,l);if(p!==Pn)return p}c=e[a+8],c!==Co&&vw(i,e[ae].data[a+8]===l)&&_w(o,a,e)?(s=u,a=Il(c),e=Tl(c,e)):a=-1}}return r}function xM(n,e,t,i,r,o){let s=e[ae],a=s.data[n+8],c=i==null?zl(a)&&Yf:i!=s&&(a.type&3)!==0,l=r&ie.Host&&o===a,u=SM(a,s,t,c,l);return u!==null?So(e,s,u,a):Pn}function SM(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,p=i?a:a+u,v=r?a+u:l;for(let y=p;y<v;y++){let D=s[y];if(y<c&&t===D||y>=c&&D.type===t)return y}if(r){let y=s[c];if(y&&Di(y)&&y.type===t)return c}return null}function So(n,e,t,i){let r=n[t],o=e.data;if(wM(r)){let s=r;s.resolving&&rA(iA(o[t]));let a=Dl(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Pt(s.injectImpl):null,u=SC(n,i,ie.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&vM(t,o[t],e)}finally{l!==null&&Pt(l),Dl(a),s.resolving=!1,RC()}}return r}function AM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ls)?n[Ls]:void 0;return typeof e=="number"?e>=0?e&FC:MM:e}function _w(n,e,t){let i=1<<n;return!!(t[e+(n>>VC)]&i)}function vw(n,e){return!(n&ie.Self)&&!(n&ie.Host&&e)}var dr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return BC(this._tNode,this._lView,e,Ul(i),t)}};function MM(){return new dr(Ot(),fe())}function tn(n){return Qs(()=>{let e=n.prototype.constructor,t=e[_l]||Zf(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[_l]||Zf(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Zf(n){return $w(n)?()=>{let e=Zf(Ct(n));return e&&e()}:hr(n)}function PM(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let a=$C(o,s,t,i|ie.Self,Pn);if(a!==Pn)return a;let c=o.parent;if(!c){let l=s[hC];if(l){let u=l.get(t,Pn,i);if(u!==Pn)return u}c=qC(s),s=s[Ro]}o=c}return r}function qC(n){let e=n[ae],t=e.type;return t===2?e.declTNode:t===1?n[yn]:null}function yw(n,e=null,t=null,i){let r=GC(n,e,t,i);return r.resolveInjectorInitializers(),r}function GC(n,e=null,t=null,i,r=new Set){let o=[t||Yt,Pp(n)];return i=i||(typeof n=="object"?void 0:bt(n)),new Bs(o,e||Np(),i||null,r)}var kt=(()=>{class n{static{this.THROW_IF_NOT_FOUND=js}static{this.NULL=new wl}static create(t,i){if(Array.isArray(t))return yw({name:""},i,t,"");{let r=t.name??"";return yw({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=j({token:n,providedIn:"any",factory:()=>B(Jw)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var RM="ngOriginalError";function Af(n){return n[RM]}var Fn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Af(e);for(;t&&Af(t);)t=Af(t);return t||null}},zC=new U("",{providedIn:"root",factory:()=>N(Fn).handleError.bind(void 0)}),Gp=(()=>{class n{static{this.__NG_ELEMENT_ID__=NM}static{this.__NG_ENV_ID__=t=>t}}return n})(),Xf=class extends Gp{constructor(e){super(),this._lView=e}onDestroy(e){return bC(this._lView,e),()=>nM(this._lView,e)}};function NM(){return new Xf(fe())}function OM(){return Jl(Ot(),fe())}function Jl(n,e){return new wn(en(n,e))}var wn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=OM}}return n})();var ep=class extends wt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,dC()&&(this.destroyRef=N(Gp,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Mf(o),r&&(r=Mf(r)),s&&(s=Mf(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof $e&&e.add(a),a}};function Mf(n){return e=>{setTimeout(n,void 0,e)}}var Fe=ep;function HC(n){return(n.flags&128)===128}var WC=new Map,kM=0;function FM(){return kM++}function VM(n){WC.set(n[Gl],n)}function LM(n){WC.delete(n[Gl])}var ww="__ngContext__";function xi(n,e){ur(e)?(n[ww]=e[Gl],VM(e)):n[ww]=e}function KC(n){return YC(n[qs])}function QC(n){return YC(n[gn])}function YC(n){for(;n!==null&&!ri(n);)n=n[gn];return n}var tp;function JC(n){tp=n}function jM(){if(tp!==void 0)return tp;if(typeof document<"u")return document;throw new $(210,!1)}var zp=new U("",{providedIn:"root",factory:()=>UM}),UM="ng",Hp=new U(""),nn=new U("",{providedIn:"platform",factory:()=>"unknown"});var Wp=new U("",{providedIn:"root",factory:()=>jM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BM="h",$M="b";var qM=()=>null;function Kp(n,e,t=!1){return qM(n,e,t)}var ZC=!1,GM=new U("",{providedIn:"root",factory:()=>ZC});var np=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${WS})`}};function Qp(n){return n instanceof np?n.changingThisBreaksApplicationSecurity:n}var zM=/^>|^->|<!--|-->|--!>|<!-$/g,HM=/(<|>)/g,WM="\u200B$1\u200B";function KM(n){return n.replace(zM,e=>e.replace(HM,WM))}function XC(n){return n instanceof Function?n():n}function QM(n){return(n??N(kt)).get(nn)==="browser"}var ei=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ei||{}),YM;function Yp(n,e){return YM(n,e)}function vo(n,e,t,i,r){if(i!=null){let o,s=!1;ri(i)?o=i:ur(i)&&(s=!0,i=i[ii]);let a=kn(i);n===0&&t!==null?r==null?rb(e,t,a):Sl(e,t,a,r||null,!0):n===1&&t!==null?Sl(e,t,a,r||null,!0):n===2?pP(e,a,s):n===3&&e.destroyNode(a),o!=null&&gP(e,n,o,t,r)}}function JM(n,e){return n.createText(e)}function ZM(n,e,t){n.setValue(e,t)}function XM(n,e){return n.createComment(KM(e))}function eb(n,e,t){return n.createElement(e,t)}function eP(n,e){tb(n,e),e[ii]=null,e[yn]=null}function tP(n,e,t,i,r,o){i[ii]=r,i[yn]=e,Xl(n,i,t,1,r,o)}function tb(n,e){e[Nn].changeDetectionScheduler?.notify(1),Xl(n,e,e[We],2,null,null)}function nP(n){let e=n[qs];if(!e)return Pf(n[ae],n);for(;e;){let t=null;if(ur(e))t=e[qs];else{let i=e[Jt];i&&(t=i)}if(!t){for(;e&&!e[gn]&&e!==n;)ur(e)&&Pf(e[ae],e),e=e[ft];e===null&&(e=n),ur(e)&&Pf(e[ae],e),t=e&&e[gn]}e=t}}function iP(n,e,t,i){let r=Jt+i,o=t.length;i>0&&(t[r-1][gn]=e),i<o-Jt?(e[gn]=t[r],Yw(t,Jt+i,e)):(t.push(e),e[gn]=null),e[ft]=t;let s=e[ql];s!==null&&t!==s&&rP(s,e);let a=e[Do];a!==null&&a.insertView(n),Kf(e),e[K]|=128}function rP(n,e){let t=n[El],r=e[ft][ft][On];e[On]!==r&&(n[K]|=Op.HasTransplantedViews),t===null?n[El]=[e]:t.push(e)}function nb(n,e){let t=n[El],i=t.indexOf(e);t.splice(i,1)}function ip(n,e){if(n.length<=Jt)return;let t=Jt+e,i=n[t];if(i){let r=i[ql];r!==null&&r!==n&&nb(r,i),e>0&&(n[t-1][gn]=i[gn]);let o=yl(n,Jt+e);eP(i[ae],i);let s=o[Do];s!==null&&s.detachView(o[ae]),i[ft]=null,i[gn]=null,i[K]&=-129}return i}function ib(n,e){if(!(e[K]&256)){let t=e[We];t.destroyNode&&Xl(n,e,t,3,null,null),nP(e)}}function Pf(n,e){if(e[K]&256)return;let t=ve(null);try{e[K]&=-129,e[K]|=256,e[fr]&&Ry(e[fr]),sP(n,e),oP(n,e),e[ae].type===1&&e[We].destroy();let i=e[ql];if(i!==null&&ri(e[ft])){i!==e[ft]&&nb(i,e);let r=e[Do];r!==null&&r.detachView(n)}LM(e)}finally{ve(t)}}function oP(n,e){let t=n.cleanup,i=e[$s];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[$s]=null);let r=e[Ii];if(r!==null){e[Ii]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function sP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof gr)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Mn(4,a,c);try{c.call(a)}finally{Mn(5,a,c)}}else{Mn(4,r,o);try{o.call(r)}finally{Mn(5,r,o)}}}}}function aP(n,e,t){return cP(n,e.parent,t)}function cP(n,e,t){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return t[ii];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Rn.None||o===Rn.Emulated)return null}return en(i,t)}}function Sl(n,e,t,i,r){n.insertBefore(e,t,i,r)}function rb(n,e,t){n.appendChild(e,t)}function Cw(n,e,t,i,r){i!==null?Sl(n,e,t,i,r):rb(n,e,t)}function lP(n,e,t,i){n.removeChild(e,t,i)}function Jp(n,e){return n.parentNode(e)}function uP(n,e){return n.nextSibling(e)}function dP(n,e,t){return fP(n,e,t)}function hP(n,e,t){return n.type&40?en(n,t):null}var fP=hP,bw;function Zl(n,e,t,i){let r=aP(n,i,e),o=e[We],s=i.parent||e[yn],a=dP(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Cw(o,r,t[c],a,!1);else Cw(o,r,t,a,!1);bw!==void 0&&bw(o,i,e,t,r)}function ml(n,e){if(e!==null){let t=e.type;if(t&3)return en(e,n);if(t&4)return rp(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return ml(n,i);{let r=n[e.index];return ri(r)?rp(-1,r):kn(r)}}else{if(t&32)return Yp(e,n)()||kn(n[e.index]);{let i=ob(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=zs(n[On]);return ml(r,i)}else return ml(n,e.next)}}}return null}function ob(n,e){if(e!==null){let i=n[On][yn],r=e.projection;return i.projection[r]}return null}function rp(n,e){let t=Jt+n+1;if(t<e.length){let i=e[t],r=i[ae].firstChild;if(r!==null)return ml(i,r)}return e[pr]}function pP(n,e,t){let i=Jp(n,e);i&&lP(n,i,e,t)}function Zp(n,e,t,i,r,o,s){for(;t!=null;){let a=i[t.index],c=t.type;if(s&&e===0&&(a&&xi(kn(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)Zp(n,e,t.child,i,r,o,!1),vo(e,n,r,a,o);else if(c&32){let l=Yp(t,i),u;for(;u=l();)vo(e,n,r,u,o);vo(e,n,r,a,o)}else c&16?mP(n,e,i,t,r,o):vo(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Xl(n,e,t,i,r,o){Zp(t,i,n.firstChild,e,r,o,!1)}function mP(n,e,t,i,r,o){let s=t[On],c=s[yn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];vo(e,n,r,u,o)}else{let l=c,u=s[ft];HC(i)&&(l.flags|=128),Zp(n,e,l,u,r,o,!0)}}function gP(n,e,t,i,r){let o=t[pr],s=kn(t);o!==s&&vo(e,n,i,o,r);for(let a=Jt;a<t.length;a++){let c=t[a];Xl(c[ae],c,n,e,i,o)}}function _P(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:ei.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ei.Important),n.setStyle(t,i,r,o))}}function vP(n,e,t){n.setAttribute(e,"style",t)}function sb(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ab(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&qf(n,e,i),r!==null&&sb(n,e,r),o!==null&&vP(n,e,o)}var rn={};function d(n=1){cb(pt(),fe(),Pi()+n,!1)}function cb(n,e,t,i){if(!i)if((e[K]&3)===3){let o=n.preOrderCheckHooks;o!==null&&fl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&pl(e,o,0,t)}mr(t)}function q(n,e=ie.Default){let t=fe();if(t===null)return B(n,e);let i=Ot();return BC(i,t,Ct(n),e)}function lb(){let n="invalid";throw new Error(n)}function ub(n,e,t,i,r,o){let s=ve(null);try{let a=null;r&st.SignalBased&&(a=e[i][Xh]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&st.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):pC(e,a,i,o)}finally{ve(s)}}function yP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)mr(~r);else{let o=r,s=t[++i],a=t[++i];hM(s,o);let c=e[o];a(2,c)}}}finally{mr(-1)}}function eu(n,e,t,i,r,o,s,a,c,l,u){let p=e.blueprint.slice();return p[ii]=r,p[K]=i|4|128|8|64,(l!==null||n&&n[K]&2048)&&(p[K]|=2048),CC(p),p[ft]=p[Ro]=n,p[_n]=t,p[Nn]=s||n&&n[Nn],p[We]=a||n&&n[We],p[To]=c||n&&n[To]||null,p[yn]=o,p[Gl]=FM(),p[Cl]=u,p[hC]=l,p[On]=e.type==2?n[On]:p,p}function Zs(n,e,t,i,r){let o=n.data[e];if(o===null)o=wP(n,e,t,i,r),dM()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=lM();o.injectorIndex=s===null?-1:s.injectorIndex}return yr(o,!0),o}function wP(n,e,t,i,r){let o=IC(),s=Lp(),a=s?o:o&&o.parent,c=n.data[e]=TP(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function db(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function hb(n,e,t,i,r){let o=Pi(),s=i&2;try{mr(-1),s&&e.length>Zt&&cb(n,e,Zt,!1),Mn(s?2:0,r),t(i,r)}finally{mr(o),Mn(s?3:1,r)}}function Xp(n,e,t){if(kp(e)){let i=ve(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ve(i)}}}function em(n,e,t){EC()&&(PP(n,e,t,en(t,e)),(t.flags&64)===64&&gb(n,e,t))}function tm(n,e,t=en){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function fb(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=nm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function nm(n,e,t,i,r,o,s,a,c,l,u){let p=Zt+i,v=p+r,y=CP(p,v),D=typeof l=="function"?l():l;return y[ae]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:u}}function CP(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:rn);return t}function bP(n,e,t,i){let o=i.get(GM,ZC)||t===Rn.ShadowDom,s=n.selectRootElement(e,o);return EP(s),s}function EP(n){IP(n)}var IP=()=>null;function TP(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return sM()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ew(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=st.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}n===0?Iw(i,t,l,a,c):Iw(i,t,l,a)}return i}function Iw(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function DP(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let p=o[u],v=t?t.get(p):null,y=v?v.inputs:null,D=v?v.outputs:null;c=Ew(0,p.inputs,u,c,y),l=Ew(1,p.outputs,u,l,D);let x=c!==null&&s!==null&&!Mp(e)?$P(c,u,s):null;a.push(x)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function xP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function pb(n,e,t,i,r,o,s,a){let c=en(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(rm(n,t,u,i,r),zl(e)&&SP(t,e.index)):e.type&3?(i=xP(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function SP(n,e){let t=Mi(e,n);t[K]&16||(t[K]|=64)}function im(n,e,t,i){if(EC()){let r=i===null?null:{"":-1},o=NP(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&mb(n,e,t,s,r,a),r&&OP(t,i,r)}t.mergedAttrs=Us(t.mergedAttrs,t.attrs)}function mb(n,e,t,i,r,o){for(let l=0;l<i.length;l++)Jf(xl(t,e),n,i[l].type);FP(t,n.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=db(n,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];t.mergedAttrs=Us(t.mergedAttrs,u.hostAttrs),VP(n,t,e,c,u),kP(c,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let p=u.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}DP(n,t,o)}function AP(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;MP(s)!=a&&s.push(a),s.push(t,i,o)}}function MP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function PP(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;zl(t)&&LP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||xl(t,e),xi(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let c=n.data[a],l=So(e,n,a,t);if(xi(l,e),s!==null&&BP(e,a-r,l,c,t,s),Di(c)){let u=Mi(t.index,e);u[_n]=So(e,n,a,t)}}}function gb(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=fM();try{mr(o);for(let a=i;a<r;a++){let c=n.data[a],l=e[a];Qf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&RP(c,l)}}finally{mr(-1),Qf(s)}}function RP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function NP(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(IA(e,s.selectors,!1))if(i||(i=[]),Di(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;op(n,e,c)}else i.unshift(s),op(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function op(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function OP(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new $(-301,!1);i.push(e[r],o)}}}function kP(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Di(e)&&(t[""]=n)}}function FP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function VP(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=hr(r.type,!0)),s=new gr(o,Di(r),q);n.blueprint[i]=s,t[i]=s,AP(n,e,i,db(n,t,r.hostVars,rn),r)}function LP(n,e,t){let i=en(e,n),r=fb(t),o=n[Nn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=tu(n,eu(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function jP(n,e,t,i,r,o){let s=en(n,e);UP(e[We],s,o,n.value,t,i,r)}function UP(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Ei(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function BP(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],p=s[a++];ub(i,t,c,l,u,p)}}function $P(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function _b(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function vb(n,e){let t=n.contentQueries;if(t!==null){let i=ve(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];xC(o),a.contentQueries(2,e[s],s)}}}finally{ve(i)}}}function tu(n,e){return n[qs]?n[pw][gn]=e:n[qs]=e,n[pw]=e,e}function sp(n,e,t){xC(0);let i=ve(null);try{e(n,t)}finally{ve(i)}}function qP(n){return n[$s]||(n[$s]=[])}function GP(n){return n.cleanup||(n.cleanup=[])}function yb(n,e){let t=n[To],i=t?t.get(Fn,null):null;i&&i.handleError(e)}function rm(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];ub(u,l,i,a,c,r)}}function om(n,e,t){let i=vC(e,n);ZM(n[We],i,t)}function zP(n,e){let t=Mi(e,n),i=t[ae];HP(i,t);let r=t[ii];r!==null&&t[Cl]===null&&(t[Cl]=Kp(r,t[To])),sm(i,t,t[_n])}function HP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function sm(n,e,t){Up(e);try{let i=n.viewQuery;i!==null&&sp(1,i,t);let r=n.template;r!==null&&hb(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Do]?.finishViewCreation(n),n.staticContentQueries&&vb(n,e),n.staticViewQueries&&sp(2,n.viewQuery,t);let o=n.components;o!==null&&WP(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[K]&=-5,Bp()}}function WP(n,e){for(let t=0;t<e.length;t++)zP(n,e[t])}function KP(n,e,t,i){let r=ve(null);try{let o=e.tView,a=n[K]&4096?4096:16,c=eu(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];c[ql]=l;let u=n[Do];return u!==null&&(c[Do]=u.createEmbeddedView(o)),sm(o,c,t),c}finally{ve(r)}}function Tw(n,e){return!e||e.firstChild===null||HC(n)}function QP(n,e,t,i=!0){let r=e[ae];if(iP(r,e,n,t),i){let s=rp(t,n),a=e[We],c=Jp(a,n[pr]);c!==null&&tP(r,n[yn],a,e,c,s)}let o=e[Cl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Al(n,e,t,i,r=!1){for(;t!==null;){let o=e[t.index];o!==null&&i.push(kn(o)),ri(o)&&YP(o,i);let s=t.type;if(s&8)Al(n,e,t.child,i);else if(s&32){let a=Yp(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=ob(e,t);if(Array.isArray(a))i.push(...a);else{let c=zs(e[On]);Al(c[ae],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function YP(n,e){for(let t=Jt;t<n.length;t++){let i=n[t],r=i[ae].firstChild;r!==null&&Al(i[ae],i,r,e)}n[pr]!==n[ii]&&e.push(n[pr])}var wb=[];function JP(n){return n[fr]??ZP(n)}function ZP(n){let e=wb.pop()??Object.create(eR);return e.lView=n,e}function XP(n){n.lView[fr]!==n&&(n.lView=null,wb.push(n))}var eR=Y(M({},Ay),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Gs(n.lView)},consumerOnSignalRead(){this.lView[fr]=this}}),Cb=100;function bb(n,e=!0,t=0){let i=n[Nn],r=i.rendererFactory,o=!1;o||r.begin?.();try{tR(n,t)}catch(s){throw e&&yb(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function tR(n,e){ap(n,e);let t=0;for(;Vp(n);){if(t===Cb)throw new $(103,!1);t++,ap(n,1)}}function nR(n,e,t,i){let r=e[K];if((r&256)===256)return;let o=!1;!o&&e[Nn].inlineEffectRunner?.flush(),Up(e);let s=null,a=null;!o&&iR(n)&&(a=JP(e),s=My(a));try{CC(e),uM(n.bindingStartIndex),t!==null&&hb(n,e,t,2,i);let c=(r&3)===3;if(!o)if(c){let p=n.preOrderCheckHooks;p!==null&&fl(e,p,null)}else{let p=n.preOrderHooks;p!==null&&pl(e,p,0,null),xf(e,0)}if(rR(e),Eb(e,0),n.contentQueries!==null&&vb(n,e),!o)if(c){let p=n.contentCheckHooks;p!==null&&fl(e,p)}else{let p=n.contentHooks;p!==null&&pl(e,p,1),xf(e,1)}yP(n,e);let l=n.components;l!==null&&Tb(e,l,0);let u=n.viewQuery;if(u!==null&&sp(2,u,i),!o)if(c){let p=n.viewCheckHooks;p!==null&&fl(e,p)}else{let p=n.viewHooks;p!==null&&pl(e,p,2),xf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Df]){for(let p of e[Df])p();e[Df]=null}o||(e[K]&=-73)}catch(c){throw Gs(e),c}finally{a!==null&&(Py(a,s),XP(a)),Bp()}}function iR(n){return n.type!==2}function Eb(n,e){for(let t=KC(n);t!==null;t=QC(t))for(let i=Jt;i<t.length;i++){let r=t[i];Ib(r,e)}}function rR(n){for(let e=KC(n);e!==null;e=QC(e)){if(!(e[K]&Op.HasTransplantedViews))continue;let t=e[El];for(let i=0;i<t.length;i++){let r=t[i],o=r[ft];eM(r)}}}function oR(n,e,t){let i=Mi(e,n);Ib(i,t)}function Ib(n,e){Fp(n)&&ap(n,e)}function ap(n,e){let i=n[ae],r=n[K],o=n[fr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&ef(o)),o&&(o.dirty=!1),n[K]&=-9217,s)nR(i,n,i.template,n[_n]);else if(r&8192){Eb(n,1);let a=i.components;a!==null&&Tb(n,a,1)}}function Tb(n,e,t){for(let i=0;i<e.length;i++)oR(n,e[i],t)}function am(n){for(n[Nn].changeDetectionScheduler?.notify();n;){n[K]|=64;let e=zs(n);if(zA(n)&&!e)return n;n=e}return null}var _r=class{get rootNodes(){let e=this._lView,t=e[ae];return Al(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(e){this._lView[_n]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ft];if(ri(e)){let t=e[bl],i=t?t.indexOf(this):-1;i>-1&&(ip(e,i),yl(t,i))}this._attachedToViewContainer=!1}ib(this._lView[ae],this._lView)}onDestroy(e){bC(this._lView,e)}markForCheck(){am(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){Kf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,bb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,tb(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e,Kf(this._lView)}},nu=(()=>{class n{static{this.__NG_ELEMENT_ID__=cR}}return n})(),sR=nu,aR=class extends sR{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=KP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new _r(r)}};function cR(){return lR(Ot(),fe())}function lR(n,e){return n.type&4?new aR(e,n,Jl(n,e)):null}var P7=new RegExp(`^(\\d+)*(${$M}|${BM})*(.*)`);var uR=()=>null;function Dw(n,e){return uR(n,e)}var Ml=class{},cp=class{},Pl=class{};function dR(n){let e=Error(`No component factory found for ${bt(n)}.`);return e[hR]=n,e}var hR="ngComponent";var lp=class{resolveComponentFactory(e){throw dR(e)}},iu=(()=>{class n{static{this.NULL=new lp}}return n})(),Hs=class{},Vn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>fR()}}return n})();function fR(){let n=fe(),e=Ot(),t=Mi(e.index,n);return(ur(t)?t:n)[We]}var pR=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>null})}}return n})(),Rf={};var xw=new Set;function ru(n){xw.has(n)||(xw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Sw(...n){}function mR(){let n=typeof Xn.requestAnimationFrame=="function",e=Xn[n?"requestAnimationFrame":"setTimeout"],t=Xn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Ee=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=mR().nativeRequestAnimationFrame,vR(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,gR,Sw,Sw);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},gR={};function cm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _R(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Xn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,up(n),n.isCheckStableRunning=!0,cm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),up(n))}function vR(n){let e=()=>{_R(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(yR(a))return t.invokeTask(r,o,s,a);try{return Aw(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Mw(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return Aw(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),Mw(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,up(n),cm(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function up(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Aw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Mw(n){n._nesting--,cm(n)}function yR(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var yo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(yo||{}),wR={destroy(){}};function ou(n,e){!e&&qA(ou);let t=e?.injector??N(kt);if(!QM(t))return wR;ru("NgAfterNextRender");let i=t.get(lm),r=i.handler??=new hp,o=e?.phase??yo.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Gp).onDestroy(s),c=vn(t,()=>new dp(o,()=>{s(),n()}));return r.register(c),{destroy:s}}var dp=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=N(Ee),this.errorHandler=N(Fn,{optional:!0}),N(Ml,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},hp=class{constructor(){this.executingCallbacks=!1,this.buckets={[yo.EarlyRead]:new Set,[yo.Write]:new Set,[yo.MixedReadWrite]:new Set,[yo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},lm=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Rl(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=rw(r,a);else if(o==2){let c=a,l=e[++s];i=rw(i,c+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Nl=class extends iu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ti(e);return new Ao(t,this.ngModule)}};function Pw(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}function CR(n){let e=n.toLowerCase();return e==="svg"?QA:e==="math"?YA:null}var fp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Ul(i);let r=this.injector.get(e,Rf,i);return r!==Rf||t===Rf?r:this.parentInjector.get(e,t,i)}},Ao=class extends Pl{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=Pw(e.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Pw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=SA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=ve(null);try{r=r||this.ngModule;let s=r instanceof ht?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new fp(e,s):e,c=a.get(Hs,null);if(c===null)throw new $(407,!1);let l=a.get(pR,null),u=a.get(lm,null),p=a.get(Ml,null),v={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:p},y=c.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",x=i?bP(y,i,this.componentDef.encapsulation,a):eb(y,D,CR(D)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let F=null;x!==null&&(F=Kp(x,a,!0));let ue=nm(0,null,null,1,0,null,null,null,null,null,null),z=eu(null,ue,null,A,null,null,v,y,a,null,F);Up(z);let be,Ze;try{let ge=this.componentDef,dt,Sn=null;ge.findHostDirectiveDefs?(dt=[],Sn=new Map,ge.findHostDirectiveDefs(ge,dt,Sn),dt.push(ge)):dt=[ge];let ir=bR(z,x),eo=ER(ir,x,ge,dt,z,v,y);Ze=yC(ue,Zt),x&&DR(y,ge,x,i),t!==void 0&&xR(Ze,this.ngContentSelectors,t),be=TR(eo,ge,dt,Sn,z,[SR]),sm(ue,z,null)}finally{Bp()}return new pp(this.componentType,be,Jl(Ze,z),z,Ze)}finally{ve(o)}}},pp=class extends cp{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new _r(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;rm(o[ae],o,r,e,t),this.previousInputValues.set(e,t);let s=Mi(this._tNode.index,o);am(s)}}get injector(){return new dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function bR(n,e){let t=n[ae],i=Zt;return n[i]=e,Zs(t,i,2,"#host",null)}function ER(n,e,t,i,r,o,s){let a=r[ae];IR(i,n,e,s);let c=null;e!==null&&(c=Kp(e,r[To]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let p=eu(r,fb(t),null,u,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&op(a,n,i.length-1),tu(r,p),r[n.index]=p}function IR(n,e,t,i){for(let r of n)e.mergedAttrs=Us(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Rl(e,e.mergedAttrs,!0),t!==null&&ab(i,t,e))}function TR(n,e,t,i,r,o){let s=Ot(),a=r[ae],c=en(s,r);mb(a,r,s,t,null,i);for(let u=0;u<t.length;u++){let p=s.directiveStart+u,v=So(r,a,p,s);xi(v,r)}gb(a,r,s),c&&xi(c,r);let l=So(r,a,s.directiveStart+s.componentOffset,s);if(n[_n]=r[_n]=l,o!==null)for(let u of o)u(l,e);return Xp(a,s,r),l}function DR(n,e,t,i){if(i)qf(n,t,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=AA(e.selectors[0]);r&&qf(n,t,r),o&&o.length>0&&sb(n,t,o.join(" "))}}function xR(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function SR(){let n=Ot();Yl(fe()[ae],n)}var No=(()=>{class n{static{this.__NG_ELEMENT_ID__=AR}}return n})();function AR(){let n=Ot();return PR(n,fe())}var MR=No,Db=class extends MR{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Jl(this._hostTNode,this._hostLView)}get injector(){return new dr(this._hostTNode,this._hostLView)}get parentInjector(){let e=qp(this._hostTNode,this._hostLView);if(kC(e)){let t=Tl(e,this._hostLView),i=Il(e),r=t[ae].data[i+8];return new dr(r,t)}else return new dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Rw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Dw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Tw(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!GA(e),a;if(s)a=t;else{let D=t||{};a=D.index,i=D.injector,r=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let c=s?e:new Ao(Ti(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let x=(s?l:this.parentInjector).get(ht,null);x&&(o=x)}let u=Ti(c.componentType??{}),p=Dw(this._lContainer,u?.id??null),v=p?.firstChild??null,y=c.create(l,r,v,o);return this.insertImpl(y.hostView,a,Tw(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(XA(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[ft],l=new Db(c,c[yn],c[ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return QP(s,r,o,i),e.attachToViewContainerRef(),Yw(Nf(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Rw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=ip(this._lContainer,t);i&&(yl(Nf(this._lContainer),t),ib(i[ae],i))}detach(e){let t=this._adjustIndex(e,-1),i=ip(this._lContainer,t);return i&&yl(Nf(this._lContainer),t)!=null?new _r(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Rw(n){return n[bl]}function Nf(n){return n[bl]||(n[bl]=[])}function PR(n,e){let t,i=e[n.index];return ri(i)?t=i:(t=_b(i,e,null,n),e[n.index]=t,tu(e,t)),NR(t,e,n,i),new Db(t,n,e)}function RR(n,e){let t=n[We],i=t.createComment(""),r=en(e,n),o=Jp(t,r);return Sl(t,o,i,uP(t,r),!1),i}var NR=FR,OR=()=>!1;function kR(n,e,t){return OR(n,e,t)}function FR(n,e,t,i){if(n[pr])return;let r;t.type&8?r=kn(i):r=RR(e,t),n[pr]=r}function VR(n){return typeof n=="function"&&n[Xh]!==void 0}function xb(n){return VR(n)&&typeof n.set=="function"}function LR(n){return Object.getPrototypeOf(n.prototype).constructor}function at(n){let e=LR(n.type),t=!0,i=[n];for(;e;){let r;if(Di(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=ul(n.inputs),s.inputTransforms=ul(n.inputTransforms),s.declaredInputs=ul(n.declaredInputs),s.outputs=ul(n.outputs);let a=r.hostBindings;a&&qR(n,a);let c=r.viewQuery,l=r.contentQueries;if(c&&BR(n,c),l&&$R(n,l),jR(n,r),QS(n.outputs,r.outputs),Di(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===at&&(t=!1)}}e=Object.getPrototypeOf(e)}UR(i)}function jR(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function UR(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Us(r.hostAttrs,t=Us(t,r.hostAttrs))}}function ul(n){return n===bo?{}:n===Yt?[]:n}function BR(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function $R(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function qR(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}var Si=class{},Ws=class{};var mp=class extends Si{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nl(this);let r=rC(e);this._bootstrapComponents=XC(r.bootstrap),this._r3Injector=GC(e,t,[{provide:Si,useValue:this},{provide:iu,useValue:this.componentFactoryResolver},...i],bt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gp=class extends Ws{constructor(e){super(),this.moduleType=e}create(e){return new mp(this.moduleType,e,[])}};var Ol=class extends Si{constructor(e){super(),this.componentFactoryResolver=new Nl(this),this.instance=null;let t=new Bs([...e.providers,{provide:Si,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],e.parent||Np(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function su(n,e,t=null){return new Ol({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Oo=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sb(n){return zR(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function GR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function zR(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function um(n,e,t){return n[e]=t}function HR(n,e){return n[e]}function ti(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function dm(n,e,t,i){let r=ti(n,e,t);return ti(n,e+1,i)||r}function WR(n,e,t,i,r){let o=dm(n,e,t,i);return ti(n,e+2,r)||o}function KR(n){return(n.flags&32)===32}function QR(n,e,t,i,r,o,s,a,c){let l=e.consts,u=Zs(e,n,4,s||null,xo(l,a));im(e,t,u,xo(l,c)),Yl(e,u);let p=u.tView=nm(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),p.queries=e.queries.embeddedTView(u)),u}function T(n,e,t,i,r,o,s,a){let c=fe(),l=pt(),u=n+Zt,p=l.firstCreatePass?QR(u,l,c,e,t,i,r,o,s):l.data[u];yr(p,!1);let v=YR(l,c,p,n);Kl()&&Zl(l,c,v,p),xi(v,c);let y=_b(v,c,v,p);return c[u]=y,tu(c,y),kR(y,p,c),Hl(p)&&em(l,c,p),s!=null&&tm(c,p,a),T}var YR=JR;function JR(n,e,t,i){return Ql(!0),e[We].createComment("")}function Ri(n,e,t,i){let r=fe(),o=Wl();if(ti(r,o,e)){let s=pt(),a=$p();jP(a,r,n,e,t,i)}return Ri}function ZR(n,e,t,i){return ti(n,Wl(),t)?e+Ei(t)+i:rn}function XR(n,e,t,i,r,o){let s=DC(),a=dm(n,s,t,r);return jp(2),a?e+Ei(t)+i+Ei(r)+o:rn}function eN(n,e,t,i,r,o,s,a){let c=DC(),l=WR(n,c,t,r,s);return jp(3),l?e+Ei(t)+i+Ei(r)+o+Ei(s)+a:rn}function dl(n,e){return n<<17|e<<2}function vr(n){return n>>17&32767}function tN(n){return(n&2)==2}function nN(n,e){return n&131071|e<<17}function _p(n){return n|2}function Mo(n){return(n&131068)>>2}function Of(n,e){return n&-131069|e<<2}function iN(n){return(n&1)===1}function vp(n){return n|1}function rN(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=vr(s),c=Mo(s);n[i]=t;let l=!1,u;if(Array.isArray(t)){let p=t;u=p[1],(u===null||Ys(p,u)>0)&&(l=!0)}else u=t;if(r)if(c!==0){let v=vr(n[a+1]);n[i+1]=dl(v,a),v!==0&&(n[v+1]=Of(n[v+1],i)),n[a+1]=nN(n[a+1],i)}else n[i+1]=dl(a,0),a!==0&&(n[a+1]=Of(n[a+1],i)),a=i;else n[i+1]=dl(c,0),a===0?a=i:n[c+1]=Of(n[c+1],i),c=i;l&&(n[i+1]=_p(n[i+1])),Nw(n,u,i,!0),Nw(n,u,i,!1),oN(e,u,n,i,o),s=dl(a,c),o?e.classBindings=s:e.styleBindings=s}function oN(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ys(o,e)>=0&&(t[i+1]=vp(t[i+1]))}function Nw(n,e,t,i){let r=n[t+1],o=e===null,s=i?vr(r):Mo(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];sN(c,e)&&(a=!0,n[s+1]=i?vp(l):_p(l)),s=i?vr(l):Mo(l)}a&&(n[t+1]=i?_p(r):vp(r))}function sN(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ys(n,e)>=0:!1}function g(n,e,t){let i=fe(),r=Wl();if(ti(i,r,e)){let o=pt(),s=$p();pb(o,s,i,n,e,i[We],t,!1)}return g}function Ow(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";rm(n,t,o[s],s,i)}function on(n,e,t){return Ab(n,e,t,!1),on}function Ie(n,e){return Ab(n,e,null,!0),Ie}function Ab(n,e,t,i){let r=fe(),o=pt(),s=jp(2);if(o.firstUpdatePass&&cN(o,n,s,i),e!==rn&&ti(r,s,e)){let a=o.data[Pi()];fN(o,a,r,r[We],n,r[s+1]=pN(e,t),i,s)}}function aN(n,e){return e>=n.expandoStartIndex}function cN(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[Pi()],s=aN(n,t);mN(o,i)&&e===null&&!s&&(e=!1),e=lN(r,o,e,i),rN(r,o,e,t,s,i)}}function lN(n,e,t,i){let r=pM(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=kf(null,n,e,t,i),t=Ks(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=kf(r,n,e,t,i),o===null){let c=uN(n,e,i);c!==void 0&&Array.isArray(c)&&(c=kf(null,n,e,c[1],i),c=Ks(c,e.attrs,i),dN(n,e,i,c))}else o=hN(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function uN(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Mo(i)!==0)return n[vr(i)]}function dN(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[vr(r)]=i}function hN(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Ks(i,s,t)}return Ks(i,e.attrs,t)}function kf(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Ks(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Ks(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),mA(n,s,t?!0:e[++o]))}return n===void 0?null:n}function fN(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=iN(l)?kw(c,e,t,r,Mo(l),s):void 0;if(!kl(u)){kl(o)||tN(l)&&(o=kw(c,null,t,r,a,s));let p=vC(Pi(),t);_P(i,s,p,r,o)}}function kw(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],l=Array.isArray(c),u=l?c[1]:c,p=u===null,v=t[r+1];v===rn&&(v=p?Yt:void 0);let y=p?If(v,i):u===i?v:void 0;if(l&&!kl(y)&&(y=If(c,i)),kl(y)&&(a=y,s))return a;let D=n[r+1];r=s?vr(D):Mo(D)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=If(c,i))}return a}function kl(n){return n!==void 0}function pN(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=bt(Qp(n)))),n}function mN(n,e){return(n.flags&(e?8:16))!==0}function gN(n,e,t,i,r,o){let s=e.consts,a=xo(s,r),c=Zs(e,n,2,i,a);return im(e,t,c,xo(s,o)),c.attrs!==null&&Rl(c,c.attrs,!1),c.mergedAttrs!==null&&Rl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(n,e,t,i){let r=fe(),o=pt(),s=Zt+n,a=r[We],c=o.firstCreatePass?gN(s,o,r,e,t,i):o.data[s],l=_N(o,r,c,a,e,n);r[s]=l;let u=Hl(c);return yr(c,!0),ab(a,l,c),!KR(c)&&Kl()&&Zl(o,r,l,c),iM()===0&&xi(l,r),rM(),u&&(em(o,r,c),Xp(o,c,r)),i!==null&&tm(r,c),f}function h(){let n=Ot();Lp()?TC():(n=n.parent,yr(n,!1));let e=n;aM(e)&&cM(),oM();let t=pt();return t.firstCreatePass&&(Yl(t,n),kp(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&CM(e)&&Ow(t,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&bM(e)&&Ow(t,e,fe(),e.stylesWithoutHost,!1),h}function b(n,e,t,i){return f(n,e,t,i),h(),b}var _N=(n,e,t,i,r,o)=>(Ql(!0),eb(i,r,_M()));function vN(n,e,t,i,r){let o=e.consts,s=xo(o,i),a=Zs(e,n,8,"ng-container",s);s!==null&&Rl(a,s,!0);let c=xo(o,r);return im(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Se(n,e,t){let i=fe(),r=pt(),o=n+Zt,s=r.firstCreatePass?vN(o,r,i,e,t):r.data[o];yr(s,!0);let a=yN(r,i,s,n);return i[o]=a,Kl()&&Zl(r,i,a,s),xi(a,i),Hl(s)&&(em(r,i,s),Xp(r,s,i)),t!=null&&tm(i,s),Se}function Ae(){let n=Ot(),e=pt();return Lp()?TC():(n=n.parent,yr(n,!1)),e.firstCreatePass&&(Yl(e,n),kp(n)&&e.queries.elementEnd(n)),Ae}var yN=(n,e,t,i)=>(Ql(!0),XM(e[We],""));function R(){return fe()}var lr=void 0;function wN(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var CN=["en",[["a","p"],["AM","PM"],lr],[["AM","PM"],lr,lr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lr,"{1} 'at' {0}",lr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",wN],Ff={};function sn(n){let e=bN(n),t=Fw(e);if(t)return t;let i=e.split("-")[0];if(t=Fw(i),t)return t;if(i==="en")return CN;throw new $(701,!1)}function Fw(n){return n in Ff||(Ff[n]=Xn.ng&&Xn.ng.common&&Xn.ng.common.locales&&Xn.ng.common.locales[n]),Ff[n]}var qe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(qe||{});function bN(n){return n.toLowerCase().replace(/_/g,"-")}var Fl="en-US";var EN=Fl;function IN(n){typeof n=="string"&&(EN=n.toLowerCase().replace(/_/g,"-"))}function I(n,e,t,i){let r=fe(),o=pt(),s=Ot();return Mb(o,r,r[We],s,n,e,i),I}function TN(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[$s],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Mb(n,e,t,i,r,o,s){let a=Hl(i),l=n.firstCreatePass&&GP(n),u=e[_n],p=qP(e),v=!0;if(i.type&3||s){let x=en(i,e),A=s?s(x):x,F=p.length,ue=s?be=>s(kn(be[i.index])):i.index,z=null;if(!s&&a&&(z=TN(n,e,r,i.index)),z!==null){let be=z.__ngLastListenerFn__||z;be.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,v=!1}else{o=Lw(i,e,u,o,!1);let be=t.listen(A,r,o);p.push(o,be),l&&l.push(r,ue,F,F+1)}}else o=Lw(i,e,u,o,!1);let y=i.outputs,D;if(v&&y!==null&&(D=y[r])){let x=D.length;if(x)for(let A=0;A<x;A+=2){let F=D[A],ue=D[A+1],Ze=e[F][ue].subscribe(o),ge=p.length;p.push(o,Ze),l&&l.push(r,i.index,ge,-(ge+1))}}}function Vw(n,e,t,i){let r=ve(null);try{return Mn(6,e,t),t(i)!==!1}catch(o){return yb(n,o),!1}finally{Mn(7,e,t),ve(r)}}function Lw(n,e,t,i,r){return function o(s){if(s===Function)return i;let a=n.componentOffset>-1?Mi(n.index,e):e;am(a);let c=Vw(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=Vw(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function _(n=1){return gM(n)}function DN(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function m(n,e=""){let t=fe(),i=pt(),r=n+Zt,o=i.firstCreatePass?Zs(i,r,1,e,null):i.data[r],s=xN(i,t,o,e,n);t[r]=s,Kl()&&Zl(i,t,s,o),yr(o,!1)}var xN=(n,e,t,i,r)=>(Ql(!0),JM(e[We],i));function te(n){return O("",n,""),te}function O(n,e,t){let i=fe(),r=ZR(i,n,e,t);return r!==rn&&om(i,Pi(),r),O}function Ft(n,e,t,i,r){let o=fe(),s=XR(o,n,e,t,i,r);return s!==rn&&om(o,Pi(),s),Ft}function hm(n,e,t,i,r,o,s){let a=fe(),c=eN(a,n,e,t,i,r,o,s);return c!==rn&&om(a,Pi(),c),hm}function pe(n,e,t){xb(e)&&(e=e());let i=fe(),r=Wl();if(ti(i,r,e)){let o=pt(),s=$p();pb(o,s,i,n,e,i[We],t,!1)}return pe}function _e(n,e){let t=xb(n);return t&&n.set(e),t}function me(n,e){let t=fe(),i=pt(),r=Ot();return Mb(i,t,t[We],r,n,e),me}function SN(n,e,t){let i=pt();if(i.firstCreatePass){let r=Di(n);yp(t,i.data,i.blueprint,r,!0),yp(e,i.data,i.blueprint,r,!1)}}function yp(n,e,t,i,r){if(n=Ct(n),Array.isArray(n))for(let o=0;o<n.length;o++)yp(n[o],e,t,i,r);else{let o=pt(),s=fe(),a=Ot(),c=Io(n)?n:Ct(n.provide),l=uC(n),u=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(Io(n)||!n.multi){let y=new gr(l,r,q),D=Lf(c,e,r?u:u+v,p);D===-1?(Jf(xl(a,s),o,c),Vf(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[D]=y,s[D]=y)}else{let y=Lf(c,e,u+v,p),D=Lf(c,e,u,u+v),x=y>=0&&t[y],A=D>=0&&t[D];if(r&&!A||!r&&!x){Jf(xl(a,s),o,c);let F=PN(r?MN:AN,t.length,r,i,l);!r&&A&&(t[D].providerFactory=F),Vf(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=Pb(t[r?D:y],l,!r&&i);Vf(o,n,y>-1?y:D,F)}!r&&i&&A&&t[D].componentProviders++}}}function Vf(n,e,t,i){let r=Io(e),o=FA(e);if(r||o){let c=(o?Ct(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function Pb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Lf(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function AN(n,e,t,i){return wp(this.multi,[])}function MN(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=So(t,t[ae],this.providerFactory.index,i);o=a.slice(0,s),wp(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],wp(r,o);return o}function wp(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function PN(n,e,t,i,r){let o=new gr(n,t,q);return o.multi=[],o.index=e,o.componentProviders=0,Pb(o,r,i&&!t),o}function Ut(n,e=[]){return t=>{t.providersResolver=(i,r)=>SN(i,r?r(n):n,e)}}var RN=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=aC(!1,t.type),r=i.length>0?su([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(B(ht))})}}return n})();function Ni(n){ru("NgStandalone"),n.getStandaloneInjector=e=>e.get(RN).getOrCreateStandaloneInjector(n)}function Bt(n,e,t){let i=Js()+n,r=fe();return r[i]===rn?um(r,i,t?e.call(t):e()):HR(r,i)}function Rb(n,e,t,i){return kb(fe(),Js(),n,e,t,i)}function Nb(n,e,t,i,r){return Fb(fe(),Js(),n,e,t,i,r)}function Ob(n,e){let t=n[e];return t===rn?void 0:t}function kb(n,e,t,i,r,o){let s=e+t;return ti(n,s,r)?um(n,s+1,o?i.call(o,r):i(r)):Ob(n,s+1)}function Fb(n,e,t,i,r,o,s){let a=e+t;return dm(n,a,r,o)?um(n,a+2,s?i.call(s,r,o):i(r,o)):Ob(n,a+2)}function wr(n,e){let t=pt(),i,r=n+Zt;t.firstCreatePass?(i=NN(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=hr(i.type,!0)),s,a=Pt(q);try{let c=Dl(!1),l=o();return Dl(c),DN(t,fe(),r,l),l}finally{Pt(a)}}function NN(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function fm(n,e,t){let i=n+Zt,r=fe(),o=wC(r,i);return Vb(r,i)?kb(r,Js(),e,o.transform,t,o):o.transform(t)}function Xs(n,e,t,i){let r=n+Zt,o=fe(),s=wC(o,r);return Vb(o,r)?Fb(o,Js(),e,s.transform,t,i,s):s.transform(t,i)}function Vb(n,e){return n[ae].data[e].pure}var ni=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Lb=new ni("17.3.12"),au=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var jb=new U("");function Cr(n){return!!n&&typeof n.then=="function"}function Ub(n){return!!n&&typeof n.subscribe=="function"}var cu=new U(""),Bb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=N(cu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(Cr(o))t.push(o);else if(Ub(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ea=new U("");function ON(){Ny(()=>{throw new $(600,!1)})}function kN(n){return n.isBoundToModule}function FN(n,e,t){try{let i=t();return Cr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var ko=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(zC),this.afterRenderEffectManager=N(lm),this.externalTestViews=new Set,this.beforeRender=new wt,this.afterTick=new wt,this.componentTypes=[],this.components=[],this.isStable=N(Oo).hasPendingTasks.pipe(ee(t=>!t)),this._injector=N(ht)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Pl;if(!this._injector.get(Bb).done){let v=!r&&iC(t),y=!1;throw new $(405,y)}let s;r?s=t:s=this._injector.get(iu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=kN(s)?void 0:this._injector.get(Si),c=i||s.selector,l=s.create(kt.NULL,[],c,a),u=l.location.nativeElement,p=l.injector.get(jb,null);return p?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),jf(this.components,l),p?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new $(101,!1);let i=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,ve(i)}}detectChangesInAttachedViews(t){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===Cb)throw new $(103,!1);if(t){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)VN(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Cp(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Cp(o))))break}}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;jf(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(ea,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>jf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function jf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function VN(n,e,t){!e&&!Cp(n)||LN(n,t,e)}function Cp(n){return Vp(n)}function LN(n,e,t){let i;t?(i=0,n[K]|=1024):n[K]&64?i=0:i=1,bb(n,e,i)}var bp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},lu=(()=>{class n{compileModuleSync(t){return new gp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=rC(t),o=XC(r.declarations).reduce((s,a)=>{let c=Ti(a);return c&&s.push(new Ao(c)),s},[]);return new bp(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jN=(()=>{class n{constructor(){this.zone=N(Ee),this.applicationRef=N(ko)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UN(n){return[{provide:Ee,useFactory:n},{provide:Eo,multi:!0,useFactory:()=>{let e=N(jN,{optional:!0});return()=>e.initialize()}},{provide:Eo,multi:!0,useFactory:()=>{let e=N(GN);return()=>{e.initialize()}}},{provide:zC,useFactory:BN}]}function BN(){let n=N(Ee),e=N(Fn);return t=>n.runOutsideAngular(()=>e.handleError(t))}function $N(n){let e=UN(()=>new Ee(qN(n)));return Po([[],e])}function qN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var GN=(()=>{class n{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=N(Ee),this.pendingTasks=N(Oo)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zN(){return typeof $localize<"u"&&$localize.locale||Fl}var uu=new U("",{providedIn:"root",factory:()=>N(uu,ie.Optional|ie.SkipSelf)||zN()});var $b=new U("");var gl=null;function HN(n=[],e){return kt.create({name:e,providers:[{provide:$l,useValue:"platform"},{provide:$b,useValue:new Set([()=>gl=null])},...n]})}function WN(n=[]){if(gl)return gl;let e=HN(n);return gl=e,ON(),KN(e),e}function KN(n){n.get(Hp,null)?.forEach(t=>t())}var br=(()=>{class n{static{this.__NG_ELEMENT_ID__=QN}}return n})();function QN(n){return YN(Ot(),fe(),(n&16)===16)}function YN(n,e,t){if(zl(n)&&!t){let i=Mi(n.index,e);return new _r(i,i)}else if(n.type&47){let i=e[On];return new _r(i,e)}return null}var Ep=class{constructor(){}supports(e){return Sb(e)}create(e){return new Ip(e)}},JN=(n,e)=>e,Ip=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||JN}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<jw(i,r,o)?t:i,a=jw(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let v=0;v<l;v++){let y=v<o.length?o[v]:o[v]=0,D=y+v;u<=D&&D<l&&(o[v]=y+1)}let p=s.previousIndex;o[p]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Sb(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,GR(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Tp(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Vl),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Tp=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Dp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Vl=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Dp,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function jw(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function Uw(){return new pm([new Ep])}var pm=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:Uw})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Uw()),deps:[[n,new Sp,new Xt]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new $(901,!1)}}return n})();function qb(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=WN(i),o=[$N(),...t||[]],a=new Ol({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ee);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Fn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),v=r.get($b);return v.add(p),a.onDestroy(()=>{u.unsubscribe(),v.delete(p)}),FN(l,c,()=>{let y=a.get(Bb);return y.runInitializers(),y.donePromise.then(()=>{let D=a.get(uu,Fl);IN(D||Fl);let x=a.get(ko);return e!==void 0&&x.bootstrap(e),x})})})}catch(e){return Promise.reject(e)}}function ta(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Gb(n){let e=Ti(n);if(!e)return null;let t=new Ao(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Jb=null;function li(){return Jb}function Zb(n){Jb??=n}var yu=class{};var mt=new U(""),Em=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(eO),providedIn:"platform"})}}return n})(),Xb=new U(""),eO=(()=>{class n extends Em{constructor(){super(),this._doc=N(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return li().getBaseHref(this._doc)}onPopState(t){let i=li().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=li().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Im(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function zb(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function ai(n){return n&&n[0]!=="?"?"?"+n:n}var Er=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(Tm),providedIn:"root"})}}return n})(),eE=new U(""),Tm=(()=>{class n extends Er{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Im(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+ai(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ai(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ai(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(B(Em),B(eE,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tE=(()=>{class n extends Er{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=Im(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ai(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ai(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(B(Em),B(eE,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Vo=(()=>{class n{constructor(t){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=iO(zb(Hb(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ai(i))}normalize(t){return n.stripTrailingSlash(nO(this._basePath,Hb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ai(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ai(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=ai}static{this.joinWithSlash=Im}static{this.stripTrailingSlash=zb}static{this.\u0275fac=function(i){return new(i||n)(B(Er))}}static{this.\u0275prov=j({token:n,factory:()=>tO(),providedIn:"root"})}}return n})();function tO(){return new Vo(B(Er))}function nO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Hb(n){return n.replace(/\/index.html$/,"")}function iO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var It=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(It||{}),Re=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Re||{}),qt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(qt||{}),Oi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function rO(n){return sn(n)[qe.LocaleId]}function oO(n,e,t){let i=sn(n),r=[i[qe.DayPeriodsFormat],i[qe.DayPeriodsStandalone]],o=an(r,e);return an(o,t)}function sO(n,e,t){let i=sn(n),r=[i[qe.DaysFormat],i[qe.DaysStandalone]],o=an(r,e);return an(o,t)}function aO(n,e,t){let i=sn(n),r=[i[qe.MonthsFormat],i[qe.MonthsStandalone]],o=an(r,e);return an(o,t)}function cO(n,e){let i=sn(n)[qe.Eras];return an(i,e)}function du(n,e){let t=sn(n);return an(t[qe.DateFormat],e)}function hu(n,e){let t=sn(n);return an(t[qe.TimeFormat],e)}function fu(n,e){let i=sn(n)[qe.DateTimeFormat];return an(i,e)}function Cu(n,e){let t=sn(n),i=t[qe.NumberSymbols][e];if(typeof i>"u"){if(e===Oi.CurrencyDecimal)return t[qe.NumberSymbols][Oi.Decimal];if(e===Oi.CurrencyGroup)return t[qe.NumberSymbols][Oi.Group]}return i}function nE(n){if(!n[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lO(n){let e=sn(n);return nE(e),(e[qe.ExtraData][2]||[]).map(i=>typeof i=="string"?mm(i):[mm(i[0]),mm(i[1])])}function uO(n,e,t){let i=sn(n);nE(i);let r=[i[qe.ExtraData][0],i[qe.ExtraData][1]],o=an(r,e)||[];return an(o,t)||[]}function an(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function mm(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var dO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pu={},hO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ci=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(ci||{}),we=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(we||{}),ye=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(ye||{});function fO(n,e,t,i){let r=bO(n);e=si(t,e)||e;let s=[],a;for(;e;)if(a=hO.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=r.getTimezoneOffset();i&&(c=rE(i,c),r=CO(r,i,!0));let l="";return s.forEach(u=>{let p=yO(u);l+=p?p(r,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function wu(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function si(n,e){let t=rO(n);if(pu[t]??={},pu[t][e])return pu[t][e];let i="";switch(e){case"shortDate":i=du(n,qt.Short);break;case"mediumDate":i=du(n,qt.Medium);break;case"longDate":i=du(n,qt.Long);break;case"fullDate":i=du(n,qt.Full);break;case"shortTime":i=hu(n,qt.Short);break;case"mediumTime":i=hu(n,qt.Medium);break;case"longTime":i=hu(n,qt.Long);break;case"fullTime":i=hu(n,qt.Full);break;case"short":let r=si(n,"shortTime"),o=si(n,"shortDate");i=mu(fu(n,qt.Short),[r,o]);break;case"medium":let s=si(n,"mediumTime"),a=si(n,"mediumDate");i=mu(fu(n,qt.Medium),[s,a]);break;case"long":let c=si(n,"longTime"),l=si(n,"longDate");i=mu(fu(n,qt.Long),[c,l]);break;case"full":let u=si(n,"fullTime"),p=si(n,"fullDate");i=mu(fu(n,qt.Full),[u,p]);break}return i&&(pu[t][e]=i),i}function mu(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Cn(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function pO(n,e){return Cn(n,3).substring(0,e)}function Ke(n,e,t=0,i=!1,r=!1){return function(o,s){let a=mO(n,o);if((t>0||a>-t)&&(a+=t),n===we.Hours)a===0&&t===-12&&(a=12);else if(n===we.FractionalSeconds)return pO(a,e);let c=Cu(s,Oi.MinusSign);return Cn(a,e,c,i,r)}}function mO(n,e){switch(n){case we.FullYear:return e.getFullYear();case we.Month:return e.getMonth();case we.Date:return e.getDate();case we.Hours:return e.getHours();case we.Minutes:return e.getMinutes();case we.Seconds:return e.getSeconds();case we.FractionalSeconds:return e.getMilliseconds();case we.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ne(n,e,t=It.Format,i=!1){return function(r,o){return gO(r,o,n,e,t,i)}}function gO(n,e,t,i,r,o){switch(t){case ye.Months:return aO(e,r,i)[n.getMonth()];case ye.Days:return sO(e,r,i)[n.getDay()];case ye.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=lO(e),u=uO(e,r,i),p=l.findIndex(v=>{if(Array.isArray(v)){let[y,D]=v,x=s>=y.hours&&a>=y.minutes,A=s<D.hours||s===D.hours&&a<D.minutes;if(y.hours<D.hours){if(x&&A)return!0}else if(x||A)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return u[p]}return oO(e,r,i)[s<12?0:1];case ye.Eras:return cO(e,i)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function gu(n){return function(e,t,i){let r=-1*i,o=Cu(t,Oi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ci.Short:return(r>=0?"+":"")+Cn(s,2,o)+Cn(Math.abs(r%60),2,o);case ci.ShortGMT:return"GMT"+(r>=0?"+":"")+Cn(s,1,o);case ci.Long:return"GMT"+(r>=0?"+":"")+Cn(s,2,o)+":"+Cn(Math.abs(r%60),2,o);case ci.Extended:return i===0?"Z":(r>=0?"+":"")+Cn(s,2,o)+":"+Cn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var _O=0,vu=4;function vO(n){let e=wu(n,_O,1).getDay();return wu(n,0,1+(e<=vu?vu:vu+7)-e)}function iE(n){let e=n.getDay(),t=e===0?-3:vu-e;return wu(n.getFullYear(),n.getMonth(),n.getDate()+t)}function gm(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=iE(t),s=vO(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Cn(r,n,Cu(i,Oi.MinusSign))}}function _u(n,e=!1){return function(t,i){let o=iE(t).getFullYear();return Cn(o,n,Cu(i,Oi.MinusSign),e)}}var _m={};function yO(n){if(_m[n])return _m[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ne(ye.Eras,Re.Abbreviated);break;case"GGGG":e=Ne(ye.Eras,Re.Wide);break;case"GGGGG":e=Ne(ye.Eras,Re.Narrow);break;case"y":e=Ke(we.FullYear,1,0,!1,!0);break;case"yy":e=Ke(we.FullYear,2,0,!0,!0);break;case"yyy":e=Ke(we.FullYear,3,0,!1,!0);break;case"yyyy":e=Ke(we.FullYear,4,0,!1,!0);break;case"Y":e=_u(1);break;case"YY":e=_u(2,!0);break;case"YYY":e=_u(3);break;case"YYYY":e=_u(4);break;case"M":case"L":e=Ke(we.Month,1,1);break;case"MM":case"LL":e=Ke(we.Month,2,1);break;case"MMM":e=Ne(ye.Months,Re.Abbreviated);break;case"MMMM":e=Ne(ye.Months,Re.Wide);break;case"MMMMM":e=Ne(ye.Months,Re.Narrow);break;case"LLL":e=Ne(ye.Months,Re.Abbreviated,It.Standalone);break;case"LLLL":e=Ne(ye.Months,Re.Wide,It.Standalone);break;case"LLLLL":e=Ne(ye.Months,Re.Narrow,It.Standalone);break;case"w":e=gm(1);break;case"ww":e=gm(2);break;case"W":e=gm(1,!0);break;case"d":e=Ke(we.Date,1);break;case"dd":e=Ke(we.Date,2);break;case"c":case"cc":e=Ke(we.Day,1);break;case"ccc":e=Ne(ye.Days,Re.Abbreviated,It.Standalone);break;case"cccc":e=Ne(ye.Days,Re.Wide,It.Standalone);break;case"ccccc":e=Ne(ye.Days,Re.Narrow,It.Standalone);break;case"cccccc":e=Ne(ye.Days,Re.Short,It.Standalone);break;case"E":case"EE":case"EEE":e=Ne(ye.Days,Re.Abbreviated);break;case"EEEE":e=Ne(ye.Days,Re.Wide);break;case"EEEEE":e=Ne(ye.Days,Re.Narrow);break;case"EEEEEE":e=Ne(ye.Days,Re.Short);break;case"a":case"aa":case"aaa":e=Ne(ye.DayPeriods,Re.Abbreviated);break;case"aaaa":e=Ne(ye.DayPeriods,Re.Wide);break;case"aaaaa":e=Ne(ye.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=Ne(ye.DayPeriods,Re.Abbreviated,It.Standalone,!0);break;case"bbbb":e=Ne(ye.DayPeriods,Re.Wide,It.Standalone,!0);break;case"bbbbb":e=Ne(ye.DayPeriods,Re.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(ye.DayPeriods,Re.Abbreviated,It.Format,!0);break;case"BBBB":e=Ne(ye.DayPeriods,Re.Wide,It.Format,!0);break;case"BBBBB":e=Ne(ye.DayPeriods,Re.Narrow,It.Format,!0);break;case"h":e=Ke(we.Hours,1,-12);break;case"hh":e=Ke(we.Hours,2,-12);break;case"H":e=Ke(we.Hours,1);break;case"HH":e=Ke(we.Hours,2);break;case"m":e=Ke(we.Minutes,1);break;case"mm":e=Ke(we.Minutes,2);break;case"s":e=Ke(we.Seconds,1);break;case"ss":e=Ke(we.Seconds,2);break;case"S":e=Ke(we.FractionalSeconds,1);break;case"SS":e=Ke(we.FractionalSeconds,2);break;case"SSS":e=Ke(we.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=gu(ci.Short);break;case"ZZZZZ":e=gu(ci.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=gu(ci.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=gu(ci.Long);break;default:return null}return _m[n]=e,e}function rE(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function wO(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function CO(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),o=rE(e,r);return wO(n,i*(o-r))}function bO(n){if(Wb(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return wu(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(dO))return EO(i)}let e=new Date(n);if(!Wb(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function EO(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function Wb(n){return n instanceof Date&&!isNaN(n.valueOf())}function bu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var vm=/\s+/,Kb=[],oE=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=Kb,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(vm):Kb}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(vm):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(vm).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(q(wn),q(Vn))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[st.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var ym=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Lo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new ym(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),Qb(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Qb(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(q(No),q(nu),q(pm))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Qb(n,e){n.context.$implicit=e.item}var jo=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new wm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(q(No),q(nu))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),wm=class{constructor(){this.$implicit=null,this.ngIf=null}};function Yb(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${bt(e)}'.`)}function sE(n,e){return new $(2100,!1)}var IO=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,aE=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw sE(n,t);return t.replace(IO,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=Bl({name:"titlecase",type:n,pure:!0,standalone:!0})}}return n})();var TO="mediumDate",DO=new U(""),xO=new U(""),Eu=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??TO,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return fO(t,s,o||this.locale,a)}catch(s){throw sE(n,s.message)}}static{this.\u0275fac=function(i){return new(i||n)(q(uu,16),q(DO,24),q(xO,24))}}static{this.\u0275pipe=Bl({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var cE=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=Bl({name:"json",type:n,pure:!1,standalone:!0})}}return n})();var Ir=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({})}}return n})(),Dm="browser",SO="server";function AO(n){return n===Dm}function Iu(n){return n===SO}var lE=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>AO(N(nn))?new Cm(N(mt),window):new bm})}}return n})(),Cm=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=MO(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function MO(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var bm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Fo=class{};var ia=class{},xu=class{},Tr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Sm=class{encodeKey(e){return uE(e)}encodeValue(e){return uE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function NO(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var OO=/%(\d[a-f0-9])/gi,kO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uE(n){return encodeURIComponent(n).replace(OO,(e,t)=>kO[t]??e)}function Du(n){return`${n}`}var ki=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Sm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=NO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Du):[Du(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Du(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Du(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Am=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function FO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function hE(n){return typeof Blob<"u"&&n instanceof Blob}function fE(n){return typeof FormData<"u"&&n instanceof FormData}function VO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var na=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(FO(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Tr,this.context??=new Am,!this.params)this.params=new ki,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dE(this.body)||hE(this.body)||fE(this.body)||VO(this.body)?this.body:this.body instanceof ki?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||fE(this.body)?null:hE(this.body)?this.body.type||null:dE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ki?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),u)),new n(t,i,s,{params:u,headers:l,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},Uo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Uo||{}),ra=class{constructor(e,t=Mu.Ok,i="OK"){this.headers=e.headers||new Tr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Mm=class n extends ra{constructor(e={}){super(e),this.type=Uo.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Su=class n extends ra{constructor(e={}){super(e),this.type=Uo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Au=class extends ra{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Mu=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Mu||{});function xm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Pm=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof na)o=t;else{let c;r.headers instanceof Tr?c=r.headers:c=new Tr(r.headers);let l;r.params&&(r.params instanceof ki?l=r.params:l=new ki({fromObject:r.params})),o=new na(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=H(o).pipe(Jn(c=>this.handler.handle(c)));if(t instanceof na||r.observe==="events")return s;let a=s.pipe(At(c=>c instanceof Su));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ee(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new ki().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,xm(r,i))}post(t,i,r={}){return this.request("POST",t,xm(r,i))}put(t,i,r={}){return this.request("PUT",t,xm(r,i))}static{this.\u0275fac=function(i){return new(i||n)(B(ia))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function LO(n,e){return e(n)}function jO(n,e,t){return(i,r)=>vn(t,()=>e(i,o=>n(o,r)))}var gE=new U(""),UO=new U(""),BO=new U("");var pE=(()=>{class n extends ia{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=N(Oo);let r=N(BO,{optional:!0});this.backend=r??t}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(gE),...this.injector.get(UO,[])]));this.chain=r.reduceRight((o,s)=>jO(o,s,this.injector),LO)}let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(cr(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(B(xu),B(ht))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();var $O=/^\)\]\}',?\n/;function qO(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var mE=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ke(i.\u0275loadImpl()):H(null)).pipe(Mt(()=>new oe(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,A)=>s.setRequestHeader(x,A.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let x=t.detectContentTypeHeader();x!==null&&s.setRequestHeader("Content-Type",x)}if(t.responseType){let x=t.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let x=s.statusText||"OK",A=new Tr(s.getAllResponseHeaders()),F=qO(s)||t.url;return c=new Mm({headers:A,status:s.status,statusText:x,url:F}),c},u=()=>{let{headers:x,status:A,statusText:F,url:ue}=l(),z=null;A!==Mu.NoContent&&(z=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=z?Mu.Ok:0);let be=A>=200&&A<300;if(t.responseType==="json"&&typeof z=="string"){let Ze=z;z=z.replace($O,"");try{z=z!==""?JSON.parse(z):null}catch(ge){z=Ze,be&&(be=!1,z={error:ge,text:z})}}be?(o.next(new Su({body:z,headers:x,status:A,statusText:F,url:ue||void 0})),o.complete()):o.error(new Au({error:z,headers:x,status:A,statusText:F,url:ue||void 0}))},p=x=>{let{url:A}=l(),F=new Au({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(F)},v=!1,y=x=>{v||(o.next(l()),v=!0);let A={type:Uo.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(A.total=x.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},D=x=>{let A={type:Uo.UploadProgress,loaded:x.loaded};x.lengthComputable&&(A.total=x.total),o.next(A)};return s.addEventListener("load",u),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:Uo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",u),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(B(Fo))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),_E=new U(""),GO="XSRF-TOKEN",zO=new U("",{providedIn:"root",factory:()=>GO}),HO="X-XSRF-TOKEN",WO=new U("",{providedIn:"root",factory:()=>HO}),Pu=class{},KO=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=bu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(B(mt),B(nn),B(zO))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function QO(n,e){let t=n.url.toLowerCase();if(!N(_E)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=N(Pu).getToken(),r=N(WO);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function vE(...n){let e=[Pm,mE,pE,{provide:ia,useExisting:pE},{provide:xu,useExisting:mE},{provide:gE,useValue:QO,multi:!0},{provide:_E,useValue:!0},{provide:Pu,useClass:KO}];for(let t of n)e.push(...t.\u0275providers);return Po(e)}var Om=class extends yu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},km=class n extends Om{static makeCurrent(){Zb(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=JO();return t==null?null:ZO(t)}resetBaseElement(){oa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bu(document.cookie,e)}},oa=null;function JO(){return oa=oa||document.querySelector("base"),oa?oa.getAttribute("href"):null}function ZO(n){return new URL(n,document.baseURI).pathname}var XO=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Fm=new U(""),bE=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(B(Fm),B(Ee))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Ru=class{constructor(e){this._doc=e}},Rm="ng-app-id",EE=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Iu(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Rm}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(Rm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Rm,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(B(mt),B(zp),B(Wp,8),B(nn))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Nm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lm=/%COMP%/g,IE="%COMP%",ek=`_nghost-${IE}`,tk=`_ngcontent-${IE}`,nk=!0,ik=new U("",{providedIn:"root",factory:()=>nk});function rk(n){return tk.replace(Lm,n)}function ok(n){return ek.replace(Lm,n)}function TE(n,e){return e.map(t=>t.replace(Lm,n))}var yE=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Iu(a),this.defaultRenderer=new sa(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Rn.ShadowDom&&(i=Y(M({},i),{encapsulation:Rn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Nu?r.applyToHost(t):r instanceof aa&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Rn.Emulated:o=new Nu(c,l,i,this.appId,u,s,a,p);break;case Rn.ShadowDom:return new Vm(c,l,t,i,s,a,this.nonce,p);default:o=new aa(c,l,i,u,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(B(bE),B(EE),B(zp),B(ik),B(mt),B(nn),B(Ee),B(Wp))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),sa=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Nm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(wE(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(wE(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new $(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=Nm[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Nm[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ei.DashCase|ei.Important)?e.style.setProperty(t,i,r&ei.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ei.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=li().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function wE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Vm=class extends sa{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=TE(r.id,r.styles);for(let u of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=u,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},aa=class extends sa{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?TE(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nu=class extends aa{constructor(e,t,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=rk(l),this.hostAttr=ok(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},sk=(()=>{class n extends Ru{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(B(mt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),CE=["alt","control","meta","shift"],ak={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ck={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},lk=(()=>{class n extends Ru{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>li().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),CE.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=ak[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),CE.forEach(s=>{if(s!==r){let a=ck[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(B(mt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function DE(n,e){return qb(M({rootComponent:n},uk(e)))}function uk(n){return{appProviders:[...mk,...n?.providers??[]],platformProviders:pk}}function dk(){km.makeCurrent()}function hk(){return new Fn}function fk(){return JC(document),document}var pk=[{provide:nn,useValue:Dm},{provide:Hp,useValue:dk,multi:!0},{provide:mt,useFactory:fk,deps:[]}];var mk=[{provide:$l,useValue:"root"},{provide:Fn,useFactory:hk,deps:[]},{provide:Fm,useClass:sk,multi:!0,deps:[mt,Ee,nn]},{provide:Fm,useClass:lk,multi:!0,deps:[mt]},yE,EE,bE,{provide:Hs,useExisting:yE},{provide:Fo,useClass:XO,deps:[]},[]];var xE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(B(mt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var VE=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(q(Vn),q(wn))}}static{this.\u0275dir=Pe({type:n})}}return n})(),qo=(()=>{class n extends VE{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=tn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,features:[at]})}}return n})(),Li=new U(""),_k={provide:Li,useExisting:Et(()=>qm),multi:!0},qm=(()=>{class n extends qo{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=tn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Ut([_k]),at]})}}return n})(),vk={provide:Li,useExisting:Et(()=>Go),multi:!0};function yk(){let n=li()?li().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var wk=new U(""),Go=(()=>{class n extends VE{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yk())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(q(Vn),q(wn),q(wk,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&I("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ut([vk]),at]})}}return n})();function Fi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function LE(n){return n!=null&&typeof n.length=="number"}var zo=new U(""),Gm=new U(""),Ck=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xe=class{static min(e){return jE(e)}static max(e){return UE(e)}static required(e){return BE(e)}static requiredTrue(e){return bk(e)}static email(e){return Ek(e)}static minLength(e){return Ik(e)}static maxLength(e){return Tk(e)}static pattern(e){return Dk(e)}static nullValidator(e){return ku(e)}static compose(e){return WE(e)}static composeAsync(e){return QE(e)}};function jE(n){return e=>{if(Fi(e.value)||Fi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function UE(n){return e=>{if(Fi(e.value)||Fi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function BE(n){return Fi(n.value)?{required:!0}:null}function bk(n){return n.value===!0?null:{required:!0}}function Ek(n){return Fi(n.value)||Ck.test(n.value)?null:{email:!0}}function Ik(n){return e=>Fi(e.value)||!LE(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Tk(n){return e=>LE(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Dk(n){if(!n)return ku;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Fi(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function ku(n){return null}function $E(n){return n!=null}function qE(n){return Cr(n)?ke(n):n}function GE(n){let e={};return n.forEach(t=>{e=t!=null?M(M({},e),t):e}),Object.keys(e).length===0?null:e}function zE(n,e){return e.map(t=>t(n))}function xk(n){return!n.validate}function HE(n){return n.map(e=>xk(e)?e:t=>e.validate(t))}function WE(n){if(!n)return null;let e=n.filter($E);return e.length==0?null:function(t){return GE(zE(t,e))}}function KE(n){return n!=null?WE(HE(n)):null}function QE(n){if(!n)return null;let e=n.filter($E);return e.length==0?null:function(t){let i=zE(t,e).map(qE);return vf(i).pipe(ee(GE))}}function YE(n){return n!=null?QE(HE(n)):null}function SE(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JE(n){return n._rawValidators}function ZE(n){return n._rawAsyncValidators}function jm(n){return n?Array.isArray(n)?n:[n]:[]}function Fu(n,e){return Array.isArray(n)?n.includes(e):n===e}function AE(n,e){let t=jm(e);return jm(n).forEach(r=>{Fu(t,r)||t.push(r)}),t}function ME(n,e){return jm(e).filter(t=>!Fu(n,t))}var Vu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Dr=class extends Vu{get formDirective(){return null}get path(){return null}},Vi=class extends Vu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Lu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Sk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},XW=Y(M({},Sk),{"[class.ng-submitted]":"isSubmitted"}),$u=(()=>{class n extends Lu{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(q(Vi,2))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ie("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[at]})}}return n})(),XE=(()=>{class n extends Lu{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(q(Dr,10))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ie("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[at]})}}return n})();var ca="VALID",Ou="INVALID",Bo="PENDING",la="DISABLED";function zm(n){return(qu(n)?n.validators:n)||null}function Ak(n){return Array.isArray(n)?KE(n):n||null}function Hm(n,e){return(qu(e)?e.asyncValidators:n)||null}function Mk(n){return Array.isArray(n)?YE(n):n||null}function qu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function eI(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new $(1e3,"");if(!i[t])throw new $(1001,"")}function tI(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new $(1002,"")})}var $o=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ca}get invalid(){return this.status===Ou}get pending(){return this.status==Bo}get disabled(){return this.status===la}get enabled(){return this.status!==la}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ME(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ME(e,this._rawAsyncValidators))}hasValidator(e){return Fu(this._rawValidators,e)}hasAsyncValidator(e){return Fu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=la,this.errors=null,this._forEachChild(i=>{i.disable(Y(M({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(M({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ca,this._forEachChild(i=>{i.enable(Y(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Y(M({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ca||this.status===Bo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?la:ca}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bo,this._hasOwnPendingAsyncValidator=!0;let t=qE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?la:this.errors?Ou:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bo)?Bo:this._anyControlsHaveStatus(Ou)?Ou:ca}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ak(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Mk(this._rawAsyncValidators)}},ju=class extends $o{constructor(e,t,i){super(zm(t),Hm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){tI(this,!0,e),Object.keys(e).forEach(i=>{eI(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Um=class extends ju{};var da=new U("CallSetDisabledState",{providedIn:"root",factory:()=>ha}),ha="always";function nI(n,e){return[...e.path,n]}function Bm(n,e,t=ha){Wm(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Rk(n,e),Ok(n,e),Nk(n,e),Pk(n,e)}function PE(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Bu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Uu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Pk(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Wm(n,e){let t=JE(n);e.validator!==null?n.setValidators(SE(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=ZE(n);e.asyncValidator!==null?n.setAsyncValidators(SE(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Uu(e._rawValidators,r),Uu(e._rawAsyncValidators,r)}function Bu(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=JE(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=ZE(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Uu(e._rawValidators,i),Uu(e._rawAsyncValidators,i),t}function Rk(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&iI(n,e)})}function Nk(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&iI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function iI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ok(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function kk(n,e){n==null,Wm(n,e)}function Fk(n,e){return Bu(n,e)}function rI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Vk(n){return Object.getPrototypeOf(n.constructor)===qo}function Lk(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function oI(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Go?t=o:Vk(o)?i=o:r=o}),r||i||t||null}function jk(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function RE(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function NE(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ua=class extends $o{constructor(e=null,t,i){super(zm(t),Hm(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(NE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){NE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Uk=n=>n instanceof ua;var Bk={provide:Vi,useExisting:Et(()=>fa)},OE=Promise.resolve(),fa=(()=>{class n extends Vi{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new ua,this._registered=!1,this.name="",this.update=new Fe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=oI(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),rI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Bm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){OE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&ta(i);OE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?nI(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(q(Dr,9),q(zo,10),q(Gm,10),q(Li,10),q(br,8),q(da,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"],options:[st.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([Bk]),at,oi]})}}return n})(),sI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Pe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),$k={provide:Li,useExisting:Et(()=>Km),multi:!0},Km=(()=>{class n extends qo{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=tn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&I("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ut([$k]),at]})}}return n})(),qk={provide:Li,useExisting:Et(()=>Qm),multi:!0};var Gk=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qm=(()=>{class n extends qo{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=N(da,{optional:!0})??ha}ngOnInit(){this._control=this._injector.get(Vi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(q(Vn),q(wn),q(Gk),q(kt))}}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ut([qk]),at]})}}return n})();var aI=new U("");var zk={provide:Dr,useExisting:Et(()=>Ym)},Ym=(()=>{class n extends Dr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Bm(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){PE(t.control||null,t,!1),jk(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Lk(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(PE(i||null,t),Uk(r)&&(Bm(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);kk(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&Fk(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wm(this.form,this),this._oldForm&&Bu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(q(zo,10),q(Gm,10),q(da,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&I("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[st.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([zk]),at,oi]})}}return n})();var Hk={provide:Vi,useExisting:Et(()=>Jm)},Jm=(()=>{class n extends Vi{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=oI(this,o)}ngOnChanges(t){this._added||this._setUpControl(),rI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return nI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(q(Dr,13),q(zo,10),q(Gm,10),q(Li,10),q(aI,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formControlName",""]],inputs:{name:[st.None,"formControlName","name"],isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ut([Hk]),at,oi]})}}return n})(),Wk={provide:Li,useExisting:Et(()=>Ho),multi:!0};function cI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Kk(n){return n.split(":")[0]}var Ho=(()=>{class n extends qo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=cI(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Kk(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=tn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([Wk]),at]})}}return n})(),Gu=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(cI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(q(wn),q(Vn),q(Ho,9))}}static{this.\u0275dir=Pe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Qk={provide:Li,useExisting:Et(()=>lI),multi:!0};function kE(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Yk(n){return n.split(":")[0]}var lI=(()=>{class n extends qo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=Yk(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=tn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([Qk]),at]})}}return n})(),zu=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(kE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(q(wn),q(Vn),q(lI,9))}}static{this.\u0275dir=Pe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function uI(n){return typeof n=="number"?n:parseFloat(n)}var Zm=(()=>{class n{constructor(){this._validator=ku}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ku,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Pe({type:n,features:[oi]})}}return n})(),Jk={provide:zo,useExisting:Et(()=>Xm),multi:!0},Xm=(()=>{class n extends Zm{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>uI(t),this.createValidator=t=>UE(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=tn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ut([Jk]),at]})}}return n})(),Zk={provide:zo,useExisting:Et(()=>eg),multi:!0},eg=(()=>{class n extends Zm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>uI(t),this.createValidator=t=>jE(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=tn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ut([Zk]),at]})}}return n})(),Xk={provide:zo,useExisting:Et(()=>tg),multi:!0};var tg=(()=>{class n extends Zm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ta,this.createValidator=t=>BE}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=tn(n)))(r||n)}})()}static{this.\u0275dir=Pe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ut([Xk]),at]})}}return n})();var dI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({})}}return n})(),$m=class extends $o{constructor(e,t,i){super(zm(t),Hm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){tI(this,!1,e),e.forEach((i,r)=>{eI(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function FE(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var hI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return FE(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ju(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Um(r,i)}control(t,i,r){let o={};return this.useNonNullable?(FE(i)?o=i:(o.validators=i,o.asyncValidators=r),new ua(t,Y(M({},o),{nonNullable:!0}))):new ua(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new $m(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof ua)return t;if(t instanceof $o)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Hu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:da,useValue:t.callSetDisabledState??ha}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({imports:[dI]})}}return n})(),fI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:aI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:da,useValue:t.callSetDisabledState??ha}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({imports:[dI]})}}return n})();var ng=[{id:1,name:"Stand. Flawinne FC",players:[{name:"Joueur non list\xE9",type:"milieu"}]},{id:2,name:"U10 Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Daniel",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:3,name:"U9 Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]},{id:4,name:"U11B Stand. Flawinne FC",players:[{name:"Melvin",type:"milieu"},{name:"Kalvin",type:"milieu"},{name:"Thibault",type:"milieu"},{name:"Tom",type:"milieu"},{name:"Maxim",type:"milieu"},{name:"Ely",type:"milieu"},{name:"Math\xE9o",type:"milieu"},{name:"Elson",type:"milieu"},{name:"Shanna",type:"milieu"},{name:"Stiliano",type:"milieu"},{name:"Mandares",type:"milieu"},{name:"Naofelle",type:"milieu"},{name:"Daniel",type:"milieu"},{name:"Arthur",type:"milieu"}]},{id:5,name:"U10A Stand. Flawinne FC",players:[{name:"Mathieu",type:"milieu"},{name:"Loris",type:"milieu"},{name:"Hugo",type:"milieu"},{name:"Sam",type:"milieu"},{name:"Achille",type:"milieu"},{name:"Dario",type:"milieu"},{name:"Jules",type:"milieu"},{name:"Gabin",type:"milieu"},{name:"Georges",type:"milieu"}]}];function ig(n){return(!n.players||n.players.length===0)&&(n.players=[{name:"Joueur non list\xE9",type:"milieu"}]),n}var ne="primary",Aa=Symbol("RouteTitle"),cg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Jo(n){return new cg(n)}function e2(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function t2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ln(n[t],e[t]))return!1;return!0}function Ln(n,e){let t=n?lg(n):void 0,i=e?lg(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!EI(n[r],e[r]))return!1;return!0}function lg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function EI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function II(n){return n.length>0?n[n.length-1]:null}function qi(n){return _f(n)?n:Cr(n)?ke(Promise.resolve(n)):H(n)}var n2={exact:DI,subset:xI},TI={exact:i2,subset:r2,ignored:()=>!0};function mI(n,e,t){return n2[t.paths](n.root,e.root,t.matrixParams)&&TI[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function i2(n,e){return Ln(n,e)}function DI(n,e,t){if(!Sr(n.segments,e.segments)||!Qu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!DI(n.children[i],e.children[i],t))return!1;return!0}function r2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>EI(n[t],e[t]))}function xI(n,e,t){return SI(n,e,e.segments,t)}function SI(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Sr(r,t)||e.hasChildren()||!Qu(r,t,i))}else if(n.segments.length===t.length){if(!Sr(n.segments,t)||!Qu(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!xI(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Sr(n.segments,r)||!Qu(n.segments,r,i)||!n.children[ne]?!1:SI(n.children[ne],e,o,i)}}function Qu(n,e,t){return e.every((i,r)=>TI[t](n[r].parameters,i.parameters))}var ji=class{constructor(e=new Te([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Jo(this.queryParams),this._queryParamMap}toString(){return a2.serialize(this)}},Te=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yu(this)}},xr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Jo(this.parameters),this._parameterMap}toString(){return MI(this)}};function o2(n,e){return Sr(n,e)&&n.every((t,i)=>Ln(t.parameters,e[i].parameters))}function Sr(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function s2(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ne&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ne&&(t=t.concat(e(r,i)))}),t}var Ma=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>new wa,providedIn:"root"})}}return n})(),wa=class{parse(e){let t=new dg(e);return new ji(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${pa(e.root,!0)}`,i=u2(e.queryParams),r=typeof e.fragment=="string"?`#${c2(e.fragment)}`:"";return`${t}${i}${r}`}},a2=new wa;function Yu(n){return n.segments.map(e=>MI(e)).join("/")}function pa(n,e){if(!n.hasChildren())return Yu(n);if(e){let t=n.children[ne]?pa(n.children[ne],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ne&&i.push(`${r}:${pa(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=s2(n,(i,r)=>r===ne?[pa(n.children[ne],!1)]:[`${r}:${pa(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ne]!=null?`${Yu(n)}/${t[0]}`:`${Yu(n)}/(${t.join("//")})`}}function AI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wu(n){return AI(n).replace(/%3B/gi,";")}function c2(n){return encodeURI(n)}function ug(n){return AI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ju(n){return decodeURIComponent(n)}function gI(n){return Ju(n.replace(/\+/g,"%20"))}function MI(n){return`${ug(n.path)}${l2(n.parameters)}`}function l2(n){return Object.entries(n).map(([e,t])=>`;${ug(e)}=${ug(t)}`).join("")}function u2(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Wu(t)}=${Wu(r)}`).join("&"):`${Wu(t)}=${Wu(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var d2=/^[^\/()?;#]+/;function rg(n){let e=n.match(d2);return e?e[0]:""}var h2=/^[^\/()?;=#]+/;function f2(n){let e=n.match(h2);return e?e[0]:""}var p2=/^[^=?&#]+/;function m2(n){let e=n.match(p2);return e?e[0]:""}var g2=/^[^&#]+/;function _2(n){let e=n.match(g2);return e?e[0]:""}var dg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ne]=new Te(e,t)),i}parseSegment(){let e=rg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new xr(Ju(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=f2(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=rg(this.remaining);r&&(i=r,this.capture(i))}e[Ju(t)]=Ju(i)}parseQueryParam(e){let t=m2(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=_2(this.remaining);s&&(i=s,this.capture(i))}let r=gI(t),o=gI(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=rg(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new $(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ne]:new Te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function PI(n){return n.segments.length>0?new Te([],{[ne]:n}):n}function RI(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=RI(r);if(i===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Te(n.segments,e);return v2(t)}function v2(n){if(n.numberOfChildren===1&&n.children[ne]){let e=n.children[ne];return new Te(n.segments.concat(e.segments),e.children)}return n}function Zo(n){return n instanceof ji}function y2(n,e,t=null,i=null){let r=NI(n);return OI(r,e,t,i)}function NI(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Te(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=PI(i);return e??r}function OI(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return og(r,r,r,t,i);let o=w2(e);if(o.toRoot())return og(r,r,new Te([],{}),t,i);let s=C2(o,r,n),a=s.processChildren?_a(s.segmentGroup,s.index,o.commands):FI(s.segmentGroup,s.index,o.commands);return og(r,s.segmentGroup,a,t,i)}function Zu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ca(n){return typeof n=="object"&&n!=null&&n.outlets}function og(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=kI(n,e,t);let a=PI(RI(s));return new ji(a,o,r)}function kI(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=kI(o,e,t)}),new Te(n.segments,i)}var Xu=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Zu(i[0]))throw new $(4003,!1);let r=i.find(Ca);if(r&&r!==II(i))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function w2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Xu(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Xu(t,e,i)}var Qo=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function C2(n,e,t){if(n.isAbsolute)return new Qo(e,!0,0);if(!t)return new Qo(e,!1,NaN);if(t.parent===null)return new Qo(t,!0,0);let i=Zu(n.commands[0])?0:1,r=t.segments.length-1+i;return b2(t,r,n.numberOfDoubleDots)}function b2(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $(4005,!1);r=i.segments.length}return new Qo(i,!1,r-o)}function E2(n){return Ca(n[0])?n[0].outlets:{[ne]:n}}function FI(n,e,t){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return _a(n,e,t);let i=I2(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Te(n.segments.slice(0,i.pathIndex),{});return o.children[ne]=new Te(n.segments.slice(i.pathIndex),n.children),_a(o,0,r)}else return i.match&&r.length===0?new Te(n.segments,{}):i.match&&!n.hasChildren()?hg(n,e,t):i.match?_a(n,0,r):hg(n,e,t)}function _a(n,e,t){if(t.length===0)return new Te(n.segments,{});{let i=E2(t),r={};if(Object.keys(i).some(o=>o!==ne)&&n.children[ne]&&n.numberOfChildren===1&&n.children[ne].segments.length===0){let o=_a(n.children[ne],e,t);return new Te(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=FI(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Te(n.segments,r)}}function I2(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(Ca(a))break;let c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!vI(c,l,s))return o;i+=2}else{if(!vI(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function hg(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Ca(o)){let c=T2(o.outlets);return new Te(i,c)}if(r===0&&Zu(t[0])){let c=n.segments[e];i.push(new xr(c.path,_I(t[0]))),r++;continue}let s=Ca(o)?o.outlets[ne]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Zu(a)?(i.push(new xr(s,_I(a))),r+=2):(i.push(new xr(s,{})),r++)}return new Te(i,{})}function T2(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=hg(new Te([],{}),0,i))}),e}function _I(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function vI(n,e,t){return n==t.path&&Ln(e,t.parameters)}var va="imperative",et=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(et||{}),cn=class{constructor(e,t){this.id=e,this.url=t}},Xo=class extends cn{constructor(e,t,i="imperative",r=null){super(e,t),this.type=et.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ui=class extends cn{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(zt||{}),ed=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ed||{}),Ui=class extends cn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bi=class extends cn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=et.NavigationSkipped}},ba=class extends cn{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},td=class extends cn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class extends cn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pg=class extends cn{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mg=class extends cn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gg=class extends cn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vg=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cg=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bg=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nd=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=et.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ea=class{},Ia=class{constructor(e){this.url=e}};var Eg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pa,this.attachRef=null}},Pa=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Eg,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),id=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ig(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Ig(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Tg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Tg(e,this._root).map(t=>t.value)}};function Ig(n,e){if(n===e.value)return e;for(let t of e.children){let i=Ig(n,t);if(i)return i}return null}function Tg(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Tg(n,t);if(i.length)return i.unshift(e),i}return[]}var Gt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ko(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var rd=class extends id{constructor(e,t){super(e),this.snapshot=t,kg(this,e)}toString(){return this.snapshot.toString()}};function VI(n){let e=D2(n),t=new ot([new xr("",{})]),i=new ot({}),r=new ot({}),o=new ot({}),s=new ot(""),a=new di(t,i,o,s,r,ne,n,e.root);return a.snapshot=e.root,new rd(new Gt(a,[]),e)}function D2(n){let e={},t={},i={},r="",o=new Ta([],e,i,r,t,ne,n,null,{});return new od("",new Gt(o,[]))}var di=class{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[Aa]))??H(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Jo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Jo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Og(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:M(M({},e.params),n.params),data:M(M({},e.data),n.data),resolve:M(M(M(M({},n.data),e.data),r?.data),n._resolvedData)}:i={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},r&&jI(r)&&(i.resolve[Aa]=r.title),i}var Ta=class{get title(){return this.data?.[Aa]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},od=class extends id{constructor(e,t){super(t),this.url=e,kg(this,t)}toString(){return LI(this._root)}};function kg(n,e){e.value._routerState=n,e.children.forEach(t=>kg(n,t))}function LI(n){let e=n.children.length>0?` { ${n.children.map(LI).join(", ")} } `:"";return`${n.value}${e}`}function sg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ln(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ln(e.params,t.params)||n.paramsSubject.next(t.params),t2(e.url,t.url)||n.urlSubject.next(t.url),Ln(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Dg(n,e){let t=Ln(n.params,e.params)&&o2(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Dg(n.parent,e.parent))}function jI(n){return typeof n.title=="string"||n.title===null}var Fg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=N(Pa),this.location=N(No),this.changeDetector=N(br),this.environmentInjector=N(ht),this.inputBinder=N(ld,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new xg(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Pe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[oi]})}}return n})(),xg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===di?this.route:e===Pa?this.childContexts:this.parent.get(e,t)}},ld=new U(""),yI=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Vs([i.queryParams,i.params,i.data]).pipe(Mt(([o,s,a],c)=>(a=M(M(M({},o),s),a),c===0?H(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=Gb(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function x2(n,e,t){let i=Da(n,e._root,t?t._root:void 0);return new rd(i,e)}function Da(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=S2(n,e,t);return new Gt(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Da(n,a)),s}}let i=A2(e.value),r=e.children.map(o=>Da(n,o));return new Gt(i,r)}}function S2(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Da(n,i,r);return Da(n,i)})}function A2(n){return new di(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}var UI="ngNavigationCancelingError";function BI(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=$I(!1,zt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function $I(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[UI]=!0,t.cancellationCode=e,t}function M2(n){return qI(n)&&Zo(n.url)}function qI(n){return!!n&&n[UI]}var P2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ai({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ni],decls:1,vars:0,template:function(i,r){i&1&&b(0,"router-outlet")},dependencies:[Fg],encapsulation:2})}}return n})();function R2(n,e){return n.providers&&!n._injector&&(n._injector=su(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Vg(n){let e=n.children&&n.children.map(Vg),t=e?Y(M({},n),{children:e}):M({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=P2),t}function jn(n){return n.outlet||ne}function N2(n,e){let t=n.filter(i=>jn(i)===e);return t.push(...n.filter(i=>jn(i)!==e)),t}function Ra(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var O2=(n,e,t,i)=>ee(r=>(new Sg(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Sg=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),sg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Ko(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Ko(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new bg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wg(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(sg(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),sg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ra(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},sd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yo=class{constructor(e,t){this.component=e,this.route=t}};function k2(n,e,t){let i=n._root,r=e?e._root:null;return ma(i,r,t,[i.value])}function F2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ts(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!qw(n)?n:e.get(n):i}function ma(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ko(e);return n.children.forEach(s=>{V2(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ya(a,t.getContext(s),r)),r}function V2(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=L2(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new sd(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ma(n,e,a?a.children:null,i,r):ma(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Yo(a.outlet.component,s))}else s&&ya(e,a,r),r.canActivateChecks.push(new sd(i)),o.component?ma(n,null,a?a.children:null,i,r):ma(n,null,t,i,r);return r}function L2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Sr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Sr(n.url,e.url)||!Ln(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dg(n,e)||!Ln(n.queryParams,e.queryParams);case"paramsChange":default:return!Dg(n,e)}}function ya(n,e,t){let i=Ko(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?ya(s,e.children.getContext(o),t):ya(s,null,t):ya(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Yo(e.outlet.component,r)):t.canDeactivateChecks.push(new Yo(null,r)):t.canDeactivateChecks.push(new Yo(null,r))}function Na(n){return typeof n=="function"}function j2(n){return typeof n=="boolean"}function U2(n){return n&&Na(n.canLoad)}function B2(n){return n&&Na(n.canActivate)}function $2(n){return n&&Na(n.canActivateChild)}function q2(n){return n&&Na(n.canDeactivate)}function G2(n){return n&&Na(n.canMatch)}function GI(n){return n instanceof Yn||n?.name==="EmptyError"}var Ku=Symbol("INITIAL_VALUE");function es(){return Mt(n=>Vs(n.map(e=>e.pipe(Zn(1),bf(Ku)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===Ku)return Ku;if(t===!1||t instanceof ji)return t}return!0}),At(e=>e!==Ku),Zn(1)))}function z2(n,e){return ze(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?H(Y(M({},t),{guardsResult:!0})):H2(s,i,r,n).pipe(ze(a=>a&&j2(a)?W2(i,o,n,e):H(a)),ee(a=>Y(M({},t),{guardsResult:a})))})}function H2(n,e,t,i){return ke(n).pipe(ze(r=>Z2(r.component,r.route,t,e,i)),An(r=>r!==!0,!0))}function W2(n,e,t,i){return ke(e).pipe(Jn(r=>po(Q2(r.route.parent,i),K2(r.route,i),J2(n,r.path,t),Y2(n,r.route,t))),An(r=>r!==!0,!0))}function K2(n,e){return n!==null&&e&&e(new Cg(n)),H(!0)}function Q2(n,e){return n!==null&&e&&e(new yg(n)),H(!0)}function Y2(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return H(!0);let r=i.map(o=>al(()=>{let s=Ra(e)??t,a=ts(o,s),c=B2(a)?a.canActivate(e,n):vn(s,()=>a(e,n));return qi(c).pipe(An())}));return H(r).pipe(es())}function J2(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>F2(s)).filter(s=>s!==null).map(s=>al(()=>{let a=s.guards.map(c=>{let l=Ra(s.node)??t,u=ts(c,l),p=$2(u)?u.canActivateChild(i,n):vn(l,()=>u(i,n));return qi(p).pipe(An())});return H(a).pipe(es())}));return H(o).pipe(es())}function Z2(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let c=Ra(e)??r,l=ts(a,c),u=q2(l)?l.canDeactivate(n,e,t,i):vn(c,()=>l(n,e,t,i));return qi(u).pipe(An())});return H(s).pipe(es())}function X2(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return H(!0);let o=r.map(s=>{let a=ts(s,n),c=U2(a)?a.canLoad(e,t):vn(n,()=>a(e,t));return qi(c)});return H(o).pipe(es(),zI(i))}function zI(n){return lf(He(e=>{if(Zo(e))throw BI(n,e)}),ee(e=>e===!0))}function eF(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return H(!0);let o=r.map(s=>{let a=ts(s,n),c=G2(a)?a.canMatch(e,t):vn(n,()=>a(e,t));return qi(c)});return H(o).pipe(es(),zI(i))}var xa=class{constructor(e){this.segmentGroup=e||null}},ad=class extends Error{constructor(e){super(),this.urlTree=e}};function Wo(n){return ho(new xa(n))}function tF(n){return ho(new $(4e3,!1))}function nF(n){return ho($I(!1,zt.GuardRejected))}var Ag=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return H(i);if(r.numberOfChildren>1||!r.children[ne])return tF(e.redirectTo);r=r.children[ne]}}applyRedirectCommands(e,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new ad(r);return r}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new ji(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Te(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new $(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Mg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iF(n,e,t,i,r){let o=Lg(n,e,t);return o.matched?(i=R2(e,i),eF(i,e,t,r).pipe(ee(s=>s===!0?o:M({},Mg)))):H(o)}function Lg(n,e,t){if(e.path==="**")return rF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?M({},Mg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||e2)(t,n,e);if(!r)return M({},Mg);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?M(M({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function rF(n){return{matched:!0,parameters:n.length>0?II(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function wI(n,e,t,i){return t.length>0&&aF(n,t,i)?{segmentGroup:new Te(e,sF(i,new Te(t,n.children))),slicedSegments:[]}:t.length===0&&cF(n,t,i)?{segmentGroup:new Te(n.segments,oF(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:t}}function oF(n,e,t,i){let r={};for(let o of t)if(ud(n,e,o)&&!i[jn(o)]){let s=new Te([],{});r[jn(o)]=s}return M(M({},i),r)}function sF(n,e){let t={};t[ne]=e;for(let i of n)if(i.path===""&&jn(i)!==ne){let r=new Te([],{});t[jn(i)]=r}return t}function aF(n,e,t){return t.some(i=>ud(n,e,i)&&jn(i)!==ne)}function cF(n,e,t){return t.some(i=>ud(n,e,i))}function ud(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function lF(n,e,t,i){return jn(n)!==i&&(i===ne||!ud(e,t,n))?!1:Lg(e,n,t).matched}function uF(n,e,t){return e.length===0&&!n.children[t]}var Pg=class{};function dF(n,e,t,i,r,o,s="emptyOnly"){return new Rg(n,e,t,i,r,s,o).recognize()}var hF=31,Rg=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ag(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=wI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(t=>{let i=new Ta([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),r=new Gt(i,t),o=new od("",r),s=y2(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(wi(i=>{if(i instanceof ad)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof xa?this.noMatchError(i):i}))}inheritParamsAndData(e,t){let i=e.value,r=Og(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ee(o=>o instanceof Gt?[o]:[]))}processChildren(e,t,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return ke(r).pipe(Jn(o=>{let s=i.children[o],a=N2(t,o);return this.processSegmentGroup(e,a,s,o)}),Cf((o,s)=>(o.push(...s),o)),Ci(null),wf(),ze(o=>{if(o===null)return Wo(i);let s=HI(o);return fF(s),H(s)}))}processSegment(e,t,i,r,o,s){return ke(t).pipe(Jn(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(wi(c=>{if(c instanceof xa)return H(null);throw c}))),An(a=>!!a),wi(a=>{if(GI(a))return uF(i,r,o)?H(new Pg):Wo(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return lF(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Wo(r):Wo(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Lg(t,r,o);if(!a)return Wo(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hF&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,p).pipe(ze(v=>this.processSegment(e,i,t,v.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s=iF(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),s.pipe(Mt(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Mt(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:p,parameters:v}=a,y=new Ta(u,v,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,mF(i),jn(i),i.component??i._loadedComponent??null,i,gF(i)),{segmentGroup:D,slicedSegments:x}=wI(t,u,p,c);if(x.length===0&&D.hasChildren())return this.processChildren(l,c,D).pipe(ee(F=>F===null?null:new Gt(y,F)));if(c.length===0&&x.length===0)return H(new Gt(y,[]));let A=jn(i)===o;return this.processSegment(l,c,D,x,A?ne:o,!0).pipe(ee(F=>new Gt(y,F instanceof Gt?[F]:[])))}))):Wo(t)))}getChildConfig(e,t,i){return t.children?H({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?H({routes:t._loadedRoutes,injector:t._loadedInjector}):X2(e,t,i,this.urlSerializer).pipe(ze(r=>r?this.configLoader.loadChildren(e,t).pipe(He(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):nF(t))):H({routes:[],injector:e})}};function fF(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}function pF(n){let e=n.value.routeConfig;return e&&e.path===""}function HI(n){let e=[],t=new Set;for(let i of n){if(!pF(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=HI(i.children);e.push(new Gt(i.value,r))}return e.filter(i=>!t.has(i))}function mF(n){return n.data||{}}function gF(n){return n.resolve||{}}function _F(n,e,t,i,r,o){return ze(s=>dF(n,e,t,i,s.extractedUrl,r,o).pipe(ee(({state:a,tree:c})=>Y(M({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function vF(n,e){return ze(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return H(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of WI(c))s.add(l);let a=0;return ke(s).pipe(Jn(c=>o.has(c)?yF(c,i,n,e):(c.data=Og(c,c.parent,n).resolve,H(void 0))),He(()=>a++),mo(1),ze(c=>a===s.size?H(t):jt))})}function WI(n){let e=n.children.map(t=>WI(t)).flat();return[n,...e]}function yF(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!jI(r)&&(o[Aa]=r.title),wF(o,n,e,i).pipe(ee(s=>(n._resolvedData=s,n.data=Og(n,n.parent,t).resolve,null)))}function wF(n,e,t,i){let r=lg(n);if(r.length===0)return H({});let o={};return ke(r).pipe(ze(s=>CF(n[s],e,t,i).pipe(An(),He(a=>{o[s]=a}))),mo(1),yf(o),wi(s=>GI(s)?jt:ho(s)))}function CF(n,e,t,i){let r=Ra(e)??i,o=ts(n,r),s=o.resolve?o.resolve(e,t):vn(r,()=>o(e,t));return qi(s)}function ag(n){return Mt(e=>{let t=n(e);return t?ke(t).pipe(ee(()=>e)):H(e)})}var KI=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ne);return i}getResolvedTitleForRoute(t){return t.data[Aa]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(bF),providedIn:"root"})}}return n})(),bF=(()=>{class n extends KI{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(B(xE))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Oa=new U("",{providedIn:"root",factory:()=>({})}),Sa=new U(""),jg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(lu)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return H(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=qi(t.loadComponent()).pipe(ee(QI),He(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),cr(()=>{this.componentLoaders.delete(t)})),r=new ao(i,()=>new wt).pipe(so());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return H({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=EF(i,this.compiler,t,this.onLoadEndListener).pipe(cr(()=>{this.childrenLoaders.delete(i)})),s=new ao(o,()=>new wt).pipe(so());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function EF(n,e,t,i){return qi(n.loadChildren()).pipe(ee(QI),ze(r=>r instanceof Ws||Array.isArray(r)?H(r):ke(e.compileModuleAsync(r))),ee(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Sa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Vg),injector:o}}))}function IF(n){return n&&typeof n=="object"&&"default"in n}function QI(n){return IF(n)?n.default:n}var Ug=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(TF),providedIn:"root"})}}return n})(),TF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YI=new U(""),JI=new U("");function DF(n,e,t){let i=n.get(JI),r=n.get(mt);return n.get(Ee).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),xF(n))),{onViewTransitionCreated:c}=i;return c&&vn(n,()=>c({transition:a,from:e,to:t})),s})}function xF(n){return new Promise(e=>{ou(e,{injector:n})})}var Bg=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.transitionAbortSubject=new wt,this.configLoader=N(jg),this.environmentInjector=N(ht),this.urlSerializer=N(Ma),this.rootContexts=N(Pa),this.location=N(Vo),this.inputBindingEnabled=N(ld,{optional:!0})!==null,this.titleStrategy=N(KI),this.options=N(Oa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Ug),this.createViewTransition=N(YI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null;let t=r=>this.events.next(new _g(r)),i=r=>this.events.next(new vg(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Y(M(M({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new ot({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:va,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),ee(o=>Y(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Mt(o=>{let s=!1,a=!1;return H(o).pipe(Mt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",zt.SupersededByNewNavigation),jt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Y(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let p="";return this.events.next(new Bi(c.id,this.urlSerializer.serialize(c.rawUrl),p,ed.IgnoredSameUrlNavigation)),c.resolve(null),jt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return H(c).pipe(Mt(p=>{let v=this.transitions?.getValue();return this.events.next(new Xo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?jt:Promise.resolve(p)}),_F(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),He(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Y(M({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new td(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:v,source:y,restoredState:D,extras:x}=c,A=new Xo(p,this.urlSerializer.serialize(v),y,D);this.events.next(A);let F=VI(this.rootComponentType).snapshot;return this.currentTransition=o=Y(M({},c),{targetSnapshot:F,urlAfterRedirects:v,extras:Y(M({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,H(o)}else{let p="";return this.events.next(new Bi(c.id,this.urlSerializer.serialize(c.extractedUrl),p,ed.IgnoredByUrlHandlingStrategy)),c.resolve(null),jt}}),He(c=>{let l=new fg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ee(c=>(this.currentTransition=o=Y(M({},c),{guards:k2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),z2(this.environmentInjector,c=>this.events.next(c)),He(c=>{if(o.guardsResult=c.guardsResult,Zo(c.guardsResult))throw BI(this.urlSerializer,c.guardsResult);let l=new pg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),At(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",zt.GuardRejected),!1)),ag(c=>{if(c.guards.canActivateChecks.length)return H(c).pipe(He(l=>{let u=new mg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Mt(l=>{let u=!1;return H(l).pipe(vF(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",zt.NoDataFromResolver)}}))}),He(l=>{let u=new gg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),ag(c=>{let l=u=>{let p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(He(v=>{u.component=v}),ee(()=>{})));for(let v of u.children)p.push(...l(v));return p};return Vs(l(c.targetSnapshot.root)).pipe(Ci(null),Zn(1))}),ag(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?ke(u).pipe(ee(()=>o)):H(o)}),ee(c=>{let l=x2(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Y(M({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),He(()=>{this.events.next(new Ea)}),O2(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Zn(1),He({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ui(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ef(this.transitionAbortSubject.pipe(He(c=>{throw c}))),cr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",zt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),wi(c=>{if(a=!0,qI(c))this.events.next(new Ui(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),M2(c)?this.events.next(new Ia(c.url)):o.resolve(!1);else{this.events.next(new ba(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return jt}))}))}cancelNavigationTransition(t,i,r){let o=new Ui(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function SF(n){return n!==va}var AF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(MF),providedIn:"root"})}}return n})(),Ng=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},MF=(()=>{class n extends Ng{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=tn(n)))(r||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:()=>N(PF),providedIn:"root"})}}return n})(),PF=(()=>{class n extends ZI{constructor(){super(...arguments),this.location=N(Vo),this.urlSerializer=N(Ma),this.options=N(Oa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Ug),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ji,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Xo)this.stateMemento=this.createStateMemento();else if(t instanceof Bi)this.rawUrlTree=i.initialUrl;else if(t instanceof td){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof Ea?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Ui&&(t.code===zt.GuardRejected||t.code===zt.NoDataFromResolver)?this.restoreHistory(i):t instanceof ba?this.restoreHistory(i,!0):t instanceof ui&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=M(M({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=M(M({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=tn(n)))(r||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ga=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ga||{});function XI(n,e){n.events.pipe(At(t=>t instanceof ui||t instanceof Ui||t instanceof ba||t instanceof Bi),ee(t=>t instanceof ui||t instanceof Bi?ga.COMPLETE:(t instanceof Ui?t.code===zt.Redirect||t.code===zt.SupersededByNewNavigation:!1)?ga.REDIRECTING:ga.FAILED),At(t=>t!==ga.REDIRECTING),Zn(1)).subscribe(()=>{e()})}function RF(n){throw n}var NF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$i=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(au),this.stateManager=N(ZI),this.options=N(Oa,{optional:!0})||{},this.pendingTasks=N(Oo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(Bg),this.urlSerializer=N(Ma),this.location=N(Vo),this.urlHandlingStrategy=N(Ug),this._events=new wt,this.errorHandler=this.options.errorHandler||RF,this.navigated=!1,this.routeReuseStrategy=N(AF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Sa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(ld,{optional:!0}),this.eventsSubscription=new $e,this.isNgZoneEnabled=N(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ui&&i.code!==zt.Redirect&&i.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ui)this.navigated=!0;else if(i instanceof Ia){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||SF(r.source)};this.scheduleNavigation(s,va,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}FF(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),va,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=M({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Vg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,u=null;switch(a){case"merge":u=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let v=r?r.snapshot:this.routerState.snapshot.root;p=NI(v)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return OI(p,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Zo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,va,null,i)}navigate(t,i={skipLocationChange:!1}){return kF(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=M({},NF):i===!1?r=M({},OF):r=i,Zo(t))return mI(this.currentUrlTree,t,r);let o=this.parseUrl(t);return mI(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,v)=>{a=p,c=v});let u=this.pendingTasks.add();return XI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}function FF(n){return!(n instanceof Ea)&&!(n instanceof Ia)}var cd=class{};var VF=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(At(t=>t instanceof ui),Jn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=su(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ke(r).pipe(fo())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=H(null);let o=r.pipe(ze(s=>s===null?H(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ke([o,s]).pipe(fo())}else return o})}static{this.\u0275fac=function(i){return new(i||n)(B($i),B(lu),B(ht),B(cd),B(jg))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eT=new U(""),LF=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=N(ht),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ui?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bi&&t.code===ed.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof nd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),ou(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new nd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){lb()}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function tT(n,...e){return Po([{provide:Sa,multi:!0,useValue:n},[],{provide:di,useFactory:nT,deps:[$i]},{provide:ea,multi:!0,useFactory:iT},e.map(t=>t.\u0275providers)])}function nT(n){return n.routerState.root}function ka(n,e){return{\u0275kind:n,\u0275providers:e}}function iT(){let n=N(kt);return e=>{let t=n.get(ko);if(e!==t.components[0])return;let i=n.get($i),r=n.get(rT);n.get($g)===1&&i.initialNavigation(),n.get(oT,null,ie.Optional)?.setUpPreloading(),n.get(eT,null,ie.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var rT=new U("",{factory:()=>new wt}),$g=new U("",{providedIn:"root",factory:()=>1});function jF(){return ka(2,[{provide:$g,useValue:0},{provide:cu,multi:!0,deps:[kt],useFactory:e=>{let t=e.get(Xb,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get($i),o=e.get(rT);XI(r,()=>{i(!0)}),e.get(Bg).afterPreactivation=()=>(i(!0),o.closed?H(void 0):o),r.initialNavigation()}))}}])}function UF(){return ka(3,[{provide:cu,multi:!0,useFactory:()=>{let e=N($i);return()=>{e.setUpLocationChangeListener()}}},{provide:$g,useValue:2}])}var oT=new U("");function BF(n){return ka(0,[{provide:oT,useExisting:VF},{provide:cd,useExisting:n}])}function $F(){return ka(8,[yI,{provide:ld,useExisting:yI}])}function qF(n){let e=[{provide:YI,useValue:DF},{provide:JI,useValue:M({skipNextTransition:!!n?.skipInitialTransition},n)}];return ka(9,e)}var CI=new U("ROUTER_FORROOT_GUARD"),GF=[Vo,{provide:Ma,useClass:wa},$i,Pa,{provide:di,useFactory:nT,deps:[$i]},jg,[]],sT=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[GF,[],{provide:Sa,multi:!0,useValue:t},{provide:CI,useFactory:KF,deps:[[$i,new Xt,new Sp]]},{provide:Oa,useValue:i||{}},i?.useHash?HF():WF(),zF(),i?.preloadingStrategy?BF(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?QF(i):[],i?.bindToComponentInputs?$F().\u0275providers:[],i?.enableViewTransitions?qF().\u0275providers:[],YF()]}}static forChild(t){return{ngModule:n,providers:[{provide:Sa,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(B(CI,8))}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=Rt({})}}return n})();function zF(){return{provide:eT,useFactory:()=>{let n=N(lE),e=N(Ee),t=N(Oa),i=N(Bg),r=N(Ma);return t.scrollOffset&&n.setOffset(t.scrollOffset),new LF(r,i,n,e,t)}}}function HF(){return{provide:Er,useClass:tE}}function WF(){return{provide:Er,useClass:Tm}}function KF(n){return"guarded"}function QF(n){return[n.initialNavigation==="disabled"?UF().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jF().\u0275providers:[]]}var bI=new U("");function YF(){return[{provide:bI,useFactory:iT},{provide:ea,multi:!0,useExisting:bI}]}function JF(n,e){if(n&1&&(f(0,"option",12),m(1),h()),n&2){let t=e.$implicit;g("value",t),d(),O(" ",t," ")}}function ZF(n,e){if(n&1&&(f(0,"option",12),m(1),h()),n&2){let t=e.$implicit;g("value",t),d(),O(" ",t," ")}}function XF(n,e){if(n&1){let t=R();f(0,"div",19)(1,"div",20)(2,"div",21)(3,"h6",22),b(4,"i",23),m(5,"Nouvelle Comp\xE9tition "),h()(),f(6,"div",24)(7,"div",25)(8,"div",26)(9,"label",27),m(10,"Nom de la comp\xE9tition *"),h(),f(11,"input",28),me("ngModelChange",function(r){w(t);let o=_();return _e(o.competitionForm.name,r)||(o.competitionForm.name=r),C(r)}),h()(),f(12,"div",26)(13,"label",29),m(14,"Type"),h(),f(15,"select",30),me("ngModelChange",function(r){w(t);let o=_();return _e(o.competitionForm.type,r)||(o.competitionForm.type=r),C(r)}),T(16,ZF,2,2,"option",13),h()(),f(17,"div",26)(18,"label",31),m(19,"Saison (lecture seule)"),h(),f(20,"input",32),me("ngModelChange",function(r){w(t);let o=_();return _e(o.competitionForm.season,r)||(o.competitionForm.season=r),C(r)}),h()()(),f(21,"div",33)(22,"label",34),m(23,"Description"),h(),f(24,"textarea",35),me("ngModelChange",function(r){w(t);let o=_();return _e(o.competitionForm.description,r)||(o.competitionForm.description=r),C(r)}),h()(),f(25,"div",36)(26,"button",37),I("click",function(){w(t);let r=_();return C(r.submitForm())}),b(27,"i",38),m(28,"Cr\xE9er "),h(),f(29,"button",17),I("click",function(){w(t);let r=_();return C(r.cancelForm())}),b(30,"i",18),m(31,"Annuler "),h()()()()()}if(n&2){let t=_();d(11),pe("ngModel",t.competitionForm.name),d(4),pe("ngModel",t.competitionForm.type),d(),g("ngForOf",t.competitionTypes),d(4),pe("ngModel",t.competitionForm.season),d(4),pe("ngModel",t.competitionForm.description)}}function eV(n,e){if(n&1&&(f(0,"option",12),m(1),h()),n&2){let t=e.$implicit;g("value",t),d(),O(" ",t," ")}}function tV(n,e){if(n&1){let t=R();f(0,"div",19)(1,"div",20)(2,"div",39)(3,"h6",22),b(4,"i",40),m(5,"Modifier la Comp\xE9tition "),h()(),f(6,"div",24)(7,"div",25)(8,"div",26)(9,"label",41),m(10,"Nom de la comp\xE9tition *"),h(),f(11,"input",42),me("ngModelChange",function(r){w(t);let o=_();return _e(o.competitionForm.name,r)||(o.competitionForm.name=r),C(r)}),h()(),f(12,"div",26)(13,"label",43),m(14,"Type"),h(),f(15,"select",44),me("ngModelChange",function(r){w(t);let o=_();return _e(o.competitionForm.type,r)||(o.competitionForm.type=r),C(r)}),T(16,eV,2,2,"option",13),h()(),f(17,"div",26)(18,"label",45),m(19,"Saison (lecture seule)"),h(),f(20,"input",46),me("ngModelChange",function(r){w(t);let o=_();return _e(o.competitionForm.season,r)||(o.competitionForm.season=r),C(r)}),h()()(),f(21,"div",33)(22,"label",47),m(23,"Description"),h(),f(24,"textarea",48),me("ngModelChange",function(r){w(t);let o=_();return _e(o.competitionForm.description,r)||(o.competitionForm.description=r),C(r)}),h()(),f(25,"div",36)(26,"button",49),I("click",function(){w(t);let r=_();return C(r.submitForm())}),b(27,"i",38),m(28,"Mettre \xE0 jour "),h(),f(29,"button",17),I("click",function(){w(t);let r=_();return C(r.cancelForm())}),b(30,"i",18),m(31,"Annuler "),h()()()()()}if(n&2){let t=_();d(11),pe("ngModel",t.competitionForm.name),d(4),pe("ngModel",t.competitionForm.type),d(),g("ngForOf",t.competitionTypes),d(4),pe("ngModel",t.competitionForm.season),d(4),pe("ngModel",t.competitionForm.description)}}function nV(n,e){if(n&1&&(f(0,"span",74),b(1,"i",75),m(2),h()),n&2){let t=_(2).$implicit,i=_(2);d(2),O("",i.getSuggestedSeason(t)," ")}}function iV(n,e){if(n&1&&(f(0,"span",71),b(1,"i",72),m(2,"Sans saison "),T(3,nV,3,1,"span",73),h()),n&2){let t=_().$implicit,i=_(2);d(3),g("ngIf",i.getSuggestedSeason(t))}}function rV(n,e){if(n&1){let t=R();f(0,"button",76),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.openSeasonAssignment(r))}),b(1,"i",77),h()}}function oV(n,e){if(n&1){let t=R();f(0,"button",78),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.deleteCompetition(r))}),b(1,"i",79),h()}}function sV(n,e){if(n&1){let t=R();f(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54)(4,"input",63),I("change",function(){let r=w(t).$implicit,o=_(2);return C(o.selectCompetition(r))}),h(),f(5,"label",64)(6,"span",65),m(7),h(),T(8,iV,4,1,"span",66),h()()(),f(9,"div",58),T(10,rV,2,0,"button",67),f(11,"button",68),I("click",function(){let r=w(t).$implicit,o=_(2);return C(o.openEditForm(r))}),b(12,"i",69),h(),T(13,oV,2,0,"button",70),h()()()}if(n&2){let t=e.$implicit,i=_(2);d(4),g("value",t)("checked",i.selectedCompetition===t)("id","comp-"+t),d(3),te(t),d(),g("ngIf",i.isCompetitionWithoutSeason(t)),d(2),g("ngIf",i.isCompetitionWithoutSeason(t)),d(3),g("ngIf",i.showDeleteButtons)}}function aV(n,e){n&1&&(f(0,"div",80)(1,"div",81),b(2,"i",82),f(3,"p"),m(4,"Aucune comp\xE9tition trouv\xE9e pour cette saison."),h(),f(5,"p"),m(6,"Cr\xE9ez votre premi\xE8re comp\xE9tition !"),h()()())}function cV(n,e){if(n&1){let t=R();f(0,"button",83),I("click",function(){w(t);let r=_(2);return C(r.openAddForm())}),b(1,"i",23),m(2," Ajouter une nouvelle comp\xE9tition "),h()}}function lV(n,e){if(n&1){let t=R();f(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53)(4,"div",54)(5,"input",55),I("change",function(){w(t);let r=_();return C(r.selectCompetition(""))}),h(),f(6,"label",56)(7,"span",57),m(8),h()()()(),b(9,"div",58),h()(),T(10,sV,14,7,"div",59)(11,aV,7,0,"div",60),f(12,"div",61),T(13,cV,3,0,"button",62),h()()}if(n&2){let t=_();d(5),g("value","")("checked",t.selectedCompetition===""||t.selectedCompetition===t.selectedSeason),d(3),O("Toutes les comp\xE9titions de ",t.selectedSeason||"toutes les saisons",""),d(2),g("ngForOf",t.competitions),d(),g("ngIf",t.competitions.length===0),d(2),g("ngIf",!t.showAddForm&&!t.showEditForm)}}var cT=(()=>{class n{constructor(){this.competitions=[],this.selectedSeason="",this.selectedCompetition="",this.isCompetitionWithoutSeason=()=>!1,this.getSuggestedSeason=()=>null,this.showDeleteButtons=!1,this.availableSeasons=[],this.competitionSelected=new Fe,this.competitionAdded=new Fe,this.competitionUpdated=new Fe,this.competitionDeleted=new Fe,this.assignSeason=new Fe,this.closeModal=new Fe,this.seasonChanged=new Fe,this.showAddForm=!1,this.showEditForm=!1,this.editingCompetition=null,this.competitionForm={name:"",description:"",season:"",type:""},this.competitionTypes=["Championnat","Coupe","Tournoi","Match amical","Playoff","Autre"]}ngOnInit(){(!this.availableSeasons||this.availableSeasons.length===0)&&(this.availableSeasons=this.generateSeasons()),this.competitionForm.season=this.selectedSeason}generateSeasons(){let t=new Date().getFullYear(),i=[];for(let r=-5;r<=2;r++){let o=t+r;o>=2020&&i.push(`${o}-${o+1}`)}return i}selectCompetition(t){this.selectedCompetition=t,t===""?this.competitionSelected.emit(this.selectedSeason):this.competitionSelected.emit(t),this.closeModal.emit()}openAddForm(){this.showAddForm=!0,this.showEditForm=!1,this.resetForm()}openEditForm(t){this.editingCompetition={name:t,season:this.selectedSeason},this.competitionForm=M({},this.editingCompetition),this.showEditForm=!0,this.showAddForm=!1}cancelForm(){this.showAddForm=!1,this.showEditForm=!1,this.resetForm()}submitForm(){this.competitionForm.name.trim()&&(this.showAddForm?this.competitionAdded.emit(Y(M({},this.competitionForm),{createdAt:new Date,updatedAt:new Date})):this.showEditForm&&this.editingCompetition&&this.competitionUpdated.emit({oldName:this.editingCompetition.name,newCompetition:Y(M({},this.competitionForm),{id:this.editingCompetition.id,updatedAt:new Date})}),this.cancelForm())}deleteCompetition(t){confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la comp\xE9tition "${t}" ?

Attention : Cette action supprimera \xE9galement tous les matchs associ\xE9s.`)&&this.competitionDeleted.emit(t)}assignSeasonToCompetition(t,i){this.assignSeason.emit({competition:t,season:i})}openSeasonAssignment(t){let i=this.getSuggestedSeason(t),r=`Attribuer une saison \xE0 la comp\xE9tition "${t}"

`;i&&(r+=`Saison sugg\xE9r\xE9e (bas\xE9e sur le premier match) : ${i}

`),r+=`Saisons disponibles :
${this.availableSeasons.join(`
`)}

Entrez la saison souhait\xE9e :`;let o=prompt(r);o&&this.availableSeasons.includes(o)?this.assignSeasonToCompetition(t,o):o&&alert("Saison invalide. Veuillez choisir une saison de la liste.")}resetForm(){this.competitionForm={name:"",description:"",season:this.selectedSeason,type:"Championnat"},this.editingCompetition=null}close(){this.closeModal.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ai({type:n,selectors:[["app-competition-filter-modal"]],inputs:{competitions:"competitions",selectedSeason:"selectedSeason",selectedCompetition:"selectedCompetition",isCompetitionWithoutSeason:"isCompetitionWithoutSeason",getSuggestedSeason:"getSuggestedSeason",showDeleteButtons:"showDeleteButtons",availableSeasons:"availableSeasons"},outputs:{competitionSelected:"competitionSelected",competitionAdded:"competitionAdded",competitionUpdated:"competitionUpdated",competitionDeleted:"competitionDeleted",assignSeason:"assignSeason",closeModal:"closeModal",seasonChanged:"seasonChanged"},standalone:!0,features:[Ni],decls:25,vars:6,consts:[[1,"modal-overlay"],[1,"competition-modal"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-trophy","me-2"],["type","button","aria-label","Fermer",1,"close-button",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"season-selector","mb-4","d-flex","align-items-center"],["for","seasonSelect",1,"form-label","fw-bold","mb-0","me-3"],[1,"fas","fa-calendar-alt","me-2"],["id","seasonSelect",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","competition-form mb-4",4,"ngIf"],["class","competitions-list",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],[1,"competition-form","mb-4"],[1,"card"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"fas","fa-plus","me-2"],[1,"card-body"],[1,"row"],[1,"col-md-6","mb-3"],["for","compName",1,"form-label"],["type","text","id","compName","placeholder","Ex: Ligue 1, Coupe de France...",1,"form-control",3,"ngModelChange","ngModel"],["for","compType",1,"form-label"],["id","compType",1,"form-select",3,"ngModelChange","ngModel"],["for","compSeason",1,"form-label"],["type","text","id","compSeason","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],["for","compDescription",1,"form-label"],["id","compDescription","rows","2","placeholder","Description optionnelle de la comp\xE9tition...",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-save","me-2"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-edit","me-2"],["for","editCompName",1,"form-label"],["type","text","id","editCompName","placeholder","Ex: Ligue 1, Coupe de France...",1,"form-control",3,"ngModelChange","ngModel"],["for","editCompType",1,"form-label"],["id","editCompType",1,"form-select",3,"ngModelChange","ngModel"],["for","editCompSeason",1,"form-label"],["type","text","id","editCompSeason","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","editCompDescription",1,"form-label"],["id","editCompDescription","rows","2","placeholder","Description optionnelle de la comp\xE9tition...",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"competitions-list"],[1,"competition-item","mb-2"],[1,"competition-card"],[1,"competition-info"],[1,"form-check"],["type","radio","id","allCompetitions",1,"form-check-input",3,"change","value","checked"],["for","allCompetitions",1,"form-check-label"],[1,"badge","bg-secondary"],[1,"competition-actions"],["class","competition-item mb-2",4,"ngFor","ngForOf"],["class","no-competitions",4,"ngIf"],[1,"add-competition-section","mt-4"],["type","button","class","btn btn-success w-100",3,"click",4,"ngIf"],["type","radio",1,"form-check-input",3,"change","value","checked","id"],["for","'comp-' + competition",1,"form-check-label"],[1,"badge","competition-badge"],["class","badge bg-warning ms-2",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-warning","title","Attribuer une saison",3,"click",4,"ngIf"],["type","button","title","Modifier la comp\xE9tition",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["type","button","class","btn btn-sm btn-outline-danger","title","Supprimer la comp\xE9tition",3,"click",4,"ngIf"],[1,"badge","bg-warning","ms-2"],[1,"fas","fa-exclamation-triangle","me-1"],["class","badge bg-info ms-1",4,"ngIf"],[1,"badge","bg-info","ms-1"],[1,"fas","fa-lightbulb","me-1"],["type","button","title","Attribuer une saison",1,"btn","btn-sm","btn-outline-warning",3,"click"],[1,"fas","fa-calendar-plus"],["type","button","title","Supprimer la comp\xE9tition",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[1,"no-competitions"],[1,"text-center","text-muted","py-4"],[1,"fas","fa-trophy","fa-3x","mb-3"],["type","button",1,"btn","btn-success","w-100",3,"click"]],template:function(i,r){i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),b(4,"i",4),m(5," Gestion des Comp\xE9titions "),h(),f(6,"button",5),I("click",function(){return r.close()}),f(7,"span",6),m(8,"\xD7"),h()()(),f(9,"div",7)(10,"div",8)(11,"label",9),b(12,"i",10),m(13,"Saison : "),h(),f(14,"select",11),me("ngModelChange",function(s){return _e(r.selectedSeason,s)||(r.selectedSeason=s),s}),I("ngModelChange",function(s){return r.seasonChanged.emit(s)}),f(15,"option",12),m(16,"Toutes les saisons"),h(),T(17,JF,2,2,"option",13),h()(),T(18,XF,32,5,"div",14)(19,tV,32,5,"div",14)(20,lV,14,6,"div",15),h(),f(21,"div",16)(22,"button",17),I("click",function(){return r.close()}),b(23,"i",18),m(24,"Fermer "),h()()()()),i&2&&(d(14),pe("ngModel",r.selectedSeason),d(),g("value",""),d(2),g("ngForOf",r.availableSeasons),d(),g("ngIf",r.showAddForm),d(),g("ngIf",r.showEditForm),d(),g("ngIf",!r.showAddForm&&!r.showEditForm))},dependencies:[Ir,Lo,jo,Hu,Gu,zu,Go,Ho,$u,fa],styles:[".competition-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:800px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.5rem;border-bottom:none}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.season-selector[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}.season-selector[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#495057}.season-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #dee2e6;border-radius:8px;padding:.5rem;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.season-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.add-competition-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:1rem;font-size:1.1rem;font-weight:600;border-radius:10px;transition:all .3s ease;box-shadow:0 4px 15px #28a7454d}.add-competition-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #28a74566}.competition-form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 4px 20px #0000001a;overflow:hidden}.competition-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:none}.competition-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-weight:600}.competition-form[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.competition-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin-bottom:.5rem}.competition-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .competition-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:8px;padding:.75rem;transition:border-color .3s ease,box-shadow .3s ease}.competition-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .competition-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.competition-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;border-radius:8px;transition:all .3s ease}.competition-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.competitions-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.competition-item[_ngcontent-%COMP%]{transition:all .3s ease}.competition-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.competition-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.competition-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0}.competition-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.competition-badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem;border-radius:20px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}.badge.bg-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#495057)!important}.form-check[_ngcontent-%COMP%]{margin-bottom:0}.form-check-input[_ngcontent-%COMP%]{width:1.2em;height:1.2em;margin-top:.1em;cursor:pointer}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#667eea;border-color:#667eea}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem;font-weight:500}.no-competitions[_ngcontent-%COMP%]{padding:2rem}.no-competitions[_ngcontent-%COMP%]   .fa-trophy[_ngcontent-%COMP%]{color:#dee2e6}.no-competitions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1.1rem}@media (max-width: 768px){.competition-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.modal-body[_ngcontent-%COMP%], .competition-form[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.competition-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;text-align:left;min-height:55px}.competition-actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-end;gap:.5rem;flex-shrink:0}.competition-info[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.competition-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}@media (max-width: 480px){.competition-card[_ngcontent-%COMP%]{flex-direction:row;text-align:left;min-height:50px;padding:.75rem}.competition-actions[_ngcontent-%COMP%]{justify-content:flex-end;width:auto;gap:.4rem}.competition-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.competition-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.competition-form[_ngcontent-%COMP%], .competitions-list[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1040;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]})}}return n})();var uT=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},uV=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0,u=o>>2,p=(o&3)<<4|a>>4,v=(a&15)<<2|l>>6,y=l&63;c||(y=64,s||(v=64)),i.push(t[u],t[p],t[v],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let l=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||l==null||p==null)throw new Gg;let v=o<<2|a>>4;if(i.push(v),l!==64){let y=a<<4&240|l>>2;if(i.push(y),p!==64){let D=l<<6&192|p;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Gg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dV=function(n){let e=uT(n);return dT.encodeByteArray(e,!0)},Fa=function(n){return dV(n).replace(/\./g,"")},Hg=function(n){try{return dT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var fV=()=>hV().__FIREBASE_DEFAULTS__,pV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Hg(n[1]);return e&&JSON.parse(e)},Wg=()=>{try{return fV()||pV()||mV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hT=n=>{var e,t;return(t=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fT=n=>{let e=hT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Kg=()=>{var n;return(n=Wg())===null||n===void 0?void 0:n.config},pT=n=>{var e;return(e=Wg())===null||e===void 0?void 0:e[`_${n}`]};var dd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function mT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fa(JSON.stringify(t)),Fa(JSON.stringify(s)),""].join(".")}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function _T(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qg(){try{return typeof indexedDB=="object"}catch{return!1}}function yT(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var gV="FirebaseError",ln=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=gV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hi.prototype.create)}},hi=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?_V(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new ln(r,a,i)}};function _V(n,e){return n.replace(vV,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var vV=/\{\$([^}]+)}/g;function ns(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(lT(o)&&lT(s)){if(!ns(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function lT(n){return n!==null&&typeof n=="object"}function Yg(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wT(n,e){let t=new zg(n,e);return t.subscribe.bind(t)}var zg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");yV(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=qg),r.error===void 0&&(r.error=qg),r.complete===void 0&&(r.complete=qg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function yV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function qg(){}var OK=4*60*60*1e3;function Tt(n){return n&&n._delegate?n._delegate:n}var dn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ar="[DEFAULT]";var Jg=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new dd;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CV(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wV(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wV(n){return n===Ar?void 0:n}function CV(n){return n.instantiationMode==="EAGER"}var hd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Jg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var bV=[],ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ce||{}),EV={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},IV=ce.INFO,TV={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},DV=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=TV[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gi=class{constructor(e){this.name=e,this._logLevel=IV,this._logHandler=DV,this._userLogHandler=null,bV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var xV=(n,e)=>e.some(t=>n instanceof t),CT,bT;function SV(){return CT||(CT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AV(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ET=new WeakMap,Xg=new WeakMap,IT=new WeakMap,Zg=new WeakMap,t_=new WeakMap;function MV(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Un(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&ET.set(t,n)}).catch(()=>{}),t_.set(e,n),e}function PV(n){if(Xg.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Xg.set(n,e)}var e_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Un(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function TT(n){e_=n(e_)}function RV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(fd(this),e,...t);return IT.set(i,e.sort?e.sort():[e]),Un(i)}:AV().includes(n)?function(...e){return n.apply(fd(this),e),Un(ET.get(this))}:function(...e){return Un(n.apply(fd(this),e))}}function NV(n){return typeof n=="function"?RV(n):(n instanceof IDBTransaction&&PV(n),xV(n,SV())?new Proxy(n,e_):n)}function Un(n){if(n instanceof IDBRequest)return MV(n);if(Zg.has(n))return Zg.get(n);let e=NV(n);return e!==n&&(Zg.set(n,e),t_.set(e,n)),e}var fd=n=>t_.get(n);function xT(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=Un(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Un(s.result),c.oldVersion,c.newVersion,Un(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var OV=["get","getKey","getAll","getAllKeys","count"],kV=["put","add","delete","clear"],n_=new Map;function DT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(n_.get(e))return n_.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=kV.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||OV.includes(t)))return;let o=function(s,...a){return E(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),r&&c.done]))[0]})};return n_.set(e,o),o}TT(n=>Y(M({},n),{get:(e,t,i)=>DT(e,t)||n.get(e,t,i),has:(e,t)=>!!DT(e,t)||n.has(e,t)}));var r_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FV(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function FV(n){let e=n.getComponent();return e?.type==="VERSION"}var o_="@firebase/app",ST="0.9.24";var Mr=new Gi("@firebase/app"),VV="@firebase/app-compat",LV="@firebase/analytics-compat",jV="@firebase/analytics",UV="@firebase/app-check-compat",BV="@firebase/app-check",$V="@firebase/auth",qV="@firebase/auth-compat",GV="@firebase/database",zV="@firebase/database-compat",HV="@firebase/functions",WV="@firebase/functions-compat",KV="@firebase/installations",QV="@firebase/installations-compat",YV="@firebase/messaging",JV="@firebase/messaging-compat",ZV="@firebase/performance",XV="@firebase/performance-compat",eL="@firebase/remote-config",tL="@firebase/remote-config-compat",nL="@firebase/storage",iL="@firebase/storage-compat",rL="@firebase/firestore",oL="@firebase/firestore-compat",sL="firebase",aL="10.7.0";var s_="[DEFAULT]",cL={[o_]:"fire-core",[VV]:"fire-core-compat",[jV]:"fire-analytics",[LV]:"fire-analytics-compat",[BV]:"fire-app-check",[UV]:"fire-app-check-compat",[$V]:"fire-auth",[qV]:"fire-auth-compat",[GV]:"fire-rtdb",[zV]:"fire-rtdb-compat",[HV]:"fire-fn",[WV]:"fire-fn-compat",[KV]:"fire-iid",[QV]:"fire-iid-compat",[YV]:"fire-fcm",[JV]:"fire-fcm-compat",[ZV]:"fire-perf",[XV]:"fire-perf-compat",[eL]:"fire-rc",[tL]:"fire-rc-compat",[nL]:"fire-gcs",[iL]:"fire-gcs-compat",[rL]:"fire-fst",[oL]:"fire-fst-compat","fire-js":"fire-js",[sL]:"fire-js-all"};var Va=new Map,a_=new Map;function lL(n,e){try{n.container.addComponent(e)}catch(t){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hi(n){let e=n.name;if(a_.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,n);for(let t of Va.values())lL(t,n);return!0}function d_(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}var uL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zi=new hi("app","Firebase",uL);var c_=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}};var is=aL;function h_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:s_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw zi.create("bad-app-name",{appName:String(r)});if(t||(t=Kg()),!t)throw zi.create("no-options");let o=Va.get(r);if(o){if(ns(t,o.options)&&ns(i,o.config))return o;throw zi.create("duplicate-app",{appName:r})}let s=new hd(r);for(let c of a_.values())s.addComponent(c);let a=new c_(t,i,s);return Va.set(r,a),a}function ja(n=s_){let e=Va.get(n);if(!e&&n===s_&&Kg())return h_();if(!e)throw zi.create("no-app",{appName:n});return e}function pd(){return Array.from(Va.values())}function tt(n,e,t){var i;let r=(i=cL[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}Hi(new dn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var dL="firebase-heartbeat-database",hL=1,La="firebase-heartbeat-store",i_=null;function RT(){return i_||(i_=xT(dL,hL,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(La)}}}).catch(n=>{throw zi.create("idb-open",{originalErrorMessage:n.message})})),i_}function fL(n){return E(this,null,function*(){try{return yield(yield RT()).transaction(La).objectStore(La).get(NT(n))}catch(e){if(e instanceof ln)Mr.warn(e.message);else{let t=zi.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(t.message)}}})}function AT(n,e){return E(this,null,function*(){try{let i=(yield RT()).transaction(La,"readwrite");yield i.objectStore(La).put(e,NT(n)),yield i.done}catch(t){if(t instanceof ln)Mr.warn(t.message);else{let i=zi.create("idb-set",{originalErrorMessage:t?.message});Mr.warn(i.message)}}})}function NT(n){return`${n.name}!${n.options.appId}`}var pL=1024,mL=30*24*60*60*1e3,l_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new u_(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=MT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=mL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=MT(),{heartbeatsToSend:i,unsentEntries:r}=gL(this._heartbeatsCache.heartbeats),o=Fa(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function MT(){return new Date().toISOString().substring(0,10)}function gL(n,e=pL){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),PT(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),PT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var u_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Qg()?yT().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield fL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return AT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return AT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function PT(n){return Fa(JSON.stringify({version:2,heartbeats:n})).length}function _L(n){Hi(new dn("platform-logger",e=>new r_(e),"PRIVATE")),Hi(new dn("heartbeat",e=>new l_(e),"PRIVATE")),tt(o_,ST,n),tt(o_,ST,"esm2017"),tt("fire-js","")}_L("");var vL="firebase",yL="10.7.0";tt(vL,yL,"app");var os=new ni("ANGULARFIRE2_VERSION");function p_(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ba=(n,e)=>{let t=e?[e]:pd(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Ua=class{constructor(){return Ba(wL)}},wL="app-check";function rs(){}var md=class{zone;delegate;constructor(e,t=mf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},f_=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs)),t.pipe(He({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},$a=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new md(Zone.current)),this.insideAngular=t.run(()=>new md(Zone.current,pf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(B(Ee))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function CL(n){return gd().ngZone.runOutsideAngular(()=>n())}function Pr(n){return gd().ngZone.run(()=>n())}function bL(n){return EL(gd())(n)}function EL(n){return function(t){return t=t.lift(new f_(n.ngZone)),t.pipe(yi(n.outsideAngular),vi(n.insideAngular))}}var IL=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Pr(()=>n.apply(void 0,i))},Ht=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=Pr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs))),i[o]=IL(i[o],t));let r=CL(()=>n.apply(this,i));if(!e)if(r instanceof oe){let o=gd();return r.pipe(yi(o.outsideAngular),vi(o.insideAngular))}else return Pr(()=>r);return r instanceof oe?r.pipe(bL):r instanceof Promise?Pr(()=>new Promise((o,s)=>r.then(a=>Pr(()=>o(a)),a=>Pr(()=>s(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Pr(()=>r)};var Rr=class{constructor(e){return e}},qa=class{constructor(){return pd()}};function TL(n){return n&&n.length===1?n[0]:new Rr(ja())}var m_=new U("angularfire2._apps"),DL={provide:Rr,useFactory:TL,deps:[[new Xt,m_]]},xL={provide:qa,deps:[[new Xt,m_]]};function SL(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Rr(i)}}var AL=(()=>{class n{constructor(t){tt("angularfire",os.full,"core"),tt("angularfire",os.full,"app"),tt("angular",Lb.full,t.toString())}static \u0275fac=function(i){return new(i||n)(B(nn))};static \u0275mod=Nt({type:n});static \u0275inj=Rt({providers:[DL,xL]})}return n})();function OT(n,...e){return{ngModule:AL,providers:[{provide:m_,useFactory:SL(n),multi:!0,deps:[Ee,kt,$a,...e]}]}}var kT=Ht(h_,!0);function $T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qT=$T,GT=new hi("auth","Firebase",$T());var yd=new Gi("@firebase/auth");function PL(n,...e){yd.logLevel<=ce.WARN&&yd.warn(`Auth (${is}): ${n}`,...e)}function vd(n,...e){yd.logLevel<=ce.ERROR&&yd.error(`Auth (${is}): ${n}`,...e)}function FT(n,...e){throw D_(n,...e)}function zT(n,...e){return D_(n,...e)}function RL(n,e,t){let i=Object.assign(Object.assign({},qT()),{[e]:t});return new hi("auth","Firebase",i).create(e,{appName:n.name})}function D_(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return GT.create(n,...e)}function De(n,e,...t){if(!n)throw D_(e,...t)}function Ga(n){let e="INTERNAL ASSERTION FAILED: "+n;throw vd(e),new Error(e)}function wd(n,e){n||Ga(e)}function NL(){return VT()==="http:"||VT()==="https:"}function VT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function OL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NL()||_T()||"connection"in navigator)?navigator.onLine:!0}function kL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Or=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,wd(t>e,"Short delay should be less than long delay!"),this.isMobile=gT()||vT()}get(){return OL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function FL(n,e){wd(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Cd=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ga("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ga("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ga("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var LL=new Or(3e4,6e4);function HT(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Sd(o,s,a,c){return E(this,arguments,function*(n,e,t,i,r={}){return WT(n,r,()=>E(this,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let p=Yg(Object.assign({key:n.config.apiKey},u)).slice(1),v=yield n._getAdditionalHeaders();return v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode),Cd.fetch()(KT(n,n.config.apiHost,t,p),Object.assign({method:e,headers:v,referrerPolicy:"no-referrer"},l))}))})}function WT(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},VL),e);try{let r=new v_(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw _d(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw _d(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw _d(n,"user-disabled",s);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw RL(n,u,l);FT(n,u)}}catch(r){if(r instanceof ln)throw r;FT(n,"network-request-failed",{message:String(r)})}})}function KT(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?FL(n.config,r):`${n.config.apiScheme}://${r}`}var v_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(zT(this.auth,"network-request-failed")),LL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _d(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=zT(n,e,i);return r.customData._tokenResponse=t,r}function jL(n,e){return E(this,null,function*(){return Sd(n,"POST","/v1/accounts:delete",e)})}function UL(n,e){return E(this,null,function*(){return Sd(n,"POST","/v1/accounts:lookup",e)})}function za(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function x_(n,e=!1){return E(this,null,function*(){let t=Tt(n),i=yield t.getIdToken(e),r=QT(i);De(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:za(g_(r.auth_time)),issuedAtTime:za(g_(r.iat)),expirationTime:za(g_(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function g_(n){return Number(n)*1e3}function QT(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{let r=Hg(t);return r?JSON.parse(r):(vd("Failed to decode base64 JWT payload"),null)}catch(r){return vd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function BL(n){let e=QT(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function y_(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof ln&&$L(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function $L({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var w_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bd=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ed(n){return E(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield y_(n,UL(t,{idToken:i}));De(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GL(o.providerUserInfo):[],a=qL(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,u=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bd(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,p)})}function S_(n){return E(this,null,function*(){let e=Tt(n);yield Ed(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qL(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function GL(n){return n.map(e=>{var{providerId:t}=e,i=gf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function zL(n,e){return E(this,null,function*(){let t=yield WT(n,{},()=>E(this,null,function*(){let i=Yg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=KT(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cd.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function HL(n,e){return E(this,null,function*(){return Sd(n,"POST","/v2/accounts:revokeToken",HT(n,e))})}var Id=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){return E(this,null,function*(){return De(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield zL(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(De(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(De(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(De(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ga("not implemented")}};function Wi(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Td=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=gf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield y_(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return x_(this,e)}reload(){return S_(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ed(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){let e=yield this.getIdToken();return yield y_(this,jL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,u;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,v=(r=t.email)!==null&&r!==void 0?r:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,ue=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:z,emailVerified:be,isAnonymous:Ze,providerData:ge,stsTokenManager:dt}=t;De(z&&dt,e,"internal-error");let Sn=Id.fromJSON(this.name,dt);De(typeof z=="string",e,"internal-error"),Wi(p,e.name),Wi(v,e.name),De(typeof be=="boolean",e,"internal-error"),De(typeof Ze=="boolean",e,"internal-error"),Wi(y,e.name),Wi(D,e.name),Wi(x,e.name),Wi(A,e.name),Wi(F,e.name),Wi(ue,e.name);let ir=new n({uid:z,auth:e,email:v,emailVerified:be,displayName:p,isAnonymous:Ze,photoURL:D,phoneNumber:y,tenantId:x,stsTokenManager:Sn,createdAt:F,lastLoginAt:ue});return ge&&Array.isArray(ge)&&(ir.providerData=ge.map(eo=>Object.assign({},eo))),A&&(ir._redirectEventId=A),ir}static _fromIdTokenResponse(e,t,i=!1){return E(this,null,function*(){let r=new Id;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Ed(o),o})}};var LT=new Map;function Nr(n){wd(n instanceof Function,"Expected a class definition");let e=LT.get(n);return e?(wd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LT.set(n,e),e)}var WL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,i){return E(this,null,function*(){this.storage[t]=i})}_get(t){return E(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),C_=WL;function __(n,e,t){return`firebase:${n}:${e}:${t}`}var Dd=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=__(this.userKey,r.apiKey,o),this.fullPersistenceKey=__("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Td._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return E(this,null,function*(){if(!t.length)return new n(Nr(C_),e,i);let r=(yield Promise.all(t.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Nr(C_),s=__(i,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(s);if(u){let p=Td._fromJSON(e,u);l!==o&&(a=p),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,i))})}};function jT(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XL(e))return"Blackberry";if(e3(e))return"Webos";if(QL(e))return"Safari";if((e.includes("chrome/")||YL(e))&&!e.includes("edge/"))return"Chrome";if(ZL(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function KL(n=un()){return/firefox\//i.test(n)}function QL(n=un()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YL(n=un()){return/crios\//i.test(n)}function JL(n=un()){return/iemobile/i.test(n)}function ZL(n=un()){return/android/i.test(n)}function XL(n=un()){return/blackberry/i.test(n)}function e3(n=un()){return/webos/i.test(n)}function YT(n,e=[]){let t;switch(n){case"Browser":t=jT(un());break;case"Worker":t=`${jT(un())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${is}/${i}`}var b_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function t3(t){return E(this,arguments,function*(n,e={}){return Sd(n,"GET","/v2/passwordPolicy",HT(n,e))})}var n3=6,E_=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:n3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var I_=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xd(this),this.idTokenSubscription=new xd(this),this.beforeStateQueue=new b_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Dd.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Ed(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=kL()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){let t=e?Tt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Nr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield t3(this),t=new E_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield HL(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Nr(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=yield Dd.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return E(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&PL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function i3(n){return Tt(n)}var xd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wT(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function r3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function o3(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Nr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}var SQ=r3("rcb"),AQ=new Or(3e4,6e4);var MQ=new Or(2e3,1e4);var PQ=10*60*1e3;var RQ=new Or(3e4,6e4);var NQ=new Or(5e3,15e3);var OQ=encodeURIComponent("fac");var UT="@firebase/auth",BT="1.5.0";var T_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function s3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function a3(n){Hi(new dn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;De(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(n)},l=new I_(i,r,o,c);return o3(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Hi(new dn("auth-internal",e=>{let t=i3(e.getProvider("auth").getImmediate());return(i=>new T_(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(UT,BT,s3(n)),tt(UT,BT,"esm2017")}var c3=5*60,kQ=pT("authIdTokenMaxAge")||c3;a3("Browser");var aj="auth";var Ad=class{constructor(){return Ba(aj)}};var cj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},En={},k,Y_=Y_||{},Q=cj||self;function qd(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function oc(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function lj(n){return Object.prototype.hasOwnProperty.call(n,A_)&&n[A_]||(n[A_]=++uj)}var A_="closure_uid_"+(1e9*Math.random()>>>0),uj=0;function dj(n,e,t){return n.call.apply(n.bind,arguments)}function hj(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function gt(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt=dj:gt=hj,gt.apply(null,arguments)}function Md(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function it(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Ki(){this.s=this.s,this.o=this.o}var fj=0;Ki.prototype.s=!1;Ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),fj!=0)&&lj(this)};Ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var l1=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function J_(n){let e=n.length;if(0<e){let t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function JT(n,e){for(let t=1;t<arguments.length;t++){let i=arguments[t];if(qd(i)){let r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function _t(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var pj=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{let t=()=>{};Q.addEventListener("test",t,e),Q.removeEventListener("test",t,e)}catch{}return n}();function Ja(n){return/^[\s\xa0]*$/.test(n)}function Gd(){var n=Q.navigator;return n&&(n=n.userAgent)?n:""}function Bn(n){return Gd().indexOf(n)!=-1}function Z_(n){return Z_[" "](n),n}Z_[" "]=function(){};function mj(n,e){var t=iU;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}var gj=Bn("Opera"),ls=Bn("Trident")||Bn("MSIE"),u1=Bn("Edge"),O_=u1||ls,d1=Bn("Gecko")&&!(Gd().toLowerCase().indexOf("webkit")!=-1&&!Bn("Edge"))&&!(Bn("Trident")||Bn("MSIE"))&&!Bn("Edge"),_j=Gd().toLowerCase().indexOf("webkit")!=-1&&!Bn("Edge");function h1(){var n=Q.document;return n?n.documentMode:void 0}var k_;e:{if(Pd="",Rd=function(){var n=Gd();if(d1)return/rv:([^\);]+)(\)|;)/.exec(n);if(u1)return/Edge\/([\d\.]+)/.exec(n);if(ls)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(_j)return/WebKit\/(\S+)/.exec(n);if(gj)return/(?:Version)[ \/]?(\S+)/.exec(n)}(),Rd&&(Pd=Rd?Rd[1]:""),ls&&(Nd=h1(),Nd!=null&&Nd>parseFloat(Pd))){k_=String(Nd);break e}k_=Pd}var Pd,Rd,Nd,F_;Q.document&&ls?(M_=h1(),F_=M_||parseInt(k_,10)||void 0):F_=void 0;var M_,vj=F_;function Za(n,e){if(_t.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(d1){e:{try{Z_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:yj[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Za.$.h.call(this)}}it(Za,_t);var yj={2:"touch",3:"pen",4:"mouse"};Za.prototype.h=function(){Za.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sc="closure_listenable_"+(1e6*Math.random()|0),wj=0;function Cj(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++wj,this.fa=this.ia=!1}function zd(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function X_(n,e,t){for(let i in n)e.call(t,n[i],i,n)}function bj(n,e){for(let t in n)e.call(void 0,n[t],t,n)}function f1(n){let e={};for(let t in n)e[t]=n[t];return e}var ZT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p1(n,e){let t,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(t in i)n[t]=i[t];for(let o=0;o<ZT.length;o++)t=ZT[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Hd(n){this.src=n,this.g={},this.h=0}Hd.prototype.add=function(n,e,t,i,r){var o=n.toString();n=this.g[o],n||(n=this.g[o]=[],this.h++);var s=L_(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):(e=new Cj(e,this.src,o,!!i,r),e.ia=t,n.push(e)),e};function V_(n,e){var t=e.type;if(t in n.g){var i=n.g[t],r=l1(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(zd(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function L_(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}var e0="closure_lm_"+(1e6*Math.random()|0),P_={};function m1(n,e,t,i,r){if(i&&i.once)return _1(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)m1(n,e[o],t,i,r);return null}return t=i0(t),n&&n[sc]?n.O(e,t,oc(i)?!!i.capture:!!i,r):g1(n,e,t,!1,i,r)}function g1(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=oc(r)?!!r.capture:!!r,a=n0(n);if(a||(n[e0]=a=new Hd(n)),t=a.add(e,t,i,s,o),t.proxy)return t;if(i=Ej(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)pj||(r=s),r===void 0&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(y1(e.toString()),i);else if(n.addListener&&n.removeListener)n.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return t}function Ej(){function n(t){return e.call(n.src,n.listener,t)}let e=Ij;return n}function _1(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)_1(n,e[o],t,i,r);return null}return t=i0(t),n&&n[sc]?n.P(e,t,oc(i)?!!i.capture:!!i,r):g1(n,e,t,!0,i,r)}function v1(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)v1(n,e[o],t,i,r);else i=oc(i)?!!i.capture:!!i,t=i0(t),n&&n[sc]?(n=n.i,e=String(e).toString(),e in n.g&&(o=n.g[e],t=L_(o,t,i,r),-1<t&&(zd(o[t]),Array.prototype.splice.call(o,t,1),o.length==0&&(delete n.g[e],n.h--)))):n&&(n=n0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=L_(e,t,i,r)),(t=-1<n?e[n]:null)&&t0(t))}function t0(n){if(typeof n!="number"&&n&&!n.fa){var e=n.src;if(e&&e[sc])V_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(y1(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=n0(e))?(V_(t,n),t.h==0&&(t.src=null,e[e0]=null)):zd(n)}}}function y1(n){return n in P_?P_[n]:P_[n]="on"+n}function Ij(n,e){if(n.fa)n=!0;else{e=new Za(e,this);var t=n.listener,i=n.la||n.src;n.ia&&t0(n),n=t.call(i,e)}return n}function n0(n){return n=n[e0],n instanceof Hd?n:null}var R_="__closure_events_fn_"+(1e9*Math.random()>>>0);function i0(n){return typeof n=="function"?n:(n[R_]||(n[R_]=function(e){return n.handleEvent(e)}),n[R_])}function nt(){Ki.call(this),this.i=new Hd(this),this.S=this,this.J=null}it(nt,Ki);nt.prototype[sc]=!0;nt.prototype.removeEventListener=function(n,e,t,i){v1(this,n,e,t,i)};function lt(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,typeof e=="string")e=new _t(e,n);else if(e instanceof _t)e.target=e.target||n;else{var r=e;e=new _t(i,n),p1(e,r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Od(s,i,!0,e)&&r}if(s=e.g=n,r=Od(s,i,!0,e)&&r,r=Od(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)s=e.g=t[o],r=Od(s,i,!1,e)&&r}nt.prototype.N=function(){if(nt.$.N.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)zd(t[i]);delete n.g[e],n.h--}}this.J=null};nt.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)};nt.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};function Od(n,e,t,i){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&V_(n.i,s),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var r0=Q.JSON.stringify,j_=class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Tj(){var n=o0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var U_=class{constructor(){this.h=this.g=null}add(e,t){let i=w1.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},w1=new j_(()=>new B_,n=>n.reset()),B_=class{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}};function Dj(n){var e=1;n=n.split(":");let t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function xj(n){Q.setTimeout(()=>{throw n},0)}var Xa,ec=!1,o0=new U_,C1=()=>{let n=Q.Promise.resolve(void 0);Xa=()=>{n.then(Sj)}},Sj=()=>{for(var n;n=Tj();){try{n.h.call(n.g)}catch(t){xj(t)}var e=w1;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ec=!1};function Wd(n,e){nt.call(this),this.h=n||1,this.g=e||Q,this.j=gt(this.qb,this),this.l=Date.now()}it(Wd,nt);k=Wd.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lt(this,"tick"),this.ga&&(s0(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function s0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}k.N=function(){Wd.$.N.call(this),s0(this),delete this.g};function a0(n,e,t){if(typeof n=="function")t&&(n=gt(n,t));else if(n&&typeof n.handleEvent=="function")n=gt(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(n,e||0)}function b1(n){n.g=a0(()=>{n.g=null,n.i&&(n.i=!1,b1(n))},n.j);let e=n.h;n.h=null,n.m.apply(null,e)}var $_=class extends Ki{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:b1(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function tc(n){Ki.call(this),this.h=n,this.g={}}it(tc,Ki);var XT=[];function E1(n,e,t,i){Array.isArray(t)||(t&&(XT[0]=t.toString()),t=XT);for(var r=0;r<t.length;r++){var o=m1(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function I1(n){X_(n.g,function(e,t){this.g.hasOwnProperty(t)&&t0(e)},n),n.g={}}tc.prototype.N=function(){tc.$.N.call(this),I1(this)};tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kd(){this.g=!0}Kd.prototype.Ea=function(){this.g=!1};function Aj(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var p=u.split("_");s=2<=p.length&&p[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+t+`
`+s})}function Mj(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+t+`
`+o+" "+s})}function as(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+Rj(n,t)+(i?" "+i:"")})}function Pj(n,e){n.info(function(){return"TIMEOUT: "+e})}Kd.prototype.info=function(){};function Rj(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return r0(t)}catch{return e}}var Lr={},e1=null;function Qd(){return e1=e1||new nt}Lr.Ta="serverreachability";function T1(n){_t.call(this,Lr.Ta,n)}it(T1,_t);function nc(n){let e=Qd();lt(e,new T1(e))}Lr.STAT_EVENT="statevent";function D1(n,e){_t.call(this,Lr.STAT_EVENT,n),this.stat=e}it(D1,_t);function Dt(n){let e=Qd();lt(e,new D1(e,n))}Lr.Ua="timingevent";function x1(n,e){_t.call(this,Lr.Ua,n),this.size=e}it(x1,_t);function ac(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){n()},e)}var Yd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},S1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function c0(){}c0.prototype.h=null;function t1(n){return n.h||(n.h=n.i())}function A1(){}var cc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function l0(){_t.call(this,"d")}it(l0,_t);function u0(){_t.call(this,"c")}it(u0,_t);var q_;function Jd(){}it(Jd,c0);Jd.prototype.g=function(){return new XMLHttpRequest};Jd.prototype.i=function(){return{}};q_=new Jd;function lc(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new tc(this),this.P=Nj,n=O_?125:void 0,this.V=new Wd(n),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new M1}function M1(){this.i=null,this.g="",this.h=!1}var Nj=45e3,P1={},G_={};k=lc.prototype;k.setTimeout=function(n){this.P=n};function z_(n,e,t){n.L=1,n.A=Xd(pi(e)),n.u=t,n.S=!0,R1(n,null)}function R1(n,e){n.G=Date.now(),uc(n),n.B=pi(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),U1(t.i,"t",i),n.o=0,t=n.l.J,n.h=new M1,n.g=aD(n.l,t?e:null,!n.u),0<n.O&&(n.M=new $_(gt(n.Pa,n,n.g),n.O)),E1(n.U,n.g,"readystatechange",n.nb),e=n.I?f1(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),nc(),Aj(n.j,n.v,n.B,n.m,n.W,n.u)}k.nb=function(n){n=n.target;let e=this.M;e&&$n(n)==3?e.l():this.Pa(n)};k.Pa=function(n){try{if(n==this.g)e:{let u=$n(this.g);var e=this.g.Ia();let p=this.g.da();if(!(3>u)&&(u!=3||O_||this.g&&(this.h.h||this.g.ja()||o1(this.g)))){this.J||u!=4||e==7||(e==8||0>=p?nc(3):nc(2)),Zd(this);var t=this.g.da();this.ca=t;t:if(N1(this)){var i=o1(this.g);n="";var r=i.length,o=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),Ya(this);var s="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=t==200,Mj(this.j,this.v,this.B,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ja(a)){var l=a;break t}}l=null}if(t=l)as(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,H_(this,t);else{this.i=!1,this.s=3,Dt(12),kr(this),Ya(this);break e}}this.S?(O1(this,u,s),O_&&this.i&&u==3&&(E1(this.U,this.V,"tick",this.mb),this.V.start())):(as(this.j,this.m,s,null),H_(this,s)),u==4&&kr(this),this.i&&!this.J&&(u==4?iD(this.l,this):(this.i=!1,uc(this)))}else eU(this.g),t==400&&0<s.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),kr(this),Ya(this)}}}catch{}finally{}};function N1(n){return n.g?n.v=="GET"&&n.L!=2&&n.l.Ha:!1}function O1(n,e,t){let i=!0,r;for(;!n.J&&n.o<t.length;)if(r=Oj(n,t),r==G_){e==4&&(n.s=4,Dt(14),i=!1),as(n.j,n.m,null,"[Incomplete Response]");break}else if(r==P1){n.s=4,Dt(15),as(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}else as(n.j,n.m,r,null),H_(n,r);N1(n)&&n.o!=0&&(n.h.g=n.h.g.slice(n.o),n.o=0),e!=4||t.length!=0||n.h.h||(n.s=1,Dt(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,e=n.l,e.g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),g0(e),e.M=!0,Dt(11))):(as(n.j,n.m,t,"[Invalid Chunked Response]"),kr(n),Ya(n))}k.mb=function(){if(this.g){var n=$n(this.g),e=this.g.ja();this.o<e.length&&(Zd(this),O1(this,n,e),this.i&&n!=4&&uc(this))}};function Oj(n,e){var t=n.o,i=e.indexOf(`
`,t);return i==-1?G_:(t=Number(e.substring(t,i)),isNaN(t)?P1:(i+=1,i+t>e.length?G_:(e=e.slice(i,i+t),n.o=i+t,e)))}k.cancel=function(){this.J=!0,kr(this)};function uc(n){n.Y=Date.now()+n.P,k1(n,n.P)}function k1(n,e){if(n.C!=null)throw Error("WatchDog timer not null");n.C=ac(gt(n.lb,n),e)}function Zd(n){n.C&&(Q.clearTimeout(n.C),n.C=null)}k.lb=function(){this.C=null;let n=Date.now();0<=n-this.Y?(Pj(this.j,this.B),this.L!=2&&(nc(),Dt(17)),kr(this),this.s=2,Ya(this)):k1(this,this.Y-n)};function Ya(n){n.l.H==0||n.J||iD(n.l,n)}function kr(n){Zd(n);var e=n.M;e&&typeof e.sa=="function"&&e.sa(),n.M=null,s0(n.V),I1(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function H_(n,e){try{var t=n.l;if(t.H!=0&&(t.g==n||W_(t.i,n))){if(!n.K&&W_(t.i,n)&&t.H==3){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!t.u){if(t.g)if(t.g.G+3e3<n.G)jd(t),nh(t);else break e;m0(t),Dt(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&t.A==0&&!t.v&&(t.v=ac(gt(t.ib,t),6e3));if(1>=q1(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Fr(t,11)}else if((n.K||t.g==n)&&jd(t),!Ja(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],t.H==2)if(l[0]=="c"){t.K=l[1],t.pa=l[2];let u=l[3];u!=null&&(t.ra=u,t.l.info("VER="+t.ra));let p=l[4];p!=null&&(t.Ga=p,t.l.info("SVER="+t.Ga));let v=l[5];v!=null&&typeof v=="number"&&0<v&&(i=1.5*v,t.L=i,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;let y=n.g;if(y){let D=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var o=i.i;o.g||D.indexOf("spdy")==-1&&D.indexOf("quic")==-1&&D.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(d0(o,o.h),o.h=null))}if(i.F){let x=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.Da=x,Ve(i.I,i.F,x))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms")),i=t;var s=n;if(i.wa=sD(i,i.J?i.pa:null,i.Y),s.K){G1(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.C&&(Zd(a),uc(a)),i.g=s}else tD(i);0<t.j.length&&ih(t)}else l[0]!="stop"&&l[0]!="close"||Fr(t,7);else t.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Fr(t,7):p0(t):l[0]!="noop"&&t.h&&t.h.Aa(l),t.A=0)}}nc(4)}catch{}}function kj(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(qd(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}e=[],t=0;for(i in n)e[t++]=n[i];return e}function Fj(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qd(n)||typeof n=="string"){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(let i in n)e[t++]=i;return e}}}function F1(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(qd(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var t=Fj(n),i=kj(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}var V1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vj(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Vr(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vr){this.h=n.h,Vd(this,n.j),this.s=n.s,this.g=n.g,Ld(this,n.m),this.l=n.l;var e=n.i,t=new ic;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),n1(this,t),this.o=n.o}else n&&(e=String(n).match(V1))?(this.h=!1,Vd(this,e[1]||"",!0),this.s=Ka(e[2]||""),this.g=Ka(e[3]||"",!0),Ld(this,e[4]),this.l=Ka(e[5]||"",!0),n1(this,e[6]||"",!0),this.o=Ka(e[7]||"")):(this.h=!1,this.i=new ic(null,this.h))}Vr.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qa(e,i1,!0),":");var t=this.g;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(Qa(e,i1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&n.push("/"),n.push(Qa(t,t.charAt(0)=="/"?Uj:jj,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qa(t,$j)),n.join("")};function pi(n){return new Vr(n)}function Vd(n,e,t){n.j=t?Ka(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ld(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function n1(n,e,t){e instanceof ic?(n.i=e,qj(n.i,n.h)):(t||(e=Qa(e,Bj)),n.i=new ic(e,n.h))}function Ve(n,e,t){n.i.set(e,t)}function Xd(n){return Ve(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ka(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qa(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,Lj),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Lj(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var i1=/[#\/\?@]/g,jj=/[#\?:]/g,Uj=/[#\?]/g,Bj=/[#\?@]/g,$j=/#/g;function ic(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qi(n){n.g||(n.g=new Map,n.h=0,n.i&&Vj(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}k=ic.prototype;k.add=function(n,e){Qi(this),this.i=null,n=us(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function L1(n,e){Qi(n),e=us(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function j1(n,e){return Qi(n),e=us(n,e),n.g.has(e)}k.forEach=function(n,e){Qi(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)};k.ta=function(){Qi(this);let n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){let r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t};k.Z=function(n){Qi(this);let e=[];if(typeof n=="string")j1(this,n)&&(e=e.concat(this.g.get(us(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e};k.set=function(n,e){return Qi(this),this.i=null,n=us(this,n),j1(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};k.get=function(n,e){return n?(n=this.Z(n),0<n.length?String(n[0]):e):e};function U1(n,e,t){L1(n,e),0<t.length&&(n.i=null,n.g.set(us(n,e),J_(t)),n.h+=t.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";let n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];let o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};function us(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qj(n,e){e&&!n.j&&(Qi(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(L1(this,i),U1(this,r,t))},n)),n.j=e}var Gj=class{constructor(n,e){this.g=n,this.map=e}};function B1(n){this.l=n||zj,Q.PerformanceNavigationTiming?(n=Q.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zj=10;function $1(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function q1(n){return n.h?1:n.g?n.g.size:0}function W_(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function d0(n,e){n.g?n.g.add(e):n.h=e}function G1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}B1.prototype.cancel=function(){if(this.i=z1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let n of this.g.values())n.cancel();this.g.clear()}};function z1(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let e=n.i;for(let t of n.g.values())e=e.concat(t.F);return e}return J_(n.i)}var Hj=class{stringify(n){return Q.JSON.stringify(n,void 0)}parse(n){return Q.JSON.parse(n,void 0)}};function Wj(){this.g=new Hj}function Kj(n,e,t){let i=t||"";try{F1(n,function(r,o){let s=r;oc(r)&&(s=r0(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Qj(n,e){let t=new Kd;if(Q.Image){let i=new Image;i.onload=Md(kd,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Md(kd,t,i,"TestLoadImage: error",!1,e),i.onabort=Md(kd,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Md(kd,t,i,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}function kd(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function dc(n){this.l=n.ec||null,this.j=n.ob||!1}it(dc,c0);dc.prototype.g=function(){return new eh(this.l,this.j)};dc.prototype.i=function(n){return function(){return n}}({});function eh(n,e){nt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=h0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(eh,nt);var h0=0;k=eh.prototype;k.open=function(n,e){if(this.readyState!=h0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rc(this)};k.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hc(this)),this.readyState=h0};k.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rc(this)),this.g&&(this.readyState=3,rc(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;H1(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function H1(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}k.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hc(this):rc(this),this.readyState==3&&H1(this)}};k.Za=function(n){this.g&&(this.response=this.responseText=n,hc(this))};k.Ya=function(n){this.g&&(this.response=n,hc(this))};k.ka=function(){this.g&&hc(this)};function hc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rc(n)}k.setRequestHeader=function(n,e){this.v.append(n,e)};k.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";let n=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function rc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var Yj=Q.JSON.parse;function je(n){nt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=W1,this.L=this.M=!1}it(je,nt);var W1="",Jj=/^https?$/i,Zj=["POST","PUT"];k=je.prototype;k.Oa=function(n){this.M=n};k.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():q_.g(),this.C=this.u?t1(this.u):t1(q_),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){r1(this,o);return}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())t.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(t.keys()).find(o=>o.toLowerCase()=="content-type"),r=Q.FormData&&n instanceof Q.FormData,!(0<=l1(Zj,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Y1(this),0<this.B&&((this.L=Xj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=a0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){r1(this,o)}};function Xj(n){return ls&&typeof n.timeout=="number"&&n.ontimeout!==void 0}k.ua=function(){typeof Y_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function r1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,K1(n),th(n)}function K1(n){n.F||(n.F=!0,lt(n,"complete"),lt(n,"error"))}k.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,lt(this,"complete"),lt(this,"abort"),th(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),th(this,!0)),je.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?Q1(this):this.kb())};k.kb=function(){Q1(this)};function Q1(n){if(n.h&&typeof Y_<"u"&&(!n.C[1]||$n(n)!=4||n.da()!=2)){if(n.v&&$n(n)==4)a0(n.La,0,n);else if(lt(n,"readystatechange"),$n(n)==4){n.h=!1;try{let s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=s===0){var r=String(n.I).match(V1)[1]||null;!r&&Q.self&&Q.self.location&&(r=Q.self.location.protocol.slice(0,-1)),i=!Jj.test(r?r.toLowerCase():"")}t=i}if(t)lt(n,"complete"),lt(n,"success");else{n.m=6;try{var o=2<$n(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",K1(n)}}finally{th(n)}}}}function th(n,e){if(n.g){Y1(n);let t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||lt(n,"ready");try{t.onreadystatechange=i}catch{}}}function Y1(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Q.clearTimeout(n.A),n.A=null)}k.isActive=function(){return!!this.g};function $n(n){return n.g?n.g.readyState:0}k.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),Yj(e)}};function o1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case W1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function eU(n){let e={};n=(n.g&&2<=$n(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<n.length;i++){if(Ja(n[i]))continue;var t=Dj(n[i]);let r=t[0];if(t=t[1],typeof t!="string")continue;t=t.trim();let o=e[r]||[];e[r]=o,o.push(t)}bj(e,function(i){return i.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function J1(n){let e="";return X_(n,function(t,i){e+=i,e+=":",e+=t,e+=`\r
`}),e}function f0(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=J1(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):Ve(n,e,t))}function Ha(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Z1(n){this.Ga=0,this.j=[],this.l=new Kd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ha("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ha("baseRetryDelayMs",5e3,n),this.hb=Ha("retryDelaySeedMs",1e4,n),this.eb=Ha("forwardChannelMaxRetries",2,n),this.xa=Ha("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new B1(n&&n.concurrentRequestLimit),this.Ja=new Wj,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=Z1.prototype;k.ra=8;k.H=1;function p0(n){if(X1(n),n.H==3){var e=n.W++,t=pi(n.I);if(Ve(t,"SID",n.K),Ve(t,"RID",e),Ve(t,"TYPE","terminate"),fc(n,t),e=new lc(n,n.l,e),e.L=2,e.A=Xd(pi(t)),t=!1,Q.navigator&&Q.navigator.sendBeacon)try{t=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&Q.Image&&(new Image().src=e.A,t=!0),t||(e.g=aD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),uc(e)}oD(n)}function nh(n){n.g&&(g0(n),n.g.cancel(),n.g=null)}function X1(n){nh(n),n.u&&(Q.clearTimeout(n.u),n.u=null),jd(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&Q.clearTimeout(n.m),n.m=null)}function ih(n){if(!$1(n.i)&&!n.m){n.m=!0;var e=n.Na;Xa||C1(),ec||(Xa(),ec=!0),o0.add(e,n),n.C=0}}function tU(n,e){return q1(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=e.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=ac(gt(n.Na,n,e),rD(n,n.C)),n.C++,!0)}k.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;let r=new lc(this,this.l,n),o=this.s;if(this.U&&(o?(o=f1(o),p1(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){t:{var i=this.j[t];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=t;break e}if(e===4096||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eD(this,r,e),t=pi(this.I),Ve(t,"RID",n),Ve(t,"CVER",22),this.F&&Ve(t,"X-HTTP-Session-Id",this.F),fc(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(J1(o)))+"&"+e:this.o&&f0(t,this.o,o)),d0(this.i,r),this.bb&&Ve(t,"TYPE","init"),this.P?(Ve(t,"$req",e),Ve(t,"SID","null"),r.aa=!0,z_(r,t,null)):z_(r,t,e),this.H=2}}else this.H==3&&(n?s1(this,n):this.j.length==0||$1(this.i)||s1(this))};function s1(n,e){var t;e?t=e.m:t=n.W++;let i=pi(n.I);Ve(i,"SID",n.K),Ve(i,"RID",t),Ve(i,"AID",n.V),fc(n,i),n.o&&n.s&&f0(i,n.o,n.s),t=new lc(n,n.l,t,n.C+1),n.o===null&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=eD(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),d0(n.i,t),z_(t,i,e)}function fc(n,e){n.na&&X_(n.na,function(t,i){Ve(e,i,t)}),n.h&&F1({},function(t,i){Ve(e,i,t)})}function eD(n,e,t){t=Math.min(n.j.length,t);var i=n.h?gt(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){let s=["count="+t];o==-1?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g,u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{Kj(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function tD(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Xa||C1(),ec||(Xa(),ec=!0),o0.add(e,n),n.A=0}}function m0(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=ac(gt(n.Ma,n),rD(n,n.A)),n.A++,!0)}k.Ma=function(){if(this.u=null,nD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ac(gt(this.jb,this),n)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dt(10),nh(this),nD(this))};function g0(n){n.B!=null&&(Q.clearTimeout(n.B),n.B=null)}function nD(n){n.g=new lc(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var e=pi(n.wa);Ve(e,"RID","rpc"),Ve(e,"SID",n.K),Ve(e,"AID",n.V),Ve(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ve(e,"TO",n.qa),Ve(e,"TYPE","xmlhttp"),fc(n,e),n.o&&n.s&&f0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Xd(pi(e)),t.u=null,t.S=!0,R1(t,n)}k.ib=function(){this.v!=null&&(this.v=null,nh(this),m0(this),Dt(19))};function jd(n){n.v!=null&&(Q.clearTimeout(n.v),n.v=null)}function iD(n,e){var t=null;if(n.g==e){jd(n),g0(n),n.g=null;var i=2}else if(W_(n.i,e))t=e.F,G1(n.i,e),i=1;else return;if(n.H!=0){if(e.i)if(i==1){t=e.u?e.u.length:0,e=Date.now()-e.G;var r=n.C;i=Qd(),lt(i,new x1(i,t)),ih(n)}else tD(n);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&tU(n,e)||i==2&&m0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Fr(n,5);break;case 4:Fr(n,10);break;case 3:Fr(n,6);break;default:Fr(n,2)}}}function rD(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Fr(n,e){if(n.l.info("Error code "+e),e==2){var t=null;n.h&&(t=null);var i=gt(n.pb,n);t||(t=new Vr("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Vd(t,"https"),Xd(t)),Qj(t.toString(),i)}else Dt(2);n.H=0,n.h&&n.h.za(e),oD(n),X1(n)}k.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Dt(2)):(this.l.info("Failed to ping google.com"),Dt(1))};function oD(n){if(n.H=0,n.ma=[],n.h){let e=z1(n.i);(e.length!=0||n.j.length!=0)&&(JT(n.ma,e),JT(n.ma,n.j),n.i.i.length=0,J_(n.j),n.j.length=0),n.h.ya()}}function sD(n,e,t){var i=t instanceof Vr?pi(t):new Vr(t);if(i.g!="")e&&(i.g=e+"."+i.g),Ld(i,i.m);else{var r=Q.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Vr(null);i&&Vd(o,i),e&&(o.g=e),r&&Ld(o,r),t&&(o.l=t),i=o}return t=n.F,e=n.Da,t&&e&&Ve(i,t,e),Ve(i,"VER",n.ra),fc(n,i),i}function aD(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n.Ha&&!n.va?new je(new dc({ob:t})):new je(n.va),e.Oa(n.J),e}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function cD(){}k=cD.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function Ud(){if(ls&&!(10<=Number(vj)))throw Error("Environmental error: no available transport.")}Ud.prototype.g=function(n,e){return new Wt(n,e)};function Wt(n,e){nt.call(this),this.g=new Z1(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ja(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ja(e)&&(this.g.F=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new ds(this)}it(Wt,nt);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Dt(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=sD(n,null,n.Y),ih(n)};Wt.prototype.close=function(){p0(this.g)};Wt.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var t={};t.__data__=n,n=t}else this.v&&(t={},t.__data__=r0(n),n=t);e.j.push(new Gj(e.fb++,n)),e.H==3&&ih(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,p0(this.g),delete this.g,Wt.$.N.call(this)};function lD(n){l0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(let t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}it(lD,l0);function uD(){u0.call(this),this.status=1}it(uD,u0);function ds(n){this.g=n}it(ds,cD);ds.prototype.Ba=function(){lt(this.g,"a")};ds.prototype.Aa=function(n){lt(this.g,new lD(n))};ds.prototype.za=function(n){lt(this.g,new uD)};ds.prototype.ya=function(){lt(this.g,"b")};function nU(){this.blockSize=-1}function bn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(bn,nU);bn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function N_(n,e,t){t||(t=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;e=n.g[0],t=n.g[1],r=n.g[2];var o=n.g[3],s=e+(o^t&(r^o))+i[0]+3614090360&4294967295;e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[3]+3250441966&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(o^t&(r^o))+i[4]+4118548399&4294967295,e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[7]+4249261313&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(o^t&(r^o))+i[8]+1770035416&4294967295,e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[11]+2304563134&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(o^t&(r^o))+i[12]+1804603682&4294967295,e=t+(s<<7&4294967295|s>>>25),s=o+(r^e&(t^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(t^o&(e^t))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=t+(e^r&(o^e))+i[15]+1236535329&4294967295,t=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(t^r))+i[1]+4129170786&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[0]+3921069994&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(t^r))+i[5]+3593408605&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[4]+3889429448&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(t^r))+i[9]+568446438&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[8]+1163531501&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(t^r))+i[13]+2850285829&4294967295,e=t+(s<<5&4294967295|s>>>27),s=o+(t^r&(e^t))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^t&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=t+(o^e&(r^o))+i[12]+2368359562&4294967295,t=r+(s<<20&4294967295|s>>>12),s=e+(t^r^o)+i[5]+4294588738&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[14]+4259657740&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(t^r^o)+i[1]+2763975236&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[10]+3200236656&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(t^r^o)+i[13]+681279174&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[6]+76029189&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(t^r^o)+i[9]+3654602809&4294967295,e=t+(s<<4&4294967295|s>>>28),s=o+(e^t^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^t)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=t+(r^o^e)+i[2]+3299628645&4294967295,t=r+(s<<23&4294967295|s>>>9),s=e+(r^(t|~o))+i[0]+4096336452&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[5]+4237533241&4294967295,t=r+(s<<21&4294967295|s>>>11),s=e+(r^(t|~o))+i[12]+1700485571&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[1]+2240044497&4294967295,t=r+(s<<21&4294967295|s>>>11),s=e+(r^(t|~o))+i[8]+1873313359&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[13]+1309151649&4294967295,t=r+(s<<21&4294967295|s>>>11),s=e+(r^(t|~o))+i[4]+4149444226&4294967295,e=t+(s<<6&4294967295|s>>>26),s=o+(t^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~t))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=t+(o^(r|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}bn.prototype.j=function(n,e){e===void 0&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=t;)N_(this,n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){N_(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){N_(this,i),r=0;break}}this.h=r,this.i+=e};bn.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=t&255,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};function xe(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=n[r]|0;i&&o==e||(t[r]=o,i=!1)}this.g=t}var iU={};function _0(n){return-128<=n&&128>n?mj(n,function(e){return new xe([e|0],0>e?-1:0)}):new xe([n|0],0>n?-1:0)}function qn(n){if(isNaN(n)||!isFinite(n))return cs;if(0>n)return ct(qn(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=K_;return new xe(e,0)}function dD(n,e){if(n.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(n.charAt(0)=="-")return ct(dD(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=qn(Math.pow(e,8)),i=cs,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=qn(Math.pow(e,o)),i=i.R(o).add(qn(s))):(i=i.R(t),i=i.add(qn(s)))}return i}var K_=4294967296,cs=_0(0),Q_=_0(1),a1=_0(16777216);k=xe.prototype;k.ea=function(){if(hn(this))return-ct(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:K_+i)*e,e*=K_}return n};k.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(fi(this))return"0";if(hn(this))return"-"+ct(this).toString(n);for(var e=qn(Math.pow(n,6)),t=this,i="";;){var r=$d(t,e).g;t=Bd(t,r.R(e));var o=((0<t.g.length?t.g[0]:t.h)>>>0).toString(n);if(t=r,fi(t))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};k.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function fi(n){if(n.h!=0)return!1;for(var e=0;e<n.g.length;e++)if(n.g[e]!=0)return!1;return!0}function hn(n){return n.h==-1}k.X=function(n){return n=Bd(this,n),hn(n)?-1:fi(n)?0:1};function ct(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new xe(t,~n.h).add(Q_)}k.abs=function(){return hn(this)?ct(this):this};k.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(n.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,t[r]=s<<16|o}return new xe(t,t[t.length-1]&-2147483648?-1:0)};function Bd(n,e){return n.add(ct(e))}k.R=function(n){if(fi(this)||fi(n))return cs;if(hn(this))return hn(n)?ct(this).R(ct(n)):ct(ct(this).R(n));if(hn(n))return ct(this.R(ct(n)));if(0>this.X(a1)&&0>n.X(a1))return qn(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=n.D(r)>>>16,c=n.D(r)&65535;t[2*i+2*r]+=s*c,Fd(t,2*i+2*r),t[2*i+2*r+1]+=o*c,Fd(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Fd(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Fd(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new xe(t,0)};function Fd(n,e){for(;(n[e]&65535)!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Wa(n,e){this.g=n,this.h=e}function $d(n,e){if(fi(e))throw Error("division by zero");if(fi(n))return new Wa(cs,cs);if(hn(n))return e=$d(ct(n),e),new Wa(ct(e.g),ct(e.h));if(hn(e))return e=$d(n,ct(e)),new Wa(ct(e.g),e.h);if(30<n.g.length){if(hn(n)||hn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Q_,i=e;0>=i.X(n);)t=c1(t),i=c1(i);var r=ss(t,1),o=ss(i,1);for(i=ss(i,2),t=ss(t,2);!fi(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=ss(i,1),t=ss(t,1)}return e=Bd(n,r.R(e)),new Wa(r,e)}for(r=cs;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=Math.ceil(Math.log(t)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=qn(t),s=o.R(e);hn(s)||0<s.X(n);)t-=i,o=qn(t),s=o.R(e);fi(o)&&(o=Q_),r=r.add(o),n=Bd(n,s)}return new Wa(r,n)}k.gb=function(n){return $d(this,n).h};k.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new xe(t,this.h&n.h)};k.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new xe(t,this.h|n.h)};k.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new xe(t,this.h^n.h)};function c1(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new xe(t,n.h)}function ss(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new xe(r,n.h)}Ud.prototype.createWebChannel=Ud.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;Yd.NO_ERROR=0;Yd.TIMEOUT=8;Yd.HTTP_ERROR=6;S1.COMPLETE="complete";A1.EventType=cc;cc.OPEN="a";cc.CLOSE="b";cc.ERROR="c";cc.MESSAGE="d";nt.prototype.listen=nt.prototype.O;je.prototype.listenOnce=je.prototype.P;je.prototype.getLastError=je.prototype.Sa;je.prototype.getLastErrorCode=je.prototype.Ia;je.prototype.getStatus=je.prototype.da;je.prototype.getResponseJson=je.prototype.Wa;je.prototype.getResponseText=je.prototype.ja;je.prototype.send=je.prototype.ha;je.prototype.setWithCredentials=je.prototype.Oa;bn.prototype.digest=bn.prototype.l;bn.prototype.reset=bn.prototype.reset;bn.prototype.update=bn.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=qn;xe.fromString=dD;var hD=En.createWebChannelTransport=function(){return new Ud},fD=En.getStatEventTarget=function(){return Qd()},rh=En.ErrorCode=Yd,pD=En.EventType=S1,mD=En.Event=Lr,v0=En.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},TY=En.FetchXmlHttpFactory=dc,pc=En.WebChannel=A1,gD=En.XhrIo=je,_D=En.Md5=bn,jr=En.Integer=xe;var vD="@firebase/firestore";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var Rs="10.7.0";var qr=new Gi("@firebase/firestore");function mc(){return qr.logLevel}function L(n,...e){if(qr.logLevel<=ce.DEBUG){let t=e.map(ty);qr.debug(`Firestore (${Rs}): ${n}`,...t)}}function mi(n,...e){if(qr.logLevel<=ce.ERROR){let t=e.map(ty);qr.error(`Firestore (${Rs}): ${n}`,...t)}}function vs(n,...e){if(qr.logLevel<=ce.WARN){let t=e.map(ty);qr.warn(`Firestore (${Rs}): ${n}`,...t)}}function ty(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function W(n="Unexpected state"){let e=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: `+n;throw mi(e),new Error(e)}function Oe(n,e){n||W()}function X(n,e){return n}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends ln{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var In=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var lh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},E0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rt.UNAUTHENTICATED))}shutdown(){}},I0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},T0=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),o=new In;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new In,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new In)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Oe(typeof i.accessToken=="string"),new lh(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new rt(e)}},D0=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},x0=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new D0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},S0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},A0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe(typeof t.token=="string"),this.R=t.token,new S0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function rU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var uh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=rU(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function Ce(n,e){return n<e?-1:n>e?1:0}function ys(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var ut=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Z=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ut(0,0))}static max(){return new n(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var dh=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&W(),i===void 0?i=e.length-t:i>e.length-t&&W(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Le=class n extends dh{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new V(S.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},oU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends dh{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return oU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new V(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new V(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new V(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Le.fromString(e))}static fromName(e){return new n(Le.fromString(e).popFirst(5))}static empty(){return new n(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Le(e.slice()))}};var M0=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};M0.UNKNOWN_ID=-1;function sU(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Z.fromTimestamp(i===1e9?new ut(t+1,0):new ut(t,i));return new Gr(r,G.empty(),e)}function aU(n){return new Gr(n.readTime,n.key,-1)}var Gr=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Z.min(),G.empty(),-1)}static max(){return new n(Z.max(),G.empty(),-1)}};function cU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}var lU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",P0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Rc(n){return E(this,null,function*(){if(n.code!==S.FAILED_PRECONDITION||n.message!==lU)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function Nc(n){return n.name==="IndexedDbTransactionError"}var KD=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function qh(n){return n==null}function Cc(n){return n===0&&1/n==-1/0}function uU(n){return typeof n=="number"&&Number.isInteger(n)&&!Cc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var dU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FY=[...dU,"documentOverlays"],hU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fU=hU,VY=[...fU,"indexConfiguration","indexState","indexEntries"];function yD(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jr(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QD(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Be=class n{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ms(this.root,e,this.comparator,!0)}},ms=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zn=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,t,i,r,o){return this}insert(e,t,i){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class n{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hh(this.data.getIterator())}getIteratorFrom(e){return new hh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},hh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new yt(Qt.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var fh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xt.EMPTY_BYTE_STRING=new xt("");var pU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(n){if(Oe(!!n),typeof n=="string"){let e=0,t=pU.exec(n);if(Oe(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ue(n.seconds),nanos:Ue(n.nanos)}}function Ue(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xi(n){return typeof n=="string"?xt.fromBase64String(n):xt.fromUint8Array(n)}function ny(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function iy(n){let e=n.mapValue.fields.__previous_value__;return ny(e)?iy(e):e}function bc(n){let e=Zi(n.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}var R0=class{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},ph=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var oh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:YD(n)?9007199254740991:10:W()}function Kn(n,e){if(n===e)return!0;let t=zr(n);if(t!==zr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bc(n).isEqual(bc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Zi(r.timestampValue),a=Zi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Xi(r.bytesValue).isEqual(Xi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ue(r.geoPointValue.latitude)===Ue(o.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ue(r.integerValue)===Ue(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Ue(r.doubleValue),a=Ue(o.doubleValue);return s===a?Cc(s)===Cc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ys(n.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(yD(s)!==yD(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Kn(s[c],a[c])))return!1;return!0}(n,e);default:return W()}}function Ec(n,e){return(n.values||[]).find(t=>Kn(t,e))!==void 0}function ws(n,e){if(n===e)return 0;let t=zr(n),i=zr(e);if(t!==i)return Ce(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ue(o.integerValue||o.doubleValue),c=Ue(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return wD(n.timestampValue,e.timestampValue);case 4:return wD(bc(n),bc(e));case 5:return Ce(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Xi(o),c=Xi(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Ce(a[l],c[l]);if(u!==0)return u}return Ce(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ce(Ue(o.latitude),Ue(s.latitude));return a!==0?a:Ce(Ue(o.longitude),Ue(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=ws(a[l],c[l]);if(u)return u}return Ce(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===oh.mapValue&&s===oh.mapValue)return 0;if(o===oh.mapValue)return 1;if(s===oh.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let p=0;p<c.length&&p<u.length;++p){let v=Ce(c[p],u[p]);if(v!==0)return v;let y=ws(a[c[p]],l[u[p]]);if(y!==0)return y}return Ce(c.length,u.length)}(n.mapValue,e.mapValue);default:throw W()}}function wD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);let t=Zi(n),i=Zi(e),r=Ce(t.seconds,i.seconds);return r!==0?r:Ce(t.nanos,i.nanos)}function Cs(n){return N0(n)}function N0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Zi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return G.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=N0(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${N0(t.fields[s])}`;return r+"}"}(n.mapValue):W()}function CD(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function O0(n){return!!n&&"integerValue"in n}function ry(n){return!!n&&"arrayValue"in n}function bD(n){return!!n&&"nullValue"in n}function ED(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ah(n){return!!n&&"mapValue"in n}function _c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Jr(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=_c(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function YD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Kt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(t)}setAll(e){let t=Qt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=_c(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ah(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Jr(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(_c(this.value))}};function JD(n){let e=[];return Jr(n.fields,(t,i)=>{let r=new Qt([t]);if(ah(i)){let o=JD(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new fn(e)}var Tn=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Z.min(),Z.min(),Z.min(),Kt.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Z.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Z.min(),Z.min(),Kt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Z.min(),Z.min(),Kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var bs=class{constructor(e,t){this.position=e,this.inclusive=t}};function ID(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=G.comparator(G.fromName(s.referenceValue),t.key):i=ws(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function TD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Kn(n.position[t],e.position[t]))return!1;return!0}var Es=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function mU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var mh=class{},Je=class n extends mh{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new F0(e,t,i):t==="array-contains"?new j0(e,i):t==="in"?new U0(e,i):t==="not-in"?new B0(e,i):t==="array-contains-any"?new $0(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new V0(e,i):new L0(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ws(t,this.value)):t!==null&&zr(this.value)===zr(t)&&this.matchesComparison(ws(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Dn=class n extends mh{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new n(e,t)}matches(e){return ZD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function ZD(n){return n.op==="and"}function XD(n){return gU(n)&&ZD(n)}function gU(n){for(let e of n.filters)if(e instanceof Dn)return!1;return!0}function k0(n){if(n instanceof Je)return n.field.canonicalString()+n.op.toString()+Cs(n.value);if(XD(n))return n.filters.map(e=>k0(e)).join(",");{let e=n.filters.map(t=>k0(t)).join(",");return`${n.op}(${e})`}}function ex(n,e){return n instanceof Je?function(i,r){return r instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&Kn(i.value,r.value)}(n,e):n instanceof Dn?function(i,r){return r instanceof Dn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&ex(s,r.filters[a]),!0):!1}(n,e):void W()}function tx(n){return n instanceof Je?function(t){return`${t.field.canonicalString()} ${t.op} ${Cs(t.value)}`}(n):n instanceof Dn?function(t){return t.op.toString()+" {"+t.getFilters().map(tx).join(" ,")+"}"}(n):"Filter"}var F0=class extends Je{constructor(e,t,i){super(e,t,i),this.key=G.fromName(i.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},V0=class extends Je{constructor(e,t){super(e,"in",t),this.keys=nx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},L0=class extends Je{constructor(e,t){super(e,"not-in",t),this.keys=nx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function nx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>G.fromName(i.referenceValue))}var j0=class extends Je{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ry(t)&&Ec(t.arrayValue,this.value)}},U0=class extends Je{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ec(this.value.arrayValue,t)}},B0=class extends Je{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Ec(this.value.arrayValue,t)}},$0=class extends Je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ec(this.value.arrayValue,i))}};var q0=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function DD(n,e=null,t=[],i=[],r=null,o=null,s=null){return new q0(n,e,t,i,r,o,s)}function oy(n){let e=X(n);if(e.ce===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>k0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),qh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cs(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cs(i)).join(",")),e.ce=t}return e.ce}function sy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ex(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TD(n.startAt,e.startAt)&&TD(n.endAt,e.endAt)}function G0(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Hr=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function _U(n,e,t,i,r,o,s,a){return new Hr(n,e,t,i,r,o,s,a)}function ay(n){return new Hr(n)}function xD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ix(n){return n.collectionGroup!==null}function vc(n){let e=X(n);if(e.le===null){e.le=[];let t=new Set;for(let o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(Qt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new Es(o,i))}),t.has(Qt.keyField().canonicalString())||e.le.push(new Es(Qt.keyField(),i))}return e.le}function Hn(n){let e=X(n);return e.he||(e.he=vU(e,vc(n))),e.he}function vU(n,e){if(n.limitType==="F")return DD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Es(r.field,o)});let t=n.endAt?new bs(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new bs(n.startAt.position,n.startAt.inclusive):null;return DD(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function z0(n,e){let t=n.filters.concat([e]);return new Hr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function H0(n,e,t){return new Hr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gh(n,e){return sy(Hn(n),Hn(e))&&n.limitType===e.limitType}function rx(n){return`${oy(Hn(n))}|lt:${n.limitType}`}function hs(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>tx(r)).join(", ")}]`),qh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Cs(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Cs(r)).join(",")),`Target(${i})`}(Hn(n))}; limitType=${n.limitType})`}function zh(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):G.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of vc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=ID(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,vc(i),r)||i.endAt&&!function(s,a,c){let l=ID(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,vc(i),r))}(n,e)}function yU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ox(n){return(e,t)=>{let i=!1;for(let r of vc(n)){let o=wU(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function wU(n,e,t){let i=n.field.isKeyField()?G.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ws(c,l):W()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return W()}}var er=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return QD(this.inner)}size(){return this.innerSize}};var CU=new Be(G.comparator);function gi(){return CU}var sx=new Be(G.comparator);function gc(...n){let e=sx;for(let t of n)e=e.insert(t.key,t);return e}function ax(n){let e=sx;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ur(){return yc()}function cx(){return yc()}function yc(){return new er(n=>n.toString(),(n,e)=>n.isEqual(e))}var bU=new Be(G.comparator),EU=new yt(G.comparator);function le(...n){let e=EU;for(let t of n)e=e.add(t);return e}var IU=new yt(Ce);function TU(){return IU}function lx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function ux(n){return{integerValue:""+n}}function DU(n,e){return uU(e)?ux(e):lx(n,e)}var Is=class{constructor(){this._=void 0}};function xU(n,e,t){return n instanceof Ts?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ny(o)&&(o=iy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Wr?hx(n,e):n instanceof Kr?fx(n,e):function(r,o){let s=dx(r,o),a=SD(s)+SD(r.Ie);return O0(s)&&O0(r.Ie)?ux(a):lx(r.serializer,a)}(n,e)}function SU(n,e,t){return n instanceof Wr?hx(n,e):n instanceof Kr?fx(n,e):t}function dx(n,e){return n instanceof Ds?function(i){return O0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Ts=class extends Is{},Wr=class extends Is{constructor(e){super(),this.elements=e}};function hx(n,e){let t=px(e);for(let i of n.elements)t.some(r=>Kn(r,i))||t.push(i);return{arrayValue:{values:t}}}var Kr=class extends Is{constructor(e){super(),this.elements=e}};function fx(n,e){let t=px(e);for(let i of n.elements)t=t.filter(r=>!Kn(r,i));return{arrayValue:{values:t}}}var Ds=class extends Is{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function SD(n){return Ue(n.integerValue||n.doubleValue)}function px(n){return ry(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function AU(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Wr&&r instanceof Wr||i instanceof Kr&&r instanceof Kr?ys(i.elements,r.elements,Kn):i instanceof Ds&&r instanceof Ds?Kn(i.Ie,r.Ie):i instanceof Ts&&r instanceof Ts}(n.transform,e.transform)}var W0=class{constructor(e,t){this.version=e,this.transformResults=t}},Yi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ch(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var xs=class{};function mx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gh(n.key,Yi.none()):new Qr(n.key,n.data,Yi.none());{let t=n.data,i=Kt.empty(),r=new yt(Qt.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Qn(n.key,i,new fn(r.toArray()),Yi.none())}}function MU(n,e,t){n instanceof Qr?function(r,o,s){let a=r.value.clone(),c=MD(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Qn?function(r,o,s){if(!ch(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=MD(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(gx(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function wc(n,e,t,i){return n instanceof Qr?function(o,s,a,c){if(!ch(o.precondition,s))return a;let l=o.value.clone(),u=PD(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof Qn?function(o,s,a,c){if(!ch(o.precondition,s))return a;let l=PD(o.fieldTransforms,c,s),u=s.data;return u.setAll(gx(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(o,s,a){return ch(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function PU(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=dx(i.transform,r||null);o!=null&&(t===null&&(t=Kt.empty()),t.set(i.field,o))}return t||null}function AD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ys(i,r,(o,s)=>AU(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Qr=class extends xs{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Qn=class extends xs{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function gx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function MD(n,e,t){let i=new Map;Oe(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,SU(s,a,t[r]))}return i}function PD(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,xU(o,s,e))}return i}var gh=class extends xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},K0=class extends xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Q0=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&MU(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=wc(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=wc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=cx();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let c=mx(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(t,i)=>AD(t,i))&&ys(this.baseMutations,e.baseMutations,(t,i)=>AD(t,i))}},Y0=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Oe(e.mutations.length===i.length);let r=function(){return bU}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var J0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Z0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Qe,he;function RU(n){switch(n){default:return W();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function _x(n){if(n===void 0)return mi("GRPC error has no .code"),S.UNKNOWN;switch(n){case Qe.OK:return S.OK;case Qe.CANCELLED:return S.CANCELLED;case Qe.UNKNOWN:return S.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return S.INTERNAL;case Qe.UNAVAILABLE:return S.UNAVAILABLE;case Qe.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Qe.NOT_FOUND:return S.NOT_FOUND;case Qe.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Qe.ABORTED:return S.ABORTED;case Qe.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Qe.DATA_LOSS:return S.DATA_LOSS;default:return W()}}(he=Qe||(Qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var RD=null;function NU(){return new TextEncoder}var OU=new jr([4294967295,4294967295],0);function ND(n){let e=NU().encode(n),t=new _D;return t.update(e),new Uint8Array(t.digest())}function OD(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new jr([t,i],0),new jr([r,o],0)]}var X0=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Br(`Invalid padding: ${t}`);if(i<0)throw new Br(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Br(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Br(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=jr.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(jr.fromNumber(i)));return r.compare(OU)===1&&(r=new jr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let t=ND(e),[i,r]=OD(t);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let t=ND(e),[i,r]=OD(t);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Re(s)}}Re(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Br=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _h=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Z.min(),r,new Be(Ce),gi(),le())}},Ic=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,le(),le(),le())}};var gs=class{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}},vh=class{constructor(e,t){this.targetId=e,this.fe=t}},yh=class{constructor(e,t,i=xt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},wh=class{constructor(){this.ge=0,this.pe=FD(),this.ye=xt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=le(),t=le(),i=le();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:W()}}),new Ic(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=FD()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Oe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},ev=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=gi(),this.Qe=kD(),this.Ke=new Be(Ce)}$e(e){for(let t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(let t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{let i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:W()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){let t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){let o=r.target;if(G0(o))if(i===0){let s=new G(o.path);this.We(t,s,Tn.newNoDocument(s,Z.min()))}else Oe(i===1);else{let s=this.Ze(t);if(s!==i){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}RD?.tt(function(u,p,v,y,D){var x,A,F,ue,z,be;let Ze={localCacheCount:u,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},ge=p.unchangedNames;return ge&&(Ze.bloomFilter={applied:D===0,hashCount:(x=ge?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(ue=(F=(A=ge?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&ue!==void 0?ue:0,padding:(be=(z=ge?.bits)===null||z===void 0?void 0:z.padding)!==null&&be!==void 0?be:0,mightContain:dt=>{var Sn;return(Sn=y?.mightContain(dt))!==null&&Sn!==void 0&&Sn}}),Ze}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let t=e.fe.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=Xi(i).toUint8Array()}catch(c){if(c instanceof fh)return vs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new X0(s,r,o)}catch(c){return vs(c instanceof Br?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){let t=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&G0(a.target)){let c=new G(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,Tn.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=le();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new _h(e,t,this.Ke,this.qe,i);return this.qe=gi(),this.Qe=kD(),this.Ke=new Be(Ce),r}Ue(e,t){if(!this.je(e))return;let i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new wh,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new yt(Ce),this.Qe=this.Qe.insert(e,t)),t}je(e){let t=this.Ye(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new wh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function kD(){return new Be(G.comparator)}function FD(){return new Be(G.comparator)}var kU={asc:"ASCENDING",desc:"DESCENDING"},FU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VU={and:"AND",or:"OR"},tv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function nv(n,e){return n.useProto3Json||qh(e)?e:{value:e}}function Ch(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LU(n,e){return Ch(n,e.toTimestamp())}function Wn(n){return Oe(!!n),Z.fromTimestamp(function(t){let i=Zi(t);return new ut(i.seconds,i.nanos)}(n))}function cy(n,e){return function(i){return new Le(["projects",i.projectId,"databases",i.database])}(n).child("documents").child(e).canonicalString()}function yx(n){let e=Le.fromString(n);return Oe(Ex(e)),e}function iv(n,e){return cy(n.databaseId,e.path)}function y0(n,e){let t=yx(e);if(t.get(1)!==n.databaseId.projectId)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(wx(t))}function rv(n,e){return cy(n.databaseId,e)}function jU(n){let e=yx(n);return e.length===4?Le.emptyPath():wx(e)}function ov(n){return new Le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wx(n){return Oe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function VD(n,e,t){return{name:iv(n,e),fields:t.value.mapValue.fields}}function UU(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Oe(u===void 0||typeof u=="string"),xt.fromBase64String(u||"")):(Oe(u===void 0||u instanceof Uint8Array),xt.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?S.UNKNOWN:_x(l.code);return new V(u,l.message||"")}(s);t=new yh(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=y0(n,i.document.name),o=Wn(i.document.updateTime),s=i.document.createTime?Wn(i.document.createTime):Z.min(),a=new Kt({mapValue:{fields:i.document.fields}}),c=Tn.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];t=new gs(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=y0(n,i.document),o=i.readTime?Wn(i.readTime):Z.min(),s=Tn.newNoDocument(r,o),a=i.removedTargetIds||[];t=new gs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=y0(n,i.document),o=i.removedTargetIds||[];t=new gs([],o,r,null)}else{if(!("filter"in e))return W();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new Z0(r,o),a=i.targetId;t=new vh(a,s)}}return t}function BU(n,e){let t;if(e instanceof Qr)t={update:VD(n,e.key,e.value)};else if(e instanceof gh)t={delete:iv(n,e.key)};else if(e instanceof Qn)t={update:VD(n,e.key,e.data),updateMask:YU(e.fieldMask)};else{if(!(e instanceof K0))return W();t={verify:iv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ds)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw W()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:LU(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(n,e.precondition)),t}function $U(n,e){return n&&n.length>0?(Oe(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?Wn(r.updateTime):Wn(o);return s.isEqual(Z.min())&&(s=Wn(o)),new W0(s,r.transformResults||[])}(t,e))):[]}function qU(n,e){return{documents:[rv(n,e.path)]}}function GU(n,e){let t={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(t.parent=rv(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=rv(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);let r=function(c){if(c.length!==0)return bx(Dn.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);let o=function(c){if(c.length!==0)return c.map(l=>function(p){return{field:fs(p.field),direction:WU(p.dir)}}(l))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let s=nv(n,e.limit);return s!==null&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t}function zU(n){let e=jU(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Oe(i===1);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(p){let v=Cx(p);return v instanceof Dn&&XD(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(v=>function(D){return new Es(ps(D.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,qh(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(p){let v=!!p.before,y=p.values||[];return new bs(y,v)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let v=!p.before,y=p.values||[];return new bs(y,v)}(t.endAt)),_U(e,r,s,o,a,"F",c,l)}function HU(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Cx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=ps(t.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=ps(t.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ps(t.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ps(t.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(n):n.fieldFilter!==void 0?function(t){return Je.create(ps(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Dn.create(t.compositeFilter.filters.map(i=>Cx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return W()}}(t.compositeFilter.op))}(n):W()}function WU(n){return kU[n]}function KU(n){return FU[n]}function QU(n){return VU[n]}function fs(n){return{fieldPath:n.canonicalString()}}function ps(n){return Qt.fromServerFormat(n.fieldPath)}function bx(n){return n instanceof Je?function(t){if(t.op==="=="){if(ED(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NAN"}};if(bD(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ED(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NOT_NAN"}};if(bD(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(t.field),op:KU(t.op),value:t.value}}}(n):n instanceof Dn?function(t){let i=t.getFilters().map(r=>bx(r));return i.length===1?i[0]:{compositeFilter:{op:QU(t.op),filters:i}}}(n):W()}function YU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ex(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Tc=class n{constructor(e,t,i,r,o=Z.min(),s=Z.min(),a=xt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var sv=class{constructor(e){this.ut=e}};function JU(n){let e=zU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?H0(e,e.limit,"L"):e}var bh=class{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Ue(e.integerValue));else if("doubleValue"in e){let i=Ue(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Cc(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(t,20),typeof i=="string"?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Xi(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?YD(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):W()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){let i=e.fields||{};this.Tt(t,55);for(let r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){let i=e.values||[];this.Tt(t,50);for(let r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),G.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}};bh.St=new bh;var av=class{constructor(){this.on=new cv}addToCollectionParentIndex(e,t){return this.on.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(Gr.min())}updateCollectionGroup(e,t,i){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},cv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new yt(Le.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new yt(Le.comparator)).toArray()}};var jY=new Uint8Array(0);var Gn=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(41943040,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);var Dc=class n{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new n(0)}static Nn(){return new n(-1)}};var lv=class{constructor(){this.changes=new er(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?P.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var uv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var dv=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&wc(i.mutation,r,fn.empty(),ut.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,t,i=le()){let r=Ur();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=gc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=Ur();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,le()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=gi(),s=yc(),a=function(){return yc()}();return t.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Qn)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),wc(u.mutation,l,u.mutation.getFieldMask(),ut.now())):s.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var p;return a.set(l,new uv(u,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let i=yc(),r=new Be((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=i.get(c)||fn.empty();u=a.applyToLocalView(l,u),i.set(c,u);let p=(r.get(a.batchId)||le()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,p=cx();u.forEach(v=>{if(!o.has(v)){let y=mx(t.get(v),i.get(v));y!==null&&p.set(v,y),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ix(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):P.resolve(Ur()),a=-1,c=o;return s.next(l=>P.forEach(l,(u,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(u)?P.resolve():this.remoteDocumentCache.getEntry(e,u).next(v=>{c=c.insert(u,v)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,le())).next(u=>({batchId:a,changes:ax(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(i=>{let r=gc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=gc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,c=>{let l=function(p,v){return new Hr(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,Tn.newInvalidDocument(u)))});let a=gc();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&wc(u.mutation,l,fn.empty(),ut.now()),zh(t,l)&&(a=a.insert(c,l))}),a})}};var hv=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return P.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Wn(r.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(r){return{name:r.name,query:JU(r.bundledQuery),readTime:Wn(r.readTime)}}(t)),P.resolve()}};var fv=class{constructor(){this.overlays=new Be(G.comparator),this.lr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Ur();return P.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.lr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),P.resolve()}getOverlaysForCollection(e,t,i){let r=Ur(),o=t.length+1,s=new G(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return P.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Be((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=Ur(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Ur(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return P.resolve(a)}lt(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new J0(t,i));let o=this.lr.get(t);o===void 0&&(o=le(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}};var xc=class{constructor(){this.hr=new yt(Ye.Pr),this.Ir=new yt(Ye.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){let i=new Ye(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Ye(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){let t=new G(new Le([])),i=new Ye(t,e),r=new Ye(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let t=new G(new Le([])),i=new Ye(t,e),r=new Ye(t,e+1),o=le();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ye(e,0),i=this.hr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Ye=class{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return G.comparator(e.key,t.key)||Ce(e.gr,t.gr)}static Tr(e,t){return Ce(e.gr,t.gr)||G.comparator(e.key,t.key)}};var pv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new yt(Ye.Pr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Q0(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.yr=this.yr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Sr(i),o=r<0?0:r;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Ye(t,0),r=new Ye(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{let a=this.wr(s.gr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new yt(Ce);return t.forEach(r=>{let o=new Ye(r,0),s=new Ye(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),P.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;G.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new G(o),0),a=new yt(Ce);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gr)),!0)},s),P.resolve(this.br(a))}br(e){let t=[];return e.forEach(i=>{let r=this.wr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Oe(this.Dr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return P.forEach(t.mutations,r=>{let o=new Ye(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){let i=new Ye(t,0),r=this.yr.firstAfterOrEqual(i);return P.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var mv=class{constructor(e){this.Cr=e,this.docs=function(){return new Be(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return P.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let i=gi();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Tn.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=gi(),s=t.path,a=new G(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||cU(aU(u),i)<=0||(r.has(u.key)||zh(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,i,r){W()}vr(e,t){return P.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gv(this)}getSize(e){return P.resolve(this.size)}},gv=class extends lv{constructor(e){super(),this._r=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),P.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}};var _v=class{constructor(e){this.persistence=e,this.Fr=new er(t=>oy(t),sy),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new xc,this.targetCount=0,this.Nr=Dc.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),P.resolve()}kn(e){this.Fr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Nr=new Dc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.kn(t),P.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),P.waitFor(o).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let i=this.Fr.get(t)||null;return P.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),P.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Or.mr(t);return P.resolve(i)}containsKey(e,t){return P.resolve(this.Or.containsKey(t))}};var vv=class{constructor(e,t){this.Br={},this.overlays={},this.Lr=new KD(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new _v(this),this.indexManager=new av,this.remoteDocumentCache=function(r){return new mv(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new sv(t),this.Kr=new hv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new pv(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){L("MemoryPersistence","Starting transaction:",e);let r=new yv(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return P.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}},yv=class extends P0{constructor(e){super(),this.currentSequenceNumber=e}},wv=class n{constructor(e){this.persistence=e,this.Gr=new xc,this.zr=null}static jr(e){return new n(e)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),P.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,i=>{let r=G.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Z.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return P.or([()=>P.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}};var Cv=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=le(),r=le();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var bv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ev=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new bv;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(mc()<=ce.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",hs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(mc()<=ce.DEBUG&&L("QueryEngine","Query:",hs(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(mc()<=ce.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",hs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(t))):P.resolve())}zi(e,t){if(xD(t))return P.resolve(null);let i=Hn(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=H0(t,null,"F"),i=Hn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=le(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Yi(t,a);return this.Zi(t,l,s,c.readTime)?this.zi(e,H0(t,null,"F")):this.Xi(e,l,t,c)}))})))}ji(e,t,i,r){return xD(t)||r.isEqual(Z.min())?P.resolve(null):this.Gi.getDocuments(e,i).next(o=>{let s=this.Yi(t,o);return this.Zi(t,s,i,r)?P.resolve(null):(mc()<=ce.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hs(t)),this.Xi(e,s,t,sU(r,-1)).next(a=>a))})}Yi(e,t){let i=new yt(ox(e));return t.forEach((r,o)=>{zh(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return mc()<=ce.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",hs(t)),this.Gi.getDocumentsMatchingQuery(e,t,Gr.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Iv=class{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Be(Ce),this.ns=new er(o=>oy(o),sy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dv(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}};function ZU(n,e,t,i){return new Iv(n,e,t,i)}function Ix(n,e){return E(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=le();for(let l of r){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function XU(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let p=l.batch,v=p.keys(),y=P.resolve();return v.forEach(D=>{y=y.next(()=>u.getEntry(c,D)).next(x=>{let A=l.docVersions.get(D);Oe(A!==null),x.version.compareTo(A)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),u.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Tx(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function eB(n,e){let t=X(n),i=e.snapshotVersion,r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;let a=[];e.targetChanges.forEach((u,p)=>{let v=r.get(p);if(!v)return;a.push(t.qr.removeMatchingKeys(o,u.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,u.addedDocuments,p)));let y=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(xt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):u.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(u.resumeToken,i)),r=r.insert(p,y),function(x,A,F){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(v,y,u)&&a.push(t.qr.updateTargetData(o,y))});let c=gi(),l=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(tB(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!i.isEqual(Z.min())){let u=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.ts=r,o))}function tB(n,e,t){let i=le(),r=le();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=gi();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Z.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:r}})}function nB(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function iB(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,P.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Tc(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Tv(n,e,t){return E(this,null,function*(){let i=X(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Nc(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)})}function LD(n,e,t){let i=X(n),r=Z.min(),o=le();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let p=X(c),v=p.ns.get(u);return v!==void 0?P.resolve(p.ts.get(v)):p.qr.getTargetData(l,u)}(i,s,Hn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Z.min(),t?o:le())).next(a=>(rB(i,yU(e),a),{documents:a,ls:o})))}function rB(n,e,t){let i=n.rs.get(e)||Z.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}var Eh=class{constructor(){this.activeTargetIds=TU()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Dv=class{constructor(){this.eo=new Eh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Eh,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xv=class{ro(e){}shutdown(){}};var Ih=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var sh=null;function w0(){return sh===null?sh=function(){return 268435456+Math.round(2147483648*Math.random())}():sh++,"0x"+sh.toString(16)}var oB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Sv=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var vt="WebChannelConnection",Av=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){let a=w0(),c=this.So(t,i);L("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(t,c,l,r).then(u=>(L("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw vs("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){let r=oB[t];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){let o=w0();return new Promise((s,a)=>{let c=new gD;c.setWithCredentials(!0),c.listenOnce(pD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case rh.NO_ERROR:let u=c.getResponseJson();L(vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case rh.TIMEOUT:L(vt,`RPC '${e}' ${o} timed out`),a(new V(S.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:let p=c.getStatus();if(L(vt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);let y=v?.error;if(y&&y.status&&y.message){let D=function(A){let F=A.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(F)>=0?F:S.UNKNOWN}(y.status);a(new V(D,y.message))}else a(new V(S.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(S.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{L(vt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);L(vt,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}vo(e,t,i){let r=w0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=hD(),a=fD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let u=o.join("");L(vt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let p=s.createWebChannel(u,c),v=!1,y=!1,D=new Sv({co:A=>{y?L(vt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(v||(L(vt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),v=!0),L(vt,`RPC '${e}' stream ${r} sending:`,A),p.send(A))},lo:()=>p.close()}),x=(A,F,ue)=>{A.listen(F,z=>{try{ue(z)}catch(be){setTimeout(()=>{throw be},0)}})};return x(p,pc.EventType.OPEN,()=>{y||L(vt,`RPC '${e}' stream ${r} transport opened.`)}),x(p,pc.EventType.CLOSE,()=>{y||(y=!0,L(vt,`RPC '${e}' stream ${r} transport closed`),D.Ro())}),x(p,pc.EventType.ERROR,A=>{y||(y=!0,vs(vt,`RPC '${e}' stream ${r} transport errored:`,A),D.Ro(new V(S.UNAVAILABLE,"The operation could not be completed")))}),x(p,pc.EventType.MESSAGE,A=>{var F;if(!y){let ue=A.data[0];Oe(!!ue);let z=ue,be=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(be){L(vt,`RPC '${e}' stream ${r} received error:`,be);let Ze=be.status,ge=function(ir){let eo=Qe[ir];if(eo!==void 0)return _x(eo)}(Ze),dt=be.message;ge===void 0&&(ge=S.INTERNAL,dt="Unknown error status: "+Ze+" with message "+be.message),y=!0,D.Ro(new V(ge,dt)),p.close()}else L(vt,`RPC '${e}' stream ${r} received:`,ue),D.Vo(ue)}}),x(a,mD.STAT_EVENT,A=>{A.stat===v0.PROXY?L(vt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===v0.NOPROXY&&L(vt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.Ao()},0),D}};function C0(){return typeof document<"u"?document:null}function Hh(n){return new tv(n,!0)}var Th=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Dh=class{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Th(e,t)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return E(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return E(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){return E(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():t&&t.code===S.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(t)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{let r=new V(S.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){let i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(()=>E(this,null,function*(){this.state=0,this.start()}))}o_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Mv=class extends Dh{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();let t=UU(this.serializer,e),i=function(o){if(!("targetChange"in o))return Z.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?Wn(s.readTime):Z.min()}(e);return this.listener.a_(t,i)}u_(e){let t={};t.database=ov(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=G0(c)?{documents:qU(o,c)}:{query:GU(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=vx(o,s.resumeToken);let l=nv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=Ch(o,s.snapshotVersion.toTimestamp());let l=nv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=HU(this.serializer,e);i&&(t.labels=i),this.e_(t)}c_(e){let t={};t.database=ov(this.serializer),t.removeTarget=e,this.e_(t)}},Pv=class extends Dh{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let t=$U(e.writeResults,e.commitTime),i=Wn(e.commitTime);return this.listener.I_(i,t)}return Oe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=ov(this.serializer),this.e_(e)}P_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>BU(this.serializer,i))};this.e_(t)}};var Rv=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new V(S.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(S.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var Nv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(mi(t),this.f_=!1):L("OnlineStateTracker",t)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var Ov=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{i.enqueueAndForget(()=>E(this,null,function*(){Zr(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(c){return E(this,null,function*(){let l=X(c);l.C_.add(4),yield Oc(l),l.M_.set("Unknown"),l.C_.delete(4),yield Wh(l)})}(this))}))}),this.M_=new Nv(i,r)}};function Wh(n){return E(this,null,function*(){if(Zr(n))for(let e of n.v_)yield e(!0)})}function Oc(n){return E(this,null,function*(){for(let e of n.v_)yield e(!1)})}function Dx(n,e){let t=X(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),dy(t)?uy(t):Ns(t).Ho()&&ly(t,e))}function xx(n,e){let t=X(n),i=Ns(t);t.D_.delete(e),i.Ho()&&Sx(t,e),t.D_.size===0&&(i.Ho()?i.Zo():Zr(t)&&t.M_.set("Unknown"))}function ly(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ns(n).u_(e)}function Sx(n,e){n.x_.Oe(e),Ns(n).c_(e)}function uy(n){n.x_=new ev({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ns(n).start(),n.M_.g_()}function dy(n){return Zr(n)&&!Ns(n).jo()&&n.D_.size>0}function Zr(n){return X(n).C_.size===0}function Ax(n){n.x_=void 0}function sB(n){return E(this,null,function*(){n.D_.forEach((e,t)=>{ly(n,e)})})}function aB(n,e){return E(this,null,function*(){Ax(n),dy(n)?(n.M_.w_(e),uy(n)):n.M_.set("Unknown")})}function cB(n,e,t){return E(this,null,function*(){if(n.M_.set("Online"),e instanceof yh&&e.state===2&&e.cause)try{yield function(r,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.D_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.D_.delete(a),r.x_.removeTarget(a))})}(n,e)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield xh(n,i)}else if(e instanceof gs?n.x_.$e(e):e instanceof vh?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Z.min()))try{let i=yield Tx(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(xt.EMPTY_BYTE_STRING,u.snapshotVersion)),Sx(o,c);let p=new Tc(u.target,c,l,u.sequenceNumber);ly(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){L("RemoteStore","Failed to raise snapshot:",i),yield xh(n,i)}})}function xh(n,e,t){return E(this,null,function*(){if(!Nc(e))throw e;n.C_.add(1),yield Oc(n),n.M_.set("Offline"),t||(t=()=>Tx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Wh(n)}))})}function Mx(n,e){return e().catch(t=>xh(n,t,e))}function Kh(n){return E(this,null,function*(){let e=X(n),t=tr(e),i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;lB(e);)try{let r=yield nB(e.localStore,i);if(r===null){e.b_.length===0&&t.Zo();break}i=r.batchId,uB(e,r)}catch(r){yield xh(e,r)}Px(e)&&Rx(e)})}function lB(n){return Zr(n)&&n.b_.length<10}function uB(n,e){n.b_.push(e);let t=tr(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function Px(n){return Zr(n)&&!tr(n).jo()&&n.b_.length>0}function Rx(n){tr(n).start()}function dB(n){return E(this,null,function*(){tr(n).E_()})}function hB(n){return E(this,null,function*(){let e=tr(n);for(let t of n.b_)e.P_(t.mutations)})}function fB(n,e,t){return E(this,null,function*(){let i=n.b_.shift(),r=Y0.from(i,e,t);yield Mx(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Kh(n)})}function pB(n,e){return E(this,null,function*(){e&&tr(n).h_&&(yield function(i,r){return E(this,null,function*(){if(function(s){return RU(s)&&s!==S.ABORTED}(r.code)){let o=i.b_.shift();tr(i).Yo(),yield Mx(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Kh(i)}})}(n,e)),Px(n)&&Rx(n)})}function jD(n,e){return E(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let i=Zr(t);t.C_.add(3),yield Oc(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Wh(t)})}function mB(n,e){return E(this,null,function*(){let t=X(n);e?(t.C_.delete(2),yield Wh(t)):e||(t.C_.add(2),yield Oc(t),t.M_.set("Unknown"))})}function Ns(n){return n.O_||(n.O_=function(t,i,r){let o=X(t);return o.A_(),new Mv(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:sB.bind(null,n),Io:aB.bind(null,n),a_:cB.bind(null,n)}),n.v_.push(e=>E(this,null,function*(){e?(n.O_.Yo(),dy(n)?uy(n):n.M_.set("Unknown")):(yield n.O_.stop(),Ax(n))}))),n.O_}function tr(n){return n.N_||(n.N_=function(t,i,r){let o=X(t);return o.A_(),new Pv(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:dB.bind(null,n),Io:pB.bind(null,n),T_:hB.bind(null,n),I_:fB.bind(null,n)}),n.v_.push(e=>E(this,null,function*(){e?(n.N_.Yo(),yield Kh(n)):(yield n.N_.stop(),n.b_.length>0&&(L("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))}))),n.N_}var kv=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hy(n,e){if(mi("AsyncQueue",`${e}: ${n}`),Nc(n))return new V(S.UNAVAILABLE,`${e}: ${n}`);throw n}var Sh=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||G.comparator(t.key,i.key):(t,i)=>G.comparator(t.key,i.key),this.keyedMap=gc(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Ah=class{constructor(){this.B_=new Be(G.comparator)}track(e){let t=e.doc.key,i=this.B_.get(t);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(t,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(t):e.type===1&&i.type===2?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):W():this.B_=this.B_.insert(t,e)}L_(){let e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}},Ss=class n{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Sh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var Fv=class{constructor(){this.k_=void 0,this.listeners=[]}},Vv=class{constructor(){this.queries=new er(e=>rx(e),Gh),this.onlineState="Unknown",this.q_=new Set}};function Nx(n,e){return E(this,null,function*(){let t=X(n),i=e.query,r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Fv),r)try{o.k_=yield t.onListen(i)}catch(s){let a=hy(s,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&fy(t)})}function Ox(n,e){return E(this,null,function*(){let t=X(n),i=e.query,r=!1,o=t.queries.get(i);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=o.listeners.length===0)}if(r)return t.queries.delete(i),t.onUnlisten(i)})}function gB(n,e){let t=X(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&fy(t)}function _B(n,e,t){let i=X(n),r=i.queries.get(e);if(r)for(let o of r.listeners)o.onError(t);i.queries.delete(e)}function fy(n){n.q_.forEach(e=>{e.next()})}var Mh=class{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Ss(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;let i=t!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}H_(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Ph=class{constructor(e){this.key=e}},Rh=class{constructor(e){this.key=e}},Lv=class{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=le(),this.mutatedKeys=le(),this._a=ox(e),this.aa=new Sh(this._a)}get ua(){return this.ia}ca(e,t){let i=t?t.la:new Ah,r=t?t.aa:this.aa,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,p)=>{let v=r.get(u),y=zh(this.query,p)?p:null,D=!!v&&this.mutatedKeys.has(v.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;v&&y?v.data.isEqual(y.data)?D!==x&&(i.track({type:3,doc:y}),A=!0):this.ha(v,y)||(i.track({type:2,doc:y}),A=!0,(c&&this._a(y,c)>0||l&&this._a(y,l)<0)&&(a=!0)):!v&&y?(i.track({type:0,doc:y}),A=!0):v&&!y&&(i.track({type:1,doc:v}),A=!0,(c||l)&&(a=!0)),A&&(y?(s=s.add(y),o=x?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((u,p)=>function(y,D){let x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return x(y)-x(D)}(u.type,p.type)||this._a(u.doc,p.doc)),this.Pa(i),r=r!=null&&r;let a=t&&!r?this.Ia():[],c=this.oa.size===0&&this.current&&!r?1:0,l=c!==this.sa;return this.sa=c,s.length!==0||l?{snapshot:new Ss(this.query,e.aa,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Ah,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=le(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});let t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new Rh(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new Ph(i))}),t}da(e){this.ia=e.ls,this.oa=le();let t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Ss.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},jv=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Uv=class{constructor(e){this.key=e,this.Ra=!1}},Bv=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new er(a=>rx(a),Gh),this.fa=new Map,this.ga=new Set,this.pa=new Be(G.comparator),this.ya=new Map,this.wa=new xc,this.Sa={},this.ba=new Map,this.Da=Dc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function vB(n,e){return E(this,null,function*(){let t=SB(n),i,r,o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{let s=yield iB(t.localStore,Hn(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield yB(t,e,i,a==="current",s.resumeToken),t.isPrimaryClient&&Dx(t.remoteStore,s)}return r})}function yB(n,e,t,i,r){return E(this,null,function*(){n.va=(p,v,y)=>function(x,A,F,ue){return E(this,null,function*(){let z=A.view.ca(F);z.Zi&&(z=yield LD(x.localStore,A.query,!1).then(({documents:dt})=>A.view.ca(dt,z)));let be=ue&&ue.targetChanges.get(A.targetId),Ze=ue&&ue.targetMismatches.get(A.targetId)!=null,ge=A.view.applyChanges(z,x.isPrimaryClient,be,Ze);return BD(x,A.targetId,ge.Ta),ge.snapshot})}(n,p,v,y);let o=yield LD(n.localStore,e,!0),s=new Lv(e,o.ls),a=s.ca(o.documents),c=Ic.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),l=s.applyChanges(a,n.isPrimaryClient,c);BD(n,t,l.Ta);let u=new jv(e,t,s);return n.ma.set(e,u),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),l.snapshot})}function wB(n,e){return E(this,null,function*(){let t=X(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Gh(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Tv(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),xx(t.remoteStore,i.targetId),$v(t,i.targetId)}).catch(Rc))):($v(t,i.targetId),yield Tv(t.localStore,i.targetId,!0))})}function CB(n,e,t){return E(this,null,function*(){let i=AB(n);try{let r=yield function(s,a){let c=X(s),l=ut.now(),u=a.reduce((y,D)=>y.add(D.key),le()),p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=gi(),x=le();return c.ss.getEntries(y,u).next(A=>{D=A,D.forEach((F,ue)=>{ue.isValidDocument()||(x=x.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,D)).next(A=>{p=A;let F=[];for(let ue of a){let z=PU(ue,p.get(ue.key).overlayedDocument);z!=null&&F.push(new Qn(ue.key,z,JD(z.value.mapValue),Yi.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,F,a)}).next(A=>{v=A;let F=A.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(y,A.batchId,F)})}).then(()=>({batchId:v.batchId,changes:ax(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Be(Ce)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(i,r.batchId,t),yield kc(i,r.changes),yield Kh(i.remoteStore)}catch(r){let o=hy(r,"Failed to persist write");t.reject(o)}})}function kx(n,e){return E(this,null,function*(){let t=X(n);try{let i=yield eB(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.ya.get(o);s&&(Oe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Oe(s.Ra):r.removedDocuments.size>0&&(Oe(s.Ra),s.Ra=!1))}),yield kc(t,i,e)}catch(i){yield Rc(i)}})}function UD(n,e,t){let i=X(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=X(s);c.onlineState=a;let l=!1;c.queries.forEach((u,p)=>{for(let v of p.listeners)v.Q_(a)&&(l=!0)}),l&&fy(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function bB(n,e,t){return E(this,null,function*(){let i=X(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.ya.get(e),o=r&&r.key;if(o){let s=new Be(G.comparator);s=s.insert(o,Tn.newNoDocument(o,Z.min()));let a=le().add(o),c=new _h(Z.min(),new Map,new Be(Ce),s,a);yield kx(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),py(i)}else yield Tv(i.localStore,e,!1).then(()=>$v(i,e,t)).catch(Rc)})}function EB(n,e){return E(this,null,function*(){let t=X(n),i=e.batch.batchId;try{let r=yield XU(t.localStore,e);Vx(t,i,null),Fx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield kc(t,r)}catch(r){yield Rc(r)}})}function IB(n,e,t){return E(this,null,function*(){let i=X(n);try{let r=yield function(s,a){let c=X(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Oe(p!==null),u=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);Vx(i,e,t),Fx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield kc(i,r)}catch(r){yield Rc(r)}})}function Fx(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function Vx(n,e,t){let i=X(n),r=i.Sa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function $v(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||Lx(n,i)})}function Lx(n,e){n.ga.delete(e.path.canonicalString());let t=n.pa.get(e);t!==null&&(xx(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),py(n))}function BD(n,e,t){for(let i of t)i instanceof Ph?(n.wa.addReference(i.key,e),TB(n,i)):i instanceof Rh?(L("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||Lx(n,i.key)):W()}function TB(n,e){let t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(L("SyncEngine","New document in limbo: "+t),n.ga.add(i),py(n))}function py(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){let e=n.ga.values().next().value;n.ga.delete(e);let t=new G(Le.fromString(e)),i=n.Da.next();n.ya.set(i,new Uv(t)),n.pa=n.pa.insert(t,i),Dx(n.remoteStore,new Tc(Hn(ay(t.path)),i,"TargetPurposeLimboResolution",KD._e))}}function kc(n,e,t){return E(this,null,function*(){let i=X(n),r=[],o=[],s=[];i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=Cv.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield function(c,l){return E(this,null,function*(){let u=X(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,v=>P.forEach(v.ki,y=>u.persistence.referenceDelegate.addReference(p,v.targetId,y)).next(()=>P.forEach(v.qi,y=>u.persistence.referenceDelegate.removeReference(p,v.targetId,y)))))}catch(p){if(!Nc(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let v=p.targetId;if(!p.fromCache){let y=u.ts.get(v),D=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(D);u.ts=u.ts.insert(v,x)}}})}(i.localStore,o))})}function DB(n,e){return E(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let i=yield Ix(t.localStore,e);t.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new V(S.CANCELLED,s))})}),o.ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield kc(t,i._s)}})}function xB(n,e){let t=X(n),i=t.ya.get(e);if(i&&i.Ra)return le().add(i.key);{let r=le(),o=t.fa.get(e);if(!o)return r;for(let s of o){let a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function SB(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bB.bind(null,e),e.Va.a_=gB.bind(null,e.eventManager),e.Va.Fa=_B.bind(null,e.eventManager),e}function AB(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IB.bind(null,e),e}var Nh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return E(this,null,function*(){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ZU(this.persistence,new Ev,e.initialUser,this.serializer)}createPersistence(e){return new vv(wv.jr,this.serializer)}createSharedClientState(e){return new Dv}terminate(){return E(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var qv=class{initialize(e,t){return E(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>UD(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DB.bind(null,this.syncEngine),yield mB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Vv}()}createDatastore(e){let t=Hh(e.databaseInfo.databaseId),i=function(o){return new Av(o)}(e.databaseInfo);return function(o,s,a,c){return new Rv(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,s,a){return new Ov(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,t=>UD(this.syncEngine,t,0),function(){return Ih.D()?new Ih:new xv}())}createSyncEngine(e,t){return function(r,o,s,a,c,l,u){let p=new Bv(r,o,s,a,c,l);return u&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(t){return E(this,null,function*(){let i=X(t);L("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Oc(i),i.F_.shutdown(),i.M_.set("Unknown")})}(this.remoteStore)}};var Oh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var Gv=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=rt.UNAUTHENTICATED,this.clientId=uh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>E(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return E(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=hy(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function b0(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>E(this,null,function*(){i.isEqual(r)||(yield Ix(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function $D(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield PB(n);L("FirestoreClient","Initializing OnlineComponentProvider");let i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>jD(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>jD(e.remoteStore,o)),n._onlineComponents=e})}function MB(n){return n.name==="FirebaseError"?n.code===S.FAILED_PRECONDITION||n.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function PB(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield b0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!MB(t))throw t;vs("Error using user provided cache. Falling back to memory cache: "+t),yield b0(n,new Nh)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield b0(n,new Nh);return n._offlineComponents})}function jx(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield $D(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield $D(n,new qv))),n._onlineComponents})}function RB(n){return jx(n).then(e=>e.syncEngine)}function Ux(n){return E(this,null,function*(){let e=yield jx(n),t=e.eventManager;return t.onListen=vB.bind(null,e.syncEngine),t.onUnlisten=wB.bind(null,e.syncEngine),t})}function NB(n,e,t={}){let i=new In;return n.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(o,s,a,c,l){let u=new Oh({next:v=>{s.enqueueAndForget(()=>Ox(o,p));let y=v.docs.has(a);!y&&v.fromCache?l.reject(new V(S.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?l.reject(new V(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(v)},error:v=>l.reject(v)}),p=new Mh(ay(a.path),u,{includeMetadataChanges:!0,J_:!0});return Nx(o,p)}(yield Ux(n),n.asyncQueue,e,t,i)})),i.promise}function OB(n,e,t={}){let i=new In;return n.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(o,s,a,c,l){let u=new Oh({next:v=>{s.enqueueAndForget(()=>Ox(o,p)),v.fromCache&&c.source==="server"?l.reject(new V(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(v)},error:v=>l.reject(v)}),p=new Mh(a,u,{includeMetadataChanges:!0,J_:!0});return Nx(o,p)}(yield Ux(n),n.asyncQueue,e,t,i)})),i.promise}function Bx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var qD=new Map;function $x(n,e,t){if(!t)throw new V(S.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kB(n,e,t,i){if(e===!0&&i===!0)throw new V(S.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function GD(n){if(!G.isDocumentKey(n))throw new V(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zD(n){if(G.isDocumentKey(n))throw new V(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":W()}function nr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Qh(n);throw new V(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var kh=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new V(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},As=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kh(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new E0;switch(i.type){case"firstParty":return new x0(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new V(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=qD.get(t);i&&(L("ComponentProvider","Removing Datastore"),qD.delete(t),i.terminate())}(this),Promise.resolve()}};function qx(n,e,t,i={}){var r;let o=(n=nr(n,As))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=rt.MOCK_USER;else{a=mT(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new V(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new rt(l)}n._authCredentials=new I0(new lh(a,c))}}var Ms=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Vt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ji=class n extends Ms{constructor(e,t,i){super(e,t,ay(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Gx(n,e,...t){if(n=Tt(n),$x("collection","path",e),n instanceof As){let i=Le.fromString(e,...t);return zD(i),new Ji(n,null,i)}{if(!(n instanceof Vt||n instanceof Ji))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Le.fromString(e,...t));return zD(i),new Ji(n.firestore,null,i)}}function my(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=uh.newId()),$x("doc","path",e),n instanceof As){let i=Le.fromString(e,...t);return GD(i),new Vt(n,null,new G(i))}{if(!(n instanceof Vt||n instanceof Ji))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Le.fromString(e,...t));return GD(i),new Vt(n.firestore,n instanceof Ji?n.converter:null,new G(i))}}var zv=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Th(this,"async_queue_retry"),this.iu=()=>{let t=C0();t&&L("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};let e=C0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let t=C0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let t=new In;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return E(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Nc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw mi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);let r=kv.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&W()}verifyOperationInProgress(){}uu(){return E(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Xa)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let t=this.Xa.indexOf(e);this.Xa.splice(t,1)}};var Yr=class extends As{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new zv}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hx(this),this._firestoreClient.terminate()}};function zx(n,e){let t=typeof n=="object"?n:ja(),i=typeof n=="string"?n:e||"(default)",r=d_(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=fT("firestore");o&&qx(r,...o)}return r}function gy(n){return n._firestoreClient||Hx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Hx(n){var e,t,i;let r=n._freezeSettings(),o=function(a,c,l,u){return new R0(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Bx(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new Gv(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Sc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(xt.fromBase64String(e))}catch(t){throw new V(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ps=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ac=class{constructor(e){this._methodName=e}};var Mc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}};var FB=/^__.*__$/,Hv=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Qn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qr(e,this.data,t,this.fieldTransforms)}},Fh=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Qn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Wx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var Wv=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Lh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Wx(this.Iu)&&FB.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},Kv=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hh(e)}pu(e,t,i,r=!1){return new Wv({Iu:e,methodName:t,gu:i,path:Qt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _y(n){let e=n._freezeSettings(),t=Hh(n._databaseId);return new Kv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VB(n,e,t,i,r,o={}){let s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);vy("Data must be an object, but it was:",s,i);let a=Kx(i,s),c,l;if(o.merge)c=new fn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let p of o.mergeFields){let v=Qv(e,p,t);if(!s.contains(v))throw new V(S.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Yx(u,v)||u.push(v)}c=new fn(u),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new Hv(new Kt(a),c,l)}var Vh=class n extends Ac{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function LB(n,e,t,i){let r=n.pu(1,e,t);vy("Data must be an object, but it was:",r,i);let o=[],s=Kt.empty();Jr(i,(c,l)=>{let u=yy(e,c,t);l=Tt(l);let p=r.Ru(u);if(l instanceof Vh)o.push(u);else{let v=Fc(l,p);v!=null&&(o.push(u),s.set(u,v))}});let a=new fn(o);return new Fh(s,a,r.fieldTransforms)}function jB(n,e,t,i,r,o){let s=n.pu(1,e,t),a=[Qv(e,i,t)],c=[r];if(o.length%2!=0)throw new V(S.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(Qv(e,o[v])),c.push(o[v+1]);let l=[],u=Kt.empty();for(let v=a.length-1;v>=0;--v)if(!Yx(l,a[v])){let y=a[v],D=c[v];D=Tt(D);let x=s.Ru(y);if(D instanceof Vh)l.push(y);else{let A=Fc(D,x);A!=null&&(l.push(y),u.set(y,A))}}let p=new fn(l);return new Fh(u,p,s.fieldTransforms)}function UB(n,e,t,i=!1){return Fc(t,n.pu(i?4:3,e))}function Fc(n,e){if(Qx(n=Tt(n)))return vy("Unsupported field value:",e,n),Kx(n,e);if(n instanceof Ac)return function(i,r){if(!Wx(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=Fc(a,r.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return DU(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=ut.fromDate(i);return{timestampValue:Ch(r.serializer,o)}}if(i instanceof ut){let o=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ch(r.serializer,o)}}if(i instanceof Mc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sc)return{bytesValue:vx(r.serializer,i._byteString)};if(i instanceof Vt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cy(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Qh(i)}`)}(n,e)}function Kx(n,e){let t={};return QD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(n,(i,r)=>{let o=Fc(r,e.Eu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function Qx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof Mc||n instanceof Sc||n instanceof Vt||n instanceof Ac)}function vy(n,e,t){if(!Qx(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Qh(t);throw i==="an object"?e.mu(n+" a custom object"):e.mu(n+" "+i)}}function Qv(n,e,t){if((e=Tt(e))instanceof Ps)return e._internalPath;if(typeof e=="string")return yy(n,e);throw Lh("Field path arguments must be of type string or ",n,!1,void 0,t)}var BB=new RegExp("[~\\*/\\[\\]]");function yy(n,e,t){if(e.search(BB)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ps(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lh(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new V(S.INVALID_ARGUMENT,a+n+c)}function Yx(n,e){return n.some(t=>t.isEqual(e))}var jh=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Yv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(wy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Yv=class extends jh{data(){return super.data()}};function wy(n,e){return typeof e=="string"?yy(n,e):e instanceof Ps?e._internalPath:e._delegate._internalPath}function $B(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pc=class{},Jv=class extends Pc{};function Jx(n,e,...t){let i=[];e instanceof Pc&&i.push(e),i=i.concat(t),function(o){let s=o.filter(c=>c instanceof Zv).length,a=o.filter(c=>c instanceof Uh).length;if(s>1||s>0&&a>0)throw new V(S.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var Uh=class n extends Jv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return Xx(e._query,t),new Ms(e.firestore,e.converter,z0(e._query,t))}_parse(e){let t=_y(e.firestore);return function(o,s,a,c,l,u,p){let v;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new V(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){WD(p,u);let y=[];for(let D of p)y.push(HD(c,o,D));v={arrayValue:{values:y}}}else v=HD(c,o,p)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||WD(p,u),v=UB(a,s,p,u==="in"||u==="not-in");return Je.create(l,u,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Zx(n,e,t){let i=e,r=wy("where",n);return Uh._create(r,i,t)}var Zv=class n extends Pc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Dn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)Xx(s,c),s=z0(s,c)}(e._query,t),new Ms(e.firestore,e.converter,z0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function HD(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ix(e)&&t.indexOf("/")!==-1)throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(Le.fromString(t));if(!G.isDocumentKey(i))throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return CD(n,new G(i))}if(t instanceof Vt)return CD(n,t._key);throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(t)}.`)}function WD(n,e){if(!Array.isArray(n)||n.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xx(n,e){let t=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new V(S.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(S.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Xv=class{convertValue(e,t="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw W()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Jr(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new Mc(Ue(e.latitude),Ue(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=iy(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(bc(e));default:return null}}convertTimestamp(e){let t=Zi(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Le.fromString(e);Oe(Ex(i));let r=new ph(i.get(1),i.get(3)),o=new G(i.popFirst(5));return r.isEqual(t)||mi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function qB(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var $r=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Bh=class extends jh{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new _s(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(wy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},_s=class extends Bh{data(e={}){return super.data(e)}},ey=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $r(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _s(this._firestore,this._userDataWriter,i.key,i,new $r(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new _s(r._firestore,r._userDataWriter,a.doc.key,a.doc,new $r(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new _s(r._firestore,r._userDataWriter,a.doc.key,a.doc,new $r(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:GB(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function GB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function eS(n){n=nr(n,Vt);let e=nr(n.firestore,Yr);return NB(gy(e),n._key).then(t=>zB(e,n,t))}var $h=class extends Xv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}};function tS(n){n=nr(n,Ms);let e=nr(n.firestore,Yr),t=gy(e),i=new $h(e);return $B(n._query),OB(t,n._query).then(r=>new ey(e,i,n,r))}function nS(n,e,t,...i){n=nr(n,Vt);let r=nr(n.firestore,Yr),o=_y(r),s;return s=typeof(e=Tt(e))=="string"||e instanceof Ps?jB(o,"updateDoc",n._key,e,t,i):LB(o,"updateDoc",n._key,e),rS(r,[s.toMutation(n._key,Yi.exists(!0))])}function iS(n,e){let t=nr(n.firestore,Yr),i=my(n),r=qB(n.converter,e);return rS(t,[VB(_y(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Yi.exists(!1))]).then(()=>i)}function rS(n,e){return function(i,r){let o=new In;return i.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return CB(yield RB(i),r,o)})),o.promise}(gy(n),e)}function zB(n,e,t){let i=t.docs.get(e._key),r=new $h(n);return new Bh(n,r,e._key,i,new $r(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Rs=r})(is),Hi(new dn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Yr(new T0(i.getProvider("auth-internal")),new A0(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ph(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tt(vD,"4.4.0",e),tt(vD,"4.4.0","esm2017")})();var Xr=class{constructor(e){return e}},oS="firestore",Cy=class{constructor(){return Ba(oS)}};var by=new U("angularfire2.firestore-instances");function HB(n,e){let t=p_(oS,n,e);return t&&new Xr(t)}function WB(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Xr(i)}}var KB={provide:Cy,deps:[[new Xt,by]]},QB={provide:Xr,useFactory:HB,deps:[[new Xt,by],Rr]},YB=(()=>{class n{constructor(){tt("angularfire",os.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Nt({type:n});static \u0275inj=Rt({providers:[QB,KB]})}return n})();function sS(n,...e){return{ngModule:YB,providers:[{provide:by,useFactory:WB(n),multi:!0,deps:[Ee,kt,$a,qa,[new Xt,Ad],[new Xt,Ua],...e]}]}}var Ey=Ht(iS,!0);var Vc=Ht(Gx,!0);var Yh=Ht(my,!0);var Iy=Ht(eS,!0);var Ty=Ht(tS,!0);var aS=Ht(zx,!0);var cS=Ht(Jx,!0);var lS=Ht(nS,!0);var uS=Ht(Zx,!0);var Os=(()=>{class n{constructor(t){this.firestore=t}saveMatch(t){return E(this,null,function*(){let i=yield Ey(Vc(this.firestore,"matches"),Y(M({},t),{heureDebut:t.heureDebut.toISOString(),updatedAt:new Date}));return console.log("Match saved:",i.id),i.id})}getAllMatches(){return E(this,null,function*(){let t=Vc(this.firestore,"matches");return(yield Ty(t)).docs.map(r=>{let o=r.data();return{equipe1:o.equipe1||"",equipe2:o.equipe2||"",score1:o.score1||0,score2:o.score2||0,buteurs:o.buteurs||[],heureDebut:new Date(o.date),lieu:o.lieu||"",positions:o.positions||{},showElements:o.showElements!==void 0?o.showElements:!0,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date,duelsGagnes:o.duelsGagnes||[],dribbles:o.dribbles||[],interceptions:o.interceptions||[],frappes:o.frappes||[],fautes:o.fautes||[],contreAttaques:o.contreAttaques||[],tikiTakas:o.tikiTakas||[],competition:o.competition||void 0}})})}getMatchById(t){return E(this,null,function*(){let i=yield Iy(Yh(this.firestore,"matches",t));if(i.exists()){let r=i.data();return{equipe1:r.equipe1||"",equipe2:r.equipe2||"",score1:r.score1||0,score2:r.score2||0,buteurs:r.buteurs||[],heureDebut:new Date(r.heureDebut),lieu:r.lieu||"",positions:r.positions||{},showElements:r.showElements!==void 0?r.showElements:!0,competition:r.competition||void 0,updatedAt:r.updatedAt?new Date(r.updatedAt):new Date,duelsGagnes:r.duelsGagnes||[],dribbles:r.dribbles||[],interceptions:r.interceptions||[],frappes:r.frappes||[],fautes:r.fautes||[],contreAttaques:r.contreAttaques||[],tikiTakas:r.tikiTakas||[]}}return null})}saveCompetition(t){return E(this,null,function*(){let i=yield Ey(Vc(this.firestore,"competitions"),Y(M({},t),{createdAt:new Date,updatedAt:new Date}));return console.log("Competition saved:",i.id),i.id})}getCompetitionById(t){return E(this,null,function*(){let i=yield Iy(Yh(this.firestore,"competitions",t));return i.exists()?Y(M({},i.data()),{id:i.id}):null})}getCompetitionByName(t){return E(this,null,function*(){let i=Vc(this.firestore,"competitions"),r=cS(i,uS("name","==",t)),o=yield Ty(r);if(!o.empty){let s=o.docs[0];return Y(M({},s.data()),{id:s.id})}return null})}addMatchToCompetition(t,i){return E(this,null,function*(){let r=Yh(this.firestore,"competitions",t),o=yield this.getCompetitionById(t);if(o){let s=[...o.matchIds,i];yield lS(r,{matchIds:s,updatedAt:new Date})}})}getMatchesByCompetition(t){return E(this,null,function*(){let i=yield this.getCompetitionById(t);if(!i)return[];let r=[];for(let o of i.matchIds){let s=yield this.getMatchById(o);s&&r.push(s)}return r})}shareCompetition(t,i,r){return E(this,null,function*(){let o={name:t,matchIds:[],createdAt:new Date,updatedAt:new Date},s=yield this.saveCompetition(o);return r?.("Comp\xE9tition cr\xE9\xE9e"),s})}static{this.\u0275fac=function(i){return new(i||n)(B(Xr))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xn=()=>({standalone:!0}),ZB=n=>({"disabled-goal":n}),XB=()=>[],e4=(n,e)=>({"text-success":n,"text-danger":e});function t4(n,e){if(n&1){let t=R();f(0,"button",36),I("click",function(){w(t);let r=_();return C(r.showMatchForm=!0)}),b(1,"i",37),f(2,"span",38),m(3," Match"),h()()}if(n&2){let t=_();d(2),g("hidden",!t.selectedCompetitionFilter.includes("-"))}}function n4(n,e){if(n&1){let t=R();f(0,"button",36),I("click",function(){w(t);let r=_();return C(r.showTeamFilterModal=!0)}),b(1,"i",39),f(2,"span",38),m(3," Teams"),h()()}if(n&2){let t=_();d(2),g("hidden",!t.selectedCompetitionFilter.includes("-"))}}function i4(n,e){if(n&1){let t=R();f(0,"button",40),I("click",function(){w(t);let r=_();return C(r.openCompetitionFilterModal())}),b(1,"i",41),f(2,"span",42),m(3),h()()}if(n&2){let t=_();g("ngClass",t.selectedCompetitionFilter?t.getCompetitionBadgeColor(t.selectedCompetitionFilter):"btn-info"),d(3),O(" ",t.selectedCompetitionFilter||t.getCurrentSeason(),"")}}function r4(n,e){if(n&1){let t=R();f(0,"button",43),I("click",function(){w(t);let r=_();return C(r.showRanking())}),b(1,"i",44)(2,"span"),h()}if(n&2){let t=_();g("ngClass",t.selectedCompetitionFilter?t.getCompetitionBadgeColor(t.selectedCompetitionFilter):"btn-info")("hidden",!t.selectedCompetitionFilter),d(),Ie("text-white",t.selectedCompetitionFilter),d(),Ie("text-white",t.selectedCompetitionFilter)}}function o4(n,e){if(n&1){let t=R();f(0,"button",45),I("click",function(){w(t);let r=_();return C(r.shareCompetition())}),b(1,"i",46)(2,"span"),h()}if(n&2){let t=_();g("ngClass",t.selectedCompetitionFilter?t.getCompetitionBadgeColor(t.selectedCompetitionFilter):"btn-info")("hidden",!t.selectedCompetitionFilter)("disabled",t.isSharingCompetition),d(),Ie("text-white",t.selectedCompetitionFilter),g("ngClass",t.isSharingCompetition?"fa-spinner fa-spin":"fa-share-alt"),d(),Ie("text-white",t.selectedCompetitionFilter)}}function s4(n,e){if(n&1&&(Se(0),m(1),Ae()),n&2){let t=_(2);d(),O(" de ",t.selectedCompetitionFilter," ")}}function a4(n,e){if(n&1){let t=R();f(0,"button",73),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.deleteTeam(r.name))}),b(1,"i",74),h()}}function c4(n,e){if(n&1){let t=R();f(0,"div",52)(1,"div",53)(2,"div",54)(3,"div",55)(4,"input",66),me("ngModelChange",function(r){w(t);let o=_(2);return _e(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),C(r)}),h(),f(5,"label",67)(6,"span",68),m(7),h(),f(8,"small",69),m(9),h()()()(),f(10,"div",60)(11,"button",70),I("click",function(){let r=w(t).$implicit,o=_(2);return C(o.openEditPlayersModal(r.name))}),b(12,"i",71),h(),T(13,a4,2,0,"button",72),h()()()}if(n&2){let t=e.$implicit,i=_(2);d(4),g("value",t.name),pe("ngModel",i.selectedTeamFilter),g("id","team-"+t.name),d(3),te(t.name),d(2),O("(",i.getMatchesPlayedByTeam(t.name)," matchs)"),d(4),g("ngIf",i.showDeleteButtons)}}function l4(n,e){if(n&1){let t=R();f(0,"div",47)(1,"div",48)(2,"div",26)(3,"h5",27),b(4,"i",49),m(5," S\xE9lectionner une \xC9quipe "),h(),f(6,"button",50),I("click",function(){w(t);let r=_();return C(r.closeTeamFilterModal())}),f(7,"span",51),m(8,"\xD7"),h()()(),f(9,"div",29)(10,"div",52)(11,"div",53)(12,"div",54)(13,"div",55)(14,"input",56),me("ngModelChange",function(r){w(t);let o=_();return _e(o.selectedTeamFilter,r)||(o.selectedTeamFilter=r),C(r)}),h(),f(15,"label",57)(16,"span",58),m(17," Toutes les \xE9quipes "),T(18,s4,2,1,"ng-container",59),h()()()(),b(19,"div",60),h()(),T(20,c4,14,6,"div",61),h(),f(21,"div",34)(22,"button",62),I("click",function(){w(t);let r=_();return C(r.openNewTeamModal())}),b(23,"i",63),m(24," Nouvelle \xC9quipe "),h(),f(25,"button",64),I("click",function(){w(t);let r=_();return C(r.closeTeamFilterModal())}),b(26,"i",65),m(27,"Fermer "),h()()()()}if(n&2){let t=_();d(14),g("value",""),pe("ngModel",t.selectedTeamFilter),d(4),g("ngIf",t.selectedCompetitionFilter),d(2),g("ngForOf",t.filteredTeamsForModal)}}function u4(n,e){if(n&1){let t=R();f(0,"app-competition-filter-modal",75),I("seasonChanged",function(r){w(t);let o=_();return C(o.onSeasonChanged(r))})("competitionSelected",function(r){w(t);let o=_();return C(o.onCompetitionSelected(r))})("competitionAdded",function(r){w(t);let o=_();return C(o.onCompetitionAdded(r))})("competitionUpdated",function(r){w(t);let o=_();return C(o.onCompetitionUpdated(r))})("competitionDeleted",function(r){w(t);let o=_();return C(o.onCompetitionDeleted(r))})("assignSeason",function(r){w(t);let o=_();return C(o.onAssignSeason(r))})("closeModal",function(){w(t);let r=_();return C(r.closeCompetitionFilterModal())}),h()}if(n&2){let t=_();g("competitions",t.uniqueCompetitions)("selectedSeason",t.selectedSeason)("availableSeasons",t.filteredSeasonsForModal)("selectedCompetition",t.selectedCompetitionFilter)("isCompetitionWithoutSeason",t.isCompetitionWithoutSeason.bind(t))("getSuggestedSeason",t.getSuggestedSeasonForCompetition.bind(t))("showDeleteButtons",t.showDeleteButtons)}}function d4(n,e){if(n&1){let t=R();f(0,"button",106),I("click",function(){let r=w(t).$implicit,o=_(3);return C(o.selectTeam1(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function h4(n,e){if(n&1&&(f(0,"div",104),T(1,d4,2,1,"button",105),h()),n&2){let t=_(2);d(),g("ngForOf",t.filteredTeams1)}}function f4(n,e){if(n&1){let t=R();f(0,"div",107)(1,"button",108),I("click",function(){w(t);let r=_(2);return C(r.openNewTeamModalFor("equipe1"))}),m(2),h()()}if(n&2){let t=_(2);d(2),O(' Cr\xE9er "',t.team1Search,'" ')}}function p4(n,e){if(n&1){let t=R();f(0,"button",106),I("click",function(){let r=w(t).$implicit,o=_(3);return C(o.selectTeam2(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function m4(n,e){if(n&1&&(f(0,"div",104),T(1,p4,2,1,"button",105),h()),n&2){let t=_(2);d(),g("ngForOf",t.filteredTeams2)}}function g4(n,e){if(n&1){let t=R();f(0,"div",107)(1,"button",108),I("click",function(){w(t);let r=_(2);return C(r.openNewTeamModalFor("equipe2"))}),m(2),h()()}if(n&2){let t=_(2);d(2),O(' Cr\xE9er "',t.team2Search,'" ')}}function _4(n,e){if(n&1){let t=R();f(0,"button",106),I("click",function(){let r=w(t).$implicit,o=_(3);return C(o.selectCompetition(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function v4(n,e){if(n&1&&(f(0,"div",104),T(1,_4,2,1,"button",105),h()),n&2){let t=_(2);d(),g("ngForOf",t.filteredCompetitions)}}function y4(n,e){if(n&1){let t=R();f(0,"div",107)(1,"button",108),I("click",function(){w(t);let r=_(2);return C(r.selectCompetition(r.competitionSearch))}),m(2),h()()}if(n&2){let t=_(2);d(2),O(' Cr\xE9er "',t.competitionSearch,'" ')}}function w4(n,e){if(n&1){let t=R();f(0,"div",47)(1,"div",76)(2,"div",26)(3,"h4",27),b(4,"i",77),m(5,"Ajouter un Match! "),h(),f(6,"button",50),I("click",function(){w(t);let r=_();return C(r.showMatchForm=!1)}),f(7,"span",51),m(8,"\xD7"),h()()(),f(9,"div",29)(10,"form",78),I("ngSubmit",function(){w(t);let r=_();return C(r.onSubmit())}),f(11,"div",79)(12,"div",80)(13,"div",81)(14,"label",82),m(15,"\xC9quipe 1"),h(),f(16,"input",83),me("ngModelChange",function(r){w(t);let o=_();return _e(o.team1Search,r)||(o.team1Search=r),C(r)}),I("input",function(){w(t);let r=_();return C(r.updateFilteredTeams1())})("focus",function(){w(t);let r=_();return C(r.updateFilteredTeams1())}),h(),b(17,"input",84),T(18,h4,2,1,"div",85)(19,f4,3,1,"div",86),h(),f(20,"div",81)(21,"label",87),m(22,"\xC9quipe 2"),h(),f(23,"input",88),me("ngModelChange",function(r){w(t);let o=_();return _e(o.team2Search,r)||(o.team2Search=r),C(r)}),I("input",function(){w(t);let r=_();return C(r.updateFilteredTeams2())})("focus",function(){w(t);let r=_();return C(r.updateFilteredTeams2())}),h(),b(24,"input",89),T(25,m4,2,1,"div",85)(26,g4,3,1,"div",86),h()(),f(27,"div",80)(28,"div",90)(29,"label",91),m(30,"Heure de d\xE9but"),h(),b(31,"input",92),h(),f(32,"div",90)(33,"label",93),m(34,"Lieu du match (optionnel)"),h(),b(35,"input",94),h(),f(36,"div",81)(37,"label",95),m(38,"Comp\xE9tition (optionnel)"),h(),f(39,"input",96),me("ngModelChange",function(r){w(t);let o=_();return _e(o.competitionSearch,r)||(o.competitionSearch=r),C(r)}),I("input",function(){w(t);let r=_();return C(r.updateFilteredCompetitions())})("focus",function(){w(t);let r=_();return C(r.updateFilteredCompetitions())}),h(),b(40,"input",97),T(41,v4,2,1,"div",85)(42,y4,3,1,"div",86),h()()(),f(43,"div",98)(44,"button",99),m(45," Cr\xE9er le match "),h(),f(46,"button",100),m(47," \u{1F9F0} "),h(),f(48,"button",101),I("click",function(){w(t);let r=_();return C(r.showMatchForm=!1)}),m(49," Annuler "),h(),f(50,"ul",102)(51,"li")(52,"a",103),I("click",function(){w(t);let r=_();return C(r.exportMatches())}),m(53,"Exporter les matchs"),h()(),f(54,"li")(55,"a",103),I("click",function(){w(t);let r=_();return C(r.importMatches())}),m(56,"Importer des matchs"),h()()()()()(),f(57,"div",34)(58,"button",64),I("click",function(){w(t);let r=_();return C(r.showMatchForm=!1)}),b(59,"i",65),m(60,"Annuler "),h()()()()}if(n&2){let t=_();d(10),g("formGroup",t.matchForm),d(6),pe("ngModel",t.team1Search),g("ngModelOptions",Bt(13,xn)),d(2),g("ngIf",t.filteredTeams1.length>0&&t.team1Search),d(),g("ngIf",t.shouldShowCreateTeam1()),d(4),pe("ngModel",t.team2Search),g("ngModelOptions",Bt(14,xn)),d(2),g("ngIf",t.filteredTeams2.length>0&&t.team2Search),d(),g("ngIf",t.shouldShowCreateTeam2()),d(13),pe("ngModel",t.competitionSearch),g("ngModelOptions",Bt(15,xn)),d(2),g("ngIf",t.filteredCompetitions.length>0&&t.competitionSearch),d(),g("ngIf",t.shouldShowCreateCompetition())}}function C4(n,e){n&1&&(f(0,"span",122),m(1,"\u2022"),h())}function b4(n,e){if(n&1&&(f(0,"span"),m(1),h()),n&2){let t=_().$implicit;d(),te(t.lieu)}}function E4(n,e){n&1&&(f(0,"span",122),m(1,"\u2022"),h())}function I4(n,e){if(n&1&&(f(0,"span")(1,"span",123),m(2),h()()),n&2){let t=_().$implicit,i=_(2);d(),g("ngClass",i.getCompetitionBadgeColor(t.competition)),d(),te(t.competition)}}function T4(n,e){n&1&&(f(0,"span"),b(1,"br"),h())}function D4(n,e){n&1&&(f(0,"span"),m(1,","),h())}function x4(n,e){if(n&1&&(f(0,"span",131),m(1),h()),n&2){let t=_(2).$implicit;d(),O("(Assist: ",t.assist,")")}}function S4(n,e){if(n&1&&(Se(0),T(1,T4,2,0,"span",59),m(2),T(3,D4,2,0,"span",59)(4,x4,2,1,"span",130),Ae()),n&2){let t=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),g("ngIf",i<r.minutes.length-1),d(),g("ngIf",r.assist)}}function A4(n,e){if(n&1&&(f(0,"div")(1,"div",128)(2,"span"),m(3),h(),f(4,"span",129),T(5,S4,5,4,"ng-container",111),h()()()),n&2){let t=e.$implicit;d(3),O("\u26BD ",t.nom,":"),d(2),g("ngForOf",t.minutes)}}function M4(n,e){n&1&&(f(0,"span"),b(1,"br"),h())}function P4(n,e){n&1&&(f(0,"span"),m(1,","),h())}function R4(n,e){if(n&1&&(f(0,"span",131),m(1),h()),n&2){let t=_(2).$implicit;d(),O("(Assist: ",t.assist,")")}}function N4(n,e){if(n&1&&(Se(0),T(1,M4,2,0,"span",59),m(2),T(3,P4,2,0,"span",59)(4,R4,2,1,"span",130),Ae()),n&2){let t=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),g("ngIf",i<r.minutes.length-1),d(),g("ngIf",r.assist)}}function O4(n,e){if(n&1&&(f(0,"div")(1,"div",132)(2,"span"),m(3),h(),f(4,"span",129),T(5,N4,5,4,"ng-container",111),h()()()),n&2){let t=e.$implicit;d(3),O("\u26BD ",t.nom,":"),d(2),g("ngForOf",t.minutes)}}function k4(n,e){n&1&&(f(0,"span"),b(1,"br"),h())}function F4(n,e){n&1&&(f(0,"span"),m(1,","),h())}function V4(n,e){if(n&1&&(f(0,"span",131),m(1),h()),n&2){let t=_(2).$implicit;d(),O("(Assist: ",t.assist,")")}}function L4(n,e){if(n&1&&(Se(0),T(1,k4,2,0,"span",59),m(2),T(3,F4,2,0,"span",59)(4,V4,2,1,"span",130),Ae()),n&2){let t=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),g("ngIf",i<r.minutes.length-1),d(),g("ngIf",r.assist)}}function j4(n,e){if(n&1&&(f(0,"div")(1,"div",128)(2,"span"),m(3),h(),f(4,"span",133),T(5,L4,5,4,"ng-container",111),h()()()),n&2){let t=e.$implicit;d(3),O("\u26BD ",t.nom,":"),d(2),g("ngForOf",t.minutes)}}function U4(n,e){n&1&&(f(0,"span"),b(1,"br"),h())}function B4(n,e){n&1&&(f(0,"span"),m(1,","),h())}function $4(n,e){if(n&1&&(f(0,"span",131),m(1),h()),n&2){let t=_(2).$implicit;d(),O("(Assist: ",t.assist,")")}}function q4(n,e){if(n&1&&(Se(0),T(1,U4,2,0,"span",59),m(2),T(3,B4,2,0,"span",59)(4,$4,2,1,"span",130),Ae()),n&2){let t=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),g("ngIf",i<r.minutes.length-1),d(),g("ngIf",r.assist)}}function G4(n,e){if(n&1&&(f(0,"div")(1,"div",132)(2,"span"),m(3),h(),f(4,"span",133),T(5,q4,5,4,"ng-container",111),h()()()),n&2){let t=e.$implicit;d(3),O("\u26BD ",t.nom,":"),d(2),g("ngForOf",t.minutes)}}function z4(n,e){if(n&1&&(f(0,"div",124)(1,"div",125)(2,"div",126),T(3,A4,6,2,"div",111)(4,O4,6,2,"div",111),h(),f(5,"div",127),T(6,j4,6,2,"div",111)(7,G4,6,2,"div",111),h()()()),n&2){let t=_().$implicit,i=_(2);d(3),g("ngForOf",i.getActiveGroupedScorers(t,1)),d(),g("ngForOf",i.getDisabledGroupedScorers(t,1)),d(2),g("ngForOf",i.getActiveGroupedScorers(t,2)),d(),g("ngForOf",i.getDisabledGroupedScorers(t,2))}}function H4(n,e){n&1&&(f(0,"span"),b(1,"br"),h())}function W4(n,e){n&1&&(f(0,"span"),m(1,","),h())}function K4(n,e){if(n&1&&(Se(0),T(1,H4,2,0,"span",59),m(2),T(3,W4,2,0,"span",59),Ae()),n&2){let t=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),g("ngIf",i<r.minutes.length-1)}}function Q4(n,e){if(n&1&&(f(0,"div")(1,"div",128)(2,"span"),m(3),h(),f(4,"span",129),T(5,K4,4,3,"ng-container",111),h()()()),n&2){let t=e.$implicit;d(),on("color",t.color),d(2),Ft("",t.emoji," ",t.nom,":"),d(),on("color",t.color),d(),g("ngForOf",t.minutes)}}function Y4(n,e){n&1&&(f(0,"span"),b(1,"br"),h())}function J4(n,e){n&1&&(f(0,"span"),m(1,","),h())}function Z4(n,e){if(n&1&&(Se(0),T(1,Y4,2,0,"span",59),m(2),T(3,J4,2,0,"span",59),Ae()),n&2){let t=e.$implicit,i=e.index,r=_().$implicit;d(),g("ngIf",i>0&&i%5===0),d(),O(" ",t,"'"),d(),g("ngIf",i<r.minutes.length-1)}}function X4(n,e){if(n&1&&(f(0,"div")(1,"div",128)(2,"span"),m(3),h(),f(4,"span",133),T(5,Z4,4,3,"ng-container",111),h()()()),n&2){let t=e.$implicit;d(),on("color",t.color),d(2),Ft("",t.emoji," ",t.nom,":"),d(),on("color",t.color),d(),g("ngForOf",t.minutes)}}function e$(n,e){if(n&1&&(f(0,"div",124)(1,"div",125)(2,"div",126),T(3,Q4,6,7,"div",111),h(),f(4,"div",127),T(5,X4,6,7,"div",111),h()()()),n&2){let t=_().$implicit,i=_(2);d(3),g("ngForOf",i.getAllGroupedStats(t,1)),d(2),g("ngForOf",i.getAllGroupedStats(t,2))}}function t$(n,e){if(n&1){let t=R();f(0,"div",134)(1,"button",135),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.selectMatch(r))}),b(2,"i",136),h(),f(3,"button",137),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.openDispositionModal(r))}),b(4,"i",138),h(),f(5,"button",139),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.toggleMatchEditForm(r))}),b(6,"i",46),h(),f(7,"button",140),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.shareMatch(r))}),b(8,"i",46),f(9,"span",141),m(10,"Partager"),h()()()}if(n&2){let t=_(3);d(6),g("ngClass",t.showMatchEditForm?"fa-pen-fancy":"fa-edit"),d(),g("disabled",t.isSharingMatch),d(),g("ngClass",t.isSharingMatch?"fa-spinner fa-spin":"fa-share-alt")}}function n$(n,e){if(n&1){let t=R();f(0,"div")(1,"div",112)(2,"div",113)(3,"span"),m(4),wr(5,"date"),h(),T(6,C4,2,0,"span",114)(7,b4,2,1,"span",59)(8,E4,2,0,"span",114)(9,I4,3,2,"span",59),f(10,"button",115),I("click",function(){let r=w(t).$implicit,o=_(2);return C(o.toggleVisibility(r))}),b(11,"i",116),h()(),f(12,"div",117)(13,"div",118),m(14),h(),f(15,"button",119),I("click",function(){let r=w(t).$implicit,o=_(2);return C(o.selectMatch(r))}),m(16),h(),f(17,"div",118),m(18),h()(),T(19,z4,8,4,"div",120)(20,e$,6,2,"div",120)(21,t$,11,3,"div",121),h()()}if(n&2){let t=e.$implicit,i=_(2);Ri("data-match-id",t.id),d(4),te(Xs(5,15,t.heureDebut,"EEEE dd/MM/yy HH:mm")),d(2),g("ngIf",t.lieu),d(),g("ngIf",t.lieu),d(),g("ngIf",t.competition),d(),g("ngIf",t.competition),d(2),g("ngClass",t.showElements?"fa-eye-slash":"fa-circle-info"),d(3),te(t.equipe1),d(),g("ngClass",i.getScoreColor(t)),d(),Ft(" ",t.score1," - ",t.score2," "),d(2),te(t.equipe2),d(),g("ngIf",t.showElements&&t.buteurs.length>0),d(),g("ngIf",t.showElements&&(t.duelsGagnes&&t.duelsGagnes.length>0||t.dribbles&&t.dribbles.length>0||t.interceptions&&t.interceptions.length>0||t.frappes&&t.frappes.length>0||t.fautes&&t.fautes.length>0||t.contreAttaques&&t.contreAttaques.length>0||t.tikiTakas&&t.tikiTakas.length>0)),d(),g("ngIf",t.showElements)}}function i$(n,e){if(n&1&&(f(0,"div",109),b(1,"h2"),f(2,"div",110),T(3,n$,22,18,"div",111),h()()),n&2){let t=_();d(3),g("ngForOf",t.getSortedMatches())}}function r$(n,e){if(n&1&&(Se(0),m(1),f(2,"div",166),m(3),h(),Ae()),n&2){let t=_(2);d(),Ft(" ",t.selectedMatch.score1," - ",t.selectedMatch.score2," "),d(2),Ft(" (",t.getActiveGoalsCount(1)," - ",t.getActiveGoalsCount(2)," buts actifs) ")}}function o$(n,e){if(n&1){let t=R();Se(0),f(1,"div",167)(2,"input",168),me("ngModelChange",function(r){w(t);let o=_(2);return _e(o.selectedMatch.score1,r)||(o.selectedMatch.score1=r),C(r)}),I("input",function(){w(t);let r=_(2);return r.selectedMatch.score1=r.validateScore(r.selectedMatch.score1),C(r.onScoreChange())}),h(),f(3,"span"),m(4,"-"),h(),f(5,"input",168),me("ngModelChange",function(r){w(t);let o=_(2);return _e(o.selectedMatch.score2,r)||(o.selectedMatch.score2=r),C(r)}),I("input",function(){w(t);let r=_(2);return r.selectedMatch.score2=r.validateScore(r.selectedMatch.score2),C(r.onScoreChange())}),h()(),Ae()}if(n&2){let t=_(2);d(2),pe("ngModel",t.selectedMatch.score1),d(3),pe("ngModel",t.selectedMatch.score2)}}function s$(n,e){if(n&1){let t=R();f(0,"button",106),I("click",function(){let r=w(t).$implicit,o=_(4);return C(o.selectButeurName(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function a$(n,e){if(n&1&&(f(0,"div",104),T(1,s$,2,1,"button",105),h()),n&2){let t=_(3);d(),g("ngForOf",t.filteredButeurNames)}}function c$(n,e){if(n&1){let t=R();f(0,"div",107)(1,"button",108),I("click",function(){w(t);let r=_(3);return C(r.selectButeurName(r.buteurNameSearch))}),m(2),h()()}if(n&2){let t=_(3);d(2),O(' Cr\xE9er "',t.buteurNameSearch,'" ')}}function l$(n,e){if(n&1){let t=R();f(0,"button",106),I("click",function(){let r=w(t).$implicit,o=_(4);return C(o.selectAssistName(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function u$(n,e){if(n&1&&(f(0,"div",104),T(1,l$,2,1,"button",105),h()),n&2){let t=_(3);d(),g("ngForOf",t.filteredAssistNames)}}function d$(n,e){if(n&1){let t=R();f(0,"div",107)(1,"button",108),I("click",function(){w(t);let r=_(3);return C(r.selectAssistName(r.assistSearch))}),m(2),h()()}if(n&2){let t=_(3);d(2),O(' Cr\xE9er "',t.assistSearch,'" ')}}function h$(n,e){if(n&1){let t=R();f(0,"div",169)(1,"div",170)(2,"div",25)(3,"div",26)(4,"h5",27),m(5),h(),f(6,"button",171),I("click",function(){w(t);let r=_(2);return C(r.showButeurForm=!1)}),h()(),f(7,"div",29)(8,"form",78),I("ngSubmit",function(){w(t);let r=_(2);return C(r.ajouterButeur())}),f(9,"div",172)(10,"div",173)(11,"label",174),m(12,"Nom du buteur"),h(),f(13,"input",175),me("ngModelChange",function(r){w(t);let o=_(2);return _e(o.buteurNameSearch,r)||(o.buteurNameSearch=r),C(r)}),I("input",function(){w(t);let r=_(2);return C(r.updateFilteredButeurNames())})("focus",function(){w(t);let r=_(2);return C(r.updateFilteredButeurNames())}),h(),b(14,"input",176),T(15,a$,2,1,"div",85)(16,c$,3,1,"div",86),h(),f(17,"div",177)(18,"label",174),m(19,"Minute"),h(),b(20,"input",178),h(),f(21,"div",179)(22,"label",174),m(23,"\xC9quipe"),h(),f(24,"select",180),I("change",function(){w(t);let r=_(2);return C(r.onButeurEquipeChange())}),f(25,"option",181),m(26),h(),f(27,"option",181),m(28),h()()(),f(29,"div",182)(30,"label",174),m(31,"Assist (optionnel)"),h(),f(32,"input",183),me("ngModelChange",function(r){w(t);let o=_(2);return _e(o.assistSearch,r)||(o.assistSearch=r),C(r)}),I("input",function(){w(t);let r=_(2);return C(r.updateFilteredAssistNames())})("focus",function(){w(t);let r=_(2);return C(r.updateFilteredAssistNames())}),h(),b(33,"input",184),T(34,u$,2,1,"div",85)(35,d$,3,1,"div",86),h()(),f(36,"div",185)(37,"button",186),I("click",function(){let r;w(t);let o=_(2);return C(o.addNewPlayer((r=o.buteurForm.get("nom"))==null?null:r.value))}),m(38),h(),f(39,"button",64),I("click",function(){w(t);let r=_(2);return C(r.annulerEditionButeur())}),m(40," Annuler "),h()()()()()()()}if(n&2){let t=_(2);d(5),te(t.editingButeur?"Modifier le buteur":"Nouveau buteur"),d(3),g("formGroup",t.buteurForm),d(5),pe("ngModel",t.buteurNameSearch),g("ngModelOptions",Bt(16,xn)),d(2),g("ngIf",t.filteredButeurNames.length>0&&t.buteurNameSearch),d(),g("ngIf",t.shouldShowCreateButeur()),d(9),g("value",1),d(),te(t.selectedMatch.equipe1),d(),g("value",2),d(),te(t.selectedMatch.equipe2),d(4),pe("ngModel",t.assistSearch),g("ngModelOptions",Bt(17,xn)),d(2),g("ngIf",t.filteredAssistNames.length>0&&t.assistSearch),d(),g("ngIf",t.shouldShowCreateAssist()),d(2),g("disabled",!t.buteurForm.valid),d(),O(" ",t.editingButeur?"Enregistrer":"Ajouter"," ")}}function f$(n,e){n&1&&b(0,"i",191)}function p$(n,e){n&1&&b(0,"i",192)}function m$(n,e){n&1&&b(0,"i",193)}function g$(n,e){if(n&1){let t=R();f(0,"button",187),I("click",function(){let r=w(t).$implicit,o=_(2);return C(o.quickAddAction(r.name,1))}),T(1,f$,1,0,"i",188)(2,p$,1,0,"i",189)(3,m$,1,0,"i",190),m(4),h()}if(n&2){let t=e.$implicit;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function _$(n,e){if(n&1){let t=R();f(0,"button",187),I("click",function(){w(t);let r=_(2);return C(r.showButeurForm=!0)}),m(1," + "),h()}}function v$(n,e){n&1&&b(0,"i",191)}function y$(n,e){n&1&&b(0,"i",192)}function w$(n,e){n&1&&b(0,"i",193)}function C$(n,e){if(n&1){let t=R();f(0,"button",194),I("click",function(){let r=w(t).$implicit,o=_(2);return C(o.quickAddAction(r.name,2))}),T(1,v$,1,0,"i",188)(2,y$,1,0,"i",189)(3,w$,1,0,"i",190),m(4),h()}if(n&2){let t=e.$implicit;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function b$(n,e){if(n&1){let t=R();f(0,"button",194),I("click",function(){w(t);let r=_(2);return C(r.showButeurForm=!0)}),m(1," + "),h()}}function E$(n,e){if(n&1){let t=R();f(0,"div",196)(1,"div",197)(2,"span",198)(3,"strong",199),m(4),h()(),f(5,"div")(6,"button",200),I("click",function(){let r=w(t).index,o=_(3);return C(o.modifierButeur(o.matches.indexOf(o.selectedMatch),r))}),b(7,"i",71),h(),f(8,"button",201),I("click",function(){let r=w(t).index,o=_(3);return C(o.supprimerButeur(o.matches.indexOf(o.selectedMatch),r))}),b(9,"i",202),h()()()()}if(n&2){let t=e.$implicit,i=e.index,r=_(3);d(),g("ngClass",Rb(3,ZB,r.isGoalDisabled(i))),d(2),g("ngClass",t.equipe===1?"buteur-team1":"buteur-team2"),d(),te(r.getButeurDisplay(t))}}function I$(n,e){if(n&1&&(f(0,"div"),T(1,E$,10,5,"div",195),h()),n&2){let t=_(2);d(),g("ngForOf",t.selectedMatch.buteurs)}}function T$(n,e){if(n&1){let t=R();f(0,"button",201),I("click",function(){w(t);let r=_().$implicit;return C(r.supprimerFn())}),b(1,"i",202),h()}}function D$(n,e){if(n&1&&(f(0,"div",206)(1,"div",207)(2,"span",198)(3,"strong"),m(4),h(),f(5,"em"),m(6),h()(),f(7,"div"),T(8,T$,2,0,"button",208),h()()()),n&2){let t=e.$implicit,i=_(3);d(),on("border-color",t.color+" !important"),d(2),on("color",t.color),d(),hm("",t.emoji," ",t.nom," - ",t.minute,"'"),d(),on("color",t.color),d(),O("(",t.equipe===1?i.selectedMatch.equipe1:i.selectedMatch.equipe2,")"),d(2),g("ngIf",i.showDeleteButtons)}}function x$(n,e){if(n&1&&(f(0,"div",203)(1,"div",204)(2,"h4")(3,"span",162),m(4,"\u{1F4CA}"),h(),m(5),h()(),f(6,"div"),T(7,D$,9,11,"div",205),h()()),n&2){let t=_(2);d(5),O(" Statistiques (",t.getAllStatsForModal().length,") "),d(2),g("ngForOf",t.getAllStatsForModal())}}function S$(n,e){n&1&&b(0,"i",191)}function A$(n,e){n&1&&b(0,"i",192)}function M$(n,e){n&1&&b(0,"i",193)}function P$(n,e){if(n&1){let t=R();f(0,"button",214),I("click",function(){let r=w(t).$implicit,o=_(3);return C(o.assignPlayerToPosition(r.name))}),T(1,S$,1,0,"i",188)(2,A$,1,0,"i",189)(3,M$,1,0,"i",190),m(4),h()}if(n&2){let t=e.$implicit;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function R$(n,e){if(n&1){let t=R();f(0,"div",209)(1,"div",210)(2,"h6"),m(3),h(),f(4,"div",211),T(5,P$,5,4,"button",212),h(),f(6,"button",213),I("click",function(){w(t);let r=_(2);return C(r.selectedPosition=null)}),m(7," Annuler "),h()()()}if(n&2){let t=_(2);d(3),O("S\xE9lectionner un joueur pour ",t.selectedPosition.position,""),d(2),g("ngForOf",t.getTeamPlayers(t.selectedPosition.team))}}function N$(n,e){if(n&1){let t=R();f(0,"div",142)(1,"div",143)(2,"button",144),I("click",function(){w(t);let r=_();return C(r.closeScoreModal())}),m(3,"\xD7"),h(),f(4,"h3",145),b(5,"i",146),m(6,"Modifier le score "),h(),b(7,"br"),f(8,"div",147)(9,"div",117)(10,"div",118),m(11),h(),f(12,"div",148),I("click",function(){w(t);let r=_();return C(r.showScoreForm=!0)}),T(13,r$,4,4,"ng-container",59)(14,o$,6,2,"ng-container",59),h(),f(15,"div",118),m(16),h()()(),T(17,h$,41,18,"div",149),f(18,"div",109)(19,"div",150)(20,"div",151)(21,"h5",152),m(22),h(),f(23,"div",153),T(24,g$,5,4,"button",154)(25,_$,2,0,"button",155),h()(),f(26,"div",151)(27,"h5",156),m(28),h(),f(29,"div",157),T(30,C$,5,4,"button",158)(31,b$,2,0,"button",159),h()()()(),f(32,"div",160)(33,"div",161),I("click",function(){w(t);let r=_();return C(r.toggleButeursList())}),f(34,"h4")(35,"span",162),m(36),h(),m(37),h()(),T(38,I$,2,1,"div",59),h(),T(39,x$,8,2,"div",163)(40,R$,8,2,"div",164),f(41,"div",165)(42,"button",64),I("click",function(){w(t);let r=_();return C(r.selectedMatch=null)}),m(43," Fermer "),h()()()()}if(n&2){let t=_();d(11),te(t.selectedMatch.equipe1),d(),g("ngClass",t.getScoreColor(t.selectedMatch)),d(),g("ngIf",!t.showScoreForm),d(),g("ngIf",t.showScoreForm),d(2),te(t.selectedMatch.equipe2),d(),g("ngIf",t.showButeurForm),d(5),te(t.selectedMatch.equipe1),d(2),g("ngForOf",t.getTeamPlayers(1)),d(),g("ngIf",!t.showButeurForm),d(3),te(t.selectedMatch.equipe2),d(2),g("ngForOf",t.getTeamPlayers(2)),d(),g("ngIf",!t.showButeurForm),d(5),te(t.showButeursList?"\u25BC":"\u25B6"),d(),O(" Buteurs (",t.selectedMatch.buteurs.length,") "),d(),g("ngIf",t.showButeursList),d(),g("ngIf",t.getAllStatsForModal().length>0),d(),g("ngIf",t.selectedPosition&&t.selectedMatch)}}function O$(n,e){if(n&1){let t=R();f(0,"button",106),I("click",function(){let r=w(t).$implicit,o=_(3);return C(o.selectEditTeam1(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function k$(n,e){if(n&1&&(f(0,"div",104),T(1,O$,2,1,"button",105),h()),n&2){let t=_(2);d(),g("ngForOf",t.editFilteredTeams1)}}function F$(n,e){if(n&1){let t=R();f(0,"div",107)(1,"button",108),I("click",function(){w(t);let r=_(2);return C(r.selectEditTeam1(r.editTeam1Search))}),m(2),h()()}if(n&2){let t=_(2);d(2),O(' Cr\xE9er "',t.editTeam1Search,'" ')}}function V$(n,e){if(n&1){let t=R();f(0,"button",106),I("click",function(){let r=w(t).$implicit,o=_(3);return C(o.selectEditTeam2(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function L$(n,e){if(n&1&&(f(0,"div",104),T(1,V$,2,1,"button",105),h()),n&2){let t=_(2);d(),g("ngForOf",t.editFilteredTeams2)}}function j$(n,e){if(n&1){let t=R();f(0,"div",107)(1,"button",108),I("click",function(){w(t);let r=_(2);return C(r.selectEditTeam2(r.editTeam2Search))}),m(2),h()()}if(n&2){let t=_(2);d(2),O(' Cr\xE9er "',t.editTeam2Search,'" ')}}function U$(n,e){if(n&1){let t=R();f(0,"button",106),I("click",function(){let r=w(t).$implicit,o=_(3);return C(o.selectEditCompetition(r))}),m(1),h()}if(n&2){let t=e.$implicit;d(),te(t)}}function B$(n,e){if(n&1&&(f(0,"div",104),T(1,U$,2,1,"button",105),h()),n&2){let t=_(2);d(),g("ngForOf",t.editFilteredCompetitions)}}function $$(n,e){if(n&1){let t=R();f(0,"div",107)(1,"button",108),I("click",function(){w(t);let r=_(2);return C(r.selectEditCompetition(r.editCompetitionSearch))}),m(2),h()()}if(n&2){let t=_(2);d(2),O(' Cr\xE9er "',t.editCompetitionSearch,'" ')}}function q$(n,e){if(n&1){let t=R();f(0,"button",233),I("click",function(){w(t);let r=_(2);return C(r.supprimerMatch(r.selectedMatch))}),b(1,"i",202),m(2," Supprimer le match "),h()}}function G$(n,e){if(n&1){let t=R();f(0,"div",215)(1,"div",25)(2,"span",216),I("click",function(){w(t);let r=_();return C(r.showMatchEditForm=!1)}),m(3,"\xD7"),h(),f(4,"h3",145),b(5,"i",217),m(6,"Modifier le match "),h(),f(7,"form",78),I("ngSubmit",function(){w(t);let r=_();return C(r.onSubmitMatchEdit())}),f(8,"div",218)(9,"label",219),m(10,"\xC9quipe 1:"),h(),f(11,"div",220)(12,"input",221),me("ngModelChange",function(r){w(t);let o=_();return _e(o.editTeam1Search,r)||(o.editTeam1Search=r),C(r)}),I("input",function(){w(t);let r=_();return C(r.updateEditFilteredTeams1())})("focus",function(){w(t);let r=_();return C(r.updateEditFilteredTeams1())}),h(),b(13,"input",84),T(14,k$,2,1,"div",85)(15,F$,3,1,"div",86),h()(),f(16,"div",218)(17,"label",222),m(18,"\xC9quipe 2:"),h(),f(19,"div",220)(20,"input",223),me("ngModelChange",function(r){w(t);let o=_();return _e(o.editTeam2Search,r)||(o.editTeam2Search=r),C(r)}),I("input",function(){w(t);let r=_();return C(r.updateEditFilteredTeams2())})("focus",function(){w(t);let r=_();return C(r.updateEditFilteredTeams2())}),h(),b(21,"input",89),T(22,L$,2,1,"div",85)(23,j$,3,1,"div",86),h()(),f(24,"div",218)(25,"label",224),m(26,"Heure de d\xE9but:"),h(),b(27,"input",225),h(),f(28,"div",218)(29,"label",226),m(30,"Lieu:"),h(),b(31,"input",227),h(),f(32,"div",218)(33,"label",228),m(34,"Comp\xE9tition:"),h(),f(35,"div",220)(36,"input",229),me("ngModelChange",function(r){w(t);let o=_();return _e(o.editCompetitionSearch,r)||(o.editCompetitionSearch=r),C(r)}),I("input",function(){w(t);let r=_();return C(r.updateEditFilteredCompetitions())})("focus",function(){w(t);let r=_();return C(r.updateEditFilteredCompetitions())}),h(),b(37,"input",97),T(38,B$,2,1,"div",85)(39,$$,3,1,"div",86),h()(),f(40,"div",230)(41,"button",231),I("click",function(){w(t);let r=_();return C(r.onSubmitMatchEdit())}),m(42,"Enregistrer"),h(),T(43,q$,3,0,"button",232),h()()()()}if(n&2){let t=_();d(7),g("formGroup",t.matchEditForm),d(5),pe("ngModel",t.editTeam1Search),g("ngModelOptions",Bt(14,xn)),d(2),g("ngIf",t.editFilteredTeams1.length>0&&t.editTeam1Search),d(),g("ngIf",t.editTeam1Search&&t.editFilteredTeams1.length===0&&!t.getTeamNames().includes(t.editTeam1Search)),d(5),pe("ngModel",t.editTeam2Search),g("ngModelOptions",Bt(15,xn)),d(2),g("ngIf",t.editFilteredTeams2.length>0&&t.editTeam2Search),d(),g("ngIf",t.editTeam2Search&&t.editFilteredTeams2.length===0&&!t.getTeamNames().includes(t.editTeam2Search)),d(13),pe("ngModel",t.editCompetitionSearch),g("ngModelOptions",Bt(16,xn)),d(2),g("ngIf",t.editFilteredCompetitions.length>0&&t.editCompetitionSearch),d(),g("ngIf",t.editCompetitionSearch&&t.editFilteredCompetitions.length===0&&!t.getCompetitionNames().includes(t.editCompetitionSearch)),d(4),g("ngIf",t.showDeleteButtons)}}function z$(n,e){if(n&1&&(f(0,"span",244),m(1," \u2022 "),h()),n&2){let t=e.index,i=_(2);Ie("fade",t>=i.remainingDots)}}function H$(n,e){if(n&1&&(f(0,"option",252),m(1),h()),n&2){let t=e.$implicit,i=_(3);g("value",t.name)("disabled",t.name===i.celebrationPlayer),d(),O(" ",t.name," ")}}function W$(n,e){if(n&1){let t=R();f(0,"button",253),I("click",function(){w(t);let r=_(3);return C(r.cancelCelebration())}),m(1," Annuler "),h()}}function K$(n,e){if(n&1){let t=R();f(0,"div",245)(1,"select",246),me("ngModelChange",function(r){w(t);let o=_(2);return _e(o.celebrationAssist,r)||(o.celebrationAssist=r),C(r)}),f(2,"option",247),m(3,"Aucun assist"),h(),T(4,H$,2,3,"option",248),h(),f(5,"div",249)(6,"button",250),I("click",function(){w(t);let r=_(2);return C(r.saveCelebrationWithAssist())}),m(7," Enregistrer "),h(),T(8,W$,2,0,"button",251),h()()}if(n&2){let t=_(2);d(),pe("ngModel",t.celebrationAssist),d(3),g("ngForOf",t.getTeamPlayers(t.celebrationTeam===(t.selectedMatch==null?null:t.selectedMatch.equipe1)?1:2)),d(4),g("ngIf",t.celebrationConfig.showCancel)}}function Q$(n,e){if(n&1){let t=R();f(0,"button",255),I("click",function(){w(t);let r=_(3);return C(r.saveDuel())}),m(1," Enregistrer "),h()}}function Y$(n,e){if(n&1){let t=R();f(0,"button",253),I("click",function(){w(t);let r=_(3);return C(r.cancelCelebration())}),m(1," Annuler "),h()}}function J$(n,e){if(n&1&&(f(0,"div",249),T(1,Q$,2,0,"button",254)(2,Y$,2,0,"button",251),h()),n&2){let t=_(2);d(),g("ngIf",t.celebrationConfig.type==="duel"),d(),g("ngIf",t.celebrationConfig.showCancel)}}function Z$(n,e){if(n&1&&(f(0,"div",234)(1,"div",235)(2,"div",236),m(3),h(),f(4,"div",237),m(5),h(),f(6,"div",238),m(7),h(),f(8,"div",239),m(9),h(),f(10,"div",240),T(11,z$,2,2,"span",241),h(),T(12,K$,9,3,"div",242)(13,J$,3,2,"div",243),h()()),n&2){let t=_();d(2),on("color",t.celebrationConfig.color),d(),Ft("",t.celebrationConfig.emoji,"",t.celebrationConfig.text,""),d(2),O(" ",t.celebrationPlayer," "),d(2),O(" ",t.celebrationTeam," "),d(2),te(t.celebrationConfig.emoji),d(2),g("ngForOf",Bt(10,XB).constructor(5)),d(),g("ngIf",t.celebrationConfig.showAssist),d(),g("ngIf",!t.celebrationConfig.showAssist)}}function X$(n,e){n&1&&(f(0,"span",281),m(1,"-"),h())}function e5(n,e){n&1&&b(0,"i",191)}function t5(n,e){n&1&&b(0,"i",192)}function n5(n,e){n&1&&b(0,"i",193)}function i5(n,e){if(n&1&&(Se(0),T(1,e5,1,0,"i",188)(2,t5,1,0,"i",189)(3,n5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function r5(n,e){n&1&&b(0,"i",191)}function o5(n,e){n&1&&b(0,"i",192)}function s5(n,e){n&1&&b(0,"i",193)}function a5(n,e){if(n&1&&(Se(0),T(1,r5,1,0,"i",188)(2,o5,1,0,"i",189)(3,s5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function c5(n,e){if(n&1){let t=R();f(0,"div")(1,"div",282),I("click",function(){w(t);let r=_(2);return C(r.selectPosition(1,"milieu-offensif"))}),f(2,"div",270)(3,"span",271),m(4,"MO"),h(),f(5,"span",273),T(6,a5,5,4,"ng-container",59),h()()()()}if(n&2){let t=_(2);d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-offensif"),d(4),g("ngIf",t.getPlayerForPosition(1,"milieu-offensif"))}}function l5(n,e){n&1&&b(0,"i",191)}function u5(n,e){n&1&&b(0,"i",192)}function d5(n,e){n&1&&b(0,"i",193)}function h5(n,e){if(n&1&&(Se(0),T(1,l5,1,0,"i",188)(2,u5,1,0,"i",189)(3,d5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function f5(n,e){n&1&&b(0,"i",191)}function p5(n,e){n&1&&b(0,"i",192)}function m5(n,e){n&1&&b(0,"i",193)}function g5(n,e){if(n&1&&(Se(0),T(1,f5,1,0,"i",188)(2,p5,1,0,"i",189)(3,m5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function _5(n,e){n&1&&b(0,"i",191)}function v5(n,e){n&1&&b(0,"i",192)}function y5(n,e){n&1&&b(0,"i",193)}function w5(n,e){if(n&1&&(Se(0),T(1,_5,1,0,"i",188)(2,v5,1,0,"i",189)(3,y5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function C5(n,e){n&1&&b(0,"i",191)}function b5(n,e){n&1&&b(0,"i",192)}function E5(n,e){n&1&&b(0,"i",193)}function I5(n,e){if(n&1&&(Se(0),T(1,C5,1,0,"i",188)(2,b5,1,0,"i",189)(3,E5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function T5(n,e){if(n&1){let t=R();f(0,"div")(1,"div",283),I("click",function(){w(t);let r=_(2);return C(r.selectPosition(1,"defenseur-gauche"))}),f(2,"div",270)(3,"span",271),m(4,"DG"),h(),f(5,"span",273),T(6,I5,5,4,"ng-container",59),h()()()()}if(n&2){let t=_(2);d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-gauche"),d(4),g("ngIf",t.getPlayerForPosition(1,"defenseur-gauche"))}}function D5(n,e){n&1&&b(0,"i",191)}function x5(n,e){n&1&&b(0,"i",192)}function S5(n,e){n&1&&b(0,"i",193)}function A5(n,e){if(n&1&&(Se(0),T(1,D5,1,0,"i",188)(2,x5,1,0,"i",189)(3,S5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function M5(n,e){if(n&1){let t=R();f(0,"div")(1,"div",284),I("click",function(){w(t);let r=_(2);return C(r.selectPosition(1,"defenseur-droit"))}),f(2,"div",270)(3,"span",271),m(4,"DD"),h(),f(5,"span",273),T(6,A5,5,4,"ng-container",59),h()()()()}if(n&2){let t=_(2);d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-droit"),d(4),g("ngIf",t.getPlayerForPosition(1,"defenseur-droit"))}}function P5(n,e){n&1&&b(0,"i",191)}function R5(n,e){n&1&&b(0,"i",192)}function N5(n,e){n&1&&b(0,"i",193)}function O5(n,e){if(n&1&&(Se(0),T(1,P5,1,0,"i",188)(2,R5,1,0,"i",189)(3,N5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function k5(n,e){n&1&&(f(0,"span",281),m(1,"-"),h())}function F5(n,e){n&1&&b(0,"i",191)}function V5(n,e){n&1&&b(0,"i",192)}function L5(n,e){n&1&&b(0,"i",193)}function j5(n,e){if(n&1&&(Se(0),T(1,F5,1,0,"i",188)(2,V5,1,0,"i",189)(3,L5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function U5(n,e){n&1&&b(0,"i",191)}function B5(n,e){n&1&&b(0,"i",192)}function $5(n,e){n&1&&b(0,"i",193)}function q5(n,e){if(n&1&&(Se(0),T(1,U5,1,0,"i",188)(2,B5,1,0,"i",189)(3,$5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function G5(n,e){if(n&1){let t=R();f(0,"div")(1,"div",282),I("click",function(){w(t);let r=_(2);return C(r.selectPosition(2,"milieu-offensif"))}),f(2,"div",270)(3,"span",271),m(4,"MO"),h(),f(5,"span",273),T(6,q5,5,4,"ng-container",59),h()()()()}if(n&2){let t=_(2);d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-offensif"),d(4),g("ngIf",t.getPlayerForPosition(2,"milieu-offensif"))}}function z5(n,e){n&1&&b(0,"i",191)}function H5(n,e){n&1&&b(0,"i",192)}function W5(n,e){n&1&&b(0,"i",193)}function K5(n,e){if(n&1&&(Se(0),T(1,z5,1,0,"i",188)(2,H5,1,0,"i",189)(3,W5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function Q5(n,e){n&1&&b(0,"i",191)}function Y5(n,e){n&1&&b(0,"i",192)}function J5(n,e){n&1&&b(0,"i",193)}function Z5(n,e){if(n&1&&(Se(0),T(1,Q5,1,0,"i",188)(2,Y5,1,0,"i",189)(3,J5,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function X5(n,e){n&1&&b(0,"i",191)}function eq(n,e){n&1&&b(0,"i",192)}function tq(n,e){n&1&&b(0,"i",193)}function nq(n,e){if(n&1&&(Se(0),T(1,X5,1,0,"i",188)(2,eq,1,0,"i",189)(3,tq,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function iq(n,e){n&1&&b(0,"i",191)}function rq(n,e){n&1&&b(0,"i",192)}function oq(n,e){n&1&&b(0,"i",193)}function sq(n,e){if(n&1&&(Se(0),T(1,iq,1,0,"i",188)(2,rq,1,0,"i",189)(3,oq,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function aq(n,e){if(n&1){let t=R();f(0,"div")(1,"div",283),I("click",function(){w(t);let r=_(2);return C(r.selectPosition(2,"defenseur-gauche"))}),f(2,"div",270)(3,"span",271),m(4,"DG"),h(),f(5,"span",273),T(6,sq,5,4,"ng-container",59),h()()()()}if(n&2){let t=_(2);d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-gauche"),d(4),g("ngIf",t.getPlayerForPosition(2,"defenseur-gauche"))}}function cq(n,e){n&1&&b(0,"i",191)}function lq(n,e){n&1&&b(0,"i",192)}function uq(n,e){n&1&&b(0,"i",193)}function dq(n,e){if(n&1&&(Se(0),T(1,cq,1,0,"i",188)(2,lq,1,0,"i",189)(3,uq,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function hq(n,e){if(n&1){let t=R();f(0,"div")(1,"div",284),I("click",function(){w(t);let r=_(2);return C(r.selectPosition(2,"defenseur-droit"))}),f(2,"div",270)(3,"span",271),m(4,"DD"),h(),f(5,"span",273),T(6,dq,5,4,"ng-container",59),h()()()()}if(n&2){let t=_(2);d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-droit"),d(4),g("ngIf",t.getPlayerForPosition(2,"defenseur-droit"))}}function fq(n,e){n&1&&b(0,"i",191)}function pq(n,e){n&1&&b(0,"i",192)}function mq(n,e){n&1&&b(0,"i",193)}function gq(n,e){if(n&1&&(Se(0),T(1,fq,1,0,"i",188)(2,pq,1,0,"i",189)(3,mq,1,0,"i",190),m(4),Ae()),n&2){let t=e.ngIf;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function _q(n,e){n&1&&b(0,"div")}function vq(n,e){n&1&&b(0,"i",191)}function yq(n,e){n&1&&b(0,"i",192)}function wq(n,e){n&1&&b(0,"i",193)}function Cq(n,e){if(n&1){let t=R();f(0,"button",214),I("click",function(){let r=w(t).$implicit,o=_(3);return C(o.assignPlayerToPosition(r.name))}),T(1,vq,1,0,"i",188)(2,yq,1,0,"i",189)(3,wq,1,0,"i",190),m(4),h()}if(n&2){let t=e.$implicit;d(),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="defenseur"),d(),g("ngIf",t.type==="milieu"),d(),O(" ",t.name," ")}}function bq(n,e){if(n&1){let t=R();f(0,"div",209)(1,"div",210)(2,"h6"),m(3),h(),f(4,"div",211),T(5,Cq,5,4,"button",212),h(),f(6,"button",213),I("click",function(){w(t);let r=_(2);return C(r.selectedPosition=null)}),m(7," Annuler "),h()()()}if(n&2){let t=_(2);d(3),O("S\xE9lectionner un joueur pour ",t.selectedPosition.position,""),d(2),g("ngForOf",t.getTeamPlayers(t.selectedPosition.team))}}function Eq(n,e){if(n&1){let t=R();f(0,"div",256)(1,"div",257)(2,"button",216),I("click",function(){w(t);let r=_();return C(r.closeDispositionModal())}),m(3,"\xD7"),h(),f(4,"h3",145),b(5,"i",258),m(6,"Disposition tactique "),h(),f(7,"div",259)(8,"button",260),I("click",function(){w(t);let r=_();return C(r.toggleDefendersAndMidfielders())}),m(9),h(),f(10,"div",261)(11,"div",262)(12,"button",263),I("click",function(){w(t);let r=_();return C(r.encodingGoalsEnabled=!r.encodingGoalsEnabled)}),b(13,"i",191),m(14),h(),f(15,"button",264),I("click",function(){w(t);let r=_();return C(r.encodingDuelsEnabled=!r.encodingDuelsEnabled)}),b(16,"i",192),m(17),h()()()(),f(18,"div",265)(19,"div",266)(20,"div",267)(21,"h5",152),m(22),h(),f(23,"div",268)(24,"div",269),I("click",function(){w(t);let r=_();return C(r.selectPosition(1,"attaquant"))}),f(25,"div",270)(26,"span",271),m(27,"AT"),h(),T(28,X$,2,0,"span",272),f(29,"span",273),T(30,i5,5,4,"ng-container",59),h()()(),T(31,c5,7,3,"div",59),f(32,"div",274),I("click",function(){w(t);let r=_();return C(r.selectPosition(1,"milieu-gauche"))}),f(33,"div",270)(34,"span",271),m(35,"MG"),h(),f(36,"span",273),T(37,h5,5,4,"ng-container",59),h()()(),f(38,"div",275),I("click",function(){w(t);let r=_();return C(r.selectPosition(1,"milieu-droit"))}),f(39,"div",270)(40,"span",271),m(41,"MD"),h(),f(42,"span",273),T(43,g5,5,4,"ng-container",59),h()()(),f(44,"div",276),I("click",function(){w(t);let r=_();return C(r.selectPosition(1,"defenseur-central"))}),f(45,"div",270)(46,"span",271),m(47,"DC"),h(),f(48,"span",273),T(49,w5,5,4,"ng-container",59),h()()(),T(50,T5,7,3,"div",59)(51,M5,7,3,"div",59),f(52,"div",277),I("click",function(){w(t);let r=_();return C(r.selectPosition(1,"gardien"))}),f(53,"div",270)(54,"span",271),m(55,"G"),h(),f(56,"span",273),T(57,O5,5,4,"ng-container",59),h()()()()(),f(58,"div",278)(59,"h5",156),m(60),h(),f(61,"div",268)(62,"div",269),I("click",function(){w(t);let r=_();return C(r.selectPosition(2,"attaquant"))}),f(63,"div",270)(64,"span",271),m(65,"AT"),h(),T(66,k5,2,0,"span",272),f(67,"span",273),T(68,j5,5,4,"ng-container",59),h()()(),T(69,G5,7,3,"div",59),f(70,"div",274),I("click",function(){w(t);let r=_();return C(r.selectPosition(2,"milieu-gauche"))}),f(71,"div",270)(72,"span",271),m(73,"MG"),h(),f(74,"span",273),T(75,K5,5,4,"ng-container",59),h()()(),f(76,"div",275),I("click",function(){w(t);let r=_();return C(r.selectPosition(2,"milieu-droit"))}),f(77,"div",270)(78,"span",271),m(79,"MD"),h(),f(80,"span",273),T(81,Z5,5,4,"ng-container",59),h()()(),f(82,"div",276),I("click",function(){w(t);let r=_();return C(r.selectPosition(2,"defenseur-central"))}),f(83,"div",270)(84,"span",271),m(85,"DC"),h(),f(86,"span",273),T(87,nq,5,4,"ng-container",59),h()()(),T(88,aq,7,3,"div",59)(89,hq,7,3,"div",59),f(90,"div",277),I("click",function(){w(t);let r=_();return C(r.selectPosition(2,"gardien"))}),f(91,"div",270)(92,"span",271),m(93,"G"),h(),f(94,"span",273),T(95,gq,5,4,"ng-container",59),h()()(),T(96,_q,1,0,"div",59),h()()(),f(97,"div",279)(98,"p",280),m(99," Dispositif double losange (1-3-3-1) pr\xE9conis\xE9 pour le jeu \xE0 8. "),h()()(),T(100,bq,8,2,"div",164),h()()}if(n&2){let t=_();d(9),O(" ",t.showDefendersAndMidfielders?"8vs8":"5vs5"," Jeu \xE0 5 ou 8 "),d(3),Ie("btn-success",t.encodingGoalsEnabled)("btn-outline-success",!t.encodingGoalsEnabled),d(2),O(" Buts ",t.encodingGoalsEnabled?"ON":"OFF"," "),d(),Ie("btn-success",t.encodingDuelsEnabled)("btn-outline-success",!t.encodingDuelsEnabled),d(2),O(" Duels ",t.encodingDuelsEnabled?"ON":"OFF"," "),d(5),te(t.selectedMatch.equipe1),d(3),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="attaquant"),d(3),g("ngIf",t.getPlayerForPosition(1,"attaquant")),d(2),g("ngIf",t.getPlayerForPosition(1,"attaquant")),d(),g("ngIf",t.showDefendersAndMidfielders),d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-gauche"),d(4),g("ngIf",t.getPlayerForPosition(1,"milieu-gauche")),d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-droit"),d(4),g("ngIf",t.getPlayerForPosition(1,"milieu-droit")),d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-central"),d(4),g("ngIf",t.getPlayerForPosition(1,"defenseur-central")),d(),g("ngIf",t.showDefendersAndMidfielders),d(),g("ngIf",t.showDefendersAndMidfielders),d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===1&&(t.selectedPosition==null?null:t.selectedPosition.position)==="gardien"),d(4),g("ngIf",t.getPlayerForPosition(1,"gardien")),d(3),te(t.selectedMatch.equipe2),d(3),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="attaquant"),d(3),g("ngIf",t.getPlayerForPosition(2,"attaquant")),d(2),g("ngIf",t.getPlayerForPosition(2,"attaquant")),d(),g("ngIf",t.showDefendersAndMidfielders),d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-gauche"),d(4),g("ngIf",t.getPlayerForPosition(2,"milieu-gauche")),d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="milieu-droit"),d(4),g("ngIf",t.getPlayerForPosition(2,"milieu-droit")),d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="defenseur-central"),d(4),g("ngIf",t.getPlayerForPosition(2,"defenseur-central")),d(),g("ngIf",t.showDefendersAndMidfielders),d(),g("ngIf",t.showDefendersAndMidfielders),d(2),Ie("selected",(t.selectedPosition==null?null:t.selectedPosition.team)===2&&(t.selectedPosition==null?null:t.selectedPosition.position)==="gardien"),d(4),g("ngIf",t.getPlayerForPosition(2,"gardien")),d(),g("ngIf",t.showDefendersAndMidfielders),d(4),g("ngIf",t.selectedPosition&&t.selectedMatch)}}function Iq(n,e){if(n&1){let t=R();f(0,"div",142)(1,"div",170)(2,"div",25)(3,"div",26)(4,"h5",27),m(5,"Choisir le format d'export"),h(),f(6,"button",171),I("click",function(){w(t);let r=_();return C(r.closeExportModal())}),h()(),f(7,"div",29)(8,"div",285)(9,"input",286),me("ngModelChange",function(r){w(t);let o=_();return _e(o.exportFormats.txt,r)||(o.exportFormats.txt=r),C(r)}),h(),f(10,"label",287),m(11," Format TXT "),h()(),f(12,"div",285)(13,"input",288),me("ngModelChange",function(r){w(t);let o=_();return _e(o.exportFormats.csv,r)||(o.exportFormats.csv=r),C(r)}),h(),f(14,"label",289),m(15," Format CSV "),h()(),f(16,"div",285)(17,"input",290),me("ngModelChange",function(r){w(t);let o=_();return _e(o.exportFormats.json,r)||(o.exportFormats.json=r),C(r)}),h(),f(18,"label",291),m(19," Format JSON "),h()()(),f(20,"div",34)(21,"button",64),I("click",function(){w(t);let r=_();return C(r.closeExportModal())}),m(22,"Annuler"),h(),f(23,"button",292),I("click",function(){w(t);let r=_();return C(r.confirmExport())}),m(24,"Exporter"),h()()()()()}if(n&2){let t=_();d(9),pe("ngModel",t.exportFormats.txt),d(4),pe("ngModel",t.exportFormats.csv),d(4),pe("ngModel",t.exportFormats.json),d(6),g("disabled",!t.isExportFormatSelected())}}function Tq(n,e){if(n&1){let t=R();f(0,"button",304),I("click",function(){w(t);let r=_(2);return C(r.showLocalStorageData())}),m(1,"Afficher les donn\xE9es sauvegard\xE9es"),h()}}function Dq(n,e){if(n&1){let t=R();f(0,"button",305),I("click",function(){w(t);let r=_(2);return C(r.hideLocalStorageData())}),m(1,"Cacher les donn\xE9es sauvegard\xE9es"),h()}}function xq(n,e){if(n&1&&(f(0,"div",306)(1,"pre"),m(2),wr(3,"json"),h()()),n&2){let t=_(2);d(2),te(fm(3,1,t.localStorageData))}}function Sq(n,e){if(n&1){let t=R();f(0,"div",142)(1,"div",170)(2,"div",25)(3,"div",26)(4,"h5",27),m(5,"BUUUT et c'est gratuit!"),h(),f(6,"button",171),I("click",function(){w(t);let r=_();return C(r.showHelpModal=!1)}),h()(),f(7,"div",29)(8,"h6"),m(9,"Fonctionnalit\xE9s principales :"),h(),f(10,"ul",293)(11,"li",30),b(12,"i",294),f(13,"strong"),m(14,"Cr\xE9er un match :"),h(),m(15,' Cliquez sur "Nouveau Match" pour enregistrer un nouveau match. '),h(),f(16,"li",30),b(17,"i",295),f(18,"strong"),m(19,"Enregistrer les buts :"),h(),m(20," Cliquez sur le score pour ajouter les buteurs et leurs minutes. "),h(),f(21,"li",30),b(22,"i",296),f(23,"strong"),m(24,"G\xE9rer les \xE9quipes :"),h(),m(25," Ajoutez des joueurs \xE0 vos \xE9quipes lors de l'enregistrement des buts. "),h(),f(26,"li",30),b(27,"i",297),f(28,"strong"),m(29,"Partager :"),h(),m(30," Partagez vos matchs via le bouton de partage. "),h(),f(31,"li",30),b(32,"i",298),f(33,"strong"),m(34,"Exporter :"),h(),m(35," Exportez vos matchs en TXT, CSV ou JSON. "),h(),f(36,"li",30),b(37,"i",299),f(38,"strong"),m(39,"Importer :"),h(),m(40," Importez des matchs depuis diff\xE9rents formats. "),h()()(),f(41,"div",34),T(42,Tq,2,0,"button",300)(43,Dq,2,0,"button",301),f(44,"button",302),I("click",function(){w(t);let r=_();return C(r.toggleDeleteButtons())}),b(45,"i",46),m(46),h(),f(47,"button",64),I("click",function(){w(t);let r=_();return C(r.showHelpModal=!1)}),m(48,"Fermer"),h()(),T(49,xq,4,3,"div",303),h()()()}if(n&2){let t=_();d(42),g("ngIf",!t.showingLocalStorageData),d(),g("ngIf",t.showingLocalStorageData),d(),g("ngClass",t.showDeleteButtons?"btn-danger":"btn-outline-danger"),d(),g("ngClass",t.showDeleteButtons?"fa-shield-alt":"fa-unlock"),d(),O(" ",t.showDeleteButtons?"Prot\xE9ger":"Activer suppression"," "),d(3),g("ngIf",t.showingLocalStorageData)}}function Aq(n,e){if(n&1&&(f(0,"tr")(1,"td",311),m(2),h(),f(3,"td",311),m(4),h(),f(5,"td",311)(6,"strong"),m(7),h()(),f(8,"td",311),m(9),h(),f(10,"td",311),m(11),h(),f(12,"td",311),m(13),h(),f(14,"td",311),m(15),h(),f(16,"td",311),m(17),h(),f(18,"td",311),m(19),h(),f(20,"td",312),m(21),h()()),n&2){let t=e.$implicit,i=e.index;d(2),te(i+1),d(2),te(t.name),d(3),te(t.points),d(2),te(t.matches),d(2),te(t.wins),d(2),te(t.draws),d(2),te(t.losses),d(2),te(t.goalsFor),d(2),te(t.goalsAgainst),d(),g("ngClass",Nb(12,e4,t.goalDifference>0,t.goalDifference<0)),d(),Ft(" ",t.goalDifference>0?"+":"","",t.goalDifference," ")}}function Mq(n,e){if(n&1){let t=R();f(0,"div",47)(1,"div",307)(2,"div",26)(3,"h5",27),b(4,"i",308),m(5),h(),f(6,"button",50),I("click",function(){w(t);let r=_();return C(r.closeRankingModal())}),f(7,"span",51),m(8,"\xD7"),h()()(),f(9,"div",29)(10,"div",309)(11,"table",310)(12,"thead")(13,"tr")(14,"th",311),m(15,"Pos"),h(),f(16,"th",311),m(17,"\xC9quipe"),h(),f(18,"th",311),m(19,"Pts"),h(),f(20,"th",311),m(21,"J"),h(),f(22,"th",311),m(23,"G"),h(),f(24,"th",311),m(25,"N"),h(),f(26,"th",311),m(27,"P"),h(),f(28,"th",311),m(29,"BP"),h(),f(30,"th",311),m(31,"BC"),h(),f(32,"th",311),m(33,"Diff"),h()()(),f(34,"tbody"),T(35,Aq,22,15,"tr",111),h()()()(),f(36,"div",34)(37,"button",64),I("click",function(){w(t);let r=_();return C(r.closeRankingModal())}),b(38,"i",65),m(39,"Fermer "),h()()()()}if(n&2){let t=_();d(5),O(" Classement - ",t.selectedCompetitionFilter," "),d(30),g("ngForOf",t.currentRanking)}}function Pq(n,e){if(n&1){let t=R();f(0,"i",338),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.cyclePlayerType(r))}),h()}}function Rq(n,e){if(n&1){let t=R();f(0,"i",339),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.cyclePlayerType(r))}),h()}}function Nq(n,e){if(n&1){let t=R();f(0,"i",340),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.cyclePlayerType(r))}),h()}}function Oq(n,e){if(n&1){let t=R();f(0,"span",341),I("click",function(){w(t);let r=_().$implicit,o=_(2);return C(o.openPlayerGoalsModal(r))}),m(1),h()}if(n&2){let t=_().$implicit,i=_(2);d(),O(" ",i.getGoalsForPlayer(t.name)," \u26BD ")}}function kq(n,e){if(n&1){let t=R();f(0,"button",342),I("click",function(){w(t);let r=_().index,o=_(2);return C(o.removePlayer(r))}),b(1,"i",74),h()}}function Fq(n,e){if(n&1){let t=R();f(0,"div",330)(1,"div",331)(2,"div",332)(3,"div",333),T(4,Pq,1,0,"i",324)(5,Rq,1,0,"i",325)(6,Nq,1,0,"i",326),h(),f(7,"input",334),me("ngModelChange",function(r){let o=w(t).$implicit;return _e(o.name,r)||(o.name=r),C(r)}),h(),T(8,Oq,2,1,"span",335),h(),f(9,"div",336),T(10,kq,2,0,"button",337),h()()()}if(n&2){let t=e.$implicit,i=_(2);d(4),g("ngIf",t.type==="attaquant"),d(),g("ngIf",t.type==="milieu"),d(),g("ngIf",t.type==="defenseur"),d(),pe("ngModel",t.name),d(),g("ngIf",i.getGoalsForPlayer(t.name)>0),d(2),g("ngIf",i.showDeleteButtons)}}function Vq(n,e){if(n&1){let t=R();f(0,"i",338),I("click",function(){w(t);let r=_(2);return C(r.cycleNewPlayerType())}),h()}}function Lq(n,e){if(n&1){let t=R();f(0,"i",339),I("click",function(){w(t);let r=_(2);return C(r.cycleNewPlayerType())}),h()}}function jq(n,e){if(n&1){let t=R();f(0,"i",340),I("click",function(){w(t);let r=_(2);return C(r.cycleNewPlayerType())}),h()}}function Uq(n,e){if(n&1){let t=R();f(0,"div",313)(1,"div",314)(2,"div",26)(3,"h5",27),b(4,"i",315),m(5),h(),f(6,"button",50),I("click",function(){w(t);let r=_();return C(r.closeEditPlayersModal())}),f(7,"span",51),m(8,"\xD7"),h()()(),f(9,"div",29)(10,"div",316)(11,"h6",30),b(12,"i",317),m(13," Joueurs actuels "),h(),T(14,Fq,11,6,"div",318),h(),f(15,"div",319)(16,"h6",30),b(17,"i",63),m(18," Ajouter un nouveau joueur "),h(),f(19,"div",320)(20,"div",321)(21,"input",322),me("ngModelChange",function(r){w(t);let o=_();return _e(o.newPlayerName,r)||(o.newPlayerName=r),C(r)}),I("keyup.enter",function(){w(t);let r=_();return C(r.addPlayer())}),h(),f(22,"div",323),T(23,Vq,1,0,"i",324)(24,Lq,1,0,"i",325)(25,jq,1,0,"i",326),h(),f(26,"button",255),I("click",function(){w(t);let r=_();return C(r.addPlayer())}),b(27,"i",327),m(28,"Ajouter "),h()()()()(),f(29,"div",34)(30,"button",64),I("click",function(){w(t);let r=_();return C(r.closeEditPlayersModal())}),b(31,"i",65),m(32,"Fermer "),h(),f(33,"button",328),I("click",function(){w(t);let r=_();return C(r.savePlayersEdit())}),b(34,"i",329),m(35,"Enregistrer "),h()()()()}if(n&2){let t=_();d(5),O(" \xC9diter les joueurs de ",t.teamToEdit.name," "),d(9),g("ngForOf",t.teamToEdit.players),d(7),pe("ngModel",t.newPlayerName),d(2),g("ngIf",t.newPlayerType==="attaquant"),d(),g("ngIf",t.newPlayerType==="milieu"),d(),g("ngIf",t.newPlayerType==="defenseur")}}function Bq(n,e){if(n&1&&(f(0,"div",90),b(1,"i",347),m(2),wr(3,"date"),f(4,"span",348),b(5,"i",349),m(6),h(),f(7,"span",348),m(8),h(),f(9,"span",348),m(10),h()()),n&2){let t=e.$implicit,i=_(3);d(2),O(" ",Xs(3,5,t.match.heureDebut,"dd/MM/yyyy HH:mm")," "),d(4),O(" ",t.minute,"'"),d(2),O("vs ",t.match.equipe1===(i.teamToEdit==null?null:i.teamToEdit.name)?t.match.equipe2:t.match.equipe1,""),d(2),Ft("(score: ",t.match.score1," - ",t.match.score2,")")}}function $q(n,e){n&1&&(f(0,"div",350),m(1,"Aucun but trouv\xE9."),h())}function qq(n,e){if(n&1){let t=R();Se(0),f(1,"div",29),T(2,Bq,11,8,"div",345)(3,$q,2,0,"div",346),h(),f(4,"div",34)(5,"button",35),I("click",function(){w(t);let r=_(2);return C(r.closePlayerGoalsModal())}),m(6,"Fermer"),h()(),Ae()}if(n&2){let t=_(2);d(2),g("ngForOf",t.getPlayerGoalsDetails(t.selectedPlayerGoalsModal)),d(),g("ngIf",t.getPlayerGoalsDetails(t.selectedPlayerGoalsModal).length===0)}}function Gq(n,e){if(n&1){let t=R();f(0,"div",343)(1,"div",170)(2,"div",25)(3,"div",26)(4,"h5",27),m(5),h(),f(6,"button",344),I("click",function(){w(t);let r=_();return C(r.closePlayerGoalsModal())}),h()(),T(7,qq,7,2,"ng-container",59),h()()()}if(n&2){let t=_();d(5),O("Buts de ",t.selectedPlayerGoalsModal.name,""),d(2),g("ngIf",t.selectedPlayerGoalsModal)}}function zq(n,e){if(n&1){let t=R();f(0,"button",364),I("click",function(){w(t);let r=_().index,o=_(2);return C(o.removeNewTeamPlayer(r))}),b(1,"i",74),h()}if(n&2){let t=_(3);g("disabled",t.newTeamPlayers.length===1)}}function Hq(n,e){if(n&1){let t=R();f(0,"div",357)(1,"input",358),me("ngModelChange",function(r){let o=w(t).$implicit;return _e(o.name,r)||(o.name=r),C(r)}),h(),f(2,"select",359),me("ngModelChange",function(r){let o=w(t).$implicit;return _e(o.type,r)||(o.type=r),C(r)}),f(3,"option",360),m(4,"Attaquant"),h(),f(5,"option",361),m(6,"Milieu"),h(),f(7,"option",362),m(8,"D\xE9fenseur"),h()(),T(9,zq,2,1,"button",363),h()}if(n&2){let t=e.$implicit,i=_(2);d(),pe("ngModel",t.name),g("ngModelOptions",Bt(5,xn)),d(),pe("ngModel",t.type),g("ngModelOptions",Bt(6,xn)),d(7),g("ngIf",i.showDeleteButtons)}}function Wq(n,e){if(n&1){let t=R();f(0,"div",343)(1,"div",170)(2,"div",25)(3,"div",26)(4,"h5",27),m(5,"Cr\xE9er une nouvelle \xE9quipe"),h(),f(6,"button",344),I("click",function(){w(t);let r=_();return C(r.closeNewTeamModal())}),h()(),f(7,"div",29)(8,"div",30)(9,"label",351),m(10,"Nom de l'\xE9quipe"),h(),f(11,"input",352),me("ngModelChange",function(r){w(t);let o=_();return _e(o.newTeamName,r)||(o.newTeamName=r),C(r)}),h()(),f(12,"div",353),m(13,"Joueurs"),h(),T(14,Hq,10,7,"div",354),f(15,"button",355),I("click",function(){w(t);let r=_();return C(r.addNewTeamPlayer())}),m(16,"+ Ajouter un joueur"),h()(),f(17,"div",34)(18,"button",35),I("click",function(){w(t);let r=_();return C(r.closeNewTeamModal())}),m(19,"Annuler"),h(),f(20,"button",356),I("click",function(){w(t);let r=_();return C(r.createNewTeam())}),m(21,"Cr\xE9er l'\xE9quipe"),h()()()()()}if(n&2){let t=_();d(11),pe("ngModel",t.newTeamName),g("ngModelOptions",Bt(4,xn)),d(3),g("ngForOf",t.newTeamPlayers),d(6),g("disabled",t.canCreateNewTeam())}}function Kq(n,e){n&1&&b(0,"i",77)}function Qq(n,e){n&1&&b(0,"i",375)}function Yq(n,e){n&1&&b(0,"i",376)}function Jq(n,e){n&1&&b(0,"i",377)}function Zq(n,e){n&1&&b(0,"i",378)}function Xq(n,e){n&1&&b(0,"i",379)}function e9(n,e){n&1&&b(0,"i",380)}function t9(n,e){n&1&&b(0,"i",381)}function n9(n,e){if(n&1){let t=R();f(0,"div",365)(1,"button",366),I("click",function(){let r=w(t).$implicit,o=_();return C(o.executeSelectedAction(r))}),T(2,Kq,1,0,"i",367)(3,Qq,1,0,"i",368)(4,Yq,1,0,"i",369)(5,Jq,1,0,"i",370)(6,Zq,1,0,"i",371)(7,Xq,1,0,"i",372)(8,e9,1,0,"i",373)(9,t9,1,0,"i",374),m(10),wr(11,"titlecase"),h()()}if(n&2){let t=e.$implicit;d(),Ie("btn-primary",!1),d(),g("ngIf",t==="but"),d(),g("ngIf",t==="duel"),d(),g("ngIf",t==="dribble"),d(),g("ngIf",t==="interception"),d(),g("ngIf",t==="frappe"),d(),g("ngIf",t==="faute"),d(),g("ngIf",t==="contre-attaque"),d(),g("ngIf",t==="tiki-taka"),d(),O(" ",fm(11,11,t)," ")}}var Jh=class n{static{this.competitionColors=new Map}constructor(e,t){this.fb=e,this.firestoreService=t,this.matches=[],this.selectedMatch=null,this.showButeurForm=!1,this.showMatchForm=!1,this.editingButeur=null,this.teams=ng,this.selectedTeam=null,this.newPlayerName="",this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist="",this.showButeursList=!0,this.showDisposition=!1,this.selectedPosition=null,this.showDispositionModal=!1,this.showElements=!0,this.showDefendersAndMidfielders=!0,this.showMatchEditForm=!1,this.showScoreForm=!1,this.selectedTeamFilter="",this.showTeamFilterModal=!1,this.selectedCompetitionFilter="",this.showCompetitionFilterModal=!1,this.remainingDots=5,this.usedColors=[],this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1},this.showHelpModal=!1,this.showRankingModal=!1,this.currentRanking=[],this.isSharingCompetition=!1,this.isSharingMatch=!1,this.sharingLogs=[],this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerType="milieu",this.selectedPlayerGoalsIndex=null,this.selectedPlayerGoalsModal=null,this.team1Search="",this.team2Search="",this.filteredTeams1=[],this.filteredTeams2=[],this.showNewTeamModal=!1,this.editingCompetitionName="",this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}],this.competitionSearch="",this.filteredCompetitions=[],this.disabledGoals=[],this.showingLocalStorageData=!1,this.localStorageData=null,this.showDeleteButtons=!1,this.editTeam1Search="",this.editTeam2Search="",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editCompetitionSearch="",this.editFilteredCompetitions=[],this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.showCelebration=!1,this.celebrationConfig=null,this.celebrationPlayer="",this.celebrationTeam="",this.celebrationAssist="",this.showActionSelectionModal=!1,this.pendingActionPlayer="",this.pendingActionTeam=1,this.availableActions=[],this.encodingGoalsEnabled=!1,this.encodingDuelsEnabled=!1,this.newTeamTargetField=null,this.selectedSeason="",this.matchForm=this.fb.group({equipe1:[this.teams[0].name,Xe.required],equipe2:["",Xe.required],heureDebut:[this.getCurrentDateTime(),Xe.required],lieu:[""],competition:[""]}),this.scoreForm=this.fb.group({score1:[0,[Xe.required,Xe.min(0)]],score2:[0,[Xe.required,Xe.min(0)]]}),this.buteurForm=this.fb.group({nom:["",Xe.required],minute:["",[Xe.required,Xe.min(1),Xe.max(90)]],equipe:["",Xe.required],assist:[""]}),this.buteurForm.get("equipe")?.valueChanges.subscribe(i=>{let r=this.buteurForm.get("assist");r&&r.setValue("")}),this.matchEditForm=this.fb.group({equipe1:["",Xe.required],equipe2:["",Xe.required],heureDebut:["",Xe.required],lieu:[""],competition:[""]})}ngOnInit(){return E(this,null,function*(){this.loadSavedData(),this.ensureAllTeamsPresent(),this.ensureMatchProperties(),this.startAutoSave(),yield this.loadMatchFromUrl(),this.updateFilteredTeams1(),this.updateFilteredTeams2(),this.selectedSeason=this.getCurrentSeason(),this.selectedCompetitionFilter=this.getCurrentSeason(),this.createU10U11CompetitionsIfNeeded()})}getCelebrationConfig(e){return{but:{type:"but",emoji:"\u26BD",text:"BUUUT !",color:"#ffc107",showAssist:!0,showCancel:!0},duel:{type:"duel",emoji:"\u{1F6E1}\uFE0F",text:"DUEL GAGN\xC9",color:"#28a745",showAssist:!1,showCancel:!0},dribble:{type:"dribble",emoji:"\u{1F3C3}",text:"DRIBBLE",color:"#17a2b8",showAssist:!1,showCancel:!1},interception:{type:"interception",emoji:"\u270B",text:"INTERCEPTION",color:"#6f42c1",showAssist:!1,showCancel:!1},frappe:{type:"frappe",emoji:"\u{1F3AF}",text:"FRAPPE",color:"#fd7e14",showAssist:!1,showCancel:!1},faute:{type:"faute",emoji:"\u26A0\uFE0F",text:"FAUTE",color:"#dc3545",showAssist:!1,showCancel:!1},"contre-attaque":{type:"contre-attaque",emoji:"\u26A1",text:"CONTRE-ATTAQUE",color:"#20c997",showAssist:!1,showCancel:!1},"tiki-taka":{type:"tiki-taka",emoji:"\u{1F504}",text:"TIKI-TAKA",color:"#6c757d",showAssist:!1,showCancel:!1}}[e]}startGenericCelebration(e,t,i){console.log(`D\xE9marrage de la c\xE9l\xE9bration ${e} pour ${t}`),this.celebrationConfig=this.getCelebrationConfig(e),this.celebrationPlayer=t,this.celebrationTeam=i===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2,this.celebrationAssist="",this.showCelebration=!0,this.remainingDots=5,this.startCelebrationTimer()}ensureMatchProperties(){console.log("V\xE9rification des propri\xE9t\xE9s des matches...");let e=!1;this.matches.forEach(t=>{t.dribbles||(t.dribbles=[],e=!0),t.interceptions||(t.interceptions=[],e=!0),t.frappes||(t.frappes=[],e=!0),t.fautes||(t.fautes=[],e=!0),t.contreAttaques||(t.contreAttaques=[],e=!0),t.tikiTakas||(t.tikiTakas=[],e=!0)}),e&&(console.log("Propri\xE9t\xE9s des matches mises \xE0 jour, sauvegarde..."),this.saveData())}createU10U11CompetitionsIfNeeded(){let e=this.matches.map(r=>r.competition).filter(r=>r!==void 0&&r!==""),t=e.includes("Championnat U10"),i=e.includes("Championnat U11")}getCurrentDateTime(){let e=new Date,t=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-t).toISOString().slice(0,16)}onSubmit(){if(this.matchForm.valid){let t=new Date(this.matchForm.value.heureDebut).getTimezoneOffset()*6e4,i=Y(M({id:this.matches.length+1},this.matchForm.value),{score1:0,score2:0,buteurs:[],duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[],showElements:!0,updatedAt:new Date});console.log("Nouveau match cr\xE9\xE9:",i),this.matches.push(i),this.saveData(),this.matchForm.reset({heureDebut:this.getCurrentDateTime()}),this.showMatchForm=!1}else console.log("MatchForm invalide - soumission annul\xE9e")}calculateElapsedMinutes(e){let t=new Date,i=new Date(e),r=new Date(i.getTime()),o=Math.floor((t.getTime()-r.getTime())/(1e3*60));return o>90?this.getLastScoredMinute()+1:Math.max(1,o)}getLastScoredMinute(){return!this.selectedMatch||this.selectedMatch.buteurs.length===0?0:Math.max(...this.selectedMatch.buteurs.map(e=>e.minute))}selectMatch(e){this.selectedMatch=e,this.scoreForm.patchValue({score1:e.score1,score2:e.score2});let t=this.calculateElapsedMinutes(e.heureDebut);this.showButeurForm=!1,this.showScoreForm=!0,this.buteurForm.patchValue({nom:"",minute:t,equipe:1});let i=this.teams.find(o=>o.name===e.equipe1),r=this.teams.find(o=>o.name===e.equipe2);if(i?ig(i):this.teams.push({id:this.teams.length+1,name:e.equipe1,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),r?ig(r):this.teams.push({id:this.teams.length+1,name:e.equipe2,players:[{name:"Joueur non list\xE9",type:"milieu"}]}),e.equipe1==="U10 Stand. Flawinne FC"){let o=this.teams.find(s=>s.name==="U10 Stand. Flawinne FC");this.selectedTeam=o||null}this.ensureAllTeamsPresent(),this.ensureScorersInTeams(e),this.maintainScoreConsistency()}updateScore(){if(!this.selectedMatch){console.log("selectedMatch null - mise \xE0 jour annul\xE9e");return}this.selectedMatch.score1=0,this.selectedMatch.score2=0,this.selectedMatch.buteurs=[],console.log("Score apr\xE8s mise \xE0 jour:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2,buteurs:this.selectedMatch.buteurs}),this.saveData()}modifierButeur(e,t){if(e<0||e>=this.matches.length){console.error("Index de match invalide:",e);return}let i=this.matches[e];if(!i){console.error("Match non trouv\xE9 \xE0 l'index:",e);return}if(!i.buteurs||!Array.isArray(i.buteurs)){console.error("Propri\xE9t\xE9 buteurs manquante ou invalide pour le match:",i);return}if(t<0||t>=i.buteurs.length){console.error("Index de buteur invalide:",t,"pour le match:",i);return}let r=i.buteurs[t];if(!r){console.error("Buteur non trouv\xE9 \xE0 l'index:",t);return}console.log("Match trouv\xE9:",i),console.log("Buteur \xE0 modifier:",r),this.isGoalDisabled(t)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===t)),console.log("But r\xE9activ\xE9 pour \xE9dition")),this.editingButeur={index:t,buteur:M({},r)},this.buteurForm.patchValue({nom:r.nom,minute:r.minute,equipe:r.equipe,assist:r.assist||""}),this.gererOuvertureFermetureButeurForm(!0),this.showButeurForm=!0}ajouterButeur(){if(this.buteurForm.valid&&this.selectedMatch){let e=this.buteurForm.value;console.log("Donn\xE9es du buteur:",e);let t={nom:e.nom,minute:e.minute,equipe:e.equipe,assist:e.assist||void 0};if(console.log("Nouveau buteur cr\xE9\xE9:",t),this.editingButeur){let i=this.matches.indexOf(this.selectedMatch);if(i<0||i>=this.matches.length){console.error("Index de match invalide pour modification:",i);return}let r=this.matches[i];if(!r||!r.buteurs||!Array.isArray(r.buteurs)){console.error("Match ou propri\xE9t\xE9 buteurs invalide pour modification:",r);return}if(this.editingButeur.index<0||this.editingButeur.index>=r.buteurs.length){console.error("Index de buteur invalide pour modification:",this.editingButeur.index);return}r.buteurs[this.editingButeur.index]=t,console.log("Buteur modifi\xE9 dans le match")}else this.selectedMatch.buteurs.push(t),console.log("Buteur ajout\xE9 au match"),t.equipe===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2));console.log("Match apr\xE8s ajout/modification:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1)}else console.log("ButeurForm invalide ou selectedMatch null - ajout annul\xE9")}annulerEditionButeur(){this.buteurForm.reset(),this.showButeurForm=!1,this.editingButeur=null,this.gererOuvertureFermetureButeurForm(!1),console.log("\xC9dition de buteur annul\xE9e")}supprimerButeur(e,t){if(e<0||e>=this.matches.length){console.error("Index de match invalide:",e);return}let i=this.matches[e];if(!i){console.error("Match non trouv\xE9 \xE0 l'index:",e);return}if(!i.buteurs||!Array.isArray(i.buteurs)){console.error("Propri\xE9t\xE9 buteurs manquante ou invalide pour le match:",i);return}if(t<0||t>=i.buteurs.length){console.error("Index de buteur invalide:",t,"pour le match:",i);return}let r=i.buteurs[t];if(!r){console.error("Buteur non trouv\xE9 \xE0 l'index:",t);return}confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le but de ${r.nom} \xE0 la minute ${r.minute} ?`)&&(console.log("Match:",i),console.log("Buteur \xE0 supprimer:",r),this.isGoalDisabled(t)&&(this.disabledGoals=this.disabledGoals.filter(o=>!(o.matchId===i.id&&o.buteurIndex===t)),console.log("But d\xE9sactiv\xE9 retir\xE9 de la liste")),r.equipe===1?(i.score1=Math.max(0,i.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",i.score1)):(i.score2=Math.max(0,i.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",i.score2)),i.buteurs.splice(t,1),console.log("Buteur supprim\xE9 du match"),console.log("Match apr\xE8s suppression:",i),this.maintainScoreConsistency(),this.saveData())}getPlayersList(){return this.selectedMatch&&this.buteurForm.get("equipe")?.value&&(this.buteurForm.get("equipe")?.value===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2)==="U10 Stand. Flawinne FC"?this.teams.find(r=>r.name==="U10 Stand. Flawinne FC")?.players||[]:[]}addNewTeam(e){let t=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(t&&t.trim()){let i={id:this.teams.length+1,name:t.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchForm.get(r)?.setValue(i.name)}}editNewTeam(e){let t=prompt("Entrez le nom de la nouvelle \xE9quipe:");if(t&&t.trim()){let i={id:this.teams.length+1,name:t.trim(),players:[]};this.teams.push(i),e.value=i.name;let r=e.id==="equipe1"?"equipe1":"equipe2";this.matchEditForm.get(r)?.setValue(i.name)}}addNewPlayer(e){if(e&&e.trim()){let t=this.teams.find(i=>i.name===(this.buteurForm.get("equipe")?.value===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));t&&(t.players.some(i=>i.name===e.trim())||t.players.push({name:e.trim(),type:"milieu"}),this.buteurForm.get("nom")?.setValue(e.trim()))}}getTeamPlayers(e){if(!this.selectedMatch)return[];let t=e===1?this.selectedMatch.equipe1:this.selectedMatch.equipe2;return this.teams.find(r=>r.name===t)?.players||[]}quickAddGoal(e,t){if(console.log("quickAddGoal() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}let r={nom:e,minute:i,equipe:t};console.log("Nouveau buteur rapide cr\xE9\xE9:",r),this.selectedMatch.buteurs.push(r),console.log("Buteur ajout\xE9 au match"),t===1?(this.selectedMatch.score1++,console.log("Score \xE9quipe 1 incr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2++,console.log("Score \xE9quipe 2 incr\xE9ment\xE9:",this.selectedMatch.score2)),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.maintainScoreConsistency(),this.saveData(),this.startGenericCelebration("but",e,t),console.log("But ajout\xE9 rapidement avec succ\xE8s")}quickAddDuel(e,t){if(console.log("quickAddDuel() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.duelsGagnes||(this.selectedMatch.duelsGagnes=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouveau duel gagn\xE9 cr\xE9\xE9:",r),this.selectedMatch.duelsGagnes.push(r),console.log("Duel gagn\xE9 ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("duel",e,t),console.log("Duel gagn\xE9 ajout\xE9 rapidement avec succ\xE8s")}quickAddDribble(e,t){if(console.log("quickAddDribble() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.dribbles||(this.selectedMatch.dribbles=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouveau dribble cr\xE9\xE9:",r),this.selectedMatch.dribbles.push(r),console.log("Dribble ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("dribble",e,t),console.log("Dribble ajout\xE9 rapidement avec succ\xE8s")}quickAddInterception(e,t){if(console.log("quickAddInterception() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.interceptions||(this.selectedMatch.interceptions=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle interception cr\xE9\xE9e:",r),this.selectedMatch.interceptions.push(r),console.log("Interception ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("interception",e,t),console.log("Interception ajout\xE9e rapidement avec succ\xE8s")}quickAddFrappe(e,t){if(console.log("quickAddFrappe() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.frappes||(this.selectedMatch.frappes=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle frappe cr\xE9\xE9e:",r),this.selectedMatch.frappes.push(r),console.log("Frappe ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("frappe",e,t),console.log("Frappe ajout\xE9e rapidement avec succ\xE8s")}quickAddFaute(e,t){if(console.log("quickAddFaute() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.fautes||(this.selectedMatch.fautes=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle faute cr\xE9\xE9e:",r),this.selectedMatch.fautes.push(r),console.log("Faute ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("faute",e,t),console.log("Faute ajout\xE9e rapidement avec succ\xE8s")}quickAddContreAttaque(e,t){if(console.log("quickAddContreAttaque() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.contreAttaques||(this.selectedMatch.contreAttaques=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouvelle contre-attaque cr\xE9\xE9e:",r),this.selectedMatch.contreAttaques.push(r),console.log("Contre-attaque ajout\xE9e au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("contre-attaque",e,t),console.log("Contre-attaque ajout\xE9e rapidement avec succ\xE8s")}quickAddTikiTaka(e,t){if(console.log("quickAddTikiTaka() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - ajout rapide annul\xE9");return}console.log("Match s\xE9lectionn\xE9:",this.selectedMatch);let i=this.calculateElapsedMinutes(this.selectedMatch.heureDebut);if(console.log("Minutes \xE9coul\xE9es:",i),i<0){console.log("Match pas encore commenc\xE9 - ajout rapide annul\xE9");return}this.selectedMatch.tikiTakas||(this.selectedMatch.tikiTakas=[]);let r={nom:e,minute:i,equipe:t};console.log("Nouveau tiki-taka cr\xE9\xE9:",r),this.selectedMatch.tikiTakas.push(r),console.log("Tiki-taka ajout\xE9 au match"),console.log("Match apr\xE8s ajout rapide:",this.selectedMatch),this.saveData(),this.startGenericCelebration("tiki-taka",e,t),console.log("Tiki-taka ajout\xE9 rapidement avec succ\xE8s")}quickAddAction(e,t){if(console.log("quickAddAction() appel\xE9e avec playerName:",e,"teamNumber:",t),!this.selectedMatch){console.log("selectedMatch null - action rapide annul\xE9e");return}let i=this.getPlayerByName(t,e);if(!i){console.log("Joueur non trouv\xE9 - action rapide annul\xE9e");return}console.log("Type du joueur:",i.type);let r=[];switch(i.type){case"defenseur":r=["interception","duel","faute"];break;case"milieu":r=["tiki-taka","dribble","contre-attaque","interception"];break;case"attaquant":r=["frappe","dribble","but","contre-attaque"];break;default:r=["but","duel","dribble","interception","frappe","faute","contre-attaque","tiki-taka"];break}this.pendingActionPlayer=e,this.pendingActionTeam=t,this.availableActions=r,this.showActionSelectionModal=!0,console.log("Modal de s\xE9lection d'action affich\xE9 pour:",{player:e,team:t,type:i.type,actions:r})}executeSelectedAction(e){switch(console.log("Ex\xE9cution de l'action s\xE9lectionn\xE9e:",e),this.showActionSelectionModal=!1,e){case"but":this.quickAddGoal(this.pendingActionPlayer,this.pendingActionTeam);break;case"duel":this.quickAddDuel(this.pendingActionPlayer,this.pendingActionTeam);break;case"dribble":this.quickAddDribble(this.pendingActionPlayer,this.pendingActionTeam);break;case"interception":this.quickAddInterception(this.pendingActionPlayer,this.pendingActionTeam);break;case"frappe":this.quickAddFrappe(this.pendingActionPlayer,this.pendingActionTeam);break;case"faute":this.quickAddFaute(this.pendingActionPlayer,this.pendingActionTeam);break;case"contre-attaque":this.quickAddContreAttaque(this.pendingActionPlayer,this.pendingActionTeam);break;case"tiki-taka":this.quickAddTikiTaka(this.pendingActionPlayer,this.pendingActionTeam);break;default:console.log("Action non reconnue:",e);break}this.pendingActionPlayer="",this.pendingActionTeam=1,this.availableActions=[]}cancelActionSelection(){console.log("S\xE9lection d'action annul\xE9e"),this.showActionSelectionModal=!1,this.pendingActionPlayer="",this.pendingActionTeam=1,this.availableActions=[]}saveGoalWithAssist(){if(console.log("saveGoalWithAssist() appel\xE9e"),!this.selectedMatch||!this.lastGoalScorer){console.log("selectedMatch ou lastGoalScorer null - sauvegarde annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)||this.selectedMatch.buteurs.length===0){console.error("Propri\xE9t\xE9 buteurs invalide ou vide:",this.selectedMatch.buteurs);return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.lastGoalScorer&&(e.assist=this.lastGoalAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showGoalCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelGoal(){if(console.log("cancelGoal() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)){console.error("Propri\xE9t\xE9 buteurs invalide:",this.selectedMatch.buteurs);return}if(this.selectedMatch.buteurs.length>0){let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];if(!e){console.error("Dernier buteur non trouv\xE9");return}console.log("Dernier buteur \xE0 supprimer:",e),e.equipe===1?(this.selectedMatch.score1=Math.max(0,this.selectedMatch.score1-1),console.log("Score \xE9quipe 1 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score1)):(this.selectedMatch.score2=Math.max(0,this.selectedMatch.score2-1),console.log("Score \xE9quipe 2 d\xE9cr\xE9ment\xE9:",this.selectedMatch.score2)),this.selectedMatch.buteurs.pop(),console.log("Dernier buteur supprim\xE9")}this.showGoalCelebration=!1,this.lastGoalScorer="",this.lastGoalTeam="",this.lastGoalAssist=""}saveDuel(){console.log("saveDuel() appel\xE9e"),this.saveData(),this.showCelebration=!1,console.log("Duel gagn\xE9 sauvegard\xE9 avec succ\xE8s")}cancelDuel(){if(console.log("cancelDuel() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - annulation annul\xE9e");return}if(this.selectedMatch.duelsGagnes&&this.selectedMatch.duelsGagnes.length>0){let e=this.selectedMatch.duelsGagnes[this.selectedMatch.duelsGagnes.length-1];console.log("Dernier duel \xE0 supprimer:",e),this.selectedMatch.duelsGagnes.pop(),console.log("Dernier duel supprim\xE9")}this.showCelebration=!1}supprimerDuel(e,t){if(console.log("supprimerDuel() appel\xE9e avec matchIndex:",e,"duelIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.duelsGagnes||t<0||t>=i.duelsGagnes.length){console.log("Index de duel invalide - suppression annul\xE9e");return}console.log("Match:",i),console.log("Duel \xE0 supprimer:",i.duelsGagnes[t]),i.duelsGagnes.splice(t,1),console.log("Duel supprim\xE9"),this.saveData(),console.log("Duel supprim\xE9 avec succ\xE8s")}supprimerDribble(e,t){if(console.log("supprimerDribble() appel\xE9e avec matchIndex:",e,"dribbleIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.dribbles||t<0||t>=i.dribbles.length){console.log("Index de dribble invalide - suppression annul\xE9e");return}i.dribbles.splice(t,1),this.saveData(),console.log("Dribble supprim\xE9 avec succ\xE8s")}supprimerInterception(e,t){if(console.log("supprimerInterception() appel\xE9e avec matchIndex:",e,"interceptionIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.interceptions||t<0||t>=i.interceptions.length){console.log("Index d'interception invalide - suppression annul\xE9e");return}i.interceptions.splice(t,1),this.saveData(),console.log("Interception supprim\xE9e avec succ\xE8s")}supprimerFrappe(e,t){if(console.log("supprimerFrappe() appel\xE9e avec matchIndex:",e,"frappeIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.frappes||t<0||t>=i.frappes.length){console.log("Index de frappe invalide - suppression annul\xE9e");return}i.frappes.splice(t,1),this.saveData(),console.log("Frappe supprim\xE9e avec succ\xE8s")}supprimerFaute(e,t){if(console.log("supprimerFaute() appel\xE9e avec matchIndex:",e,"fauteIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.fautes||t<0||t>=i.fautes.length){console.log("Index de faute invalide - suppression annul\xE9e");return}i.fautes.splice(t,1),this.saveData(),console.log("Faute supprim\xE9e avec succ\xE8s")}supprimerContreAttaque(e,t){if(console.log("supprimerContreAttaque() appel\xE9e avec matchIndex:",e,"contreAttaqueIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.contreAttaques||t<0||t>=i.contreAttaques.length){console.log("Index de contre-attaque invalide - suppression annul\xE9e");return}i.contreAttaques.splice(t,1),this.saveData(),console.log("Contre-attaque supprim\xE9e avec succ\xE8s")}supprimerTikiTaka(e,t){if(console.log("supprimerTikiTaka() appel\xE9e avec matchIndex:",e,"tikiTakaIndex:",t),e<0||e>=this.matches.length){console.log("Index de match invalide - suppression annul\xE9e");return}let i=this.matches[e];if(!i.tikiTakas||t<0||t>=i.tikiTakas.length){console.log("Index de tiki-taka invalide - suppression annul\xE9e");return}i.tikiTakas.splice(t,1),this.saveData(),console.log("Tiki-taka supprim\xE9 avec succ\xE8s")}supprimerMatch(e){if(!confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce match ?"))return;let t=this.matches.findIndex(i=>i.id===e.id);t!==-1&&(this.matches.splice(t,1),this.saveData())}loadSavedData(){let e=localStorage.getItem("footballMatches");if(e){let t=JSON.parse(e);new Date(t.expirationDate)>new Date?(this.matches=t.matches.map(r=>Y(M({},r),{heureDebut:new Date(r.heureDebut),duelsGagnes:r.duelsGagnes||[]})),t.teams&&(this.teams=t.teams,this.ensureAllTeamsPresent(),this.saveData())):localStorage.removeItem("footballMatches")}}ensureAllTeamsPresent(){ng.forEach(e=>{let t=this.teams.find(i=>i.name===e.name);if(!t)this.teams.push(M({},e)),console.log(`\xC9quipe ajout\xE9e: ${e.name}`);else if(e.players.length>0){let i=e.players.filter(r=>!t.players.some(o=>o.name===r.name));i.length>0&&(t.players.push(...i),console.log(`Joueurs ajout\xE9s \xE0 ${e.name}:`,i.map(r=>r.name)))}})}saveData(){let e=new Date;e.setMonth(e.getMonth()+3);let t={matches:this.matches,teams:this.teams,expirationDate:e.toISOString()};localStorage.setItem("footballMatches",JSON.stringify(t))}startAutoSave(){setInterval(()=>this.saveData(),3e4)}getGroupedScorers(e,t){return e.buteurs.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c),o.assist&&(s.assist=o.assist)):r.push({nom:o.nom,minutes:[o.minute],assist:o.assist}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom))}getGroupedDuels(e,t){return e.duelsGagnes?e.duelsGagnes.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedDribbles(e,t){return e.dribbles?e.dribbles.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedInterceptions(e,t){return e.interceptions?e.interceptions.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedFrappes(e,t){return e.frappes?e.frappes.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedFautes(e,t){return e.fautes?e.fautes.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedContreAttaques(e,t){return e.contreAttaques?e.contreAttaques.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getGroupedTikiTakas(e,t){return e.tikiTakas?e.tikiTakas.filter(r=>r.equipe===t).reduce((r,o)=>{let s=r.find(a=>a.nom===o.nom);return s?(s.minutes.push(o.minute),s.minutes.sort((a,c)=>a-c)):r.push({nom:o.nom,minutes:[o.minute]}),r},[]).sort((r,o)=>r.nom.localeCompare(o.nom)):[]}getAllGroupedStats(e,t){let i=[];return this.getGroupedDuels(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"duel",emoji:"\u{1F6E1}\uFE0F",color:"#28a745"})}),this.getGroupedDribbles(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"dribble",emoji:"\u{1F3C3}",color:"#17a2b8"})}),this.getGroupedInterceptions(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"interception",emoji:"\u270B",color:"#6f42c1"})}),this.getGroupedFrappes(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"frappe",emoji:"\u{1F3AF}",color:"#fd7e14"})}),this.getGroupedFautes(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"faute",emoji:"\u26A0\uFE0F",color:"#dc3545"})}),this.getGroupedContreAttaques(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"contre-attaque",emoji:"\u26A1",color:"#20c997"})}),this.getGroupedTikiTakas(e,t).forEach(p=>{i.push({nom:p.nom,minutes:p.minutes,type:"tiki-taka",emoji:"\u{1F504}",color:"#6c757d"})}),i}getAllStatsForModal(){if(!this.selectedMatch)return[];let e=[];return this.selectedMatch.duelsGagnes&&this.selectedMatch.duelsGagnes.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"duel",emoji:"\u{1F6E1}\uFE0F",color:"#28a745",index:i,supprimerFn:()=>this.supprimerDuel(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.dribbles&&this.selectedMatch.dribbles.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"dribble",emoji:"\u{1F3C3}",color:"#17a2b8",index:i,supprimerFn:()=>this.supprimerDribble(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.interceptions&&this.selectedMatch.interceptions.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"interception",emoji:"\u270B",color:"#6f42c1",index:i,supprimerFn:()=>this.supprimerInterception(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.frappes&&this.selectedMatch.frappes.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"frappe",emoji:"\u{1F3AF}",color:"#fd7e14",index:i,supprimerFn:()=>this.supprimerFrappe(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.fautes&&this.selectedMatch.fautes.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"faute",emoji:"\u26A0\uFE0F",color:"#dc3545",index:i,supprimerFn:()=>this.supprimerFaute(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.contreAttaques&&this.selectedMatch.contreAttaques.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"contre-attaque",emoji:"\u26A1",color:"#20c997",index:i,supprimerFn:()=>this.supprimerContreAttaque(this.matches.indexOf(this.selectedMatch),i)})}),this.selectedMatch.tikiTakas&&this.selectedMatch.tikiTakas.forEach((t,i)=>{e.push({nom:t.nom,minute:t.minute,equipe:t.equipe,type:"tiki-taka",emoji:"\u{1F504}",color:"#6c757d",index:i,supprimerFn:()=>this.supprimerTikiTaka(this.matches.indexOf(this.selectedMatch),i)})}),e.sort((t,i)=>t.minute-i.minute)}getActiveGroupedScorers(e,t){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===t&&!this.isGoalDisabledForMatch(e,r.index)).reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}getDisabledGroupedScorers(e,t){return e.buteurs.map((r,o)=>({buteur:r,index:o})).filter(r=>r.buteur.equipe===t&&this.isGoalDisabledForMatch(e,r.index)&&r.buteur.nom!=="Joueur non list\xE9").reduce((r,o)=>{let s=r.find(a=>a.nom===o.buteur.nom);return s?(s.minutes.push(o.buteur.minute),s.minutes.sort((a,c)=>a-c),o.buteur.assist&&(s.assist=o.buteur.assist)):r.push({nom:o.buteur.nom,minutes:[o.buteur.minute],assist:o.buteur.assist}),r},[]).sort((r,o)=>r.minutes[0]-o.minutes[0])}toggleButeursList(){this.showButeursList=!this.showButeursList}toggleDispositionView(){this.showDisposition=!this.showDisposition}selectPosition(e,t){this.selectedPosition={team:e,position:t};let i=this.getPlayerForPosition(e,t);if(i&&this.selectedMatch){let r=t.includes("defenseur")||t==="gardien";console.log("isDefensivePosition"+r),r?this.encodingDuelsEnabled&&this.quickAddDuel(i.name,e):this.encodingGoalsEnabled&&this.quickAddGoal(i.name,e)}}assignPlayerToPosition(e){if(this.selectedPosition&&this.selectedMatch){this.selectedMatch.positions||(this.selectedMatch.positions={});let t=`${this.selectedPosition.team}_${this.selectedPosition.position}`;this.selectedMatch.positions[t]=e,this.selectedPosition=null,this.saveData()}}getPlayerForPosition(e,t){if(this.selectedMatch?.positions){let i=`${e}_${t}`,r=this.selectedMatch.positions[i];if(r)return this.getPlayerByName(e,r)}return null}getPlayerByName(e,t){let i=this.teams.find(r=>r.name===(e===1?this.selectedMatch?.equipe1:this.selectedMatch?.equipe2));return i&&i.players.find(r=>r.name===t)||null}openDispositionModal(e){this.selectedMatch=e,this.showDispositionModal=!0}closeDispositionModal(){this.showDispositionModal=!1,this.selectedMatch=null}toggleVisibility(e){e.showElements=!e.showElements}toggleDefendersAndMidfielders(){this.showDefendersAndMidfielders=!this.showDefendersAndMidfielders}toggleMatchEditForm(e){this.selectedMatch=e,this.matchEditForm.patchValue({equipe1:e.equipe1,equipe2:e.equipe2,heureDebut:this.getNearestValidTime(e.heureDebut),lieu:e.lieu,competition:e.competition}),this.editTeam1Search=e.equipe1,this.editTeam2Search=e.equipe2,this.editCompetitionSearch=e.competition||"",this.editFilteredTeams1=[],this.editFilteredTeams2=[],this.editFilteredCompetitions=[],this.showMatchEditForm=!this.showMatchEditForm}getNearestValidTime(e){let t=new Date(e);return t.getMinutes()<30?t.setMinutes(0):t.setMinutes(30),t.toISOString().slice(0,16)}onSubmitMatchEdit(){if(this.matchEditForm.valid&&this.selectedMatch){let e=this.matchEditForm.value;this.selectedMatch.equipe1=e.equipe1,this.selectedMatch.equipe2=e.equipe2,this.selectedMatch.heureDebut=new Date(e.heureDebut),this.selectedMatch.lieu=e.lieu,this.selectedMatch.competition=e.competition,this.saveData(),this.showMatchEditForm=!1}}get filteredMatches(){return this.matches.filter(e=>{let t=!this.selectedTeamFilter||e.equipe1===this.selectedTeamFilter||e.equipe2===this.selectedTeamFilter,i=this.selectedCompetitionFilter&&this.selectedCompetitionFilter.includes("-"),r=!0;return this.selectedCompetitionFilter&&(i?r=this.getSeasonFromDate(e.heureDebut)===this.selectedCompetitionFilter:r=e.competition===this.selectedCompetitionFilter),t&&r})}closeTeamFilterModal(){this.showTeamFilterModal=!1}getMatchesPlayedByTeam(e){return this.matches.filter(t=>t.equipe1===e||t.equipe2===e).length}get filteredTeamsForModal(){let e;if(!this.selectedCompetitionFilter)e=this.teams;else if(this.selectedCompetitionFilter.includes("-")){let i=new Set;this.matches.forEach(r=>{this.getSeasonFromDate(r.heureDebut)===this.selectedCompetitionFilter&&(i.add(r.equipe1),i.add(r.equipe2))}),e=this.teams.filter(r=>i.has(r.name))}else{let i=new Set;this.matches.forEach(r=>{r.competition===this.selectedCompetitionFilter&&(i.add(r.equipe1),i.add(r.equipe2))}),e=this.teams.filter(r=>i.has(r.name))}return e.sort((t,i)=>{let r=this.getMatchesPlayedByTeam(t.name);return this.getMatchesPlayedByTeam(i.name)-r})}shareMatch(e){return E(this,null,function*(){this.isSharingMatch=!0;try{let t=yield this.firestoreService.saveMatch(e),i=`${window.location.origin}?matchId=${t}`,r=`
Match : ${e.equipe1} vs ${e.equipe2}
Score : ${e.score1} - ${e.score2}
Date : ${e.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
Lieu : ${e.lieu||"Non sp\xE9cifi\xE9"}
Comp\xE9tition : ${e.competition||"Non sp\xE9cifi\xE9e"}

Buteurs :
${e.equipe1}:
${this.getGroupedScorers(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

${e.equipe2}:
${this.getGroupedScorers(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}`).join(`
`)}

Duels gagn\xE9s :
${e.equipe1}:
${this.getGroupedDuels(e,1).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

${e.equipe2}:
${this.getGroupedDuels(e,2).map(o=>`- ${o.nom}: ${o.minutes.join(", ")}'`).join(`
`)}

Lien direct vers le match : ${i}
      `.trim();if(navigator.share)yield navigator.share({title:`${e.equipe1} vs ${e.equipe2}`,text:r,url:i});else{let o=document.createElement("textarea");o.value=r,document.body.appendChild(o),o.select();try{document.execCommand("copy"),alert("Informations du match copi\xE9es dans le presse-papiers !")}catch(s){console.error("Erreur lors de la copie:",s)}document.body.removeChild(o)}}catch(t){console.error("Erreur lors de la sauvegarde ou du partage du match:",t),alert("Une erreur est survenue lors de la sauvegarde ou du partage du match.")}finally{this.isSharingMatch=!1}})}loadMatchFromUrl(){return E(this,null,function*(){let e=new URLSearchParams(window.location.search),t=e.get("competitionId"),i=e.get("matchId");if(t)try{let r=yield this.firestoreService.getCompetitionById(t);if(r){let o=yield this.firestoreService.getMatchesByCompetition(t);o.length>0&&(this.matches=o,this.selectedCompetitionFilter=r.name,this.saveData())}}catch(r){console.error("Erreur lors du chargement de la comp\xE9tition:",r)}else if(i)try{let r=yield this.firestoreService.getMatchById(i);if(r){r.heureDebut=new Date(r.heureDebut);let o=this.matches.findIndex(a=>this.isSameMatch(a,r)),s;o===-1?(console.log("Ajout du nouveau match \xE0 la liste"),this.matches.push(r),this.saveData(),s=r):s=this.matches[o],this.selectMatch(s),this.selectedMatch=s,setTimeout(()=>{let a=document.querySelector(`[data-match-id="${s.id}"]`);a&&a.scrollIntoView({behavior:"smooth"})},100)}else console.error("Match non trouv\xE9 dans Firestore")}catch(r){console.error("Erreur lors du chargement du match depuis Firestore:",r)}})}isSameMatch(e,t){return e.id===t.id&&e.equipe1===t.equipe1&&e.equipe2===t.equipe2&&e.score1===t.score1&&e.score2===t.score2}getButeurDisplay(e){let t=`\u26BD ${e.nom} (${e.minute}')`;return e.assist&&(t+=` (Assist: ${e.assist})`),t}saveMatchToFirestore(e){return E(this,null,function*(){try{let t=yield this.firestoreService.saveMatch(e);console.log("Match enregistr\xE9 avec succ\xE8s dans Firestore. ID:",t),window.location.href=`/match/${t}`}catch(t){console.error("Erreur lors de l'enregistrement du match dans Firestore:",t)}})}closeCompetitionFilterModal(){this.showCompetitionFilterModal=!1}openCompetitionFilterModal(){this.selectedSeason=this.getCurrentSeason(),this.showCompetitionFilterModal=!0}onSeasonChanged(e){this.selectedSeason=e,this.selectedCompetitionFilter=e}onCompetitionSelected(e){this.selectedCompetitionFilter=e,this.showCompetitionFilterModal=!1}onCompetitionAdded(e){return E(this,null,function*(){try{console.log("Ajout de la comp\xE9tition:",e);let t={equipe1:"\xC9quipe temporaire",equipe2:"\xC9quipe temporaire",score1:0,score2:0,buteurs:[],heureDebut:new Date,lieu:"",positions:{},showElements:!0,competition:e.name,updatedAt:new Date,duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[]};this.matches.push(t),this.saveData(),this.showCompetitionFilterModal=!1,alert(`Comp\xE9tition "${e.name}" ajout\xE9e avec succ\xE8s !`)}catch(t){console.error("Erreur lors de l'ajout de la comp\xE9tition:",t),alert("Erreur lors de l'ajout de la comp\xE9tition.")}})}onCompetitionUpdated(e){return E(this,null,function*(){try{console.log("Mise \xE0 jour de la comp\xE9tition:",e);let{oldName:t,newCompetition:i}=e;t!==i.name&&(this.matches.forEach(r=>{r.competition===t&&(r.competition=i.name,r.updatedAt=new Date)}),this.selectedCompetitionFilter===t&&(this.selectedCompetitionFilter=i.name),this.saveData(),alert(`Comp\xE9tition "${t}" mise \xE0 jour vers "${i.name}" avec succ\xE8s !`)),this.showCompetitionFilterModal=!1}catch(t){console.error("Erreur lors de la mise \xE0 jour de la comp\xE9tition:",t),alert("Erreur lors de la mise \xE0 jour de la comp\xE9tition.")}})}onCompetitionDeleted(e){return E(this,null,function*(){try{if(console.log("Suppression de la comp\xE9tition:",e),!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la comp\xE9tition "${e}" ?

Cette action supprimera \xE9galement tous les matchs associ\xE9s.`))return;this.matches=this.matches.filter(t=>t.competition!==e),this.selectedCompetitionFilter===e&&(this.selectedCompetitionFilter=""),this.saveData(),this.showCompetitionFilterModal=!1,alert(`Comp\xE9tition "${e}" supprim\xE9e avec succ\xE8s !`)}catch(t){console.error("Erreur lors de la suppression de la comp\xE9tition:",t),alert("Erreur lors de la suppression de la comp\xE9tition.")}})}assignSeasonToCompetition(e,t){return E(this,null,function*(){try{console.log(`Attribution de la saison ${t} \xE0 la comp\xE9tition ${e}`);let i=this.matches.filter(r=>r.competition===e);if(i.length===0){alert(`Aucun match trouv\xE9 pour la comp\xE9tition "${e}"`);return}i.forEach(r=>{let[o]=t.split("-"),s=new Date(parseInt(o),7,1);r.heureDebut=s,r.updatedAt=new Date}),this.saveData(),alert(`Saison "${t}" attribu\xE9e \xE0 la comp\xE9tition "${e}" avec succ\xE8s !`)}catch(i){console.error("Erreur lors de l'attribution de la saison:",i),alert("Une erreur est survenue lors de l'attribution de la saison.")}})}assignSeasonAutomatically(e,t){try{console.log(`Attribution automatique de la saison ${t} \xE0 la comp\xE9tition ${e}`);let i=this.matches.filter(r=>r.competition===e);if(i.length===0)return;i.forEach(r=>{r.updatedAt=new Date}),this.saveData()}catch(i){console.error("Erreur lors de l'attribution automatique de la saison:",i)}}isCompetitionWithoutSeason(e){let t=this.matches.filter(r=>r.competition===e);return t.length===0?!1:!t.some(r=>{if(!r.heureDebut)return!1;try{let o=this.getSeasonFromDate(r.heureDebut);return o&&o!==""}catch{return!1}})}getSuggestedSeasonForCompetition(e){let t=this.matches.filter(o=>o.competition===e);if(t.length===0)return null;let r=t.sort((o,s)=>!o.heureDebut||!s.heureDebut?0:o.heureDebut.getTime()-s.heureDebut.getTime())[0];if(!r.heureDebut)return null;try{return this.getSeasonFromDate(r.heureDebut)}catch{return null}}onAssignSeason(e){this.assignSeasonToCompetition(e.competition,e.season)}getCurrentSeason(){let e=new Date,t=e.getFullYear();return e.getMonth()+1>=8?`${t}-${t+1}`:`${t-1}-${t}`}getSeasonFromDate(e){let t;!e||isNaN(new Date(e).getTime())?t=new Date:t=new Date(e);let i=t.getFullYear();return t.getMonth()+1>=8?`${i}-${i+1}`:`${i-1}-${i}`}getCompetitionsBySeason(e){(!e||e==="")&&(e=this.getCurrentSeason());let t=this.matches.filter(o=>this.getSeasonFromDate(o.heureDebut)===e).map(o=>o.competition).filter(o=>o!==void 0&&o!==""),i=this.matches.filter(o=>{if(!o.competition||o.competition==="")return!1;let a=this.matches.filter(c=>c.competition===o.competition).reduce((c,l)=>l.heureDebut<c.heureDebut?l:c);return o.id===a.id&&this.getSeasonFromDate(o.heureDebut)===e?(this.assignSeasonAutomatically(o.competition,e),!0):!1}).map(o=>o.competition).filter(o=>o!==void 0&&o!==""),r=[...t,...i];return[...new Set(r)]}getAvailableSeasons(){return this.matches.map(t=>this.getSeasonFromDate(t.heureDebut)).filter((t,i,r)=>r.indexOf(t)===i).sort((t,i)=>{let r=parseInt(t.split("-")[0]);return parseInt(i.split("-")[0])-r})}get uniqueCompetitions(){return this.getCompetitionsBySeason(this.selectedSeason)}getCompetitionBadgeColor(e){let t=["badge-pastel-primary","badge-pastel-secondary","badge-pastel-success","badge-pastel-danger","badge-pastel-warning","badge-pastel-info","badge-pastel-dark","badge-pastel-purple","badge-pastel-pink","badge-pastel-teal"];if(n.competitionColors.has(e))return n.competitionColors.get(e);let i=e.split("").reduce((s,a)=>a.charCodeAt(0)+((s<<5)-s),0),r=Math.abs(i)%t.length,o=t[r];return n.competitionColors.set(e,o),o}getScoreColor(e){if(![e.equipe1,e.equipe2].some(s=>s.toLowerCase().includes("flawinne")))return"btn-light";let i=e.equipe1.toLowerCase().includes("flawinne")?e.equipe1:e.equipe2,r=e.equipe1.toLowerCase().includes("flawinne")?e.score1:e.score2,o=e.equipe1.toLowerCase().includes("flawinne")?e.score2:e.score1;return r>o?"btn-score-success":r<o?"btn-score-danger":"btn-score-light"}exportMatches(){this.showExportModal=!0}closeExportModal(){this.showExportModal=!1,this.exportFormats={txt:!1,csv:!1,json:!1}}isExportFormatSelected(){return this.exportFormats.txt||this.exportFormats.csv||this.exportFormats.json}confirmExport(){return E(this,null,function*(){if(this.exportFormats.txt){let e=this.exportToTxt();this.downloadFile(e,"matches.txt")}if(this.exportFormats.csv){let e=this.exportToCsv();this.downloadFile(e,"matches.csv")}if(this.exportFormats.json){let e=this.exportToJson();this.downloadFile(e,"matches.json")}this.closeExportModal()})}exportToTxt(){let e=`FOOTBALL MATCHES EXPORT
`;e+=`========================

`;for(let t of this.getSortedMatches()){if(e+=`Match: ${t.equipe1} vs ${t.equipe2}
`,e+=`Score: ${t.score1} - ${t.score2}
`,e+=`Date: ${t.heureDebut.toLocaleString("fr-FR")}
`,t.lieu&&(e+=`Lieu: ${t.lieu}
`),t.competition&&(e+=`Comp\xE9tition: ${t.competition}
`),t.buteurs.length>0){e+=`
Buteurs:
`;let i=this.getGroupedScorers(t,1),r=this.getGroupedScorers(t,2);if(i.length>0){e+=`${t.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}if(r.length>0){e+=`${t.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'${o.assist?` (Assist: ${o.assist})`:""}
`}}if(t.duelsGagnes&&t.duelsGagnes.length>0){e+=`
Duels gagn\xE9s:
`;let i=this.getGroupedDuels(t,1),r=this.getGroupedDuels(t,2);if(i.length>0){e+=`${t.equipe1}:
`;for(let o of i)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}if(r.length>0){e+=`${t.equipe2}:
`;for(let o of r)e+=`  - ${o.nom}: ${o.minutes.join(", ")}'
`}}e+=`
`+"=".repeat(50)+`

`}return e}exportToCsv(){let e=`\xC9quipe 1,\xC9quipe 2,Score 1,Score 2,Date,Lieu,Comp\xE9tition,Buteurs \xC9quipe 1,Buteurs \xC9quipe 2,Duels \xC9quipe 1,Duels \xC9quipe 2
`;for(let t of this.getSortedMatches()){let i=this.getGroupedScorers(t,1),r=this.getGroupedScorers(t,2),o=this.getGroupedDuels(t,1),s=this.getGroupedDuels(t,2),a=i.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),c=r.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),l=o.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; "),u=s.map(p=>`${p.nom}(${p.minutes.join(",")}')`).join("; ");e+=`"${t.equipe1}","${t.equipe2}",${t.score1},${t.score2},"${t.heureDebut.toLocaleString("fr-FR")}","${t.lieu||""}","${t.competition||""}","${a}","${c}","${l}","${u}"
`}return e}exportToJson(){let e=this.getSortedMatches().map(t=>({equipe1:t.equipe1,equipe2:t.equipe2,score1:t.score1,score2:t.score2,heureDebut:t.heureDebut.toISOString(),lieu:t.lieu,competition:t.competition,buteurs:t.buteurs,duelsGagnes:t.duelsGagnes||[]}));return JSON.stringify(e,null,2)}downloadFile(e,t){let i=new Blob([e],{type:"text/plain"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=t,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(r),document.body.removeChild(o)}importMatches(){let e=document.createElement("input");e.type="file",e.accept=".txt,.csv,.json",e.onchange=t=>{let i=t.target.files?.[0];if(i){let r=new FileReader;r.onload=o=>{let s=o.target?.result,a=i.name.split(".").pop()?.toLowerCase();try{let c=[];switch(a){case"txt":c=this.parseTxtImport(s);break;case"csv":c=this.parseCsvImport(s);break;case"json":c=this.parseJsonImport(s);break;default:throw new Error("Format de fichier non support\xE9")}c.length>0?confirm(`Voulez-vous importer ${c.length} match(s) ?`)&&(this.matches.push(...c),this.saveData(),alert("Import r\xE9ussi !")):alert("Aucun match trouv\xE9 dans le fichier.")}catch(c){console.error("Erreur lors de l'import:",c),alert("Erreur lors de l'import du fichier. V\xE9rifiez le format.")}},r.readAsText(i)}},e.click()}parseTxtImport(e){let t=[],i=e.split("----------------------------------------");for(let r of i){if(!r.trim())continue;let o=r.trim().split(`
`),s={id:this.matches.length+t.length+1,score1:0,score2:0,buteurs:[]};for(let a of o)if(a.startsWith("Match : ")){let c=a.replace("Match : ","").split(" vs ");s.equipe1=c[0].trim(),s.equipe2=c[1].trim()}else if(a.startsWith("Score : ")){let c=a.replace("Score : ","").split(" - ");s.score1=parseInt(c[0]),s.score2=parseInt(c[1])}else if(a.startsWith("Date : "))s.heureDebut=new Date(a.replace("Date : ",""));else if(a.startsWith("Lieu : "))s.lieu=a.replace("Lieu : ","").trim();else if(a.startsWith("Comp\xE9tition : "))s.competition=a.replace("Comp\xE9tition : ","").trim();else if(a.includes(":")){let[c,l]=a.split(":"),u=c.replace("-","").trim(),p=l.match(/\d+/g),v=l.match(/\(Assist: (.*?)\)/);p&&p.forEach(y=>{s.buteurs?.push({nom:u,minute:parseInt(y),equipe:a.includes(s.equipe1)?1:2,assist:v?v[1]:void 0})})}s.equipe1&&s.equipe2&&t.push(s)}return t}parseCsvImport(e){let t=e.trim().split(`
`);if(t.length<2)throw new Error("Fichier CSV vide ou invalide");let i=t[0].split(",").map(o=>o.replace(/"/g,"").trim()),r=[];for(let o=1;o<t.length;o++){let s=t[o],a=this.parseCsvLine(s);if(a.length<8)continue;let c={id:this.matches.length+o,equipe1:a[0]?.replace(/"/g,"")||"",equipe2:a[1]?.replace(/"/g,"")||"",score1:parseInt(a[2])||0,score2:parseInt(a[3])||0,heureDebut:new Date(a[4]||new Date),lieu:a[5]?.replace(/"/g,"")||"",competition:a[6]?.replace(/"/g,"")||"",buteurs:[],duelsGagnes:[],dribbles:[],interceptions:[],frappes:[],fautes:[],contreAttaques:[],tikiTakas:[],updatedAt:new Date};if(a[7]){let l=a[7].replace(/"/g,"");if(l){let u=this.parseScorersString(l,1);c.buteurs.push(...u)}}if(a[8]){let l=a[8].replace(/"/g,"");if(l){let u=this.parseScorersString(l,2);c.buteurs.push(...u)}}if(a[9]){let l=a[9].replace(/"/g,"");if(l){let u=this.parseDuelsString(l,1);c.duelsGagnes.push(...u)}}if(a[10]){let l=a[10].replace(/"/g,"");if(l){let u=this.parseDuelsString(l,2);c.duelsGagnes.push(...u)}}r.push(c)}return r}parseJsonImport(e){try{return JSON.parse(e).map(i=>Y(M({},i),{heureDebut:new Date(i.heureDebut),duelsGagnes:i.duelsGagnes||[]}))}catch{throw new Error("Format JSON invalide")}}parseCsvLine(e){let t=[],i="",r=!1;for(let o=0;o<e.length;o++){let s=e[o];s==='"'?r=!r:s===","&&!r?(t.push(i.trim()),i=""):i+=s}return t.push(i.trim()),t}parseScorersString(e,t){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(u=>parseInt(u.trim())).filter(u=>!isNaN(u));for(let u of l)i.push({nom:a,minute:u,equipe:t})}}return i}parseDuelsString(e,t){let i=[],r=e.split(";").map(o=>o.trim()).filter(o=>o);for(let o of r){let s=o.match(/(.+)\(([^)]+)\)/);if(s){let a=s[1].trim(),l=s[2].split(",").map(u=>parseInt(u.trim())).filter(u=>!isNaN(u));for(let u of l)i.push({nom:a,minute:u,equipe:t})}}return i}getSortedMatches(){return this.filteredMatches.slice().sort((e,t)=>new Date(t.heureDebut).getTime()-new Date(e.heureDebut).getTime())}calculateRanking(e){let t=new Map;return this.matches.filter(r=>r.competition===e).forEach(r=>{[r.equipe1,r.equipe2].forEach(a=>{t.has(a)||t.set(a,{name:a,points:0,matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,goalDifference:0})});let o=t.get(r.equipe1),s=t.get(r.equipe2);o.matches++,s.matches++,o.goalsFor+=r.score1,o.goalsAgainst+=r.score2,s.goalsFor+=r.score2,s.goalsAgainst+=r.score1,r.score1>r.score2?(o.wins++,o.points+=3,s.losses++):r.score1<r.score2?(s.wins++,s.points+=3,o.losses++):(o.draws++,s.draws++,o.points+=1,s.points+=1)}),t.forEach(r=>{r.goalDifference=r.goalsFor-r.goalsAgainst}),Array.from(t.values()).sort((r,o)=>o.points!==r.points?o.points-r.points:o.goalDifference!==r.goalDifference?o.goalDifference-r.goalDifference:o.goalsFor-r.goalsFor)}showRanking(){this.selectedCompetitionFilter?(this.currentRanking=this.calculateRanking(this.selectedCompetitionFilter),this.showRankingModal=!0):alert("Veuillez s\xE9lectionner une comp\xE9tition pour voir le classement")}closeRankingModal(){this.showRankingModal=!1}shareCompetition(){return E(this,null,function*(){if(!this.selectedCompetitionFilter){alert("Veuillez s\xE9lectionner une comp\xE9tition");return}this.isSharingCompetition=!0,this.sharingLogs=["Comp\xE9tition en cours de sauvegarde..."];try{let e=this.matches.filter(r=>r.competition===this.selectedCompetitionFilter);if(e.length===0){alert("Aucun match trouv\xE9 pour cette comp\xE9tition");return}let t=yield this.firestoreService.shareCompetition(this.selectedCompetitionFilter,e,r=>{this.sharingLogs.push(r)}),i=`
          Comp\xE9tition : ${this.selectedCompetitionFilter}
          Nombre de matchs : ${e.length}

          Matchs :
          ${e.map(r=>`
          ${r.equipe1} vs ${r.equipe2}
          Score : ${r.score1} - ${r.score2}
          Date : ${r.heureDebut.toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          Lieu : ${r.lieu||"Non sp\xE9cifi\xE9"}
          ----------------------------------------`).join(`
`)}

          Lien vers la comp\xE9tition : ${window.location.origin}?competitionId=${t}
                `.trim();if(navigator.share)yield navigator.share({title:`Comp\xE9tition ${this.selectedCompetitionFilter}`,text:i,url:`${window.location.origin}?competitionId=${t}`});else{let r=document.createElement("textarea");r.value=i,document.body.appendChild(r),r.select();try{document.execCommand("copy"),alert("Informations de la comp\xE9tition copi\xE9es dans le presse-papiers !")}catch(o){console.error("Erreur lors de la copie:",o)}document.body.removeChild(r)}this.sharingLogs.push("Association des matchs en cours...");for(let r of e){let o=yield this.firestoreService.saveMatch(r);this.sharingLogs.push(`Match ${r.equipe1} vs ${r.equipe2} sauvegard\xE9`),yield this.firestoreService.addMatchToCompetition(t,o)}this.sharingLogs.push("Comp\xE9tition sauvegard\xE9e avec succ\xE8s !")}catch(e){console.error("Erreur lors de la sauvegarde ou du partage de la comp\xE9tition:",e),this.sharingLogs.push("Erreur lors de la sauvegarde de la comp\xE9tition"),alert("Une erreur est survenue lors de la sauvegarde ou du partage de la comp\xE9tition.")}finally{this.isSharingCompetition=!1}})}validateScore(e){let t=Math.max(0,e);return console.log("validateScore() appel\xE9e avec:",e,"retourne:",t),t}openEditPlayersModal(e){let t=this.teams.find(i=>i.name===e);t&&(this.teamToEdit=Y(M({},t),{players:[...t.players]}),this.showEditPlayersModal=!0)}closeEditPlayersModal(){this.showEditPlayersModal=!1,this.teamToEdit=null,this.newPlayerName=""}addPlayer(){this.teamToEdit&&this.newPlayerName.trim()&&(this.teamToEdit.players.push({name:this.newPlayerName.trim(),type:this.newPlayerType}),this.newPlayerName="",this.newPlayerType="milieu",this.saveData())}removePlayer(e){if(this.teamToEdit){let t=this.teamToEdit.players[e];if(!confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le joueur ${t.name} ?`))return;this.teamToEdit.players.splice(e,1),this.saveData()}}savePlayersEdit(){if(this.teamToEdit){let e=this.teams.findIndex(t=>t.name===this.teamToEdit.name);e!==-1&&(this.teams[e]=Y(M({},this.teamToEdit),{players:[...this.teamToEdit.players]}))}this.saveData(),this.closeEditPlayersModal()}getPlayersSortedByGoals(){if(!this.teamToEdit)return[];let e={};for(let t of this.teamToEdit.players){e[t.name]=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===t.name){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&e[t.name]++}}}return[...this.teamToEdit.players].sort((t,i)=>e[i.name]-e[t.name])}getGoalsForPlayer(e){if(!this.teamToEdit)return 0;let t=0;for(let i of this.matches)if(i.equipe1===this.teamToEdit.name||i.equipe2===this.teamToEdit.name){for(let r of i.buteurs)if(r.nom===e){let o=i.equipe1===this.teamToEdit.name&&r.equipe===1,s=i.equipe2===this.teamToEdit.name&&r.equipe===2;(o||s)&&t++}}return t}cyclePlayerType(e){e.type==="attaquant"?e.type="milieu":e.type==="milieu"?e.type="defenseur":e.type="attaquant"}cycleNewPlayerType(){this.newPlayerType==="attaquant"?this.newPlayerType="milieu":this.newPlayerType==="milieu"?this.newPlayerType="defenseur":this.newPlayerType="attaquant"}getPlayerGoalsDetails(e){let t=[];for(let i of this.matches)if(i.equipe1===this.teamToEdit?.name||i.equipe2===this.teamToEdit?.name)for(let r of i.buteurs)r.nom===e.name&&t.push({match:i,minute:r.minute});return t}openPlayerGoalsModal(e){this.selectedPlayerGoalsModal=e}closePlayerGoalsModal(){this.selectedPlayerGoalsModal=null}updateFilteredTeams1(){let e=this.team1Search;if(this.matchForm.patchValue({equipe1:e}),e.length<3){this.filteredTeams1=[];return}this.filteredTeams1=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e.toLowerCase())).filter(t=>t!==this.matchForm.value.equipe2)}updateFilteredTeams2(){let e=this.team2Search;if(this.matchForm.patchValue({equipe2:e}),e.length<3){this.filteredTeams2=[];return}this.filteredTeams2=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e.toLowerCase())).filter(t=>t!==this.matchForm.value.equipe1)}selectTeam1(e){this.matchForm.patchValue({equipe1:e}),this.team1Search=e,this.filteredTeams1=[]}selectTeam2(e){this.matchForm.patchValue({equipe2:e}),this.team2Search=e,this.filteredTeams2=[]}openNewTeamModal(){this.showNewTeamModal=!0,this.newTeamName="",this.newTeamPlayers=[{name:"",type:"milieu"}]}closeNewTeamModal(){this.showNewTeamModal=!1}addNewTeamPlayer(){this.newTeamPlayers.push({name:"",type:"milieu"})}removeNewTeamPlayer(e){this.newTeamPlayers.length>1&&this.newTeamPlayers.splice(e,1)}openNewTeamModalFor(e){this.newTeamTargetField=e,this.showNewTeamModal=!0,this.newTeamName=e==="equipe1"?this.team1Search:this.team2Search,this.newTeamPlayers=[{name:"",type:"milieu"}]}createNewTeam(){if(!this.newTeamName.trim()||this.newTeamPlayers.every(t=>!t.name.trim()))return;let e={id:Date.now(),name:this.newTeamName.trim(),players:this.newTeamPlayers.filter(t=>t.name.trim())};this.teams.push(e),this.saveData(),this.newTeamTargetField==="equipe1"?(this.matchForm.patchValue({equipe1:e.name}),this.team1Search=e.name):this.newTeamTargetField==="equipe2"&&(this.matchForm.patchValue({equipe2:e.name}),this.team2Search=e.name),this.closeNewTeamModal(),this.newTeamTargetField=null}canCreateNewTeam(){return!this.newTeamName.trim()||this.newTeamPlayers.every(e=>!e.name.trim())}updateFilteredCompetitions(){let e=this.competitionSearch.toLowerCase();if(e.length<3){this.filteredCompetitions=[];return}let t=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.filteredCompetitions=t.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectCompetition(e){this.matchForm.patchValue({competition:e}),this.competitionSearch=e,this.filteredCompetitions=[]}startCelebrationTimer(){console.log("startCelebrationTimer() appel\xE9e"),this.celebrationTimer=setInterval(()=>{this.remainingDots--,console.log("Dots restants:",this.remainingDots),this.remainingDots<=0&&(this.showCelebration&&this.celebrationConfig&&(this.showCelebration=!1,this.celebrationConfig.type==="but"?this.saveCelebrationWithAssist():this.celebrationConfig.type==="duel"&&this.saveDuel()),clearInterval(this.celebrationTimer))},1e3)}saveCelebrationWithAssist(){if(console.log("saveCelebrationWithAssist() appel\xE9e"),!this.selectedMatch||!this.celebrationPlayer||!this.celebrationConfig){console.log("Donn\xE9es de c\xE9l\xE9bration manquantes - sauvegarde annul\xE9e");return}if(!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs)||this.selectedMatch.buteurs.length===0){console.error("Propri\xE9t\xE9 buteurs invalide ou vide:",this.selectedMatch.buteurs);return}let e=this.selectedMatch.buteurs[this.selectedMatch.buteurs.length-1];e&&e.nom===this.celebrationPlayer&&(e.assist=this.celebrationAssist,console.log("Assist ajout\xE9 au buteur:",e)),this.saveData(),this.showCelebration=!1,console.log("But avec assist sauvegard\xE9 avec succ\xE8s")}cancelCelebration(){if(console.log("cancelCelebration() appel\xE9e"),!this.selectedMatch||!this.celebrationConfig){console.log("Donn\xE9es de c\xE9l\xE9bration manquantes - annulation annul\xE9e");return}this.celebrationConfig.type==="but"?this.cancelGoal():this.celebrationConfig.type==="duel"&&this.cancelDuel(),this.showCelebration=!1,this.celebrationConfig=null,this.celebrationPlayer="",this.celebrationTeam="",this.celebrationAssist=""}ensureScorersInTeams(e){if(!e||!e.buteurs||e.buteurs.length===0)return;console.log("V\xE9rification des joueurs ayant marqu\xE9 des buts pour le match:",e.id);let t=this.teams.find(r=>r.name===e.equipe1),i=this.teams.find(r=>r.name===e.equipe2);if(!t||!i){console.log("\xC9quipes non trouv\xE9es pour le match");return}e.buteurs.forEach(r=>{if(!r||!r.nom)return;let o=r.equipe===1?t:i;o.players.some(a=>a.name.toLowerCase()===r.nom.toLowerCase())||(console.log(`Ajout du joueur ${r.nom} \xE0 l'\xE9quipe ${o.name}`),o.players.push({name:r.nom,type:"milieu"}))}),this.saveData()}closeScoreModal(){this.selectedMatch&&this.ensureScorersInTeams(this.selectedMatch),this.showScoreForm=!1}onScoreChange(){if(console.log("onScoreChange() appel\xE9e"),!this.selectedMatch){console.log("selectedMatch null - modification annul\xE9e");return}let e=this.selectedMatch.score1,t=this.selectedMatch.score2;console.log("Scores actuels:",{score1:e,score2:t});let i=this.getActiveGoalsCount(1),r=this.getActiveGoalsCount(2);console.log("Buts actifs:",{team1:i,team2:r}),this.handleTeamScoreChange(1,e,i),this.handleTeamScoreChange(2,t,r),console.log("Match apr\xE8s modification:",this.selectedMatch),this.saveData()}handleTeamScoreChange(e,t,i){console.log(`handleTeamScoreChange() pour \xE9quipe ${e}:`,{newScore:t,currentGoals:i});let r=this.selectedMatch.id;if(t>i){let o=this.disabledGoals.filter(c=>{if(!this.selectedMatch||!this.selectedMatch.buteurs||!Array.isArray(this.selectedMatch.buteurs))return console.error("selectedMatch ou buteurs invalide dans handleTeamScoreChange"),!1;if(c.buteurIndex<0||c.buteurIndex>=this.selectedMatch.buteurs.length)return console.error("Index de buteur invalide dans disabledGoals:",c.buteurIndex),!1;let l=this.selectedMatch.buteurs[c.buteurIndex];return l?c.matchId===r&&l.equipe===e:(console.error("Buteur non trouv\xE9 \xE0 l'index:",c.buteurIndex),!1)});console.log(`Buts d\xE9sactiv\xE9s pour \xE9quipe ${e}:`,o.length);let s=Math.min(t-i,o.length);console.log(`R\xE9activation de ${s} buts d\xE9sactiv\xE9s`);for(let c=0;c<s;c++){let l=o[c];this.disabledGoals=this.disabledGoals.filter(u=>!(u.matchId===l.matchId&&u.buteurIndex===l.buteurIndex)),console.log("But r\xE9activ\xE9 \xE0 l'index:",l.buteurIndex)}let a=t-i-s;if(a>0){console.log(`Ajout de ${a} buts "Joueur non list\xE9"`);for(let c=0;c<a;c++){let l={nom:"Joueur non list\xE9",minute:1,equipe:e};this.selectedMatch.buteurs.push(l),console.log("But ajout\xE9:",l)}}}else if(t<i){let o=i-t;console.log(`D\xE9sactivation de ${o} buts de l'\xE9quipe ${e}`),this.selectedMatch.buteurs.map((a,c)=>({buteur:a,index:c})).filter(a=>a.buteur.equipe===e&&!this.isGoalDisabled(a.index)).slice(-o).forEach(a=>{r!==void 0&&(a.buteur.nom==="Joueur non list\xE9"?(this.selectedMatch.buteurs.splice(a.index,1),console.log('"Joueur non list\xE9" supprim\xE9:',a.buteur)):(this.disabledGoals.push({matchId:r,buteurIndex:a.index}),console.log("But d\xE9sactiv\xE9:",a.buteur)))})}}isGoalDisabled(e){return this.selectedMatch?this.disabledGoals.some(t=>t.matchId===this.selectedMatch.id&&t.buteurIndex===e):!1}isGoalDisabledForMatch(e,t){return this.disabledGoals.some(r=>r.matchId===e.id&&r.buteurIndex===t)}maintainScoreConsistency(){if(!this.selectedMatch)return;console.log("maintainScoreConsistency() appel\xE9e");let e=this.getActiveGoalsCount(1),t=this.getActiveGoalsCount(2);console.log("Buts actifs actuels:",{team1:e,team2:t}),console.log("Scores actuels:",{score1:this.selectedMatch.score1,score2:this.selectedMatch.score2}),this.selectedMatch.score1!==e&&(console.log(`Incoh\xE9rence \xE9quipe 1: score=${this.selectedMatch.score1}, buts actifs=${e}`),this.handleTeamScoreChange(1,this.selectedMatch.score1,e)),this.selectedMatch.score2!==t&&(console.log(`Incoh\xE9rence \xE9quipe 2: score=${this.selectedMatch.score2}, buts actifs=${t}`),this.handleTeamScoreChange(2,this.selectedMatch.score2,t))}getActiveGoalsCount(e){return this.selectedMatch?this.selectedMatch.buteurs.filter((t,i)=>t.equipe===e&&!this.isGoalDisabled(i)).length:0}getActiveGoalsCountForMatch(e,t){return e.buteurs.filter((i,r)=>i.equipe===t&&!this.isGoalDisabledForMatch(e,r)).length}showLocalStorageData(){let e=localStorage.getItem("footballMatches");this.localStorageData=e?JSON.parse(e):"Aucune donn\xE9e trouv\xE9e.",this.showingLocalStorageData=!0}hideLocalStorageData(){this.showingLocalStorageData=!1}toggleDeleteButtons(){this.showDeleteButtons=!this.showDeleteButtons}updateEditFilteredTeams1(){let e=this.editTeam1Search.toLowerCase();if(e.length<3){this.editFilteredTeams1=[];return}this.editFilteredTeams1=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e)).filter(t=>t!==this.matchEditForm.value.equipe2)}updateEditFilteredTeams2(){let e=this.editTeam2Search.toLowerCase();if(e.length<3){this.editFilteredTeams2=[];return}this.editFilteredTeams2=this.teams.map(t=>t.name).filter(t=>t.toLowerCase().includes(e)).filter(t=>t!==this.matchEditForm.value.equipe1)}selectEditTeam1(e){this.matchEditForm.patchValue({equipe1:e}),this.editTeam1Search=e,this.editFilteredTeams1=[]}selectEditTeam2(e){this.matchEditForm.patchValue({equipe2:e}),this.editTeam2Search=e,this.editFilteredTeams2=[]}updateEditFilteredCompetitions(){let e=this.editCompetitionSearch.toLowerCase();if(e.length<3){this.editFilteredCompetitions=[];return}let t=Array.from(new Set(this.matches.map(i=>i.competition).filter(i=>!!i)));this.editFilteredCompetitions=t.filter(i=>typeof i=="string"&&i.toLowerCase().includes(e))}selectEditCompetition(e){this.matchEditForm.patchValue({competition:e}),this.editCompetitionSearch=e,this.editFilteredCompetitions=[]}getTeamNames(){return this.teams.map(e=>e.name)}getCompetitionNames(){return Array.from(new Set(this.matches.map(e=>e.competition).filter(e=>!!e)))}updateFilteredButeurNames(){let e=this.buteurForm.get("equipe")?.value,t=(this.buteurNameSearch||"").toLowerCase();if(!e||t.length<3){this.filteredButeurNames=[];return}this.filteredButeurNames=this.getTeamPlayers(e).map(i=>i.name).filter(i=>i.toLowerCase().includes(t))}selectButeurName(e){this.buteurNameSearch=e,this.buteurForm.get("nom")?.setValue(e),this.filteredButeurNames=[]}updateFilteredAssistNames(){let e=this.buteurForm.get("equipe")?.value,t=this.buteurForm.get("nom")?.value,i=(this.assistSearch||"").toLowerCase();if(!e||i.length<3){this.filteredAssistNames=[];return}this.filteredAssistNames=this.getTeamPlayers(e).map(r=>r.name).filter(r=>r!==t).filter(r=>r.toLowerCase().includes(i))}selectAssistName(e){this.assistSearch=e,this.buteurForm.get("assist")?.setValue(e),this.filteredAssistNames=[]}onButeurEquipeChange(){this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[],this.buteurForm.get("nom")?.setValue(""),this.buteurForm.get("assist")?.setValue("")}gererOuvertureFermetureButeurForm(e){e?(this.buteurNameSearch=this.buteurForm.get("nom")?.value||"",this.assistSearch=this.buteurForm.get("assist")?.value||""):(this.buteurNameSearch="",this.filteredButeurNames=[],this.assistSearch="",this.filteredAssistNames=[])}shouldShowCreateButeur(){let e=this.buteurForm.get("equipe")?.value,t=this.buteurNameSearch;if(!e||!t||t.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredButeurNames.length===0&&!i.includes(t)}shouldShowCreateAssist(){let e=this.buteurForm.get("equipe")?.value,t=this.assistSearch;if(!e||!t||t.length<3)return!1;let i=this.getTeamPlayers(e).map(r=>r.name);return this.filteredAssistNames.length===0&&!i.includes(t)}shouldShowCreateTeam1(){let e=this.team1Search;if(!e||e.length<3)return!1;let t=this.getTeamNames();return this.filteredTeams1.length===0&&!t.includes(e)}shouldShowCreateTeam2(){let e=this.team2Search;if(!e||e.length<3)return!1;let t=this.getTeamNames();return this.filteredTeams2.length===0&&!t.includes(e)}shouldShowCreateCompetition(){let e=this.competitionSearch;if(!e||e.length<3)return!1;let t=this.getCompetitionNames();return this.filteredCompetitions.length===0&&!t.includes(e)}deleteTeam(e){let t=this.matches.filter(i=>i.equipe1===e||i.equipe2===e);if(t.length>0){if(!confirm(`L'\xE9quipe "${e}" est impliqu\xE9e dans ${t.length} match(s).
Supprimer aussi ces matchs ?`))return;this.matches=this.matches.filter(r=>r.equipe1!==e&&r.equipe2!==e)}else if(!confirm(`Supprimer d\xE9finitivement l'\xE9quipe "${e}" ?`))return;this.teams=this.teams.filter(i=>i.name!==e),this.saveData(),this.selectedTeamFilter===e&&(this.selectedTeamFilter="")}get filteredSeasonsForModal(){let e=new Set;for(let i of this.matches)if(i.competition&&i.competition.trim()!==""){let r=this.getSeasonFromDate(i.heureDebut);r&&e.add(r)}let t=this.getCurrentSeason();return e.add(t),Array.from(e).sort((i,r)=>{let o=parseInt(i.split("-")[0]);return parseInt(r.split("-")[0])-o})}static{this.\u0275fac=function(t){return new(t||n)(q(hI),q(Os))}}static{this.\u0275cmp=Ai({type:n,selectors:[["app-root"]],standalone:!0,features:[Ni],decls:52,vars:26,consts:[[1,"container"],[1,"text-center"],[1,"display-4","sport-title"],[1,"sport-text"],[1,"domain-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lead","text-muted","mb-0"],[1,"btn","btn-link","ms-2",3,"click"],[1,"fas","fa-question-circle","text-warning"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["class","btn mt-2",3,"ngClass","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","click",4,"ngIf"],["class","btn btn-outline-info mt-2",3,"ngClass","hidden","disabled","click",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[3,"competitions","selectedSeason","availableSeasons","selectedCompetition","isCompetitionWithoutSeason","getSuggestedSeason","showDeleteButtons","seasonChanged","competitionSelected","competitionAdded","competitionUpdated","competitionDeleted","assignSeason","closeModal",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","score-modal",4,"ngIf"],["class","match-edit-modal",4,"ngIf"],["class","goal-celebration","style","margin-top: -100px;",4,"ngIf"],["class","disposition-modal",4,"ngIf"],["class","modal-overlay edit-players-overlay",4,"ngIf"],["class","modal fade show","tabindex","-1","style","display:block; background:rgba(0,0,0,0.5);",4,"ngIf"],["tabindex","-1","role","dialog",1,"modal","fade","action-selection-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"text-muted","mb-3"],[1,"row","g-2"],["class","col-6",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-plus-circle","text-white"],[3,"hidden"],[1,"fas","fa-users","text-white"],[1,"btn","mt-2",3,"click","ngClass"],[1,"fas","fa-trophy","text-white"],[1,"text-white"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden"],[1,"fas","fa-list-ol"],[1,"btn","btn-outline-info","mt-2",3,"click","ngClass","hidden","disabled"],[1,"fas",3,"ngClass"],[1,"modal-overlay"],[1,"team-modal"],[1,"fas","fa-users","me-2"],["type","button","aria-label","Fermer",1,"close-button",3,"click"],["aria-hidden","true"],[1,"team-item","mb-2"],[1,"team-card"],[1,"team-info"],[1,"form-check"],["type","radio","id","allTeams",1,"form-check-input",3,"ngModelChange","value","ngModel"],["for","allTeams",1,"form-check-label"],[1,"badge","bg-secondary"],[4,"ngIf"],[1,"team-actions"],["class","team-item mb-2",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","me-auto",3,"click"],[1,"fas","fa-plus-circle","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],["type","radio",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],["for","'team-' + team.name",1,"form-check-label"],[1,"badge","team-badge"],[1,"text-muted","ms-2"],["title","Modifier l'\xE9quipe",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["class","btn btn-sm btn-outline-danger","title","Supprimer l'\xE9quipe",3,"click",4,"ngIf"],["title","Supprimer l'\xE9quipe",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[3,"seasonChanged","competitionSelected","competitionAdded","competitionUpdated","competitionDeleted","assignSeason","closeModal","competitions","selectedSeason","availableSeasons","selectedCompetition","isCompetitionWithoutSeason","getSuggestedSeason","showDeleteButtons"],[1,"match-modal"],[1,"fas","fa-futbol","me-2"],[3,"ngSubmit","formGroup"],[1,"row",2,"width","100%","margin","0 auto","padding","5px","border-radius","8px","background","linear-gradient(to top, rgba(0,0,0,0.05) 0%, transparent 70%)"],[1,"col-md-6"],[1,"mb-2","position-relative"],["for","equipe1",1,"form-label"],["id","equipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe1"],["class","list-group position-absolute w-100",4,"ngIf"],["class","mt-1",4,"ngIf"],["for","equipe2",1,"form-label"],["id","equipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","team2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","equipe2"],[1,"mb-2"],["for","heureDebut",1,"form-label","text-muted"],["type","datetime-local","step","3600","id","heureDebut","formControlName","heureDebut",1,"form-control","form-control-sm"],["for","lieu",1,"form-label","text-muted"],["type","text","id","lieu","formControlName","lieu","placeholder","Stade, ville...",1,"form-control","form-control-sm"],["for","competition",1,"form-label","text-muted"],["id","competition","type","text","placeholder","Rechercher ou cr\xE9er une comp\xE9tition...","name","competitionSearch","autocomplete","off",1,"form-control","form-control-sm",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","competition"],[1,"d-flex","gap-2","ms-2","mt-2"],["type","submit",1,"btn","btn-primary","px-4"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-auto"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"list-group","position-absolute","w-100"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"mt-1"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"mt-4"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"match-details"],[1,"match-info","text-muted","small","text-center"],["class","mx-2",4,"ngIf"],["title","Afficher/Masquer les d\xE9tails",1,"btn","btn-link","p-0",2,"font-size","1.2em","cursor","pointer",3,"click"],[1,"fas","text-secondary",3,"ngClass"],[1,"match-score"],[1,"team-name",2,"flex","1","text-align","center"],[1,"btn",3,"click","ngClass"],["class","match-scorers",4,"ngIf"],["class","match-actions d-flex gap-2 justify-content-center mt-3",4,"ngIf"],[1,"mx-2"],[1,"badge",3,"ngClass"],[1,"match-scorers"],[1,"team-scorers"],[1,"scorers-column","left"],[1,"scorers-column","right"],[1,"buteur-equipe"],[1,"minutes-list","left-team"],["class","assist-info",4,"ngIf"],[1,"assist-info"],[1,"buteur-equipe","disabled-scorer"],[1,"minutes-list","right-team"],[1,"match-actions","d-flex","gap-2","justify-content-center","mt-3"],["title","Ajouter un but",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-futbol"],["title","Disposition tactique",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],[1,"fas","fa-tshirt"],["title","Modifier le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click"],["title","Partager le match",1,"btn","btn-sm","btn-primary","d-flex","align-items-center",3,"click","disabled"],[1,"ms-1"],[1,"score-modal"],[1,"score-modal-content"],[1,"close-button",2,"position","absolute","right","0","top","O","transform","translateY(-45%)",3,"click"],[2,"text-align","center"],[1,"fas","fa-futbol","me-2",2,"color","#27ae60"],[1,"match-score-display","mb-4"],[1,"score",2,"text-align","center",3,"click","ngClass"],["class","score-modal","tabindex","-1",4,"ngIf"],[1,"row"],[1,"col-sm-6"],[1,"team-title-1"],[1,"player-badges","player-badges-team1"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-primary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"team-title-2"],[1,"player-badges","player-badges-team2"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngFor","ngForOf"],["class","btn btn-outline-secondary btn-sm me-2 mb-2",3,"click",4,"ngIf"],[1,"buteurs-list","mb-3"],[1,"section-header",3,"click"],[1,"toggle-icon"],["class","duels-list mb-3",4,"ngIf"],["class","player-selector",4,"ngIf"],[1,"mt-3"],[1,"score-info",2,"font-size","0.7em","opacity","0.8"],[1,"d-flex","align-items-center","justify-content-center","gap-1"],["type","number","min","0","onkeypress","return event.charCode >= 48",1,"form-control","form-control-sm",2,"width","42px","text-align","center","padding","2px 4px",3,"ngModelChange","input","ngModel"],["tabindex","-1",1,"score-modal"],[1,"modal-dialog"],["type","button",1,"btn-close",3,"click"],[1,"row","g-3"],[1,"col-md-5","position-relative"],[1,"form-label","small"],["type","text","placeholder","Nom du buteur","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","nom"],[1,"col-md-3"],["type","number","placeholder","Minute","formControlName","minute","min","1","max","90",1,"form-control"],[1,"col-md-4"],["formControlName","equipe",1,"form-select",3,"change"],[3,"value"],[1,"col-md-12","position-relative"],["type","text","placeholder","Nom du passeur (optionnel)","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","hidden","formControlName","assist"],[1,"mt-2"],["type","submit",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","btn-sm","me-2","mb-2",3,"click"],["class","fas fa-futbol me-1",4,"ngIf"],["class","fas fa-shield me-1",4,"ngIf"],["class","fas fa-arrows-alt-h me-1",4,"ngIf"],[1,"fas","fa-futbol","me-1"],[1,"fas","fa-shield","me-1"],[1,"fas","fa-arrows-alt-h","me-1"],[1,"btn","btn-outline-secondary","btn-sm","me-2","mb-2",3,"click"],["class","buteur-item",4,"ngFor","ngForOf"],[1,"buteur-item"],[1,"buteur-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2",3,"ngClass"],[1,"flex-grow-1"],[3,"ngClass"],[1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"duels-list","mb-3"],[1,"section-header"],["class","duel-item",4,"ngFor","ngForOf"],[1,"duel-item"],[1,"duel-item","d-flex","justify-content-between","align-items-center","p-2","border","rounded","mb-2"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"player-selector"],[1,"player-selector-content"],[1,"player-list"],["class","btn btn-sm btn-outline-primary mb-1 me-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-secondary","mt-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary","mb-1","me-1",3,"click"],[1,"match-edit-modal"],[1,"close-button",3,"click"],[1,"fas","fa-calendar-days","me-2",2,"color","#27ae60"],[1,"form-group"],["for","equipe1"],[1,"position-relative"],["id","editEquipe1","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam1Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","equipe2"],["id","editEquipe2","type","text","placeholder","Rechercher ou cr\xE9er une \xE9quipe...","name","editTeam2Search","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["for","heureDebut",1,"form-label"],["id","heureDebut","type","datetime-local","formControlName","heureDebut","required","",1,"form-control"],["for","lieu",1,"form-label"],["id","lieu","formControlName","lieu","placeholder","Entrez le lieu du match",1,"form-control"],["for","competition",1,"form-label"],["id","editCompetition","type","text","placeholder","Championnat, tournoi, amical...","name","editCompetitionSearch","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],[1,"button-group","mt-3"],["type","submit",1,"btn","btn-primary",3,"click"],["class","btn btn-danger float-end","style","float: right;",3,"click",4,"ngIf"],[1,"btn","btn-danger","float-end",2,"float","right",3,"click"],[1,"goal-celebration",2,"margin-top","-100px"],[1,"celebration-content",2,"width","300px"],[1,"goal-text",2,"transform","scale(1.5)"],[1,"scorer-text"],[1,"team-text"],[1,"emoji"],[1,"countdown-dots"],["class","dot",3,"fade",4,"ngFor","ngForOf"],["class","assist-section mt-3",4,"ngIf"],["class","button-group mt-2",4,"ngIf"],[1,"dot"],[1,"assist-section","mt-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"button-group","mt-2"],[1,"btn","btn-primary",3,"click"],["class","btn btn-outline-danger ms-2",3,"click",4,"ngIf"],[3,"value","disabled"],[1,"btn","btn-outline-danger","ms-2",3,"click"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"disposition-modal"],[1,"disposition-modal-content"],[1,"fas","fa-tshirt","me-2",2,"color","#27ae60"],[1,"disposition-controls","mb-3"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"encoding-controls","mt-2"],["role","group",1,"btn-group"],["title","Activer/d\xE9sactiver l'encodage des buts",1,"btn","btn-sm",3,"click"],["title","Activer/d\xE9sactiver l'encodage des duels gagn\xE9s",1,"btn","btn-sm",3,"click"],[1,"disposition-content"],[1,"terrain"],[1,"equipe","equipe1"],[1,"formation"],[1,"player-position","attaquant",3,"click"],[1,"player-dot"],[1,"position-name"],["class","separator",4,"ngIf"],[1,"player-name"],[1,"player-position","milieu-gauche",3,"click"],[1,"player-position","milieu-droit",3,"click"],[1,"player-position","defenseur-central",3,"click"],[1,"player-position","gardien",3,"click"],[1,"equipe","equipe2"],[1,"disposition-info"],[1,"text-muted"],[1,"separator"],[1,"player-position","milieu-offensif",3,"click"],[1,"player-position","defenseur-gauche",3,"click"],[1,"player-position","defenseur-droit",3,"click"],[1,"form-check","mb-2"],["type","checkbox","id","txtFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","txtFormat",1,"form-check-label"],["type","checkbox","id","csvFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","csvFormat",1,"form-check-label"],["type","checkbox","id","jsonFormat",1,"form-check-input",3,"ngModelChange","ngModel"],["for","jsonFormat",1,"form-check-label"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-unstyled"],[1,"fas","fa-plus-circle","text-primary"],[1,"fas","fa-futbol","text-primary"],[1,"fas","fa-users","text-primary"],[1,"fas","fa-share-alt","text-primary"],[1,"fas","fa-download","text-primary"],[1,"fas","fa-upload","text-primary"],["type","button","class","btn btn-info me-auto",3,"click",4,"ngIf"],["type","button","class","btn btn-warning me-auto",3,"click",4,"ngIf"],["type","button",1,"btn",3,"click","ngClass"],["class","p-3 bg-light border mt-2","style","max-height: 300px; overflow: auto; font-size: 0.95em;",4,"ngIf"],["type","button",1,"btn","btn-info","me-auto",3,"click"],["type","button",1,"btn","btn-warning","me-auto",3,"click"],[1,"p-3","bg-light","border","mt-2",2,"max-height","300px","overflow","auto","font-size","0.95em"],[1,"ranking-modal"],[1,"fas","fa-list-ol","me-2"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[1,"px-1"],[1,"px-1",3,"ngClass"],[1,"modal-overlay","edit-players-overlay"],[1,"edit-players-modal"],[1,"fas","fa-users-cog","me-2"],[1,"players-list","mb-4"],[1,"fas","fa-list","me-2"],["class","player-item mb-2",4,"ngFor","ngForOf"],[1,"add-player-section"],[1,"add-player-form"],[1,"input-group"],["placeholder","Nom du nouveau joueur...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"type-selector"],["class","fas fa-futbol type-icon type-icon-clickable","title","Changer le type (Attaquant)",3,"click",4,"ngIf"],["class","fas fa-arrows-alt-h type-icon type-icon-clickable","title","Changer le type (Milieu)",3,"click",4,"ngIf"],["class","fas fa-shield type-icon type-icon-clickable","title","Changer le type (D\xE9fenseur)",3,"click",4,"ngIf"],[1,"fas","fa-plus","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-save","me-2"],[1,"player-item","mb-2"],[1,"player-card"],[1,"player-info"],[1,"player-type-icon"],["placeholder","Nom du joueur",1,"form-control","player-name-input",3,"ngModelChange","ngModel"],["class","badge bg-primary ms-2 goals-badge",3,"click",4,"ngIf"],[1,"player-actions"],["class","btn btn-sm btn-outline-danger","title","Supprimer le joueur",3,"click",4,"ngIf"],["title","Changer le type (Attaquant)",1,"fas","fa-futbol","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (Milieu)",1,"fas","fa-arrows-alt-h","type-icon","type-icon-clickable",3,"click"],["title","Changer le type (D\xE9fenseur)",1,"fas","fa-shield","type-icon","type-icon-clickable",3,"click"],[1,"badge","bg-primary","ms-2","goals-badge",3,"click"],["title","Supprimer le joueur",1,"btn","btn-sm","btn-outline-danger",3,"click"],["tabindex","-1",1,"modal","fade","show",2,"display","block","background","rgba(0,0,0,0.5)"],["type","button","aria-label","Fermer",1,"btn-close",3,"click"],["class","mb-2",4,"ngFor","ngForOf"],["class","small text-muted",4,"ngIf"],[1,"fas","fa-calendar-alt","me-1"],[1,"ms-2"],[1,"fas","fa-stopwatch"],[1,"small","text-muted"],[1,"form-label"],["placeholder","Nom de l'\xE9quipe",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"mb-2","fw-bold"],["class","d-flex align-items-center mb-2 gap-2",4,"ngFor","ngForOf"],[1,"btn","btn-link","p-0","mt-1",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"d-flex","align-items-center","mb-2","gap-2"],["placeholder","Nom du joueur",1,"form-control","form-control-sm",2,"min-width","150px","flex","1",3,"ngModelChange","ngModel","ngModelOptions"],[1,"form-select","form-select-sm",2,"max-width","120px",3,"ngModelChange","ngModel","ngModelOptions"],["value","attaquant"],["value","milieu"],["value","defenseur"],["class","btn btn-outline-danger btn-sm",3,"disabled","click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"col-6"],[1,"btn","btn-outline-primary","w-100","mb-2",3,"click"],["class","fas fa-futbol me-2",4,"ngIf"],["class","fas fa-shield-alt me-2",4,"ngIf"],["class","fas fa-running me-2",4,"ngIf"],["class","fas fa-hand-paper me-2",4,"ngIf"],["class","fas fa-bullseye me-2",4,"ngIf"],["class","fas fa-exclamation-triangle me-2",4,"ngIf"],["class","fas fa-bolt me-2",4,"ngIf"],["class","fas fa-exchange-alt me-2",4,"ngIf"],[1,"fas","fa-shield-alt","me-2"],[1,"fas","fa-running","me-2"],[1,"fas","fa-hand-paper","me-2"],[1,"fas","fa-bullseye","me-2"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"fas","fa-bolt","me-2"],[1,"fas","fa-exchange-alt","me-2"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span",3),m(4,"BUUUT"),h(),f(5,"span",4),m(6,".be"),h()(),f(7,"div",5)(8,"p",6),m(9,"Immortalisez vos matchs!"),h(),f(10,"button",7),I("click",function(){return i.showHelpModal=!0}),b(11,"i",8),h()()(),f(12,"div",9),T(13,t4,4,1,"button",10)(14,n4,4,1,"button",10)(15,i4,4,2,"button",11)(16,r4,3,6,"button",12)(17,o4,3,8,"button",13)(18,l4,28,4,"div",14)(19,u4,1,7,"app-competition-filter-modal",15),h(),T(20,w4,61,16,"div",14)(21,i$,4,1,"div",16)(22,N$,44,17,"div",17)(23,G$,44,17,"div",18)(24,Z$,14,11,"div",19)(25,Eq,101,53,"div",20)(26,Iq,25,4,"div",17)(27,Sq,50,6,"div",17)(28,Mq,40,2,"div",14),h(),b(29,"router-outlet"),T(30,Uq,36,6,"div",21)(31,Gq,8,2,"div",22)(32,Wq,22,5,"div",22),f(33,"div",23)(34,"div",24)(35,"div",25)(36,"div",26)(37,"h5",27),m(38,"S\xE9lectionner une action"),h(),f(39,"button",28),I("click",function(){return i.cancelActionSelection()}),h()(),f(40,"div",29)(41,"p",30)(42,"strong"),m(43),h(),m(44),h(),f(45,"p",31),m(46,"Choisissez l'action \xE0 enregistrer :"),h(),f(47,"div",32),T(48,n9,12,13,"div",33),h()(),f(49,"div",34)(50,"button",35),I("click",function(){return i.cancelActionSelection()}),m(51,"Annuler"),h()()()()()),t&2&&(d(13),g("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),d(),g("ngIf",!i.showMatchForm&&!i.showTeamFilterModal&&!i.showCompetitionFilterModal),d(),g("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm),d(),g("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm&&i.selectedCompetitionFilter&&!i.selectedCompetitionFilter.includes("-")),d(),g("ngIf",!i.showCompetitionFilterModal&&!i.showTeamFilterModal&&!i.showMatchForm&&!i.selectedCompetitionFilter.includes("-")),d(),g("ngIf",i.showTeamFilterModal),d(),g("ngIf",i.showCompetitionFilterModal),d(),g("ngIf",i.showMatchForm),d(),g("ngIf",i.filteredMatches.length>0),d(),g("ngIf",i.selectedMatch&&i.showScoreForm),d(),g("ngIf",i.selectedMatch&&i.showMatchEditForm),d(),g("ngIf",i.showCelebration&&i.celebrationConfig),d(),g("ngIf",i.showDispositionModal&&i.selectedMatch),d(),g("ngIf",i.showExportModal),d(),g("ngIf",i.showHelpModal),d(),g("ngIf",i.showRankingModal),d(2),g("ngIf",i.showEditPlayersModal&&i.teamToEdit&&i.teamToEdit.players),d(),g("ngIf",i.selectedPlayerGoalsModal),d(),g("ngIf",i.showNewTeamModal),d(),on("display",i.showActionSelectionModal?"block":"none"),Ie("show",i.showActionSelectionModal),d(10),te(i.pendingActionPlayer),d(),O(" - ",i.pendingActionTeam===1?i.selectedMatch==null?null:i.selectedMatch.equipe1:i.selectedMatch==null?null:i.selectedMatch.equipe2," "),d(4),g("ngForOf",i.availableActions))},dependencies:[Ir,oE,Lo,jo,cE,aE,Eu,fI,sI,Gu,zu,Go,Km,qm,Ho,Qm,$u,XE,tg,eg,Xm,Ym,Jm,Hu,fa,sT,Fg,cT],styles:['[_nghost-%COMP%]{background:linear-gradient(#fff,#0000001c),url(https://images.unsplash.com/photo-1556056504-5c7696c4c28d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80) no-repeat center center fixed;min-height:100vh;display:block}.container[_ngcontent-%COMP%]{max-width:1000px;background-color:#fffffff2;border-radius:15px;padding:.5rem;box-shadow:0 0 20px #0000004d;margin-top:0}h1[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;font-weight:700;margin-bottom:2rem;text-transform:uppercase;border-bottom:3px solid #3498db;padding-bottom:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;text-transform:uppercase;font-weight:700;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:scale(1.1)}.match-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:.5rem;margin-bottom:1rem;transition:all .3s ease}.match-details[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #4b29b967}.match-score[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5rem;display:flex;justify-content:center;align-items:center;gap:.5rem;white-space:nowrap;overflow-x:auto;margin-bottom:0rem}.team-name[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:#2c3e50;text-transform:uppercase;font-size:.8em;white-space:normal;overflow:visible;text-overflow:clip}.score[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:.3rem .5rem;border-radius:5px;font-weight:700}.score-modal[_ngcontent-%COMP%]{position:fixed;top:10px;left:0;width:100%;height:calc(100% - 10px);display:flex;justify-content:center;align-items:flex-start;z-index:1070;padding:0;overflow-y:auto}.score-modal-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1000px;margin:1.75rem auto;background:#fff;border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026;padding:.2rem;outline:0;overflow-y:auto;animation:_ngcontent-%COMP%_fadeIn .3s}.modal-body[_ngcontent-%COMP%]{overflow-y:auto}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40}.buteurs-list[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.1rem}.match-duels[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:.5rem;margin-top:.5rem}.team-duels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.duels-column[_ngcontent-%COMP%]{flex:1;max-width:50%}.duels-column.left[_ngcontent-%COMP%]{text-align:left}.duels-column.right[_ngcontent-%COMP%]{text-align:right}.duel-equipe[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.duel-equipe[_ngcontent-%COMP%]   .minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.duel-equipe[_ngcontent-%COMP%]   .minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.list-group[_ngcontent-%COMP%]{padding:0;margin:0}.list-group-item[_ngcontent-%COMP%]{border:none;margin-bottom:0rem;padding:.5rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4b29b900}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.match-details[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@media (max-width: 300px){.container[_ngcontent-%COMP%]{margin:.5rem;padding:1rem;width:95%}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.match-score[_ngcontent-%COMP%]{font-size:1em;flex-direction:column;align-items:center}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.2rem .4rem}.team-scorers[_ngcontent-%COMP%]{gap:1rem}.scorers-column[_ngcontent-%COMP%]{padding:0 .5rem;font-size:.85em}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:3px 8px;margin:.2rem}.list-group-item[_ngcontent-%COMP%]{padding:.3rem}.list-group-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.list-group-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:.5rem}.row.g-3[_ngcontent-%COMP%]{gap:.5rem!important}.col-md-5[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{width:100%;padding:0}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.4em;flex-direction:column;gap:.5rem}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin:.5rem 0}.team-title-1[_ngcontent-%COMP%], .team-title-2[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.player-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3rem}}@media (max-width: 300px){h1[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{padding:.5rem}.match-details[_ngcontent-%COMP%]{padding:0}.team-name[_ngcontent-%COMP%]{font-size:.9em}.score[_ngcontent-%COMP%]{padding:.3rem .8rem}.match-info[_ngcontent-%COMP%]{font-size:.75em}}.player-badges[_ngcontent-%COMP%]{padding:10px;background-color:#f8f9fa80;border-radius:8px;margin-bottom:1rem}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;font-size:.9em;padding:4px 12px;transition:all .2s ease}.player-badges[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 5px #0000001a}.match-score-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:10px;padding:1rem;text-align:center;border:solid #3498db;width:99%;max-width:100%;margin:0 auto}.match-score-display[_ngcontent-%COMP%]   .match-score[_ngcontent-%COMP%]{font-size:1.2em;margin:0}.match-score-display[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.2em;margin:0 0rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;margin:.2rem 0}.minutes-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin-left:.5rem;font-size:.9em}.minutes-list.left-team[_ngcontent-%COMP%]{justify-content:flex-end}.minutes-list.right-team[_ngcontent-%COMP%]{justify-content:flex-start}.minutes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ZZZ[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.player-badges-team1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3498db;color:#fff}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60}.player-badges-team2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}.buteur-team1[_ngcontent-%COMP%]{color:#3498db}.buteur-team2[_ngcontent-%COMP%]{color:#27ae60}.team-title-1[_ngcontent-%COMP%]{color:#3498db;border-bottom:2px solid #3498db;padding-bottom:.5rem}.team-title-2[_ngcontent-%COMP%]{color:#27ae60;border-bottom:2px solid #27ae60;padding-bottom:.5rem}.match-scorers[_ngcontent-%COMP%]{margin:1rem auto;padding:.5rem;background-color:#f8f9fa80;border-radius:8px;width:90%;max-width:900px}.team-scorers[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;position:relative}.team-scorers[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:1px;background-color:#0000001a}.scorers-column[_ngcontent-%COMP%]{padding:0 1rem}.scorers-column.left[_ngcontent-%COMP%]{text-align:right}.scorers-column.right[_ngcontent-%COMP%]{text-align:left}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.2rem 0;font-size:.9em;white-space:nowrap}.text-end[_ngcontent-%COMP%]{text-align:right}.match-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;flex-wrap:nowrap;overflow-x:auto}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545}@media (max-width: 300px){.match-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.match-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.2rem}.buteur-equipe1[_ngcontent-%COMP%], .buteur-equipe2[_ngcontent-%COMP%], .duel-equipe[_ngcontent-%COMP%]{font-size:.8em}}.goal-celebration[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#191137e6,#40327bcc);padding:2rem;border-radius:15px;text-align:center;color:#fff;z-index:2000;animation:_ngcontent-%COMP%_celebrationPop .5s ease-out}.celebration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.goal-text[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_pulse .5s infinite}.scorer-text[_ngcontent-%COMP%]{font-size:2em;color:#fff}.team-text[_ngcontent-%COMP%]{font-size:1.5em;color:#3498db}.emoji[_ngcontent-%COMP%]{font-size:2em;animation:_ngcontent-%COMP%_spin 1s infinite}@keyframes _ngcontent-%COMP%_celebrationPop{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 300px){.goal-celebration[_ngcontent-%COMP%]{width:90%;padding:1rem}.goal-text[_ngcontent-%COMP%]{font-size:2em}.scorer-text[_ngcontent-%COMP%]{font-size:1.5em}.team-text[_ngcontent-%COMP%]{font-size:1.2em}}.scorers-column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.4rem 0;white-space:normal}@media (max-width: 300px){.minutes-list[_ngcontent-%COMP%]{font-size:.8em}}.close-button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;background:none;border:none;font-size:2em;color:#666;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.section-header[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:8px;transition:background-color .3s ease;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#0000000d}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem}.toggle-icon[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease;font-size:.8em;width:20px}@media (max-width: 300px){.section-header[_ngcontent-%COMP%]{padding:.8rem .5rem}}.disposition-controls[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.encoding-controls[_ngcontent-%COMP%]{margin-top:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.encoding-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;font-size:.8rem;padding:.375rem .75rem}.disposition-content[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:0;margin-top:1rem}.terrain[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf50,#388e3c);border-radius:8px;padding:0;margin:1rem 0;position:relative;min-height:200px;display:flex;flex-direction:column;gap:0rem}.formation[_ngcontent-%COMP%]{position:relative;height:300px}.player-position[_ngcontent-%COMP%]{position:absolute;min-width:30px;height:30px;width:auto}.player-dot[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;min-width:40px;height:100%;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:5px;font-size:.8em;font-weight:700;box-shadow:0 2px 5px #0003;cursor:pointer;transition:all .3s ease;white-space:nowrap}.player-dot[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 0 10px #ffffff80}.player-dot.selected[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-name[_ngcontent-%COMP%]{font-weight:700;color:#666}.player-name[_ngcontent-%COMP%]{font-size:.8em;color:#333;text-align:center}.separator[_ngcontent-%COMP%]{color:#666;margin:0 2px}.equipe1[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe1[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe1[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe1[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe1[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .attaquant[_ngcontent-%COMP%]{bottom:10%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-offensif[_ngcontent-%COMP%]{bottom:30%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .milieu-gauche[_ngcontent-%COMP%]{bottom:40%;right:10%}.equipe2[_ngcontent-%COMP%]   .milieu-droit[_ngcontent-%COMP%]{bottom:40%;left:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-central[_ngcontent-%COMP%]{bottom:60%;left:50%;transform:translate(-50%)}.equipe2[_ngcontent-%COMP%]   .defenseur-gauche[_ngcontent-%COMP%]{bottom:70%;right:10%}.equipe2[_ngcontent-%COMP%]   .defenseur-droit[_ngcontent-%COMP%]{bottom:70%;left:10%}.equipe2[_ngcontent-%COMP%]   .gardien[_ngcontent-%COMP%]{top:1%;left:50%;transform:translate(-50%)}.disposition-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-style:italic}@media (max-width: 300px){.terrain[_ngcontent-%COMP%]{min-height:600px}.formation[_ngcontent-%COMP%]{height:200px}.player-position[_ngcontent-%COMP%]{min-width:30px;height:30px}.player-dot[_ngcontent-%COMP%]{min-width:30px;font-size:.7em;padding:0 8px}}.equipe[_ngcontent-%COMP%]{flex:1;position:relative}.equipe1[_ngcontent-%COMP%]{border-bottom:2px dashed rgba(255,255,255,.3)}.equipe2[_ngcontent-%COMP%]{transform:rotate(180deg)}.equipe2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{transform:rotate(180deg);margin-bottom:1rem}.equipe2[_ngcontent-%COMP%]   .player-dot[_ngcontent-%COMP%]{transform:rotate(180deg)}.player-selector[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.player-selector-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;max-width:90%;width:300px;text-align:center}.player-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:1rem}@media (max-width: 300px){.player-name[_ngcontent-%COMP%]{font-size:.6em;bottom:-15px}}.disposition-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:0}.disposition-modal-content[_ngcontent-%COMP%]{width:95%;max-width:1200px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:15px;padding:.2rem;box-shadow:0 0 30px #0003;margin:auto;overflow-y:auto;max-height:90vh;position:relative}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:.1rem}.toggle-section[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:1rem;font-weight:700}.toggle-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2em}body[_ngcontent-%COMP%]{margin:0;padding:0}.match-edit-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:.5rem;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:1000px;width:98%;overflow-y:auto}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#333}.countdown-dots[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.dot[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:20px;transition:opacity .3s ease}.dot.fade[_ngcontent-%COMP%]{opacity:.2}.assist-info[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-left:5px;font-style:italic}.sport-title[_ngcontent-%COMP%]{font-family:Arial Black,sans-serif;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.sport-text[_ngcontent-%COMP%]{color:#3498db;font-weight:900;font-size:3.5rem;display:inline-block;transform:skew(-5deg);text-shadow:3px 3px 0 #fff,5px 5px 0 rgba(0,0,0,.1)}.domain-text[_ngcontent-%COMP%]{color:#343a40;font-size:2.5rem;font-weight:700;display:inline-block;transform:skew(-5deg)}@media (max-width: 768px){.sport-text[_ngcontent-%COMP%]{font-size:2.5rem}.domain-text[_ngcontent-%COMP%]{font-size:1.8rem}}.share-icon[_ngcontent-%COMP%]{color:#3498db;font-size:1.2em;margin-right:.5rem;transition:transform .3s ease;display:inline-block;transform:scaleX(-1)}.share-icon[_ngcontent-%COMP%]:hover{transform:scaleX(-1) scale(1.2);color:#2980b9}.badge-pastel-primary[_ngcontent-%COMP%]{background-color:#b3d1ff;color:#2c3e50}.badge-pastel-secondary[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#2c3e50}.badge-pastel-success[_ngcontent-%COMP%]{background-color:#b3ffb3;color:#2c3e50}.badge-pastel-danger[_ngcontent-%COMP%]{background-color:#ffb3b3;color:#2c3e50}.badge-pastel-warning[_ngcontent-%COMP%]{background-color:#ffe6b3;color:#2c3e50}.badge-pastel-info[_ngcontent-%COMP%]{background-color:#b3e6ff;color:#2c3e50}.badge-pastel-dark[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#2c3e50}.badge-pastel-purple[_ngcontent-%COMP%]{background-color:#e6b3ff;color:#2c3e50}.badge-pastel-pink[_ngcontent-%COMP%]{background-color:#ffb3e6;color:#2c3e50}.badge-pastel-teal[_ngcontent-%COMP%]{background-color:#b3ffe6;color:#2c3e50}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{font-size:1.3em;margin:0 .2em;cursor:pointer;color:#bbb;transition:color .2s,background .2s,border .2s;border-radius:50%;padding:.2em .3em}.type-icons[_ngcontent-%COMP%]   .type-icon.active-type[_ngcontent-%COMP%]{color:#fff;background:#3498db;border:2px solid #3498db}.type-icons[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]:hover{color:#3498db;background:#eaf6ff}.type-icon.type-icon-clickable[_ngcontent-%COMP%]{font-size:1em;color:#fff;background:#3498db;border:2px solid #3498db;border-radius:25%;padding:.25em .35em;margin-right:.5em;box-shadow:0 2px 8px #3498db40;cursor:pointer;transition:transform .1s,box-shadow .2s,background .2s;outline:2px solid #fff;outline-offset:2px}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:hover{background:#217dbb;color:#fff;box-shadow:0 4px 16px #3498db59;transform:scale(1.12) rotate(-8deg)}.type-icon.type-icon-clickable[_ngcontent-%COMP%]:active{background:#176093;transform:scale(.95) rotate(4deg);box-shadow:0 2px 8px #3498db26}.list-group.position-absolute[_ngcontent-%COMP%]{z-index:1050;background:#fff;border:1px solid #ddd;box-shadow:0 2px 8px #00000014;max-height:220px;overflow-y:auto}.disabled-goal[_ngcontent-%COMP%]{opacity:.5;background-color:#f8f9fa;border-color:#dee2e6!important}.disabled-goal[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-decoration:line-through;color:#6c757d!important}.disabled-goal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{opacity:.8}.disabled-scorer[_ngcontent-%COMP%]{opacity:.5;text-decoration:line-through;color:#6c757d!important}.disabled-scorer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through}.score-modal[_ngcontent-%COMP%], .match-edit-modal[_ngcontent-%COMP%], .disposition-modal[_ngcontent-%COMP%], .modal.fade.show[_ngcontent-%COMP%], .modal[style*="display:block"][_ngcontent-%COMP%]{background:#00000080!important}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1040;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.edit-players-overlay[_ngcontent-%COMP%]{z-index:1055!important}.team-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:600px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.match-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:800px;width:90%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.ranking-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:1000px;width:95%;max-height:90vh;overflow:hidden;z-index:1050;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.team-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.team-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.team-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .match-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .ranking-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.team-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.team-item[_ngcontent-%COMP%]{transition:all .3s ease}.team-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.team-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.team-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0}.team-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.team-badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem;border-radius:20px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}@media (max-width: 768px){.team-modal[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.team-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.team-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;text-align:left;min-height:55px}.team-actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-end;gap:.5rem;flex-shrink:0}.team-info[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.team-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}}@media (max-width: 480px){.team-card[_ngcontent-%COMP%]{flex-direction:row;text-align:left;min-height:50px;padding:.75rem}.team-actions[_ngcontent-%COMP%]{justify-content:flex-end;width:auto;gap:.4rem}.team-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.team-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.team-modal[_ngcontent-%COMP%], .match-modal[_ngcontent-%COMP%], .ranking-modal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.edit-players-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;max-width:700px;width:90%;max-height:90vh;overflow:hidden;z-index:1060;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.edit-players-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-bottom:none}.edit-players-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.edit-players-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.edit-players-modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#fff3}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:70vh;overflow-y:auto}.edit-players-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e9ecef;background-color:#f8f9fa}.players-list[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .add-player-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:.5rem}.player-item[_ngcontent-%COMP%]{transition:all .3s ease}.player-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:10px;border:1px solid #e9ecef;transition:all .3s ease;flex-wrap:nowrap;gap:1rem;min-height:60px}.player-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translate(5px)}.player-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;min-width:0;gap:.75rem}.player-type-icon[_ngcontent-%COMP%]{flex-shrink:0}.player-name-input[_ngcontent-%COMP%]{flex:1;min-width:0;max-width:200px}.goals-badge[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer;transition:all .3s ease}.goals-badge[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.player-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:1;transition:all .3s ease;flex-shrink:0;align-items:center}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .3s ease}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.add-player-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:1.5rem;border-radius:10px;border:1px solid #dee2e6}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;min-width:0}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1;min-width:0;border:2px solid #e9ecef;border-radius:8px;padding:.75rem;transition:border-color .3s ease,box-shadow .3s ease;width:auto}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.type-selector[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;border-radius:8px;transition:all .3s ease;flex-shrink:0}.add-player-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.action-selection-modal[_ngcontent-%COMP%]{z-index:9999!important}.action-selection-modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{z-index:10000!important}.action-selection-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{z-index:10001!important}@media (max-width: 768px){.edit-players-modal[_ngcontent-%COMP%]{width:95%;max-width:none;max-height:95vh}.edit-players-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.player-card[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:.75rem;min-height:55px}.player-actions[_ngcontent-%COMP%]{gap:.5rem}.player-name-input[_ngcontent-%COMP%]{max-width:150px}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:200px}}@media (max-width: 480px){.player-card[_ngcontent-%COMP%]{min-height:50px;padding:.75rem}.player-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:.4rem}.player-name-input[_ngcontent-%COMP%]{max-width:120px}.add-player-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.add-player-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:100%}.type-selector[_ngcontent-%COMP%]{justify-content:center}}.btn-score-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 14px #10b98163;transition:all .3s ease}.btn-score-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-2px);box-shadow:0 6px 20px #10b98180}.btn-score-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 14px #ef444463;transition:all .3s ease}.btn-score-danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c);transform:translateY(-2px);box-shadow:0 6px 20px #ef444480}.btn-score-light[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border:2px solid #d1d5db;box-shadow:0 2px 8px #0000001a;transition:all .3s ease}.btn-score-light[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e5e7eb,#d1d5db);transform:translateY(-1px);box-shadow:0 4px 12px #00000026}']})}};var hS=(()=>{class n{constructor(t){this.http=t,this.apiUrl="http://localhost:3000/api/matches"}createMatch(t){return this.http.post(this.apiUrl,t)}getAllMatches(){return this.http.get(this.apiUrl)}getMatchById(t){return this.http.get(`${this.apiUrl}/${t}`)}updateMatch(t,i){return this.http.put(`${this.apiUrl}/${t}`,i)}deleteMatch(t){return this.http.delete(`${this.apiUrl}/${t}`)}static{this.\u0275fac=function(i){return new(i||n)(B(Pm))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function i9(n,e){if(n&1&&(f(0,"span"),m(1),h()),n&2){let t=_().$implicit;d(),O("(Assist: ",t.assist,")")}}function r9(n,e){if(n&1&&(f(0,"div",5)(1,"p"),m(2),T(3,i9,2,1,"span",6),h()()),n&2){let t=e.$implicit;d(2),Ft(" ",t.nom," (",t.minute,"') "),d(),g("ngIf",t.assist)}}function o9(n,e){if(n&1&&(f(0,"div",1)(1,"h2"),m(2),h(),f(3,"div",2)(4,"p"),m(5),wr(6,"date"),h(),f(7,"p"),m(8),h(),f(9,"p"),m(10),h()(),f(11,"div",3)(12,"h3"),m(13,"Buteurs"),h(),T(14,r9,4,3,"div",4),h()()),n&2){let t=_();d(2),Ft("",t.match.equipe1," vs ",t.match.equipe2,""),d(3),O("Date: ",Xs(6,7,t.match.heureDebut,"medium"),""),d(3),O("Lieu: ",t.match.lieu,""),d(2),Ft("Score: ",t.match.score1," - ",t.match.score2,""),d(4),g("ngForOf",t.match.buteurs)}}var fS=(()=>{class n{constructor(t,i){this.route=t,this.firestoreService=i,this.match=null}ngOnInit(){this.route.params.subscribe(t=>{let i=t.id;i&&this.loadMatch(i)})}loadMatch(t){return E(this,null,function*(){try{this.match=yield this.firestoreService.getMatchById(t)}catch(i){console.error("Erreur lors du chargement du match:",i)}})}static{this.\u0275fac=function(i){return new(i||n)(q(di),q(Os))}}static{this.\u0275cmp=Ai({type:n,selectors:[["app-match-detail"]],standalone:!0,features:[Ni],decls:1,vars:1,consts:[["class","match-detail",4,"ngIf"],[1,"match-detail"],[1,"match-info"],[1,"buteurs"],["class","buteur",4,"ngFor","ngForOf"],[1,"buteur"],[4,"ngIf"]],template:function(i,r){i&1&&T(0,o9,15,10,"div",0),i&2&&g("ngIf",r.match)},dependencies:[Ir,Lo,jo,Eu],styles:[".match-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.match-info[_ngcontent-%COMP%]{margin:20px 0}.buteurs[_ngcontent-%COMP%]{margin-top:20px}.buteur[_ngcontent-%COMP%]{margin:10px 0}"]})}}return n})();var pS=[{path:"match/:id",component:fS}];var mS={production:!1,firebaseConfig:{apiKey:"AIzaSyBkMSKC-AOv62_Vv-rJBv8ozZOqKYDB2hI",authDomain:"footscore-72b42.firebaseapp.com",projectId:"footscore-72b42",storageBucket:"footscore-72b42.firebasestorage.app",messagingSenderId:"35355776619",appId:"1:35355776619:web:c4a54d3a835927d66a432e",measurementId:"G-0XMKN87NX7"}};var gS={providers:[tT(pS),Os,Pp(OT(()=>kT(mS.firebaseConfig)),sS(()=>aS()))]};DE(Jh,{providers:[...gS.providers,vE(),hS]}).catch(n=>console.error(n));
