<div class="score-modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Éditer les joueurs de {{ teamToEdit?.name }}</h5>
        <button type="button" class="close-button" (click)="close.emit()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <ul class="list-group mb-3">
          <li *ngFor="let player of teamToEdit?.players; let i = index" class="list-group-item d-flex flex-column align-items-start">
            <div class="d-flex w-100 align-items-center justify-content-between">
              <span class="d-flex align-items-center">
                <i *ngIf="player.type === 'attaquant'" class="fas fa-bolt me-2 type-icon type-icon-clickable" (click)="cyclePlayerType.emit(player)" title="Changer le type (Attaquant)"></i>
                <i *ngIf="player.type === 'milieu'" class="fas fa-arrows-alt-h me-2 type-icon type-icon-clickable" (click)="cyclePlayerType.emit(player)" title="Changer le type (Milieu)"></i>
                <i *ngIf="player.type === 'defenseur'" class="fas fa-shield-alt me-2 type-icon type-icon-clickable" (click)="cyclePlayerType.emit(player)" title="Changer le type (Défenseur)"></i>
                <input class="form-control form-control-sm me-2" style="max-width: 140px; display: inline-block;" [(ngModel)]="player.name" />
                <span class="badge bg-primary ms-2" style="cursor:pointer;" *ngIf="getGoalsForPlayer(player.name) > 0" (click)="openPlayerGoalsModal.emit(player)">
                  {{ getGoalsForPlayer(player.name) }} ⚽
                </span>
              </span>
              <button class="btn btn-danger btn-sm" (click)="removePlayer.emit(i)"><i class="fas fa-trash"></i></button>
            </div>
          </li>
        </ul>
        <div class="input-group">
          <input [(ngModel)]="newPlayerName" class="form-control" placeholder="Ajouter un joueur..." (keyup.enter)="addPlayer.emit()" />
          <i *ngIf="newPlayerType === 'attaquant'" class="fas fa-bolt type-icon type-icon-clickable" (click)="cycleNewPlayerType.emit()" title="Changer le type (Attaquant)"></i>
          <i *ngIf="newPlayerType === 'milieu'" class="fas fa-arrows-alt-h type-icon type-icon-clickable" (click)="cycleNewPlayerType.emit()" title="Changer le type (Milieu)"></i>
          <i *ngIf="newPlayerType === 'defenseur'" class="fas fa-shield-alt type-icon type-icon-clickable" (click)="cycleNewPlayerType.emit()" title="Changer le type (Défenseur)"></i>
          <button class="btn btn-success" (click)="addPlayer.emit()">Ajouter</button>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="close.emit()">Fermer</button>
        <button type="button" class="btn btn-primary" (click)="savePlayersEdit.emit()">Enregistrer</button>
      </div>
    </div>
  </div>
</div>
